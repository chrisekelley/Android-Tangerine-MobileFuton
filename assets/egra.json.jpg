{"version": "0.1", "file": "`couchapp push dev`\n\nwatch( '.html$') {|match_data|\n  `couchapp push dev` unless match_data[0] =~ /\\.sw.$/\n}\nwatch( '.*testData/.*$') {|match_data|\n  `couchapp push dev` unless match_data[0] =~ /\\.sw.$/\n}\nwatch( '.*\\.json$') {|match_data|\n  `couchapp push dev` unless match_data[0] =~ /\\.sw.$/\n}\nwatch( '(.*\\.coffee$)' ) {|match_data|\n  puts match_data[0]\n  result = `coffee --bare --compile #{match_data[0]} 2>&1`\n  error = false\n  result.each_line{|line|\n    if line.match(/In /)  then\n      error = true\n      puts line\n    end\n  }\n  if not error\n    puts \"Success!\"\n    `make combined`\n    `couchapp push dev`\n  end\n}", "_attachments": {"models/timer.js": {"data": "dmFyIFRpbWVyOwp2YXIgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTsKaWYgKCQuYXNzZXNzbWVudCA9PT0gdm9pZCAwKSB7CiAgdGhyb3cgIk5vIGFzc2Vzc21lbnQgbG9hZGVkIjsKfQokKCJkaXYudGltZXIgYnV0dG9uIikubGl2ZSgnbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnREYXRhKSB7CiAgdmFyIGJ1dHRvblByZXNzZWQ7CiAgYnV0dG9uUHJlc3NlZCA9IGV2ZW50RGF0YS50YXJnZXQuaW5uZXJIVE1MOwogIHJldHVybiAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudGltZXJbYnV0dG9uUHJlc3NlZF0oKTsKfSk7ClRpbWVyID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIFRpbWVyKG9wdGlvbnMpIHsKICAgIHRoaXMucGFnZSA9IG9wdGlvbnMucGFnZTsKICAgIHRoaXMuZWxlbWVudExvY2F0aW9uID0gbnVsbDsKICB9CiAgVGltZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgZGVjcmVtZW50OwogICAgdGhpcy5zaG93R3JpZEl0ZW1zKCk7CiAgICBpZiAodGhpcy5ydW5uaW5nKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHRoaXMuc3RhcnRlZCA9IHRydWU7CiAgICB0aGlzLnJ1bm5pbmcgPSB0cnVlOwogICAgdGhpcy50aWNrX3ZhbHVlID0gMTsKICAgIGRlY3JlbWVudCA9IF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zZWNvbmRzIC09IHRoaXMudGlja192YWx1ZTsKICAgICAgaWYgKHRoaXMuc2Vjb25kcyA9PT0gMCkgewogICAgICAgIHRoaXMuc3RvcCgpOwogICAgICAgICQuYXNzZXNzbWVudC5mbGFzaCgpOwogICAgICB9CiAgICAgIHJldHVybiB0aGlzLnJlbmRlclNlY29uZHMoKTsKICAgIH0sIHRoaXMpOwogICAgcmV0dXJuIHRoaXMuaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGRlY3JlbWVudCwgdGhpcy50aWNrX3ZhbHVlICogMTAwMCk7CiAgfTsKICBUaW1lci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7CiAgICByZXR1cm4gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsSWQpOwogIH07CiAgVGltZXIucHJvdG90eXBlLmhhc1N0YXJ0ZWRBbmRTdG9wcGVkID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gKHRoaXMuc2Vjb25kcyAhPT0gNjApICYmICh0aGlzLnJ1bm5pbmcgPT09IGZhbHNlKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5zZWNvbmRzID0gNjA7CiAgICByZXR1cm4gdGhpcy5yZW5kZXJTZWNvbmRzKCk7CiAgfTsKICBUaW1lci5wcm90b3R5cGUucmVuZGVyU2Vjb25kcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICQoImRpdiMiICsgdGhpcy5wYWdlLnBhZ2VJZCArICIgLnRpbWVyLXNlY29uZHMiKS5odG1sKHRoaXMuc2Vjb25kcyk7CiAgfTsKICBUaW1lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLmlkID0gInRpbWVyIjsKICAgIHRoaXMuc2Vjb25kcyA9IDYwOwogICAgcmV0dXJuIE11c3RhY2hlLnRvX2h0bWwodGhpcy5fdGVtcGxhdGUoKSwgdGhpcyk7CiAgfTsKICBUaW1lci5wcm90b3R5cGUuaGlkZUdyaWRJdGVtcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICQoIiMiICsgdGhpcy5wYWdlLnBhZ2VJZCArICIgLmdyaWQiKS5yZW1vdmVDbGFzcygic2hvdyIpOwogIH07CiAgVGltZXIucHJvdG90eXBlLnNob3dHcmlkSXRlbXMgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkKCIjIiArIHRoaXMucGFnZS5wYWdlSWQgKyAiIC5ncmlkIikuYWRkQ2xhc3MoInNob3ciKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5fdGVtcGxhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAiICA8c3BhbiBjbGFzcz0ndGltZXItc2Vjb25kcyc+PC9zcGFuPiI7CiAgfTsKICByZXR1cm4gVGltZXI7Cn0pKCk7", "content_type": "application/javascript"}, "tests/testData/Assessment.TEST EGRA Prototype.School": {"data": "ewogICJwYWdlSWQiOiAiU2Nob29sIiwKICAicGFnZVR5cGUiOiAiU2Nob29sUGFnZSIsCiAgInNjaG9vbHMiIDogWwogICAgeyAibmFtZSIgOiAiTGlsb25nd2UiLCAicHJvdmluY2UiOiAiQ2VudHJhbCIsICJkaXN0cmljdCI6IkxpbG9uZ3dlIiwgInNjaG9vbElkIiA6ICIxMTQyIn0sCiAgICB7ICJuYW1lIiA6ICJCbGFudHlyZSIsICJwcm92aW5jZSI6ICJCbGFudHlyZSIsICJkaXN0cmljdCI6IkJsYW50eXJlIiwgInNjaG9vbElkIiA6ICIyMTQyIn0sCiAgICB7ICJuYW1lIiA6ICJEZWR6YSIsICJwcm92aW5jZSI6ICJDZW50cmFsIiwgImRpc3RyaWN0IjoiRGVkemEiLCAic2Nob29sSWQiIDogIjI3NDIifSwKICAgIHsgIm5hbWUiIDogIk16dXp1IiwgInByb3ZpbmNlIjogIk5vcnRoIiwgImRpc3RyaWN0IjoiTXp1enUiLCAic2Nob29sSWQiIDogIjk3NDIifSwKICAgIHsgIm5hbWUiIDogIkFuZGVyc29uIiwgInByb3ZpbmNlIjogIk5ldmFkYSIsICJkaXN0cmljdCI6Ildhc2hvZSIsICJzY2hvb2xJZCIgOiAiMjQ0MiJ9LAogICAgeyAibmFtZSIgOiAiSmVzc2llIEJlY2siLCAicHJvdmluY2UiOiAiTmV2YWRhIiwgImRpc3RyaWN0IjoiV2FzaG9lIiwgInNjaG9vbElkIiA6ICIyNDQzIn0sCiAgICB7ICJuYW1lIiA6ICJTd29wZSIsICJwcm92aW5jZSI6ICJOZXZhZGEiLCAiZGlzdHJpY3QiOiAiV2FzaG9lIiwgInNjaG9vbElkIiA6ICI0NDIifSwKICAgIHsgIm5hbWUiIDogIlBpbmUiLCAicHJvdmluY2UiOiAiTmV2YWRhIiwgImRpc3RyaWN0IjogIldhc2hvZSIsICJzY2hvb2xJZCIgOiAiNDQxMiJ9LAogICAgeyAibmFtZSIgOiAiTWFub2d1ZSIsICJwcm92aW5jZSI6ICJOZXZhZGEiLCAiZGlzdHJpY3QiOiJXYXNob2UiLCAic2Nob29sSWQiIDogIjQyIn0sCiAgICB7ICJuYW1lIiA6ICJSZW5vIiwgInByb3ZpbmNlIjogIk5ldmFkYSIsICJkaXN0cmljdCI6IkNhcnNvbiIsICJzY2hvb2xJZCIgOiAiMTQyIn0sCiAgICB7ICJuYW1lIiA6ICJDYXJzb24iLCAicHJvdmluY2UiOiAiTmV2YWRhIiwgImRpc3RyaWN0IjoiQ2Fyc29uIiwgInNjaG9vbElkIiA6ICIxNDQifSwKICAgIHsgIm5hbWUiIDogIlRydWNrZWUiLCAicHJvdmluY2UiOiAiQ2FsaWZvcm5pYSIsICJkaXN0cmljdCI6IlNpZXJyYXMiLCAic2Nob29sSWQiIDogIjI0MiJ9CiAgXSwKICAic2VsZWN0U2Nob29sVGV4dCIgOiAiU2VsZWN0IFNjaG9vbCIsCiAgIm5hbWVUZXh0IiA6ICJOYW1lIiwKICAicHJvdmluY2VUZXh0IiA6ICJQcm92aW5jZSIsCiAgImRpc3RyaWN0VGV4dCIgOiAiRGlzdHJpY3QiLAogICJzY2hvb2xJZFRleHQiIDogIklEIgp9Cg==", "content_type": ""}, "images/icon-search-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzA4NTM4NTRCMDgwMTFERkE3MjhCQTNEQzI2NUU3RTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzA4NTM4NTVCMDgwMTFERkE3MjhCQTNEQzI2NUU3RTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MDg1Mzg1MkIwODAxMURGQTcyOEJBM0RDMjY1RTdFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MDg1Mzg1M0IwODAxMURGQTcyOEJBM0RDMjY1RTdFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoXpIKcAAAFRSURBVHjalNTPK0RRGMbxY+YKi/ErFpKkLJAVipUs7spCREqKbLC0JGuGhaIwQ5TYWAxLxQZLpfgTRMMCodgo8j31zDSOMdO89eltmnOee2bue68XDoeNKg+9GEY7ynCLY+ziyqSpgHoIOzhEP6oQRCOmcIrJ/wIKsIYRvGAW9ahEB/ZRgohO9yegW1/cow/zuME7LjCEGa1fRIUbMKa+jHOTvhZwhmoMuAGt+MKByVwx9RY3IKSApywBj+rFbkAc+WjIEtCkHncDTjQD4xk2l+suGc3FrwA7JG9aMK37n1o1mpE6XOuCyQr6vv9Af0UPfHShELUYxDratN7OwzMuEwGeehQfmEOnpJYd42YUYSVlTzLA1h6O9DzYZ6EUd/rNdpRHsarJjSRCPOdK9njb4taW/p+oPtvB+wyY3GoDE3ajTrLkmdxrE9+w74HYjwADAKDLQn974v1dAAAAAElFTkSuQmCC", "content_type": "image/png"}, "js-libraries/handlebars.js": {"data": "Ly8gbGliL2hhbmRsZWJhcnMvcGFyc2VyLmpzCi8qIEppc29uIGdlbmVyYXRlZCBwYXJzZXIgKi8KdmFyIGhhbmRsZWJhcnMgPSAoZnVuY3Rpb24oKXsKdmFyIHBhcnNlciA9IHt0cmFjZTogZnVuY3Rpb24gdHJhY2UoKSB7IH0sCnl5OiB7fSwKc3ltYm9sc186IHsiZXJyb3IiOjIsInJvb3QiOjMsInByb2dyYW0iOjQsIkVPRiI6NSwic3RhdGVtZW50cyI6Niwic2ltcGxlSW52ZXJzZSI6Nywic3RhdGVtZW50Ijo4LCJvcGVuSW52ZXJzZSI6OSwiY2xvc2VCbG9jayI6MTAsIm9wZW5CbG9jayI6MTEsIm11c3RhY2hlIjoxMiwicGFydGlhbCI6MTMsIkNPTlRFTlQiOjE0LCJDT01NRU5UIjoxNSwiT1BFTl9CTE9DSyI6MTYsImluTXVzdGFjaGUiOjE3LCJDTE9TRSI6MTgsIk9QRU5fSU5WRVJTRSI6MTksIk9QRU5fRU5EQkxPQ0siOjIwLCJwYXRoIjoyMSwiT1BFTiI6MjIsIk9QRU5fVU5FU0NBUEVEIjoyMywiT1BFTl9QQVJUSUFMIjoyNCwicGFyYW1zIjoyNSwiaGFzaCI6MjYsInBhcmFtIjoyNywiU1RSSU5HIjoyOCwiaGFzaFNlZ21lbnRzIjoyOSwiaGFzaFNlZ21lbnQiOjMwLCJJRCI6MzEsIkVRVUFMUyI6MzIsInBhdGhTZWdtZW50cyI6MzMsIlNFUCI6MzQsIiRhY2NlcHQiOjAsIiRlbmQiOjF9LAp0ZXJtaW5hbHNfOiB7MjoiZXJyb3IiLDU6IkVPRiIsMTQ6IkNPTlRFTlQiLDE1OiJDT01NRU5UIiwxNjoiT1BFTl9CTE9DSyIsMTg6IkNMT1NFIiwxOToiT1BFTl9JTlZFUlNFIiwyMDoiT1BFTl9FTkRCTE9DSyIsMjI6Ik9QRU4iLDIzOiJPUEVOX1VORVNDQVBFRCIsMjQ6Ik9QRU5fUEFSVElBTCIsMjg6IlNUUklORyIsMzE6IklEIiwzMjoiRVFVQUxTIiwzNDoiU0VQIn0sCnByb2R1Y3Rpb25zXzogWzAsWzMsMl0sWzQsM10sWzQsMV0sWzQsMF0sWzYsMV0sWzYsMl0sWzgsM10sWzgsM10sWzgsMV0sWzgsMV0sWzgsMV0sWzgsMV0sWzExLDNdLFs5LDNdLFsxMCwzXSxbMTIsM10sWzEyLDNdLFsxMywzXSxbMTMsNF0sWzcsMl0sWzE3LDNdLFsxNywyXSxbMTcsMl0sWzE3LDFdLFsyNSwyXSxbMjUsMV0sWzI3LDFdLFsyNywxXSxbMjYsMV0sWzI5LDJdLFsyOSwxXSxbMzAsM10sWzMwLDNdLFsyMSwxXSxbMzMsM10sWzMzLDFdXSwKcGVyZm9ybUFjdGlvbjogZnVuY3Rpb24gYW5vbnltb3VzKHl5dGV4dCx5eWxlbmcseXlsaW5lbm8seXkseXlzdGF0ZSwkJCxfJCkgewoKdmFyICQwID0gJCQubGVuZ3RoIC0gMTsKc3dpdGNoICh5eXN0YXRlKSB7CmNhc2UgMTogcmV0dXJuICQkWyQwLTFdIApicmVhazsKY2FzZSAyOiB0aGlzLiQgPSBuZXcgeXkuUHJvZ3JhbU5vZGUoJCRbJDAtMl0sICQkWyQwXSkgCmJyZWFrOwpjYXNlIDM6IHRoaXMuJCA9IG5ldyB5eS5Qcm9ncmFtTm9kZSgkJFskMF0pIApicmVhazsKY2FzZSA0OiB0aGlzLiQgPSBuZXcgeXkuUHJvZ3JhbU5vZGUoW10pIApicmVhazsKY2FzZSA1OiB0aGlzLiQgPSBbJCRbJDBdXSAKYnJlYWs7CmNhc2UgNjogJCRbJDAtMV0ucHVzaCgkJFskMF0pOyB0aGlzLiQgPSAkJFskMC0xXSAKYnJlYWs7CmNhc2UgNzogdGhpcy4kID0gbmV3IHl5LkludmVyc2VOb2RlKCQkWyQwLTJdLCAkJFskMC0xXSwgJCRbJDBdKSAKYnJlYWs7CmNhc2UgODogdGhpcy4kID0gbmV3IHl5LkJsb2NrTm9kZSgkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwXSkgCmJyZWFrOwpjYXNlIDk6IHRoaXMuJCA9ICQkWyQwXSAKYnJlYWs7CmNhc2UgMTA6IHRoaXMuJCA9ICQkWyQwXSAKYnJlYWs7CmNhc2UgMTE6IHRoaXMuJCA9IG5ldyB5eS5Db250ZW50Tm9kZSgkJFskMF0pIApicmVhazsKY2FzZSAxMjogdGhpcy4kID0gbmV3IHl5LkNvbW1lbnROb2RlKCQkWyQwXSkgCmJyZWFrOwpjYXNlIDEzOiB0aGlzLiQgPSBuZXcgeXkuTXVzdGFjaGVOb2RlKCQkWyQwLTFdWzBdLCAkJFskMC0xXVsxXSkgCmJyZWFrOwpjYXNlIDE0OiB0aGlzLiQgPSBuZXcgeXkuTXVzdGFjaGVOb2RlKCQkWyQwLTFdWzBdLCAkJFskMC0xXVsxXSkgCmJyZWFrOwpjYXNlIDE1OiB0aGlzLiQgPSAkJFskMC0xXSAKYnJlYWs7CmNhc2UgMTY6IHRoaXMuJCA9IG5ldyB5eS5NdXN0YWNoZU5vZGUoJCRbJDAtMV1bMF0sICQkWyQwLTFdWzFdKSAKYnJlYWs7CmNhc2UgMTc6IHRoaXMuJCA9IG5ldyB5eS5NdXN0YWNoZU5vZGUoJCRbJDAtMV1bMF0sICQkWyQwLTFdWzFdLCB0cnVlKSAKYnJlYWs7CmNhc2UgMTg6IHRoaXMuJCA9IG5ldyB5eS5QYXJ0aWFsTm9kZSgkJFskMC0xXSkgCmJyZWFrOwpjYXNlIDE5OiB0aGlzLiQgPSBuZXcgeXkuUGFydGlhbE5vZGUoJCRbJDAtMl0sICQkWyQwLTFdKSAKYnJlYWs7CmNhc2UgMjA6IApicmVhazsKY2FzZSAyMTogdGhpcy4kID0gW1skJFskMC0yXV0uY29uY2F0KCQkWyQwLTFdKSwgJCRbJDBdXSAKYnJlYWs7CmNhc2UgMjI6IHRoaXMuJCA9IFtbJCRbJDAtMV1dLmNvbmNhdCgkJFskMF0pLCBudWxsXSAKYnJlYWs7CmNhc2UgMjM6IHRoaXMuJCA9IFtbJCRbJDAtMV1dLCAkJFskMF1dIApicmVhazsKY2FzZSAyNDogdGhpcy4kID0gW1skJFskMF1dLCBudWxsXSAKYnJlYWs7CmNhc2UgMjU6ICQkWyQwLTFdLnB1c2goJCRbJDBdKTsgdGhpcy4kID0gJCRbJDAtMV07IApicmVhazsKY2FzZSAyNjogdGhpcy4kID0gWyQkWyQwXV0gCmJyZWFrOwpjYXNlIDI3OiB0aGlzLiQgPSAkJFskMF0gCmJyZWFrOwpjYXNlIDI4OiB0aGlzLiQgPSBuZXcgeXkuU3RyaW5nTm9kZSgkJFskMF0pIApicmVhazsKY2FzZSAyOTogdGhpcy4kID0gbmV3IHl5Lkhhc2hOb2RlKCQkWyQwXSkgCmJyZWFrOwpjYXNlIDMwOiAkJFskMC0xXS5wdXNoKCQkWyQwXSk7IHRoaXMuJCA9ICQkWyQwLTFdIApicmVhazsKY2FzZSAzMTogdGhpcy4kID0gWyQkWyQwXV0gCmJyZWFrOwpjYXNlIDMyOiB0aGlzLiQgPSBbJCRbJDAtMl0sICQkWyQwXV0gCmJyZWFrOwpjYXNlIDMzOiB0aGlzLiQgPSBbJCRbJDAtMl0sIG5ldyB5eS5TdHJpbmdOb2RlKCQkWyQwXSldIApicmVhazsKY2FzZSAzNDogdGhpcy4kID0gbmV3IHl5LklkTm9kZSgkJFskMF0pIApicmVhazsKY2FzZSAzNTogJCRbJDAtMl0ucHVzaCgkJFskMF0pOyB0aGlzLiQgPSAkJFskMC0yXTsgCmJyZWFrOwpjYXNlIDM2OiB0aGlzLiQgPSBbJCRbJDBdXSAKYnJlYWs7Cn0KfSwKdGFibGU6IFt7MzoxLDQ6Miw1OlsyLDRdLDY6Myw4OjQsOTo1LDExOjYsMTI6NywxMzo4LDE0OlsxLDldLDE1OlsxLDEwXSwxNjpbMSwxMl0sMTk6WzEsMTFdLDIyOlsxLDEzXSwyMzpbMSwxNF0sMjQ6WzEsMTVdfSx7MTpbM119LHs1OlsxLDE2XX0sezU6WzIsM10sNzoxNyw4OjE4LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDE5XSwyMDpbMiwzXSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezU6WzIsNV0sMTQ6WzIsNV0sMTU6WzIsNV0sMTY6WzIsNV0sMTk6WzIsNV0sMjA6WzIsNV0sMjI6WzIsNV0sMjM6WzIsNV0sMjQ6WzIsNV19LHs0OjIwLDY6Myw4OjQsOTo1LDExOjYsMTI6NywxMzo4LDE0OlsxLDldLDE1OlsxLDEwXSwxNjpbMSwxMl0sMTk6WzEsMTFdLDIwOlsyLDRdLDIyOlsxLDEzXSwyMzpbMSwxNF0sMjQ6WzEsMTVdfSx7NDoyMSw2OjMsODo0LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDExXSwyMDpbMiw0XSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezU6WzIsOV0sMTQ6WzIsOV0sMTU6WzIsOV0sMTY6WzIsOV0sMTk6WzIsOV0sMjA6WzIsOV0sMjI6WzIsOV0sMjM6WzIsOV0sMjQ6WzIsOV19LHs1OlsyLDEwXSwxNDpbMiwxMF0sMTU6WzIsMTBdLDE2OlsyLDEwXSwxOTpbMiwxMF0sMjA6WzIsMTBdLDIyOlsyLDEwXSwyMzpbMiwxMF0sMjQ6WzIsMTBdfSx7NTpbMiwxMV0sMTQ6WzIsMTFdLDE1OlsyLDExXSwxNjpbMiwxMV0sMTk6WzIsMTFdLDIwOlsyLDExXSwyMjpbMiwxMV0sMjM6WzIsMTFdLDI0OlsyLDExXX0sezU6WzIsMTJdLDE0OlsyLDEyXSwxNTpbMiwxMl0sMTY6WzIsMTJdLDE5OlsyLDEyXSwyMDpbMiwxMl0sMjI6WzIsMTJdLDIzOlsyLDEyXSwyNDpbMiwxMl19LHsxNzoyMiwyMToyMywzMTpbMSwyNV0sMzM6MjR9LHsxNzoyNiwyMToyMywzMTpbMSwyNV0sMzM6MjR9LHsxNzoyNywyMToyMywzMTpbMSwyNV0sMzM6MjR9LHsxNzoyOCwyMToyMywzMTpbMSwyNV0sMzM6MjR9LHsyMToyOSwzMTpbMSwyNV0sMzM6MjR9LHsxOlsyLDFdfSx7NjozMCw4OjQsOTo1LDExOjYsMTI6NywxMzo4LDE0OlsxLDldLDE1OlsxLDEwXSwxNjpbMSwxMl0sMTk6WzEsMTFdLDIyOlsxLDEzXSwyMzpbMSwxNF0sMjQ6WzEsMTVdfSx7NTpbMiw2XSwxNDpbMiw2XSwxNTpbMiw2XSwxNjpbMiw2XSwxOTpbMiw2XSwyMDpbMiw2XSwyMjpbMiw2XSwyMzpbMiw2XSwyNDpbMiw2XX0sezE3OjIyLDE4OlsxLDMxXSwyMToyMywzMTpbMSwyNV0sMzM6MjR9LHsxMDozMiwyMDpbMSwzM119LHsxMDozNCwyMDpbMSwzM119LHsxODpbMSwzNV19LHsxODpbMiwyNF0sMjE6NDAsMjU6MzYsMjY6MzcsMjc6MzgsMjg6WzEsNDFdLDI5OjM5LDMwOjQyLDMxOlsxLDQzXSwzMzoyNH0sezE4OlsyLDM0XSwyODpbMiwzNF0sMzE6WzIsMzRdLDM0OlsxLDQ0XX0sezE4OlsyLDM2XSwyODpbMiwzNl0sMzE6WzIsMzZdLDM0OlsyLDM2XX0sezE4OlsxLDQ1XX0sezE4OlsxLDQ2XX0sezE4OlsxLDQ3XX0sezE4OlsxLDQ4XSwyMTo0OSwzMTpbMSwyNV0sMzM6MjR9LHs1OlsyLDJdLDg6MTgsOTo1LDExOjYsMTI6NywxMzo4LDE0OlsxLDldLDE1OlsxLDEwXSwxNjpbMSwxMl0sMTk6WzEsMTFdLDIwOlsyLDJdLDIyOlsxLDEzXSwyMzpbMSwxNF0sMjQ6WzEsMTVdfSx7MTQ6WzIsMjBdLDE1OlsyLDIwXSwxNjpbMiwyMF0sMTk6WzIsMjBdLDIyOlsyLDIwXSwyMzpbMiwyMF0sMjQ6WzIsMjBdfSx7NTpbMiw3XSwxNDpbMiw3XSwxNTpbMiw3XSwxNjpbMiw3XSwxOTpbMiw3XSwyMDpbMiw3XSwyMjpbMiw3XSwyMzpbMiw3XSwyNDpbMiw3XX0sezIxOjUwLDMxOlsxLDI1XSwzMzoyNH0sezU6WzIsOF0sMTQ6WzIsOF0sMTU6WzIsOF0sMTY6WzIsOF0sMTk6WzIsOF0sMjA6WzIsOF0sMjI6WzIsOF0sMjM6WzIsOF0sMjQ6WzIsOF19LHsxNDpbMiwxNF0sMTU6WzIsMTRdLDE2OlsyLDE0XSwxOTpbMiwxNF0sMjA6WzIsMTRdLDIyOlsyLDE0XSwyMzpbMiwxNF0sMjQ6WzIsMTRdfSx7MTg6WzIsMjJdLDIxOjQwLDI2OjUxLDI3OjUyLDI4OlsxLDQxXSwyOTozOSwzMDo0MiwzMTpbMSw0M10sMzM6MjR9LHsxODpbMiwyM119LHsxODpbMiwyNl0sMjg6WzIsMjZdLDMxOlsyLDI2XX0sezE4OlsyLDI5XSwzMDo1MywzMTpbMSw1NF19LHsxODpbMiwyN10sMjg6WzIsMjddLDMxOlsyLDI3XX0sezE4OlsyLDI4XSwyODpbMiwyOF0sMzE6WzIsMjhdfSx7MTg6WzIsMzFdLDMxOlsyLDMxXX0sezE4OlsyLDM2XSwyODpbMiwzNl0sMzE6WzIsMzZdLDMyOlsxLDU1XSwzNDpbMiwzNl19LHszMTpbMSw1Nl19LHsxNDpbMiwxM10sMTU6WzIsMTNdLDE2OlsyLDEzXSwxOTpbMiwxM10sMjA6WzIsMTNdLDIyOlsyLDEzXSwyMzpbMiwxM10sMjQ6WzIsMTNdfSx7NTpbMiwxNl0sMTQ6WzIsMTZdLDE1OlsyLDE2XSwxNjpbMiwxNl0sMTk6WzIsMTZdLDIwOlsyLDE2XSwyMjpbMiwxNl0sMjM6WzIsMTZdLDI0OlsyLDE2XX0sezU6WzIsMTddLDE0OlsyLDE3XSwxNTpbMiwxN10sMTY6WzIsMTddLDE5OlsyLDE3XSwyMDpbMiwxN10sMjI6WzIsMTddLDIzOlsyLDE3XSwyNDpbMiwxN119LHs1OlsyLDE4XSwxNDpbMiwxOF0sMTU6WzIsMThdLDE2OlsyLDE4XSwxOTpbMiwxOF0sMjA6WzIsMThdLDIyOlsyLDE4XSwyMzpbMiwxOF0sMjQ6WzIsMThdfSx7MTg6WzEsNTddfSx7MTg6WzEsNThdfSx7MTg6WzIsMjFdfSx7MTg6WzIsMjVdLDI4OlsyLDI1XSwzMTpbMiwyNV19LHsxODpbMiwzMF0sMzE6WzIsMzBdfSx7MzI6WzEsNTVdfSx7MjE6NTksMjg6WzEsNjBdLDMxOlsxLDI1XSwzMzoyNH0sezE4OlsyLDM1XSwyODpbMiwzNV0sMzE6WzIsMzVdLDM0OlsyLDM1XX0sezU6WzIsMTldLDE0OlsyLDE5XSwxNTpbMiwxOV0sMTY6WzIsMTldLDE5OlsyLDE5XSwyMDpbMiwxOV0sMjI6WzIsMTldLDIzOlsyLDE5XSwyNDpbMiwxOV19LHs1OlsyLDE1XSwxNDpbMiwxNV0sMTU6WzIsMTVdLDE2OlsyLDE1XSwxOTpbMiwxNV0sMjA6WzIsMTVdLDIyOlsyLDE1XSwyMzpbMiwxNV0sMjQ6WzIsMTVdfSx7MTg6WzIsMzJdLDMxOlsyLDMyXX0sezE4OlsyLDMzXSwzMTpbMiwzM119XSwKZGVmYXVsdEFjdGlvbnM6IHsxNjpbMiwxXSwzNzpbMiwyM10sNTE6WzIsMjFdfSwKcGFyc2VFcnJvcjogZnVuY3Rpb24gcGFyc2VFcnJvcihzdHIsIGhhc2gpIHsKICAgIHRocm93IG5ldyBFcnJvcihzdHIpOwp9LApwYXJzZTogZnVuY3Rpb24gcGFyc2UoaW5wdXQpIHsKICAgIHZhciBzZWxmID0gdGhpcywKICAgICAgICBzdGFjayA9IFswXSwKICAgICAgICB2c3RhY2sgPSBbbnVsbF0sIC8vIHNlbWFudGljIHZhbHVlIHN0YWNrCiAgICAgICAgbHN0YWNrID0gW10sIC8vIGxvY2F0aW9uIHN0YWNrCiAgICAgICAgdGFibGUgPSB0aGlzLnRhYmxlLAogICAgICAgIHl5dGV4dCA9ICcnLAogICAgICAgIHl5bGluZW5vID0gMCwKICAgICAgICB5eWxlbmcgPSAwLAogICAgICAgIHJlY292ZXJpbmcgPSAwLAogICAgICAgIFRFUlJPUiA9IDIsCiAgICAgICAgRU9GID0gMTsKCiAgICAvL3RoaXMucmVkdWN0aW9uQ291bnQgPSB0aGlzLnNoaWZ0Q291bnQgPSAwOwoKICAgIHRoaXMubGV4ZXIuc2V0SW5wdXQoaW5wdXQpOwogICAgdGhpcy5sZXhlci55eSA9IHRoaXMueXk7CiAgICB0aGlzLnl5LmxleGVyID0gdGhpcy5sZXhlcjsKICAgIHZhciB5eWxvYyA9IHRoaXMubGV4ZXIueXlsbG9jOwogICAgbHN0YWNrLnB1c2goeXlsb2MpOwoKICAgIGlmICh0eXBlb2YgdGhpcy55eS5wYXJzZUVycm9yID09PSAnZnVuY3Rpb24nKQogICAgICAgIHRoaXMucGFyc2VFcnJvciA9IHRoaXMueXkucGFyc2VFcnJvcjsKCiAgICBmdW5jdGlvbiBwb3BTdGFjayAobikgewogICAgICAgIHN0YWNrLmxlbmd0aCA9IHN0YWNrLmxlbmd0aCAtIDIqbjsKICAgICAgICB2c3RhY2subGVuZ3RoID0gdnN0YWNrLmxlbmd0aCAtIG47CiAgICAgICAgbHN0YWNrLmxlbmd0aCA9IGxzdGFjay5sZW5ndGggLSBuOwogICAgfQoKICAgIGZ1bmN0aW9uIGxleCgpIHsKICAgICAgICB2YXIgdG9rZW47CiAgICAgICAgdG9rZW4gPSBzZWxmLmxleGVyLmxleCgpIHx8IDE7IC8vICRlbmQgPSAxCiAgICAgICAgLy8gaWYgdG9rZW4gaXNuJ3QgaXRzIG51bWVyaWMgdmFsdWUsIGNvbnZlcnQKICAgICAgICBpZiAodHlwZW9mIHRva2VuICE9PSAnbnVtYmVyJykgewogICAgICAgICAgICB0b2tlbiA9IHNlbGYuc3ltYm9sc19bdG9rZW5dIHx8IHRva2VuOwogICAgICAgIH0KICAgICAgICByZXR1cm4gdG9rZW47CiAgICB9OwoKICAgIHZhciBzeW1ib2wsIHByZUVycm9yU3ltYm9sLCBzdGF0ZSwgYWN0aW9uLCBhLCByLCB5eXZhbD17fSxwLGxlbixuZXdTdGF0ZSwgZXhwZWN0ZWQ7CiAgICB3aGlsZSAodHJ1ZSkgewogICAgICAgIC8vIHJldHJlaXZlIHN0YXRlIG51bWJlciBmcm9tIHRvcCBvZiBzdGFjawogICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdOwoKICAgICAgICAvLyB1c2UgZGVmYXVsdCBhY3Rpb25zIGlmIGF2YWlsYWJsZQogICAgICAgIGlmICh0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXSkgewogICAgICAgICAgICBhY3Rpb24gPSB0aGlzLmRlZmF1bHRBY3Rpb25zW3N0YXRlXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAoc3ltYm9sID09IG51bGwpCiAgICAgICAgICAgICAgICBzeW1ib2wgPSBsZXgoKTsKICAgICAgICAgICAgLy8gcmVhZCBhY3Rpb24gZm9yIGN1cnJlbnQgc3RhdGUgYW5kIGZpcnN0IGlucHV0CiAgICAgICAgICAgIGFjdGlvbiA9IHRhYmxlW3N0YXRlXSAmJiB0YWJsZVtzdGF0ZV1bc3ltYm9sXTsKICAgICAgICB9CgogICAgICAgIC8vIGhhbmRsZSBwYXJzZSBlcnJvcgogICAgICAgIGlmICh0eXBlb2YgYWN0aW9uID09PSAndW5kZWZpbmVkJyB8fCAhYWN0aW9uLmxlbmd0aCB8fCAhYWN0aW9uWzBdKSB7CgogICAgICAgICAgICBpZiAoIXJlY292ZXJpbmcpIHsKICAgICAgICAgICAgICAgIC8vIFJlcG9ydCBlcnJvcgogICAgICAgICAgICAgICAgZXhwZWN0ZWQgPSBbXTsKICAgICAgICAgICAgICAgIGZvciAocCBpbiB0YWJsZVtzdGF0ZV0pIGlmICh0aGlzLnRlcm1pbmFsc19bcF0gJiYgcCA+IDIpIHsKICAgICAgICAgICAgICAgICAgICBleHBlY3RlZC5wdXNoKCInIit0aGlzLnRlcm1pbmFsc19bcF0rIiciKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBlcnJTdHIgPSAnJzsKICAgICAgICAgICAgICAgIGlmICh0aGlzLmxleGVyLnNob3dQb3NpdGlvbikgewogICAgICAgICAgICAgICAgICAgIGVyclN0ciA9ICdQYXJzZSBlcnJvciBvbiBsaW5lICcrKHl5bGluZW5vKzEpKyI6XG4iK3RoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uKCkrJ1xuRXhwZWN0aW5nICcrZXhwZWN0ZWQuam9pbignLCAnKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZXJyU3RyID0gJ1BhcnNlIGVycm9yIG9uIGxpbmUgJysoeXlsaW5lbm8rMSkrIjogVW5leHBlY3RlZCAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzeW1ib2wgPT0gMSAvKkVPRiovID8gImVuZCBvZiBpbnB1dCIgOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCInIisodGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sKSsiJyIpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRoaXMucGFyc2VFcnJvcihlcnJTdHIsCiAgICAgICAgICAgICAgICAgICAge3RleHQ6IHRoaXMubGV4ZXIubWF0Y2gsIHRva2VuOiB0aGlzLnRlcm1pbmFsc19bc3ltYm9sXSB8fCBzeW1ib2wsIGxpbmU6IHRoaXMubGV4ZXIueXlsaW5lbm8sIGxvYzogeXlsb2MsIGV4cGVjdGVkOiBleHBlY3RlZH0pOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyBqdXN0IHJlY292ZXJlZCBmcm9tIGFub3RoZXIgZXJyb3IKICAgICAgICAgICAgaWYgKHJlY292ZXJpbmcgPT0gMykgewogICAgICAgICAgICAgICAgaWYgKHN5bWJvbCA9PSBFT0YpIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyU3RyIHx8ICdQYXJzaW5nIGhhbHRlZC4nKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBkaXNjYXJkIGN1cnJlbnQgbG9va2FoZWFkIGFuZCBncmFiIGFub3RoZXIKICAgICAgICAgICAgICAgIHl5bGVuZyA9IHRoaXMubGV4ZXIueXlsZW5nOwogICAgICAgICAgICAgICAgeXl0ZXh0ID0gdGhpcy5sZXhlci55eXRleHQ7CiAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87CiAgICAgICAgICAgICAgICB5eWxvYyA9IHRoaXMubGV4ZXIueXlsbG9jOwogICAgICAgICAgICAgICAgc3ltYm9sID0gbGV4KCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIC8vIHRyeSB0byByZWNvdmVyIGZyb20gZXJyb3IKICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciBlcnJvciByZWNvdmVyeSBydWxlIGluIHRoaXMgc3RhdGUKICAgICAgICAgICAgICAgIGlmICgoVEVSUk9SLnRvU3RyaW5nKCkpIGluIHRhYmxlW3N0YXRlXSkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYgKHN0YXRlID09IDApIHsKICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyU3RyIHx8ICdQYXJzaW5nIGhhbHRlZC4nKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHBvcFN0YWNrKDEpOwogICAgICAgICAgICAgICAgc3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGgtMV07CiAgICAgICAgICAgIH0KICAgICAgICAgICAgCiAgICAgICAgICAgIHByZUVycm9yU3ltYm9sID0gc3ltYm9sOyAvLyBzYXZlIHRoZSBsb29rYWhlYWQgdG9rZW4KICAgICAgICAgICAgc3ltYm9sID0gVEVSUk9SOyAgICAgICAgIC8vIGluc2VydCBnZW5lcmljIGVycm9yIHN5bWJvbCBhcyBuZXcgbG9va2FoZWFkCiAgICAgICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdOwogICAgICAgICAgICBhY3Rpb24gPSB0YWJsZVtzdGF0ZV0gJiYgdGFibGVbc3RhdGVdW1RFUlJPUl07CiAgICAgICAgICAgIHJlY292ZXJpbmcgPSAzOyAvLyBhbGxvdyAzIHJlYWwgc3ltYm9scyB0byBiZSBzaGlmdGVkIGJlZm9yZSByZXBvcnRpbmcgYSBuZXcgZXJyb3IKICAgICAgICB9CgogICAgICAgIC8vIHRoaXMgc2hvdWxkbid0IGhhcHBlbiwgdW5sZXNzIHJlc29sdmUgZGVmYXVsdHMgYXJlIG9mZgogICAgICAgIGlmIChhY3Rpb25bMF0gaW5zdGFuY2VvZiBBcnJheSAmJiBhY3Rpb24ubGVuZ3RoID4gMSkgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiAnK3N0YXRlKycsIHRva2VuOiAnK3N5bWJvbCk7CiAgICAgICAgfQoKICAgICAgICBzd2l0Y2ggKGFjdGlvblswXSkgewoKICAgICAgICAgICAgY2FzZSAxOiAvLyBzaGlmdAogICAgICAgICAgICAgICAgLy90aGlzLnNoaWZ0Q291bnQrKzsKCiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHN5bWJvbCk7CiAgICAgICAgICAgICAgICB2c3RhY2sucHVzaCh0aGlzLmxleGVyLnl5dGV4dCk7CiAgICAgICAgICAgICAgICBsc3RhY2sucHVzaCh0aGlzLmxleGVyLnl5bGxvYyk7CiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKGFjdGlvblsxXSk7IC8vIHB1c2ggc3RhdGUKICAgICAgICAgICAgICAgIHN5bWJvbCA9IG51bGw7CiAgICAgICAgICAgICAgICBpZiAoIXByZUVycm9yU3ltYm9sKSB7IC8vIG5vcm1hbCBleGVjdXRpb24vbm8gZXJyb3IKICAgICAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZzsKICAgICAgICAgICAgICAgICAgICB5eXRleHQgPSB0aGlzLmxleGVyLnl5dGV4dDsKICAgICAgICAgICAgICAgICAgICB5eWxpbmVubyA9IHRoaXMubGV4ZXIueXlsaW5lbm87CiAgICAgICAgICAgICAgICAgICAgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYzsKICAgICAgICAgICAgICAgICAgICBpZiAocmVjb3ZlcmluZyA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgIHJlY292ZXJpbmctLTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7IC8vIGVycm9yIGp1c3Qgb2NjdXJyZWQsIHJlc3VtZSBvbGQgbG9va2FoZWFkIGYvIGJlZm9yZSBlcnJvcgogICAgICAgICAgICAgICAgICAgIHN5bWJvbCA9IHByZUVycm9yU3ltYm9sOwogICAgICAgICAgICAgICAgICAgIHByZUVycm9yU3ltYm9sID0gbnVsbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAyOiAvLyByZWR1Y2UKICAgICAgICAgICAgICAgIC8vdGhpcy5yZWR1Y3Rpb25Db3VudCsrOwoKICAgICAgICAgICAgICAgIGxlbiA9IHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMV07CgogICAgICAgICAgICAgICAgLy8gcGVyZm9ybSBzZW1hbnRpYyBhY3Rpb24KICAgICAgICAgICAgICAgIHl5dmFsLiQgPSB2c3RhY2tbdnN0YWNrLmxlbmd0aC1sZW5dOyAvLyBkZWZhdWx0IHRvICQkID0gJDEKICAgICAgICAgICAgICAgIC8vIGRlZmF1bHQgbG9jYXRpb24sIHVzZXMgZmlyc3QgdG9rZW4gZm9yIGZpcnN0cywgbGFzdCBmb3IgbGFzdHMKICAgICAgICAgICAgICAgIHl5dmFsLl8kID0gewogICAgICAgICAgICAgICAgICAgIGZpcnN0X2xpbmU6IGxzdGFja1tsc3RhY2subGVuZ3RoLShsZW58fDEpXS5maXJzdF9saW5lLAogICAgICAgICAgICAgICAgICAgIGxhc3RfbGluZTogbHN0YWNrW2xzdGFjay5sZW5ndGgtMV0ubGFzdF9saW5lLAogICAgICAgICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGgtKGxlbnx8MSldLmZpcnN0X2NvbHVtbiwKICAgICAgICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogbHN0YWNrW2xzdGFjay5sZW5ndGgtMV0ubGFzdF9jb2x1bW4sCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgciA9IHRoaXMucGVyZm9ybUFjdGlvbi5jYWxsKHl5dmFsLCB5eXRleHQsIHl5bGVuZywgeXlsaW5lbm8sIHRoaXMueXksIGFjdGlvblsxXSwgdnN0YWNrLCBsc3RhY2spOwoKICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBwb3Agb2ZmIHN0YWNrCiAgICAgICAgICAgICAgICBpZiAobGVuKSB7CiAgICAgICAgICAgICAgICAgICAgc3RhY2sgPSBzdGFjay5zbGljZSgwLC0xKmxlbioyKTsKICAgICAgICAgICAgICAgICAgICB2c3RhY2sgPSB2c3RhY2suc2xpY2UoMCwgLTEqbGVuKTsKICAgICAgICAgICAgICAgICAgICBsc3RhY2sgPSBsc3RhY2suc2xpY2UoMCwgLTEqbGVuKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW2FjdGlvblsxXV1bMF0pOyAgICAvLyBwdXNoIG5vbnRlcm1pbmFsIChyZWR1Y2UpCiAgICAgICAgICAgICAgICB2c3RhY2sucHVzaCh5eXZhbC4kKTsKICAgICAgICAgICAgICAgIGxzdGFjay5wdXNoKHl5dmFsLl8kKTsKICAgICAgICAgICAgICAgIC8vIGdvdG8gbmV3IHN0YXRlID0gdGFibGVbU1RBVEVdW05PTlRFUk1JTkFMXQogICAgICAgICAgICAgICAgbmV3U3RhdGUgPSB0YWJsZVtzdGFja1tzdGFjay5sZW5ndGgtMl1dW3N0YWNrW3N0YWNrLmxlbmd0aC0xXV07CiAgICAgICAgICAgICAgICBzdGFjay5wdXNoKG5ld1N0YXRlKTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgY2FzZSAzOiAvLyBhY2NlcHQKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KCiAgICB9CgogICAgcmV0dXJuIHRydWU7Cn19Oy8qIEppc29uIGdlbmVyYXRlZCBsZXhlciAqLwp2YXIgbGV4ZXIgPSAoZnVuY3Rpb24oKXt2YXIgbGV4ZXIgPSAoe0VPRjoxLApwYXJzZUVycm9yOmZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7CiAgICAgICAgaWYgKHRoaXMueXkucGFyc2VFcnJvcikgewogICAgICAgICAgICB0aGlzLnl5LnBhcnNlRXJyb3Ioc3RyLCBoYXNoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyKTsKICAgICAgICB9CiAgICB9LApzZXRJbnB1dDpmdW5jdGlvbiAoaW5wdXQpIHsKICAgICAgICB0aGlzLl9pbnB1dCA9IGlucHV0OwogICAgICAgIHRoaXMuX21vcmUgPSB0aGlzLl9sZXNzID0gdGhpcy5kb25lID0gZmFsc2U7CiAgICAgICAgdGhpcy55eWxpbmVubyA9IHRoaXMueXlsZW5nID0gMDsKICAgICAgICB0aGlzLnl5dGV4dCA9IHRoaXMubWF0Y2hlZCA9IHRoaXMubWF0Y2ggPSAnJzsKICAgICAgICB0aGlzLmNvbmRpdGlvblN0YWNrID0gWydJTklUSUFMJ107CiAgICAgICAgdGhpcy55eWxsb2MgPSB7Zmlyc3RfbGluZToxLGZpcnN0X2NvbHVtbjowLGxhc3RfbGluZToxLGxhc3RfY29sdW1uOjB9OwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKaW5wdXQ6ZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBjaCA9IHRoaXMuX2lucHV0WzBdOwogICAgICAgIHRoaXMueXl0ZXh0Kz1jaDsKICAgICAgICB0aGlzLnl5bGVuZysrOwogICAgICAgIHRoaXMubWF0Y2grPWNoOwogICAgICAgIHRoaXMubWF0Y2hlZCs9Y2g7CiAgICAgICAgdmFyIGxpbmVzID0gY2gubWF0Y2goL1xuLyk7CiAgICAgICAgaWYgKGxpbmVzKSB0aGlzLnl5bGluZW5vKys7CiAgICAgICAgdGhpcy5faW5wdXQgPSB0aGlzLl9pbnB1dC5zbGljZSgxKTsKICAgICAgICByZXR1cm4gY2g7CiAgICB9LAp1bnB1dDpmdW5jdGlvbiAoY2gpIHsKICAgICAgICB0aGlzLl9pbnB1dCA9IGNoICsgdGhpcy5faW5wdXQ7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAptb3JlOmZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLl9tb3JlID0gdHJ1ZTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0sCnBhc3RJbnB1dDpmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHBhc3QgPSB0aGlzLm1hdGNoZWQuc3Vic3RyKDAsIHRoaXMubWF0Y2hlZC5sZW5ndGggLSB0aGlzLm1hdGNoLmxlbmd0aCk7CiAgICAgICAgcmV0dXJuIChwYXN0Lmxlbmd0aCA+IDIwID8gJy4uLic6JycpICsgcGFzdC5zdWJzdHIoLTIwKS5yZXBsYWNlKC9cbi9nLCAiIik7CiAgICB9LAp1cGNvbWluZ0lucHV0OmZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgbmV4dCA9IHRoaXMubWF0Y2g7CiAgICAgICAgaWYgKG5leHQubGVuZ3RoIDwgMjApIHsKICAgICAgICAgICAgbmV4dCArPSB0aGlzLl9pbnB1dC5zdWJzdHIoMCwgMjAtbmV4dC5sZW5ndGgpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gKG5leHQuc3Vic3RyKDAsMjApKyhuZXh0Lmxlbmd0aCA+IDIwID8gJy4uLic6JycpKS5yZXBsYWNlKC9cbi9nLCAiIik7CiAgICB9LApzaG93UG9zaXRpb246ZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBwcmUgPSB0aGlzLnBhc3RJbnB1dCgpOwogICAgICAgIHZhciBjID0gbmV3IEFycmF5KHByZS5sZW5ndGggKyAxKS5qb2luKCItIik7CiAgICAgICAgcmV0dXJuIHByZSArIHRoaXMudXBjb21pbmdJbnB1dCgpICsgIlxuIiArIGMrIl4iOwogICAgfSwKbmV4dDpmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZG9uZSkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5FT0Y7CiAgICAgICAgfQogICAgICAgIGlmICghdGhpcy5faW5wdXQpIHRoaXMuZG9uZSA9IHRydWU7CgogICAgICAgIHZhciB0b2tlbiwKICAgICAgICAgICAgbWF0Y2gsCiAgICAgICAgICAgIGNvbCwKICAgICAgICAgICAgbGluZXM7CiAgICAgICAgaWYgKCF0aGlzLl9tb3JlKSB7CiAgICAgICAgICAgIHRoaXMueXl0ZXh0ID0gJyc7CiAgICAgICAgICAgIHRoaXMubWF0Y2ggPSAnJzsKICAgICAgICB9CiAgICAgICAgdmFyIHJ1bGVzID0gdGhpcy5fY3VycmVudFJ1bGVzKCk7CiAgICAgICAgZm9yICh2YXIgaT0wO2kgPCBydWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBtYXRjaCA9IHRoaXMuX2lucHV0Lm1hdGNoKHRoaXMucnVsZXNbcnVsZXNbaV1dKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBsaW5lcyA9IG1hdGNoWzBdLm1hdGNoKC9cbi4qL2cpOwogICAgICAgICAgICAgICAgaWYgKGxpbmVzKSB0aGlzLnl5bGluZW5vICs9IGxpbmVzLmxlbmd0aDsKICAgICAgICAgICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6IHRoaXMueXlsbG9jLmxhc3RfbGluZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfbGluZTogdGhpcy55eWxpbmVubysxLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RfY29sdW1uOiB0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RfY29sdW1uOiBsaW5lcyA/IGxpbmVzW2xpbmVzLmxlbmd0aC0xXS5sZW5ndGgtMSA6IHRoaXMueXlsbG9jLmxhc3RfY29sdW1uICsgbWF0Y2gubGVuZ3RofQogICAgICAgICAgICAgICAgdGhpcy55eXRleHQgKz0gbWF0Y2hbMF07CiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoICs9IG1hdGNoWzBdOwogICAgICAgICAgICAgICAgdGhpcy5tYXRjaGVzID0gbWF0Y2g7CiAgICAgICAgICAgICAgICB0aGlzLnl5bGVuZyA9IHRoaXMueXl0ZXh0Lmxlbmd0aDsKICAgICAgICAgICAgICAgIHRoaXMuX21vcmUgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHRoaXMuX2lucHV0ID0gdGhpcy5faW5wdXQuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKTsKICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlZCArPSBtYXRjaFswXTsKICAgICAgICAgICAgICAgIHRva2VuID0gdGhpcy5wZXJmb3JtQWN0aW9uLmNhbGwodGhpcywgdGhpcy55eSwgdGhpcywgcnVsZXNbaV0sdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXSk7CiAgICAgICAgICAgICAgICBpZiAodG9rZW4pIHJldHVybiB0b2tlbjsKICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLl9pbnB1dCA9PT0gIiIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuRU9GOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMucGFyc2VFcnJvcignTGV4aWNhbCBlcnJvciBvbiBsaW5lICcrKHRoaXMueXlsaW5lbm8rMSkrJy4gVW5yZWNvZ25pemVkIHRleHQuXG4nK3RoaXMuc2hvd1Bvc2l0aW9uKCksIAogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiAiIiwgdG9rZW46IG51bGwsIGxpbmU6IHRoaXMueXlsaW5lbm99KTsKICAgICAgICB9CiAgICB9LApsZXg6ZnVuY3Rpb24gbGV4KCkgewogICAgICAgIHZhciByID0gdGhpcy5uZXh0KCk7CiAgICAgICAgaWYgKHR5cGVvZiByICE9PSAndW5kZWZpbmVkJykgewogICAgICAgICAgICByZXR1cm4gcjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5sZXgoKTsKICAgICAgICB9CiAgICB9LApiZWdpbjpmdW5jdGlvbiBiZWdpbihjb25kaXRpb24pIHsKICAgICAgICB0aGlzLmNvbmRpdGlvblN0YWNrLnB1c2goY29uZGl0aW9uKTsKICAgIH0sCnBvcFN0YXRlOmZ1bmN0aW9uIHBvcFN0YXRlKCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvblN0YWNrLnBvcCgpOwogICAgfSwKX2N1cnJlbnRSdWxlczpmdW5jdGlvbiBfY3VycmVudFJ1bGVzKCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbmRpdGlvbnNbdGhpcy5jb25kaXRpb25TdGFja1t0aGlzLmNvbmRpdGlvblN0YWNrLmxlbmd0aC0xXV0ucnVsZXM7CiAgICB9fSk7CmxleGVyLnBlcmZvcm1BY3Rpb24gPSBmdW5jdGlvbiBhbm9ueW1vdXMoeXkseXlfLCRhdm9pZGluZ19uYW1lX2NvbGxpc2lvbnMsWVlfU1RBUlQpIHsKCnZhciBZWVNUQVRFPVlZX1NUQVJUCnN3aXRjaCgkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zKSB7CmNhc2UgMDogdGhpcy5iZWdpbigibXUiKTsgaWYgKHl5Xy55eXRleHQpIHJldHVybiAxNDsgCmJyZWFrOwpjYXNlIDE6IHJldHVybiAxNDsgCmJyZWFrOwpjYXNlIDI6IHJldHVybiAyNDsgCmJyZWFrOwpjYXNlIDM6IHJldHVybiAxNjsgCmJyZWFrOwpjYXNlIDQ6IHJldHVybiAyMDsgCmJyZWFrOwpjYXNlIDU6IHJldHVybiAxOTsgCmJyZWFrOwpjYXNlIDY6IHJldHVybiAxOTsgCmJyZWFrOwpjYXNlIDc6IHJldHVybiAyMzsgCmJyZWFrOwpjYXNlIDg6IHJldHVybiAyMzsgCmJyZWFrOwpjYXNlIDk6IHl5Xy55eXRleHQgPSB5eV8ueXl0ZXh0LnN1YnN0cigzLHl5Xy55eWxlbmctNSk7IHRoaXMuYmVnaW4oIklOSVRJQUwiKTsgcmV0dXJuIDE1OyAKYnJlYWs7CmNhc2UgMTA6IHJldHVybiAyMjsgCmJyZWFrOwpjYXNlIDExOiByZXR1cm4gMzI7IApicmVhazsKY2FzZSAxMjogcmV0dXJuIDMxOyAKYnJlYWs7CmNhc2UgMTM6IHJldHVybiAzMTsgCmJyZWFrOwpjYXNlIDE0OiByZXR1cm4gMzQ7IApicmVhazsKY2FzZSAxNTogLyppZ25vcmUgd2hpdGVzcGFjZSovIApicmVhazsKY2FzZSAxNjogdGhpcy5iZWdpbigiSU5JVElBTCIpOyByZXR1cm4gMTg7IApicmVhazsKY2FzZSAxNzogdGhpcy5iZWdpbigiSU5JVElBTCIpOyByZXR1cm4gMTg7IApicmVhazsKY2FzZSAxODogeXlfLnl5dGV4dCA9IHl5Xy55eXRleHQuc3Vic3RyKDEseXlfLnl5bGVuZy0yKS5yZXBsYWNlKC9cXCIvZywnIicpOyByZXR1cm4gMjg7IApicmVhazsKY2FzZSAxOTogcmV0dXJuIDMxOyAKYnJlYWs7CmNhc2UgMjA6IHJldHVybiAnSU5WQUxJRCc7IApicmVhazsKY2FzZSAyMTogcmV0dXJuIDU7IApicmVhazsKfQp9OwpsZXhlci5ydWxlcyA9IFsvXlteXHgwMF0qPyg/PShce1x7KSkvLC9eW15ceDAwXSsvLC9eXHtcez4vLC9eXHtceyMvLC9eXHtce1wvLywvXlx7XHtcXi8sL15ce1x7XHMqZWxzZVxiLywvXlx7XHtcey8sL15ce1x7Ji8sL15ce1x7IS4qP1x9XH0vLC9eXHtcey8sL149LywvXlwuKD89W30gXSkvLC9eXC5cLi8sL15bLy5dLywvXlxzKy8sL15cfVx9XH0vLC9eXH1cfS8sL14iKFxcWyJdfFteIl0pKiIvLC9eW2EtekEtWjAtOV9dKyg/PVs9fSAvLl0pLywvXi4vLC9eJC9dOwpsZXhlci5jb25kaXRpb25zID0geyJtdSI6eyJydWxlcyI6WzIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMV0sImluY2x1c2l2ZSI6ZmFsc2V9LCJJTklUSUFMIjp7InJ1bGVzIjpbMCwxLDIxXSwiaW5jbHVzaXZlIjp0cnVlfX07cmV0dXJuIGxleGVyO30pKCkKcGFyc2VyLmxleGVyID0gbGV4ZXI7CnJldHVybiBwYXJzZXI7Cn0pKCk7CmlmICh0eXBlb2YgcmVxdWlyZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7CmV4cG9ydHMucGFyc2VyID0gaGFuZGxlYmFyczsKZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGhhbmRsZWJhcnMucGFyc2UuYXBwbHkoaGFuZGxlYmFycywgYXJndW1lbnRzKTsgfQpleHBvcnRzLm1haW4gPSBmdW5jdGlvbiBjb21tb25qc01haW4oYXJncykgewogICAgaWYgKCFhcmdzWzFdKQogICAgICAgIHRocm93IG5ldyBFcnJvcignVXNhZ2U6ICcrYXJnc1swXSsnIEZJTEUnKTsKICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICB2YXIgc291cmNlID0gcmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMocmVxdWlyZSgncGF0aCcpLmpvaW4ocHJvY2Vzcy5jd2QoKSwgYXJnc1sxXSksICJ1dGY4Iik7CiAgICB9IGVsc2UgewogICAgICAgIHZhciBjd2QgPSByZXF1aXJlKCJmaWxlIikucGF0aChyZXF1aXJlKCJmaWxlIikuY3dkKCkpOwogICAgICAgIHZhciBzb3VyY2UgPSBjd2Quam9pbihhcmdzWzFdKS5yZWFkKHtjaGFyc2V0OiAidXRmLTgifSk7CiAgICB9CiAgICByZXR1cm4gZXhwb3J0cy5wYXJzZXIucGFyc2Uoc291cmNlKTsKfQppZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgcmVxdWlyZS5tYWluID09PSBtb2R1bGUpIHsKICBleHBvcnRzLm1haW4odHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnID8gcHJvY2Vzcy5hcmd2LnNsaWNlKDEpIDogcmVxdWlyZSgic3lzdGVtIikuYXJncyk7Cn0KfTsKLy8gbGliL2hhbmRsZWJhcnMvYmFzZS5qcwp2YXIgSGFuZGxlYmFycyA9IHt9OwoKSGFuZGxlYmFycy5QYXJzZXIgPSBoYW5kbGViYXJzOwoKSGFuZGxlYmFycy5wYXJzZSA9IGZ1bmN0aW9uKHN0cmluZykgewogIEhhbmRsZWJhcnMuUGFyc2VyLnl5ID0gSGFuZGxlYmFycy5BU1Q7CiAgcmV0dXJuIEhhbmRsZWJhcnMuUGFyc2VyLnBhcnNlKHN0cmluZyk7Cn07CgpIYW5kbGViYXJzLnByaW50ID0gZnVuY3Rpb24oYXN0KSB7CiAgcmV0dXJuIG5ldyBIYW5kbGViYXJzLlByaW50VmlzaXRvcigpLmFjY2VwdChhc3QpOwp9OwoKSGFuZGxlYmFycy5SdW50aW1lID0ge307CgpIYW5kbGViYXJzLlJ1bnRpbWUuY29tcGlsZSA9IGZ1bmN0aW9uKHN0cmluZykgewogIHZhciBhc3QgPSBIYW5kbGViYXJzLnBhcnNlKHN0cmluZyk7CgogIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscykgewogICAgaGVscGVycyAgPSBoZWxwZXJzIHx8IEhhbmRsZWJhcnMuaGVscGVyczsKICAgIHBhcnRpYWxzID0gcGFydGlhbHMgfHwgSGFuZGxlYmFycy5wYXJ0aWFsczsKCiAgICB2YXIgaW50ZXJuYWxDb250ZXh0ID0gbmV3IEhhbmRsZWJhcnMuQ29udGV4dChjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscyk7CiAgICB2YXIgcnVudGltZSA9IG5ldyBIYW5kbGViYXJzLlJ1bnRpbWUoaW50ZXJuYWxDb250ZXh0KTsKICAgIHJ1bnRpbWUuYWNjZXB0KGFzdCk7CiAgICByZXR1cm4gcnVudGltZS5idWZmZXI7CiAgfTsKfTsKCkhhbmRsZWJhcnMuaGVscGVycyAgPSB7fTsKSGFuZGxlYmFycy5wYXJ0aWFscyA9IHt9OwoKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlciA9IGZ1bmN0aW9uKG5hbWUsIGZuLCBpbnZlcnNlKSB7CiAgaWYoaW52ZXJzZSkgeyBmbi5ub3QgPSBpbnZlcnNlOyB9CiAgdGhpcy5oZWxwZXJzW25hbWVdID0gZm47Cn07CgpIYW5kbGViYXJzLnJlZ2lzdGVyUGFydGlhbCA9IGZ1bmN0aW9uKG5hbWUsIHN0cikgewogIHRoaXMucGFydGlhbHNbbmFtZV0gPSBzdHI7Cn07CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBmbiwgaW52ZXJzZSkgewogIGludmVyc2UgPSBpbnZlcnNlIHx8IGZ1bmN0aW9uKCkge307CgogIHZhciByZXQgPSAiIjsKICB2YXIgdHlwZSA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChjb250ZXh0KTsKCiAgaWYodHlwZSA9PT0gIltvYmplY3QgRnVuY3Rpb25dIikgewogICAgY29udGV4dCA9IGNvbnRleHQoKTsKICB9CgogIGlmKGNvbnRleHQgPT09IHRydWUpIHsKICAgIHJldHVybiBmbih0aGlzKTsKICB9IGVsc2UgaWYoY29udGV4dCA9PT0gZmFsc2UgfHwgY29udGV4dCA9PSBudWxsKSB7CiAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTsKICB9IGVsc2UgaWYodHlwZSA9PT0gIltvYmplY3QgQXJyYXldIikgewogICAgaWYoY29udGV4dC5sZW5ndGggPiAwKSB7CiAgICAgIGZvcih2YXIgaT0wLCBqPWNvbnRleHQubGVuZ3RoOyBpPGo7IGkrKykgewogICAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbaV0pOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICByZXQgPSBpbnZlcnNlKHRoaXMpOwogICAgfQogICAgcmV0dXJuIHJldDsKICB9IGVsc2UgewogICAgcmV0dXJuIGZuKGNvbnRleHQpOwogIH0KfSwgZnVuY3Rpb24oY29udGV4dCwgZm4pIHsKICByZXR1cm4gZm4oY29udGV4dCk7Cn0pOwoKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIGZuLCBpbnZlcnNlKSB7CiAgdmFyIHJldCA9ICIiOwoKICBpZihjb250ZXh0ICYmIGNvbnRleHQubGVuZ3RoID4gMCkgewogICAgZm9yKHZhciBpPTAsIGo9Y29udGV4dC5sZW5ndGg7IGk8ajsgaSsrKSB7CiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbaV0pOwogICAgfQogIH0gZWxzZSB7CiAgICByZXQgPSBpbnZlcnNlKHRoaXMpOwogIH0KICByZXR1cm4gcmV0Owp9KTsKCkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2lmJywgZnVuY3Rpb24oY29udGV4dCwgZm4sIGludmVyc2UpIHsKICBpZighY29udGV4dCB8fCBjb250ZXh0ID09IFtdKSB7CiAgICByZXR1cm4gaW52ZXJzZSh0aGlzKTsKICB9IGVsc2UgewogICAgcmV0dXJuIGZuKHRoaXMpOwogIH0KfSk7CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCd1bmxlc3MnLCBmdW5jdGlvbihjb250ZXh0LCBmbiwgaW52ZXJzZSkgewogIHJldHVybiBIYW5kbGViYXJzLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb250ZXh0LCBpbnZlcnNlLCBmbik7Cn0pOwoKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignd2l0aCcsIGZ1bmN0aW9uKGNvbnRleHQsIGZuKSB7CiAgcmV0dXJuIGZuKGNvbnRleHQpOwp9KTsKCkhhbmRsZWJhcnMubG9nZ2VyID0gewogIERFQlVHOiAwLCBJTkZPOiAxLCBXQVJOOiAyLCBFUlJPUjogMywgbGV2ZWw6IDMsCgogIC8vIG92ZXJyaWRlIGluIHRoZSBob3N0IGVudmlyb25tZW50CiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgc3RyKSB7fQp9OwoKSGFuZGxlYmFycy5sb2cgPSBmdW5jdGlvbihsZXZlbCwgc3RyKSB7IEhhbmRsZWJhcnMubG9nZ2VyLmxvZyhsZXZlbCwgc3RyKTsgfTsKOwovLyBsaWIvaGFuZGxlYmFycy9hc3QuanMKKGZ1bmN0aW9uKCkgewoKICBIYW5kbGViYXJzLkFTVCA9IHt9OwoKICBIYW5kbGViYXJzLkFTVC5Qcm9ncmFtTm9kZSA9IGZ1bmN0aW9uKHN0YXRlbWVudHMsIGludmVyc2UpIHsKICAgIHRoaXMudHlwZSA9ICJwcm9ncmFtIjsKICAgIHRoaXMuc3RhdGVtZW50cyA9IHN0YXRlbWVudHM7CiAgICBpZihpbnZlcnNlKSB7IHRoaXMuaW52ZXJzZSA9IG5ldyBIYW5kbGViYXJzLkFTVC5Qcm9ncmFtTm9kZShpbnZlcnNlKTsgfQogIH07CgogIEhhbmRsZWJhcnMuQVNULk11c3RhY2hlTm9kZSA9IGZ1bmN0aW9uKHBhcmFtcywgaGFzaCwgdW5lc2NhcGVkKSB7CiAgICB0aGlzLnR5cGUgPSAibXVzdGFjaGUiOwogICAgdGhpcy5pZCA9IHBhcmFtc1swXTsKICAgIHRoaXMucGFyYW1zID0gcGFyYW1zLnNsaWNlKDEpOwogICAgdGhpcy5oYXNoID0gaGFzaDsKICAgIHRoaXMuZXNjYXBlZCA9ICF1bmVzY2FwZWQ7CiAgfTsKCiAgSGFuZGxlYmFycy5BU1QuUGFydGlhbE5vZGUgPSBmdW5jdGlvbihpZCwgY29udGV4dCkgewogICAgdGhpcy50eXBlICAgID0gInBhcnRpYWwiOwoKICAgIC8vIFRPRE86IGRpc2FsbG93IGNvbXBsZXggSURzCgogICAgdGhpcy5pZCAgICAgID0gaWQ7CiAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0OwogIH07CgogIHZhciB2ZXJpZnlNYXRjaCA9IGZ1bmN0aW9uKG9wZW4sIGNsb3NlKSB7CiAgICBpZihvcGVuLm9yaWdpbmFsICE9PSBjbG9zZS5vcmlnaW5hbCkgewogICAgICB0aHJvdyBuZXcgSGFuZGxlYmFycy5FeGNlcHRpb24ob3Blbi5vcmlnaW5hbCArICIgZG9lc24ndCBtYXRjaCAiICsgY2xvc2Uub3JpZ2luYWwpOwogICAgfQogIH07CgogIEhhbmRsZWJhcnMuQVNULkJsb2NrTm9kZSA9IGZ1bmN0aW9uKG11c3RhY2hlLCBwcm9ncmFtLCBjbG9zZSkgewogICAgdmVyaWZ5TWF0Y2gobXVzdGFjaGUuaWQsIGNsb3NlKTsKICAgIHRoaXMudHlwZSA9ICJibG9jayI7CiAgICB0aGlzLm11c3RhY2hlID0gbXVzdGFjaGU7CiAgICB0aGlzLnByb2dyYW0gID0gcHJvZ3JhbTsKICB9OwoKICBIYW5kbGViYXJzLkFTVC5JbnZlcnNlTm9kZSA9IGZ1bmN0aW9uKG11c3RhY2hlLCBwcm9ncmFtLCBjbG9zZSkgewogICAgdmVyaWZ5TWF0Y2gobXVzdGFjaGUuaWQsIGNsb3NlKTsKICAgIHRoaXMudHlwZSA9ICJpbnZlcnNlIjsKICAgIHRoaXMubXVzdGFjaGUgPSBtdXN0YWNoZTsKICAgIHRoaXMucHJvZ3JhbSAgPSBwcm9ncmFtOwogIH07CgogIEhhbmRsZWJhcnMuQVNULkNvbnRlbnROb2RlID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICB0aGlzLnR5cGUgPSAiY29udGVudCI7CiAgICB0aGlzLnN0cmluZyA9IHN0cmluZzsKICB9OwoKICBIYW5kbGViYXJzLkFTVC5IYXNoTm9kZSA9IGZ1bmN0aW9uKHBhaXJzKSB7CiAgICB0aGlzLnR5cGUgPSAiaGFzaCI7CiAgICB0aGlzLnBhaXJzID0gcGFpcnM7CiAgfTsKCiAgSGFuZGxlYmFycy5BU1QuSWROb2RlID0gZnVuY3Rpb24ocGFydHMpIHsKICAgIHRoaXMudHlwZSA9ICJJRCI7CiAgICB0aGlzLm9yaWdpbmFsID0gcGFydHMuam9pbigiLyIpOwoKICAgIHZhciBkaWcgPSBbXSwgZGVwdGggPSAwOwoKICAgIGZvcih2YXIgaT0wLGw9cGFydHMubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICB2YXIgcGFydCA9IHBhcnRzW2ldOwoKICAgICAgaWYocGFydCA9PT0gIi4uIikgeyBkZXB0aCsrOyB9CiAgICAgIGVsc2UgaWYocGFydCA9PT0gIi4iIHx8IHBhcnQgPT09ICJ0aGlzIikgeyBjb250aW51ZTsgfQogICAgICBlbHNlIHsgZGlnLnB1c2gocGFydCk7IH0KICAgIH0KCiAgICB0aGlzLnBhcnRzICAgID0gZGlnOwogICAgdGhpcy5kZXB0aCAgICA9IGRlcHRoOwogICAgdGhpcy5pc1NpbXBsZSA9IChkaWcubGVuZ3RoID09PSAxKSAmJiAoZGVwdGggPT09IDApOwogIH07CgogIEhhbmRsZWJhcnMuQVNULlN0cmluZ05vZGUgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgIHRoaXMudHlwZSA9ICJTVFJJTkciOwogICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7CiAgfTsKCiAgSGFuZGxlYmFycy5BU1QuQ29tbWVudE5vZGUgPSBmdW5jdGlvbihjb21tZW50KSB7CiAgICB0aGlzLnR5cGUgPSAiY29tbWVudCI7CiAgICB0aGlzLmNvbW1lbnQgPSBjb21tZW50OwogIH07Cgp9KSgpOzsKLy8gbGliL2hhbmRsZWJhcnMvdmlzaXRvci5qcwoKSGFuZGxlYmFycy5WaXNpdG9yID0gZnVuY3Rpb24oKSB7fTsKCkhhbmRsZWJhcnMuVmlzaXRvci5wcm90b3R5cGUgPSB7CiAgYWNjZXB0OiBmdW5jdGlvbihvYmplY3QpIHsKICAgIHJldHVybiB0aGlzW29iamVjdC50eXBlXShvYmplY3QpOwogIH0KfTs7Ci8vIGxpYi9oYW5kbGViYXJzL3V0aWxzLmpzCkhhbmRsZWJhcnMuRXhjZXB0aW9uID0gZnVuY3Rpb24obWVzc2FnZSkgewogIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7Cn07CgovLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZQpIYW5kbGViYXJzLlNhZmVTdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcpIHsKICB0aGlzLnN0cmluZyA9IHN0cmluZzsKfTsKSGFuZGxlYmFycy5TYWZlU3RyaW5nLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogIHJldHVybiB0aGlzLnN0cmluZy50b1N0cmluZygpOwp9OwoKKGZ1bmN0aW9uKCkgewogIHZhciBlc2NhcGUgPSB7CiAgICAiPCI6ICImbHQ7IiwKICAgICI+IjogIiZndDsiCiAgfTsKCiAgdmFyIGJhZENoYXJzID0gLyYoPyFcdys7KXxbPD5dL2c7CiAgdmFyIHBvc3NpYmxlID0gL1smPD5dLwoKICB2YXIgZXNjYXBlQ2hhciA9IGZ1bmN0aW9uKGNocikgewogICAgcmV0dXJuIGVzY2FwZVtjaHJdIHx8ICImYW1wOyIKICB9OwoKICBIYW5kbGViYXJzLlV0aWxzID0gewogICAgZXNjYXBlRXhwcmVzc2lvbjogZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIC8vIGRvbid0IGVzY2FwZSBTYWZlU3RyaW5ncywgc2luY2UgdGhleSdyZSBhbHJlYWR5IHNhZmUKICAgICAgaWYgKHN0cmluZyBpbnN0YW5jZW9mIEhhbmRsZWJhcnMuU2FmZVN0cmluZykgewogICAgICAgIHJldHVybiBzdHJpbmcudG9TdHJpbmcoKTsKICAgICAgfSBlbHNlIGlmIChzdHJpbmcgPT0gbnVsbCB8fCBzdHJpbmcgPT09IGZhbHNlKSB7CiAgICAgICAgcmV0dXJuICIiOwogICAgICB9CgogICAgICBpZighcG9zc2libGUudGVzdChzdHJpbmcpKSB7IHJldHVybiBzdHJpbmc7IH0KICAgICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKGJhZENoYXJzLCBlc2NhcGVDaGFyKTsKICAgIH0sCgogICAgaXNFbXB0eTogZnVuY3Rpb24odmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gInVuZGVmaW5lZCIpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gbnVsbCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgaWYoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gIltvYmplY3QgQXJyYXldIiAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICB9Owp9KSgpOzsKLy8gbGliL2hhbmRsZWJhcnMvdm0uanMKSGFuZGxlYmFycy5Db21waWxlciA9IGZ1bmN0aW9uKCkge307CkhhbmRsZWJhcnMuSmF2YVNjcmlwdENvbXBpbGVyID0gZnVuY3Rpb24oKSB7fTsKCihmdW5jdGlvbihDb21waWxlciwgSmF2YVNjcmlwdENvbXBpbGVyKSB7CiAgQ29tcGlsZXIuT1BDT0RFX01BUCA9IHsKICAgIGFwcGVuZENvbnRlbnQ6IDEsCiAgICBnZXRDb250ZXh0OiAyLAogICAgbG9va3VwV2l0aEhlbHBlcnM6IDMsCiAgICBsb29rdXA6IDQsCiAgICBhcHBlbmQ6IDUsCiAgICBpbnZva2VNdXN0YWNoZTogNiwKICAgIGFwcGVuZEVzY2FwZWQ6IDcsCiAgICBwdXNoU3RyaW5nOiA4LAogICAgdHJ1dGh5T3JGYWxsYmFjazogOSwKICAgIGZ1bmN0aW9uT3JGYWxsYmFjazogMTAsCiAgICBpbnZva2VQcm9ncmFtOiAxMSwKICAgIGludm9rZVBhcnRpYWw6IDEyLAogICAgcHVzaDogMTMsCiAgICBpbnZva2VJbnZlcnNlOiAxNCwKICAgIGFzc2lnblRvSGFzaDogMTUKICB9OwoKICBDb21waWxlci5NVUxUSV9QQVJBTV9PUENPREVTID0gewogICAgYXBwZW5kQ29udGVudDogMSwKICAgIGdldENvbnRleHQ6IDEsCiAgICBsb29rdXBXaXRoSGVscGVyczogMSwKICAgIGxvb2t1cDogMSwKICAgIGludm9rZU11c3RhY2hlOiAyLAogICAgcHVzaFN0cmluZzogMSwKICAgIHRydXRoeU9yRmFsbGJhY2s6IDEsCiAgICBmdW5jdGlvbk9yRmFsbGJhY2s6IDEsCiAgICBpbnZva2VQcm9ncmFtOiAyLAogICAgaW52b2tlUGFydGlhbDogMSwKICAgIHB1c2g6IDEsCiAgICBpbnZva2VJbnZlcnNlOiAxLAogICAgYXNzaWduVG9IYXNoOiAxCiAgfTsKCiAgQ29tcGlsZXIuRElTQVNTRU1CTEVfTUFQID0ge307CgogIGZvcih2YXIgcHJvcCBpbiBDb21waWxlci5PUENPREVfTUFQKSB7CiAgICB2YXIgdmFsdWUgPSBDb21waWxlci5PUENPREVfTUFQW3Byb3BdOwogICAgQ29tcGlsZXIuRElTQVNTRU1CTEVfTUFQW3ZhbHVlXSA9IHByb3A7CiAgfQoKICBDb21waWxlci5tdWx0aVBhcmFtU2l6ZSA9IGZ1bmN0aW9uKGNvZGUpIHsKICAgIHJldHVybiBDb21waWxlci5NVUxUSV9QQVJBTV9PUENPREVTW0NvbXBpbGVyLkRJU0FTU0VNQkxFX01BUFtjb2RlXV07CiAgfTsKCiAgQ29tcGlsZXIucHJvdG90eXBlID0gewogICAgZGlzYXNzZW1ibGU6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgb3Bjb2RlcyA9IHRoaXMub3Bjb2Rlcywgb3Bjb2RlLCBuZXh0Q29kZTsKICAgICAgdmFyIG91dCA9IFtdLCBzdHIsIG5hbWUsIHZhbHVlOwoKICAgICAgZm9yKHZhciBpPTAsIGw9b3Bjb2Rlcy5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgb3Bjb2RlID0gb3Bjb2Rlc1tpXTsKCiAgICAgICAgaWYob3Bjb2RlID09PSAnREVDTEFSRScpIHsKICAgICAgICAgIG5hbWUgPSBvcGNvZGVzWysraV07CiAgICAgICAgICB2YWx1ZSA9IG9wY29kZXNbKytpXTsKICAgICAgICAgIG91dC5wdXNoKCJERUNMQVJFICIgKyBuYW1lICsgIiA9ICIgKyB2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN0ciA9IENvbXBpbGVyLkRJU0FTU0VNQkxFX01BUFtvcGNvZGVdOwoKICAgICAgICAgIHZhciBleHRyYVBhcmFtcyA9IENvbXBpbGVyLm11bHRpUGFyYW1TaXplKG9wY29kZSk7CiAgICAgICAgICB2YXIgY29kZXMgPSBbXTsKCiAgICAgICAgICBmb3IodmFyIGo9MDsgajxleHRyYVBhcmFtczsgaisrKSB7CiAgICAgICAgICAgIG5leHRDb2RlID0gb3Bjb2Rlc1srK2ldOwoKICAgICAgICAgICAgaWYodHlwZW9mIG5leHRDb2RlID09PSAic3RyaW5nIikgewogICAgICAgICAgICAgIG5leHRDb2RlID0gIlwiIiArIG5leHRDb2RlLnJlcGxhY2UoIlxuIiwgIlxcbiIpICsgIlwiIjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29kZXMucHVzaChuZXh0Q29kZSk7CiAgICAgICAgICB9CgogICAgICAgICAgc3RyID0gc3RyICsgIiAiICsgY29kZXMuam9pbigiICIpOwoKICAgICAgICAgIG91dC5wdXNoKHN0cik7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gb3V0LmpvaW4oIlxuIik7CiAgICB9LAoKICAgIGd1aWQ6IDAsCgogICAgY29tcGlsZTogZnVuY3Rpb24ocHJvZ3JhbSkgewogICAgICB0aGlzLmNoaWxkcmVuID0gW107CiAgICAgIHRoaXMuZGVwdGhzID0ge2xpc3Q6IFtdfTsKICAgICAgcmV0dXJuIHRoaXMucHJvZ3JhbShwcm9ncmFtKTsKICAgIH0sCgogICAgYWNjZXB0OiBmdW5jdGlvbihub2RlKSB7CiAgICAgIHJldHVybiB0aGlzW25vZGUudHlwZV0obm9kZSk7CiAgICB9LAoKICAgIHByb2dyYW06IGZ1bmN0aW9uKHByb2dyYW0pIHsKICAgICAgdmFyIHN0YXRlbWVudHMgPSBwcm9ncmFtLnN0YXRlbWVudHMsIHN0YXRlbWVudDsKICAgICAgdGhpcy5vcGNvZGVzID0gW107CgogICAgICBmb3IodmFyIGk9MCwgbD1zdGF0ZW1lbnRzLmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBzdGF0ZW1lbnQgPSBzdGF0ZW1lbnRzW2ldOwogICAgICAgIHRoaXNbc3RhdGVtZW50LnR5cGVdKHN0YXRlbWVudCk7CiAgICAgIH0KCiAgICAgIHRoaXMuZGVwdGhzLmxpc3QgPSB0aGlzLmRlcHRocy5saXN0LnNvcnQoZnVuY3Rpb24oYSwgYikgewogICAgICAgIHJldHVybiBhIC0gYjsKICAgICAgfSk7CgogICAgICByZXR1cm4gdGhpczsKICAgIH0sCgogICAgY29tcGlsZVByb2dyYW06IGZ1bmN0aW9uKHByb2dyYW0pIHsKICAgICAgdmFyIHJlc3VsdCA9IG5ldyBDb21waWxlcigpLmNvbXBpbGUocHJvZ3JhbSk7CiAgICAgIHZhciBndWlkID0gdGhpcy5ndWlkKys7CgogICAgICB0aGlzLnVzZVBhcnRpYWwgPSB0aGlzLnVzZVBhcnRpYWwgfHwgcmVzdWx0LnVzZVBhcnRpYWw7CgogICAgICB0aGlzLmNoaWxkcmVuW2d1aWRdID0gcmVzdWx0OwoKICAgICAgZm9yKHZhciBpPTAsIGw9cmVzdWx0LmRlcHRocy5saXN0Lmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBkZXB0aCA9IHJlc3VsdC5kZXB0aHMubGlzdFtpXTsKCiAgICAgICAgaWYoZGVwdGggPCAyKSB7IGNvbnRpbnVlOyB9CiAgICAgICAgZWxzZSB7IHRoaXMuYWRkRGVwdGgoZGVwdGggLSAxKTsgfQogICAgICB9CgogICAgICByZXR1cm4gZ3VpZDsKICAgIH0sCgogICAgYmxvY2s6IGZ1bmN0aW9uKGJsb2NrKSB7CiAgICAgIHZhciBtdXN0YWNoZSA9IGJsb2NrLm11c3RhY2hlOwogICAgICB2YXIgZGVwdGgsIGNoaWxkLCBpbnZlcnNlLCBpbnZlcnNlR3VpZDsKCiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnNldHVwU3RhY2tGb3JNdXN0YWNoZShtdXN0YWNoZSk7CgogICAgICB2YXIgcHJvZ3JhbUd1aWQgPSB0aGlzLmNvbXBpbGVQcm9ncmFtKGJsb2NrLnByb2dyYW0pOwoKICAgICAgaWYoYmxvY2sucHJvZ3JhbS5pbnZlcnNlKSB7CiAgICAgICAgaW52ZXJzZUd1aWQgPSB0aGlzLmNvbXBpbGVQcm9ncmFtKGJsb2NrLnByb2dyYW0uaW52ZXJzZSk7CiAgICAgICAgdGhpcy5kZWNsYXJlKCdpbnZlcnNlJywgaW52ZXJzZUd1aWQpOwogICAgICB9CgogICAgICB0aGlzLm9wY29kZSgnaW52b2tlUHJvZ3JhbScsIHByb2dyYW1HdWlkLCBwYXJhbXMubGVuZ3RoKTsKICAgICAgdGhpcy5kZWNsYXJlKCdpbnZlcnNlJywgbnVsbCk7CiAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTsKICAgIH0sCgogICAgaW52ZXJzZTogZnVuY3Rpb24oYmxvY2spIHsKICAgICAgdGhpcy5JRChibG9jay5tdXN0YWNoZS5pZCk7CiAgICAgIHZhciBwcm9ncmFtR3VpZCA9IHRoaXMuY29tcGlsZVByb2dyYW0oYmxvY2sucHJvZ3JhbSk7CgogICAgICB0aGlzLm9wY29kZSgnaW52b2tlSW52ZXJzZScsIHByb2dyYW1HdWlkKTsKICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpOwogICAgfSwKCiAgICBoYXNoOiBmdW5jdGlvbihoYXNoKSB7CiAgICAgIHZhciBwYWlycyA9IGhhc2gucGFpcnMsIHBhaXIsIHZhbDsKCiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoJywgJ3t9Jyk7CgogICAgICBmb3IodmFyIGk9MCwgbD1wYWlycy5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgcGFpciA9IHBhaXJzW2ldOwogICAgICAgIHZhbCAgPSBwYWlyWzFdOwoKICAgICAgICB0aGlzLmFjY2VwdCh2YWwpOwogICAgICAgIHRoaXMub3Bjb2RlKCdhc3NpZ25Ub0hhc2gnLCBwYWlyWzBdKTsKICAgICAgfQogICAgfSwKCiAgICBwYXJ0aWFsOiBmdW5jdGlvbihwYXJ0aWFsKSB7CiAgICAgIHZhciBpZCA9IHBhcnRpYWwuaWQ7CiAgICAgIHRoaXMudXNlUGFydGlhbCA9IHRydWU7CgogICAgICBpZihwYXJ0aWFsLmNvbnRleHQpIHsKICAgICAgICB0aGlzLklEKHBhcnRpYWwuY29udGV4dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcGNvZGUoJ3B1c2gnLCAnY29udGV4dCcpOwogICAgICB9CgogICAgICB0aGlzLm9wY29kZSgnaW52b2tlUGFydGlhbCcsIGlkLm9yaWdpbmFsKTsKICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZCcpOwogICAgfSwKCiAgICBjb250ZW50OiBmdW5jdGlvbihjb250ZW50KSB7CiAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmRDb250ZW50JywgY29udGVudC5zdHJpbmcpOwogICAgfSwKCiAgICBtdXN0YWNoZTogZnVuY3Rpb24obXVzdGFjaGUpIHsKICAgICAgdmFyIHBhcmFtcyA9IHRoaXMuc2V0dXBTdGFja0Zvck11c3RhY2hlKG11c3RhY2hlKTsKCiAgICAgIHRoaXMub3Bjb2RlKCdpbnZva2VNdXN0YWNoZScsIHBhcmFtcy5sZW5ndGgsIG11c3RhY2hlLmlkLm9yaWdpbmFsKTsKCiAgICAgIGlmKG11c3RhY2hlLmVzY2FwZWQpIHsKICAgICAgICB0aGlzLm9wY29kZSgnYXBwZW5kRXNjYXBlZCcpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTsKICAgICAgfQogICAgfSwKCiAgICBJRDogZnVuY3Rpb24oaWQpIHsKICAgICAgdGhpcy5hZGREZXB0aChpZC5kZXB0aCk7CgogICAgICB0aGlzLm9wY29kZSgnZ2V0Q29udGV4dCcsIGlkLmRlcHRoKTsKCiAgICAgIHRoaXMub3Bjb2RlKCdsb29rdXBXaXRoSGVscGVycycsIGlkLnBhcnRzWzBdIHx8IG51bGwpOwoKICAgICAgZm9yKHZhciBpPTEsIGw9aWQucGFydHMubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIHRoaXMub3Bjb2RlKCdsb29rdXAnLCBpZC5wYXJ0c1tpXSk7CiAgICAgIH0KICAgIH0sCgogICAgU1RSSU5HOiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdGhpcy5vcGNvZGUoJ3B1c2hTdHJpbmcnLCBzdHJpbmcuc3RyaW5nKTsKICAgIH0sCgogICAgY29tbWVudDogZnVuY3Rpb24oKSB7fSwKCiAgICAvLyBIRUxQRVJTCiAgICBwdXNoUGFyYW1zOiBmdW5jdGlvbihwYXJhbXMpIHsKICAgICAgdmFyIGkgPSBwYXJhbXMubGVuZ3RoLCBwYXJhbTsKCiAgICAgIHdoaWxlKGktLSkgewogICAgICAgIHBhcmFtID0gcGFyYW1zW2ldOwogICAgICAgIHRoaXNbcGFyYW0udHlwZV0ocGFyYW0pOwogICAgICB9CiAgICB9LAoKICAgIG9wY29kZTogZnVuY3Rpb24obmFtZSwgdmFsMSwgdmFsMikgewogICAgICB0aGlzLm9wY29kZXMucHVzaChDb21waWxlci5PUENPREVfTUFQW25hbWVdKTsKICAgICAgaWYodmFsMSAhPT0gdW5kZWZpbmVkKSB7IHRoaXMub3Bjb2Rlcy5wdXNoKHZhbDEpOyB9CiAgICAgIGlmKHZhbDIgIT09IHVuZGVmaW5lZCkgeyB0aGlzLm9wY29kZXMucHVzaCh2YWwyKTsgfQogICAgfSwKCiAgICBkZWNsYXJlOiBmdW5jdGlvbihuYW1lLCB2YWx1ZSkgewogICAgICB0aGlzLm9wY29kZXMucHVzaCgnREVDTEFSRScpOwogICAgICB0aGlzLm9wY29kZXMucHVzaChuYW1lKTsKICAgICAgdGhpcy5vcGNvZGVzLnB1c2godmFsdWUpOwogICAgfSwKCiAgICBhZGREZXB0aDogZnVuY3Rpb24oZGVwdGgpIHsKICAgICAgaWYoZGVwdGggPT09IDApIHsgcmV0dXJuOyB9CgogICAgICBpZighdGhpcy5kZXB0aHNbZGVwdGhdKSB7CiAgICAgICAgdGhpcy5kZXB0aHNbZGVwdGhdID0gdHJ1ZTsKICAgICAgICB0aGlzLmRlcHRocy5saXN0LnB1c2goZGVwdGgpOwogICAgICB9CiAgICB9LAoKICAgIHNldHVwU3RhY2tGb3JNdXN0YWNoZTogZnVuY3Rpb24obXVzdGFjaGUpIHsKICAgICAgdmFyIHBhcmFtcyA9IG11c3RhY2hlLnBhcmFtczsKCiAgICAgIHRoaXMucHVzaFBhcmFtcyhwYXJhbXMpOwoKICAgICAgaWYobXVzdGFjaGUuaGFzaCkgewogICAgICAgIHRoaXMuaGFzaChtdXN0YWNoZS5oYXNoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wY29kZSgncHVzaCcsICd7fScpOwogICAgICB9CgogICAgICB0aGlzLklEKG11c3RhY2hlLmlkKTsKCiAgICAgIHJldHVybiBwYXJhbXM7CiAgICB9CiAgfTsKCiAgSmF2YVNjcmlwdENvbXBpbGVyLnByb3RvdHlwZSA9IHsKICAgIC8vIFBVQkxJQyBBUEk6IFlvdSBjYW4gb3ZlcnJpZGUgdGhlc2UgbWV0aG9kcyBpbiBhIHN1YmNsYXNzIHRvIHByb3ZpZGUKICAgIC8vIGFsdGVybmF0aXZlIGNvbXBpbGVkIGZvcm1zIGZvciBuYW1lIGxvb2t1cCBhbmQgYnVmZmVyaW5nIHNlbWFudGljcwogICAgbmFtZUxvb2t1cDogZnVuY3Rpb24ocGFyZW50LCBuYW1lLCB0eXBlKSB7CiAgICAgIGlmKEphdmFTY3JpcHRDb21waWxlci5SRVNFUlZFRF9XT1JEU1tuYW1lXSkgewogICAgICAgIHJldHVybiBwYXJlbnQgKyAiWyciICsgbmFtZSArICInXSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHBhcmVudCArICIuIiArIG5hbWU7CiAgICAgIH0KICAgIH0sCgogICAgYXBwZW5kVG9CdWZmZXI6IGZ1bmN0aW9uKHN0cmluZykgewogICAgICByZXR1cm4gImJ1ZmZlciA9IGJ1ZmZlciArICIgKyBzdHJpbmcgKyAiOyI7CiAgICB9LAoKICAgIGluaXRpYWxpemVCdWZmZXI6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5xdW90ZWRTdHJpbmcoIiIpOwogICAgfSwKICAgIC8vIEVORCBQVUJMSUMgQVBJCgogICAgY29tcGlsZTogZnVuY3Rpb24oZW52aXJvbm1lbnQsIGRhdGEpIHsKICAgICAgdGhpcy5lbnZpcm9ubWVudCA9IGVudmlyb25tZW50OwogICAgICB0aGlzLmRhdGEgPSBkYXRhOwoKICAgICAgdGhpcy5wcmVhbWJsZSgpOwoKICAgICAgdGhpcy5zdGFja1Nsb3QgPSAwOwogICAgICB0aGlzLnN0YWNrVmFycyA9IFtdOwogICAgICB0aGlzLnJlZ2lzdGVycyA9IHtsaXN0OiBbXX07CgogICAgICB0aGlzLmNvbXBpbGVDaGlsZHJlbihlbnZpcm9ubWVudCwgZGF0YSk7CgogICAgICBIYW5kbGViYXJzLmxvZyhIYW5kbGViYXJzLmxvZ2dlci5ERUJVRywgZW52aXJvbm1lbnQuZGlzYXNzZW1ibGUoKSArICJcblxuIik7CgogICAgICB2YXIgb3Bjb2RlcyA9IGVudmlyb25tZW50Lm9wY29kZXMsIG9wY29kZSwgbmFtZSwgZGVjbGFyZU5hbWUsIGRlY2xhcmVWYWw7CgogICAgICB0aGlzLmkgPSAwOwoKICAgICAgZm9yKGw9b3Bjb2Rlcy5sZW5ndGg7IHRoaXMuaTxsOyB0aGlzLmkrKykgewogICAgICAgIG9wY29kZSA9IHRoaXMubmV4dE9wY29kZSgwKTsKCiAgICAgICAgaWYob3Bjb2RlWzBdID09PSAnREVDTEFSRScpIHsKICAgICAgICAgIHRoaXMuaSA9IHRoaXMuaSArIDI7CiAgICAgICAgICB0aGlzW29wY29kZVsxXV0gPSBvcGNvZGVbMl07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaSA9IHRoaXMuaSArIG9wY29kZVsxXS5sZW5ndGg7CiAgICAgICAgICB0aGlzW29wY29kZVswXV0uYXBwbHkodGhpcywgb3Bjb2RlWzFdKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUZ1bmN0aW9uKCk7CiAgICB9LAoKICAgIG5leHRPcGNvZGU6IGZ1bmN0aW9uKG4pIHsKICAgICAgdmFyIG9wY29kZXMgPSB0aGlzLmVudmlyb25tZW50Lm9wY29kZXMsIG9wY29kZSA9IG9wY29kZXNbdGhpcy5pICsgbl0sIG5hbWUsIHZhbDsKICAgICAgdmFyIGV4dHJhUGFyYW1zLCBjb2RlczsKCiAgICAgIGlmKG9wY29kZSA9PT0gJ0RFQ0xBUkUnKSB7CiAgICAgICAgbmFtZSA9IG9wY29kZXNbdGhpcy5pICsgMV07CiAgICAgICAgdmFsICA9IG9wY29kZXNbdGhpcy5pICsgMl07CiAgICAgICAgcmV0dXJuIFsnREVDTEFSRScsIG5hbWUsIHZhbF07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmFtZSA9IENvbXBpbGVyLkRJU0FTU0VNQkxFX01BUFtvcGNvZGVdOwoKICAgICAgICBleHRyYVBhcmFtcyA9IENvbXBpbGVyLm11bHRpUGFyYW1TaXplKG9wY29kZSk7CiAgICAgICAgY29kZXMgPSBbXTsKCiAgICAgICAgZm9yKHZhciBqPTA7IGo8ZXh0cmFQYXJhbXM7IGorKykgewogICAgICAgICAgY29kZXMucHVzaChvcGNvZGVzW3RoaXMuaSArIGogKyAxICsgbl0pOwogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIFtuYW1lLCBjb2Rlc107CiAgICAgIH0KICAgIH0sCgogICAgZWF0OiBmdW5jdGlvbihvcGNvZGUpIHsKICAgICAgdGhpcy5pID0gdGhpcy5pICsgb3Bjb2RlLmxlbmd0aDsKICAgIH0sCgogICAgcHJlYW1ibGU6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgb3V0ID0gW107CiAgICAgIG91dC5wdXNoKCJ2YXIgYnVmZmVyID0gIiArIHRoaXMuaW5pdGlhbGl6ZUJ1ZmZlcigpICsgIiwgY3VycmVudENvbnRleHQgPSBjb250ZXh0Iik7CgogICAgICB2YXIgY29waWVzID0gImhlbHBlcnMgPSBoZWxwZXJzIHx8IEhhbmRsZWJhcnMuaGVscGVyczsiOwogICAgICBpZih0aGlzLmVudmlyb25tZW50LnVzZVBhcnRpYWwpIHsgY29waWVzID0gY29waWVzICsgIiBwYXJ0aWFscyA9IHBhcnRpYWxzIHx8IEhhbmRsZWJhcnMucGFydGlhbHM7IjsgfQogICAgICBvdXQucHVzaChjb3BpZXMpOwoKICAgICAgLy8gdHJhY2sgdGhlIGxhc3QgY29udGV4dCBwdXNoZWQgaW50byBwbGFjZSB0byBhbGxvdyBza2lwcGluZyB0aGUKICAgICAgLy8gZ2V0Q29udGV4dCBvcGNvZGUgd2hlbiBpdCB3b3VsZCBiZSBhIG5vb3AKICAgICAgdGhpcy5sYXN0Q29udGV4dCA9IDA7CiAgICAgIHRoaXMuc291cmNlID0gb3V0OwogICAgfSwKCiAgICBjcmVhdGVGdW5jdGlvbjogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjb250YWluZXIgPSB7CiAgICAgICAgZXNjYXBlRXhwcmVzc2lvbjogSGFuZGxlYmFycy5VdGlscy5lc2NhcGVFeHByZXNzaW9uLAogICAgICAgIGludm9rZVBhcnRpYWw6IEhhbmRsZWJhcnMuVk0uaW52b2tlUGFydGlhbCwKICAgICAgICBwcm9ncmFtczogW10sCiAgICAgICAgcHJvZ3JhbTogZnVuY3Rpb24oaSwgaGVscGVycywgcGFydGlhbHMsIGRhdGEpIHsKICAgICAgICAgIHZhciBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV07CiAgICAgICAgICBpZihkYXRhKSB7CiAgICAgICAgICAgIHJldHVybiBIYW5kbGViYXJzLlZNLnByb2dyYW0odGhpcy5jaGlsZHJlbltpXSwgaGVscGVycywgcGFydGlhbHMsIGRhdGEpOwogICAgICAgICAgfSBlbHNlIGlmKHByb2dyYW1XcmFwcGVyKSB7CiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHByb2dyYW1XcmFwcGVyID0gdGhpcy5wcm9ncmFtc1tpXSA9IEhhbmRsZWJhcnMuVk0ucHJvZ3JhbSh0aGlzLmNoaWxkcmVuW2ldLCBoZWxwZXJzLCBwYXJ0aWFscyk7CiAgICAgICAgICAgIHJldHVybiBwcm9ncmFtV3JhcHBlcjsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHByb2dyYW1XaXRoRGVwdGg6IEhhbmRsZWJhcnMuVk0ucHJvZ3JhbVdpdGhEZXB0aCwKICAgICAgICBub29wOiBIYW5kbGViYXJzLlZNLm5vb3AKICAgICAgfTsKICAgICAgdmFyIGxvY2FscyA9IHRoaXMuc3RhY2tWYXJzLmNvbmNhdCh0aGlzLnJlZ2lzdGVycy5saXN0KTsKCiAgICAgIGlmKGxvY2Fscy5sZW5ndGggPiAwKSB7CiAgICAgICAgdGhpcy5zb3VyY2VbMF0gPSB0aGlzLnNvdXJjZVswXSArICIsICIgKyBsb2NhbHMuam9pbigiLCAiKTsKICAgICAgfQoKICAgICAgdGhpcy5zb3VyY2VbMF0gPSB0aGlzLnNvdXJjZVswXSArICI7IjsKCiAgICAgIHRoaXMuc291cmNlLnB1c2goInJldHVybiBidWZmZXI7Iik7CgogICAgICB2YXIgcGFyYW1zID0gWyJIYW5kbGViYXJzIiwgImNvbnRleHQiLCAiaGVscGVycyIsICJwYXJ0aWFscyJdOwoKICAgICAgaWYodGhpcy5kYXRhKSB7IHBhcmFtcy5wdXNoKCJkYXRhIik7IH0KCiAgICAgIGZvcih2YXIgaT0wLCBsPXRoaXMuZW52aXJvbm1lbnQuZGVwdGhzLmxpc3QubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIHBhcmFtcy5wdXNoKCJkZXB0aCIgKyB0aGlzLmVudmlyb25tZW50LmRlcHRocy5saXN0W2ldKTsKICAgICAgfQoKCiAgICAgIGlmKHBhcmFtcy5sZW5ndGggPT09IDQgJiYgIXRoaXMuZW52aXJvbm1lbnQudXNlUGFydGlhbCkgeyBwYXJhbXMucG9wKCk7IH0KCiAgICAgIHBhcmFtcy5wdXNoKHRoaXMuc291cmNlLmpvaW4oIlxuIikpOwoKICAgICAgdmFyIGZuID0gRnVuY3Rpb24uYXBwbHkodGhpcywgcGFyYW1zKTsKICAgICAgZm4uZGlzcGxheU5hbWUgPSAiSGFuZGxlYmFycy5qcyI7CgogICAgICBIYW5kbGViYXJzLmxvZyhIYW5kbGViYXJzLmxvZ2dlci5ERUJVRywgZm4udG9TdHJpbmcoKSArICJcblxuIik7CgogICAgICBjb250YWluZXIucmVuZGVyID0gZm47CgogICAgICBjb250YWluZXIuY2hpbGRyZW4gPSB0aGlzLmVudmlyb25tZW50LmNoaWxkcmVuOwoKICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhLCAkZGVwdGgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgICAgICAgYXJncy51bnNoaWZ0KEhhbmRsZWJhcnMpOwogICAgICAgICAgcmV0dXJuIGNvbnRhaW5lci5yZW5kZXIuYXBwbHkoY29udGFpbmVyLCBhcmdzKTsKICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgIHRocm93IGU7CiAgICAgICAgfQogICAgICB9OwogICAgfSwKCiAgICBhcHBlbmRDb250ZW50OiBmdW5jdGlvbihjb250ZW50KSB7CiAgICAgIHRoaXMuc291cmNlLnB1c2godGhpcy5hcHBlbmRUb0J1ZmZlcih0aGlzLnF1b3RlZFN0cmluZyhjb250ZW50KSkpOwogICAgfSwKCiAgICBhcHBlbmQ6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgbG9jYWwgPSB0aGlzLnBvcFN0YWNrKCk7CiAgICAgIHRoaXMuc291cmNlLnB1c2goImlmKCIgKyBsb2NhbCArICIgfHwgIiArIGxvY2FsICsgIiA9PT0gMCkgeyAiICsgdGhpcy5hcHBlbmRUb0J1ZmZlcihsb2NhbCkgKyAiIH0iKTsKICAgIH0sCgogICAgYXBwZW5kRXNjYXBlZDogZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvcGNvZGUgPSB0aGlzLm5leHRPcGNvZGUoMSksIGV4dHJhID0gIiI7CgogICAgICBpZihvcGNvZGVbMF0gPT09ICdhcHBlbmRDb250ZW50JykgewogICAgICAgIGV4dHJhID0gIiArICIgKyB0aGlzLnF1b3RlZFN0cmluZyhvcGNvZGVbMV1bMF0pOwogICAgICAgIHRoaXMuZWF0KG9wY29kZSk7CiAgICAgIH0KCiAgICAgIHRoaXMuc291cmNlLnB1c2godGhpcy5hcHBlbmRUb0J1ZmZlcigidGhpcy5lc2NhcGVFeHByZXNzaW9uKCIgKyB0aGlzLnBvcFN0YWNrKCkgKyAiKSIgKyBleHRyYSkpOwogICAgfSwKCiAgICBnZXRDb250ZXh0OiBmdW5jdGlvbihkZXB0aCkgewogICAgICBpZih0aGlzLmxhc3RDb250ZXh0ICE9PSBkZXB0aCkgewogICAgICAgIHRoaXMubGFzdENvbnRleHQgPSBkZXB0aDsKCiAgICAgICAgaWYoZGVwdGggPT09IDApIHsKICAgICAgICAgIHRoaXMuc291cmNlLnB1c2goImN1cnJlbnRDb250ZXh0ID0gY29udGV4dDsiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgiY3VycmVudENvbnRleHQgPSBkZXB0aCIgKyBkZXB0aCArICI7Iik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGxvb2t1cFdpdGhIZWxwZXJzOiBmdW5jdGlvbihuYW1lKSB7CiAgICAgIGlmKG5hbWUpIHsKICAgICAgICB2YXIgdG9wU3RhY2sgPSB0aGlzLm5leHRTdGFjaygpOwoKICAgICAgICB2YXIgdG9QdXNoID0gICJpZignIiArIG5hbWUgKyAiJyBpbiBoZWxwZXJzKSB7ICIgKyB0b3BTdGFjayArCiAgICAgICAgICAgICAgICAgICAgICAiID0gIiArIHRoaXMubmFtZUxvb2t1cCgnaGVscGVycycsIG5hbWUsICdoZWxwZXInKSArCiAgICAgICAgICAgICAgICAgICAgICAiOyB9IGVsc2UgeyAiICsgdG9wU3RhY2sgKyAiID0gIiArCiAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5hbWVMb29rdXAoJ2N1cnJlbnRDb250ZXh0JywgbmFtZSwgJ2NvbnRleHQnKSArCiAgICAgICAgICAgICAgICAgICAgICAiOyB9IjsKCiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCh0b1B1c2gpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucHVzaFN0YWNrKCJjdXJyZW50Q29udGV4dCIpOwogICAgICB9CiAgICB9LAoKICAgIGxvb2t1cDogZnVuY3Rpb24obmFtZSkgewogICAgICB2YXIgdG9wU3RhY2sgPSB0aGlzLnRvcFN0YWNrKCk7CiAgICAgIHRoaXMuc291cmNlLnB1c2godG9wU3RhY2sgKyAiID0gIiArIHRoaXMubmFtZUxvb2t1cCh0b3BTdGFjaywgbmFtZSwgJ2NvbnRleHQnKSArICI7Iik7CiAgICB9LAoKICAgIHB1c2hTdHJpbmc6IGZ1bmN0aW9uKHN0cmluZykgewogICAgICB0aGlzLnB1c2hTdGFjayh0aGlzLnF1b3RlZFN0cmluZyhzdHJpbmcpKTsKICAgIH0sCgogICAgcHVzaDogZnVuY3Rpb24obmFtZSkgewogICAgICB0aGlzLnB1c2hTdGFjayhuYW1lKTsKICAgIH0sCgogICAgaW52b2tlTXVzdGFjaGU6IGZ1bmN0aW9uKHBhcmFtU2l6ZSwgb3JpZ2luYWwpIHsKICAgICAgdGhpcy5wb3B1bGF0ZVBhcmFtcyhwYXJhbVNpemUsIHRoaXMucXVvdGVkU3RyaW5nKG9yaWdpbmFsKSwgInt9IiwgbnVsbCwgZnVuY3Rpb24obmV4dFN0YWNrLCBoZWxwZXJNaXNzaW5nU3RyaW5nLCBpZCkgewogICAgICAgIHRoaXMuc291cmNlLnB1c2goImVsc2UgaWYoIiArIGlkICsgIj09PSB1bmRlZmluZWQpIHsgIiArIG5leHRTdGFjayArICIgPSBoZWxwZXJzLmhlbHBlck1pc3NpbmcuY2FsbCgiICsgaGVscGVyTWlzc2luZ1N0cmluZyArICIpOyB9Iik7CiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgiZWxzZSB7ICIgKyBuZXh0U3RhY2sgKyAiID0gIiArIGlkICsgIjsgfSIpOwogICAgICB9KTsKICAgIH0sCgogICAgaW52b2tlUHJvZ3JhbTogZnVuY3Rpb24oZ3VpZCwgcGFyYW1TaXplKSB7CiAgICAgIHZhciBpbnZlcnNlID0gdGhpcy5wcm9ncmFtRXhwcmVzc2lvbih0aGlzLmludmVyc2UpOwogICAgICB2YXIgbWFpblByb2dyYW0gPSB0aGlzLnByb2dyYW1FeHByZXNzaW9uKGd1aWQpOwoKICAgICAgdGhpcy5wb3B1bGF0ZVBhcmFtcyhwYXJhbVNpemUsIG51bGwsIG1haW5Qcm9ncmFtLCBpbnZlcnNlLCBmdW5jdGlvbihuZXh0U3RhY2ssIGhlbHBlck1pc3NpbmdTdHJpbmcsIGlkKSB7CiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgiZWxzZSB7ICIgKyBuZXh0U3RhY2sgKyAiID0gaGVscGVycy5ibG9ja0hlbHBlck1pc3NpbmcuY2FsbCgiICsgaGVscGVyTWlzc2luZ1N0cmluZyArICIpOyB9Iik7CiAgICAgIH0pOwogICAgfSwKCiAgICBwb3B1bGF0ZVBhcmFtczogZnVuY3Rpb24ocGFyYW1TaXplLCBoZWxwZXJJZCwgcHJvZ3JhbSwgaW52ZXJzZSwgZm4pIHsKICAgICAgdmFyIGlkID0gdGhpcy5wb3BTdGFjaygpLCBuZXh0U3RhY2s7CiAgICAgIHZhciBwYXJhbXMgPSBbXTsKCiAgICAgIHZhciBoYXNoID0gdGhpcy5wb3BTdGFjaygpOwoKICAgICAgZm9yKHZhciBpPTA7IGk8cGFyYW1TaXplOyBpKyspIHsKICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLnBvcFN0YWNrKCk7CiAgICAgICAgcGFyYW1zLnB1c2gocGFyYW0pOwogICAgICB9CgogICAgICB0aGlzLnJlZ2lzdGVyKCd0bXAxJywgcHJvZ3JhbSk7CiAgICAgIHRoaXMuc291cmNlLnB1c2goJ3RtcDEuaGFzaCA9ICcgKyBoYXNoICsgJzsnKTsKCiAgICAgIGlmKGludmVyc2UpIHsKICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCd0bXAxLmZuID0gdG1wMTsnKTsKICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCd0bXAxLmludmVyc2UgPSAnICsgaW52ZXJzZSArICc7Jyk7CiAgICAgIH0KCiAgICAgIGlmKHRoaXMuZGF0YSkgewogICAgICAgIHRoaXMuc291cmNlLnB1c2goJ3RtcDEuZGF0YSA9IGRhdGE7Jyk7CiAgICAgIH0KCiAgICAgIHBhcmFtcy5wdXNoKCd0bXAxJyk7CgogICAgICAvLyBUT0RPOiBUaGlzIGlzIGxlZ2FjeSBiZWhhdmlvci4gRGVwcmVjYXRlIGFuZCByZW1vdmUuCiAgICAgIGlmKGludmVyc2UpIHsKICAgICAgICBwYXJhbXMucHVzaChpbnZlcnNlKTsKICAgICAgfQoKICAgICAgdGhpcy5wb3B1bGF0ZUNhbGwocGFyYW1zLCBpZCwgaGVscGVySWQgfHwgaWQsIGZuKTsKICAgIH0sCgogICAgcG9wdWxhdGVDYWxsOiBmdW5jdGlvbihwYXJhbXMsIGlkLCBoZWxwZXJJZCwgZm4pIHsKICAgICAgdmFyIHBhcmFtU3RyaW5nID0gWyJjb250ZXh0Il0uY29uY2F0KHBhcmFtcykuam9pbigiLCAiKTsKICAgICAgdmFyIGhlbHBlck1pc3NpbmdTdHJpbmcgPSBbImNvbnRleHQiXS5jb25jYXQoaGVscGVySWQpLmNvbmNhdChwYXJhbXMpLmpvaW4oIiwgIik7CgogICAgICBuZXh0U3RhY2sgPSB0aGlzLm5leHRTdGFjaygpOwoKICAgICAgdGhpcy5zb3VyY2UucHVzaCgiaWYodHlwZW9mICIgKyBpZCArICIgPT09ICdmdW5jdGlvbicpIHsgIiArIG5leHRTdGFjayArICIgPSAiICsgaWQgKyAiLmNhbGwoIiArIHBhcmFtU3RyaW5nICsgIik7IH0iKTsKICAgICAgZm4uY2FsbCh0aGlzLCBuZXh0U3RhY2ssIGhlbHBlck1pc3NpbmdTdHJpbmcsIGlkKTsKICAgIH0sCgogICAgaW52b2tlSW52ZXJzZTogZnVuY3Rpb24oZ3VpZCkgewogICAgICB2YXIgcHJvZ3JhbSA9IHRoaXMucHJvZ3JhbUV4cHJlc3Npb24oZ3VpZCk7CgogICAgICB2YXIgYmxvY2tNaXNzaW5nUGFyYW1zID0gWyJjb250ZXh0IiwgdGhpcy50b3BTdGFjaygpLCAidGhpcy5ub29wIiwgcHJvZ3JhbV07CiAgICAgIHRoaXMucHVzaFN0YWNrKCJoZWxwZXJzLmJsb2NrSGVscGVyTWlzc2luZy5jYWxsKCIgKyBibG9ja01pc3NpbmdQYXJhbXMuam9pbigiLCAiKSArICIpIik7CiAgICB9LAoKICAgIGludm9rZVBhcnRpYWw6IGZ1bmN0aW9uKGNvbnRleHQpIHsKICAgICAgdGhpcy5wdXNoU3RhY2soInRoaXMuaW52b2tlUGFydGlhbCgiICsgdGhpcy5uYW1lTG9va3VwKCdwYXJ0aWFscycsIGNvbnRleHQsICdwYXJ0aWFsJykgKyAiLCAnIiArIGNvbnRleHQgKyAiJywgIiArIHRoaXMucG9wU3RhY2soKSArICIsIGhlbHBlcnMsIHBhcnRpYWxzKTsiKTsKICAgIH0sCgogICAgYXNzaWduVG9IYXNoOiBmdW5jdGlvbihrZXkpIHsKICAgICAgdmFyIHZhbHVlID0gdGhpcy5wb3BTdGFjaygpOwogICAgICB2YXIgaGFzaCA9IHRoaXMudG9wU3RhY2soKTsKCiAgICAgIHRoaXMuc291cmNlLnB1c2goaGFzaCArICJbJyIgKyBrZXkgKyAiJ10gPSAiICsgdmFsdWUgKyAiOyIpOwogICAgfSwKCiAgICAvLyBIRUxQRVJTCgogICAgY29tcGlsZXI6IEphdmFTY3JpcHRDb21waWxlciwKCiAgICBjb21waWxlQ2hpbGRyZW46IGZ1bmN0aW9uKGVudmlyb25tZW50LCBkYXRhKSB7CiAgICAgIHZhciBjaGlsZHJlbiA9IGVudmlyb25tZW50LmNoaWxkcmVuLCBjaGlsZCwgY29tcGlsZXI7CiAgICAgIHZhciBjb21waWxlZCA9IFtdOwoKICAgICAgZm9yKHZhciBpPTAsIGw9Y2hpbGRyZW4ubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIGNoaWxkID0gY2hpbGRyZW5baV07CiAgICAgICAgY29tcGlsZXIgPSBuZXcgdGhpcy5jb21waWxlcigpOwoKICAgICAgICBjb21waWxlZFtpXSA9IGNvbXBpbGVyLmNvbXBpbGUoY2hpbGQsIGRhdGEpOwogICAgICB9CgogICAgICBlbnZpcm9ubWVudC5yYXdDaGlsZHJlbiA9IGNoaWxkcmVuOwogICAgICBlbnZpcm9ubWVudC5jaGlsZHJlbiA9IGNvbXBpbGVkOwogICAgfSwKCiAgICBwcm9ncmFtRXhwcmVzc2lvbjogZnVuY3Rpb24oZ3VpZCkgewogICAgICBpZihndWlkID09IG51bGwpIHsgcmV0dXJuICJ0aGlzLm5vb3AiOyB9CgogICAgICB2YXIgcHJvZ3JhbVBhcmFtcyA9IFtndWlkLCAiaGVscGVycyIsICJwYXJ0aWFscyJdOwoKICAgICAgdmFyIGRlcHRocyA9IHRoaXMuZW52aXJvbm1lbnQucmF3Q2hpbGRyZW5bZ3VpZF0uZGVwdGhzLmxpc3Q7CgogICAgICBpZih0aGlzLmRhdGEpIHsgcHJvZ3JhbVBhcmFtcy5wdXNoKCJkYXRhIik7IH0KCiAgICAgIGZvcih2YXIgaT0wLCBsID0gZGVwdGhzLmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBkZXB0aCA9IGRlcHRoc1tpXTsKCiAgICAgICAgaWYoZGVwdGggPT09IDEpIHsgcHJvZ3JhbVBhcmFtcy5wdXNoKCJjb250ZXh0Iik7IH0KICAgICAgICBlbHNlIHsgcHJvZ3JhbVBhcmFtcy5wdXNoKCJkZXB0aCIgKyAoZGVwdGggLSAxKSk7IH0KICAgICAgfQoKICAgICAgaWYoIXRoaXMuZW52aXJvbm1lbnQudXNlUGFydGlhbCkgewogICAgICAgIGlmKHByb2dyYW1QYXJhbXNbM10pIHsKICAgICAgICAgIHByb2dyYW1QYXJhbXNbMl0gPSAibnVsbCI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHByb2dyYW1QYXJhbXMucG9wKCk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZihkZXB0aHMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuICJ0aGlzLnByb2dyYW0oIiArIHByb2dyYW1QYXJhbXMuam9pbigiLCAiKSArICIpIjsKICAgICAgfSBlbHNlIHsKICAgICAgICBwcm9ncmFtUGFyYW1zWzBdID0gInRoaXMuY2hpbGRyZW5bIiArIGd1aWQgKyAiXSI7CiAgICAgICAgcmV0dXJuICJ0aGlzLnByb2dyYW1XaXRoRGVwdGgoIiArIHByb2dyYW1QYXJhbXMuam9pbigiLCAiKSArICIpIjsKICAgICAgfQogICAgfSwKCiAgICByZWdpc3RlcjogZnVuY3Rpb24obmFtZSwgdmFsKSB7CiAgICAgIHRoaXMudXNlUmVnaXN0ZXIobmFtZSk7CiAgICAgIHRoaXMuc291cmNlLnB1c2gobmFtZSArICIgPSAiICsgdmFsICsgIjsiKTsKICAgIH0sCgogICAgdXNlUmVnaXN0ZXI6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgaWYoIXRoaXMucmVnaXN0ZXJzW25hbWVdKSB7CiAgICAgICAgdGhpcy5yZWdpc3RlcnNbbmFtZV0gPSB0cnVlOwogICAgICAgIHRoaXMucmVnaXN0ZXJzLmxpc3QucHVzaChuYW1lKTsKICAgICAgfQogICAgfSwKCiAgICBwdXNoU3RhY2s6IGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgdGhpcy5zb3VyY2UucHVzaCh0aGlzLm5leHRTdGFjaygpICsgIiA9ICIgKyBpdGVtICsgIjsiKTsKICAgICAgcmV0dXJuICJzdGFjayIgKyB0aGlzLnN0YWNrU2xvdDsKICAgIH0sCgogICAgbmV4dFN0YWNrOiBmdW5jdGlvbigpIHsKICAgICAgdGhpcy5zdGFja1Nsb3QrKzsKICAgICAgaWYodGhpcy5zdGFja1Nsb3QgPiB0aGlzLnN0YWNrVmFycy5sZW5ndGgpIHsgdGhpcy5zdGFja1ZhcnMucHVzaCgic3RhY2siICsgdGhpcy5zdGFja1Nsb3QpOyB9CiAgICAgIHJldHVybiAic3RhY2siICsgdGhpcy5zdGFja1Nsb3Q7CiAgICB9LAoKICAgIHBvcFN0YWNrOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuICJzdGFjayIgKyB0aGlzLnN0YWNrU2xvdC0tOwogICAgfSwKCiAgICB0b3BTdGFjazogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAic3RhY2siICsgdGhpcy5zdGFja1Nsb3Q7CiAgICB9LAoKICAgIHF1b3RlZFN0cmluZzogZnVuY3Rpb24oc3RyKSB7CiAgICAgIHJldHVybiAnIicgKyBzdHIKICAgICAgICAucmVwbGFjZSgvXFwvLCAnXFxcXCcpCiAgICAgICAgLnJlcGxhY2UoLyIvZywgJ1xcIicpCiAgICAgICAgLnJlcGxhY2UoL1xuL2csICdcXG4nKQogICAgICAgIC5yZXBsYWNlKC9cci9nLCAnXFxyJykgKyAnIic7CiAgICB9CiAgfTsKCiAgdmFyIHJlc2VydmVkV29yZHMgPSAoImJyZWFrIGNhc2UgY2F0Y2ggY29udGludWUgZGVmYXVsdCBkZWxldGUgZG8gZWxzZSBmaW5hbGx5ICIgKwogICAgICAgICAgICAgICAgICAgICAgICJmb3IgZnVuY3Rpb24gaWYgaW4gaW5zdGFuY2VvZiBuZXcgcmV0dXJuIHN3aXRjaCB0aGlzIHRocm93ICIgKyAKICAgICAgICAgICAgICAgICAgICAgICAidHJ5IHR5cGVvZiB2YXIgdm9pZCB3aGlsZSB3aXRoIG51bGwgdHJ1ZSBmYWxzZSIpLnNwbGl0KCIgIik7CgogIGNvbXBpbGVyV29yZHMgPSBKYXZhU2NyaXB0Q29tcGlsZXIuUkVTRVJWRURfV09SRFMgPSB7fTsKCiAgZm9yKHZhciBpPTAsIGw9cmVzZXJ2ZWRXb3Jkcy5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICBjb21waWxlcldvcmRzW3Jlc2VydmVkV29yZHNbaV1dID0gdHJ1ZTsKICB9Cgp9KShIYW5kbGViYXJzLkNvbXBpbGVyLCBIYW5kbGViYXJzLkphdmFTY3JpcHRDb21waWxlcik7CgpIYW5kbGViYXJzLlZNID0gewogIHByb2dyYW1XaXRoRGVwdGg6IGZ1bmN0aW9uKGZuKSB7CiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICByZXR1cm4gZnVuY3Rpb24oY29udGV4dCwgaGVscGVycywgcGFydGlhbHMsIGRhdGEpIHsKICAgICAgYXJnc1swXSA9IGhlbHBlcnMgfHwgYXJnc1swXTsKICAgICAgYXJnc1sxXSA9IHBhcnRpYWxzIHx8IGFyZ3NbMV07CiAgICAgIGFyZ3NbMl0gPSBkYXRhIHx8IGFyZ3NbMl07CiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBbY29udGV4dF0uY29uY2F0KGFyZ3MpKTsKICAgIH07CiAgfSwKICBwcm9ncmFtOiBmdW5jdGlvbihmbiwgaGVscGVycywgcGFydGlhbHMsIGRhdGEpIHsKICAgIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCBoMiwgcDIsIGQyKSB7CiAgICAgIHJldHVybiBmbihjb250ZXh0LCBoMiB8fCBoZWxwZXJzLCBwMiB8fCBwYXJ0aWFscywgZDIgfHwgZGF0YSk7CiAgICB9OwogIH0sCiAgbm9vcDogZnVuY3Rpb24oKSB7IHJldHVybiAiIjsgfSwKICBjb21waWxlOiBmdW5jdGlvbihzdHJpbmcsIGRhdGEpIHsKICAgIHZhciBhc3QgPSBIYW5kbGViYXJzLnBhcnNlKHN0cmluZyk7CiAgICB2YXIgZW52aXJvbm1lbnQgPSBuZXcgSGFuZGxlYmFycy5Db21waWxlcigpLmNvbXBpbGUoYXN0KTsKICAgIHJldHVybiBuZXcgSGFuZGxlYmFycy5KYXZhU2NyaXB0Q29tcGlsZXIoKS5jb21waWxlKGVudmlyb25tZW50LCBkYXRhKTsKICB9LAogIGludm9rZVBhcnRpYWw6IGZ1bmN0aW9uKHBhcnRpYWwsIG5hbWUsIGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzKSB7CiAgICBpZihwYXJ0aWFsID09PSB1bmRlZmluZWQpIHsKICAgICAgdGhyb3cgbmV3IEhhbmRsZWJhcnMuRXhjZXB0aW9uKCJUaGUgcGFydGlhbCAiICsgbmFtZSArICIgY291bGQgbm90IGJlIGZvdW5kIik7CiAgICB9IGVsc2UgaWYocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7CiAgICAgIHJldHVybiBwYXJ0aWFsKGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzKTsKICAgIH0gZWxzZSB7CiAgICAgIHBhcnRpYWxzW25hbWVdID0gSGFuZGxlYmFycy5WTS5jb21waWxlKHBhcnRpYWwpOwogICAgICByZXR1cm4gcGFydGlhbHNbbmFtZV0oY29udGV4dCwgaGVscGVycywgcGFydGlhbHMpOwogICAgfQogIH0KfTsKCkhhbmRsZWJhcnMuY29tcGlsZSA9IEhhbmRsZWJhcnMuVk0uY29tcGlsZTs7Cg==", "content_type": "application/javascript"}, "images/form-radio-on.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAA3NCSVQICAjb4U/gAAAAYFBMVEX///////8AAAAICAjv7+/V1dXMzMysrKwQDxC0tLTn5+fGxsbh4eEpKSkZGRmmpqaNjY2ZmZlLS0uNjY1aWlpCQkIhISF0dHRjY2NCQkIICAg6OjoQDxApKSkICAgZGRkfMLr3AAAAIHRSTlMA/1VVESIiIlXdEREiVVUiIjMzVVVVVWZmZmZ3d4iZqlLfu1MAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAFXRFWHRDcmVhdGlvbiBUaW1lADgvMjAvMTBJWw4MAAAAyUlEQVQYlXXQ7XKEIAxA0bWF4CKwoAlKVXj/t2yCre1Mp/eHH2cAxzwe/6YAIgegfmyCOL9xc4TpNtOps5lue7/7UgXzyH1wcp/7uTqGEMajcsfIj1ELYs7hqM9heNYj5IyCL+99FhPN/PISJPK+Dr3qPZGgISpnu7CdhcgIIpW9XdvbXggFXUTkpfIhXogYnaDZsOxn48694GYElUurMMe0JteHYoF120rhy5rAXj9vdVrW3pK0/R6TdWAWzoC7TQ5WmlO/ZvynTykiD/muLUp/AAAAAElFTkSuQmCC", "content_type": "image/png"}, "google-spreadsheet-javascript/tests/tests.js": {"data": "JChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgdmFyIHVybDsKICBtb2R1bGUoIkJhc2ljIFVuaXQgVGVzdCIpOwogIHRlc3QoIlNhbXBsZSB0ZXN0IiwgZnVuY3Rpb24oKSB7CiAgICBleHBlY3QoMSk7CiAgICByZXR1cm4gZXF1YWxzKDQgLyAyLCAyKTsKICB9KTsKICBtb2R1bGUoIkdvb2dsZSBTcHJlYWRzaGVldCIpOwogIHVybCA9ICJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL3B1Yj9rZXk9MEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMmaGw9ZW4mb3V0cHV0PWh0bWwiOwogIFFVbml0LnRlc3RTdGFydCA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgIHJldHVybiBjb25zb2xlLmxvZyhuYW1lKTsKICB9OwogIHRlc3QoIkxvYWQgZnJvbSBVUkwiLCBmdW5jdGlvbigpIHsKICAgIHZhciBleHBlY3RlZEpzb25VcmwsIGV4cGVjdGVkS2V5LCBnb29nbGVVcmw7CiAgICBleHBlY3QoMik7CiAgICBleHBlY3RlZEtleSA9ICIwQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYyI7CiAgICBleHBlY3RlZEpzb25VcmwgPSAiaHR0cDovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLyIgKyBleHBlY3RlZEtleSArICIvb2Q2L3B1YmxpYy9iYXNpYz9hbHQ9anNvbi1pbi1zY3JpcHQiOwogICAgZ29vZ2xlVXJsID0gbmV3IEdvb2dsZVVybCh1cmwpOwogICAgZXF1YWxzKGdvb2dsZVVybC5rZXksIGV4cGVjdGVkS2V5KTsKICAgIHJldHVybiBlcXVhbHMoZ29vZ2xlVXJsLmpzb25VcmwsIGV4cGVjdGVkSnNvblVybCk7CiAgfSk7CiAgdGVzdCgiU2F2ZSBhbmQgZmluZCIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGdvb2dsZVNwcmVhZHNoZWV0LCByZXN1bHQ7CiAgICBnb29nbGVTcHJlYWRzaGVldCA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgpOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQudXJsKHVybCk7CiAgICBnb29nbGVTcHJlYWRzaGVldC50eXBlID0gInRlc3QiOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQuc2F2ZSgpOwogICAgcmVzdWx0ID0gR29vZ2xlU3ByZWFkc2hlZXQuZmluZCh7CiAgICAgIHVybDogdXJsCiAgICB9KTsKICAgIHJldHVybiBlcXVhbHMoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSwgSlNPTi5zdHJpbmdpZnkoZ29vZ2xlU3ByZWFkc2hlZXQpKTsKICB9KTsKICB0ZXN0KCJMb2FkIGFuZCBwYXJzZSIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGdvb2dsZVNwcmVhZHNoZWV0OwogICAgZXhwZWN0KDEpOwogICAgbG9jYWxTdG9yYWdlLmNsZWFyKCk7CiAgICBnb29nbGVTcHJlYWRzaGVldCA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgpOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQudXJsKHVybCk7CiAgICBnb29nbGVTcHJlYWRzaGVldC50eXBlID0gInRlc3QiOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQuc2F2ZSgpOwogICAgc3RvcCgpOwogICAgcmV0dXJuIGdvb2dsZVNwcmVhZHNoZWV0LmxvYWQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIGVxdWFscyhyZXN1bHQuZGF0YS5sZW5ndGgsIDEwKTsKICAgICAgcmV0dXJuIHN0YXJ0KCk7CiAgICB9KTsKICB9KTsKICByZXR1cm4gdGVzdCgiTG9hZCBhbmQgcGFyc2UgbG9uZyBhbmQgY29tcGxleCB0ZXh0IGNlbGwiLCBmdW5jdGlvbigpIHsKICAgIHZhciBnb29nbGVTcHJlYWRzaGVldDsKICAgIGV4cGVjdCgxKTsKICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQgPSBuZXcgR29vZ2xlU3ByZWFkc2hlZXQoKTsKICAgIGdvb2dsZVNwcmVhZHNoZWV0LnVybCgiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9wdWI/a2V5PTBBZ28zMUpRUFp4WnJkR0pTWlRZMk1IVTRWbEozUm5OdGRuTkRWalJqTFZFJmhsPWVuJm91dHB1dD1odG1sIik7CiAgICBnb29nbGVTcHJlYWRzaGVldC50eXBlID0gInRlc3QiOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQuc2F2ZSgpOwogICAgc3RvcCgpOwogICAgcmV0dXJuIGdvb2dsZVNwcmVhZHNoZWV0LmxvYWQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIGVxdWFscyhyZXN1bHQuZGF0YVswXS5tYXRjaCgvY29ycmVjdGVtZW50LykubGVuZ3RoLCAxKTsKICAgICAgcmV0dXJuIHN0YXJ0KCk7CiAgICB9KTsKICB9KTsKfSk7", "content_type": "application/javascript"}, "images/TangerineIcon.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAAEsAAABLCAYAAAA4TnrqAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9sJARc5DWjdB6oAAA9GSURBVHja7VxbcBvXef7OWewCBESQIHgXxRtYKiI0GutWSml0tVgmFa3EnkSqp24jjzvN1C+t+9LOZHqZyUxn+lS5D+30wRm7dZLadZNYkRvTVFw7lC3JlimPTJAmY4qmRBKiSBDgBQSxiz2nD7tYYHElwYtsRv8bsQTO7rff//2X8+8SrMLUbrcDQDOA3fhy230At4XOwOhqvkRWCNAhAGcANGFrmQxgAsDPhM7AO2sCS+12PwrgTwE4sPWsGsAjAET973cAPCd0Bj5eFVg6m76/Bdwtk9l1kNxZjj8ndAYurAgsHah/3IIuB11vW5PYlM1eFDoDT+cEawsDlY9NKwKMpvzD97cgUM0Ajq4SKAA4r3a7z2dkltrtPqOL+VYxUWdT9Rp+IwSgSegMhAxm6e735BYCyg3g0TUCBQClAP451Q0f3ULpgRfAV1cg4qtxx8ZUsLaCiB/TNWq97VsAQNVud+UWEPVqXcSdG/T73wQAywbdiRUbj1JRDUhOFhRLoNA016GlyhwkplhqlwM53G6jr+F4HKxNZ1Xsc3t1zG+rZkHRzaPUvpLvRAFQhzovVEbvCXURv1AuRwAcLCAlKMjUbnejZbMAYvMWuzK8rSnmt+1AjBQkviwsONmo3amM2ltpiQKxJQxLfWSzLmHjweJRKkb7Sr3qPeuOrAVqrQtwOUBqS80HIgq4PwjMhsGDYTNwcyKiH5VCHiyGtGthU0DbULBkX3GzctvRmsakIgnUux3EWwfi3Q5hegD0vg+AH7BYoVZ4wco85h8LhsFH7oP5JsB944mbsSQg+lEplM8csO6fAy1Rvlxg8SgVl98rO8jmRJOeEJcDtGM3yIGETFo+64YwPWAW9dkRqBVtiLV0ah9MBcCHx4C5RdBaCWj8CrhsAbsyDERkg2mRt8sh7ZmH6Al/OcBSZyRn9APXQZNwF0kQHttrAikbUHGLf658WgR+azjddfe0wvI3j4H9og/sRqLhKd9ygoVEWPeHvthgqTOSc/lq2VeT3Y5460APNIFPBsF7+gGbBLp7O1BsyQqUwbD5cfCpsszsvTUMlGwDPdsOcqAJ7JXrhq7F7hQBwLoDRtRu95PrURdmAop27AYfuQ8+cj+dOefaIRV/Ajo7kj36OesQfX0u+6I2CfSv/sQIBup/9JrWstRH1hOwE3TdIt4HroPJQAln27VolgEoAGA3RqFWeHOnCtbK3Asvy8Adv+7qIoTvnQRNcvXYnSJEPypdN2atC1jL75WZNEo42w7irQPrHcoO8Mh9MFINWKzZ/2dRyH+jpgKgsyMQpgdAwtOgZ9vTAIu75QPXLNlX3Jwc9QRdQ7IxysSc3mGoe9og+G9mBoLbcmtIawNoWxXEWy8nvmN1InbqOJTJEPhk0BB9oVwGsasPjlls3mJXbjtak8U8HvH4ZH6t4P3jUGv2Zf/9xRynV+UG+cYhiEMXzQBG5yEOXYT4RBVQJGnrKHRd3JGujVVOI+EkLoemU/GT9lRqmXkusIJhsM8WwJx16cccFcDcYnZh7zoK8fM3QaLzGf9FnHrfdD7qjAR1RnowYLF5iz25hKEdu4EiEXx4DPzSr4H3P4Tw5EGTfmT8nQ9HwSrThZ5bncDcQmb36zoGi/Ib0PnxHNV6FLRRAvEkgoQyWPxgwJJ9zlYTi3Y4wV74GfhrPeC3hsGHx8B+fAn0cD2Ec+3Z2eUbh2ppSBN67qgED6UzixzZB6E8BuHu1RXkRdF1ZVdBYPEoFU2sOtAI9qM3gKlAWmhnL78B8DCE574O4srcuWb9E1Bd5lqQ2SvSmEUaakB/twXiSPfK2G+v0Ap0b8LNY2P2zQUrdsdenVzvgS1pOU82cHuuAX23IDx7wuQWxvHeoTSh58sp+78lxSDfOqoJeiya/4Y6Kgy2JkuB6rdubuqg3rNWJ0fAVKCkU38J2qTRX770AzD/gOaaUwEIT3aAffA52Fv9ZqG/x8EdFSDhae2zWJFZ0L99Chb/+8bx7FdkheryaOBHFKBIBPFuB3E5wINhcIVC9dsg1CxvDrPUUCKvIhkEnEfmITQfgtB8CLY/+wmIzWl0D9gLPwXd6YZw/ogR2gGA3xg12MUdFeBJLk1OHYZAp3LWktxRgVhLJ6K7/hiyvwmx568h9nf/A64X2cmMVqelzWGWOiM5TYVybSn4jDnKKO/9ECw4DqG2TbsjzYegDrxl0jHScQiW5zqhvngFfDII5puAeroDFotV1yuNreTgblBPKSxJiaeJRRVtUGv2aSnIG6Pgvlvm833lOoS4B+jAsTlxc8DiixZ7chSMZ9I8FdSBtxIAZdOxMT+Ep38PrNsHdmMU/NMZTehtJcBUAKShBuTEXlOGDgCszKM1CEm19r0fv5vWSTWdy8WbEL77NVNU3BSwWEgsMcCqcRmaQr7doUXDuUVgbkFzoxyiD0DLyeYWQbuOgngqwXqHwZ7Rcy7bbZCuYxCHXgeJzoNbnWCVXqgVbWCfBMCuToD7PlzZSUfktIqCKxREZJtYGxaJRnuEvT0CzIaBMgeIpwFkZxvgcgACA6E8AZ7eJeBj/oSO/egNkK5joOfawZyluk5VwjLTB251QvF+B0x1aWDeuGx0R1dX7csgtS6jXmRzFgjl8iaCFaf1S0l9JL1XntpzJ7WlWvlT/zsgtaWgT7g0sO/4wZdlze3qa0wRMObeD+4bB7s8vKLCPGeC6nKAF61tR3/NYPEbo/kvJCJnbgLGQXQ5NEbaMmhJkV6y2CRgMphTm7J7gKQJ/EejDxas5P73qi0ia66rt54Ri5rKHn53EhgdAynZBrKvCuSkBygpBp9Z0hgcZ3GGrbLUriyK1j4nsnZmTRbWtqUHmkAONIHW2SD4+0AHeyHveUoLEk4nCAuBbLeDLdeAX74KLMvmiGuTQKrcIOUS4N2uMW9RBV9SAFXQev6TIQhn9oJ4t2vfmQ0/QLCCYS3PWqGeEJcD5MhO0L01ECJ3Qe+/C9qndQ4U73fAb/5GY6tvEMJTB2G9+QJijceh/tFpsNcum2vFZTkRJIbH0tcCQHfWAE5qqhQMtpXLGw8WrYzOYNTeGl+cHmiCmgcsg0XVBIK/D8LgZVN9p+44DBYSwHuugT51GugZBf94EqrLA8tn3SA1exF75nHwS+9q+4cG+HWwdv0tmH9QA/zKD8GXE/0tPubXomBrg8kDVpsyFA7WtlgkuY9OvncSpN+8S5yJRYL/LZBb6XUdK/MgVrwb7IWfah9YJa1WvDEKdrYFwvQABP9N0PlxKI+dAfvADd7bpzNlHMw/CPHRv9DY0taByL+cNi8Qz/30lAEAaElsk8ByxpaIlS3FNyi4bwLC+a+BvXId7MZoXhalNvgUTyfYS/9rJLBcFZI2NNrBrU6Q6DxIeBrSrZeheDvBGk6DvdYDLMuQL18AbMWgNW0G23gwpSk4twB+O8F+oULePM2iLiWg3rPa48074t0Oeq4d9Fy7zoTMLEo1ZecZ8DevJ/pgNglI0hXWOwy2z5to9MWiEIcuQt1xGLFnntAAmwpAvvSD/FHbN5E4//JoYUGpIIRrlu+ZTiKiDWOQ8LSmMeH8QMUaj4ONhExb86TKbWTY8bRErWhLTwXuXoU4/kvQPzwFsqc190I2CezuvJH1E5EVJO6Fg9W4dA8WrhgJp65XOXviqYUwrddSgmSzSuATIVMexj4JpE/U6GtZB/4TwtFmkK5j2SPwqcPg/QlWrWU0qdAevFNsSXKXnn6j572SDqZSd0JLBVIL7Sq3yQ0T7PJm3ZQQff8NsSwA+szjQEmxqbNKnzoNbCsxpTbJ570ZmiUC2Cu2hMXYiB1coVr06ukHduVbzQrF0wn+y2uZd25skuGG1q5nEb30r2lCnzFDv3sVpOw+lPN/AD4wptWYVVp/kl3oNrFqLRuthTCrFYCTiAxiy1KCAVeGoeaZ0Y81Hgfru2vKlcz/oEVC6q6F1PXnEA9/MyH0lbnnIujsCKShV0H31CeA6uk3aaC0a2FNOfhqwapG0mSwxRNOJHgRGbHXhjIKMgCtoxlxGTlSRhfVXdDyyEmNXWf/OqfQp+mT3veKl2FxeQAA0RPe1O37+LMwpkzYun8uqU4MQu4rhbrjsLkgdlQg5tqvhfqcK2izDepdbaCELy3kFfpUNzf6ay/1Js7TrkLctbiphXTyU58JvahZhugJQxlxGCyQXbtBO54FCU+DqFEwewX4z3+dt3MaL3TV4Q8hv/0ysLRgFvqz3pzzXKrLo81p/fvbpjrQdihYcIlTCFjVyPHQkLRnHuqMZGwEsJ5+IKKAntmb6BRUuTMWvMbdb6gBS7rA6Kv/ZHZRXehhsWauCCxWqOX7NaCSdMq6P7RuQ7m0EPfLmPsdmTWdFLsyBPbq9UTC2tqQP63IU5Cz3mHE6g6nb/VbnZBLTyH2b1dNQIme9Z2TtxTqfmnMEBlsR2ax3FuWYNiNUfDJkDb3WevWqv9s7Cp2AljIC6Z6phNqzV7DxblghXozCPZf5sAhesKQ9sxjPS0fWG6s4pm9OGDRay5ju4lPBqFeeBP0QBPo7x8Gn1tMn4mwScBX6kFmSVr3wuQGSQMm3FEBdvs+2MU+E5virrcRDxFY1up+mQELQPm0GPLgNpNAM9+E9rDA7p2AvGxoFfSNCqG1wehepPbQhXPtxhMY3DcBdmUozW2JXYV1f6jg2i/vteWYVt6pJ6AFmzojaXPpGXaASa1Lm0HwVII0V6a1qrlvHHwipB33VGo9d9+4XringyF6whB3La5L1MtiJ7Ixy75WoOKt26KTM4jdKYI8WAy+JJhyMj4ZBHoSzUKUpY8ksV/05V1D3LWwYWxaiRt613WR+ggs9RFtcnjMnnH7nAfDaUV0LlcXaqIQW8Ib+qzOSsBalagXAhpfEhDz26BOa7lZMuOyinuJAqFchlAhFzQutA72sQVA6sbfhr9ShdhVTWOSHkjKNqxB7eqaa7p1sJDQGQhZAHyS9OEObNxzxnm15wts7wAAFToDYQD9Se2Xh5ZuryeXO7/SWy/2h7ikuyCAnxtgCZ2BX2GdnuPZgva86fUquj37EJc0+xzAhbSug/4atwsP8THZ43FWAZlfNvZ/0F/68FtuTwudgRfz9bMejwvaQ6BS8sOsRXC3+x8A/P1voUY9ne3NkvneJvkItPdHbXW3DAF4HsCFZI1aFVgpoH0X2quRGrcQSO/oCeeLuUBaFVgpwJWigKbgF41Jud5Hms3+H2Pb0X14cDqSAAAAAElFTkSuQmCC", "content_type": "image/png"}, "tests/tests.coffee": {"data": "Y2xhc3MgQ291Y2hEQgoKQ291Y2hEQi5kZWxldGUgPSAoZG9jdW1lbnRzKSAtPgogIGZvciBkb2N1bWVudCBpbiBkb2N1bWVudHMKICAgIGRvY3VtZW50LnVybFBhdGggPSBkb2N1bWVudC51cmxQYXRoLnN1YnN0cmluZyhkb2N1bWVudC51cmxQYXRoLmluZGV4T2YoIi8iKSsxKQogICAgY291Y2hkYl91cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyBkb2N1bWVudC51cmxQYXRoCiAgICAjIEZpZ3VyZSBvdXQgdGhlIHJldmlzaW9uIG51bWJlcgogICAgJC5hamF4CiAgICAgIHVybDogY291Y2hkYl91cmwsCiAgICAgIHR5cGU6ICdHRVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBhc3luYzogZmFsc2UsCiAgICAgIHN1Y2Nlc3M6IChyZXN1bHQpLT4KICAgICAgICBjb3VjaGRiX3VybCA9ICIje2NvdWNoZGJfdXJsfT9yZXY9I3tyZXN1bHQuX3Jldn0iCiAgICAgICAgIyBTZW5kIHRoZSBhY3R1YWwgZGVsZXRlIHJlcXVlc3QKICAgICAgICAkLmFqYXgKICAgICAgICAgIHVybDogY291Y2hkYl91cmwKICAgICAgICAgIGRhdGE6IHtyZXY6IHJlc3VsdC5fcmV2fQogICAgICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICBzdWNjZXNzOiAtPgogICAgICAgICAgICBjb25zb2xlLmxvZyAiRGVsZXRlZCAje2NvdWNoZGJfdXJsfSIKICAgICAgICAgIGVycm9yOiAtPgogICAgICAgICAgICBjb25zb2xlLmxvZyAiTm90aGluZyB0byBkZWxldGUgYXQgI3tjb3VjaGRiX3VybH0iCgokKGRvY3VtZW50KS5yZWFkeSAtPgogIG1vZHVsZSAiRUdSQSIKCiAgUVVuaXQudGVzdFN0YXJ0ID0gKG5hbWUpIC0+CiAgICBjb25zb2xlLmxvZyAiKioje25hbWV9KioiCiAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKQoKCiAgdGVzdCAiSlF1ZXJ5TW9iaWxlUGFnZSIsIC0+CiAgICBleHBlY3QoMykKICAgIGpxdWVyeU1vYmlsZVBhZ2UgPSBuZXcgSlF1ZXJ5TW9iaWxlUGFnZSgpCiAgICBqcXVlcnlNb2JpbGVQYWdlLnBhZ2VJZCA9ICJwYWdlSWQiCiAgICBqcXVlcnlNb2JpbGVQYWdlLmZvb3RlciA9ICJmb290ZXJfdGV4dCIKICAgIGpxdWVyeU1vYmlsZVBhZ2UuaGVhZGVyID0gImhlYWRlciIKICAgIGpxdWVyeU1vYmlsZVBhZ2UuY29udGVudCA9ICJjb250ZW50IgogICAgZXhwZWN0ZWRfcmVzdWx0ID0gIjxkaXYgZGF0YS1yb2xlPSdwYWdlJyBpZD0ncGFnZUlkJz4gIDxkaXYgZGF0YS1yb2xlPSdoZWFkZXInPiAgICBoZWFkZXIgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICBjb250ZW50ICA8L2Rpdj48IS0tIC9jb250ZW50IC0tPiAgPGRpdiBkYXRhLXJvbGU9J2Zvb3Rlcic+ICAgIGZvb3Rlcl90ZXh0ICA8L2Rpdj48IS0tIC9oZWFkZXIgLS0+PC9kaXY+PCEtLSAvcGFnZSAtLT4iCgogICAgZXF1YWxzIGpxdWVyeU1vYmlsZVBhZ2UucmVuZGVyKCksIGV4cGVjdGVkX3Jlc3VsdAogICAgZXF1YWxzIGpxdWVyeU1vYmlsZVBhZ2UudG9KU09OKCksCiAgICAgIHBhZ2VJZDogInBhZ2VJZCIKICAgICAgcGFnZVR5cGU6ICJKUXVlcnlNb2JpbGVQYWdlIgogICAgICB1cmxQYXRoOiB1bmRlZmluZWQKICAgICAgdXJsU2NoZW1lOiB1bmRlZmluZWQKCiAgICBhbm90aGVySnF1ZXJ5TW9iaWxlUGFnZSA9IEpRdWVyeU1vYmlsZVBhZ2UuZGVzZXJpYWxpemUoanF1ZXJ5TW9iaWxlUGFnZS50b0pTT04oKSkKICAgIGVxdWFscyBhbm90aGVySnF1ZXJ5TW9iaWxlUGFnZS50b0pTT04oKSwKICAgICAgcGFnZUlkOiAicGFnZUlkIgogICAgICBwYWdlVHlwZTogIkpRdWVyeU1vYmlsZVBhZ2UiCiAgICAgIHVybFBhdGg6IHVuZGVmaW5lZAogICAgICB1cmxTY2hlbWU6IHVuZGVmaW5lZAoKCiAgdGVzdCAiRGF0ZVRpbWVQYWdlIiwgLT4KICAgIGV4cGVjdCgzKQogICAgZGF0ZVRpbWVQYWdlID0gbmV3IERhdGVUaW1lUGFnZSgpCiAgICBkYXRlVGltZVBhZ2UucGFnZUlkID0gInBhZ2VJZCIKICAgIGV4cGVjdGVkX3Jlc3VsdCA9ICIKICAgIDxkaXYgZGF0YS1yb2xlPSdwYWdlJyBpZD0ncGFnZUlkJz4gIAogICAgICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4KICAgICAgICA8YSBocmVmPScjJz48L2E+CiAgICAgICAgPGgxPnBhZ2VJZDwvaDE+ICAgCiAgICAgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gIAogICAgICA8ZGl2IGRhdGEtcm9sZT0nY29udGVudCc+CiAgICAgICAgPGZvcm0+CiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4KICAgICAgICAgICAgPGxhYmVsIGZvcj0neWVhcic+WWVhcjo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSd5ZWFyJyBpZD0neWVhcicgLz4KICAgICAgICAgICAgPGxhYmVsIGZvcj0nbW9udGgnPk1vbnRoOjwvbGFiZWw+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdtb250aCcgaWQ9J21vbnRoJyAvPgogICAgICAgICAgICA8bGFiZWwgZm9yPSdkYXknPkRheTo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSdkYXRlJyBpZD0nZGF0ZScgLz4KICAgICAgICAgICAgPGxhYmVsIGZvcj0ndGltZSc+VGltZTo8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSd0aW1lJyBpZD0ndGltZScgLz4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZm9ybT4KICAgICAgPC9kaXY+PCEtLSAvY29udGVudCAtLT4gIAogICAgICA8ZGl2IGRhdGEtcm9sZT0nZm9vdGVyJz4KICAgICAgICA8YSBocmVmPScjJz48L2E+CiAgICAgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4KICAgIDwvZGl2PjwhLS0gL3BhZ2UgLS0+IgogICAgZXF1YWxzIGRhdGVUaW1lUGFnZS5yZW5kZXIoKSwgZXhwZWN0ZWRfcmVzdWx0CiAgICBlcXVhbHMgZGF0ZVRpbWVQYWdlLnRvSlNPTigpLAogICAgICBwYWdlSWQ6ICJwYWdlSWQiCiAgICAgIHBhZ2VUeXBlOiAiRGF0ZVRpbWVQYWdlIgogICAgICB1cmxQYXRoOiB1bmRlZmluZWQKICAgICAgdXJsU2NoZW1lOiB1bmRlZmluZWQKCiAgICBhbm90aGVyRGF0ZVRpbWVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShkYXRlVGltZVBhZ2UudG9KU09OKCkpCiAgICBlcXVhbHMgYW5vdGhlckRhdGVUaW1lUGFnZS50b0pTT04oKSwKICAgICAgcGFnZUlkOiAicGFnZUlkIgogICAgICBwYWdlVHlwZTogIkRhdGVUaW1lUGFnZSIKICAgICAgdXJsUGF0aDogdW5kZWZpbmVkCiAgICAgIHVybFNjaGVtZTogdW5kZWZpbmVkCgogIHRlc3QgIkpRdWVyeUNoZWNrYm94IiwgLT4KICAgIGV4cGVjdCgxKQogICAgdGVzdF9vYmplY3QgPSBuZXcgSlF1ZXJ5Q2hlY2tib3goKQogICAgdGVzdF9vYmplY3QudW5pcXVlX25hbWUgPSAidW5pcXVlX25hbWUiCiAgICB0ZXN0X29iamVjdC5jb250ZW50ID0gImNvbnRlbnQiCiAgICBleHBlY3RlZF9yZXN1bHQgPSAiCjxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0ndW5pcXVlX25hbWUnIGlkPSd1bmlxdWVfbmFtZScgY2xhc3M9J2N1c3RvbScgLz48bGFiZWwgZm9yPSd1bmlxdWVfbmFtZSc+Y29udGVudDwvbGFiZWw+IgogICAgZXF1YWxzKHRlc3Rfb2JqZWN0LnJlbmRlcigpLCBleHBlY3RlZF9yZXN1bHQpCgogIHRlc3QgIkpRdWVyeUNoZWNrYm94R3JvdXAiLCAtPgogICAgZXhwZWN0KDEpCiAgICB0ZXN0X29iamVjdCA9IG5ldyBKUXVlcnlDaGVja2JveEdyb3VwKCkKICAgIHRlc3Rfb2JqZWN0LmNoZWNrYm94ZXMgPSBbXQogICAgdGVzdF9vYmplY3QxID0gbmV3IEpRdWVyeUNoZWNrYm94KCkKICAgIHRlc3Rfb2JqZWN0MS51bmlxdWVfbmFtZSA9ICJ1bmlxdWVfbmFtZSIKICAgIHRlc3Rfb2JqZWN0MS5jb250ZW50ID0gImNvbnRlbnQiCiAgICB0ZXN0X29iamVjdC5jaGVja2JveGVzLnB1c2godGVzdF9vYmplY3QxKQogICAgZXhwZWN0ZWRfcmVzdWx0ID0gIgo8ZGl2IGRhdGEtcm9sZT0nY29udGVudCc+CSAgPGZvcm0+ICAgIDxmaWVsZHNldCBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCcgZGF0YS10eXBlPSdob3Jpem9udGFsJyBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+PGlucHV0IHR5cGU9J2NoZWNrYm94JyBuYW1lPSd1bmlxdWVfbmFtZScgaWQ9J3VuaXF1ZV9uYW1lJyBjbGFzcz0nY3VzdG9tJyAvPjxsYWJlbCBmb3I9J3VuaXF1ZV9uYW1lJz5jb250ZW50PC9sYWJlbD48L2ZpZWxkc2V0PiAgPC9mb3JtPjwvZGl2PiAgICAiCiAgICBlcXVhbHModGVzdF9vYmplY3QucmVuZGVyKCksIGV4cGVjdGVkX3Jlc3VsdCkKCiAgdGVzdCAiTGV0dGVyc1BhZ2UiLCAtPgogICAgbGV0dGVyc1BhZ2UgPSBuZXcgTGV0dGVyc1BhZ2UoWyJhIiwiYiJdKQogICAgZXF1YWxzIGxldHRlcnNQYWdlLnJlbmRlcigpLmxlbmd0aCwgMTYzMwoKICB0ZXN0ICJUaW1lciIsIC0+CiAgICBleHBlY3QoMSkKICAgIHRlc3Rfb2JqZWN0ID0gbmV3IFRpbWVyKCkKICAgIGV4cGVjdGVkX3Jlc3VsdCA9ICI8ZGl2IGNsYXNzPSd0aW1lcic+ICA8c3BhbiBjbGFzcz0ndGltZXJfc2Vjb25kcyc+NjA8L3NwYW4+ICA8YnV0dG9uPnN0YXJ0PC9idXR0b24+ICA8YnV0dG9uPnN0b3A8L2J1dHRvbj4gIDxidXR0b24+cmVzZXQ8L2J1dHRvbj48L2Rpdj4iCiAgICBlcXVhbHModGVzdF9vYmplY3QucmVuZGVyKCksIGV4cGVjdGVkX3Jlc3VsdCkKCiAgdGVzdCAiTG9jYWxTdG9yYWdlIFNhdmUvTG9hZC9EZWxldGUiLCAtPgogICAgZXhwZWN0KDgpCiAgICBhc3Nlc3NtZW50ID0gbmV3IEFzc2Vzc21lbnQoIlRlc3QgRUdSQSBQcm90b3R5cGUiKQogICAgbG9naW4gPSBuZXcgSlF1ZXJ5TG9naW4oKQogICAgbG9naW4ucGFnZUlkID0gIkxvZ2luIgogICAgYXNzZXNzbWVudC5zZXRQYWdlcyhbbG9naW5dKQoKICAgIGVxdWFscyhsb2NhbFN0b3JhZ2VbIkFzc2Vzc21lbnQuVGVzdCBFR1JBIFByb3RvdHlwZSJdLG51bGwpCiAgICBlcXVhbHMobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUuTG9naW4iXSxudWxsKQoKICAgIGFzc2Vzc21lbnQuc2F2ZVRvTG9jYWxTdG9yYWdlKCkKICAgIGVxdWFsIGxvY2FsU3RvcmFnZVsiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlIl0sIEpTT04uc3RyaW5naWZ5CiAgICAgIG5hbWU6ICJUZXN0IEVHUkEgUHJvdG90eXBlIiwKICAgICAgdXJsUGF0aHNGb3JQYWdlczogWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUuTG9naW4iXQoKICAgIGVxdWFsKCBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVsiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlLkxvZ2luIl0pLAogICAgICBwYWdlSWQ6ICJMb2dpbiIsCiAgICAgIHBhZ2VUeXBlOiAiSlF1ZXJ5TG9naW4iLAogICAgICB1cmxQYXRoOiAiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlLkxvZ2luIgogICAgKQoKCiAgICBhbm90aGVyQXNzZXNzbWVudCA9IEFzc2Vzc21lbnQubG9hZCgibG9jYWxzdG9yYWdlOi8vQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlIikKICAgIGVxdWFscyhhc3Nlc3NtZW50Lm5hbWUsIGFub3RoZXJBc3Nlc3NtZW50Lm5hbWUpCiAgICBlcXVhbHMoYXNzZXNzbWVudC5wYWdlc1swXS5wYWdlSWQsIGFub3RoZXJBc3Nlc3NtZW50LnBhZ2VzWzBdLnBhZ2VJZCkKCiAgICBhc3Nlc3NtZW50LmRlbGV0ZSgpCiAgICBlcXVhbHMobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUiXSxudWxsKQogICAgZXF1YWxzKGxvY2FsU3RvcmFnZVsiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlLkxvZ2luIl0sbnVsbCkKCgogIHRlc3QgIkxvYWQgZnJvbSBodHRwIiwgLT4KICAgIGV4cGVjdCgzKQogICAgc3RvcCgpCiAgICBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCB7dXJsOiAidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLkxvZ2luIn0sIChyZXN1bHQpIC0+CiAgICAgIGVxdWFsKHJlc3VsdC5wYWdlVHlwZSwiSlF1ZXJ5TG9naW4iKQogICAgICBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCAidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgKHJlc3VsdCkgLT4KICAgICAgICBlcXVhbChyZXN1bHQucGFnZXMubGVuZ3RoLDMpCiAgICAgICAgY29uc29sZS5sb2cgcmVzdWx0LnJlbmRlcigpCiAgICAgICAgZXF1YWwocmVzdWx0LnJlbmRlcigpLmxlbmd0aCwxNjEwMSkKICAgICAgICBzdGFydCgpCgogIHRlc3QgIkxvY2FsU3RvcmFnZSBTZXJpYWxpemF0aW9uIiwgLT4KICAgIGV4cGVjdCg0KQogICAgc3RvcCgpCiAgICBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCAidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgKGFzc2Vzc21lbnQpIC0+CiAgICAgIGxldHRlcnMgPSBhc3Nlc3NtZW50LnBhZ2VzWzJdCiAgICAgIGxldHRlcnMuc2F2ZVRvTG9jYWxTdG9yYWdlKCkKICAgICAgcmVzdWx0ID0gSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUxvY2FsU3RvcmFnZShsZXR0ZXJzLnVybFBhdGgpCiAgICAgIGVxdWFscyhyZXN1bHQucmVuZGVyKCksIGxldHRlcnMucmVuZGVyKCkpCiAgICAgIGVxdWFscyhyZXN1bHQuY29udGVudCwgbGV0dGVycy5jb250ZW50KQogICAgICBhc3Nlc3NtZW50LnNhdmVUb0xvY2FsU3RvcmFnZSgpCiAgICAgIGFub3RoZXJBc3Nlc3NtZW50ID0gQXNzZXNzbWVudC5sb2FkKGFzc2Vzc21lbnQudXJsKCkpCiAgICAgIGFub3RoZXJBc3Nlc3NtZW50Lm9uUmVhZHkgLT4KICAgICAgICBlcXVhbCgzLCBhbm90aGVyQXNzZXNzbWVudC5wYWdlcy5sZW5ndGgpCiAgICAgICAgZXF1YWwoYXNzZXNzbWVudC5yZW5kZXIoKSwgYW5vdGhlckFzc2Vzc21lbnQucmVuZGVyKCkpCiAgICAgICAgc3RhcnQoKQogIAogIHRlc3QgIkNvdWNoREIgQ3JlYXRlL0RlbGV0ZSIsIC0+CiAgICBleHBlY3QoNCkKICAgIGFzc2Vzc21lbnQgPSBuZXcgQXNzZXNzbWVudCgiVGVzdCBFR1JBIFByb3RvdHlwZSIpCiAgICBsb2dpbiA9IG5ldyBKUXVlcnlNb2JpbGVQYWdlKCkKICAgIGxvZ2luLnBhZ2VJZCA9ICJMb2dpbiIKICAgIGFzc2Vzc21lbnQuc2V0UGFnZXMoW2xvZ2luXSkKCiAgICAjIERlbGV0ZSB0aGVzZSBvYmplY3RzIGZyb20gZGIgaWYgYWxyZWFkeSB0aGVyZQogICAgQ291Y2hEQi5kZWxldGUgW2Fzc2Vzc21lbnQsIGxvZ2luXQogICAgCiAgICBzdG9wKCkKICAgIGFzc2Vzc21lbnQuc2F2ZVRvQ291Y2hEQiAtPgogICAgICBlcXVhbChhc3Nlc3NtZW50LnJldmlzaW9uLmxlbmd0aCA+IDEwLHRydWUpCiAgICAgIGVxdWFsKGxvZ2luLnJldmlzaW9uLmxlbmd0aCA+IDEwLHRydWUpCiAgICAgIGFzc2Vzc21lbnQuZGVsZXRlRnJvbUNvdWNoREIoKQogICAgICAjIENoZWNrIHRoYXQgdGhlIHBhZ2UgaGFzIGJlZW4gZGVsZXRlZAogICAgICAkLmFqYXgKICAgICAgIHVybDogJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgbG9naW4udXJsUGF0aCwKICAgICAgIHR5cGU6ICdHRVQnLAogICAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgICAgY29tcGxldGU6IChyZXN1bHQpIC0+CiAgICAgICAgICBlcXVhbChyZXN1bHQuc3RhdHVzVGV4dCwiZXJyb3IiKSAjIG5vdCB3b3JraW5nIT8KICAgICAgICAgICMgQ2hlY2sgdGhhdCB0aGUgYXNzZXNzbWVudCBoYXMgYmVlbiBkZWxldGVkCiAgICAgICAgICAkLmFqYXgKICAgICAgICAgICAgdXJsOiAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyBhc3Nlc3NtZW50LnVybFBhdGgKICAgICAgICAgICAgdHlwZTogJ0dFVCcsCiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgICAgICAgIGNvbXBsZXRlOiAocmVzdWx0KSAtPgogICAgICAgICAgICAgIGVxdWFsKHJlc3VsdC5zdGF0dXNUZXh0LCJlcnJvciIpICMgbm90IHdvcmtpbmchPwogICAgICAgICAgICAgIHN0YXJ0KCkKCgogIHRlc3QgIkNvdWNoREIgU2VyaWFsaXphdGlvbiIsIC0+CiAgICBleHBlY3QoNCkKICAgIHN0b3AoKQogICAgQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAgInRlc3REYXRhL0Fzc2Vzc21lbnQuVEVTVCBFR1JBIFByb3RvdHlwZSIsIChhc3Nlc3NtZW50KSAtPgogICAgICBDb3VjaERCLmRlbGV0ZSBhc3Nlc3NtZW50LnBhZ2VzCiAgICAgIENvdWNoREIuZGVsZXRlIFthc3Nlc3NtZW50XQoKICAgICAgbGV0dGVycyA9IGFzc2Vzc21lbnQucGFnZXNbMl0KICAgICAgbGV0dGVycy5zYXZlVG9Db3VjaERCIC0+CiAgICAgICAgSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUNvdWNoREIgbGV0dGVycy51cmxQYXRoLCAocmVzdWx0KSAtPgogICAgICAgICAgZXF1YWxzKHJlc3VsdC5yZW5kZXIoKSwgbGV0dGVycy5yZW5kZXIoKSkKICAgICAgICAgIGVxdWFscyhyZXN1bHQuY29udGVudCwgbGV0dGVycy5jb250ZW50KQogICAgICAgICAgcmVzdWx0LmRlbGV0ZUZyb21Db3VjaERCKCkKICAgICAgICAgIGFzc2Vzc21lbnQuc2F2ZVRvQ291Y2hEQiAtPgogICAgICAgICAgICBBc3Nlc3NtZW50LmxvYWQgYXNzZXNzbWVudC51cmwoKSwgKHJlc3VsdCktPgogICAgICAgICAgICAgIGVxdWFsKDMsIHJlc3VsdC5wYWdlcy5sZW5ndGgpCiAgICAgICAgICAgICAgZXF1YWwoYXNzZXNzbWVudC5yZW5kZXIoKSwgcmVzdWx0LnJlbmRlcigpKQogICAgICAgICAgICAgIHN0YXJ0KCkK", "content_type": ""}, "models/Copy of jqueryMobilePage.coffee": {"data": "Zm9vdGVyTWVzc2FnZSA9ICJHb29kIGVmZm9ydCwgbGV0J3MgZ28gb250byB0aGUgbmV4dCBwYWdlIgoKY2xhc3MgSlF1ZXJ5TW9iaWxlUGFnZQogICMgVE9ETyBjb252ZXJ0IGFsbCBzdWJjbGFzc2VkIGNsYXNzZXMgdG8gdXNlIHRoZSBvcHRpb25zIGNvbnN0cnVjdG9yLCBnZXQgcmlkIG9mIGRlc2VyaWFsaXplLCBsb2FkLCBldGMuCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQHBhZ2VJZCA9IG9wdGlvbnM/LnBhZ2VJZCB8fCAiIgogICAgQHBhZ2VUeXBlID0gb3B0aW9ucz8ucGFnZVR5cGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9mdW5jdGlvbiArKC4qPylcKC8pWzFdCgogIHJlbmRlcjogLT4KICAgIE11c3RhY2hlLnRvX2h0bWwoQF90ZW1wbGF0ZSgpLHRoaXMpCgogICN1cmw6IC0+CiAgIyAgcmV0dXJuICIje0B1cmxTY2hlbWV9Oi8vI3tAdXJsUGF0aH0iCgogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPiBbCiAgICAicGFnZUlkIgogICAgInBhZ2VUeXBlIgogICAgInVybFBhdGgiCiAgICAidXJsU2NoZW1lIgogIF0KCiAgbmFtZTogLT4KICAgICMgSW5zZXJ0IHNwYWNlcyBhbmQgZG8gcHJvcGVyIGNhc2luZwogICAgQHBhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKQoKICB0b0pTT046IC0+CiAgICBvYmplY3QgPSB7fQogICAgZm9yIHByb3BlcnR5IGluIEBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbigpCiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSB0aGlzW3Byb3BlcnR5XQogICAgcmV0dXJuIG9iamVjdAoKICBsb2FkOiAoZGF0YSkgLT4KICAgIGZvciBwcm9wZXJ0eSBpbiBAcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24oKQogICAgICB0aGlzW3Byb3BlcnR5XSA9IGRhdGFbcHJvcGVydHldCgogIHNhdmU6IC0+CiAgICBzd2l0Y2ggQHVybFNjaGVtZQogICAgICB3aGVuICJsb2NhbHN0b3JhZ2UiCiAgICAgICAgcmV0dXJuIEBzYXZlVG9Mb2NhbFN0b3JhZ2UoKQogICAgICBlbHNlCiAgICAgICAgdGhyb3cgIlVSTCB0eXBlIG5vdCB5ZXQgaW1wbGVtZW50ZWQ6ICN7QHVybFNjaGVtZX0iCgogIHNhdmVUb0xvY2FsU3RvcmFnZTogLT4KICAgIHRocm93ICJDYW4ndCBzYXZlIHBhZ2UgJyN7QHBhZ2VJZH0nIHRvIGxvY2FsU3RvcmFnZTogTm8gdXJsUGF0aCEiIHVubGVzcyBAdXJsUGF0aD8KICAgIGxvY2FsU3RvcmFnZVtAdXJsUGF0aF0gPSBKU09OLnN0cmluZ2lmeSh0aGlzKQoKICBzYXZlVG9Db3VjaERCOiAoY2FsbGJhY2spIC0+CiAgICBAbG9hZGluZyA9IHRydWUKICAgIEB1cmxTY2hlbWUgPSAiaHR0cCIKICAgIEB1cmxQYXRoID0gQHVybFBhdGguc3Vic3RyaW5nKEB1cmxQYXRoLmluZGV4T2YoIi8iKSsxKQogICAgdXJsID0gJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgQHVybFBhdGgKICAgICQuYWpheAogICAgICB1cmw6IHVybCwKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdQVVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzKSwKICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4KICAgICAgICBAcmV2aXNpb24gPSByZXN1bHQucmV2CiAgICAgIGVycm9yOiAtPgogICAgICAgIHRocm93ICJDb3VsZCBub3QgUFVUIHRvICN7dXJsfSIKICAgICAgY29tcGxldGU6ID0+CiAgICAgICAgQGxvYWRpbmcgPSBmYWxzZQogICAgICAgIGNhbGxiYWNrKCkgaWYgY2FsbGJhY2s/CgogIGRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2U6IC0+CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShAdXJsUGF0aCkKCiAgZGVsZXRlRnJvbUNvdWNoREI6IC0+CiAgICB1cmwgPSAgQHVybFBhdGggKyAiP3Jldj0je0ByZXZpc2lvbn0iCiAgICAkLmFqYXgKICAgICAgdXJsOiB1cmwKICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgIGNvbXBsZXRlOiAtPgogICAgICAgIGNhbGxiYWNrKCkgaWYgY2FsbGJhY2s/CiAgICAgIGVycm9yOiAtPgogICAgICAgIHRocm93ICJFcnJvciBkZWxldGluZyAje3VybH0iCgogIF90ZW1wbGF0ZTogLT4gIgo8ZGl2IGRhdGEtcm9sZT0ncGFnZScgaWQ9J3t7e3BhZ2VJZH19Jz4KICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4KICAgIDxhIGhyZWY9J1wje3twcmV2aW91c1BhZ2V9fSc+QmFjazwvYT4KICAgIDxoMT57e25hbWV9fTwvaDE+CiAgPC9kaXY+PCEtLSAvaGVhZGVyIC0tPgogIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JCiAgICB7e3tjb250cm9sc319fQogICAge3t7Y29udGVudH19fQogIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+CiAgPGRpdiBkYXRhLXJvbGU9J2Zvb3Rlcic+CiAgICB7e2Zvb3Rlck1lc3NhZ2V9fQogICAgPGJ1dHRvbiBocmVmPSdcI3t7bmV4dFBhZ2V9fSc+TmV4dDwvYnV0dG9uPgogIDwvZGl2PjwhLS0gL2Zvb3RlciAtLT4KPC9kaXY+PCEtLSAvcGFnZSAtLT4KIgogIHRvUGFwZXI6IC0+CiAgICBAY29udGVudAoKI1RPRE8gRml4IHRoaXMKIyBTaG91bGQgbm90IG5lZWQgdGhlc2Ugc2VwYXJhdGUgZGVzZXJpYWxpemUganVzdCB1c2UgdGhlIGxhc3QgZ2VuZXJpYyBvbmUgYW5kIHRoZSBjb25zdHJ1Y3RvcgpKUXVlcnlNb2JpbGVQYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc3dpdGNoIHBhZ2VPYmplY3QucGFnZVR5cGUKICAgIHdoZW4gIlNjaG9vbFBhZ2UiCiAgICAgIHJldHVybiBTY2hvb2xQYWdlLmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpCiAgICB3aGVuICJTdHVkZW50SW5mb3JtYXRpb25QYWdlIgogICAgICByZXR1cm4gU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiVW50aW1lZFN1YnRlc3QiCiAgICAgIHJldHVybiBVbnRpbWVkU3VidGVzdC5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiVW50aW1lZFN1YnRlc3RMaW5rZWQiCiAgICAgIHJldHVybiBVbnRpbWVkU3VidGVzdExpbmtlZC5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiUGhvbmVtZVBhZ2UiCiAgICAgIHJldHVybiBQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgZWxzZQogICAgICByZXN1bHQgPSBuZXcgd2luZG93W3BhZ2VPYmplY3QucGFnZVR5cGVdKHBhZ2VPYmplY3QpCiAgICAgIHJlc3VsdC5sb2FkKHBhZ2VPYmplY3QpCiAgICAgIHJldHVybiByZXN1bHQKCkpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UgPSAodXJsUGF0aCkgLT4KICBqcXVlcnlNb2JpbGVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSkpCiAganF1ZXJ5TW9iaWxlUGFnZS51cmxTY2hlbWUgPSAibG9jYWxzdG9yYWdlIgogIHJldHVybiBqcXVlcnlNb2JpbGVQYWdlCgpKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCA9IChvcHRpb25zLCBjYWxsYmFjaykgLT4KICB0aHJvdyAiTXVzdCBwYXNzICd1cmwnIG9wdGlvbiB0byBsb2FkRnJvbUhUVFAsIHJlY2VpdmVkOiAje29wdGlvbnN9IiB1bmxlc3Mgb3B0aW9ucy51cmw/CiAgaWYgb3B0aW9ucy51cmwubWF0Y2goL2h0dHAvKQogICAgdXJsUGF0aCA9IG9wdGlvbnMudXJsLnN1YnN0cmluZyhvcHRpb25zLnVybC5sYXN0SW5kZXhPZigiOi8vIikrMykKICBlbHNlCiAgICB1cmxQYXRoID0gb3B0aW9ucy51cmwKICAjIGV4dGVuZCB3aWxsIG1lcmdlIHR3byBhc3NvY2lhdGl2ZSBhcnJheXMKICAkLmV4dGVuZCBvcHRpb25zLAogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogKHJlc3VsdCkgLT4KICAgICAgdHJ5CiAgICAgICAganF1ZXJ5TW9iaWxlUGFnZSA9IEpRdWVyeU1vYmlsZVBhZ2UuZGVzZXJpYWxpemUocmVzdWx0KQogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UudXJsUGF0aCA9IHVybFBhdGgKICAgICAgICBqcXVlcnlNb2JpbGVQYWdlLnVybFNjaGVtZSA9ICJodHRwIgogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UucmV2aXNpb24gPSByZXN1bHQuX3JldgogICAgICAgIGNhbGxiYWNrKGpxdWVyeU1vYmlsZVBhZ2UpIGlmIGNhbGxiYWNrPwogICAgICBjYXRjaCBlcnJvcgogICAgICAgIGNvbnNvbGUubG9nICJFcnJvciBpbiBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUDogIiArIGVycm9yCiAgICAgICAgY29uc29sZS5sb2cgcmVzdWx0CiAgICBlcnJvcjogLT4KICAgICAgdGhyb3cgIkZhaWxlZCB0byBsb2FkOiAje3VybFBhdGh9IgogICQuYWpheCBvcHRpb25zCgoKSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUNvdWNoREIgPSAodXJsUGF0aCwgY2FsbGJhY2spIC0+CiAgcmV0dXJuIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQKHt1cmw6JC5jb3VjaERCRGF0YWJhc2VQYXRoK3VybFBhdGh9LCBjYWxsYmFjaykKCmNsYXNzIEFzc2Vzc21lbnRQYWdlIGV4dGVuZHMgSlF1ZXJ5TW9iaWxlUGFnZQogIGFkZFRpbWVyOiAtPgogICAgQHRpbWVyID0gbmV3IFRpbWVyKHtwYWdlOiB0aGlzfSkKCiAgICBAY29udHJvbHMgPSAiCiAgICAgIDxkaXYgY2xhc3M9J2NvbnRyb2xzJyBzdHlsZT0nd2lkdGg6IDEwMHB4O3Bvc2l0aW9uOmZpeGVkO3RvcDoxMDBweDtyaWdodDo1cHg7ei1pbmRleDoxMCc+CiAgICAgICAgPGRpdiBjbGFzcz0ndGltZXInPgogICAgICAgICAgI3tAdGltZXIucmVuZGVyKCl9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJyLz4KICAgICAgICA8YnIvPgogICAgICAgIDxkaXYgY2xhc3M9J21lc3NhZ2UnPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4iCgojIwojIEJ5IGRlZmF1bHQgd2UgZXhwZWN0IGFsbCBpbnB1dCBmaWVsZHMgdG8gYmUgZmlsbGVkCiMjCiAgdmFsaWRhdGU6IC0+CiAgICBmb3IgaW5wdXRFbGVtZW50IGluICQoImRpdiMje0BwYWdlSWR9IGZvcm0gaW5wdXQiKQogICAgICBpZiAkKGlucHV0RWxlbWVudCkudmFsKCkgPT0gIiIKICAgICAgICByZXR1cm4gIicjeyQoImxhYmVsW2Zvcj0iK2lucHV0RWxlbWVudC5pZCsiXSIpLmh0bWwoKX0nIGlzIGVtcHR5IgogICAgcmV0dXJuIHRydWUKCiAgcmVzdWx0czogLT4KICAgIG9iamVjdERhdGEgPSB7fQogICAgJC5lYWNoICQoImRpdiMje0BwYWdlSWR9IGZvcm0iKS5zZXJpYWxpemVBcnJheSgpLCAoKSAtPgogICAgICBpZiB0aGlzLnZhbHVlPwogICAgICAgIHZhbHVlID0gdGhpcy52YWx1ZQogICAgICBlbHNlCiAgICAgICAgdmFsdWUgPSAnJwoKICAgICAgaWYgb2JqZWN0RGF0YVt0aGlzLm5hbWVdPwogICAgICAgIHVubGVzcyBvYmplY3REYXRhW3RoaXMubmFtZV0ucHVzaAogICAgICAgICAgb2JqZWN0RGF0YVt0aGlzLm5hbWVdID0gW29iamVjdERhdGFbdGhpcy5uYW1lXV0KCiAgICAgICAgb2JqZWN0RGF0YVt0aGlzLm5hbWVdLnB1c2ggdmFsdWUKICAgICAgZWxzZQogICAgICAgIG9iamVjdERhdGFbdGhpcy5uYW1lXSA9IHZhbHVlCgogICAgcmV0dXJuIG9iamVjdERhdGEKCkFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uID0gLT4KICByZXR1cm4gdW5sZXNzICQuYXNzZXNzbWVudD8KICBwYXNzZWRWYWxpZGF0aW9uID0gKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS52YWxpZGF0ZSgpIGlzIHRydWUpCiAgJCgnZGl2LnVpLWZvb3RlciBidXR0b24nKS50b2dnbGVDbGFzcygicGFzc2VkVmFsaWRhdGlvbiIsIHBhc3NlZFZhbGlkYXRpb24pCiAgJCgnZGl2LnVpLWZvb3RlciBkaXYudWktYnRuJykudG9nZ2xlQ2xhc3MoInVpLWJ0bi11cC1iIixwYXNzZWRWYWxpZGF0aW9uKS50b2dnbGVDbGFzcygidWktYnRuLXVwLWMiLCAhcGFzc2VkVmFsaWRhdGlvbikKCnNldEludGVydmFsKEFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uLCA4MDApCgojIFNob3cgdmFsaWRhdGlvbiBlcnJvcnMgaW4gYSBkaWFsb2cgcGFnZQokKCdkaXYudWktZm9vdGVyIGJ1dHRvbicpLmxpdmUgJ2NsaWNrJywgKGV2ZW50LHVpKSAtPgogIHZhbGlkYXRpb25SZXN1bHQgPSAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudmFsaWRhdGUoKQogIGlmIHZhbGlkYXRpb25SZXN1bHQgaXMgdHJ1ZQogICAgYnV0dG9uID0gJChldmVudC5jdXJyZW50VGFyZ2V0KQogICAgJC5tb2JpbGUuY2hhbmdlUGFnZShidXR0b24uYXR0cigiaHJlZiIpKQogIGVsc2UKICAgICQoIiNfaW5mb1BhZ2UgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIikuaHRtbCgKICAgICAgIlBsZWFzZSBmaXggdGhlIGZvbGxvd2luZyBiZWZvcmUgcHJvY2VlZGluZzo8YnIvPiIgKwogICAgICB2YWxpZGF0aW9uUmVzdWx0CiAgICApCiAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjX2luZm9QYWdlIikKCgpjbGFzcyBKUXVlcnlMb2dpbiBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IC0+CiAgICBzdXBlcigpCiAgICBAcmFuZG9tSWRGb3JTdWJqZWN0ID0gKCIiK01hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyLDgpCiAgICBAcmFuZG9tSWRGb3JTdWJqZWN0ID0gQHJhbmRvbUlkRm9yU3ViamVjdC5zdWJzdHIoMCwzKSArICItIiArIEByYW5kb21JZEZvclN1YmplY3Quc3Vic3RyKDMpCiAgICBAY29udGVudCA9ICIKPGZvcm0+CiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICA8bGFiZWwgZm9yPSd1c2VybmFtZSc+VXNlcm5hbWU6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd1c2VybmFtZScgaWQ9J3VzZXJuYW1lJyB2YWx1ZT0nJyAvPgogICAgPGxhYmVsIGZvcj0ncGFzc3dvcmQnPlBhc3N3b3JkOjwvbGFiZWw+CiAgICA8aW5wdXQgdHlwZT0ncGFzc3dvcmQnIG5hbWU9J3Bhc3N3b3JkJyBpZD0ncGFzc3dvcmQnIHZhbHVlPScnIC8+CiAgPC9kaXY+CjwvZm9ybT4KIgogICAgJCgiZGl2IikubGl2ZSAicGFnZXNob3ciLCAtPgogICAgICAkLmFzc2Vzc21lbnQuaGFuZGxlVVJMUGFyYW1ldGVycygpCiAgICAgIHVubGVzcyAkLmFzc2Vzc21lbnQuaGFzVXNlckF1dGhlbnRpY2F0ZWQoKSBvciAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCBpcyAiTG9naW4iKQogICAgICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIiNMb2dpbiIpCgogIHVzZXI6IC0+CiAgICBAcmVzdWx0cygpLnVzZXJuYW1lCgogIHBhc3N3b3JkOiAtPgogICAgQHJlc3VsdHMoKS5wYXNzd29yZAoKICByZXN1bHRzOiAtPgogICAgcmVzdWx0cyA9IHN1cGVyKCkKICAgIHJlc3VsdHNbInJhbmRvbUlkRm9yU3ViamVjdCJdID0gQHJhbmRvbUlkRm9yU3ViamVjdAogICAgcmV0dXJuIHJlc3VsdHMKICAgIAoKY2xhc3MgU3R1ZGVudEluZm9ybWF0aW9uUGFnZSBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJyYWRpb0J1dHRvbnMiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgdmFsaWRhdGU6IC0+CiAgICAKICAgIGlmICQoIiNTdHVkZW50SW5mb3JtYXRpb24gaW5wdXQ6J3JhZGlvJzpjaGVja2VkIikubGVuZ3RoID09IDcKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgI2NvbnNvbGUubG9nICQoIiNTdHVkZW50SW5mb3JtYXRpb24gaW5wdXRbdHlwZT0ncmFkaW8nXSIpLm5vdCgiOmNoZWNrZWQiKQogICAgICAjIHJldHVybiB3aGljaCBlbGVtZW50IGlzIG5vdCBzZWxlY3RlZAogICAgICByZXR1cm4gIkFsbCBlbGVtZW50cyBhcmUgcmVxdWlyZWQiCgpTdHVkZW50SW5mb3JtYXRpb25QYWdlLnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlICIKICA8Zm9ybT4KICAgIHt7I3JhZGlvQnV0dG9uc319CiAgICAgIDxmaWVsZHNldCBkYXRhLXR5cGU9J3t7dHlwZX19JyBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCc+CiAgICAgICAgPGxlZ2VuZD57e2xhYmVsfX08L2xlZ2VuZD4KICAgICAgICB7eyNvcHRpb25zfX0KICAgICAgICAgIDxsYWJlbCBmb3I9J3t7Ln19Jz57ey59fTwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3t7Li4vbmFtZX19JyB2YWx1ZT0ne3sufX0nIGlkPSd7ey59fSc+PC9pbnB1dD4KICAgICAgICB7ey9vcHRpb25zfX0KICAgICAgPC9maWVsZHNldD4KICAgIHt7L3JhZGlvQnV0dG9uc319CiAgPC9mb3JtPgoiCgpTdHVkZW50SW5mb3JtYXRpb25QYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc3R1ZGVudEluZm9ybWF0aW9uUGFnZSA9IG5ldyBTdHVkZW50SW5mb3JtYXRpb25QYWdlKCkKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlLmxvYWQocGFnZU9iamVjdCkKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlLmNvbnRlbnQgPSBTdHVkZW50SW5mb3JtYXRpb25QYWdlLnRlbXBsYXRlKHN0dWRlbnRJbmZvcm1hdGlvblBhZ2UpCiAgcmV0dXJuIHN0dWRlbnRJbmZvcm1hdGlvblBhZ2UKCmNsYXNzIFNjaG9vbFBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT4KICAgIHN1cGVyKG9wdGlvbnMpCiAgICBAc2Nob29scyA9IG9wdGlvbnMuc2Nob29scwogICAgJCgiZGl2IyN7QHBhZ2VJZH0gbGkiKS5saXZlICJtb3VzZWRvd24iLCAoZXZlbnREYXRhKSA9PgogICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0KQogICAgICBmb3IgZGF0YUF0dHJpYnV0ZSBpbiBbIm5hbWUiLCJwcm92aW5jZSIsImRpc3RyaWN0Iiwic2Nob29sSWQiXQogICAgICAgICQoImRpdiMje0BwYWdlSWR9IGZvcm0gaW5wdXQjI3tkYXRhQXR0cmlidXRlfSIpLnZhbChzZWxlY3RlZEVsZW1lbnQuYXR0cigiZGF0YS0je2RhdGFBdHRyaWJ1dGV9IikpCgoKICBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbjogLT4KICAgIHByb3BlcnRpZXMgPSBzdXBlcigpCiAgICBwcm9wZXJ0aWVzLnB1c2goInNjaG9vbHMiKQogICAgcHJvcGVydGllcy5wdXNoKCJzZWxlY3ROYW1lVGV4dCIpCiAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkrIlRleHQiKSBmb3IgcHJvcGVydHkgaW4gWyJuYW1lIiwicHJvdmluY2UiLCJkaXN0cmljdCIsInNjaG9vbElkIl0KICAgIHJldHVybiBwcm9wZXJ0aWVzCgogICNUT0RPIHJlbW92ZSBvbkNsaWNrLCBzd2l0Y2ggdG8gbGl2ZQogIF9zY2hvb2xUZW1wbGF0ZTogLT4KICAgIHByb3BlcnRpZXMgPSBbIm5hbWUiLCJwcm92aW5jZSIsImRpc3RyaWN0Iiwic2Nob29sSWQiXQoKICAgIGxpc3RBdHRyaWJ1dGVzID0gIiIKICAgIGZvciBkYXRhQXR0cmlidXRlIGluIHByb3BlcnRpZXMKICAgICAgbGlzdEF0dHJpYnV0ZXMgKz0gImRhdGEtI3tkYXRhQXR0cmlidXRlfT0ne3sje2RhdGFBdHRyaWJ1dGV9fX0nICIKICAgIGxpc3RFbGVtZW50ID0gIjxsaSAje2xpc3RBdHRyaWJ1dGVzfT57e2Rpc3RyaWN0fX0gLSB7e3Byb3ZpbmNlfX0gLSB7e25hbWV9fTwvbGk+IgoKICAgIGlucHV0RWxlbWVudHMgPSAiIgogICAgZm9yIGRhdGFBdHRyaWJ1dGUgaW4gcHJvcGVydGllcwogICAgICBpbnB1dEVsZW1lbnRzICs9ICIKICAgICAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICAgICAgPGxhYmVsIGZvcj0nI3tkYXRhQXR0cmlidXRlfSc+e3sje2RhdGFBdHRyaWJ1dGV9VGV4dH19PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nI3tkYXRhQXR0cmlidXRlfScgaWQ9JyN7ZGF0YUF0dHJpYnV0ZX0nPjwvaW5wdXQ+CiAgICAgIDwvZGl2PgogICAgICAiCiAgCiAgICByZXR1cm4gIgogICAgPGRpdj4KICAgICAgPGg0PgogICAgICAgIHt7c2VsZWN0U2Nob29sVGV4dH19CiAgICAgIDwvaDQ+CiAgICA8L2Rpdj4KICAgIDx1bCBzdHlsZT0nZGlzcGxheTpub25lJyBkYXRhLWZpbHRlcj0ndHJ1ZScgZGF0YS1maWx0ZXItcGxhY2Vob2xkZXI9J1NlYXJjaCBmb3Igc2Nob29sLi4uJyBkYXRhLXJvbGU9J2xpc3R2aWV3Jz4KICAgICAge3sjc2Nob29sc319CiAgICAgICAgI3tsaXN0RWxlbWVudH0KICAgICAge3svc2Nob29sc319CiAgICA8L3VsPgogICAgPGJyLz4KICAgIDxici8+CiAgICA8Zm9ybT4KICAgICAgI3tpbnB1dEVsZW1lbnRzfQogICAgPC9mb3JtPgogICIKCgogIHZhbGlkYXRlOiAtPgogICAgZm9yIGlucHV0RWxlbWVudCBpbiAkKCJkaXYjI3tAcGFnZUlkfSBmb3JtIGRpdi51aS1maWVsZC1jb250YWluIGlucHV0IikKICAgICAgaWYgJChpbnB1dEVsZW1lbnQpLnZhbCgpID09ICIiCiAgICAgICAgcmV0dXJuICInI3skKCJsYWJlbFtmb3I9IitpbnB1dEVsZW1lbnQuaWQrIl0iKS5odG1sKCl9JyBpcyBlbXB0eSIKICAgIHJldHVybiB0cnVlCgpTY2hvb2xQYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc2Nob29sUGFnZSA9IG5ldyBTY2hvb2xQYWdlKHBhZ2VPYmplY3QpCiAgc2Nob29sUGFnZS5sb2FkKHBhZ2VPYmplY3QpCiAgc2Nob29sUGFnZS5jb250ZW50ID0gTXVzdGFjaGUudG9faHRtbChzY2hvb2xQYWdlLl9zY2hvb2xUZW1wbGF0ZSgpLHNjaG9vbFBhZ2UpCiAgcmV0dXJuIHNjaG9vbFBhZ2UKCgojIEhBQ0shClNjaG9vbFBhZ2UuaGlkZUxpc3RVbnRpbFNlYXJjaCA9IC0+CiAgaWYgJCgiI1NjaG9vbCBpbnB1dFtkYXRhLXR5cGU9J3NlYXJjaCddIikudmFsKCkgIT0gIiIKICAgICQoIiNTY2hvb2wgdWwiKS5zaG93KCkKICAgIGNsZWFySW50ZXJ2YWwoaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsKQoKaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsID0gc2V0SW50ZXJ2YWwoU2Nob29sUGFnZS5oaWRlTGlzdFVudGlsU2VhcmNoLDUwMCkKCgojVE9ETyBJbnRlcm5hdGlvbmFsaXplCmNsYXNzIERhdGVUaW1lUGFnZSBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCgogIGxvYWQ6IChkYXRhKSAtPgogICAgQGNvbnRlbnQgPSAiCjxmb3JtPgogIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgPGxhYmVsIGZvcj0neWVhcic+WWVhcjo8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9J251bWJlcicgbmFtZT0neWVhcicgaWQ9J3llYXInIC8+CiAgPC9kaXY+CiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICA8bGFiZWwgZm9yPSdtb250aCc+TW9udGg6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdtb250aCcgaWQ9J21vbnRoJyAvPgogIDwvZGl2PgogIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgPGxhYmVsIGZvcj0nZGF5Jz5EYXk6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J2RheScgaWQ9J2RheScgLz4KICA8L2Rpdj4KICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4KICAgIDxsYWJlbCBmb3I9J3RpbWUnPlRpbWU6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd0aW1lJyBpZD0ndGltZScgLz4KICA8L2Rpdj4KPC9mb3JtPgoiCiAgICBzdXBlcihkYXRhKQogICAgJCgiZGl2IyN7QHBhZ2VJZH0iKS5saXZlICJwYWdlc2hvdyIsID0+CiAgICAgIGRhdGVUaW1lID0gbmV3IERhdGUoKQogICAgICAkKCJkaXYjI3tAcGFnZUlkfSAjeWVhciIpLnZhbChkYXRlVGltZS5nZXRGdWxsWWVhcigpKQogICAgICAkKCJkaXYjI3tAcGFnZUlkfSAjbW9udGgiKS52YWwoWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXVtkYXRlVGltZS5nZXRNb250aCgpXSkKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gI2RheSIpLnZhbChkYXRlVGltZS5nZXREYXRlKCkpCiAgICAgIG1pbnV0ZXMgPSBkYXRlVGltZS5nZXRNaW51dGVzKCkKICAgICAgbWludXRlcyA9ICIwIiArIG1pbnV0ZXMgaWYgbWludXRlcyA8IDEwCiAgICAgICQoImRpdiMje0BwYWdlSWR9ICN0aW1lIikudmFsKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAiOiIgKyBtaW51dGVzKQogICAgICAKCmNsYXNzIFJlc3VsdHNQYWdlIGV4dGVuZHMgQXNzZXNzbWVudFBhZ2UKICBjb25zdHJ1Y3RvcjogKG9wdGlvbnMpIC0+CiAgICBzdXBlcihvcHRpb25zKQogICAgQGNvbnRlbnQgPSBIYW5kbGViYXJzLmNvbXBpbGUgIgogICAgICA8ZGl2IGNsYXNzPSdyZXN1bHRzTWVzc2FnZSc+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGRhdGEtcm9sZT0nY29sbGFwc2libGUnIGRhdGEtY29sbGFwc2VkPSd0cnVlJyBjbGFzcz0ncmVzdWx0cyc+CiAgICAgICAgPGgzPlJlc3VsdHM8L2gzPgogICAgICAgIDxwcmU+CiAgICAgICAgPC9wcmU+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSdtZXNzYWdlJz4KICAgICAgICBZb3UgaGF2ZSBmaW5pc2hlZCBhc3Nlc3NtZW50IDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4uIFRoYW5rIHRoZSBjaGlsZCB3aXRoIGEgc21hbGwgZ2lmdC4gUGxlYXNlIHdyaXRlIDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4gb24gdGhlIHdyaXRpbmcgc2FtcGxlLgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBkYXRhLWlubGluZT0ndHJ1ZSc+CiAgICAgICAgPCEtLSBUT0RPIGluc2VydCB1c2VybmFtZS9wYXNzd29yZCBpbnRvIEdFVCBzdHJpbmcgc28gd2UgZG9uJ3QgaGF2ZSB0byByZXR5cGUgLS0+CiAgICAgICAgPCEtLQogICAgICAgIDxhIGRhdGEtaW5saW5lPSd0cnVlJyBkYXRhLXJvbGU9J2J1dHRvbicgcmVsPSdleHRlcm5hbCcgaHJlZj0nI0RhdGVUaW1lP3VzZXJuYW1lPSN7fSZwYXNzd29yZD0je30nPkJlZ2luIEFub3RoZXIgQXNzZXNzbWVudDwvYT4KICAgICAgICAtLT4KICAgICAgICA8YSBkYXRhLWlubGluZT0ndHJ1ZScgZGF0YS1yb2xlPSdidXR0b24nIHJlbD0nZXh0ZXJuYWwnIGhyZWY9JyN7JC5hc3Nlc3NtZW50LnJlc2V0VVJMKCl9Jz5CZWdpbiBBbm90aGVyIEFzc2Vzc21lbnQ8L2E+CiAgICAgICAgPGEgZGF0YS1pbmxpbmU9J3RydWUnIGRhdGEtcm9sZT0nYnV0dG9uJyByZWw9J2V4dGVybmFsJyBocmVmPScjeyQuY291Y2hEQkRhdGFiYXNlUGF0aH0vX2FsbF9kb2NzJz5TdW1tYXJ5PC9hPgogICAgICA8L2Rpdj4KICAgICIKCiAgbG9hZDogKGRhdGEpIC0+CiAgICBzdXBlcihkYXRhKQoKICAgICQoImRpdiMje0BwYWdlSWR9IikubGl2ZSAicGFnZXNob3ciLCA9PgoKCiAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdiBzcGFuW2NsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnXSIpLmh0bWwoJC5hc3Nlc3NtZW50LnJlc3VsdHMoKT8uTG9naW4/LnJhbmRvbUlkRm9yU3ViamVjdCkKCiAgICAgICMgSGlkZSB0aGUgYmFjayBhbmQgbmV4dCBidXR0b25zCiAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2hlYWRlciddIGEiKS5oaWRlKCkKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gZGl2W2RhdGEtcm9sZT0nZm9vdGVyJ10gZGl2IikuaGlkZSgpCiAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSAkLmFzc2Vzc21lbnQudmFsaWRhdGUoKQogICAgICBpZiB2YWxpZGF0aW9uUmVzdWx0ID09IHRydWUKICAgICAgICAkKCJkaXYjI3tAcGFnZUlkfSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10gZGl2LnJlc3VsdHNNZXNzYWdlIikuaHRtbCgiUmVzdWx0cyBWYWxpZGF0ZWQiKQogICAgICAgICQuYXNzZXNzbWVudC5zYXZlUmVzdWx0cyAocmVzdWx0cykgPT4KICAgICAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0c01lc3NhZ2UiKS5odG1sKCJSZXN1bHRzIFNhdmVkIikKICAgICAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0cyBwcmUiKS5odG1sKCBKU09OLnN0cmluZ2lmeShyZXN1bHRzLG51bGwsMikgKQogICAgICBlbHNlCiAgICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzTWVzc2FnZSIpLmh0bWwoIkludmFsaWQgcmVzdWx0czo8YnIvPiAje3ZhbGlkYXRpb25SZXN1bHR9PGJyLz5Zb3UgbWF5IHN0YXJ0IHRoaXMgYXNzZXNzbWVudCBvdmVyIGFnYWluIGJ5IHNlbGVjdGluZyAnQmVpbmcgQW5vdGhlciBBc3Nlc3NtZW50JyBiZWxvdy4iKQoKY2xhc3MgVGV4dFBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPgogICAgcHJvcGVydGllcyA9IHN1cGVyKCkKICAgIHByb3BlcnRpZXMucHVzaCgiY29udGVudCIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKY2xhc3MgQ29uc2VudFBhZ2UgZXh0ZW5kcyBUZXh0UGFnZQogICAgJCgiZGl2IyN7QHBhZ2VJZH0gbGFiZWxbZm9yPSdjb25zZW50LW5vJ10iKS5saXZlICJtb3VzZWRvd24iLCAoZXZlbnREYXRhKSA9PgogICAgICAkKCIjX2luZm9QYWdlIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSIpLmh0bWwoIjxiPlRoYW5rIHlvdSBmb3IgeW91ciB0aW1lPC9iPi4gU2F2aW5nIHBhcnRpYWwgcmVzdWx0cy4iKQogICAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjX2luZm9QYWdlIikKICAgICAgJC5hc3Nlc3NtZW50LnNhdmVSZXN1bHRzIChyZXN1bHRzKSA9PgogICAgICAgIHNldFRpbWVvdXQgKCAtPgogICAgICAgICAgJCgiI19pbmZvUGFnZSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10iKS5odG1sKCJSZXNldHRpbmcgYXNzZXNzbWVudCBmb3IgbmV4dCBzdHVkZW50LiIpCiAgICAgICAgICBzZXRUaW1lb3V0ICggLT4KICAgICAgICAgICAgJC5hc3Nlc3NtZW50LnJlc2V0KCkKICAgICAgICAgICksIDEwMDAKICAgICAgICApLCAyMDAwCgoKICB2YWxpZGF0ZTogLT4KICAgIHJldHVybiB0cnVlCiAgICBpZiAkKCJkaXYjI3tAcGFnZUlkfSBpbnB1dFtAbmFtZT0nY2hpbGRDb25zZW50cyddOmNoZWNrZWQiKS52YWwoKQogICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZQogICAgICByZXR1cm4gIllvdSBtdXN0IGFuc3dlciB0aGUgY29uc2VudCBxdWVzdGlvbiIKCgpjbGFzcyBVbnRpbWVkU3VidGVzdCBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQHF1ZXN0aW9ucyA9IG9wdGlvbnMucXVlc3Rpb25zCiAgICBzdXBlcihvcHRpb25zKQogICAgQGZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlCiAgICBAY29udGVudCA9ICI8Zm9ybT4iICsgKGZvciBxdWVzdGlvbixpbmRleCBpbiBAcXVlc3Rpb25zCiAgICAgIHF1ZXN0aW9uTmFtZSA9IEBwYWdlSWQgKyAiLXF1ZXN0aW9uLSIgKyBpbmRleAogICAgICAiCiAgICAgIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPgogICAgICAgICAgICA8bGVnZW5kPiN7cXVlc3Rpb259PC9sZWdlbmQ+CiAgICAgICIgKwogICAgICAoZm9yIGFuc3dlciBpbiBbIkNvcnJlY3QiLCAiSW5jb3JyZWN0IiwgIk5vIHJlc3BvbnNlIl0KICAgICAgICAiCiAgICAgICAgPGxhYmVsIGZvcj0nI3txdWVzdGlvbk5hbWV9LSN7YW5zd2VyfSc+I3thbnN3ZXJ9PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9JyN7cXVlc3Rpb25OYW1lfScgaWQ9JyN7cXVlc3Rpb25OYW1lfS0je2Fuc3dlcn0nIHZhbHVlPScje2Fuc3dlcn0nIC8+CiAgICAgICAgIgogICAgICApLmpvaW4oIiIpICsKICAgICAgIgogICAgICAgICAgPC9maWVsZHNldD4KICAgICAgPC9kaXY+CiAgICAgICIKICAgICkuam9pbigiIikgKyAiPC9mb3JtPiIKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJxdWVzdGlvbnMiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgdmFsaWRhdGU6IC0+CiAgICBpZiBfLnNpemUoQHJlc3VsdHMoKSkgPT0gQHF1ZXN0aW9ucy5sZW5ndGgKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UgIk9ubHkgI3tfLnNpemUoQHJlc3VsdHMoKSl9IG91dCBvZiB0aGUgI3tAcXVlc3Rpb25zLmxlbmd0aH0gcXVlc3Rpb25zIHdlcmUgYW5zd2VyZWQiCgoKVW50aW1lZFN1YnRlc3QuZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdChwYWdlT2JqZWN0KQogIHVudGltZWRTdWJ0ZXN0LmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gdW50aW1lZFN1YnRlc3QKCmNsYXNzIFVudGltZWRTdWJ0ZXN0TGlua2VkIGV4dGVuZHMgVW50aW1lZFN1YnRlc3QKICBjb25zdHJ1Y3RvcjogKG9wdGlvbnMpIC0+CiAgICBAbGlua2VkVG9QYWdlSWQgPSBvcHRpb25zLmxpbmtlZFRvUGFnZUlkCiAgICBAcXVlc3Rpb25JbmRpY2VzID0gb3B0aW9ucy5xdWVzdGlvbkluZGljZXMKICAgIEBmb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZQogICAgc3VwZXIob3B0aW9ucykKCiAgICBsaW5rZWRQYWdlTmFtZSA9IEBsaW5rZWRUb1BhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKQogICAgQGNvbnRlbnQgKz0gIjxkaXYgaWQ9JyN7QHBhZ2VJZH0tbm90LWVub3VnaC1wcm9ncmVzcy1tZXNzYWdlJyBzdHlsZT0nZGlzcGxheTpoaWRkZW4nPk5vdCBlbm91Z2ggcHJvZ3Jlc3Mgd2FzIG1hZGUgb24gI3tsaW5rZWRQYWdlTmFtZX0gdG8gc2hvdyBxdWVzdGlvbnMgZnJvbSAje0BuYW1lKCl9LiBDb250aW51ZSBieSBwcmVzc2luZyBOZXh0LjwvZGl2PiIKCiAgICAkKCIjI3tAcGFnZUlkfSIpLmxpdmUgJ3BhZ2VzaG93JywgKGV2ZW50RGF0YSkgPT4KICAgICAgYXR0ZW1wdGVkT25MaW5rZWRQYWdlID0gJC5hc3Nlc3NtZW50LmdldFBhZ2UoQGxpbmtlZFRvUGFnZUlkKS5yZXN1bHRzKCkuYXR0ZW1wdGVkCiAgICAgIEBudW1iZXJJbnB1dEZpZWxkc1Nob3duID0gMAogICAgICBmb3IgaW5wdXRFbGVtZW50IGluICQoIiMje0BwYWdlSWR9IGlucHV0W3R5cGU9J3JhZGlvJ10iKQogICAgICAgIGlmIGF0dGVtcHRlZE9uTGlua2VkUGFnZSA8IEBxdWVzdGlvbkluZGljZXNbaW5wdXRFbGVtZW50Lm5hbWUuc3Vic3RyKGlucHV0RWxlbWVudC5uYW1lLmxhc3RJbmRleE9mKCItIikrMSldCiAgICAgICAgICAkKGlucHV0RWxlbWVudCkucGFyZW50cygiZGl2W2RhdGEtcm9sZT0nZmllbGRjb250YWluJ10iKS5oaWRlKCkKICAgICAgICBlbHNlCiAgICAgICAgICAkKGlucHV0RWxlbWVudCkucGFyZW50cygiZGl2W2RhdGEtcm9sZT0nZmllbGRjb250YWluJ10iKS5zaG93KCkKICAgICAgICAgIEBudW1iZXJJbnB1dEZpZWxkc1Nob3duKysKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0tbm90LWVub3VnaC1wcm9ncmVzcy1tZXNzYWdlIikudG9nZ2xlKEBudW1iZXJJbnB1dEZpZWxkc1Nob3duID09IDApCiAgICAgIAogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPgogICAgcHJvcGVydGllcyA9IHN1cGVyKCkKICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbInF1ZXN0aW9ucyIsImxpbmtlZFRvUGFnZUlkIiwicXVlc3Rpb25JbmRpY2VzIl0pCiAgICByZXR1cm4gcHJvcGVydGllcwoKICB2YWxpZGF0ZTogLT4KICAgICMgRWFjaCBxdWVzdGlvbiBoYXMgdGhyZWUgcmFkaW8gYnV0dG9ucywgc28gZGl2aWRlIGJ5IDMKICAgIG51bWJlck9mUXVlc3Rpb25zU2hvd24gPSBAbnVtYmVySW5wdXRGaWVsZHNTaG93bi8zCiAgICBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID0gXy5zaXplKEByZXN1bHRzKCkpCiAgICBpZiBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID09IG51bWJlck9mUXVlc3Rpb25zU2hvd24KICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UgIk9ubHkgI3tudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkfSBvdXQgb2YgdGhlICN7bnVtYmVyT2ZRdWVzdGlvbnNTaG93bn0gcXVlc3Rpb25zIHdlcmUgYW5zd2VyZWQiCgoKVW50aW1lZFN1YnRlc3RMaW5rZWQuZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdExpbmtlZChwYWdlT2JqZWN0KQogIHVudGltZWRTdWJ0ZXN0LmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gdW50aW1lZFN1YnRlc3QKCgoKY2xhc3MgUGhvbmVtZVBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAoQHdvcmRzKSAtPgogICAgc3VwZXIoKQogICAgQHN1YnRlc3RJZCA9ICJwaG9uZW1pYy1hd2FyZW5lc3MiCiAgICBAZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2UKICAgIHBob25lbWVJbmRleCA9IDEKICAgIEBjb250ZW50ID0gIjxmb3JtIGlkPScje0BzdWJ0ZXN0SWR9Jz4iICsgKGZvciBpdGVtLGluZGV4IGluIEB3b3JkcwogICAgICB3b3JkTmFtZSA9IEBzdWJ0ZXN0SWQgKyAiLW51bWJlci1zb3VuZC0iICsgKGluZGV4KzEpCiAgICAgICIKICAgICAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICAgICAgICA8bGVnZW5kPiN7aXRlbVsid29yZCJdfSAtICN7aXRlbVsibnVtYmVyLW9mLXNvdW5kcyJdfTwvbGVnZW5kPgogICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPgogICAgICAiICsKICAgICAgKGZvciBhbnN3ZXIgaW4gWyJDb3JyZWN0IiwgIkluY29ycmVjdCJdCiAgICAgICAgIgogICAgICAgIDxsYWJlbCBmb3I9JyN7d29yZE5hbWV9LSN7YW5zd2VyfSc+I3thbnN3ZXJ9PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9JyN7d29yZE5hbWV9JyBpZD0nI3t3b3JkTmFtZX0tI3thbnN3ZXJ9JyB2YWx1ZT0nI3thbnN3ZXJ9JyAvPgogICAgICAgICIKICAgICAgKS5qb2luKCIiKSArCiAgICAgICIKICAgICAgICAgIDwvZmllbGRzZXQ+CiAgICAgICAgICA8ZmllbGRzZXQgZGF0YS1yb2xlPSdjb250cm9sZ3JvdXAnIGRhdGEtdHlwZT0naG9yaXpvbnRhbCc+CiAgICAgICIgKwogICAgICAoZm9yIHBob25lbWUgaW4gaXRlbVsicGhvbmVtZXMiXQogICAgICAgIHBob25lbWVOYW1lID0gQHN1YnRlc3RJZCArICItcGhvbmVtZS1zb3VuZC0iICsgcGhvbmVtZUluZGV4KysKICAgICAgICAiCiAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9JyN7cGhvbmVtZU5hbWV9JyBpZD0nI3twaG9uZW1lTmFtZX0nIC8+CiAgICAgICAgICA8bGFiZWwgZm9yPScje3Bob25lbWVOYW1lfSc+I3twaG9uZW1lfTwvbGFiZWw+CiAgICAgICAgIgogICAgICApLmpvaW4oIiIpICsKICAgICAgIgogICAgICAgICAgPC9maWVsZHNldD4KICAgICAgPC9kaXY+CiAgICAgIDxoci8+CiAgICAgICIKICAgICkuam9pbigiIikgKyAiPC9mb3JtPiIKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJ3b3JkcyIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKICByZXN1bHRzOiAtPgogICAgcmVzdWx0cyA9IHN1cGVyKCkKICAgIGZvciBpbnB1dCBpbiAkKCJmb3JtIyN7QHN1YnRlc3RJZH0gaW5wdXQ6Y2hlY2tib3giKQogICAgICAjIGNoZWNrZWQgbWVhbnMgdGhleSBnb3QgaXQgd3JvbmcsIHNvIHNldCB0byBmYWxzZQogICAgICByZXN1bHRzWyIje2lucHV0Lm5hbWV9Il0gPSAoaW5wdXQudmFsdWUgIT0gIm9uIikKICAgIHJldHVybiByZXN1bHRzCgogIHZhbGlkYXRlOiAtPgogICAgcmVzdWx0cyA9IEByZXN1bHRzKCkKICAgIGZvciBpdGVtLGluZGV4IGluIEB3b3JkcwogICAgICB1bmxlc3MgcmVzdWx0c1tAc3VidGVzdElkICsgIi1udW1iZXItc291bmQtIiArIChpbmRleCsxKV0/CiAgICAgICAgcmV0dXJuICJZb3UgbXVzdCBzZWxlY3QgQ29ycmVjdCBvciBJbmNvcnJlY3QgZm9yIGl0ZW0gIyN7aW5kZXgrMX06IDxiPiN7aXRlbVsid29yZCJdfTwvYj4iCiAgICByZXR1cm4gdHJ1ZQoKCgpQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZSA9IChwYWdlT2JqZWN0KSAtPgogIHBhZ2UgPSBuZXcgUGhvbmVtZVBhZ2UocGFnZU9iamVjdC53b3JkcykKICBwYWdlLmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gcGFnZQoKCgpjbGFzcyBUb2dnbGVHcmlkV2l0aFRpbWVyIGV4dGVuZHMgQXNzZXNzbWVudFBhZ2UKICBjb25zdHJ1Y3RvcjogKG9wdGlvbnMpIC0+CiAgICBAbGV0dGVycyA9IG9wdGlvbnMubGV0dGVycwogICAgI0BwYWdlSWQgPSBvcHRpb25zLnBhZ2VJZAogICAgQG51bWJlck9mQ29sdW1ucyA9IG9wdGlvbnM/Lm51bWJlck9mQ29sdW1ucyB8fCAxMAogICAgQGZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlCiAgICBzdXBlcihvcHRpb25zKQogICAgQGFkZFRpbWVyKCkKCiAgICByZXN1bHQgPSAiIgogICAgQHVzaW5nV29yZHMgPSBmYWxzZTsKICAgIGZvciBsZXR0ZXIsaW5kZXggaW4gQGxldHRlcnMKICAgICAgaWYgbGV0dGVyLmxlbmd0aCA+IDEgCiAgICAJICBAdXNpbmdXb3JkcyA9IHRydWUKICAgIAkgIAogICAgICBpZiBAdXNpbmdXb3JkcyA9PSB0cnVlIAogICAgICAgIHJlc3VsdCArPSAiPHNwYW4gY2xhc3M9J2dyaWQgd29yZHMnID4je2xldHRlcn08L3NwYW4+IgogICAgICAgIGRpdkNsYXNzID0gJ2dyaWQtd2lkdGgtd29yZHMnCiAgICAgIGVsc2UgCiAgICAgICAgcmVzdWx0ICs9ICI8c3BhbiBjbGFzcz0nZ3JpZCcgPiN7bGV0dGVyfTwvc3Bhbj4iICAKICAgICAgICBkaXZDbGFzcyA9ICdncmlkLXdpZHRoJwogICAgICAKICAgICAgaWYgKChpbmRleCsxKSAlIDEwID09IDApCiAgICAgICAgIyBjb25zb2xlLmxvZygibW9kOiAiICsgKGluZGV4KzEpICsgIiAlIDUgPSAiICsgKGluZGV4KzEpICUgKTsgICAKICAgICAgICAjIHJlc3VsdCArPSAiPHNwYW4gY2xhc3M9J3RvZ2dsZS1yb3cgZ3JpZCAjeyJ0b2dnbGUtcm93LXBvcnRyYWl0IiB1bmxlc3MgKChpbmRleCsxKSAlIDEwID09IDApfSc+Kjwvc3Bhbj4iCiAgICAgICAgcmVzdWx0ICs9ICI8c3BhbiBjbGFzcz0ndG9nZ2xlLXJvdyBncmlkJz4qPC9zcGFuPiIKICAgIAogICAgQGNvbnRlbnQgPSAgIgogICAgICA8ZGl2IGNsYXNzPSd0aW1lcic+CiAgICAgICAgPGJ1dHRvbj5zdGFydDwvYnV0dG9uPgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBjbGFzcz0ndG9nZ2xlLWdyaWQtd2l0aC10aW1lcicgZGF0YS1yb2xlPSdjb250ZW50Jz4JCiAgICAgICAgPGZvcm0+CiAgICAgICAgICA8ZGl2IGNsYXNzPSciICsgZGl2Q2xhc3MgKyAiJz4KICAgICAgICAgICAgI3tyZXN1bHR9CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Zvcm0+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSd0aW1lcic+CiAgICAgICAgPGJ1dHRvbj5zdG9wPC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICAiCQogICAKICAgIHNlbGVjdEV2ZW50ID0gaWYgKCdvbnRvdWNoc3RhcnQnIG9mIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkgdGhlbiAidG91Y2hzdGFydCIgZWxzZSAiY2xpY2siCgogICAgJCgiIyN7QHBhZ2VJZH0gc3Bhbi5ncmlkIikubGl2ZSBzZWxlY3RFdmVudCwgKGV2ZW50RGF0YSkgPT4KICAgICAgcmV0dXJuIHVubGVzcyBAdGltZXIuc3RhcnRlZAogICAgICBpZiAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudGltZXIuaGFzU3RhcnRlZEFuZFN0b3BwZWQoKQogICAgICAgICMgYWxlcnQoImhpIik7CiAgICAgICAgY29uc29sZS5sb2coImNoZWNraW5nIGxhc3QtYXR0ZW1wdGVkIik7CiAgICAgICAgaWYgJCgiIyN7QHBhZ2VJZH0gc3Bhbi5ncmlkIikuaGFzQ2xhc3MoJ2xhc3QtYXR0ZW1wdGVkJykKICAgICAgICAgIGNvbnNvbGUubG9nKCJpdCBoYXMgbGFzdC1hdHRlbXB0ZWQiKTsKICAgICAgICAgIAogICAgICAgICQoIiMje0BwYWdlSWR9IHNwYW4uZ3JpZCIpLnJlbW92ZUNsYXNzKCdsYXN0LWF0dGVtcHRlZCcpCiAgICAgICAgJChldmVudERhdGEudGFyZ2V0KS50b2dnbGVDbGFzcygnbGFzdC1hdHRlbXB0ZWQnKQogICAgICBlbHNlCiAgICAgICAgJChldmVudERhdGEudGFyZ2V0KS50b2dnbGVDbGFzcygic2VsZWN0ZWQiKQoKICAgICQoIiMje0BwYWdlSWR9IHNwYW4uZ3JpZC50b2dnbGUtcm93IikubGl2ZSBzZWxlY3RFdmVudCwgKGV2ZW50RGF0YSkgPT4KICAgICAgdG9nZ2xlUm93ID0gJChldmVudERhdGEuY3VycmVudFRhcmdldCkKICAgICAgZm9yIGdyaWRJdGVtIGluIHRvZ2dsZVJvdy5wcmV2QWxsKCkKICAgICAgICBncmlkSXRlbSA9ICQoZ3JpZEl0ZW0pCiAgICAgICAgYnJlYWsgaWYgZ3JpZEl0ZW0uaGFzQ2xhc3MoInRvZ2dsZS1yb3ciKSBhbmQgZ3JpZEl0ZW0uY3NzKCJkaXNwbGF5IikgIT0gIm5vbmUiCiAgICAgICAgIyBXZSB3YW50IHRvIGJlIGFibGUgdG8gaGFuZGxlIG1pc3Rha2VuIHJvd3RvZ2dsZXMgLSBzbyBrZWVwIHRyYWNrIG9mIHdoYXQgd2FzIGFscmVhZHkgc2VsZWN0ZWQgc28gd2UgY2FuIHJldmVydAogICAgICAgIGlmIHRvZ2dsZVJvdy5oYXNDbGFzcygic2VsZWN0ZWQiKQogICAgICAgICAgIyBOZWVkIHRvIHR1cm4gZXZlcnRoaW5nIG9uCiAgICAgICAgICBncmlkSXRlbS5hZGRDbGFzcygic2VsZWN0ZWQgcm93dG9nZ2xlZCIpIHVubGVzcyBncmlkSXRlbS5oYXNDbGFzcygic2VsZWN0ZWQiKQogICAgICAgIGVsc2UKICAgICAgICAgICMgTmVlZCB0byB0dXJuIG9mZiBvbmx5IG5vbiB0b2dnbGVkCiAgICAgICAgICBncmlkSXRlbS5yZW1vdmVDbGFzcygic2VsZWN0ZWQgcm93dG9nZ2xlZCIpIGlmIGdyaWRJdGVtLmhhc0NsYXNzKCJyb3d0b2dnbGVkIikKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJsZXR0ZXJzIikKICAgIHJldHVybiBwcm9wZXJ0aWVzCgoKICByZXN1bHRzOiAtPgogICAgcmVzdWx0cyA9IHt9CgogICAgIyBDaGVjayBpZiB0aGUgZmlyc3QgMTAlIGFyZSBhbGwgd3JvbmcsIGlmIHNvIGF1dG9fc3RvcAogICAgaXRlbXMgPSAkKCIjI3tAcGFnZUlkfSAuZ3JpZDpub3QoLnRvZ2dsZS1yb3cpIikKICAgIHRlblBlcmNlbnRPZkl0ZW1zID0gaXRlbXMubGVuZ3RoLzEwCiAgICBmaXJzdFRlblBlcmNlbnQgPSBpdGVtc1swLi50ZW5QZXJjZW50T2ZJdGVtcy0xXQogICAgaWYgXy5zZWxlY3QoZmlyc3RUZW5QZXJjZW50LCAoaXRlbSkgLT4gJChpdGVtKS5oYXNDbGFzcygic2VsZWN0ZWQiKSkubGVuZ3RoID09IHRlblBlcmNlbnRPZkl0ZW1zCiAgICAgIHJlc3VsdHMuYXV0b19zdG9wID0gdHJ1ZQogICAgICAjIE9ubHkgc2V0IGRvIHRoaXMgc3R1ZmYgdGhlIGZpcnN0IHRpbWUKICAgICAgdW5sZXNzIEBhdXRvc3RvcAogICAgICAgICQoXy5sYXN0KGZpcnN0VGVuUGVyY2VudCkpLnRvZ2dsZUNsYXNzKCJsYXN0LWF0dGVtcHRlZCIsIHRydWUpCiAgICAgICAgQHRpbWVyLnN0b3AoKQogICAgICAgICQuYXNzZXNzbWVudC5mbGFzaCgpCiAgICAgICAgQGF1dG9zdG9wID0gdHJ1ZQogICAgZWxzZQogICAgICBAYXV0b3N0b3AgPSBmYWxzZQoKICAgIHJldHVybiBmYWxzZSB1bmxlc3MgQHRpbWVyLmhhc1N0YXJ0ZWRBbmRTdG9wcGVkKCkKICAgIHJlc3VsdHMubGV0dGVycyA9IG5ldyBBcnJheSgpCiAgICByZXN1bHRzLnRpbWVfcmVtYWluID0gQHRpbWVyLnNlY29uZHMKICAgICMgSW5pdGlhbGl6ZSB0byBhbGwgd3JvbmcKICAgIHJlc3VsdHMubGV0dGVyc1tpbmRleF0gPSBmYWxzZSBmb3IgZ3JpZEl0ZW0saW5kZXggaW4gJCgiIyN7QHBhZ2VJZH0gLmdyaWQ6bm90KC50b2dnbGUtcm93KSIpCiAgICByZXN1bHRzLmF0dGVtcHRlZCA9IG51bGwKICAgIGZvciBncmlkSXRlbSxpbmRleCBpbiAkKCIjI3tAcGFnZUlkfSAuZ3JpZDpub3QoLnRvZ2dsZS1yb3cpIikKICAgICAgZ3JpZEl0ZW0gPSAkKGdyaWRJdGVtKQogICAgICByZXN1bHRzLmxldHRlcnNbaW5kZXhdID0gdHJ1ZSB1bmxlc3MgZ3JpZEl0ZW0uaGFzQ2xhc3MoInNlbGVjdGVkIikKICAgICAgaWYgZ3JpZEl0ZW0uaGFzQ2xhc3MoImxhc3QtYXR0ZW1wdGVkIikKICAgICAgICByZXN1bHRzLmF0dGVtcHRlZCA9IGluZGV4ICsgMQogICAgICAgIGlmIEBhdXRvc3RvcAogICAgICAgICAgJCgiIyN7QHBhZ2VJZH0gLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiRmlyc3QgI3t0ZW5QZXJjZW50T2ZJdGVtc30gaW5jb3JyZWN0IC0gYXV0b3N0b3AuIikKICAgICAgICBlbHNlCiAgICAgICAgICAkKCIjI3tAcGFnZUlkfSAuY29udHJvbHMgLm1lc3NhZ2UiKS5odG1sKCIiKQogICAgICAgIHJldHVybiByZXN1bHRzCiAgICAgIGVsc2UKICAgICAgICAkKCIjI3tAcGFnZUlkfSAuY29udHJvbHMgLm1lc3NhZ2UiKS5odG1sKCJTZWxlY3QgbGFzdCBpdGVtIGF0dGVtcHRlZCIpCgogICAgcmV0dXJuIHJlc3VsdHMKCiAgdmFsaWRhdGU6IC0+CiAgICByZXN1bHRzID0gQHJlc3VsdHMoKQogICAgaWYgcmVzdWx0cy50aW1lX3JlbWFpbiA9PSA2MCBvciByZXN1bHRzLnRpbWVfcmVtYWluID09IHVuZGVmaW5lZAogICAgICByZXR1cm4gIlRoZSB0aW1lciBtdXN0IGJlIHN0YXJ0ZWQiCiAgICBpZiBAdGltZXIucnVubmluZwogICAgICByZXR1cm4gIlRoZSB0aW1lciBpcyBzdGlsbCBydW5uaW5nIgogICAgaWYgcmVzdWx0cy50aW1lX3JlbWFpbiA9PSAwCiAgICAgIHJldHVybiB0cnVlCiAgICBlbHNlIGlmIHJlc3VsdHMuYXR0ZW1wdGVkPwogICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZQogICAgICByZXR1cm4gIlRoZSBsYXN0IGxldHRlciBhdHRlbXB0ZWQgaGFzIG5vdCBiZWVuIHNlbGVjdGVkIgoKCmNsYXNzIERpY3RhdGlvbiBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQG1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2UKICAgIEBmb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZQogICAgc3VwZXIob3B0aW9ucykKCiAgICBAY29udGVudCA9ICAiI3tAbWVzc2FnZX08YnIvPjxpbnB1dCBuYW1lPSdyZXN1bHQnIHR5cGU9J3RleHQnPjwvaW5wdXQ+IgoKICBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbjogLT4KICAgIHByb3BlcnRpZXMgPSBzdXBlcigpCiAgICBwcm9wZXJ0aWVzLnB1c2goIm1lc3NhZ2UiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgcmVzdWx0czogLT4KICAgIHJlc3VsdHMgPSB7fQogICAgZW50ZXJlZERhdGEgPSAkKCJkaXYjI3tAcGFnZUlkfSBpbnB1dFt0eXBlPXRleHRdIikudmFsKCkKCiAgICBpZiBlbnRlcmVkRGF0YS5tYXRjaCgvYm95cy9pKQogICAgICByZXN1bHRzWyJXcm90ZSBib3lzIGNvcnJlY3RseSJdID0gMgogICAgZWxzZQogICAgICBpZiBlbnRlcmVkRGF0YS5tYXRjaCgvYm98b3l8YnkvaSkKICAgICAgICByZXN1bHRzWyJXcm90ZSBib3lzIGNvcnJlY3RseSJdID0gMQoKICAgIGlmIGVudGVyZWREYXRhLm1hdGNoKC9iaWtlcy9pKQogICAgICByZXN1bHRzWyJXcm90ZSBiaWtlcyBjb3JyZWN0bHkiXSA9IDIKICAgIGVsc2UKICAgICAgaWYgZW50ZXJlZERhdGEubWF0Y2goL2JpfGlrfGtlcy9pKQogICAgICAgIHJlc3VsdHNbIldyb3RlIGJpa2VzIGNvcnJlY3RseSJdID0gMQoKICAgIG51bWJlck9mU3BhY2VzID0gZW50ZXJlZERhdGEuc3BsaXQoIiAiKS5sZW5ndGggLSAxCiAgICBpZiBudW1iZXJPZlNwYWNlcyA+PSA4CiAgICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgc3BhY2luZyBiZXR3ZWVuIHdvcmRzIl0gPSAyCiAgICBlbHNlCiAgICAgIGlmIG51bWJlck9mU3BhY2VzID4gMyBhbmQgbnVtYmVyT2ZTcGFjZXMgPCA4CiAgICAgICAgcmVzdWx0c1siVXNlZCBhcHByb3ByaWF0ZSBzcGFjaW5nIGJldHdlZW4gd29yZHMiXSA9IDEKICAgICAgZWxzZQogICAgICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgc3BhY2luZyBiZXR3ZWVuIHdvcmRzIl0gPSAwCgogICAgIyBUT0RPCiAgICByZXN1bHRzWyJVc2VkIGFwcHJvcHJpYXRlIGRpcmVjdGlvbiBvZiB0ZXh0IChsZWZ0IHRvIHJpZ2h0KSJdID0gMgoKICAgIGlmIGVudGVyZWREYXRhLm1hdGNoKC9UaGUvKQogICAgICByZXN1bHRzWyJVc2VkIGNhcGl0YWwgbGV0dGVyIGZvciB0aGUgd29yZCAnVGhlJyJdID0gMgogICAgZWxzZQogICAgICByZXN1bHRzWyJVc2VkIGNhcGl0YWwgbGV0dGVyIGZvciB0aGUgd29yZCAnVGhlJyJdID0gMAoKICAgIGlmIGVudGVyZWREYXRhLm1hdGNoKC9cLiAqJC8pCiAgICAgIHJlc3VsdHNbIlVzZWQgZnVsbCBzdG9wICguKSBhdCBlbmQgb2Ygc2VudGVuY2UuIl0gPSAyCiAgICBlbHNlCiAgICAgIHJlc3VsdHNbIlVzZWQgZnVsbCBzdG9wICguKSBhdCBlbmQgb2Ygc2VudGVuY2UuIl0gPSAwCiAgICByZXR1cm4gcmVzdWx0cwoKICB2YWxpZGF0ZTogLT4KICAgIHJldHVybiB0cnVlCgpEaWN0YXRpb24uZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICBkaWN0YXRpb25QYWdlID0gbmV3IERpY3RhdGlvbihwYWdlT2JqZWN0KQogIGRpY3RhdGlvblBhZ2UubG9hZChwYWdlT2JqZWN0KQogIHJldHVybiBkaWN0YXRpb25QYWdlCgoKCmNsYXNzIEludGVydmlldyBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQHJhZGlvQnV0dG9ucyA9IG9wdGlvbnMucmFkaW9CdXR0b25zCiAgICBzdXBlcihvcHRpb25zKQogICAgQGNvbnRlbnQgPSBJbnRlcnZpZXcudGVtcGxhdGUodGhpcykKICAgIAoKICBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbjogLT4KICAgIHByb3BlcnRpZXMgPSBzdXBlcigpCiAgICBwcm9wZXJ0aWVzLnB1c2goInJhZGlvQnV0dG9ucyIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKICB2YWxpZGF0ZTogLT4KICAgIHJldHVybiB0cnVlCgpJbnRlcnZpZXcudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUgIgogIDxmb3JtPgogICAge3sjcmFkaW9CdXR0b25zfX0KICAgICAgPGZpZWxkc2V0IGRhdGEtdHlwZT0ne3t0eXBlfX0nIGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJz4KICAgICAgICA8bGVnZW5kPnt7bGFiZWx9fTwvbGVnZW5kPgogICAgICAgIHt7I29wdGlvbnN9fQogICAgICAgICAgPGxhYmVsIGZvcj0ne3sufX0nPnt7Ln19PC9sYWJlbD4KICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ne3suLi9uYW1lfX0nIHZhbHVlPSd7ey59fScgaWQ9J3t7Ln19Jz48L2lucHV0PgogICAgICAgIHt7L29wdGlvbnN9fQogICAgICA8L2ZpZWxkc2V0PgogICAge3svcmFkaW9CdXR0b25zfX0KICA8L2Zvcm0+CiIKCkludGVydmlldy5kZXNlcmlhbGl6ZSA9IChwYWdlT2JqZWN0KSAtPgogIGludGVydmlldyA9IG5ldyBJbnRlcnZpZXcocGFnZU9iamVjdCkKICBpbnRlcnZpZXcubG9hZChwYWdlT2JqZWN0KQogIGludGVydmlldy5jb250ZW50ID0gSW50ZXJ2aWV3LnRlbXBsYXRlKGludGVydmlldykKICByZXR1cm4gaW50ZXJ2aWV3Cg==", "content_type": ""}, "models/scorer.coffee": {"data": "Y2xhc3MgU2NvcmVyCiAgdXBkYXRlOiAtPgogICAgY29tcGxldGVkID0gd3JvbmcgPSAwCiAgICBmb3IgZWxlbWVudCBpbiAkKCcudWktcGFnZS1hY3RpdmUgLnVpLWNoZWNrYm94IGxhYmVsLnVpLWJ0bicpCiAgICAgIGVsZW1lbnQgPSAkKGVsZW1lbnQpCiAgICAgIHdyb25nKysgaWYgZWxlbWVudC5pcygnLmZpcnN0X2NsaWNrJykKICAgICAgY29tcGxldGVkKysKICAgICAgYnJlYWsgaWYgZWxlbWVudC5pcygnLnNlY29uZF9jbGljaycpCiAgICAkKCcjY29tcGxldGVkJykuaHRtbChjb21wbGV0ZWQpCiAgICAkKCcjd3JvbmcnKS5odG1sKHdyb25nKQoKICByZW5kZXI6IC0+CiAgICBAaWQgPSAic2NvcmVyIgogICAgc2V0SW50ZXJ2YWwoIHRoaXMudXBkYXRlLCA1MDApCiAgICBNdXN0YWNoZS50b19odG1sKEBfdGVtcGxhdGUoKSx0aGlzKQoKICBfdGVtcGxhdGU6IC0+ICIKPGRpdiBjbGFzcz0nc2NvcmVyJz4KICA8c21hbGw+CiAgQ29tcGxldGVkOjxzcGFuIGlkPSdjb21wbGV0ZWQnPjwvc3Bhbj4KICBXcm9uZzo8c3BhbiBpZD0nd3JvbmcnPjwvc3Bhbj4KICA8L3NtYWxsPgo8L2Rpdj4KIgoK", "content_type": ""}, "tests/testData/Assessment.TEST EGRA Prototype.DateTime": {"data": "eyJwYWdlSWQiOiJEYXRlVGltZSIsInBhZ2VUeXBlIjoiRGF0ZVRpbWVQYWdlIn0K", "content_type": ""}, "tests/testData/Assessment.TEST EGRA Prototype.Results": {"data": "eyJwYWdlSWQiOiJSZXN1bHRzIiwicGFnZVR5cGUiOiJSZXN1bHRzUGFnZSJ9Cg==", "content_type": ""}, "js-libraries/jquery-1.6.2.min.js": {"data": "LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNi4yCiAqIGh0dHA6Ly9qcXVlcnkuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMSwgSm9obiBSZXNpZwogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBJbmNsdWRlcyBTaXp6bGUuanMKICogaHR0cDovL3NpenpsZWpzLmNvbS8KICogQ29weXJpZ2h0IDIwMTEsIFRoZSBEb2pvIEZvdW5kYXRpb24KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLgogKgogKiBEYXRlOiBUaHUgSnVuIDMwIDE0OjE2OjU2IDIwMTEgLTA0MDAKICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGN2KGEpe3JldHVybiBmLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY3MoYSl7aWYoIWNnW2FdKXt2YXIgYj1jLmJvZHksZD1mKCI8IithKyI+IikuYXBwZW5kVG8oYiksZT1kLmNzcygiZGlzcGxheSIpO2QucmVtb3ZlKCk7aWYoZT09PSJub25lInx8ZT09PSIiKXtjaHx8KGNoPWMuY3JlYXRlRWxlbWVudCgiaWZyYW1lIiksY2guZnJhbWVCb3JkZXI9Y2gud2lkdGg9Y2guaGVpZ2h0PTApLGIuYXBwZW5kQ2hpbGQoY2gpO2lmKCFjaXx8IWNoLmNyZWF0ZUVsZW1lbnQpY2k9KGNoLmNvbnRlbnRXaW5kb3d8fGNoLmNvbnRlbnREb2N1bWVudCkuZG9jdW1lbnQsY2kud3JpdGUoKGMuY29tcGF0TW9kZT09PSJDU1MxQ29tcGF0Ij8iPCFkb2N0eXBlIGh0bWw+IjoiIikrIjxodG1sPjxib2R5PiIpLGNpLmNsb3NlKCk7ZD1jaS5jcmVhdGVFbGVtZW50KGEpLGNpLmJvZHkuYXBwZW5kQ2hpbGQoZCksZT1mLmNzcyhkLCJkaXNwbGF5IiksYi5yZW1vdmVDaGlsZChjaCl9Y2dbYV09ZX1yZXR1cm4gY2dbYV19ZnVuY3Rpb24gY3IoYSxiKXt2YXIgYz17fTtmLmVhY2goY20uY29uY2F0LmFwcGx5KFtdLGNtLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7Y1t0aGlzXT1hfSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3EoKXtjbj1ifWZ1bmN0aW9uIGNwKCl7c2V0VGltZW91dChjcSwwKTtyZXR1cm4gY249Zi5ub3coKX1mdW5jdGlvbiBjZigpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fWZ1bmN0aW9uIGNlKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fWZ1bmN0aW9uIGIkKGEsYyl7YS5kYXRhRmlsdGVyJiYoYz1hLmRhdGFGaWx0ZXIoYyxhLmRhdGFUeXBlKSk7dmFyIGQ9YS5kYXRhVHlwZXMsZT17fSxnLGgsaT1kLmxlbmd0aCxqLGs9ZFswXSxsLG0sbixvLHA7Zm9yKGc9MTtnPGk7ZysrKXtpZihnPT09MSlmb3IoaCBpbiBhLmNvbnZlcnRlcnMpdHlwZW9mIGg9PSJzdHJpbmciJiYoZVtoLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1toXSk7bD1rLGs9ZFtnXTtpZihrPT09IioiKWs9bDtlbHNlIGlmKGwhPT0iKiImJmwhPT1rKXttPWwrIiAiK2ssbj1lW21dfHxlWyIqICIra107aWYoIW4pe3A9Yjtmb3IobyBpbiBlKXtqPW8uc3BsaXQoIiAiKTtpZihqWzBdPT09bHx8alswXT09PSIqIil7cD1lW2pbMV0rIiAiK2tdO2lmKHApe289ZVtvXSxvPT09ITA/bj1wOnA9PT0hMCYmKG49byk7YnJlYWt9fX19IW4mJiFwJiZmLmVycm9yKCJObyBjb252ZXJzaW9uIGZyb20gIittLnJlcGxhY2UoIiAiLCIgdG8gIikpLG4hPT0hMCYmKGM9bj9uKGMpOnAobyhjKSkpfX1yZXR1cm4gY31mdW5jdGlvbiBiWihhLGMsZCl7dmFyIGU9YS5jb250ZW50cyxmPWEuZGF0YVR5cGVzLGc9YS5yZXNwb25zZUZpZWxkcyxoLGksaixrO2ZvcihpIGluIGcpaSBpbiBkJiYoY1tnW2ldXT1kW2ldKTt3aGlsZShmWzBdPT09IioiKWYuc2hpZnQoKSxoPT09YiYmKGg9YS5taW1lVHlwZXx8Yy5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpO2lmKGgpZm9yKGkgaW4gZSlpZihlW2ldJiZlW2ldLnRlc3QoaCkpe2YudW5zaGlmdChpKTticmVha31pZihmWzBdaW4gZClqPWZbMF07ZWxzZXtmb3IoaSBpbiBkKXtpZighZlswXXx8YS5jb252ZXJ0ZXJzW2krIiAiK2ZbMF1dKXtqPWk7YnJlYWt9a3x8KGs9aSl9aj1qfHxrfWlmKGope2ohPT1mWzBdJiZmLnVuc2hpZnQoaik7cmV0dXJuIGRbal19fWZ1bmN0aW9uIGJZKGEsYixjLGQpe2lmKGYuaXNBcnJheShiKSlmLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fGJDLnRlc3QoYSk/ZChhLGUpOmJZKGErIlsiKyh0eXBlb2YgZT09Im9iamVjdCJ8fGYuaXNBcnJheShlKT9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZighYyYmYiE9bnVsbCYmdHlwZW9mIGI9PSJvYmplY3QiKWZvcih2YXIgZSBpbiBiKWJZKGErIlsiK2UrIl0iLGJbZV0sYyxkKTtlbHNlIGQoYSxiKX1mdW5jdGlvbiBiWChhLGMsZCxlLGYsZyl7Zj1mfHxjLmRhdGFUeXBlc1swXSxnPWd8fHt9LGdbZl09ITA7dmFyIGg9YVtmXSxpPTAsaj1oP2gubGVuZ3RoOjAsaz1hPT09YlIsbDtmb3IoO2k8aiYmKGt8fCFsKTtpKyspbD1oW2ldKGMsZCxlKSx0eXBlb2YgbD09InN0cmluZyImJigha3x8Z1tsXT9sPWI6KGMuZGF0YVR5cGVzLnVuc2hpZnQobCksbD1iWChhLGMsZCxlLGwsZykpKTsoa3x8IWwpJiYhZ1siKiJdJiYobD1iWChhLGMsZCxlLCIqIixnKSk7cmV0dXJuIGx9ZnVuY3Rpb24gYlcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dHlwZW9mIGIhPSJzdHJpbmciJiYoYz1iLGI9IioiKTtpZihmLmlzRnVuY3Rpb24oYykpe3ZhciBkPWIudG9Mb3dlckNhc2UoKS5zcGxpdChiTiksZT0wLGc9ZC5sZW5ndGgsaCxpLGo7Zm9yKDtlPGc7ZSsrKWg9ZFtlXSxqPS9eXCsvLnRlc3QoaCksaiYmKGg9aC5zdWJzdHIoMSl8fCIqIiksaT1hW2hdPWFbaF18fFtdLGlbaj8idW5zaGlmdCI6InB1c2giXShjKX19fWZ1bmN0aW9uIGJBKGEsYixjKXt2YXIgZD1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGU9Yj09PSJ3aWR0aCI/YnY6Ync7aWYoZD4wKXtjIT09ImJvcmRlciImJmYuZWFjaChlLGZ1bmN0aW9uKCl7Y3x8KGQtPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrdGhpcykpfHwwKSxjPT09Im1hcmdpbiI/ZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrdGhpcykpfHwwOmQtPXBhcnNlRmxvYXQoZi5jc3MoYSwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MH0pO3JldHVybiBkKyJweCJ9ZD1ieChhLGIsYik7aWYoZDwwfHxkPT1udWxsKWQ9YS5zdHlsZVtiXXx8MDtkPXBhcnNlRmxvYXQoZCl8fDAsYyYmZi5lYWNoKGUsZnVuY3Rpb24oKXtkKz1wYXJzZUZsb2F0KGYuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCxjIT09InBhZGRpbmciJiYoZCs9cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxjPT09Im1hcmdpbiImJihkKz1wYXJzZUZsb2F0KGYuY3NzKGEsYyt0aGlzKSl8fDApfSk7cmV0dXJuIGQrInB4In1mdW5jdGlvbiBibShhLGIpe2Iuc3JjP2YuYWpheCh7dXJsOmIuc3JjLGFzeW5jOiExLGRhdGFUeXBlOiJzY3JpcHQifSk6Zi5nbG9iYWxFdmFsKChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIikucmVwbGFjZShiZSwiLyokMCovIikpLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIGJsKGEpe2Yubm9kZU5hbWUoYSwiaW5wdXQiKT9iayhhKToiZ2V0RWxlbWVudHNCeVRhZ05hbWUiaW4gYSYmZi5ncmVwKGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IiksYmspfWZ1bmN0aW9uIGJrKGEpe2lmKGEudHlwZT09PSJjaGVja2JveCJ8fGEudHlwZT09PSJyYWRpbyIpYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWR9ZnVuY3Rpb24gYmooYSl7cmV0dXJuImdldEVsZW1lbnRzQnlUYWdOYW1lImluIGE/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOiJxdWVyeVNlbGVjdG9yQWxsImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKCIqIik6W119ZnVuY3Rpb24gYmkoYSxiKXt2YXIgYztpZihiLm5vZGVUeXBlPT09MSl7Yi5jbGVhckF0dHJpYnV0ZXMmJmIuY2xlYXJBdHRyaWJ1dGVzKCksYi5tZXJnZUF0dHJpYnV0ZXMmJmIubWVyZ2VBdHRyaWJ1dGVzKGEpLGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGM9PT0ib2JqZWN0IiliLm91dGVySFRNTD1hLm91dGVySFRNTDtlbHNlIGlmKGMhPT0iaW5wdXQifHxhLnR5cGUhPT0iY2hlY2tib3giJiZhLnR5cGUhPT0icmFkaW8iKXtpZihjPT09Im9wdGlvbiIpYi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDtlbHNlIGlmKGM9PT0iaW5wdXQifHxjPT09InRleHRhcmVhIiliLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZX1lbHNlIGEuY2hlY2tlZCYmKGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCksYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpO2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyl9fWZ1bmN0aW9uIGJoKGEsYil7aWYoYi5ub2RlVHlwZT09PTEmJiEhZi5oYXNEYXRhKGEpKXt2YXIgYz1mLmV4cGFuZG8sZD1mLmRhdGEoYSksZT1mLmRhdGEoYixkKTtpZihkPWRbY10pe3ZhciBnPWQuZXZlbnRzO2U9ZVtjXT1mLmV4dGVuZCh7fSxkKTtpZihnKXtkZWxldGUgZS5oYW5kbGUsZS5ldmVudHM9e307Zm9yKHZhciBoIGluIGcpZm9yKHZhciBpPTAsaj1nW2hdLmxlbmd0aDtpPGo7aSsrKWYuZXZlbnQuYWRkKGIsaCsoZ1toXVtpXS5uYW1lc3BhY2U/Ii4iOiIiKStnW2hdW2ldLm5hbWVzcGFjZSxnW2hdW2ldLGdbaF1baV0uZGF0YSl9fX19ZnVuY3Rpb24gYmcoYSxiKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJ0YWJsZSIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24gVyhhLGIsYyl7Yj1ifHwwO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZT0hIWIuY2FsbChhLGQsYSk7cmV0dXJuIGU9PT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT09PWI9PT1jfSk7aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgZD1mLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PTF9KTtpZihSLnRlc3QoYikpcmV0dXJuIGYuZmlsdGVyKGIsZCwhYyk7Yj1mLmZpbHRlcihiLGQpfXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiBmLmluQXJyYXkoYSxiKT49MD09PWN9KX1mdW5jdGlvbiBWKGEpe3JldHVybiFhfHwhYS5wYXJlbnROb2RlfHxhLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMX1mdW5jdGlvbiBOKGEsYil7cmV0dXJuKGEmJmEhPT0iKiI/YSsiLiI6IiIpK2IucmVwbGFjZSh6LCJgIikucmVwbGFjZShBLCImIil9ZnVuY3Rpb24gTShhKXt2YXIgYixjLGQsZSxnLGgsaSxqLGssbCxtLG4sbyxwPVtdLHE9W10scj1mLl9kYXRhKHRoaXMsImV2ZW50cyIpO2lmKCEoYS5saXZlRmlyZWQ9PT10aGlzfHwhcnx8IXIubGl2ZXx8YS50YXJnZXQuZGlzYWJsZWR8fGEuYnV0dG9uJiZhLnR5cGU9PT0iY2xpY2siKSl7YS5uYW1lc3BhY2UmJihuPW5ldyBSZWdFeHAoIihefFxcLikiK2EubmFtZXNwYWNlLnNwbGl0KCIuIikuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIikpLGEubGl2ZUZpcmVkPXRoaXM7dmFyIHM9ci5saXZlLnNsaWNlKDApO2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspZz1zW2ldLGcub3JpZ1R5cGUucmVwbGFjZSh4LCIiKT09PWEudHlwZT9xLnB1c2goZy5zZWxlY3Rvcik6cy5zcGxpY2UoaS0tLDEpO2U9ZihhLnRhcmdldCkuY2xvc2VzdChxLGEuY3VycmVudFRhcmdldCk7Zm9yKGo9MCxrPWUubGVuZ3RoO2o8aztqKyspe209ZVtqXTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKXtnPXNbaV07aWYobS5zZWxlY3Rvcj09PWcuc2VsZWN0b3ImJighbnx8bi50ZXN0KGcubmFtZXNwYWNlKSkmJiFtLmVsZW0uZGlzYWJsZWQpe2g9bS5lbGVtLGQ9bnVsbDtpZihnLnByZVR5cGU9PT0ibW91c2VlbnRlciJ8fGcucHJlVHlwZT09PSJtb3VzZWxlYXZlIilhLnR5cGU9Zy5wcmVUeXBlLGQ9ZihhLnJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoZy5zZWxlY3RvcilbMF0sZCYmZi5jb250YWlucyhoLGQpJiYoZD1oKTsoIWR8fGQhPT1oKSYmcC5wdXNoKHtlbGVtOmgsaGFuZGxlT2JqOmcsbGV2ZWw6bS5sZXZlbH0pfX19Zm9yKGo9MCxrPXAubGVuZ3RoO2o8aztqKyspe2U9cFtqXTtpZihjJiZlLmxldmVsPmMpYnJlYWs7YS5jdXJyZW50VGFyZ2V0PWUuZWxlbSxhLmRhdGE9ZS5oYW5kbGVPYmouZGF0YSxhLmhhbmRsZU9iaj1lLmhhbmRsZU9iaixvPWUuaGFuZGxlT2JqLm9yaWdIYW5kbGVyLmFwcGx5KGUuZWxlbSxhcmd1bWVudHMpO2lmKG89PT0hMXx8YS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtjPWUubGV2ZWwsbz09PSExJiYoYj0hMSk7aWYoYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX1yZXR1cm4gYn19ZnVuY3Rpb24gSyhhLGMsZCl7dmFyIGU9Zi5leHRlbmQoe30sZFswXSk7ZS50eXBlPWEsZS5vcmlnaW5hbEV2ZW50PXt9LGUubGl2ZUZpcmVkPWIsZi5ldmVudC5oYW5kbGUuY2FsbChjLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmRbMF0ucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBFKCl7cmV0dXJuITB9ZnVuY3Rpb24gRCgpe3JldHVybiExfWZ1bmN0aW9uIG0oYSxjLGQpe3ZhciBlPWMrImRlZmVyIixnPWMrInF1ZXVlIixoPWMrIm1hcmsiLGk9Zi5kYXRhKGEsZSxiLCEwKTtpJiYoZD09PSJxdWV1ZSJ8fCFmLmRhdGEoYSxnLGIsITApKSYmKGQ9PT0ibWFyayJ8fCFmLmRhdGEoYSxoLGIsITApKSYmc2V0VGltZW91dChmdW5jdGlvbigpeyFmLmRhdGEoYSxnLGIsITApJiYhZi5kYXRhKGEsaCxiLCEwKSYmKGYucmVtb3ZlRGF0YShhLGUsITApLGkucmVzb2x2ZSgpKX0sMCl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlpZihiIT09InRvSlNPTiIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gayhhLGMsZCl7aWYoZD09PWImJmEubm9kZVR5cGU9PT0xKXt2YXIgZT0iZGF0YS0iK2MucmVwbGFjZShqLCIkMS0kMiIpLnRvTG93ZXJDYXNlKCk7ZD1hLmdldEF0dHJpYnV0ZShlKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOmYuaXNOYU4oZCk/aS50ZXN0KGQpP2YucGFyc2VKU09OKGQpOmQ6cGFyc2VGbG9hdChkKX1jYXRjaChnKXt9Zi5kYXRhKGEsYyxkKX1lbHNlIGQ9Yn1yZXR1cm4gZH12YXIgYz1hLmRvY3VtZW50LGQ9YS5uYXZpZ2F0b3IsZT1hLmxvY2F0aW9uLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBKKCl7aWYoIWUuaXNSZWFkeSl7dHJ5e2MuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7c2V0VGltZW91dChKLDEpO3JldHVybn1lLnJlYWR5KCl9fXZhciBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBlLmZuLmluaXQoYSxiLGgpfSxmPWEualF1ZXJ5LGc9YS4kLGgsaT0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXGQvLG49L148KFx3KylccypcLz8+KD86PFwvXDE+KT8kLyxvPS9eW1xdLDp7fVxzXSokLyxwPS9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscT0vIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2cscj0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHM9Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8sdD0vKG9wZXJhKSg/Oi4qdmVyc2lvbik/WyBcL10oW1x3Ll0rKS8sdT0vKG1zaWUpIChbXHcuXSspLyx2PS8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKykpPy8sdz0vLShbYS16XSkvaWcseD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9LHk9ZC51c2VyQWdlbnQseixBLEIsQz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFPUFycmF5LnByb3RvdHlwZS5wdXNoLEY9QXJyYXkucHJvdG90eXBlLnNsaWNlLEc9U3RyaW5nLnByb3RvdHlwZS50cmltLEg9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsST17fTtlLmZuPWUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjplLGluaXQ6ZnVuY3Rpb24oYSxkLGYpe3ZhciBnLGgsaixrO2lmKCFhKXJldHVybiB0aGlzO2lmKGEubm9kZVR5cGUpe3RoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZihhPT09ImJvZHkiJiYhZCYmYy5ib2R5KXt0aGlzLmNvbnRleHQ9Yyx0aGlzWzBdPWMuYm9keSx0aGlzLnNlbGVjdG9yPWEsdGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZih0eXBlb2YgYT09InN0cmluZyIpe2EuY2hhckF0KDApIT09IjwifHxhLmNoYXJBdChhLmxlbmd0aC0xKSE9PSI+Inx8YS5sZW5ndGg8Mz9nPWkuZXhlYyhhKTpnPVtudWxsLGEsbnVsbF07aWYoZyYmKGdbMV18fCFkKSl7aWYoZ1sxXSl7ZD1kIGluc3RhbmNlb2YgZT9kWzBdOmQsaz1kP2Qub3duZXJEb2N1bWVudHx8ZDpjLGo9bi5leGVjKGEpLGo/ZS5pc1BsYWluT2JqZWN0KGQpPyhhPVtjLmNyZWF0ZUVsZW1lbnQoalsxXSldLGUuZm4uYXR0ci5jYWxsKGEsZCwhMCkpOmE9W2suY3JlYXRlRWxlbWVudChqWzFdKV06KGo9ZS5idWlsZEZyYWdtZW50KFtnWzFdXSxba10pLGE9KGouY2FjaGVhYmxlP2UuY2xvbmUoai5mcmFnbWVudCk6ai5mcmFnbWVudCkuY2hpbGROb2Rlcyk7cmV0dXJuIGUubWVyZ2UodGhpcyxhKX1oPWMuZ2V0RWxlbWVudEJ5SWQoZ1syXSk7aWYoaCYmaC5wYXJlbnROb2RlKXtpZihoLmlkIT09Z1syXSlyZXR1cm4gZi5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1ofXRoaXMuY29udGV4dD1jLHRoaXMuc2VsZWN0b3I9YTtyZXR1cm4gdGhpc31yZXR1cm4hZHx8ZC5qcXVlcnk/KGR8fGYpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihkKS5maW5kKGEpfWlmKGUuaXNGdW5jdGlvbihhKSlyZXR1cm4gZi5yZWFkeShhKTthLnNlbGVjdG9yIT09YiYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KTtyZXR1cm4gZS5tYWtlQXJyYXkoYSx0aGlzKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjYuMiIsbGVuZ3RoOjAsc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBGLmNhbGwodGhpcywwKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP3RoaXMudG9BcnJheSgpOmE8MD90aGlzW3RoaXMubGVuZ3RoK2FdOnRoaXNbYV19LHB1c2hTdGFjazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jb25zdHJ1Y3RvcigpO2UuaXNBcnJheShhKT9FLmFwcGx5KGQsYSk6ZS5tZXJnZShkLGEpLGQucHJldk9iamVjdD10aGlzLGQuY29udGV4dD10aGlzLmNvbnRleHQsYj09PSJmaW5kIj9kLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrKHRoaXMuc2VsZWN0b3I/IiAiOiIiKStjOmImJihkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK2IrIigiK2MrIikiKTtyZXR1cm4gZH0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBlLmVhY2godGhpcyxhLGIpfSxyZWFkeTpmdW5jdGlvbihhKXtlLmJpbmRSZWFkeSgpLEEuZG9uZShhKTtyZXR1cm4gdGhpc30sZXE6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0tMT90aGlzLnNsaWNlKGEpOnRoaXMuc2xpY2UoYSwrYSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRi5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixGLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpFLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxlLmZuLmluaXQucHJvdG90eXBlPWUuZm4sZS5leHRlbmQ9ZS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZixnLGgsaT1hcmd1bWVudHNbMF18fHt9LGo9MSxrPWFyZ3VtZW50cy5sZW5ndGgsbD0hMTt0eXBlb2YgaT09ImJvb2xlYW4iJiYobD1pLGk9YXJndW1lbnRzWzFdfHx7fSxqPTIpLHR5cGVvZiBpIT0ib2JqZWN0IiYmIWUuaXNGdW5jdGlvbihpKSYmKGk9e30pLGs9PT1qJiYoaT10aGlzLC0taik7Zm9yKDtqPGs7aisrKWlmKChhPWFyZ3VtZW50c1tqXSkhPW51bGwpZm9yKGMgaW4gYSl7ZD1pW2NdLGY9YVtjXTtpZihpPT09Ziljb250aW51ZTtsJiZmJiYoZS5pc1BsYWluT2JqZWN0KGYpfHwoZz1lLmlzQXJyYXkoZikpKT8oZz8oZz0hMSxoPWQmJmUuaXNBcnJheShkKT9kOltdKTpoPWQmJmUuaXNQbGFpbk9iamVjdChkKT9kOnt9LGlbY109ZS5leHRlbmQobCxoLGYpKTpmIT09YiYmKGlbY109Zil9cmV0dXJuIGl9LGUuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKGIpe2EuJD09PWUmJihhLiQ9ZyksYiYmYS5qUXVlcnk9PT1lJiYoYS5qUXVlcnk9Zik7cmV0dXJuIGV9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/ZS5yZWFkeVdhaXQrKzplLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7aWYoYT09PSEwJiYhLS1lLnJlYWR5V2FpdHx8YSE9PSEwJiYhZS5pc1JlYWR5KXtpZighYy5ib2R5KXJldHVybiBzZXRUaW1lb3V0KGUucmVhZHksMSk7ZS5pc1JlYWR5PSEwO2lmKGEhPT0hMCYmLS1lLnJlYWR5V2FpdD4wKXJldHVybjtBLnJlc29sdmVXaXRoKGMsW2VdKSxlLmZuLnRyaWdnZXImJmUoYykudHJpZ2dlcigicmVhZHkiKS51bmJpbmQoInJlYWR5Iil9fSxiaW5kUmVhZHk6ZnVuY3Rpb24oKXtpZighQSl7QT1lLl9EZWZlcnJlZCgpO2lmKGMucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpcmV0dXJuIHNldFRpbWVvdXQoZS5yZWFkeSwxKTtpZihjLmFkZEV2ZW50TGlzdGVuZXIpYy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGUucmVhZHksITEpO2Vsc2UgaWYoYy5hdHRhY2hFdmVudCl7Yy5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixCKSxhLmF0dGFjaEV2ZW50KCJvbmxvYWQiLGUucmVhZHkpO3ZhciBiPSExO3RyeXtiPWEuZnJhbWVFbGVtZW50PT1udWxsfWNhdGNoKGQpe31jLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmYiYmSigpfX19LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGUudHlwZShhKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIGUudHlwZShhKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYT09Im9iamVjdCImJiJzZXRJbnRlcnZhbCJpbiBhfSxpc05hTjpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbHx8IW0udGVzdChhKXx8aXNOYU4oYSl9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/U3RyaW5nKGEpOklbQy5jYWxsKGEpXXx8Im9iamVjdCJ9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7aWYoIWF8fGUudHlwZShhKSE9PSJvYmplY3QifHxhLm5vZGVUeXBlfHxlLmlzV2luZG93KGEpKXJldHVybiExO2lmKGEuY29uc3RydWN0b3ImJiFELmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIUQuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExO3ZhciBjO2ZvcihjIGluIGEpO3JldHVybiBjPT09Ynx8RC5jYWxsKGEsYyl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IGF9LHBhcnNlSlNPTjpmdW5jdGlvbihiKXtpZih0eXBlb2YgYiE9InN0cmluZyJ8fCFiKXJldHVybiBudWxsO2I9ZS50cmltKGIpO2lmKGEuSlNPTiYmYS5KU09OLnBhcnNlKXJldHVybiBhLkpTT04ucGFyc2UoYik7aWYoby50ZXN0KGIucmVwbGFjZShwLCJAIikucmVwbGFjZShxLCJdIikucmVwbGFjZShyLCIiKSkpcmV0dXJuKG5ldyBGdW5jdGlvbigicmV0dXJuICIrYikpKCk7ZS5lcnJvcigiSW52YWxpZCBKU09OOiAiK2IpfSxwYXJzZVhNTDpmdW5jdGlvbihiLGMsZCl7YS5ET01QYXJzZXI/KGQ9bmV3IERPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksYy5hc3luYz0iZmFsc2UiLGMubG9hZFhNTChiKSksZD1jLmRvY3VtZW50RWxlbWVudCwoIWR8fCFkLm5vZGVOYW1lfHxkLm5vZGVOYW1lPT09InBhcnNlcmVycm9yIikmJmUuZXJyb3IoIkludmFsaWQgWE1MOiAiK2IpO3JldHVybiBjfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJmoudGVzdChiKSYmKGEuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7YS5ldmFsLmNhbGwoYSxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LHgpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PT1iLnRvVXBwZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGc9MCxoPWEubGVuZ3RoLGk9aD09PWJ8fGUuaXNGdW5jdGlvbihhKTtpZihkKXtpZihpKXtmb3IoZiBpbiBhKWlmKGMuYXBwbHkoYVtmXSxkKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuYXBwbHkoYVtnKytdLGQpPT09ITEpYnJlYWt9ZWxzZSBpZihpKXtmb3IoZiBpbiBhKWlmKGMuY2FsbChhW2ZdLGYsYVtmXSk9PT0hMSlicmVha31lbHNlIGZvcig7ZzxoOylpZihjLmNhbGwoYVtnXSxnLGFbZysrXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpHP2Z1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOkcuY2FsbChhKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6KGErIiIpLnJlcGxhY2UoaywiIikucmVwbGFjZShsLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107aWYoYSE9bnVsbCl7dmFyIGQ9ZS50eXBlKGEpO2EubGVuZ3RoPT1udWxsfHxkPT09InN0cmluZyJ8fGQ9PT0iZnVuY3Rpb24ifHxkPT09InJlZ2V4cCJ8fGUuaXNXaW5kb3coYSk/RS5jYWxsKGMsYSk6ZS5tZXJnZShjLGEpfXJldHVybiBjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYil7aWYoSClyZXR1cm4gSC5jYWxsKGIsYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGJbY109PT1hKXJldHVybiBjO3JldHVybi0xfSxtZXJnZTpmdW5jdGlvbihhLGMpe3ZhciBkPWEubGVuZ3RoLGU9MDtpZih0eXBlb2YgYy5sZW5ndGg9PSJudW1iZXIiKWZvcih2YXIgZj1jLmxlbmd0aDtlPGY7ZSsrKWFbZCsrXT1jW2VdO2Vsc2Ugd2hpbGUoY1tlXSE9PWIpYVtkKytdPWNbZSsrXTthLmxlbmd0aD1kO3JldHVybiBhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlO2M9ISFjO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllPSEhYihhW2ZdLGYpLGMhPT1lJiZkLnB1c2goYVtmXSk7cmV0dXJuIGR9LG1hcDpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZyxoPVtdLGk9MCxqPWEubGVuZ3RoLGs9YSBpbnN0YW5jZW9mIGV8fGohPT1iJiZ0eXBlb2Ygaj09Im51bWJlciImJihqPjAmJmFbMF0mJmFbai0xXXx8aj09PTB8fGUuaXNBcnJheShhKSk7aWYoaylmb3IoO2k8ajtpKyspZj1jKGFbaV0saSxkKSxmIT1udWxsJiYoaFtoLmxlbmd0aF09Zik7ZWxzZSBmb3IoZyBpbiBhKWY9YyhhW2ddLGcsZCksZiE9bnVsbCYmKGhbaC5sZW5ndGhdPWYpO3JldHVybiBoLmNvbmNhdC5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYyl7aWYodHlwZW9mIGM9PSJzdHJpbmciKXt2YXIgZD1hW2NdO2M9YSxhPWR9aWYoIWUuaXNGdW5jdGlvbihhKSlyZXR1cm4gYjt2YXIgZj1GLmNhbGwoYXJndW1lbnRzLDIpLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShjLGYuY29uY2F0KEYuY2FsbChhcmd1bWVudHMpKSl9O2cuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxnLmd1aWR8fGUuZ3VpZCsrO3JldHVybiBnfSxhY2Nlc3M6ZnVuY3Rpb24oYSxjLGQsZixnLGgpe3ZhciBpPWEubGVuZ3RoO2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7Zm9yKHZhciBqIGluIGMpZS5hY2Nlc3MoYSxqLGNbal0sZixnLGQpO3JldHVybiBhfWlmKGQhPT1iKXtmPSFoJiZmJiZlLmlzRnVuY3Rpb24oZCk7Zm9yKHZhciBrPTA7azxpO2srKylnKGFba10sYyxmP2QuY2FsbChhW2tdLGssZyhhW2tdLGMpKTpkLGgpO3JldHVybiBhfXJldHVybiBpP2coYVswXSxjKTpifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj1zLmV4ZWMoYSl8fHQuZXhlYyhhKXx8dS5leGVjKGEpfHxhLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiZ2LmV4ZWMoYSl8fFtdO3JldHVybnticm93c2VyOmJbMV18fCIiLHZlcnNpb246YlsyXXx8IjAifX0sc3ViOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybiBuZXcgYS5mbi5pbml0KGIsYyl9ZS5leHRlbmQoITAsYSx0aGlzKSxhLnN1cGVyY2xhc3M9dGhpcyxhLmZuPWEucHJvdG90eXBlPXRoaXMoKSxhLmZuLmNvbnN0cnVjdG9yPWEsYS5zdWI9dGhpcy5zdWIsYS5mbi5pbml0PWZ1bmN0aW9uKGQsZil7ZiYmZiBpbnN0YW5jZW9mIGUmJiEoZiBpbnN0YW5jZW9mIGEpJiYoZj1hKGYpKTtyZXR1cm4gZS5mbi5pbml0LmNhbGwodGhpcyxkLGYsYil9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgYj1hKGMpO3JldHVybiBhfSxicm93c2VyOnt9fSksZS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7SVsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KSx6PWUudWFNYXRjaCh5KSx6LmJyb3dzZXImJihlLmJyb3dzZXJbei5icm93c2VyXT0hMCxlLmJyb3dzZXIudmVyc2lvbj16LnZlcnNpb24pLGUuYnJvd3Nlci53ZWJraXQmJihlLmJyb3dzZXIuc2FmYXJpPSEwKSxqLnRlc3QoIsKgIikmJihrPS9eW1xzXHhBMF0rLyxsPS9bXHNceEEwXSskLyksaD1lKGMpLGMuYWRkRXZlbnRMaXN0ZW5lcj9CPWZ1bmN0aW9uKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCLCExKSxlLnJlYWR5KCl9OmMuYXR0YWNoRXZlbnQmJihCPWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGMuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQiksZS5yZWFkeSgpKX0pO3JldHVybiBlfSgpLGc9ImRvbmUgZmFpbCBpc1Jlc29sdmVkIGlzUmVqZWN0ZWQgcHJvbWlzZSB0aGVuIGFsd2F5cyBwaXBlIi5zcGxpdCgiICIpLGg9W10uc2xpY2U7Zi5leHRlbmQoe19EZWZlcnJlZDpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYyxkLGU9e2RvbmU6ZnVuY3Rpb24oKXtpZighZCl7dmFyIGM9YXJndW1lbnRzLGcsaCxpLGosaztiJiYoaz1iLGI9MCk7Zm9yKGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspaT1jW2ddLGo9Zi50eXBlKGkpLGo9PT0iYXJyYXkiP2UuZG9uZS5hcHBseShlLGkpOmo9PT0iZnVuY3Rpb24iJiZhLnB1c2goaSk7ayYmZS5yZXNvbHZlV2l0aChrWzBdLGtbMV0pfXJldHVybiB0aGlzfSxyZXNvbHZlV2l0aDpmdW5jdGlvbihlLGYpe2lmKCFkJiYhYiYmIWMpe2Y9Znx8W10sYz0xO3RyeXt3aGlsZShhWzBdKWEuc2hpZnQoKS5hcHBseShlLGYpfWZpbmFsbHl7Yj1bZSxmXSxjPTB9fXJldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKCl7ZS5yZXNvbHZlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN8fCEhYn0sY2FuY2VsOmZ1bmN0aW9uKCl7ZD0xLGE9W107cmV0dXJuIHRoaXN9fTtyZXR1cm4gZX0sRGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9Zi5fRGVmZXJyZWQoKSxjPWYuX0RlZmVycmVkKCksZDtmLmV4dGVuZChiLHt0aGVuOmZ1bmN0aW9uKGEsYyl7Yi5kb25lKGEpLmZhaWwoYyk7cmV0dXJuIHRoaXN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBiLmRvbmUuYXBwbHkoYixhcmd1bWVudHMpLmZhaWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxmYWlsOmMuZG9uZSxyZWplY3RXaXRoOmMucmVzb2x2ZVdpdGgscmVqZWN0OmMucmVzb2x2ZSxpc1JlamVjdGVkOmMuaXNSZXNvbHZlZCxwaXBlOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oZCl7Zi5lYWNoKHtkb25lOlthLCJyZXNvbHZlIl0sZmFpbDpbYywicmVqZWN0Il19LGZ1bmN0aW9uKGEsYyl7dmFyIGU9Y1swXSxnPWNbMV0saDtmLmlzRnVuY3Rpb24oZSk/YlthXShmdW5jdGlvbigpe2g9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksaCYmZi5pc0Z1bmN0aW9uKGgucHJvbWlzZSk/aC5wcm9taXNlKCkudGhlbihkLnJlc29sdmUsZC5yZWplY3QpOmRbZ10oaCl9KTpiW2FdKGRbZ10pfSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7aWYoYT09bnVsbCl7aWYoZClyZXR1cm4gZDtkPWE9e319dmFyIGM9Zy5sZW5ndGg7d2hpbGUoYy0tKWFbZ1tjXV09YltnW2NdXTtyZXR1cm4gYX19KSxiLmRvbmUoYy5jYW5jZWwpLmZhaWwoYi5jYW5jZWwpLGRlbGV0ZSBiLmNhbmNlbCxhJiZhLmNhbGwoYixiKTtyZXR1cm4gYn0sd2hlbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihjKXtiW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9oLmNhbGwoYXJndW1lbnRzLDApOmMsLS1lfHxnLnJlc29sdmVXaXRoKGcsaC5jYWxsKGIsMCkpfX12YXIgYj1hcmd1bWVudHMsYz0wLGQ9Yi5sZW5ndGgsZT1kLGc9ZDw9MSYmYSYmZi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YTpmLkRlZmVycmVkKCk7aWYoZD4xKXtmb3IoO2M8ZDtjKyspYltjXSYmZi5pc0Z1bmN0aW9uKGJbY10ucHJvbWlzZSk/YltjXS5wcm9taXNlKCkudGhlbihpKGMpLGcucmVqZWN0KTotLWU7ZXx8Zy5yZXNvbHZlV2l0aChnLGIpfWVsc2UgZyE9PWEmJmcucmVzb2x2ZVdpdGgoZyxkP1thXTpbXSk7cmV0dXJuIGcucHJvbWlzZSgpfX0pLGYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1jLmRvY3VtZW50RWxlbWVudCxkLGUsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU7YS5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxhLmlubmVySFRNTD0iICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJyBzdHlsZT0ndG9wOjFweDtmbG9hdDpsZWZ0O29wYWNpdHk6LjU1Oyc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdO2lmKCFkfHwhZC5sZW5ndGh8fCFlKXJldHVybnt9O2c9Yy5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxoPWcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksaT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLGs9e2xlYWRpbmdXaGl0ZXNwYWNlOmEuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi90b3AvLnRlc3QoZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmUuZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjU1JC8udGVzdChlLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhZS5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmkudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmguc2VsZWN0ZWQsZ2V0U2V0QXR0cmlidXRlOmEuY2xhc3NOYW1lIT09InQiLHN1Ym1pdEJ1YmJsZXM6ITAsY2hhbmdlQnViYmxlczohMCxmb2N1c2luQnViYmxlczohMSxkZWxldGVFeHBhbmRvOiEwLG5vQ2xvbmVFdmVudDohMCxpbmxpbmVCbG9ja05lZWRzTGF5b3V0OiExLHNocmlua1dyYXBCbG9ja3M6ITEscmVsaWFibGVNYXJnaW5SaWdodDohMH0saS5jaGVja2VkPSEwLGsubm9DbG9uZUNoZWNrZWQ9aS5jbG9uZU5vZGUoITApLmNoZWNrZWQsZy5kaXNhYmxlZD0hMCxrLm9wdERpc2FibGVkPSFoLmRpc2FibGVkO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKHYpe2suZGVsZXRlRXhwYW5kbz0hMX0hYS5hZGRFdmVudExpc3RlbmVyJiZhLmF0dGFjaEV2ZW50JiZhLmZpcmVFdmVudCYmKGEuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7ay5ub0Nsb25lRXZlbnQ9ITF9KSxhLmNsb25lTm9kZSghMCkuZmlyZUV2ZW50KCJvbmNsaWNrIikpLGk9Yy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGkudmFsdWU9InQiLGkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxrLnJhZGlvVmFsdWU9aS52YWx1ZT09PSJ0IixpLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxhLmFwcGVuZENoaWxkKGkpLGw9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbC5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpLGsuY2hlY2tDbG9uZT1sLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxhLmlubmVySFRNTD0iIixhLnN0eWxlLndpZHRoPWEuc3R5bGUucGFkZGluZ0xlZnQ9IjFweCIsbT1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sbz1jLmNyZWF0ZUVsZW1lbnQobT8iZGl2IjoiYm9keSIpLHA9e3Zpc2liaWxpdHk6ImhpZGRlbiIsd2lkdGg6MCxoZWlnaHQ6MCxib3JkZXI6MCxtYXJnaW46MH0sbSYmZi5leHRlbmQocCx7cG9zaXRpb246ImFic29sdXRlIixsZWZ0Oi0xZTMsdG9wOi0xZTN9KTtmb3IodCBpbiBwKW8uc3R5bGVbdF09cFt0XTtvLmFwcGVuZENoaWxkKGEpLG49bXx8YixuLmluc2VydEJlZm9yZShvLG4uZmlyc3RDaGlsZCksay5hcHBlbmRDaGVja2VkPWkuY2hlY2tlZCxrLmJveE1vZGVsPWEub2Zmc2V0V2lkdGg9PT0yLCJ6b29tImluIGEuc3R5bGUmJihhLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsYS5zdHlsZS56b29tPTEsay5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWEub2Zmc2V0V2lkdGg9PT0yLGEuc3R5bGUuZGlzcGxheT0iIixhLmlubmVySFRNTD0iPGRpdiBzdHlsZT0nd2lkdGg6NHB4Oyc+PC9kaXY+IixrLnNocmlua1dyYXBCbG9ja3M9YS5vZmZzZXRXaWR0aCE9PTIpLGEuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSc+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIscT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHU9cVswXS5vZmZzZXRIZWlnaHQ9PT0wLHFbMF0uc3R5bGUuZGlzcGxheT0iIixxWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGsucmVsaWFibGVIaWRkZW5PZmZzZXRzPXUmJnFbMF0ub2Zmc2V0SGVpZ2h0PT09MCxhLmlubmVySFRNTD0iIixjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUmJihqPWMuY3JlYXRlRWxlbWVudCgiZGl2Iiksai5zdHlsZS53aWR0aD0iMCIsai5zdHlsZS5tYXJnaW5SaWdodD0iMCIsYS5hcHBlbmRDaGlsZChqKSxrLnJlbGlhYmxlTWFyZ2luUmlnaHQ9KHBhcnNlSW50KChjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaixudWxsKXx8e21hcmdpblJpZ2h0OjB9KS5tYXJnaW5SaWdodCwxMCl8fDApPT09MCksby5pbm5lckhUTUw9IiIsbi5yZW1vdmVDaGlsZChvKTtpZihhLmF0dGFjaEV2ZW50KWZvcih0IGlue3N1Ym1pdDoxLGNoYW5nZToxLGZvY3VzaW46MX0pcz0ib24iK3QsdT1zIGluIGEsdXx8KGEuc2V0QXR0cmlidXRlKHMsInJldHVybjsiKSx1PXR5cGVvZiBhW3NdPT0iZnVuY3Rpb24iKSxrW3QrIkJ1YmJsZXMiXT11O289bD1nPWg9bT1qPWE9aT1udWxsO3JldHVybiBrfSgpLGYuYm94TW9kZWw9Zi5zdXBwb3J0LmJveE1vZGVsO3ZhciBpPS9eKD86XHsuKlx9fFxbLipcXSkkLyxqPS8oW2Etel0pKFtBLVpdKS9nO2YuZXh0ZW5kKHtjYWNoZTp7fSx1dWlkOjAsZXhwYW5kbzoialF1ZXJ5IisoZi5mbi5qcXVlcnkrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9EYXRhOntlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIsYXBwbGV0OiEwfSxoYXNEYXRhOmZ1bmN0aW9uKGEpe2E9YS5ub2RlVHlwZT9mLmNhY2hlW2FbZi5leHBhbmRvXV06YVtmLmV4cGFuZG9dO3JldHVybiEhYSYmIWwoYSl9LGRhdGE6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoISFmLmFjY2VwdERhdGEoYSkpe3ZhciBnPWYuZXhwYW5kbyxoPXR5cGVvZiBjPT0ic3RyaW5nIixpLGo9YS5ub2RlVHlwZSxrPWo/Zi5jYWNoZTphLGw9aj9hW2YuZXhwYW5kb106YVtmLmV4cGFuZG9dJiZmLmV4cGFuZG87aWYoKCFsfHxlJiZsJiYha1tsXVtnXSkmJmgmJmQ9PT1iKXJldHVybjtsfHwoaj9hW2YuZXhwYW5kb109bD0rK2YudXVpZDpsPWYuZXhwYW5kbyksa1tsXXx8KGtbbF09e30sanx8KGtbbF0udG9KU09OPWYubm9vcCkpO2lmKHR5cGVvZiBjPT0ib2JqZWN0Inx8dHlwZW9mIGM9PSJmdW5jdGlvbiIpZT9rW2xdW2ddPWYuZXh0ZW5kKGtbbF1bZ10sYyk6a1tsXT1mLmV4dGVuZChrW2xdLGMpO2k9a1tsXSxlJiYoaVtnXXx8KGlbZ109e30pLGk9aVtnXSksZCE9PWImJihpW2YuY2FtZWxDYXNlKGMpXT1kKTtpZihjPT09ImV2ZW50cyImJiFpW2NdKXJldHVybiBpW2ddJiZpW2ddLmV2ZW50cztyZXR1cm4gaD9pW2YuY2FtZWxDYXNlKGMpXXx8aVtjXTppfX0scmVtb3ZlRGF0YTpmdW5jdGlvbihiLGMsZCl7aWYoISFmLmFjY2VwdERhdGEoYikpe3ZhciBlPWYuZXhwYW5kbyxnPWIubm9kZVR5cGUsaD1nP2YuY2FjaGU6YixpPWc/YltmLmV4cGFuZG9dOmYuZXhwYW5kbztpZighaFtpXSlyZXR1cm47aWYoYyl7dmFyIGo9ZD9oW2ldW2VdOmhbaV07aWYoail7ZGVsZXRlIGpbY107aWYoIWwoaikpcmV0dXJufX1pZihkKXtkZWxldGUgaFtpXVtlXTtpZighbChoW2ldKSlyZXR1cm59dmFyIGs9aFtpXVtlXTtmLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8aCE9YT9kZWxldGUgaFtpXTpoW2ldPW51bGwsaz8oaFtpXT17fSxnfHwoaFtpXS50b0pTT049Zi5ub29wKSxoW2ldW2VdPWspOmcmJihmLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYltmLmV4cGFuZG9dOmIucmVtb3ZlQXR0cmlidXRlP2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyk6YltmLmV4cGFuZG9dPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWYubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBkPW51bGw7aWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7ZD1mLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEpe3ZhciBlPXRoaXNbMF0uYXR0cmlidXRlcyxnO2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKylnPWVbaF0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1mLmNhbWVsQ2FzZShnLnN1YnN0cmluZyg1KSksayh0aGlzWzBdLGcsZFtnXSkpfX1yZXR1cm4gZH1pZih0eXBlb2YgYT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGEpfSk7dmFyIGo9YS5zcGxpdCgiLiIpO2pbMV09alsxXT8iLiIralsxXToiIjtpZihjPT09Yil7ZD10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitqWzFdKyIhIixbalswXV0pLGQ9PT1iJiZ0aGlzLmxlbmd0aCYmKGQ9Zi5kYXRhKHRoaXNbMF0sYSksZD1rKHRoaXNbMF0sYSxkKSk7cmV0dXJuIGQ9PT1iJiZqWzFdP3RoaXMuZGF0YShqWzBdKTpkfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGQ9W2pbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIralsxXSsiISIsZCksZi5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitqWzFdKyIhIixkKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGMpe2EmJihjPShjfHwiZngiKSsibWFyayIsZi5kYXRhKGEsYywoZi5kYXRhKGEsYyxiLCEwKXx8MCkrMSwhMCkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYyxkKXthIT09ITAmJihkPWMsYz1hLGE9ITEpO2lmKGMpe2Q9ZHx8ImZ4Ijt2YXIgZT1kKyJtYXJrIixnPWE/MDooZi5kYXRhKGMsZSxiLCEwKXx8MSktMTtnP2YuZGF0YShjLGUsZywhMCk6KGYucmVtb3ZlRGF0YShjLGUsITApLG0oYyxkLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxjLGQpe2lmKGEpe2M9KGN8fCJmeCIpKyJxdWV1ZSI7dmFyIGU9Zi5kYXRhKGEsYyxiLCEwKTtkJiYoIWV8fGYuaXNBcnJheShkKT9lPWYuZGF0YShhLGMsZi5tYWtlQXJyYXkoZCksITApOmUucHVzaChkKSk7cmV0dXJuIGV8fFtdfX0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1mLnF1ZXVlKGEsYiksZD1jLnNoaWZ0KCksZTtkPT09ImlucHJvZ3Jlc3MiJiYoZD1jLnNoaWZ0KCkpLGQmJihiPT09ImZ4IiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0pKSxjLmxlbmd0aHx8KGYucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCksbShhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBmLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKCl7dmFyIGM9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5kZXF1ZXVlKGMsYil9LGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBtKCl7LS1ofHxkLnJlc29sdmVXaXRoKGUsW2VdKX10eXBlb2YgYSE9InN0cmluZyImJihjPWEsYT1iKSxhPWF8fCJmeCI7dmFyIGQ9Zi5EZWZlcnJlZCgpLGU9dGhpcyxnPWUubGVuZ3RoLGg9MSxpPWErImRlZmVyIixqPWErInF1ZXVlIixrPWErIm1hcmsiLGw7d2hpbGUoZy0tKWlmKGw9Zi5kYXRhKGVbZ10saSxiLCEwKXx8KGYuZGF0YShlW2ddLGosYiwhMCl8fGYuZGF0YShlW2ddLGssYiwhMCkpJiZmLmRhdGEoZVtnXSxpLGYuX0RlZmVycmVkKCksITApKWgrKyxsLmRvbmUobSk7bSgpO3JldHVybiBkLnByb21pc2UoKX19KTt2YXIgbj0vW1xuXHRccl0vZyxvPS9ccysvLHA9L1xyL2cscT0vXig/OmJ1dHRvbnxpbnB1dCkkL2kscj0vXig/OmJ1dHRvbnxpbnB1dHxvYmplY3R8c2VsZWN0fHRleHRhcmVhKSQvaSxzPS9eYSg/OnJlYSk/JC9pLHQ9L14oPzphdXRvZm9jdXN8YXV0b3BsYXl8YXN5bmN8Y2hlY2tlZHxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZHxzZWxlY3RlZCkkL2ksdT0vXDp8Xm9uLyx2LHc7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9Zi5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxoLGk7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyIpe2I9YS5zcGxpdChvKTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7ZT10aGlzW2NdO2lmKGUubm9kZVR5cGU9PT0xKWlmKCFlLmNsYXNzTmFtZSYmYi5sZW5ndGg9PT0xKWUuY2xhc3NOYW1lPWE7ZWxzZXtnPSIgIitlLmNsYXNzTmFtZSsiICI7Zm9yKGg9MCxpPWIubGVuZ3RoO2g8aTtoKyspfmcuaW5kZXhPZigiICIrYltoXSsiICIpfHwoZys9YltoXSsiICIpO2UuY2xhc3NOYW1lPWYudHJpbShnKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZyxoLGksajtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nInx8YT09PWIpe2M9KGF8fCIiKS5zcGxpdChvKTtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXtoPSgiICIrZy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKG4sIiAiKTtmb3IoaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChvKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZigoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShuLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzWzBdO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZihlKXtjPWYudmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1tlLnR5cGVdO2lmKGMmJiJnZXQiaW4gYyYmKGQ9Yy5nZXQoZSwidmFsdWUiKSkhPT1iKXJldHVybiBkO2Q9ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIGQ9PSJzdHJpbmciP2QucmVwbGFjZShwLCIiKTpkPT1udWxsPyIiOmR9cmV0dXJuIGJ9dmFyIGc9Zi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZCl7dmFyIGU9Zih0aGlzKSxoO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtnP2g9YS5jYWxsKHRoaXMsZCxlLnZhbCgpKTpoPWEsaD09bnVsbD9oPSIiOnR5cGVvZiBoPT0ibnVtYmVyIj9oKz0iIjpmLmlzQXJyYXkoaCkmJihoPWYubWFwKGgsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKSxjPWYudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1t0aGlzLnR5cGVdO2lmKCFjfHwhKCJzZXQiaW4gYyl8fGMuc2V0KHRoaXMsaCwidmFsdWUiKT09PWIpdGhpcy52YWx1ZT1ofX0pfX0pLGYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiFifHxiLnNwZWNpZmllZD9hLnZhbHVlOmEudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5zZWxlY3RlZEluZGV4LGQ9W10sZT1hLm9wdGlvbnMsZz1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoYzwwKXJldHVybiBudWxsO2Zvcih2YXIgaD1nP2M6MCxpPWc/YysxOmUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWVbaF07aWYoai5zZWxlY3RlZCYmKGYuc3VwcG9ydC5vcHREaXNhYmxlZD8hai5kaXNhYmxlZDpqLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWoucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWYubm9kZU5hbWUoai5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7Yj1mKGopLnZhbCgpO2lmKGcpcmV0dXJuIGI7ZC5wdXNoKGIpfX1pZihnJiYhZC5sZW5ndGgmJmUubGVuZ3RoKXJldHVybiBmKGVbY10pLnZhbCgpO3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLm1ha2VBcnJheShiKTtmKGEpLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPWYuaW5BcnJheShmKHRoaXMpLnZhbCgpLGMpPj0wfSksYy5sZW5ndGh8fChhLnNlbGVjdGVkSW5kZXg9LTEpO3JldHVybiBjfX19LGF0dHJGbjp7dmFsOiEwLGNzczohMCxodG1sOiEwLHRleHQ6ITAsZGF0YTohMCx3aWR0aDohMCxoZWlnaHQ6ITAsb2Zmc2V0OiEwfSxhdHRyRml4Ont0YWJpbmRleDoidGFiSW5kZXgifSxhdHRyOmZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnPWEubm9kZVR5cGU7aWYoIWF8fGc9PT0zfHxnPT09OHx8Zz09PTIpcmV0dXJuIGI7aWYoZSYmYyBpbiBmLmF0dHJGbilyZXR1cm4gZihhKVtjXShkKTtpZighKCJnZXRBdHRyaWJ1dGUiaW4gYSkpcmV0dXJuIGYucHJvcChhLGMsZCk7dmFyIGgsaSxqPWchPT0xfHwhZi5pc1hNTERvYyhhKTtqJiYoYz1mLmF0dHJGaXhbY118fGMsaT1mLmF0dHJIb29rc1tjXSxpfHwodC50ZXN0KGMpP2k9dzp2JiZjIT09ImNsYXNzTmFtZSImJihmLm5vZGVOYW1lKGEsImZvcm0iKXx8dS50ZXN0KGMpKSYmKGk9dikpKTtpZihkIT09Yil7aWYoZD09PW51bGwpe2YucmVtb3ZlQXR0cihhLGMpO3JldHVybiBifWlmKGkmJiJzZXQiaW4gaSYmaiYmKGg9aS5zZXQoYSxkLGMpKSE9PWIpcmV0dXJuIGg7YS5zZXRBdHRyaWJ1dGUoYywiIitkKTtyZXR1cm4gZH1pZihpJiYiZ2V0ImluIGkmJmomJihoPWkuZ2V0KGEsYykpIT09bnVsbClyZXR1cm4gaDtoPWEuZ2V0QXR0cmlidXRlKGMpO3JldHVybiBoPT09bnVsbD9iOmh9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYzthLm5vZGVUeXBlPT09MSYmKGI9Zi5hdHRyRml4W2JdfHxiLGYuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGU/YS5yZW1vdmVBdHRyaWJ1dGUoYik6KGYuYXR0cihhLGIsIiIpLGEucmVtb3ZlQXR0cmlidXRlTm9kZShhLmdldEF0dHJpYnV0ZU5vZGUoYikpKSx0LnRlc3QoYikmJihjPWYucHJvcEZpeFtiXXx8YilpbiBhJiYoYVtjXT0hMSkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHEudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO2Euc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKTtyZXR1cm4gYn19fSx0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiSW5kZXgiKTtyZXR1cm4gYyYmYy5zcGVjaWZpZWQ/cGFyc2VJbnQoYy52YWx1ZSwxMCk6ci50ZXN0KGEubm9kZU5hbWUpfHxzLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOmJ9fSx2YWx1ZTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYodiYmZi5ub2RlTmFtZShhLCJidXR0b24iKSlyZXR1cm4gdi5nZXQoYSxiKTtyZXR1cm4gYiBpbiBhP2EudmFsdWU6bnVsbH0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZih2JiZmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiB2LnNldChhLGIsYyk7YS52YWx1ZT1ifX19LHByb3BGaXg6e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5ub2RlVHlwZTtpZighYXx8ZT09PTN8fGU9PT04fHxlPT09MilyZXR1cm4gYjt2YXIgZyxoLGk9ZSE9PTF8fCFmLmlzWE1MRG9jKGEpO2kmJihjPWYucHJvcEZpeFtjXXx8YyxoPWYucHJvcEhvb2tzW2NdKTtyZXR1cm4gZCE9PWI/aCYmInNldCJpbiBoJiYoZz1oLnNldChhLGQsYykpIT09Yj9nOmFbY109ZDpoJiYiZ2V0ImluIGgmJihnPWguZ2V0KGEsYykpIT09Yj9nOmFbY119LHByb3BIb29rczp7fX0pLHc9e2dldDpmdW5jdGlvbihhLGMpe3JldHVybiBmLnByb3AoYSxjKT9jLnRvTG93ZXJDYXNlKCk6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtiPT09ITE/Zi5yZW1vdmVBdHRyKGEsYyk6KGQ9Zi5wcm9wRml4W2NdfHxjLGQgaW4gYSYmKGFbZF09ITApLGEuc2V0QXR0cmlidXRlKGMsYy50b0xvd2VyQ2FzZSgpKSk7cmV0dXJuIGN9fSxmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlfHwoZi5hdHRyRml4PWYucHJvcEZpeCx2PWYuYXR0ckhvb2tzLm5hbWU9Zi5hdHRySG9va3MudGl0bGU9Zi52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihhLGMpe3ZhciBkO2Q9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkJiZkLm5vZGVWYWx1ZSE9PSIiP2Qubm9kZVZhbHVlOmJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO2lmKGQpe2Qubm9kZVZhbHVlPWI7cmV0dXJuIGJ9fX0sZi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe2YuYXR0ckhvb2tzW2JdPWYuZXh0ZW5kKGYuYXR0ckhvb2tzW2JdLHtzZXQ6ZnVuY3Rpb24oYSxjKXtpZihjPT09IiIpe2Euc2V0QXR0cmlidXRlKGIsImF1dG8iKTtyZXR1cm4gY319fSl9KSksZi5zdXBwb3J0LmhyZWZOb3JtYWxpemVkfHxmLmVhY2goWyJocmVmIiwic3JjIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGMpe2YuYXR0ckhvb2tzW2NdPWYuZXh0ZW5kKGYuYXR0ckhvb2tzW2NdLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYywyKTtyZXR1cm4gZD09PW51bGw/YjpkfX0pfSksZi5zdXBwb3J0LnN0eWxlfHwoZi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0LnRvTG93ZXJDYXNlKCl8fGJ9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9IiIrYn19KSxmLnN1cHBvcnQub3B0U2VsZWN0ZWR8fChmLnByb3BIb29rcy5zZWxlY3RlZD1mLmV4dGVuZChmLnByb3BIb29rcy5zZWxlY3RlZCx7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pKSxmLnN1cHBvcnQuY2hlY2tPbnx8Zi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7Zi52YWxIb29rc1t0aGlzXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjphLnZhbHVlfX19KSxmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPWYuZXh0ZW5kKGYudmFsSG9va3NbdGhpc10se3NldDpmdW5jdGlvbihhLGIpe2lmKGYuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPWYuaW5BcnJheShmKGEpLnZhbCgpLGIpPj0wfX0pfSk7dmFyIHg9L1wuKC4qKSQvLHk9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLHo9L1wuL2csQT0vIC9nLEI9L1teXHdccy58YF0vZyxDPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoQiwiXFwkJiIpfTtmLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtpZihkPT09ITEpZD1EO2Vsc2UgaWYoIWQpcmV0dXJuO3ZhciBnLGg7ZC5oYW5kbGVyJiYoZz1kLGQ9Zy5oYW5kbGVyKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspO3ZhciBpPWYuX2RhdGEoYSk7aWYoIWkpcmV0dXJuO3ZhciBqPWkuZXZlbnRzLGs9aS5oYW5kbGU7anx8KGkuZXZlbnRzPWo9e30pLGt8fChpLmhhbmRsZT1rPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgZiE9InVuZGVmaW5lZCImJighYXx8Zi5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGUpP2YuZXZlbnQuaGFuZGxlLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpOmJ9KSxrLmVsZW09YSxjPWMuc3BsaXQoIiAiKTt2YXIgbCxtPTAsbjt3aGlsZShsPWNbbSsrXSl7aD1nP2YuZXh0ZW5kKHt9LGcpOntoYW5kbGVyOmQsZGF0YTplfSxsLmluZGV4T2YoIi4iKT4tMT8obj1sLnNwbGl0KCIuIiksbD1uLnNoaWZ0KCksaC5uYW1lc3BhY2U9bi5zbGljZSgwKS5zb3J0KCkuam9pbigiLiIpKToobj1bXSxoLm5hbWVzcGFjZT0iIiksaC50eXBlPWwsaC5ndWlkfHwoaC5ndWlkPWQuZ3VpZCk7dmFyIG89altsXSxwPWYuZXZlbnQuc3BlY2lhbFtsXXx8e307aWYoIW8pe289altsXT1bXTtpZighcC5zZXR1cHx8cC5zZXR1cC5jYWxsKGEsZSxuLGspPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihsLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitsLGspfXAuYWRkJiYocC5hZGQuY2FsbChhLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksby5wdXNoKGgpLGYuZXZlbnQuZ2xvYmFsW2xdPSEwfWE9bnVsbH19LGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtkPT09ITEmJihkPUQpO3ZhciBnLGgsaSxqLGs9MCxsLG0sbixvLHAscSxyLHM9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLHQ9cyYmcy5ldmVudHM7aWYoIXN8fCF0KXJldHVybjtjJiZjLnR5cGUmJihkPWMuaGFuZGxlcixjPWMudHlwZSk7aWYoIWN8fHR5cGVvZiBjPT0ic3RyaW5nIiYmYy5jaGFyQXQoMCk9PT0iLiIpe2M9Y3x8IiI7Zm9yKGggaW4gdClmLmV2ZW50LnJlbW92ZShhLGgrYyk7cmV0dXJufWM9Yy5zcGxpdCgiICIpO3doaWxlKGg9Y1trKytdKXtyPWgscT1udWxsLGw9aC5pbmRleE9mKCIuIik8MCxtPVtdLGx8fChtPWguc3BsaXQoIi4iKSxoPW0uc2hpZnQoKSxuPW5ldyBSZWdFeHAoIihefFxcLikiK2YubWFwKG0uc2xpY2UoMCkuc29ydCgpLEMpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxwPXRbaF07aWYoIXApY29udGludWU7aWYoIWQpe2ZvcihqPTA7ajxwLmxlbmd0aDtqKyspe3E9cFtqXTtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWYuZXZlbnQucmVtb3ZlKGEscixxLmhhbmRsZXIsaikscC5zcGxpY2Uoai0tLDEpfWNvbnRpbnVlfW89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtmb3Ioaj1lfHwwO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYoZC5ndWlkPT09cS5ndWlkKXtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWU9PW51bGwmJnAuc3BsaWNlKGotLSwxKSxvLnJlbW92ZSYmby5yZW1vdmUuY2FsbChhLHEpO2lmKGUhPW51bGwpYnJlYWt9fWlmKHAubGVuZ3RoPT09MHx8ZSE9bnVsbCYmcC5sZW5ndGg9PT0xKSghby50ZWFyZG93bnx8by50ZWFyZG93bi5jYWxsKGEsbSk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxoLHMuaGFuZGxlKSxnPW51bGwsZGVsZXRlIHRbaF19aWYoZi5pc0VtcHR5T2JqZWN0KHQpKXt2YXIgdT1zLmhhbmRsZTt1JiYodS5lbGVtPW51bGwpLGRlbGV0ZSBzLmV2ZW50cyxkZWxldGUgcy5oYW5kbGUsZi5pc0VtcHR5T2JqZWN0KHMpJiZmLnJlbW92ZURhdGEoYSxiLCEwKX19fSxjdXN0b21FdmVudDp7Z2V0RGF0YTohMCxzZXREYXRhOiEwLGNoYW5nZURhdGE6ITB9LHRyaWdnZXI6ZnVuY3Rpb24oYyxkLGUsZyl7dmFyIGg9Yy50eXBlfHxjLGk9W10sajtoLmluZGV4T2YoIiEiKT49MCYmKGg9aC5zbGljZSgwLC0xKSxqPSEwKSxoLmluZGV4T2YoIi4iKT49MCYmKGk9aC5zcGxpdCgiLiIpLGg9aS4Kc2hpZnQoKSxpLnNvcnQoKSk7aWYoISFlJiYhZi5ldmVudC5jdXN0b21FdmVudFtoXXx8ISFmLmV2ZW50Lmdsb2JhbFtoXSl7Yz10eXBlb2YgYz09Im9iamVjdCI/Y1tmLmV4cGFuZG9dP2M6bmV3IGYuRXZlbnQoaCxjKTpuZXcgZi5FdmVudChoKSxjLnR5cGU9aCxjLmV4Y2x1c2l2ZT1qLGMubmFtZXNwYWNlPWkuam9pbigiLiIpLGMubmFtZXNwYWNlX3JlPW5ldyBSZWdFeHAoIihefFxcLikiK2kuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIik7aWYoZ3x8IWUpYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCk7aWYoIWUpe2YuZWFjaChmLmNhY2hlLGZ1bmN0aW9uKCl7dmFyIGE9Zi5leHBhbmRvLGI9dGhpc1thXTtiJiZiLmV2ZW50cyYmYi5ldmVudHNbaF0mJmYuZXZlbnQudHJpZ2dlcihjLGQsYi5oYW5kbGUuZWxlbSl9KTtyZXR1cm59aWYoZS5ub2RlVHlwZT09PTN8fGUubm9kZVR5cGU9PT04KXJldHVybjtjLnJlc3VsdD1iLGMudGFyZ2V0PWUsZD1kIT1udWxsP2YubWFrZUFycmF5KGQpOltdLGQudW5zaGlmdChjKTt2YXIgaz1lLGw9aC5pbmRleE9mKCI6Iik8MD8ib24iK2g6IiI7ZG97dmFyIG09Zi5fZGF0YShrLCJoYW5kbGUiKTtjLmN1cnJlbnRUYXJnZXQ9ayxtJiZtLmFwcGx5KGssZCksbCYmZi5hY2NlcHREYXRhKGspJiZrW2xdJiZrW2xdLmFwcGx5KGssZCk9PT0hMSYmKGMucmVzdWx0PSExLGMucHJldmVudERlZmF1bHQoKSksaz1rLnBhcmVudE5vZGV8fGsub3duZXJEb2N1bWVudHx8az09PWMudGFyZ2V0Lm93bmVyRG9jdW1lbnQmJmF9d2hpbGUoayYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSk7aWYoIWMuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBuLG89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtpZigoIW8uX2RlZmF1bHR8fG8uX2RlZmF1bHQuY2FsbChlLm93bmVyRG9jdW1lbnQsYyk9PT0hMSkmJihoIT09ImNsaWNrInx8IWYubm9kZU5hbWUoZSwiYSIpKSYmZi5hY2NlcHREYXRhKGUpKXt0cnl7bCYmZVtoXSYmKG49ZVtsXSxuJiYoZVtsXT1udWxsKSxmLmV2ZW50LnRyaWdnZXJlZD1oLGVbaF0oKSl9Y2F0Y2gocCl7fW4mJihlW2xdPW4pLGYuZXZlbnQudHJpZ2dlcmVkPWJ9fXJldHVybiBjLnJlc3VsdH19LGhhbmRsZTpmdW5jdGlvbihjKXtjPWYuZXZlbnQuZml4KGN8fGEuZXZlbnQpO3ZhciBkPSgoZi5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2MudHlwZV18fFtdKS5zbGljZSgwKSxlPSFjLmV4Y2x1c2l2ZSYmIWMubmFtZXNwYWNlLGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2dbMF09YyxjLmN1cnJlbnRUYXJnZXQ9dGhpcztmb3IodmFyIGg9MCxpPWQubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWRbaF07aWYoZXx8Yy5uYW1lc3BhY2VfcmUudGVzdChqLm5hbWVzcGFjZSkpe2MuaGFuZGxlcj1qLmhhbmRsZXIsYy5kYXRhPWouZGF0YSxjLmhhbmRsZU9iaj1qO3ZhciBrPWouaGFuZGxlci5hcHBseSh0aGlzLGcpO2shPT1iJiYoYy5yZXN1bHQ9ayxrPT09ITEmJihjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSkpO2lmKGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319cmV0dXJuIGMucmVzdWx0fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIGxheWVyWCBsYXllclkgbWV0YUtleSBuZXdWYWx1ZSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksZml4OmZ1bmN0aW9uKGEpe2lmKGFbZi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgZD1hO2E9Zi5FdmVudChkKTtmb3IodmFyIGU9dGhpcy5wcm9wcy5sZW5ndGgsZztlOylnPXRoaXMucHJvcHNbLS1lXSxhW2ddPWRbZ107YS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGMpLGEudGFyZ2V0Lm5vZGVUeXBlPT09MyYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLCFhLnJlbGF0ZWRUYXJnZXQmJmEuZnJvbUVsZW1lbnQmJihhLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQpO2lmKGEucGFnZVg9PW51bGwmJmEuY2xpZW50WCE9bnVsbCl7dmFyIGg9YS50YXJnZXQub3duZXJEb2N1bWVudHx8YyxpPWguZG9jdW1lbnRFbGVtZW50LGo9aC5ib2R5O2EucGFnZVg9YS5jbGllbnRYKyhpJiZpLnNjcm9sbExlZnR8fGomJmouc2Nyb2xsTGVmdHx8MCktKGkmJmkuY2xpZW50TGVmdHx8aiYmai5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWEuY2xpZW50WSsoaSYmaS5zY3JvbGxUb3B8fGomJmouc2Nyb2xsVG9wfHwwKS0oaSYmaS5jbGllbnRUb3B8fGomJmouY2xpZW50VG9wfHwwKX1hLndoaWNoPT1udWxsJiYoYS5jaGFyQ29kZSE9bnVsbHx8YS5rZXlDb2RlIT1udWxsKSYmKGEud2hpY2g9YS5jaGFyQ29kZSE9bnVsbD9hLmNoYXJDb2RlOmEua2V5Q29kZSksIWEubWV0YUtleSYmYS5jdHJsS2V5JiYoYS5tZXRhS2V5PWEuY3RybEtleSksIWEud2hpY2gmJmEuYnV0dG9uIT09YiYmKGEud2hpY2g9YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MCk7cmV0dXJuIGF9LGd1aWQ6MWU4LHByb3h5OmYucHJveHksc3BlY2lhbDp7cmVhZHk6e3NldHVwOmYuYmluZFJlYWR5LHRlYXJkb3duOmYubm9vcH0sbGl2ZTp7YWRkOmZ1bmN0aW9uKGEpe2YuZXZlbnQuYWRkKHRoaXMsTihhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGYuZXh0ZW5kKHt9LGEse2hhbmRsZXI6TSxndWlkOmEuaGFuZGxlci5ndWlkfSkpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxOKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksYSl9fSxiZWZvcmV1bmxvYWQ6e3NldHVwOmZ1bmN0aW9uKGEsYixjKXtmLmlzV2luZG93KHRoaXMpJiYodGhpcy5vbmJlZm9yZXVubG9hZD1jKX0sdGVhcmRvd246ZnVuY3Rpb24oYSxiKXt0aGlzLm9uYmVmb3JldW5sb2FkPT09YiYmKHRoaXMub25iZWZvcmV1bmxvYWQ9bnVsbCl9fX19LGYucmVtb3ZlRXZlbnQ9Yy5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfTpmdW5jdGlvbihhLGIsYyl7YS5kZXRhY2hFdmVudCYmYS5kZXRhY2hFdmVudCgib24iK2IsYyl9LGYuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5wcmV2ZW50RGVmYXVsdClyZXR1cm4gbmV3IGYuRXZlbnQoYSxiKTthJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHxhLnJldHVyblZhbHVlPT09ITF8fGEuZ2V0UHJldmVudERlZmF1bHQmJmEuZ2V0UHJldmVudERlZmF1bHQoKT9FOkQpOnRoaXMudHlwZT1hLGImJmYuZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9Zi5ub3coKSx0aGlzW2YuZXhwYW5kb109ITB9LGYuRXZlbnQucHJvdG90eXBlPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUU7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50OyFhfHwoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9RTt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9RSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6RCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpELGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOkR9O3ZhciBGPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVsYXRlZFRhcmdldCxjPSExLGQ9YS50eXBlO2EudHlwZT1hLmRhdGEsYiE9PXRoaXMmJihiJiYoYz1mLmNvbnRhaW5zKHRoaXMsYikpLGN8fChmLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWQpKX0sRz1mdW5jdGlvbihhKXthLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtmLmV2ZW50LnNwZWNpYWxbYV09e3NldHVwOmZ1bmN0aW9uKGMpe2YuZXZlbnQuYWRkKHRoaXMsYixjJiZjLnNlbGVjdG9yP0c6RixhKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxiLGEmJmEuc2VsZWN0b3I/RzpGKX19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbihhLGIpe2lmKCFmLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlmLmV2ZW50LmFkZCh0aGlzLCJjbGljay5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJzdWJtaXQifHxjPT09ImltYWdlIikmJmYoYikuY2xvc2VzdCgiZm9ybSIpLmxlbmd0aCYmSygic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9KSxmLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJ0ZXh0Inx8Yz09PSJwYXNzd29yZCIpJiZmKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzJiZLKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pO2Vsc2UgcmV0dXJuITF9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsU3VibWl0Iil9fSk7aWYoIWYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzKXt2YXIgSCxJPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxjPWEudmFsdWU7Yj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giP2M9YS5jaGVja2VkOmI9PT0ic2VsZWN0LW11bHRpcGxlIj9jPWEuc2VsZWN0ZWRJbmRleD4tMT9mLm1hcChhLm9wdGlvbnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KS5qb2luKCItIik6IiI6Zi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGM9YS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gY30sSj1mdW5jdGlvbihjKXt2YXIgZD1jLnRhcmdldCxlLGc7aWYoISF5LnRlc3QoZC5ub2RlTmFtZSkmJiFkLnJlYWRPbmx5KXtlPWYuX2RhdGEoZCwiX2NoYW5nZV9kYXRhIiksZz1JKGQpLChjLnR5cGUhPT0iZm9jdXNvdXQifHxkLnR5cGUhPT0icmFkaW8iKSYmZi5fZGF0YShkLCJfY2hhbmdlX2RhdGEiLGcpO2lmKGU9PT1ifHxnPT09ZSlyZXR1cm47aWYoZSE9bnVsbHx8ZyljLnR5cGU9ImNoYW5nZSIsYy5saXZlRmlyZWQ9YixmLmV2ZW50LnRyaWdnZXIoYyxhcmd1bWVudHNbMV0sZCl9fTtmLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtmaWx0ZXJzOntmb2N1c291dDpKLGJlZm9yZWRlYWN0aXZhdGU6SixjbGljazpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWYubm9kZU5hbWUoYiwiaW5wdXQiKT9iLnR5cGU6IiI7KGM9PT0icmFkaW8ifHxjPT09ImNoZWNrYm94Inx8Zi5ub2RlTmFtZShiLCJzZWxlY3QiKSkmJkouY2FsbCh0aGlzLGEpfSxrZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Zi5ub2RlTmFtZShiLCJpbnB1dCIpP2IudHlwZToiIjsoYS5rZXlDb2RlPT09MTMmJiFmLm5vZGVOYW1lKGIsInRleHRhcmVhIil8fGEua2V5Q29kZT09PTMyJiYoYz09PSJjaGVja2JveCJ8fGM9PT0icmFkaW8iKXx8Yz09PSJzZWxlY3QtbXVsdGlwbGUiKSYmSi5jYWxsKHRoaXMsYSl9LGJlZm9yZWFjdGl2YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O2YuX2RhdGEoYiwiX2NoYW5nZV9kYXRhIixJKGIpKX19LHNldHVwOmZ1bmN0aW9uKGEsYil7aWYodGhpcy50eXBlPT09ImZpbGUiKXJldHVybiExO2Zvcih2YXIgYyBpbiBIKWYuZXZlbnQuYWRkKHRoaXMsYysiLnNwZWNpYWxDaGFuZ2UiLEhbY10pO3JldHVybiB5LnRlc3QodGhpcy5ub2RlTmFtZSl9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsQ2hhbmdlIik7cmV0dXJuIHkudGVzdCh0aGlzLm5vZGVOYW1lKX19LEg9Zi5ldmVudC5zcGVjaWFsLmNoYW5nZS5maWx0ZXJzLEguZm9jdXM9SC5iZWZvcmVhY3RpdmF0ZX1mLnN1cHBvcnQuZm9jdXNpbkJ1YmJsZXN8fGYuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBlKGEpe3ZhciBjPWYuZXZlbnQuZml4KGEpO2MudHlwZT1iLGMub3JpZ2luYWxFdmVudD17fSxmLmV2ZW50LnRyaWdnZXIoYyxudWxsLGMudGFyZ2V0KSxjLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZhLnByZXZlbnREZWZhdWx0KCl9dmFyIGQ9MDtmLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7ZCsrPT09MCYmYy5hZGRFdmVudExpc3RlbmVyKGEsZSwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1kPT09MCYmYy5yZW1vdmVFdmVudExpc3RlbmVyKGEsZSwhMCl9fX0pLGYuZWFjaChbImJpbmQiLCJvbmUiXSxmdW5jdGlvbihhLGMpe2YuZm5bY109ZnVuY3Rpb24oYSxkLGUpe3ZhciBnO2lmKHR5cGVvZiBhPT0ib2JqZWN0Iil7Zm9yKHZhciBoIGluIGEpdGhpc1tjXShoLGQsYVtoXSxlKTtyZXR1cm4gdGhpc31pZihhcmd1bWVudHMubGVuZ3RoPT09Mnx8ZD09PSExKWU9ZCxkPWI7Yz09PSJvbmUiPyhnPWZ1bmN0aW9uKGEpe2YodGhpcykudW5iaW5kKGEsZyk7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnLmd1aWQ9ZS5ndWlkfHxmLmd1aWQrKyk6Zz1lO2lmKGE9PT0idW5sb2FkIiYmYyE9PSJvbmUiKXRoaXMub25lKGEsZCxlKTtlbHNlIGZvcih2YXIgaT0wLGo9dGhpcy5sZW5ndGg7aTxqO2krKylmLmV2ZW50LmFkZCh0aGlzW2ldLGEsZyxkKTtyZXR1cm4gdGhpc319KSxmLmZuLmV4dGVuZCh7dW5iaW5kOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGE9PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdClmb3IodmFyIGMgaW4gYSl0aGlzLnVuYmluZChjLGFbY10pO2Vsc2UgZm9yKHZhciBkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKWYuZXZlbnQucmVtb3ZlKHRoaXNbZF0sYSxiKTtyZXR1cm4gdGhpc30sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMubGl2ZShiLGMsZCxhKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wP3RoaXMudW5iaW5kKCJsaXZlIik6dGhpcy5kaWUoYixudWxsLGMsYSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXNbMF0pcmV0dXJuIGYuZXZlbnQudHJpZ2dlcihhLGIsdGhpc1swXSwhMCl9LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMsYz1hLmd1aWR8fGYuZ3VpZCsrLGQ9MCxlPWZ1bmN0aW9uKGMpe3ZhciBlPShmLmRhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkKXx8MCklZDtmLmRhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkLGUrMSksYy5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBiW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ITF9O2UuZ3VpZD1jO3doaWxlKGQ8Yi5sZW5ndGgpYltkKytdLmd1aWQ9YztyZXR1cm4gdGhpcy5jbGljayhlKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIEw9e2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9O2YuZWFjaChbImxpdmUiLCJkaWUiXSxmdW5jdGlvbihhLGMpe2YuZm5bY109ZnVuY3Rpb24oYSxkLGUsZyl7dmFyIGgsaT0wLGosayxsLG09Z3x8dGhpcy5zZWxlY3RvcixuPWc/dGhpczpmKHRoaXMuY29udGV4dCk7aWYodHlwZW9mIGE9PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdCl7Zm9yKHZhciBvIGluIGEpbltjXShvLGQsYVtvXSxtKTtyZXR1cm4gdGhpc31pZihjPT09ImRpZSImJiFhJiZnJiZnLmNoYXJBdCgwKT09PSIuIil7bi51bmJpbmQoZyk7cmV0dXJuIHRoaXN9aWYoZD09PSExfHxmLmlzRnVuY3Rpb24oZCkpZT1kfHxELGQ9YjthPShhfHwiIikuc3BsaXQoIiAiKTt3aGlsZSgoaD1hW2krK10pIT1udWxsKXtqPXguZXhlYyhoKSxrPSIiLGomJihrPWpbMF0saD1oLnJlcGxhY2UoeCwiIikpO2lmKGg9PT0iaG92ZXIiKXthLnB1c2goIm1vdXNlZW50ZXIiK2ssIm1vdXNlbGVhdmUiK2spO2NvbnRpbnVlfWw9aCxMW2hdPyhhLnB1c2goTFtoXStrKSxoPWgrayk6aD0oTFtoXXx8aCkraztpZihjPT09ImxpdmUiKWZvcih2YXIgcD0wLHE9bi5sZW5ndGg7cDxxO3ArKylmLmV2ZW50LmFkZChuW3BdLCJsaXZlLiIrTihoLG0pLHtkYXRhOmQsc2VsZWN0b3I6bSxoYW5kbGVyOmUsb3JpZ1R5cGU6aCxvcmlnSGFuZGxlcjplLHByZVR5cGU6bH0pO2Vsc2Ugbi51bmJpbmQoImxpdmUuIitOKGgsbSksZSl9cmV0dXJuIHRoaXN9fSksZi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Zi5mbltiXT1mdW5jdGlvbihhLGMpe2M9PW51bGwmJihjPWEsYT1udWxsKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMuYmluZChiLGEsYyk6dGhpcy50cmlnZ2VyKGIpfSxmLmF0dHJGbiYmKGYuYXR0ckZuW2JdPSEwKX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdShhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pZihpLm5vZGVUeXBlPT09MSl7Znx8KGkuc2l6Y2FjaGU9YyxpLnNpenNldD1nKTtpZih0eXBlb2YgYiE9InN0cmluZyIpe2lmKGk9PT1iKXtqPSEwO2JyZWFrfX1lbHNlIGlmKGsuZmlsdGVyKGIsW2ldKS5sZW5ndGg+MCl7aj1pO2JyZWFrfX1pPWlbYV19ZFtnXT1qfX19ZnVuY3Rpb24gdChhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pLm5vZGVUeXBlPT09MSYmIWYmJihpLnNpemNhY2hlPWMsaS5zaXpzZXQ9Zyk7aWYoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yil7aj1pO2JyZWFrfWk9aVthXX1kW2ddPWp9fX12YXIgYT0vKCg/OlwoKD86XChbXigpXStcKXxbXigpXSspK1wpfFxbKD86XFtbXlxbXF1dKlxdfFsnIl1bXiciXSpbJyJdfFteXFtcXSciXSspK1xdfFxcLnxbXiA+K34sKFxbXFxdKykrfFs+K35dKShccyosXHMqKT8oKD86LnxccnxcbikqKS9nLGQ9MCxlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsZz0hMSxoPSEwLGk9L1xcL2csaj0vXFcvO1swLDBdLnNvcnQoZnVuY3Rpb24oKXtoPSExO3JldHVybiAwfSk7dmFyIGs9ZnVuY3Rpb24oYixkLGYsZyl7Zj1mfHxbXSxkPWR8fGM7dmFyIGg9ZDtpZihkLm5vZGVUeXBlIT09MSYmZC5ub2RlVHlwZSE9PTkpcmV0dXJuW107aWYoIWJ8fHR5cGVvZiBiIT0ic3RyaW5nIilyZXR1cm4gZjt2YXIgaSxqLG4sbyxxLHIscyx0LHU9ITAsdz1rLmlzWE1MKGQpLHg9W10seT1iO2Rve2EuZXhlYygiIiksaT1hLmV4ZWMoeSk7aWYoaSl7eT1pWzNdLHgucHVzaChpWzFdKTtpZihpWzJdKXtvPWlbM107YnJlYWt9fX13aGlsZShpKTtpZih4Lmxlbmd0aD4xJiZtLmV4ZWMoYikpaWYoeC5sZW5ndGg9PT0yJiZsLnJlbGF0aXZlW3hbMF1dKWo9dih4WzBdK3hbMV0sZCk7ZWxzZXtqPWwucmVsYXRpdmVbeFswXV0/W2RdOmsoeC5zaGlmdCgpLGQpO3doaWxlKHgubGVuZ3RoKWI9eC5zaGlmdCgpLGwucmVsYXRpdmVbYl0mJihiKz14LnNoaWZ0KCkpLGo9dihiLGopfWVsc2V7IWcmJngubGVuZ3RoPjEmJmQubm9kZVR5cGU9PT05JiYhdyYmbC5tYXRjaC5JRC50ZXN0KHhbMF0pJiYhbC5tYXRjaC5JRC50ZXN0KHhbeC5sZW5ndGgtMV0pJiYocT1rLmZpbmQoeC5zaGlmdCgpLGQsdyksZD1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KVswXTpxLnNldFswXSk7aWYoZCl7cT1nP3tleHByOngucG9wKCksc2V0OnAoZyl9OmsuZmluZCh4LnBvcCgpLHgubGVuZ3RoPT09MSYmKHhbMF09PT0ifiJ8fHhbMF09PT0iKyIpJiZkLnBhcmVudE5vZGU/ZC5wYXJlbnROb2RlOmQsdyksaj1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KTpxLnNldCx4Lmxlbmd0aD4wP249cChqKTp1PSExO3doaWxlKHgubGVuZ3RoKXI9eC5wb3AoKSxzPXIsbC5yZWxhdGl2ZVtyXT9zPXgucG9wKCk6cj0iIixzPT1udWxsJiYocz1kKSxsLnJlbGF0aXZlW3JdKG4scyx3KX1lbHNlIG49eD1bXX1ufHwobj1qKSxufHxrLmVycm9yKHJ8fGIpO2lmKGUuY2FsbChuKT09PSJbb2JqZWN0IEFycmF5XSIpaWYoIXUpZi5wdXNoLmFwcGx5KGYsbik7ZWxzZSBpZihkJiZkLm5vZGVUeXBlPT09MSlmb3IodD0wO25bdF0hPW51bGw7dCsrKW5bdF0mJihuW3RdPT09ITB8fG5bdF0ubm9kZVR5cGU9PT0xJiZrLmNvbnRhaW5zKGQsblt0XSkpJiZmLnB1c2goalt0XSk7ZWxzZSBmb3IodD0wO25bdF0hPW51bGw7dCsrKW5bdF0mJm5bdF0ubm9kZVR5cGU9PT0xJiZmLnB1c2goalt0XSk7ZWxzZSBwKG4sZik7byYmKGsobyxoLGYsZyksay51bmlxdWVTb3J0KGYpKTtyZXR1cm4gZn07ay51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe2lmKHIpe2c9aCxhLnNvcnQocik7aWYoZylmb3IodmFyIGI9MTtiPGEubGVuZ3RoO2IrKylhW2JdPT09YVtiLTFdJiZhLnNwbGljZShiLS0sMSl9cmV0dXJuIGF9LGsubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGEsbnVsbCxudWxsLGIpfSxrLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9LGsuZmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoIWEpcmV0dXJuW107Zm9yKHZhciBlPTAsZj1sLm9yZGVyLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZyxoPWwub3JkZXJbZV07aWYoZz1sLmxlZnRNYXRjaFtoXS5leGVjKGEpKXt2YXIgaj1nWzFdO2cuc3BsaWNlKDEsMSk7aWYoai5zdWJzdHIoai5sZW5ndGgtMSkhPT0iXFwiKXtnWzFdPShnWzFdfHwiIikucmVwbGFjZShpLCIiKSxkPWwuZmluZFtoXShnLGIsYyk7aWYoZCE9bnVsbCl7YT1hLnJlcGxhY2UobC5tYXRjaFtoXSwiIik7YnJlYWt9fX19ZHx8KGQ9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTpbXSk7cmV0dXJue3NldDpkLGV4cHI6YX19LGsuZmlsdGVyPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaD1hLGk9W10saj1jLG09YyYmY1swXSYmay5pc1hNTChjWzBdKTt3aGlsZShhJiZjLmxlbmd0aCl7Zm9yKHZhciBuIGluIGwuZmlsdGVyKWlmKChmPWwubGVmdE1hdGNoW25dLmV4ZWMoYSkpIT1udWxsJiZmWzJdKXt2YXIgbyxwLHE9bC5maWx0ZXJbbl0scj1mWzFdO2c9ITEsZi5zcGxpY2UoMSwxKTtpZihyLnN1YnN0cihyLmxlbmd0aC0xKT09PSJcXCIpY29udGludWU7aj09PWkmJihpPVtdKTtpZihsLnByZUZpbHRlcltuXSl7Zj1sLnByZUZpbHRlcltuXShmLGosZCxpLGUsbSk7aWYoIWYpZz1vPSEwO2Vsc2UgaWYoZj09PSEwKWNvbnRpbnVlfWlmKGYpZm9yKHZhciBzPTA7KHA9altzXSkhPW51bGw7cysrKWlmKHApe289cShwLGYscyxqKTt2YXIgdD1lXiEhbztkJiZvIT1udWxsP3Q/Zz0hMDpqW3NdPSExOnQmJihpLnB1c2gocCksZz0hMCl9aWYobyE9PWIpe2R8fChqPWkpLGE9YS5yZXBsYWNlKGwubWF0Y2hbbl0sIiIpO2lmKCFnKXJldHVybltdO2JyZWFrfX1pZihhPT09aClpZihnPT1udWxsKWsuZXJyb3IoYSk7ZWxzZSBicmVhaztoPWF9cmV0dXJuIGp9LGsuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3ciU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithfTt2YXIgbD1rLnNlbGVjdG9ycz17b3JkZXI6WyJJRCIsIk5BTUUiLCJUQUciXSxtYXRjaDp7SUQ6LyMoKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLENMQVNTOi9cLigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sTkFNRTovXFtuYW1lPVsnIl0qKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspWyciXSpcXS8sQVRUUjovXFtccyooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylccyooPzooXFM/PSlccyooPzooWyciXSkoLio/KVwzfCgjPyg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSopfCl8KVxzKlxdLyxUQUc6L14oKD86W1x3XHUwMGMwLVx1RkZGRlwqXC1dfFxcLikrKS8sQ0hJTEQ6Lzoob25seXxudGh8bGFzdHxmaXJzdCktY2hpbGQoPzpcKFxzKihldmVufG9kZHwoPzpbK1wtXT9cZCt8KD86WytcLV0/XGQqKT9uXHMqKD86WytcLV1ccypcZCspPykpXHMqXCkpPy8sUE9TOi86KG50aHxlcXxndHxsdHxmaXJzdHxsYXN0fGV2ZW58b2RkKSg/OlwoKFxkKilcKSk/KD89W15cLV18JCkvLFBTRVVETzovOigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKSg/OlwoKFsnIl0/KSgoPzpcKFteXCldK1wpfFteXChcKV0qKSspXDJcKSk/L30sbGVmdE1hdGNoOnt9LGF0dHJNYXA6eyJjbGFzcyI6ImNsYXNzTmFtZSIsImZvciI6Imh0bWxGb3IifSxhdHRySGFuZGxlOntocmVmOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidHlwZSIpfX0scmVsYXRpdmU6eyIrIjpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBiPT0ic3RyaW5nIixkPWMmJiFqLnRlc3QoYiksZT1jJiYhZDtkJiYoYj1iLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGgsaDtmPGc7ZisrKWlmKGg9YVtmXSl7d2hpbGUoKGg9aC5wcmV2aW91c1NpYmxpbmcpJiZoLm5vZGVUeXBlIT09MSk7YVtmXT1lfHxoJiZoLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2h8fCExOmg9PT1ifWUmJmsuZmlsdGVyKGIsYSwhMCl9LCI+IjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9dHlwZW9mIGI9PSJzdHJpbmciLGU9MCxmPWEubGVuZ3RoO2lmKGQmJiFqLnRlc3QoYikpe2I9Yi50b0xvd2VyQ2FzZSgpO2Zvcig7ZTxmO2UrKyl7Yz1hW2VdO2lmKGMpe3ZhciBnPWMucGFyZW50Tm9kZTthW2VdPWcubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWI/ZzohMX19fWVsc2V7Zm9yKDtlPGY7ZSsrKWM9YVtlXSxjJiYoYVtlXT1kP2MucGFyZW50Tm9kZTpjLnBhcmVudE5vZGU9PT1iKTtkJiZrLmZpbHRlcihiLGEsITApfX0sIiI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY9ZCsrLGc9dTt0eXBlb2YgYj09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxlPWIsZz10KSxnKCJwYXJlbnROb2RlIixiLGYsYSxlLGMpfSwifiI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY9ZCsrLGc9dTt0eXBlb2YgYj09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxlPWIsZz10KSxnKCJwcmV2aW91c1NpYmxpbmciLGIsZixhLGUsYyl9fSxmaW5kOntJRDpmdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPSJ1bmRlZmluZWQiJiYhYyl7dmFyIGQ9Yi5nZXRFbGVtZW50QnlJZChhWzFdKTtyZXR1cm4gZCYmZC5wYXJlbnROb2RlP1tkXTpbXX19LE5BTUU6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5TmFtZSE9InVuZGVmaW5lZCIpe3ZhciBjPVtdLGQ9Yi5nZXRFbGVtZW50c0J5TmFtZShhWzFdKTtmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2U8ZjtlKyspZFtlXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKT09PWFbMV0mJmMucHVzaChkW2VdKTtyZXR1cm4gYy5sZW5ndGg9PT0wP251bGw6Y319LFRBRzpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT0idW5kZWZpbmVkIilyZXR1cm4gYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhWzFdKX19LHByZUZpbHRlcjp7Q0xBU1M6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9IiAiK2FbMV0ucmVwbGFjZShpLCIiKSsiICI7aWYoZilyZXR1cm4gYTtmb3IodmFyIGc9MCxoOyhoPWJbZ10pIT1udWxsO2crKyloJiYoZV4oaC5jbGFzc05hbWUmJigiICIraC5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKC9bXHRcblxyXS9nLCIgIikuaW5kZXhPZihhKT49MCk/Y3x8ZC5wdXNoKGgpOmMmJihiW2ddPSExKSk7cmV0dXJuITF9LElEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIil9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIikudG9Mb3dlckNhc2UoKX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7aWYoYVsxXT09PSJudGgiKXthWzJdfHxrLmVycm9yKGFbMF0pLGFbMl09YVsyXS5yZXBsYWNlKC9eXCt8XHMqL2csIiIpO3ZhciBiPS8oLT8pKFxkKikoPzpuKFsrXC1dP1xkKikpPy8uZXhlYyhhWzJdPT09ImV2ZW4iJiYiMm4ifHxhWzJdPT09Im9kZCImJiIybisxInx8IS9cRC8udGVzdChhWzJdKSYmIjBuKyIrYVsyXXx8YVsyXSk7YVsyXT1iWzFdKyhiWzJdfHwxKS0wLGFbM109YlszXS0wfWVsc2UgYVsyXSYmay5lcnJvcihhWzBdKTthWzBdPWQrKztyZXR1cm4gYX0sQVRUUjpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9YVsxXT1hWzFdLnJlcGxhY2UoaSwiIik7IWYmJmwuYXR0ck1hcFtnXSYmKGFbMV09bC5hdHRyTWFwW2ddKSxhWzRdPShhWzRdfHxhWzVdfHwiIikucmVwbGFjZShpLCIiKSxhWzJdPT09In49IiYmKGFbNF09IiAiK2FbNF0rIiAiKTtyZXR1cm4gYX0sUFNFVURPOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYlsxXT09PSJub3QiKWlmKChhLmV4ZWMoYlszXSl8fCIiKS5sZW5ndGg+MXx8L15cdy8udGVzdChiWzNdKSliWzNdPWsoYlszXSxudWxsLG51bGwsYyk7ZWxzZXt2YXIgZz1rLmZpbHRlcihiWzNdLGMsZCwhMF5mKTtkfHxlLnB1c2guYXBwbHkoZSxnKTtyZXR1cm4hMX1lbHNlIGlmKGwubWF0Y2guUE9TLnRlc3QoYlswXSl8fGwubWF0Y2guQ0hJTEQudGVzdChiWzBdKSlyZXR1cm4hMDtyZXR1cm4gYn0sUE9TOmZ1bmN0aW9uKGEpe2EudW5zaGlmdCghMCk7cmV0dXJuIGF9fSxmaWx0ZXJzOntlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITEmJmEudHlwZSE9PSJoaWRkZW4ifSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNoZWNrZWQ9PT0hMH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4gYS5zZWxlY3RlZD09PSEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISFhLmZpcnN0Q2hpbGR9LGVtcHR5OmZ1bmN0aW9uKGEpe3JldHVybiFhLmZpcnN0Q2hpbGR9LGhhczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuISFrKGNbM10sYSkubGVuZ3RofSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuL2hcZC9pLnRlc3QoYS5ub2RlTmFtZSl9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSxjPWEudHlwZTtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInRleHQiPT09YyYmKGI9PT1jfHxiPT09bnVsbCl9LHJhZGlvOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYicmFkaW8iPT09YS50eXBlfSxjaGVja2JveDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImNoZWNrYm94Ij09PWEudHlwZX0sZmlsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImZpbGUiPT09YS50eXBlfSxwYXNzd29yZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInBhc3N3b3JkIj09PWEudHlwZX0sc3VibWl0OmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYj09PSJpbnB1dCJ8fGI9PT0iYnV0dG9uIikmJiJzdWJtaXQiPT09YS50eXBlfSxpbWFnZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImltYWdlIj09PWEudHlwZX0scmVzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihiPT09ImlucHV0Inx8Yj09PSJidXR0b24iKSYmInJlc2V0Ij09PWEudHlwZX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYj09PSJpbnB1dCImJiJidXR0b24iPT09YS50eXBlfHxiPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChhLm5vZGVOYW1lKX0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0wfSxsYXN0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT09ZC5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MX0sbHQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPGNbM10tMH0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmNbM10tMH0sbnRoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn0sZXE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifX0sZmlsdGVyOntQU0VVRE86ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsxXSxmPWwuZmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpO2lmKGU9PT0iY29udGFpbnMiKXJldHVybihhLnRleHRDb250ZW50fHxhLmlubmVyVGV4dHx8ay5nZXRUZXh0KFthXSl8fCIiKS5pbmRleE9mKGJbM10pPj0wO2lmKGU9PT0ibm90Iil7dmFyIGc9YlszXTtmb3IodmFyIGg9MCxpPWcubGVuZ3RoO2g8aTtoKyspaWYoZ1toXT09PWEpcmV0dXJuITE7cmV0dXJuITB9ay5lcnJvcihlKX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9YTtzd2l0Y2goYyl7Y2FzZSJvbmx5IjpjYXNlImZpcnN0Ijp3aGlsZShkPWQucHJldmlvdXNTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO2lmKGM9PT0iZmlyc3QiKXJldHVybiEwO2Q9YTtjYXNlImxhc3QiOndoaWxlKGQ9ZC5uZXh0U2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIm50aCI6dmFyIGU9YlsyXSxmPWJbM107aWYoZT09PTEmJmY9PT0wKXJldHVybiEwO3ZhciBnPWJbMF0saD1hLnBhcmVudE5vZGU7aWYoaCYmKGguc2l6Y2FjaGUhPT1nfHwhYS5ub2RlSW5kZXgpKXt2YXIgaT0wO2ZvcihkPWguZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkLm5vZGVUeXBlPT09MSYmKGQubm9kZUluZGV4PSsraSk7aC5zaXpjYWNoZT1nfXZhciBqPWEubm9kZUluZGV4LWY7cmV0dXJuIGU9PT0wP2o9PT0wOmolZT09PTAmJmovZT49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn0sQ0xBU1M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIiAiKyhhLmNsYXNzTmFtZXx8YS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpKyIgIikuaW5kZXhPZihiKT4tMX0sQVRUUjpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1sLmF0dHJIYW5kbGVbY10/bC5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjpmPT09Ij0iP2U9PT1nOmY9PT0iKj0iP2UuaW5kZXhPZihnKT49MDpmPT09In49Ij8oIiAiK2UrIiAiKS5pbmRleE9mKGcpPj0wOmc/Zj09PSIhPSI/ZSE9PWc6Zj09PSJePSI/ZS5pbmRleE9mKGcpPT09MDpmPT09IiQ9Ij9lLnN1YnN0cihlLmxlbmd0aC1nLmxlbmd0aCk9PT1nOmY9PT0ifD0iP2U9PT1nfHxlLnN1YnN0cigwLGcubGVuZ3RoKzEpPT09ZysiLSI6ITE6ZSYmZCE9PSExfSxQT1M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsyXSxmPWwuc2V0RmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpfX19LG09bC5tYXRjaC5QT1Msbj1mdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKGItMCsxKX07Zm9yKHZhciBvIGluIGwubWF0Y2gpbC5tYXRjaFtvXT1uZXcgUmVnRXhwKGwubWF0Y2hbb10uc291cmNlKy8oPyFbXlxbXSpcXSkoPyFbXlwoXSpcKSkvLnNvdXJjZSksbC5sZWZ0TWF0Y2hbb109bmV3IFJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK2wubWF0Y2hbb10uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxuKSk7dmFyIHA9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHEpe3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZS5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9YS5sZW5ndGg7YzxmO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHIscztjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9yPWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToocj1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtnPSEwO3JldHVybiAwfWlmKGEuc291cmNlSW5kZXgmJmIuc291cmNlSW5kZXgpcmV0dXJuIGEuc291cmNlSW5kZXgtYi5zb3VyY2VJbmRleDt2YXIgYyxkLGU9W10sZj1bXSxoPWEucGFyZW50Tm9kZSxpPWIucGFyZW50Tm9kZSxqPWg7aWYoaD09PWkpcmV0dXJuIHMoYSxiKTtpZighaClyZXR1cm4tMTtpZighaSlyZXR1cm4gMTt3aGlsZShqKWUudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtqPWk7d2hpbGUoailmLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7Yz1lLmxlbmd0aCxkPWYubGVuZ3RoO2Zvcih2YXIgaz0wO2s8YyYmazxkO2srKylpZihlW2tdIT09ZltrXSlyZXR1cm4gcyhlW2tdLGZba10pO3JldHVybiBrPT09Yz9zKGEsZltrXSwtMSk6cyhlW2tdLGIsMSl9LHM9ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PT1iKXJldHVybiBjO3ZhciBkPWEubmV4dFNpYmxpbmc7d2hpbGUoZCl7aWYoZD09PWIpcmV0dXJuLTE7ZD1kLm5leHRTaWJsaW5nfXJldHVybiAxfSksay5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM7Zm9yKHZhciBkPTA7YVtkXTtkKyspYz1hW2RdLGMubm9kZVR5cGU9PT0zfHxjLm5vZGVUeXBlPT09ND9iKz1jLm5vZGVWYWx1ZTpjLm5vZGVUeXBlIT09OCYmKGIrPWsuZ2V0VGV4dChjLmNoaWxkTm9kZXMpKTtyZXR1cm4gYn0sZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksZT1jLmRvY3VtZW50RWxlbWVudDthLmlubmVySFRNTD0iPGEgbmFtZT0nIitkKyInLz4iLGUuaW5zZXJ0QmVmb3JlKGEsZS5maXJzdENoaWxkKSxjLmdldEVsZW1lbnRCeUlkKGQpJiYobC5maW5kLklEPWZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYy5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJiFkKXt2YXIgZT1jLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBlP2UuaWQ9PT1hWzFdfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT0idW5kZWZpbmVkIiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpLm5vZGVWYWx1ZT09PWFbMV0/W2VdOmI6W119fSxsLmZpbHRlci5JRD1mdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUhPSJ1bmRlZmluZWQiJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZjJiZjLm5vZGVWYWx1ZT09PWJ9KSxlLnJlbW92ZUNoaWxkKGEpLGU9YT1udWxsfSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmFwcGVuZENoaWxkKGMuY3JlYXRlQ29tbWVudCgiIikpLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MCYmKGwuZmluZC5UQUc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pO2lmKGFbMV09PT0iKiIpe3ZhciBkPVtdO2Zvcih2YXIgZT0wO2NbZV07ZSsrKWNbZV0ubm9kZVR5cGU9PT0xJiZkLnB1c2goY1tlXSk7Yz1kfXJldHVybiBjfSksYS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLGEuZmlyc3RDaGlsZCYmdHlwZW9mIGEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUhPSJ1bmRlZmluZWQiJiZhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyImJihsLmF0dHJIYW5kbGUuaHJlZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpfSksYT1udWxsfSgpLGMucXVlcnlTZWxlY3RvckFsbCYmZnVuY3Rpb24oKXt2YXIgYT1rLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJfX3NpenpsZV9fIjtiLmlubmVySFRNTD0iPHAgY2xhc3M9J1RFU1QnPjwvcD4iO2lmKCFiLnF1ZXJ5U2VsZWN0b3JBbGx8fGIucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGghPT0wKXtrPWZ1bmN0aW9uKGIsZSxmLGcpe2U9ZXx8YztpZighZyYmIWsuaXNYTUwoZSkpe3ZhciBoPS9eKFx3KyQpfF5cLihbXHdcLV0rJCl8XiMoW1x3XC1dKyQpLy5leGVjKGIpO2lmKGgmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTkpKXtpZihoWzFdKXJldHVybiBwKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZik7aWYoaFsyXSYmbC5maW5kLkNMQVNTJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHAoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGhbMl0pLGYpfWlmKGUubm9kZVR5cGU9PT05KXtpZihiPT09ImJvZHkiJiZlLmJvZHkpcmV0dXJuIHAoW2UuYm9keV0sZik7aWYoaCYmaFszXSl7dmFyIGk9ZS5nZXRFbGVtZW50QnlJZChoWzNdKTtpZighaXx8IWkucGFyZW50Tm9kZSlyZXR1cm4gcChbXSxmKTtpZihpLmlkPT09aFszXSlyZXR1cm4gcChbaV0sZil9dHJ5e3JldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbChiKSxmKX1jYXRjaChqKXt9fWVsc2UgaWYoZS5ub2RlVHlwZT09PTEmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJvYmplY3QiKXt2YXIgbT1lLG49ZS5nZXRBdHRyaWJ1dGUoImlkIiksbz1ufHxkLHE9ZS5wYXJlbnROb2RlLHI9L15ccypbK35dLy50ZXN0KGIpO24/bz1vLnJlcGxhY2UoLycvZywiXFwkJiIpOmUuc2V0QXR0cmlidXRlKCJpZCIsbyksciYmcSYmKGU9ZS5wYXJlbnROb2RlKTt0cnl7aWYoIXJ8fHEpcmV0dXJuIHAoZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWQ9JyIrbysiJ10gIitiKSxmKX1jYXRjaChzKXt9ZmluYWxseXtufHxtLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBhKGIsZSxmLGcpfTtmb3IodmFyIGUgaW4gYSlrW2VdPWFbZV07Yj1udWxsfX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuZG9jdW1lbnRFbGVtZW50LGI9YS5tYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcjtpZihiKXt2YXIgZD0hYi5jYWxsKGMuY3JlYXRlRWxlbWVudCgiZGl2IiksImRpdiIpLGU9ITE7dHJ5e2IuY2FsbChjLmRvY3VtZW50RWxlbWVudCwiW3Rlc3QhPScnXTpzaXp6bGUiKX1jYXRjaChmKXtlPSEwfWsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYyl7Yz1jLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFrLmlzWE1MKGEpKXRyeXtpZihlfHwhbC5tYXRjaC5QU0VVRE8udGVzdChjKSYmIS8hPS8udGVzdChjKSl7dmFyIGY9Yi5jYWxsKGEsYyk7aWYoZnx8IWR8fGEuZG9jdW1lbnQmJmEuZG9jdW1lbnQubm9kZVR5cGUhPT0xMSlyZXR1cm4gZn19Y2F0Y2goZyl7fXJldHVybiBrKGMsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9fX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J3Rlc3QgZSc+PC9kaXY+PGRpdiBjbGFzcz0ndGVzdCc+PC9kaXY+IjtpZighIWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoIT09MCl7YS5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIjtpZihhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0xKXJldHVybjtsLm9yZGVyLnNwbGljZSgxLDAsIkNMQVNTIiksbC5maW5kLkNMQVNTPWZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT0idW5kZWZpbmVkIiYmIWMpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhWzFdKX0sYT1udWxsfX0oKSxjLmRvY3VtZW50RWxlbWVudC5jb250YWlucz9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1iJiYoYS5jb250YWlucz9hLmNvbnRhaW5zKGIpOiEwKX06Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ay5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTprLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGsuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9KGE/YS5vd25lckRvY3VtZW50fHxhOjApLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9iLm5vZGVOYW1lIT09IkhUTUwiOiExfTt2YXIgdj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0iIixmPWIubm9kZVR5cGU/W2JdOmI7d2hpbGUoYz1sLm1hdGNoLlBTRVVETy5leGVjKGEpKWUrPWNbMF0sYT1hLnJlcGxhY2UobC5tYXRjaC5QU0VVRE8sIiIpO2E9bC5yZWxhdGl2ZVthXT9hKyIqIjphO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKylrKGEsZltnXSxkKTtyZXR1cm4gay5maWx0ZXIoZSxkKX07Zi5maW5kPWssZi5leHByPWsuc2VsZWN0b3JzLGYuZXhwclsiOiJdPWYuZXhwci5maWx0ZXJzLGYudW5pcXVlPWsudW5pcXVlU29ydCxmLnRleHQ9ay5nZXRUZXh0LGYuaXNYTUxEb2M9ay5pc1hNTCxmLmNvbnRhaW5zPWsuY29udGFpbnN9KCk7dmFyIE89L1VudGlsJC8sUD0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxRPS8sLyxSPS9eLlteOiNcW1wuLF0qJC8sUz1BcnJheS5wcm90b3R5cGUuc2xpY2UsVD1mLmV4cHIubWF0Y2guUE9TLFU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07Zi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQ7aWYodHlwZW9mIGEhPSJzdHJpbmciKXJldHVybiBmKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGYuY29udGFpbnMoYltjXSx0aGlzKSlyZXR1cm4hMH0pO3ZhciBlPXRoaXMucHVzaFN0YWNrKCIiLCJmaW5kIixhKSxnLGgsaTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7Zz1lLmxlbmd0aCxmLmZpbmQoYSx0aGlzW2NdLGUpO2lmKGM+MClmb3IoaD1nO2g8ZS5sZW5ndGg7aCsrKWZvcihpPTA7aTxnO2krKylpZihlW2ldPT09ZVtoXSl7ZS5zcGxpY2UoaC0tLDEpO2JyZWFrfX1yZXR1cm4gZX0saGFzOmZ1bmN0aW9uKGEpe3ZhciBiPWYoYSk7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYz1iLmxlbmd0aDthPGM7YSsrKWlmKGYuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFcodGhpcyxhLCExKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhXKHRoaXMsYSwhMCksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmKHR5cGVvZiBhPT0ic3RyaW5nIj9mLmZpbHRlcihhLHRoaXMpLmxlbmd0aD4wOnRoaXMuZmlsdGVyKGEpLmxlbmd0aD4wKX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZSxnPXRoaXNbMF07aWYoZi5pc0FycmF5KGEpKXt2YXIgaCxpLGo9e30saz0xO2lmKGcmJmEubGVuZ3RoKXtmb3IoZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpPWFbZF0saltpXXx8KGpbaV09VC50ZXN0KGkpP2YoaSxifHx0aGlzLmNvbnRleHQpOmkpO3doaWxlKGcmJmcub3duZXJEb2N1bWVudCYmZyE9PWIpe2ZvcihpIGluIGopaD1qW2ldLChoLmpxdWVyeT9oLmluZGV4KGcpPi0xOmYoZykuaXMoaCkpJiZjLnB1c2goe3NlbGVjdG9yOmksZWxlbTpnLGxldmVsOmt9KTtnPWcucGFyZW50Tm9kZSxrKyt9fXJldHVybiBjfXZhciBsPVQudGVzdChhKXx8dHlwZW9mIGEhPSJzdHJpbmciP2YoYSxifHx0aGlzLmNvbnRleHQpOjA7Zm9yKGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspe2c9dGhpc1tkXTt3aGlsZShnKXtpZihsP2wuaW5kZXgoZyk+LTE6Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGEpKXtjLnB1c2goZyk7YnJlYWt9Zz1nLnBhcmVudE5vZGU7aWYoIWd8fCFnLm93bmVyRG9jdW1lbnR8fGc9PT1ifHxnLm5vZGVUeXBlPT09MTEpYnJlYWt9fWM9Yy5sZW5ndGg+MT9mLnVuaXF1ZShjKTpjO3JldHVybiB0aGlzLnB1c2hTdGFjayhjLCJjbG9zZXN0IixhKX0saW5kZXg6ZnVuY3Rpb24oYSl7aWYoIWF8fHR5cGVvZiBhPT0ic3RyaW5nIilyZXR1cm4gZi5pbkFycmF5KHRoaXNbMF0sYT9mKGEpOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKSk7cmV0dXJuIGYuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhPT0ic3RyaW5nIj9mKGEsYik6Zi5tYWtlQXJyYXkoYSYmYS5ub2RlVHlwZT9bYV06YSksZD1mLm1lcmdlKHRoaXMuZ2V0KCksYyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFYoY1swXSl8fFYoZFswXSk/ZDpmLnVuaXF1ZShkKSl9LGFuZFNlbGY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5wcmV2T2JqZWN0KX19KSxmLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIubm9kZVR5cGUhPT0xMT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYubnRoKGEsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmYubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe2YuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1mLm1hcCh0aGlzLGIsYyksZz1TLmNhbGwoYXJndW1lbnRzKTtPLnRlc3QoYSl8fChkPWMpLGQmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGU9Zi5maWx0ZXIoZCxlKSksZT10aGlzLmxlbmd0aD4xJiYhVVthXT9mLnVuaXF1ZShlKTplLCh0aGlzLmxlbmd0aD4xfHxRLnRlc3QoZCkpJiZQLnRlc3QoYSkmJihlPWUucmV2ZXJzZSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSxhLGcuam9pbigiLCIpKX19KSxmLmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGEsYixjKXtjJiYoYT0iOm5vdCgiK2ErIikiKTtyZXR1cm4gYi5sZW5ndGg9PT0xP2YuZmluZC5tYXRjaGVzU2VsZWN0b3IoYlswXSxhKT9bYlswXV06W106Zi5maW5kLm1hdGNoZXMoYSxiKX0sZGlyOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1bXSxnPWFbY107d2hpbGUoZyYmZy5ub2RlVHlwZSE9PTkmJihkPT09Ynx8Zy5ub2RlVHlwZSE9PTF8fCFmKGcpLmlzKGQpKSlnLm5vZGVUeXBlPT09MSYmZS5wdXNoKGcpLGc9Z1tjXTtyZXR1cm4gZX0sbnRoOmZ1bmN0aW9uKGEsYixjLGQpe2I9Ynx8MTt2YXIgZT0wO2Zvcig7YTthPWFbY10paWYoYS5ub2RlVHlwZT09PTEmJisrZT09PWIpYnJlYWs7cmV0dXJuIGF9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtmb3IoO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZVR5cGU9PT0xJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pO3ZhciBYPS8galF1ZXJ5XGQrPSIoPzpcZCt8bnVsbCkiL2csWT0vXlxzKy8sWj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2lnLCQ9LzwoW1x3Ol0rKS8sXz0vPHRib2R5L2ksYmE9Lzx8JiM/XHcrOy8sYmI9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSxiYz0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxiZD0vXC8oamF2YXxlY21hKXNjcmlwdC9pLGJlPS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSkvLGJmPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2JmLm9wdGdyb3VwPWJmLm9wdGlvbixiZi50Ym9keT1iZi50Zm9vdD1iZi5jb2xncm91cD1iZi5jYXB0aW9uPWJmLnRoZWFkLGJmLnRoPWJmLnRkLGYuc3VwcG9ydC5odG1sU2VyaWFsaXplfHwoYmYuX2RlZmF1bHQ9WzEsImRpdjxkaXY+IiwiPC9kaXY+Il0pLGYuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcyk7Yy50ZXh0KGEuY2FsbCh0aGlzLGIsYy50ZXh0KCkpKX0pO2lmKHR5cGVvZiBhIT0ib2JqZWN0IiYmYSE9PWIpcmV0dXJuIHRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8YykuY3JlYXRlVGV4dE5vZGUoYSkpO3JldHVybiBmLnRleHQodGhpcyl9LHdyYXBBbGw6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPWYoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJmEuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTEpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9Zih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zih0aGlzKS53cmFwQWxsKGEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtmLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8Zih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5hcHBlbmRDaGlsZChhKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmluc2VydEJlZm9yZShhLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT1mKGFyZ3VtZW50c1swXSk7YS5wdXNoLmFwcGx5KGEsdGhpcy50b0FycmF5KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhhLCJiZWZvcmUiLGFyZ3VtZW50cyl9fSxhZnRlcjpmdW5jdGlvbigpe2lmKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITEsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSk7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGE9dGhpcy5wdXNoU3RhY2sodGhpcywiYWZ0ZXIiLGFyZ3VtZW50cyk7YS5wdXNoLmFwcGx5KGEsZihhcmd1bWVudHNbMF0pLnRvQXJyYXkoKSk7cmV0dXJuIGF9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkOyhkPXRoaXNbY10pIT1udWxsO2MrKylpZighYXx8Zi5maWx0ZXIoYSxbZF0pLmxlbmd0aCkhYiYmZC5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YShkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGYuY2xlYW5EYXRhKFtkXSkpLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7KGI9dGhpc1thXSkhPW51bGw7YSsrKXtiLm5vZGVUeXBlPT09MSYmZi5jbGVhbkRhdGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShiLmZpcnN0Q2hpbGQpYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe2E9YT09bnVsbD8hMTphLGI9Yj09bnVsbD9hOmI7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGYuY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7aWYoYT09PWIpcmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ubm9kZVR5cGU9PT0xP3RoaXNbMF0uaW5uZXJIVE1MLnJlcGxhY2UoWCwiIik6bnVsbDtpZih0eXBlb2YgYT09InN0cmluZyImJiFiYi50ZXN0KGEpJiYoZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhWS50ZXN0KGEpKSYmIWJmWygkLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKHZhciBjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXRoaXNbY10ubm9kZVR5cGU9PT0xJiYoZi5jbGVhbkRhdGEodGhpc1tjXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSx0aGlzW2NdLmlubmVySFRNTD1hKX1jYXRjaChlKXt0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfX1lbHNlIGYuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLmh0bWwoYS5jYWxsKHRoaXMsYixjLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtyZXR1cm4gdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpLGQ9Yy5odG1sKCk7Yy5yZXBsYWNlV2l0aChhLmNhbGwodGhpcyxiLGQpKX0pO3R5cGVvZiBhIT0ic3RyaW5nIiYmKGE9ZihhKS5kZXRhY2goKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMubmV4dFNpYmxpbmcsYz10aGlzLnBhcmVudE5vZGU7Zih0aGlzKS5yZW1vdmUoKSxiP2YoYikuYmVmb3JlKGEpOmYoYykuYXBwZW5kKGEpfSl9cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKGYoZi5pc0Z1bmN0aW9uKGEpP2EoKTphKSwicmVwbGFjZVdpdGgiLGEpOnRoaXN9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnLGgsaSxqPWFbMF0saz1bXTtpZighZi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmFyZ3VtZW50cy5sZW5ndGg9PT0zJiZ0eXBlb2Ygaj09InN0cmluZyImJmJjLnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YodGhpcykuZG9tTWFuaXAoYSxjLGQsITApfSk7aWYoZi5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGc9Zih0aGlzKTthWzBdPWouY2FsbCh0aGlzLGUsYz9nLmh0bWwoKTpiKSxnLmRvbU1hbmlwKGEsYyxkKX0pO2lmKHRoaXNbMF0pe2k9aiYmai5wYXJlbnROb2RlLGYuc3VwcG9ydC5wYXJlbnROb2RlJiZpJiZpLm5vZGVUeXBlPT09MTEmJmkuY2hpbGROb2Rlcy5sZW5ndGg9PT10aGlzLmxlbmd0aD9lPXtmcmFnbWVudDppfTplPWYuYnVpbGRGcmFnbWVudChhLHRoaXMsayksaD1lLmZyYWdtZW50LGguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2c9aD1oLmZpcnN0Q2hpbGQ6Zz1oLmZpcnN0Q2hpbGQ7aWYoZyl7Yz1jJiZmLm5vZGVOYW1lKGcsInRyIik7Zm9yKHZhciBsPTAsbT10aGlzLmxlbmd0aCxuPW0tMTtsPG07bCsrKWQuY2FsbChjP2JnKHRoaXNbbF0sZyk6dGhpc1tsXSxlLmNhY2hlYWJsZXx8bT4xJiZsPG4/Zi5jbG9uZShoLCEwLCEwKTpoKX1rLmxlbmd0aCYmZi5lYWNoKGssYm0pfXJldHVybiB0aGlzfX0pLGYuYnVpbGRGcmFnbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZyxoLGk7YiYmYlswXSYmKGk9YlswXS5vd25lckRvY3VtZW50fHxiWzBdKSxpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnR8fChpPWMpLGEubGVuZ3RoPT09MSYmdHlwZW9mIGFbMF09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmk9PT1jJiZhWzBdLmNoYXJBdCgwKT09PSI8IiYmIWJiLnRlc3QoYVswXSkmJihmLnN1cHBvcnQuY2hlY2tDbG9uZXx8IWJjLnRlc3QoYVswXSkpJiYoZz0hMCxoPWYuZnJhZ21lbnRzW2FbMF1dLGgmJmghPT0xJiYoZT1oKSksZXx8KGU9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZi5jbGVhbihhLGksZSxkKSksZyYmKGYuZnJhZ21lbnRzW2FbMF1dPWg/ZToxKTtyZXR1cm57ZnJhZ21lbnQ6ZSxjYWNoZWFibGU6Z319LGYuZnJhZ21lbnRzPXt9LGYuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjKXt2YXIgZD1bXSxlPWYoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZlLmxlbmd0aD09PTEpe2VbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2YoZVtoXSlbYl0oaiksZD1kLmNvbmNhdChqCil9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQsYSxlLnNlbGVjdG9yKX19KSxmLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuY2xvbmVOb2RlKCEwKSxlLGcsaDtpZigoIWYuc3VwcG9ydC5ub0Nsb25lRXZlbnR8fCFmLnN1cHBvcnQubm9DbG9uZUNoZWNrZWQpJiYoYS5ub2RlVHlwZT09PTF8fGEubm9kZVR5cGU9PT0xMSkmJiFmLmlzWE1MRG9jKGEpKXtiaShhLGQpLGU9YmooYSksZz1iaihkKTtmb3IoaD0wO2VbaF07KytoKWJpKGVbaF0sZ1toXSl9aWYoYil7YmgoYSxkKTtpZihjKXtlPWJqKGEpLGc9YmooZCk7Zm9yKGg9MDtlW2hdOysraCliaChlW2hdLGdbaF0pfX1lPWc9bnVsbDtyZXR1cm4gZH0sY2xlYW46ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGc7Yj1ifHxjLHR5cGVvZiBiLmNyZWF0ZUVsZW1lbnQ9PSJ1bmRlZmluZWQiJiYoYj1iLm93bmVyRG9jdW1lbnR8fGJbMF0mJmJbMF0ub3duZXJEb2N1bWVudHx8Yyk7dmFyIGg9W10saTtmb3IodmFyIGo9MCxrOyhrPWFbal0pIT1udWxsO2orKyl7dHlwZW9mIGs9PSJudW1iZXIiJiYoays9IiIpO2lmKCFrKWNvbnRpbnVlO2lmKHR5cGVvZiBrPT0ic3RyaW5nIilpZighYmEudGVzdChrKSlrPWIuY3JlYXRlVGV4dE5vZGUoayk7ZWxzZXtrPWsucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt2YXIgbD0oJC5leGVjKGspfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09YmZbbF18fGJmLl9kZWZhdWx0LG49bVswXSxvPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7by5pbm5lckhUTUw9bVsxXStrK21bMl07d2hpbGUobi0tKW89by5sYXN0Q2hpbGQ7aWYoIWYuc3VwcG9ydC50Ym9keSl7dmFyIHA9Xy50ZXN0KGspLHE9bD09PSJ0YWJsZSImJiFwP28uZmlyc3RDaGlsZCYmby5maXJzdENoaWxkLmNoaWxkTm9kZXM6bVsxXT09PSI8dGFibGU+IiYmIXA/by5jaGlsZE5vZGVzOltdO2ZvcihpPXEubGVuZ3RoLTE7aT49MDstLWkpZi5ub2RlTmFtZShxW2ldLCJ0Ym9keSIpJiYhcVtpXS5jaGlsZE5vZGVzLmxlbmd0aCYmcVtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHFbaV0pfSFmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJlkudGVzdChrKSYmby5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZShZLmV4ZWMoaylbMF0pLG8uZmlyc3RDaGlsZCksaz1vLmNoaWxkTm9kZXN9dmFyIHI7aWYoIWYuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWlmKGtbMF0mJnR5cGVvZiAocj1rLmxlbmd0aCk9PSJudW1iZXIiKWZvcihpPTA7aTxyO2krKylibChrW2ldKTtlbHNlIGJsKGspO2subm9kZVR5cGU/aC5wdXNoKGspOmg9Zi5tZXJnZShoLGspfWlmKGQpe2c9ZnVuY3Rpb24oYSl7cmV0dXJuIWEudHlwZXx8YmQudGVzdChhLnR5cGUpfTtmb3Ioaj0wO2hbal07aisrKWlmKGUmJmYubm9kZU5hbWUoaFtqXSwic2NyaXB0IikmJighaFtqXS50eXBlfHxoW2pdLnR5cGUudG9Mb3dlckNhc2UoKT09PSJ0ZXh0L2phdmFzY3JpcHQiKSllLnB1c2goaFtqXS5wYXJlbnROb2RlP2hbal0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoW2pdKTpoW2pdKTtlbHNle2lmKGhbal0ubm9kZVR5cGU9PT0xKXt2YXIgcz1mLmdyZXAoaFtqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksZyk7aC5zcGxpY2UuYXBwbHkoaCxbaisxLDBdLmNvbmNhdChzKSl9ZC5hcHBlbmRDaGlsZChoW2pdKX19cmV0dXJuIGh9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXt2YXIgYixjLGQ9Zi5jYWNoZSxlPWYuZXhwYW5kbyxnPWYuZXZlbnQuc3BlY2lhbCxoPWYuc3VwcG9ydC5kZWxldGVFeHBhbmRvO2Zvcih2YXIgaT0wLGo7KGo9YVtpXSkhPW51bGw7aSsrKXtpZihqLm5vZGVOYW1lJiZmLm5vRGF0YVtqLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKWNvbnRpbnVlO2M9altmLmV4cGFuZG9dO2lmKGMpe2I9ZFtjXSYmZFtjXVtlXTtpZihiJiZiLmV2ZW50cyl7Zm9yKHZhciBrIGluIGIuZXZlbnRzKWdba10/Zi5ldmVudC5yZW1vdmUoaixrKTpmLnJlbW92ZUV2ZW50KGosayxiLmhhbmRsZSk7Yi5oYW5kbGUmJihiLmhhbmRsZS5lbGVtPW51bGwpfWg/ZGVsZXRlIGpbZi5leHBhbmRvXTpqLnJlbW92ZUF0dHJpYnV0ZSYmai5yZW1vdmVBdHRyaWJ1dGUoZi5leHBhbmRvKSxkZWxldGUgZFtjXX19fX0pO3ZhciBibj0vYWxwaGFcKFteKV0qXCkvaSxibz0vb3BhY2l0eT0oW14pXSopLyxicD0vKFtBLVpdfF5tcykvZyxicT0vXi0/XGQrKD86cHgpPyQvaSxicj0vXi0/XGQvLGJzPS9eWytcLV09LyxidD0vW14rXC1cLlxkZV0rL2csYnU9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LGJ2PVsiTGVmdCIsIlJpZ2h0Il0sYnc9WyJUb3AiLCJCb3R0b20iXSxieCxieSxiejtmLmZuLmNzcz1mdW5jdGlvbihhLGMpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yJiZjPT09YilyZXR1cm4gdGhpcztyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGMsITAsZnVuY3Rpb24oYSxjLGQpe3JldHVybiBkIT09Yj9mLnN0eWxlKGEsYyxkKTpmLmNzcyhhLGMpfSl9LGYuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9YngoYSwib3BhY2l0eSIsIm9wYWNpdHkiKTtyZXR1cm4gYz09PSIiPyIxIjpjfXJldHVybiBhLnN0eWxlLm9wYWNpdHl9fX0sY3NzTnVtYmVyOntmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6Zi5zdXBwb3J0LmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGMsZCxlKXtpZighIWEmJmEubm9kZVR5cGUhPT0zJiZhLm5vZGVUeXBlIT09OCYmISFhLnN0eWxlKXt2YXIgZyxoLGk9Zi5jYW1lbENhc2UoYyksaj1hLnN0eWxlLGs9Zi5jc3NIb29rc1tpXTtjPWYuY3NzUHJvcHNbaV18fGk7aWYoZD09PWIpe2lmKGsmJiJnZXQiaW4gayYmKGc9ay5nZXQoYSwhMSxlKSkhPT1iKXJldHVybiBnO3JldHVybiBqW2NdfWg9dHlwZW9mIGQ7aWYoaD09PSJudW1iZXIiJiZpc05hTihkKXx8ZD09bnVsbClyZXR1cm47aD09PSJzdHJpbmciJiZicy50ZXN0KGQpJiYoZD0rZC5yZXBsYWNlKGJ0LCIiKStwYXJzZUZsb2F0KGYuY3NzKGEsYykpLGg9Im51bWJlciIpLGg9PT0ibnVtYmVyIiYmIWYuY3NzTnVtYmVyW2ldJiYoZCs9InB4Iik7aWYoIWt8fCEoInNldCJpbiBrKXx8KGQ9ay5zZXQoYSxkKSkhPT1iKXRyeXtqW2NdPWR9Y2F0Y2gobCl7fX19LGNzczpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZztjPWYuY2FtZWxDYXNlKGMpLGc9Zi5jc3NIb29rc1tjXSxjPWYuY3NzUHJvcHNbY118fGMsYz09PSJjc3NGbG9hdCImJihjPSJmbG9hdCIpO2lmKGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxkKSkhPT1iKXJldHVybiBlO2lmKGJ4KXJldHVybiBieChhLGMpfSxzd2FwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtmb3IodmFyIGUgaW4gYilkW2VdPWEuc3R5bGVbZV0sYS5zdHlsZVtlXT1iW2VdO2MuY2FsbChhKTtmb3IoZSBpbiBiKWEuc3R5bGVbZV09ZFtlXX19KSxmLmN1ckNTUz1mLmNzcyxmLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7Zi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZTtpZihjKXtpZihhLm9mZnNldFdpZHRoIT09MClyZXR1cm4gYkEoYSxiLGQpO2Yuc3dhcChhLGJ1LGZ1bmN0aW9uKCl7ZT1iQShhLGIsZCl9KTtyZXR1cm4gZX19LHNldDpmdW5jdGlvbihhLGIpe2lmKCFicS50ZXN0KGIpKXJldHVybiBiO2I9cGFyc2VGbG9hdChiKTtpZihiPj0wKXJldHVybiBiKyJweCJ9fX0pLGYuc3VwcG9ydC5vcGFjaXR5fHwoZi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYm8udGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpP3BhcnNlRmxvYXQoUmVnRXhwLiQxKS8xMDArIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZTtjLnpvb209MTt2YXIgZT1mLmlzTmFOKGIpPyIiOiJhbHBoYShvcGFjaXR5PSIrYioxMDArIikiLGc9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLmZpbHRlcj1ibi50ZXN0KGcpP2cucmVwbGFjZShibixlKTpnKyIgIitlfX0pLGYoZnVuY3Rpb24oKXtmLnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KGYuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihhLGIpe3ZhciBjO2Yuc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxmdW5jdGlvbigpe2I/Yz1ieChhLCJtYXJnaW4tcmlnaHQiLCJtYXJnaW5SaWdodCIpOmM9YS5zdHlsZS5tYXJnaW5SaWdodH0pO3JldHVybiBjfX0pfSksYy5kZWZhdWx0VmlldyYmYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlJiYoYnk9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGc7Yz1jLnJlcGxhY2UoYnAsIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoIShlPWEub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykpcmV0dXJuIGI7aWYoZz1lLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKSlkPWcuZ2V0UHJvcGVydHlWYWx1ZShjKSxkPT09IiImJiFmLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkmJihkPWYuc3R5bGUoYSxjKSk7cmV0dXJuIGR9KSxjLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihiej1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5jdXJyZW50U3R5bGUmJmEuY3VycmVudFN0eWxlW2JdLGU9YS5ydW50aW1lU3R5bGUmJmEucnVudGltZVN0eWxlW2JdLGY9YS5zdHlsZTshYnEudGVzdChkKSYmYnIudGVzdChkKSYmKGM9Zi5sZWZ0LGUmJihhLnJ1bnRpbWVTdHlsZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGYubGVmdD1iPT09ImZvbnRTaXplIj8iMWVtIjpkfHwwLGQ9Zi5waXhlbExlZnQrInB4IixmLmxlZnQ9YyxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1lKSk7cmV0dXJuIGQ9PT0iIj8iYXV0byI6ZH0pLGJ4PWJ5fHxieixmLmV4cHImJmYuZXhwci5maWx0ZXJzJiYoZi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDtyZXR1cm4gYj09PTAmJmM9PT0wfHwhZi5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUuZGlzcGxheXx8Zi5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn0sZi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfSk7dmFyIGJCPS8lMjAvZyxiQz0vXFtcXSQvLGJEPS9ccj9cbi9nLGJFPS8jLiokLyxiRj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLGJHPS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxlbWFpbHxoaWRkZW58bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaSxiSD0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHdpZGdldCk6JC8sYkk9L14oPzpHRVR8SEVBRCkkLyxiSj0vXlwvXC8vLGJLPS9cPy8sYkw9LzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksYk09L14oPzpzZWxlY3R8dGV4dGFyZWEpL2ksYk49L1xzKy8sYk89LyhbPyZdKV89W14mXSovLGJQPS9eKFtcd1wrXC5cLV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKykpPyk/LyxiUT1mLmZuLmxvYWQsYlI9e30sYlM9e30sYlQsYlU7dHJ5e2JUPWUuaHJlZn1jYXRjaChiVil7YlQ9Yy5jcmVhdGVFbGVtZW50KCJhIiksYlQuaHJlZj0iIixiVD1iVC5ocmVmfWJVPWJQLmV4ZWMoYlQudG9Mb3dlckNhc2UoKSl8fFtdLGYuZm4uZXh0ZW5kKHtsb2FkOmZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYSE9InN0cmluZyImJmJRKXJldHVybiBiUS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBlPWEuaW5kZXhPZigiICIpO2lmKGU+PTApe3ZhciBnPWEuc2xpY2UoZSxhLmxlbmd0aCk7YT1hLnNsaWNlKDAsZSl9dmFyIGg9IkdFVCI7YyYmKGYuaXNGdW5jdGlvbihjKT8oZD1jLGM9Yik6dHlwZW9mIGM9PSJvYmplY3QiJiYoYz1mLnBhcmFtKGMsZi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGg9IlBPU1QiKSk7dmFyIGk9dGhpcztmLmFqYXgoe3VybDphLHR5cGU6aCxkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYixjKXtjPWEucmVzcG9uc2VUZXh0LGEuaXNSZXNvbHZlZCgpJiYoYS5kb25lKGZ1bmN0aW9uKGEpe2M9YX0pLGkuaHRtbChnP2YoIjxkaXY+IikuYXBwZW5kKGMucmVwbGFjZShiTCwiIikpLmZpbmQoZyk6YykpLGQmJmkuZWFjaChkLFtjLGIsYV0pfX0pO3JldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzP2YubWFrZUFycmF5KHRoaXMuZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lJiYhdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8Yk0udGVzdCh0aGlzLm5vZGVOYW1lKXx8YkcudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPWYodGhpcykudmFsKCk7cmV0dXJuIGM9PW51bGw/bnVsbDpmLmlzQXJyYXkoYyk/Zi5tYXAoYyxmdW5jdGlvbihhLGMpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYkQsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGJELCJcclxuIil9fSkuZ2V0KCl9fSksZi5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmluZChiLGEpfX0pLGYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGMpe2ZbY109ZnVuY3Rpb24oYSxkLGUsZyl7Zi5pc0Z1bmN0aW9uKGQpJiYoZz1nfHxlLGU9ZCxkPWIpO3JldHVybiBmLmFqYXgoe3R5cGU6Yyx1cmw6YSxkYXRhOmQsc3VjY2VzczplLGRhdGFUeXBlOmd9KX19KSxmLmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe2I/Zi5leHRlbmQoITAsYSxmLmFqYXhTZXR0aW5ncyxiKTooYj1hLGE9Zi5leHRlbmQoITAsZi5hamF4U2V0dGluZ3MsYikpO2Zvcih2YXIgYyBpbntjb250ZXh0OjEsdXJsOjF9KWMgaW4gYj9hW2NdPWJbY106YyBpbiBmLmFqYXhTZXR0aW5ncyYmKGFbY109Zi5hamF4U2V0dGluZ3NbY10pO3JldHVybiBhfSxhamF4U2V0dGluZ3M6e3VybDpiVCxpc0xvY2FsOmJILnRlc3QoYlVbMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjoiKi8qIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmEuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOmYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6Zi5wYXJzZVhNTH19LGFqYXhQcmVmaWx0ZXI6YlcoYlIpLGFqYXhUcmFuc3BvcnQ6YlcoYlMpLGFqYXg6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiB3KGEsYyxsLG0pe2lmKHMhPT0yKXtzPTIscSYmY2xlYXJUaW1lb3V0KHEpLHA9YixuPW18fCIiLHYucmVhZHlTdGF0ZT1hPzQ6MDt2YXIgbyxyLHUsdz1sP2JaKGQsdixsKTpiLHgseTtpZihhPj0yMDAmJmE8MzAwfHxhPT09MzA0KXtpZihkLmlmTW9kaWZpZWQpe2lmKHg9di5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKWYubGFzdE1vZGlmaWVkW2tdPXg7aWYoeT12LmdldFJlc3BvbnNlSGVhZGVyKCJFdGFnIikpZi5ldGFnW2tdPXl9aWYoYT09PTMwNCljPSJub3Rtb2RpZmllZCIsbz0hMDtlbHNlIHRyeXtyPWIkKGQsdyksYz0ic3VjY2VzcyIsbz0hMH1jYXRjaCh6KXtjPSJwYXJzZXJlcnJvciIsdT16fX1lbHNle3U9YztpZighY3x8YSljPSJlcnJvciIsYTwwJiYoYT0wKX12LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD1jLG8/aC5yZXNvbHZlV2l0aChlLFtyLGMsdl0pOmgucmVqZWN0V2l0aChlLFt2LGMsdV0pLHYuc3RhdHVzQ29kZShqKSxqPWIsdCYmZy50cmlnZ2VyKCJhamF4Iisobz8iU3VjY2VzcyI6IkVycm9yIiksW3YsZCxvP3I6dV0pLGkucmVzb2x2ZVdpdGgoZSxbdixjXSksdCYmKGcudHJpZ2dlcigiYWpheENvbXBsZXRlIixbdixkXSksLS1mLmFjdGl2ZXx8Zi5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKX19dHlwZW9mIGE9PSJvYmplY3QiJiYoYz1hLGE9YiksYz1jfHx7fTt2YXIgZD1mLmFqYXhTZXR1cCh7fSxjKSxlPWQuY29udGV4dHx8ZCxnPWUhPT1kJiYoZS5ub2RlVHlwZXx8ZSBpbnN0YW5jZW9mIGYpP2YoZSk6Zi5ldmVudCxoPWYuRGVmZXJyZWQoKSxpPWYuX0RlZmVycmVkKCksaj1kLnN0YXR1c0NvZGV8fHt9LGssbD17fSxtPXt9LG4sbyxwLHEscixzPTAsdCx1LHY9e3JlYWR5U3RhdGU6MCxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7aWYoIXMpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTthPW1bY109bVtjXXx8YSxsW2FdPWJ9cmV0dXJuIHRoaXN9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBzPT09Mj9uOm51bGx9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBjO2lmKHM9PT0yKXtpZighbyl7bz17fTt3aGlsZShjPWJGLmV4ZWMobikpb1tjWzFdLnRvTG93ZXJDYXNlKCldPWNbMl19Yz1vW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIGM9PT1iP251bGw6Y30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtzfHwoZC5taW1lVHlwZT1hKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7YT1hfHwiYWJvcnQiLHAmJnAuYWJvcnQoYSksdygwLGEpO3JldHVybiB0aGlzfX07aC5wcm9taXNlKHYpLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsdi5jb21wbGV0ZT1pLmRvbmUsdi5zdGF0dXNDb2RlPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiO2lmKHM8Milmb3IoYiBpbiBhKWpbYl09W2pbYl0sYVtiXV07ZWxzZSBiPWFbdi5zdGF0dXNdLHYudGhlbihiLGIpfXJldHVybiB0aGlzfSxkLnVybD0oKGF8fGQudXJsKSsiIikucmVwbGFjZShiRSwiIikucmVwbGFjZShiSixiVVsxXSsiLy8iKSxkLmRhdGFUeXBlcz1mLnRyaW0oZC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KGJOKSxkLmNyb3NzRG9tYWluPT1udWxsJiYocj1iUC5leGVjKGQudXJsLnRvTG93ZXJDYXNlKCkpLGQuY3Jvc3NEb21haW49ISghcnx8clsxXT09YlVbMV0mJnJbMl09PWJVWzJdJiYoclszXXx8KHJbMV09PT0iaHR0cDoiPzgwOjQ0MykpPT0oYlVbM118fChiVVsxXT09PSJodHRwOiI/ODA6NDQzKSkpKSxkLmRhdGEmJmQucHJvY2Vzc0RhdGEmJnR5cGVvZiBkLmRhdGEhPSJzdHJpbmciJiYoZC5kYXRhPWYucGFyYW0oZC5kYXRhLGQudHJhZGl0aW9uYWwpKSxiWChiUixkLGMsdik7aWYocz09PTIpcmV0dXJuITE7dD1kLmdsb2JhbCxkLnR5cGU9ZC50eXBlLnRvVXBwZXJDYXNlKCksZC5oYXNDb250ZW50PSFiSS50ZXN0KGQudHlwZSksdCYmZi5hY3RpdmUrKz09PTAmJmYuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iik7aWYoIWQuaGFzQ29udGVudCl7ZC5kYXRhJiYoZC51cmwrPShiSy50ZXN0KGQudXJsKT8iJiI6Ij8iKStkLmRhdGEpLGs9ZC51cmw7aWYoZC5jYWNoZT09PSExKXt2YXIgeD1mLm5vdygpLHk9ZC51cmwucmVwbGFjZShiTywiJDFfPSIreCk7ZC51cmw9eSsoeT09PWQudXJsPyhiSy50ZXN0KGQudXJsKT8iJiI6Ij8iKSsiXz0iK3g6IiIpfX0oZC5kYXRhJiZkLmhhc0NvbnRlbnQmJmQuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixkLmNvbnRlbnRUeXBlKSxkLmlmTW9kaWZpZWQmJihrPWt8fGQudXJsLGYubGFzdE1vZGlmaWVkW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixmLmxhc3RNb2RpZmllZFtrXSksZi5ldGFnW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGYuZXRhZ1trXSkpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixkLmRhdGFUeXBlc1swXSYmZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXT9kLmFjY2VwdHNbZC5kYXRhVHlwZXNbMF1dKyhkLmRhdGFUeXBlc1swXSE9PSIqIj8iLCAqLyo7IHE9MC4wMSI6IiIpOmQuYWNjZXB0c1siKiJdKTtmb3IodSBpbiBkLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKHUsZC5oZWFkZXJzW3VdKTtpZihkLmJlZm9yZVNlbmQmJihkLmJlZm9yZVNlbmQuY2FsbChlLHYsZCk9PT0hMXx8cz09PTIpKXt2LmFib3J0KCk7cmV0dXJuITF9Zm9yKHUgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdlt1XShkW3VdKTtwPWJYKGJTLGQsYyx2KTtpZighcCl3KC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3YucmVhZHlTdGF0ZT0xLHQmJmcudHJpZ2dlcigiYWpheFNlbmQiLFt2LGRdKSxkLmFzeW5jJiZkLnRpbWVvdXQ+MCYmKHE9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0sZC50aW1lb3V0KSk7dHJ5e3M9MSxwLnNlbmQobCx3KX1jYXRjaCh6KXtzdGF0dXM8Mj93KC0xLHopOmYuZXJyb3Ioeil9fXJldHVybiB2fSxwYXJhbTpmdW5jdGlvbihhLGMpe3ZhciBkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPWYuaXNGdW5jdGlvbihiKT9iKCk6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChiKX07Yz09PWImJihjPWYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihmLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhZi5pc1BsYWluT2JqZWN0KGEpKWYuZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcih2YXIgZyBpbiBhKWJZKGcsYVtnXSxjLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKGJCLCIrIil9fSksZi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9fSk7dmFyIGJfPWYubm93KCksY2E9LyhcPSlcPygmfCQpfFw/XD8vaTtmLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZXhwYW5kbysiXyIrYl8rK319KSxmLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1iLmNvbnRlbnRUeXBlPT09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCImJnR5cGVvZiBiLmRhdGE9PSJzdHJpbmciO2lmKGIuZGF0YVR5cGVzWzBdPT09Impzb25wInx8Yi5qc29ucCE9PSExJiYoY2EudGVzdChiLnVybCl8fGUmJmNhLnRlc3QoYi5kYXRhKSkpe3ZhciBnLGg9Yi5qc29ucENhbGxiYWNrPWYuaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxpPWFbaF0saj1iLnVybCxrPWIuZGF0YSxsPSIkMSIraCsiJDIiO2IuanNvbnAhPT0hMSYmKGo9ai5yZXBsYWNlKGNhLGwpLGIudXJsPT09aiYmKGUmJihrPWsucmVwbGFjZShjYSxsKSksYi5kYXRhPT09ayYmKGorPSgvXD8vLnRlc3Qoaik/IiYiOiI/IikrYi5qc29ucCsiPSIraCkpKSxiLnVybD1qLGIuZGF0YT1rLGFbaF09ZnVuY3Rpb24oYSl7Zz1bYV19LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtoXT1pLGcmJmYuaXNGdW5jdGlvbihpKSYmYVtoXShnWzBdKX0pLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe2d8fGYuZXJyb3IoaCsiIHdhcyBub3QgY2FsbGVkIik7cmV0dXJuIGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIjtyZXR1cm4ic2NyaXB0In19KSxmLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7Zi5nbG9iYWxFdmFsKGEpO3JldHVybiBhfX19KSxmLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7YS5jYWNoZT09PWImJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLGYuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgZCxlPWMuaGVhZHx8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxjLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihmLGcpe2Q9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxkLmFzeW5jPSJhc3luYyIsYS5zY3JpcHRDaGFyc2V0JiYoZC5jaGFyc2V0PWEuc2NyaXB0Q2hhcnNldCksZC5zcmM9YS51cmwsZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYSxjKXtpZihjfHwhZC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGQucmVhZHlTdGF0ZSkpZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlJiZkLnBhcmVudE5vZGUmJmUucmVtb3ZlQ2hpbGQoZCksZD1iLGN8fGcoMjAwLCJzdWNjZXNzIil9LGUuaW5zZXJ0QmVmb3JlKGQsZS5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtkJiZkLm9ubG9hZCgwLDEpfX19fSk7dmFyIGNiPWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBjZCljZFthXSgwLDEpfTohMSxjYz0wLGNkO2YuYWpheFNldHRpbmdzLnhocj1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZjZSgpfHxjZigpfTpjZSxmdW5jdGlvbihhKXtmLmV4dGVuZChmLnN1cHBvcnQse2FqYXg6ISFhLGNvcnM6ISFhJiYid2l0aENyZWRlbnRpYWxzImluIGF9KX0oZi5hamF4U2V0dGluZ3MueGhyKCkpLGYuc3VwcG9ydC5hamF4JiZmLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYyl7aWYoIWMuY3Jvc3NEb21haW58fGYuc3VwcG9ydC5jb3JzKXt2YXIgZDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGcpe3ZhciBoPWMueGhyKCksaSxqO2MudXNlcm5hbWU/aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jLGMudXNlcm5hbWUsYy5wYXNzd29yZCk6aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jKTtpZihjLnhockZpZWxkcylmb3IoaiBpbiBjLnhockZpZWxkcyloW2pdPWMueGhyRmllbGRzW2pdO2MubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGMubWltZVR5cGUpLCFjLmNyb3NzRG9tYWluJiYhZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdJiYoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO3RyeXtmb3IoaiBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihqLGVbal0pfWNhdGNoKGspe31oLnNlbmQoYy5oYXNDb250ZW50JiZjLmRhdGF8fG51bGwpLGQ9ZnVuY3Rpb24oYSxlKXt2YXIgaixrLGwsbSxuO3RyeXtpZihkJiYoZXx8aC5yZWFkeVN0YXRlPT09NCkpe2Q9YixpJiYoaC5vbnJlYWR5c3RhdGVjaGFuZ2U9Zi5ub29wLGNiJiZkZWxldGUgY2RbaV0pO2lmKGUpaC5yZWFkeVN0YXRlIT09NCYmaC5hYm9ydCgpO2Vsc2V7aj1oLnN0YXR1cyxsPWguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksbT17fSxuPWgucmVzcG9uc2VYTUwsbiYmbi5kb2N1bWVudEVsZW1lbnQmJihtLnhtbD1uKSxtLnRleHQ9aC5yZXNwb25zZVRleHQ7dHJ5e2s9aC5zdGF0dXNUZXh0fWNhdGNoKG8pe2s9IiJ9IWomJmMuaXNMb2NhbCYmIWMuY3Jvc3NEb21haW4/aj1tLnRleHQ/MjAwOjQwNDpqPT09MTIyMyYmKGo9MjA0KX19fWNhdGNoKHApe2V8fGcoLTEscCl9bSYmZyhqLGssbSxsKX0sIWMuYXN5bmN8fGgucmVhZHlTdGF0ZT09PTQ/ZCgpOihpPSsrY2MsY2ImJihjZHx8KGNkPXt9LGYoYSkudW5sb2FkKGNiKSksY2RbaV09ZCksaC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZCgwLDEpfX19fSk7dmFyIGNnPXt9LGNoLGNpLGNqPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjaz0vXihbK1wtXT0pPyhbXGQrLlwtXSspKFthLXolXSopJC9pLGNsLGNtPVtbImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sWyJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sWyJvcGFjaXR5Il1dLGNuLGNvPWEud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lO2YuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3IoInNob3ciLDMpLGEsYixjKTtmb3IodmFyIGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspZD10aGlzW2ddLGQuc3R5bGUmJihlPWQuc3R5bGUuZGlzcGxheSwhZi5fZGF0YShkLCJvbGRkaXNwbGF5IikmJmU9PT0ibm9uZSImJihlPWQuc3R5bGUuZGlzcGxheT0iIiksZT09PSIiJiZmLmNzcyhkLCJkaXNwbGF5Iik9PT0ibm9uZSImJmYuX2RhdGEoZCwib2xkZGlzcGxheSIsY3MoZC5ub2RlTmFtZSkpKTtmb3IoZz0wO2c8aDtnKyspe2Q9dGhpc1tnXTtpZihkLnN0eWxlKXtlPWQuc3R5bGUuZGlzcGxheTtpZihlPT09IiJ8fGU9PT0ibm9uZSIpZC5zdHlsZS5kaXNwbGF5PWYuX2RhdGEoZCwib2xkZGlzcGxheSIpfHwiIn19cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSxiLGMpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3IoImhpZGUiLDMpLGEsYixjKTtmb3IodmFyIGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspaWYodGhpc1tkXS5zdHlsZSl7dmFyIGc9Zi5jc3ModGhpc1tkXSwiZGlzcGxheSIpO2chPT0ibm9uZSImJiFmLl9kYXRhKHRoaXNbZF0sIm9sZGRpc3BsYXkiKSYmZi5fZGF0YSh0aGlzW2RdLCJvbGRkaXNwbGF5IixnKX1mb3IoZD0wO2Q8ZTtkKyspdGhpc1tkXS5zdHlsZSYmKHRoaXNbZF0uc3R5bGUuZGlzcGxheT0ibm9uZSIpO3JldHVybiB0aGlzfSxfdG9nZ2xlOmYuZm4udG9nZ2xlLHRvZ2dsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dHlwZW9mIGE9PSJib29sZWFuIjtmLmlzRnVuY3Rpb24oYSkmJmYuaXNGdW5jdGlvbihiKT90aGlzLl90b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpOmE9PW51bGx8fGQ/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ZD9hOmYodGhpcykuaXMoIjpoaWRkZW4iKTtmKHRoaXMpW2I/InNob3ciOiJoaWRlIl0oKX0pOnRoaXMuYW5pbWF0ZShjcigidG9nZ2xlIiwzKSxhLGIsYyk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1mLnNwZWVkKGIsYyxkKTtpZihmLmlzRW1wdHlPYmplY3QoYSkpcmV0dXJuIHRoaXMuZWFjaChlLmNvbXBsZXRlLFshMV0pO2E9Zi5leHRlbmQoe30sYSk7cmV0dXJuIHRoaXNbZS5xdWV1ZT09PSExPyJlYWNoIjoicXVldWUiXShmdW5jdGlvbigpe2UucXVldWU9PT0hMSYmZi5fbWFyayh0aGlzKTt2YXIgYj1mLmV4dGVuZCh7fSxlKSxjPXRoaXMubm9kZVR5cGU9PT0xLGQ9YyYmZih0aGlzKS5pcygiOmhpZGRlbiIpLGcsaCxpLGosayxsLG0sbixvO2IuYW5pbWF0ZWRQcm9wZXJ0aWVzPXt9O2ZvcihpIGluIGEpe2c9Zi5jYW1lbENhc2UoaSksaSE9PWcmJihhW2ddPWFbaV0sZGVsZXRlIGFbaV0pLGg9YVtnXSxmLmlzQXJyYXkoaCk/KGIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWhbMV0saD1hW2ddPWhbMF0pOmIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWIuc3BlY2lhbEVhc2luZyYmYi5zcGVjaWFsRWFzaW5nW2ddfHxiLmVhc2luZ3x8InN3aW5nIjtpZihoPT09ImhpZGUiJiZkfHxoPT09InNob3ciJiYhZClyZXR1cm4gYi5jb21wbGV0ZS5jYWxsKHRoaXMpO2MmJihnPT09ImhlaWdodCJ8fGc9PT0id2lkdGgiKSYmKGIub3ZlcmZsb3c9W3RoaXMuc3R5bGUub3ZlcmZsb3csdGhpcy5zdHlsZS5vdmVyZmxvd1gsdGhpcy5zdHlsZS5vdmVyZmxvd1ldLGYuY3NzKHRoaXMsImRpc3BsYXkiKT09PSJpbmxpbmUiJiZmLmNzcyh0aGlzLCJmbG9hdCIpPT09Im5vbmUiJiYoZi5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQ/KGo9Y3ModGhpcy5ub2RlTmFtZSksaj09PSJpbmxpbmUiP3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjoodGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLHRoaXMuc3R5bGUuem9vbT0xKSk6dGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSl9Yi5vdmVyZmxvdyE9bnVsbCYmKHRoaXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpO2ZvcihpIGluIGEpaz1uZXcgZi5meCh0aGlzLGIsaSksaD1hW2ldLGNqLnRlc3QoaCk/a1toPT09InRvZ2dsZSI/ZD8ic2hvdyI6ImhpZGUiOmhdKCk6KGw9Y2suZXhlYyhoKSxtPWsuY3VyKCksbD8obj1wYXJzZUZsb2F0KGxbMl0pLG89bFszXXx8KGYuY3NzTnVtYmVyW2ldPyIiOiJweCIpLG8hPT0icHgiJiYoZi5zdHlsZSh0aGlzLGksKG58fDEpK28pLG09KG58fDEpL2suY3VyKCkqbSxmLnN0eWxlKHRoaXMsaSxtK28pKSxsWzFdJiYobj0obFsxXT09PSItPSI/LTE6MSkqbittKSxrLmN1c3RvbShtLG4sbykpOmsuY3VzdG9tKG0saCwiIikpO3JldHVybiEwfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnF1ZXVlKFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1mLnRpbWVycyxjPWEubGVuZ3RoO2J8fGYuX3VubWFyayghMCx0aGlzKTt3aGlsZShjLS0pYVtjXS5lbGVtPT09dGhpcyYmKGImJmFbY10oITApLGEuc3BsaWNlKGMsMSkpfSksYnx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSksZi5lYWNoKHtzbGlkZURvd246Y3IoInNob3ciLDEpLHNsaWRlVXA6Y3IoImhpZGUiLDEpLHNsaWRlVG9nZ2xlOmNyKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLGYuZXh0ZW5kKHtzcGVlZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmdHlwZW9mIGE9PSJvYmplY3QiP2YuZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8Zi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFmLmlzRnVuY3Rpb24oYikmJmJ9O2QuZHVyYXRpb249Zi5meC5vZmY/MDp0eXBlb2YgZC5kdXJhdGlvbj09Im51bWJlciI/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIGYuZnguc3BlZWRzP2YuZnguc3BlZWRzW2QuZHVyYXRpb25dOmYuZnguc3BlZWRzLl9kZWZhdWx0LGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbihhKXtmLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUhPT0hMT9mLmRlcXVldWUodGhpcyk6YSE9PSExJiZmLl91bm1hcmsodGhpcyl9O3JldHVybiBkfSxlYXNpbmc6e2xpbmVhcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYytkKmF9LHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybigtTWF0aC5jb3MoYSpNYXRoLlBJKS8yKy41KSpkK2N9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBoKGEpe3JldHVybiBkLnN0ZXAoYSl9dmFyIGQ9dGhpcyxlPWYuZngsZzt0aGlzLnN0YXJ0VGltZT1jbnx8Y3AoKSx0aGlzLnN0YXJ0PWEsdGhpcy5lbmQ9Yix0aGlzLnVuaXQ9Y3x8dGhpcy51bml0fHwoZi5jc3NOdW1iZXJbdGhpcy5wcm9wXT8iIjoicHgiKSx0aGlzLm5vdz10aGlzLnN0YXJ0LHRoaXMucG9zPXRoaXMuc3RhdGU9MCxoLmVsZW09dGhpcy5lbGVtLGgoKSYmZi50aW1lcnMucHVzaChoKSYmIWNsJiYoY28/KGNsPSEwLGc9ZnVuY3Rpb24oKXtjbCYmKGNvKGcpLGUudGljaygpKX0sY28oZykpOmNsPXNldEludGVydmFsKGUudGljayxlLmludGVydmFsKSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLnNob3c9ITAsdGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpLGYodGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLmhpZGU9ITAsdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYj1jbnx8Y3AoKSxjPSEwLGQ9dGhpcy5lbGVtLGU9dGhpcy5vcHRpb25zLGcsaDtpZihhfHxiPj1lLmR1cmF0aW9uK3RoaXMuc3RhcnRUaW1lKXt0aGlzLm5vdz10aGlzLmVuZCx0aGlzLnBvcz10aGlzLnN0YXRlPTEsdGhpcy51cGRhdGUoKSxlLmFuaW1hdGVkUHJvcGVydGllc1t0aGlzLnByb3BdPSEwO2ZvcihnIGluIGUuYW5pbWF0ZWRQcm9wZXJ0aWVzKWUuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddIT09ITAmJihjPSExKTtpZihjKXtlLm92ZXJmbG93IT1udWxsJiYhZi5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3MmJmYuZWFjaChbIiIsIlgiLCJZIl0sZnVuY3Rpb24oYSxiKXtkLnN0eWxlWyJvdmVyZmxvdyIrYl09ZS5vdmVyZmxvd1thXX0pLGUuaGlkZSYmZihkKS5oaWRlKCk7aWYoZS5oaWRlfHxlLnNob3cpZm9yKHZhciBpIGluIGUuYW5pbWF0ZWRQcm9wZXJ0aWVzKWYuc3R5bGUoZCxpLGUub3JpZ1tpXSk7ZS5jb21wbGV0ZS5jYWxsKGQpfXJldHVybiExfWUuZHVyYXRpb249PUluZmluaXR5P3RoaXMubm93PWI6KGg9Yi10aGlzLnN0YXJ0VGltZSx0aGlzLnN0YXRlPWgvZS5kdXJhdGlvbix0aGlzLnBvcz1mLmVhc2luZ1tlLmFuaW1hdGVkUHJvcGVydGllc1t0aGlzLnByb3BdXSh0aGlzLnN0YXRlLGgsMCwxLGUuZHVyYXRpb24pLHRoaXMubm93PXRoaXMuc3RhcnQrKHRoaXMuZW5kLXRoaXMuc3RhcnQpKnRoaXMucG9zKSx0aGlzLnVwZGF0ZSgpO3JldHVybiEwfX0sZi5leHRlbmQoZi5meCx7dGljazpmdW5jdGlvbigpe2Zvcih2YXIgYT1mLnRpbWVycyxiPTA7YjxhLmxlbmd0aDsrK2IpYVtiXSgpfHxhLnNwbGljZShiLS0sMSk7YS5sZW5ndGh8fGYuZnguc3RvcCgpfSxpbnRlcnZhbDoxMyxzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChjbCksY2w9bnVsbH0sc3BlZWRzOntzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHN0ZXA6e29wYWNpdHk6ZnVuY3Rpb24oYSl7Zi5zdHlsZShhLmVsZW0sIm9wYWNpdHkiLGEubm93KX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7YS5lbGVtLnN0eWxlJiZhLmVsZW0uc3R5bGVbYS5wcm9wXSE9bnVsbD9hLmVsZW0uc3R5bGVbYS5wcm9wXT0oYS5wcm9wPT09IndpZHRoInx8YS5wcm9wPT09ImhlaWdodCI/TWF0aC5tYXgoMCxhLm5vdyk6YS5ub3cpK2EudW5pdDphLmVsZW1bYS5wcm9wXT1hLm5vd319fSksZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBmLmdyZXAoZi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9KTt2YXIgY3Q9L150KD86YWJsZXxkfGgpJC9pLGN1PS9eKD86Ym9keXxodG1sKSQvaTsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0ImluIGMuZG9jdW1lbnRFbGVtZW50P2YuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF0sYztpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTt0cnl7Yz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGQpe312YXIgZT1iLm93bmVyRG9jdW1lbnQsZz1lLmRvY3VtZW50RWxlbWVudDtpZighY3x8IWYuY29udGFpbnMoZyxiKSlyZXR1cm4gYz97dG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fTp7dG9wOjAsbGVmdDowfTt2YXIgaD1lLmJvZHksaT1jdihlKSxqPWcuY2xpZW50VG9wfHxoLmNsaWVudFRvcHx8MCxrPWcuY2xpZW50TGVmdHx8aC5jbGllbnRMZWZ0fHwwLGw9aS5wYWdlWU9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3AsbT1pLnBhZ2VYT2Zmc2V0fHxmLnN1cHBvcnQuYm94TW9kZWwmJmcuc2Nyb2xsTGVmdHx8aC5zY3JvbGxMZWZ0LG49Yy50b3ArbC1qLG89Yy5sZWZ0K20taztyZXR1cm57dG9wOm4sbGVmdDpvfX06Zi5mbi5vZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTtmLm9mZnNldC5pbml0aWFsaXplKCk7dmFyIGMsZD1iLm9mZnNldFBhcmVudCxlPWIsZz1iLm93bmVyRG9jdW1lbnQsaD1nLmRvY3VtZW50RWxlbWVudCxpPWcuYm9keSxqPWcuZGVmYXVsdFZpZXcsaz1qP2ouZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmIuY3VycmVudFN0eWxlLGw9Yi5vZmZzZXRUb3AsbT1iLm9mZnNldExlZnQ7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmYiE9PWkmJmIhPT1oKXtpZihmLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiKWJyZWFrO2M9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsLT1iLnNjcm9sbFRvcCxtLT1iLnNjcm9sbExlZnQsYj09PWQmJihsKz1iLm9mZnNldFRvcCxtKz1iLm9mZnNldExlZnQsZi5vZmZzZXQuZG9lc05vdEFkZEJvcmRlciYmKCFmLm9mZnNldC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsc3x8IWN0LnRlc3QoYi5ub2RlTmFtZSkpJiYobCs9cGFyc2VGbG9hdChjLmJvcmRlclRvcFdpZHRoKXx8MCxtKz1wYXJzZUZsb2F0KGMuYm9yZGVyTGVmdFdpZHRoKXx8MCksZT1kLGQ9Yi5vZmZzZXRQYXJlbnQpLGYub2Zmc2V0LnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZSYmYy5vdmVyZmxvdyE9PSJ2aXNpYmxlIiYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGs9Y31pZihrLnBvc2l0aW9uPT09InJlbGF0aXZlInx8ay5wb3NpdGlvbj09PSJzdGF0aWMiKWwrPWkub2Zmc2V0VG9wLG0rPWkub2Zmc2V0TGVmdDtmLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiJiYobCs9TWF0aC5tYXgoaC5zY3JvbGxUb3AsaS5zY3JvbGxUb3ApLG0rPU1hdGgubWF4KGguc2Nyb2xsTGVmdCxpLnNjcm9sbExlZnQpKTtyZXR1cm57dG9wOmwsbGVmdDptfX0sZi5vZmZzZXQ9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1jLmJvZHksYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQsZSxnLGgsaT1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxqPSI8ZGl2IHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnPjxkaXY+PC9kaXY+PC9kaXY+PHRhYmxlIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+PHRyPjx0ZD48L3RkPjwvdHI+PC90YWJsZT4iO2YuZXh0ZW5kKGIuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOjAsbGVmdDowLG1hcmdpbjowLGJvcmRlcjowLHdpZHRoOiIxcHgiLGhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSksYi5pbm5lckhUTUw9aixhLmluc2VydEJlZm9yZShiLGEuZmlyc3RDaGlsZCksZD1iLmZpcnN0Q2hpbGQsZT1kLmZpcnN0Q2hpbGQsaD1kLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCx0aGlzLmRvZXNOb3RBZGRCb3JkZXI9ZS5vZmZzZXRUb3AhPT01LHRoaXMuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHM9aC5vZmZzZXRUb3A9PT01LGUuc3R5bGUucG9zaXRpb249ImZpeGVkIixlLnN0eWxlLnRvcD0iMjBweCIsdGhpcy5zdXBwb3J0c0ZpeGVkUG9zaXRpb249ZS5vZmZzZXRUb3A9PT0yMHx8ZS5vZmZzZXRUb3A9PT0xNSxlLnN0eWxlLnBvc2l0aW9uPWUuc3R5bGUudG9wPSIiLGQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLHRoaXMuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlPWUub2Zmc2V0VG9wPT09LTUsdGhpcy5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldD1hLm9mZnNldFRvcCE9PWksYS5yZW1vdmVDaGlsZChiKSxmLm9mZnNldC5pbml0aWFsaXplPWYubm9vcH0sYm9keU9mZnNldDpmdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFRvcCxjPWEub2Zmc2V0TGVmdDtmLm9mZnNldC5pbml0aWFsaXplKCksZi5vZmZzZXQuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQmJihiKz1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjKz1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDApO3JldHVybnt0b3A6YixsZWZ0OmN9fSxzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWYuY3NzKGEsInBvc2l0aW9uIik7ZD09PSJzdGF0aWMiJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZT1mKGEpLGc9ZS5vZmZzZXQoKSxoPWYuY3NzKGEsInRvcCIpLGk9Zi5jc3MoYSwibGVmdCIpLGo9KGQ9PT0iYWJzb2x1dGUifHxkPT09ImZpeGVkIikmJmYuaW5BcnJheSgiYXV0byIsW2gsaV0pPi0xLGs9e30sbD17fSxtLG47aj8obD1lLnBvc2l0aW9uKCksbT1sLnRvcCxuPWwubGVmdCk6KG09cGFyc2VGbG9hdChoKXx8MCxuPXBhcnNlRmxvYXQoaSl8fDApLGYuaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxnKSksYi50b3AhPW51bGwmJihrLnRvcD1iLnRvcC1nLnRvcCttKSxiLmxlZnQhPW51bGwmJihrLmxlZnQ9Yi5sZWZ0LWcubGVmdCtuKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxrKTplLmNzcyhrKX19LGYuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXJldHVybiBudWxsO3ZhciBhPXRoaXNbMF0sYj10aGlzLm9mZnNldFBhcmVudCgpLGM9dGhpcy5vZmZzZXQoKSxkPWN1LnRlc3QoYlswXS5ub2RlTmFtZSk/e3RvcDowLGxlZnQ6MH06Yi5vZmZzZXQoKTtjLnRvcC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYy5sZWZ0LT1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDAsZC50b3ArPXBhcnNlRmxvYXQoZi5jc3MoYlswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsZC5sZWZ0Kz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MDtyZXR1cm57dG9wOmMudG9wLWQudG9wLGxlZnQ6Yy5sZWZ0LWQubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxjLmJvZHk7d2hpbGUoYSYmIWN1LnRlc3QoYS5ub2RlTmFtZSkmJmYuY3NzKGEsInBvc2l0aW9uIik9PT0ic3RhdGljIilhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfSl9fSksZi5lYWNoKFsiTGVmdCIsIlRvcCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9InNjcm9sbCIrYztmLmZuW2RdPWZ1bmN0aW9uKGMpe3ZhciBlLGc7aWYoYz09PWIpe2U9dGhpc1swXTtpZighZSlyZXR1cm4gbnVsbDtnPWN2KGUpO3JldHVybiBnPyJwYWdlWE9mZnNldCJpbiBnP2dbYT8icGFnZVlPZmZzZXQiOiJwYWdlWE9mZnNldCJdOmYuc3VwcG9ydC5ib3hNb2RlbCYmZy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZF18fGcuZG9jdW1lbnQuYm9keVtkXTplW2RdfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnPWN2KHRoaXMpLGc/Zy5zY3JvbGxUbyhhP2YoZykuc2Nyb2xsTGVmdCgpOmMsYT9jOmYoZykuc2Nyb2xsVG9wKCkpOnRoaXNbZF09Y30pfX0pLGYuZWFjaChbIkhlaWdodCIsIldpZHRoIl0sZnVuY3Rpb24oYSxjKXt2YXIgZD1jLnRvTG93ZXJDYXNlKCk7Zi5mblsiaW5uZXIiK2NdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpc1swXTtyZXR1cm4gYSYmYS5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGEsZCwicGFkZGluZyIpKTpudWxsfSxmLmZuWyJvdXRlciIrY109ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtyZXR1cm4gYiYmYi5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGIsZCxhPyJtYXJnaW4iOiJib3JkZXIiKSk6bnVsbH0sZi5mbltkXT1mdW5jdGlvbihhKXt2YXIgZT10aGlzWzBdO2lmKCFlKXJldHVybiBhPT1udWxsP251bGw6dGhpcztpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2NbZF0oYS5jYWxsKHRoaXMsYixjW2RdKCkpKX0pO2lmKGYuaXNXaW5kb3coZSkpe3ZhciBnPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2NdO3JldHVybiBlLmRvY3VtZW50LmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCImJmd8fGUuZG9jdW1lbnQuYm9keVsiY2xpZW50IitjXXx8Z31pZihlLm5vZGVUeXBlPT09OSlyZXR1cm4gTWF0aC5tYXgoZS5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY10sZS5ib2R5WyJzY3JvbGwiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2NdLGUuYm9keVsib2Zmc2V0IitjXSxlLmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitjXSk7aWYoYT09PWIpe3ZhciBoPWYuY3NzKGUsZCksaT1wYXJzZUZsb2F0KGgpO3JldHVybiBmLmlzTmFOKGkpP2g6aX1yZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgYT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1mfSkod2luZG93KTs=", "content_type": "application/javascript"}, "images/ajax-loader.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAACMAAAAjBAMAAADs965qAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX////x8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHvvEhiAAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAEaSURBVCiRY2AgATCapaUqoIiIzN5z5syZJiQRltW7gUJ3705C6OraDRG6GwATkli1evdusNBTuKJVq3c4MjBX3733DqqMfdWqFWDbau+9ewIRspy5KgHMYL737g1EX+fMaVAjbN+9KwDLzZxZAHPMu3cXwEbNnAl397p3YDslOmD6GBjs/v8AURodzXAh3v+/QZRHRyNciPP/f4hQA1yIHVMICtzLC9CFzMuL0IXEy0vQhdjK0+BsRqgv0tIMYEKCggJgmbS0QJgiQUEIwy0tVQCmCCokmhYaCFMElWMKDQ01BIkoKcKEGFRDQ1yMlISUgEIwe5iAQi7GxkpKSjBFwMh2cXEGCSkiOVcFLIQswsAgZGxshCpCBgAA0FNYp5zwDegAAAAASUVORK5CYII=", "content_type": "image/png"}, "google-spreadsheet-javascript/tests/testsCallbackData.json": {"data": "eyJ2ZXJzaW9uIjoiMS4wIiwiZW5jb2RpbmciOiJVVEYtOCIsImZlZWQiOnsieG1sbnMiOiJodHRwOi8vd3d3LnczLm9yZy8yMDA1L0F0b20iLCJ4bWxucyRvcGVuU2VhcmNoIjoiaHR0cDovL2E5LmNvbS8tL3NwZWMvb3BlbnNlYXJjaHJzcy8xLjAvIiwieG1sbnMkZ3N4IjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNi9leHRlbmRlZCIsImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMifSwidXBkYXRlZCI6eyIkdCI6IjIwMTAtMTEtMDdUMTc6NTI6NTQuMDUyWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2xpc3QifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJTaGVldDEifSwibGluayI6W3sicmVsIjoiYWx0ZXJuYXRlIiwidHlwZSI6InRleHQvaHRtbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL3B1Yj9rZXk9MEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMifSx7InJlbCI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vZy8yMDA1I2ZlZWQiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMifSx7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWM/YWx0PWpzb24taW4tc2NyaXB0In1dLCJhdXRob3IiOlt7Im5hbWUiOnsiJHQiOiJtaWtleW1ja2F5In0sImVtYWlsIjp7IiR0IjoibWlrZXltY2theUBnbWFpbC5jb20ifX1dLCJvcGVuU2VhcmNoJHRvdGFsUmVzdWx0cyI6eyIkdCI6IjEwIn0sIm9wZW5TZWFyY2gkc3RhcnRJbmRleCI6eyIkdCI6IjEifSwiZW50cnkiOlt7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY3B6aDQifSwidXBkYXRlZCI6eyIkdCI6IjIwMTAtMTEtMDdUMTc6NTI6NTQuMDUyWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2xpc3QifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJSb3c6IDIifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoidGV4dDogUGF0aWVudCBoYXMgY29uZmlybWVkIGlkZW50aXR5In0sImxpbmsiOlt7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY3B6aDQifV19LHsiaWQiOnsiJHQiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jcmUxbCJ9LCJ1cGRhdGVkIjp7IiR0IjoiMjAxMC0xMS0wN1QxNzo1Mjo1NC4wNTJaIn0sImNhdGVnb3J5IjpbeyJzY2hlbWUiOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2IiwidGVybSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYjbGlzdCJ9XSwidGl0bGUiOnsidHlwZSI6InRleHQiLCIkdCI6IlJvdzogMyJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJ0ZXh0OiBQYXRpZW50IGhhcyBjb25maXJtZWQgc2l0ZSJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2NyZTFsIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY2hrMm0ifSwidXBkYXRlZCI6eyIkdCI6IjIwMTAtMTEtMDdUMTc6NTI6NTQuMDUyWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2xpc3QifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJSb3c6IDQifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoidGV4dDogUGF0aWVudCBoYXMgY29uZmlybWVkIHByb2NlZHVyZSJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2NoazJtIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY2l5bjMifSwidXBkYXRlZCI6eyIkdCI6IjIwMTAtMTEtMDdUMTc6NTI6NTQuMDUyWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2xpc3QifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJSb3c6IDUifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoidGV4dDogUGF0aWVudCBoYXMgY29uZmlybWVkIGNvbnNlbnQifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jaXluMyJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2NrZDdnIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDEwLTExLTA3VDE3OjUyOjU0LjA1MloifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNsaXN0In1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUm93OiA2In0sImNvbnRlbnQiOnsidHlwZSI6InRleHQiLCIkdCI6InRleHQ6IFNpdGUgbWFya2VkL05vdCBhcHBsaWNhYmxlIn0sImxpbmsiOlt7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY2tkN2cifV19LHsiaWQiOnsiJHQiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jbHJyeCJ9LCJ1cGRhdGVkIjp7IiR0IjoiMjAxMC0xMS0wN1QxNzo1Mjo1NC4wNTJaIn0sImNhdGVnb3J5IjpbeyJzY2hlbWUiOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2IiwidGVybSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYjbGlzdCJ9XSwidGl0bGUiOnsidHlwZSI6InRleHQiLCIkdCI6IlJvdzogNyJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJ0ZXh0OiBBbmVzdGhlc2lhIHNhZmV0eSBjaGVjayBjb21wbGV0ZWQifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jbHJyeCJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2N5ZXZtIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDEwLTExLTA3VDE3OjUyOjU0LjA1MloifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNsaXN0In1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUm93OiA4In0sImNvbnRlbnQiOnsidHlwZSI6InRleHQiLCIkdCI6InRleHQ6IFB1bHNlIG94aW1ldGVyIG9uIHBhdGllbnQgYW5kIGZ1bmN0aW9uaW5nIn0sImxpbmsiOlt7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvY3lldm0ifV19LHsiaWQiOnsiJHQiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jenRnMyJ9LCJ1cGRhdGVkIjp7IiR0IjoiMjAxMC0xMS0wN1QxNzo1Mjo1NC4wNTJaIn0sImNhdGVnb3J5IjpbeyJzY2hlbWUiOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2IiwidGVybSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYjbGlzdCJ9XSwidGl0bGUiOnsidHlwZSI6InRleHQiLCIkdCI6IlJvdzogOSJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJ0ZXh0OiBEb2VzIHBhdGllbnQgaGF2ZSBhIGtub3duIGFsbGVyZ3kifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9jenRnMyJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2QxODBnIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDEwLTExLTA3VDE3OjUyOjU0LjA1MloifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNsaXN0In1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUm93OiAxMCJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJ0ZXh0OiBEb2VzIHBhdGllbnQgaGF2ZSBhIGRpZmZpY3VsdCBhaXJ3YXkvYXNwaXJhdGlvbiByaXNrPyJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2QxODBnIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvZDJta3gifSwidXBkYXRlZCI6eyIkdCI6IjIwMTAtMTEtMDdUMTc6NTI6NTQuMDUyWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2xpc3QifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJSb3c6IDExIn0sImNvbnRlbnQiOnsidHlwZSI6InRleHQiLCIkdCI6InRleHQ6IFJpc2sgb2YgPiA1MDBtbCBibG9vZCBsb3NzICg3bWwva2cgaW4gY2hpbGRyZW4pPyJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvbGlzdC8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL2QybWt4In1dfV19fQo=", "content_type": "application/json"}, "images/icons-36-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAABFwAAAAkBAMAAABGaTNFAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMC8xNi8xMNNnoNMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAFnUlEQVR4nO1aQYtbVRRO8jJp3qSDFbpRwpgfUDvjyoKYjhpw0UXcuTNxpSgl1U2hLmZ0ISNFpvoDfF0IXUZxo0SIrStBiLhVCFpcCEpaqu2Mk+R477vJ6CTm+47mZVC8H8ME8k7uPe/e737nnHtvKuXh4eHh4eHh4eHh4cFwQmGTYQb3J+CIx38A6S8URuUrpJEvNaTz+FdD5BY3KgqhgkHQ22ONXFf6RPE8N1n6mNucnPomaCl+lhBy68lZHQ3SF2K6vMLsykKoYJATzKl0R27+DdcQMrvcZlXqzCQvP0x+lZX9f+TRYQSv2/8PkoluqIZDZ5UUzpTQ0+KepUvYJ1EiW+nJVdZTpSG/oeenZFhJaKWEQx7WIvmOmTRkqp1k6FK2A5ru4InOyVAxHDqrpJDu7IKRNQv+isjtiESJl0R6MsAd5ToyFPlqtkGmZw3ex62IjP4w1uQCsUgFIlSCmiIbE18lQpegZwe0SCY6FI3aNoSrZHLIi2zNfnpcRoDycsrZACqYEerGNoBTp10rH0J3lXSJsDMWBdMXW5ab0yaJ0KVgB9QsRfkAmkUK4TAR/i7tL5yKqRN4ef3PHwBVGQAmhGO6oMzErJUY36N+nnM2IEiM6DKALuvoklGMYeNepolny67/qfdOhC6WKdeLZBHq5EUlLpE8A5/nXD852l26K7/gjhxQjroqcu1FIx4lYGMizY8X3xaULpg57l+8JDju6ehi5G6IB8i8+K1UlXLqhY3Jb5LJXSxVOuRVUxp5UYmLiSB3oEHV9fMXqdp0S1fR82XHFpiiRnLDKszXyKYg/ZIpn/aROw/b1fY4zygIHr3ciX3+ZnsDWOVNvVdVJMSH8Fir9akMW63W1hz+WaQ7NMJbGHkhYSTSiItRIE2WRKiXXY95BXzObl8W+TzTlP72mzONMjaclcm7nzUryVCKFdLWaIhsFBgLIl68a5YuKG2LMVGpVcctoyh20D1quMj8czDvAlUy1IhLzvaFw0wsYySunb5rY9GvwCJvc4kTqRXzMVuCc9bjMnn3HVNi6LbpduAAKYLRQb4FCdyM6YI12jh0WOqSo4uVFyou8bug+dGKy7CpkBciLsbj+jKORZYuu+5jNl3yctukuz/hd2/bkkh1CLAGl7wmdxnLCyJwVmK6kDxksjI6crrkcJGR6upqp5s0aTbysompZ5rYreHkRkWXQly0PpKuPAFaatvfq44Y75ubLqFCXI6bfOzbNlub7Yl9l5OVytPSr1TgbmKSwahBNsJXVLWToRRLmuMxg3HN1b/QRBWMlt2Z0jFYYrXV9cT8dBnJC5yMzdGU4o3dSbqkkqqMlKkuExeNvORiRinkha2dMpNVl+reIKlu3mUAITyJjERbhNT4hizDQzETUAqUNktl+Jawjd2F0UVZSPNNFb41MyqSI1IkF2jSbOVlWMI2ikI661bAmnwGjBq0CBmjDfdvVHB0qQMLK5t3TFZNNnYXRRflNp1mU4VuzYSOTyFrqkvvFBh5uUe9cUBNde3M2MQZ2KwqCr4YeTwdqmDkMtItYHFWbKpbY+q6KLooDwE0O7ZcXt5zdIpIUyv0SsES81d3CFCTvVLqvPRRQ8dE3mDuWARNvMusossmrV7aNg7FCQRk8aLoojtiVO3Yqg6WEkKNCb/qiNFyqstI3lQdrwZEFXR02ZHBJXjiGcTvFKf68Bx9YbmL6gJDqDpr1lklgiUmQLoLDDYHYBx/QLBsOGRZeFTRpT2op86hzDs4KHYxXaJpuqQrT8G+dQji+2bselSkCuA6q0SwwQxU16OWjLbIO6Sl8zq67FOXOH6um3/nUHdntsd4FTWEj+sXjrCenNXRQHf5MnjtE3459tmPeHfBtSTisNsvfHL+hrKtd+dv5H8G1dVuDw8PDw8PDw8PDw8PDw8Pjz/wO033ekvubhagAAAAAElFTkSuQmCC", "content_type": "image/png"}, "google-spreadsheet-javascript/google-spreadsheet.js": {"data": "LyoKVXBkYXRlZCB2ZXJzaW9ucyBjYW4gYmUgZm91bmQgYXQgaHR0cHM6Ly9naXRodWIuY29tL21pa2V5bWNrYXkvZ29vZ2xlLXNwcmVhZHNoZWV0LWphdmFzY3JpcHQKKi92YXIgR29vZ2xlU3ByZWFkc2hlZXQsIEdvb2dsZVVybDsKR29vZ2xlVXJsID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIEdvb2dsZVVybChzb3VyY2VJZGVudGlmaWVyKSB7CiAgICB0aGlzLnNvdXJjZUlkZW50aWZpZXIgPSBzb3VyY2VJZGVudGlmaWVyOwogICAgaWYgKHRoaXMuc291cmNlSWRlbnRpZmllci5tYXRjaCgvaHR0cChzKSo6LykpIHsKICAgICAgdGhpcy51cmwgPSB0aGlzLnNvdXJjZUlkZW50aWZpZXI7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5rZXkgPSB0aGlzLnVybC5tYXRjaCgva2V5PSguKj8pJi8pWzFdOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMua2V5ID0gdGhpcy51cmwubWF0Y2goLyhjZWxsc3xsaXN0KVwvKC4qPylcLy8pWzJdOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLmtleSA9IHRoaXMuc291cmNlSWRlbnRpZmllcjsKICAgIH0KICAgIHRoaXMuanNvbkNlbGxzVXJsID0gImh0dHA6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8iICsgdGhpcy5rZXkgKyAiL29kNi9wdWJsaWMvYmFzaWM/YWx0PWpzb24taW4tc2NyaXB0IjsKICAgIHRoaXMuanNvbkxpc3RVcmwgPSAiaHR0cDovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2xpc3QvIiArIHRoaXMua2V5ICsgIi9vZDYvcHVibGljL2Jhc2ljP2FsdD1qc29uLWluLXNjcmlwdCI7CiAgICB0aGlzLmpzb25VcmwgPSB0aGlzLmpzb25DZWxsc1VybDsKICB9CiAgcmV0dXJuIEdvb2dsZVVybDsKfSkoKTsKR29vZ2xlU3ByZWFkc2hlZXQgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gR29vZ2xlU3ByZWFkc2hlZXQoKSB7fQogIEdvb2dsZVNwcmVhZHNoZWV0LnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciBpbnRlcnZhbElkLCBqc29uVXJsLCBzYWZldHlDb3VudGVyLCB1cmwsIHdhaXRVbnRpbExvYWRlZDsKICAgIHVybCA9IHRoaXMuZ29vZ2xlVXJsLmpzb25DZWxsc1VybCArICImY2FsbGJhY2s9R29vZ2xlU3ByZWFkc2hlZXQuY2FsbGJhY2tDZWxscyI7CiAgICAkKCdib2R5JykuYXBwZW5kKCI8c2NyaXB0IHNyYz0nIiArIHVybCArICInLz4iKTsKICAgIGpzb25VcmwgPSB0aGlzLmpzb25Vcmw7CiAgICBzYWZldHlDb3VudGVyID0gMDsKICAgIHdhaXRVbnRpbExvYWRlZCA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgcmVzdWx0OwogICAgICByZXN1bHQgPSBHb29nbGVTcHJlYWRzaGVldC5maW5kKHsKICAgICAgICBqc29uVXJsOiBqc29uVXJsCiAgICAgIH0pOwogICAgICBpZiAoc2FmZXR5Q291bnRlcisrID4gMzAgfHwgKChyZXN1bHQgIT0gbnVsbCkgJiYgKHJlc3VsdC5kYXRhICE9IG51bGwpKSkgewogICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgIH0KICAgIH07CiAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwod2FpdFVudGlsTG9hZGVkLCAyMDApOwogICAgaWYgKHR5cGVvZiByZXN1bHQgIT0gInVuZGVmaW5lZCIgJiYgcmVzdWx0ICE9PSBudWxsKSB7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsKICBHb29nbGVTcHJlYWRzaGVldC5wcm90b3R5cGUudXJsID0gZnVuY3Rpb24odXJsKSB7CiAgICByZXR1cm4gdGhpcy5nb29nbGVVcmwobmV3IEdvb2dsZVVybCh1cmwpKTsKICB9OwogIEdvb2dsZVNwcmVhZHNoZWV0LnByb3RvdHlwZS5nb29nbGVVcmwgPSBmdW5jdGlvbihnb29nbGVVcmwpIHsKICAgIGlmICh0eXBlb2YgZ29vZ2xlVXJsID09PSAic3RyaW5nIikgewogICAgICB0aHJvdyAiSW52YWxpZCB1cmwsIGV4cGVjdGluZyBvYmplY3Qgbm90IHN0cmluZyI7CiAgICB9CiAgICB0aGlzLnVybCA9IGdvb2dsZVVybC51cmw7CiAgICB0aGlzLmtleSA9IGdvb2dsZVVybC5rZXk7CiAgICB0aGlzLmpzb25VcmwgPSBnb29nbGVVcmwuanNvblVybDsKICAgIHJldHVybiB0aGlzLmdvb2dsZVVybCA9IGdvb2dsZVVybDsKICB9OwogIEdvb2dsZVNwcmVhZHNoZWV0LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlWyJHb29nbGVTcHJlYWRzaGVldC4iICsgdGhpcy5rZXldID0gSlNPTi5zdHJpbmdpZnkodGhpcyk7CiAgfTsKICByZXR1cm4gR29vZ2xlU3ByZWFkc2hlZXQ7Cn0pKCk7Ckdvb2dsZVNwcmVhZHNoZWV0LmJsZXNzID0gZnVuY3Rpb24ob2JqZWN0KSB7CiAgdmFyIGtleSwgcmVzdWx0LCB2YWx1ZTsKICByZXN1bHQgPSBuZXcgR29vZ2xlU3ByZWFkc2hlZXQoKTsKICBmb3IgKGtleSBpbiBvYmplY3QpIHsKICAgIHZhbHVlID0gb2JqZWN0W2tleV07CiAgICByZXN1bHRba2V5XSA9IHZhbHVlOwogIH0KICByZXR1cm4gcmVzdWx0Owp9OwpHb29nbGVTcHJlYWRzaGVldC5maW5kID0gZnVuY3Rpb24ocGFyYW1zKSB7CiAgdmFyIGl0ZW0sIGl0ZW1PYmplY3QsIGtleSwgdmFsdWUsIF9pLCBfbGVuOwogIHRyeSB7CiAgICBmb3IgKGl0ZW0gaW4gbG9jYWxTdG9yYWdlKSB7CiAgICAgIGlmIChpdGVtLm1hdGNoKC9eR29vZ2xlU3ByZWFkc2hlZXRcLi8pKSB7CiAgICAgICAgaXRlbU9iamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2l0ZW1dKTsKICAgICAgICBmb3IgKGtleSBpbiBwYXJhbXMpIHsKICAgICAgICAgIHZhbHVlID0gcGFyYW1zW2tleV07CiAgICAgICAgICBpZiAoaXRlbU9iamVjdFtrZXldID09PSB2YWx1ZSkgewogICAgICAgICAgICByZXR1cm4gR29vZ2xlU3ByZWFkc2hlZXQuYmxlc3MoaXRlbU9iamVjdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gbG9jYWxTdG9yYWdlLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIGl0ZW0gPSBsb2NhbFN0b3JhZ2VbX2ldOwogICAgICBpZiAoaXRlbS5tYXRjaCgvXkdvb2dsZVNwcmVhZHNoZWV0XC4vKSkgewogICAgICAgIGl0ZW1PYmplY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVtpdGVtXSk7CiAgICAgICAgZm9yIChrZXkgaW4gcGFyYW1zKSB7CiAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1trZXldOwogICAgICAgICAgaWYgKGl0ZW1PYmplY3Rba2V5XSA9PT0gdmFsdWUpIHsKICAgICAgICAgICAgcmV0dXJuIEdvb2dsZVNwcmVhZHNoZWV0LmJsZXNzKGl0ZW1PYmplY3QpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KICByZXR1cm4gbnVsbDsKfTsKR29vZ2xlU3ByZWFkc2hlZXQuY2FsbGJhY2tDZWxscyA9IGZ1bmN0aW9uKGRhdGEpIHsKICB2YXIgY2VsbCwgZ29vZ2xlU3ByZWFkc2hlZXQsIGdvb2dsZVVybDsKICBnb29nbGVVcmwgPSBuZXcgR29vZ2xlVXJsKGRhdGEuZmVlZC5pZC4kdCk7CiAgZ29vZ2xlU3ByZWFkc2hlZXQgPSBHb29nbGVTcHJlYWRzaGVldC5maW5kKHsKICAgIGpzb25Vcmw6IGdvb2dsZVVybC5qc29uVXJsCiAgfSk7CiAgaWYgKGdvb2dsZVNwcmVhZHNoZWV0ID09PSBudWxsKSB7CiAgICBnb29nbGVTcHJlYWRzaGVldCA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgpOwogICAgZ29vZ2xlU3ByZWFkc2hlZXQuZ29vZ2xlVXJsKGdvb2dsZVVybCk7CiAgfQogIGdvb2dsZVNwcmVhZHNoZWV0LmRhdGEgPSAoZnVuY3Rpb24oKSB7CiAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzOwogICAgX3JlZiA9IGRhdGEuZmVlZC5lbnRyeTsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgY2VsbCA9IF9yZWZbX2ldOwogICAgICBfcmVzdWx0cy5wdXNoKGNlbGwuY29udGVudC4kdCk7CiAgICB9CiAgICByZXR1cm4gX3Jlc3VsdHM7CiAgfSkoKTsKICBnb29nbGVTcHJlYWRzaGVldC5zYXZlKCk7CiAgcmV0dXJuIGdvb2dsZVNwcmVhZHNoZWV0Owp9OwovKiBUT0RPIChIYW5kbGUgcm93IGJhc2VkIGRhdGEpCkdvb2dsZVNwcmVhZHNoZWV0LmNhbGxiYWNrTGlzdCA9IChkYXRhKSAtPiov", "content_type": "application/javascript"}, "js-libraries/jquery-mobile/images/icons-36-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAABgwAAAAkCAMAAABi4eHNAAABFFBMVEUAAAAAAAAREREhHR4iIiIwLC0zMzM0MTI/OzxERERGRkZKRkdNSktOTk5VVVVYVVVcWVpcXFxmZmZua2xxb3B3d3d5dnd6d3h7eHmGhoaIhYaIiIiJhoeMjIyXlpaXl5eYmJiZmZmdm5umpaWopqaop6eqqqqrqqqtra2zsrK1tLS1tbW4uLi7u7u/vr7CwcLEw8PExMTGxsbKysrMzMzNzc3Ozs7R0dHT09PU09Pb29vd3d3e3t7f39/g4ODh4eHi4uLj4+Pk5OTl5OTl5eXm5ubn5+fo6Ojp6enr6+vu7e7u7u7v7+/w8PDx8PDx8fHy8vLz8/P09PT19fX29vb4+Pj5+fn6+vr7+/v8/Pz9/f3///8tbfiZAAAAAXRSTlMAQObYZgAAC+VJREFUeNrtXX1/27YRFmGWMZeEyZhw3sY1G/eibcm4ZJuyZmVmy66lyoVdO27aeNb3/x4jCAIEJUoi784WY+P5I5b4E58AIHDP3eGFg4GFhYWFhYWFhYWFhQTP1oHfMo3JKCk5x1aQiMfCwsLi3mpBazNORLOCjxNVz+qBhYWFRTPeb8Kt0pQ4Xbr9FFQ5Kh4LCwuLO47TjVb89BZp1rCdElXOqoHF/Yr8bRtYfL5iQBFbwHhGaQ47eixgcAQiEqqQjWi0wEMThU5iH60Vg+2IAU2mCcQTMzfHXXvGmeemZI6m7w7v7miIfKgnwIeGGHB0E4WOQ6IG3EMT5UXpnRoMh1QDg6SR09Hd6P6n/23Er3+hP54iaAy0FoM1HJ1qBuGJxWhmPXk0Sdb8uXuXz+tEpAbcz7nurBqkwpaDFhnkRjfRYiC/oC0whRoIMcARiZL0TgyIHLa8M/sE45Q5TkCzNCXGP3KeRmEYw8xFsxV//cXO7l+3IwanFIIC5emTGETM0V0jcR1wN+GuqBRNbCC0gEIN+KiPuTjOitoBilbY3KQUg/ILXJJCEZ46eAUfBp7rMRxRoQWe7wUYd0RYXWF2pVYKyXVQVUto5GlIonOy15AkB0O8AzB0ZScOII+r2WY+2smxtxUxWEtCExis5umRGMT5Q/VGle8BtubFcKaJDTJfcjlIP4gHjtdDNQiKugF8xcL85+5h8a8rv0CNzNBzHY0h3izgiIyyuCH8kRGLQV4qitCgqBzD+vQptNc0h4MJcmApQMZ7oxX/zU6B3S2IAVGuCcjTHzGIWeXPJy7GmkdqMOOzO0oLXNwAKrqsS6oGFDsKhw40MIidZcB6EY/cGgv4mfGQERDVCsPg0SWtGNB49GpgYH36jGrZQOm1JciBhVCDs/1l5EmiAnvFtzMoTR1n7cpj3vLVi71Hey++Mi+1rteG0vReDJTZTZUu5HECyuHFemNGXICcdSu7rIdgydxaljbPXuEjDRnuOzFiHJtDEVa7BRMOF4OAhCgkqRS1GBT9EB0aZMwJucg4YTMziagc3hnRbQ1XA2m+vDCQmeHOQ6LJij+SWvDw4PbFwOR5ITVp9w/dJWVjec76LgYjr1SAVMYFDoMvdAkcikwRV1rAkHZX8cDt90g0SaUGYobc8bDDMcCE+yGNFgxlDOj6HsP5mwkriVyExOnQgHkeK3igNi+J4zi3cfm/cTrIxB94H0rL7hwgfZtQKhJBhidLCFKwRg8K4S6Sitpj0ENvsJplkmjn9fj2xeCgumFvR+FFdfGgZbUONpRmgYfHUYGin7FYYrtLKEZMBeel6eT4joaZ+dVagMzvGKEsNMLIZNME9YgFpi06vySTRGA30Svz6j7Koy9Y/BF6FZBcNCAmETlyJjopfVUufZJ4m0Mii0K/FvAwP4ygbZQ6Sgx6sVaq5k0A1UB4AMpTiyDB09nBIl6WJvhXR0fF9zMYzSJaisFSMQReVpfbisEmLPQM1pD1DQCDcLQE8HlIKjYouz2nMMBwq6BzRIwkR4SKDdTAkW2SqXYCGSq/VKQM7oqP/Bx6EEsRd/NL3bmKbihUH7sitAgMfE6xtDRWmYuicMDkjNjMmRdCbunk4g+kO48aRinYv/EqMcDOIadRjA1LFyLLEMQXGDrCGSCE11b85Rcv5IfdMkk02T+4dTEwaHYNMXjaVVO6FmdIJAZhAw3Y70hdtNnUJhgdG9DOFzioKEPP14pMkVYpkDeuN3f58GmZVD+kypeGZZyq3QXITWe+blv87rXEKBOUi2jOYFkNwHVLnEoMkLO/IT5cXrIboDyAb3pELmCwK7P5Lk/Q74kPKjvzGmrFMWJwoX/+jx0T7/T1i0E3nlW4uBEx8BpoQnAX0WrAvAEW2mTCbo9uRAugs8iRtrec6yaPoSZBjJkYkSTSYlDaFLgYeJUe4Y6jcKv/Hn+uReKPdNwCdCaoJpAX1QBcN7laQIkBag55hBzlzT4kRA3QYvD9uMC7whF/+m78SieJxiW+70CzBq1oLvXPX9XE4JW+3k4MLjcW53MQg4FaZ4jfI1Bl/HFigCyJ1gK92AXkUulAx/E9TMgzUsFbhpmvXRADDhcDt3ZXKvaewfIPDGueGjOFDBznkq0mqqsBXOdkf86n6T30LgH8PoOowWpAgtTAnEiDpIlKK/603FnwH5Ukmr3fhhjM9M//XBODP+nrl4NuPKtwueCDS8g1GCUAriatGMQM50A3aQGUiGJFki5F7r8McbPIEUkyTocVLkYotRhIyx2RRAbKX4QVicF8mQ317IEY1NUAPCoyslwu0aYzXs+ewlyAoaGPIaQ/nx8K/FZZ3cPy75vxocJ5e5p1aEUz0z//e00M3urrPwy68azCD6ttDGIFc5MYIJcHqhWmNNmZEZoCoQaB2SR6zh42HVJXA+i+TV57YMCaZWIdGlNVkQmnIL+UgBpIh0rcg+8tIVlr29TkQF+cZgJ5MaUCN8DKK4kSFXvDG4tmB3KtOwPJ5MoxESLzCKRwpRX/Zc325kmiw62IwUf98/0HRnF+tq+v/zjoxrMKP96IGERsCeCNv3G5xrvafba9uMBUA3hJ1BSIPAsuRQkUj2g26noEqq3GoUw8INb1i2wlUx59YaeA7n1Md5Z2PUu0/T04PoEYpNUTz9APvz9iUIbb+Uo2BhtY0opPZr83teDhbH87YvBJ//z974zy/PFrff3ToBvPKny6ETEgRBkXMJUV9/BOvUsTXuBWcFSGspyogR74GJEE+ZUaYM7Y4B5N3qGwt3JdYZEjhDZ1kXVgEWVskHoOXJwSGSiJECqVkRR49Y2LPfHD4EiM/Ax4eNGJAYviOEKRRbjp9dKKT2dvKlf8wb/Gh9sRg8Gx/v3s57o8z6b66qRltY43lGayxqPqhRio+NXL9H4DzFkAFNPQ+ACjELjKB0tR85w6NsAdoqrteErAgVUD6QG4QRzK6asAZRUYC4g2ifFIhjzQbArhcRRmG2dIk+mOjKUI2xcDX2X44GQxaoL9/EhiMnvzUBnfLydHBs670KxGOzE40b8/njwri/N8cqivfteyWicbSvNdz8WgPCinWFOq5swCXNcnOMQauT61iA3ielokRHivMTouMJoak1ShO6jOx682l/BQi8dW9CHULhUaMShudmOZQwWSuE2rdxzMVmZCMfBxZGmeIsqPDmFRAlADbcUPZ18/lsb38Wx/a2Lwwbhj8rdnT548ef5vU5quWlbrw4bSXPU9Mkj1gQIqQoeeTRRi4+CGTBGYYUT6TqgIfeavgEyGo1IqoTzGRJqFEJFLy8wD5lBH+fmUYiBrxsBxBp0YJKoYInQGCrh3A2KAXbtFJQbipKQoFvPzADW4+EZhfzJ7XiSJ3h59Y+KiG80qtNsgMJ9WdxxNJMbVpdm8ZbVMngas4umPGIg+xpRnOMLscZQ5DJL3+5VqwNJBTxCTHCwj1AB5vrfc6FuGGJhdv9UZ1gz39ix5hjWhGDCENtGJQcTU0Q88ZsAUY7GcaRHwynkEJwIP9GoBn2xVcNJ5u8LFscZUTiN/OTmu4aIjzQq0E4PBpXHLwdF0Oh1nxpWPret1ubYwH1f6UzmCfhi61LAGI8+H73cXTiLZay8Dgo5PCJpII8Nv8S42+qp8E2rXbxaL15R6EbpmmdAVIjFw3WDI+/DAzaO+eD9ePcxjP0SXRAhU/QONGkDFIJeDk788eDx7v00xmJ+s4eDz1vWi4tlmvzfsP+o1kVngkdlvHnp38BXIGf5NO9mgEoNBRkBG87gGFvcXSdc0Uc1Kjk/++XZ8vE0xGFxPV1LMrjtUjIrHwqJ1NkQgse1g8XliwYpPZpPj7YrB/KdVVnx61cWhp+KxsLCwuBdiMKnjcH/hwuQCQrOMtmIgrHgjwfSnbjacisfCwsLiHooB0IoTikFuxWcN98+uu9pwKh4LCwuLu4//fTvdgNukKa349fnS7efz7jacisfCwsLi7uNkgxG/nN8mTWnF51fcVJdvT69ANpyKx8LCwuLOY/5htman7uzD/FZpKjN+fcmlwJzwyznYhFPxWFhYWFhsRaPquCGe/wPqrbtIv4LYdQAAAABJRU5ErkJggg==", "content_type": "image/png"}, "js-libraries/jquery.couch.js": {"data": "Ly8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7IHlvdSBtYXkgbm90Ci8vIHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mCi8vIHRoZSBMaWNlbnNlIGF0Ci8vCi8vICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCi8vCi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywgV0lUSE9VVAovLyBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuIFNlZSB0aGUKLy8gTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnMgdW5kZXIKLy8gdGhlIExpY2Vuc2UuCgooZnVuY3Rpb24oJCkgewogICQuY291Y2ggPSAkLmNvdWNoIHx8IHt9OwoKICBmdW5jdGlvbiBlbmNvZGVEb2NJZChkb2NJRCkgewogICAgdmFyIHBhcnRzID0gZG9jSUQuc3BsaXQoIi8iKTsKICAgIGlmIChwYXJ0c1swXSA9PSAiX2Rlc2lnbiIpIHsKICAgICAgcGFydHMuc2hpZnQoKTsKICAgICAgcmV0dXJuICJfZGVzaWduLyIgKyBlbmNvZGVVUklDb21wb25lbnQocGFydHMuam9pbignLycpKTsKICAgIH0KICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZG9jSUQpOwogIH07CgogIGZ1bmN0aW9uIHByZXBhcmVVc2VyRG9jKHVzZXJfZG9jLCBuZXdfcGFzc3dvcmQpIHsgICAgCiAgICBpZiAodHlwZW9mIGhleF9zaGExID09ICJ1bmRlZmluZWQiKSB7CiAgICAgIGFsZXJ0KCJjcmVhdGluZyBhIHVzZXIgZG9jIHJlcXVpcmVzIHNoYTEuanMgdG8gYmUgbG9hZGVkIGluIHRoZSBwYWdlIik7CiAgICAgIHJldHVybjsKICAgIH0KICAgIHZhciB1c2VyX3ByZWZpeCA9ICJvcmcuY291Y2hkYi51c2VyOiI7CiAgICB1c2VyX2RvYy5faWQgPSB1c2VyX2RvYy5faWQgfHwgdXNlcl9wcmVmaXggKyB1c2VyX2RvYy5uYW1lOwogICAgaWYgKG5ld19wYXNzd29yZCkgewogICAgICAvLyBoYW5kbGUgdGhlIHBhc3N3b3JkIGNyeXB0bwogICAgICB1c2VyX2RvYy5zYWx0ID0gJC5jb3VjaC5uZXdVVUlEKCk7CiAgICAgIHVzZXJfZG9jLnBhc3N3b3JkX3NoYSA9IGhleF9zaGExKG5ld19wYXNzd29yZCArIHVzZXJfZG9jLnNhbHQpOwogICAgfQogICAgdXNlcl9kb2MudHlwZSA9ICJ1c2VyIjsKICAgIGlmICghdXNlcl9kb2Mucm9sZXMpIHsKICAgICAgdXNlcl9kb2Mucm9sZXMgPSBbXTsKICAgIH0KICAgIHJldHVybiB1c2VyX2RvYzsKICB9OwoKICB2YXIgdXVpZENhY2hlID0gW107CgogICQuZXh0ZW5kKCQuY291Y2gsIHsKICAgIHVybFByZWZpeDogJycsCiAgICBhY3RpdmVUYXNrczogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBhamF4KAogICAgICAgIHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fYWN0aXZlX3Rhc2tzIn0sCiAgICAgICAgb3B0aW9ucywKICAgICAgICAiQWN0aXZlIHRhc2sgc3RhdHVzIGNvdWxkIG5vdCBiZSByZXRyaWV2ZWQiCiAgICAgICk7CiAgICB9LAoKICAgIGFsbERiczogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBhamF4KAogICAgICAgIHt1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fYWxsX2RicyJ9LAogICAgICAgIG9wdGlvbnMsCiAgICAgICAgIkFuIGVycm9yIG9jY3VycmVkIHJldHJpZXZpbmcgdGhlIGxpc3Qgb2YgYWxsIGRhdGFiYXNlcyIKICAgICAgKTsKICAgIH0sCgogICAgY29uZmlnOiBmdW5jdGlvbihvcHRpb25zLCBzZWN0aW9uLCBvcHRpb24sIHZhbHVlKSB7CiAgICAgIHZhciByZXEgPSB7dXJsOiB0aGlzLnVybFByZWZpeCArICIvX2NvbmZpZy8ifTsKICAgICAgaWYgKHNlY3Rpb24pIHsKICAgICAgICByZXEudXJsICs9IGVuY29kZVVSSUNvbXBvbmVudChzZWN0aW9uKSArICIvIjsKICAgICAgICBpZiAob3B0aW9uKSB7CiAgICAgICAgICByZXEudXJsICs9IGVuY29kZVVSSUNvbXBvbmVudChvcHRpb24pOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAodmFsdWUgPT09IG51bGwpIHsKICAgICAgICByZXEudHlwZSA9ICJERUxFVEUiOyAgICAgICAgCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJlcS50eXBlID0gIlBVVCI7CiAgICAgICAgcmVxLmRhdGEgPSB0b0pTT04odmFsdWUpOwogICAgICAgIHJlcS5jb250ZW50VHlwZSA9ICJhcHBsaWNhdGlvbi9qc29uIjsKICAgICAgICByZXEucHJvY2Vzc0RhdGEgPSBmYWxzZQogICAgICB9CgogICAgICBhamF4KHJlcSwgb3B0aW9ucywKICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcmV0cmlldmluZy91cGRhdGluZyB0aGUgc2VydmVyIGNvbmZpZ3VyYXRpb24iCiAgICAgICk7CiAgICB9LAogICAgCiAgICBzZXNzaW9uOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAkLmFqYXgoewogICAgICAgIHR5cGU6ICJHRVQiLCB1cmw6IHRoaXMudXJsUHJlZml4ICsgIi9fc2Vzc2lvbiIsCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgdmFyIHJlc3AgPSBodHRwRGF0YShyZXEsICJqc29uIik7CiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIkFuIGVycm9yIG9jY3VycmVkIGdldHRpbmcgc2Vzc2lvbiBpbmZvOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHVzZXJEYiA6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICAgICQuY291Y2guc2Vzc2lvbih7CiAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgIHZhciB1c2VyRGIgPSAkLmNvdWNoLmRiKHJlc3AuaW5mby5hdXRoZW50aWNhdGlvbl9kYik7CiAgICAgICAgICBjYWxsYmFjayh1c2VyRGIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIHNpZ251cDogZnVuY3Rpb24odXNlcl9kb2MsIHBhc3N3b3JkLCBvcHRpb25zKSB7ICAgICAgCiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAvLyBwcmVwYXJlIHVzZXIgZG9jIGJhc2VkIG9uIG5hbWUgYW5kIHBhc3N3b3JkCiAgICAgIHVzZXJfZG9jID0gcHJlcGFyZVVzZXJEb2ModXNlcl9kb2MsIHBhc3N3b3JkKTsKICAgICAgJC5jb3VjaC51c2VyRGIoZnVuY3Rpb24oZGIpIHsKICAgICAgICBkYi5zYXZlRG9jKHVzZXJfZG9jLCBvcHRpb25zKTsKICAgICAgfSk7CiAgICB9LAogICAgCiAgICBsb2dpbjogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgJC5hamF4KHsKICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19zZXNzaW9uIiwgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICBkYXRhOiB7bmFtZTogb3B0aW9ucy5uYW1lLCBwYXNzd29yZDogb3B0aW9ucy5wYXNzd29yZH0sCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgdmFyIHJlc3AgPSBodHRwRGF0YShyZXEsICJqc29uIik7CiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIkFuIGVycm9yIG9jY3VycmVkIGxvZ2dpbmcgaW46ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBsb2dvdXQ6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICQuYWpheCh7CiAgICAgICAgdHlwZTogIkRFTEVURSIsIHVybDogdGhpcy51cmxQcmVmaXggKyAiL19zZXNzaW9uIiwgZGF0YVR5cGU6ICJqc29uIiwKICAgICAgICB1c2VybmFtZSA6ICJfIiwgcGFzc3dvcmQgOiAiXyIsCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgICAgdmFyIHJlc3AgPSBodHRwRGF0YShyZXEsICJqc29uIik7CiAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIkFuIGVycm9yIG9jY3VycmVkIGxvZ2dpbmcgb3V0OiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGRiOiBmdW5jdGlvbihuYW1lLCBkYl9vcHRzKSB7CiAgICAgIGRiX29wdHMgPSBkYl9vcHRzIHx8IHt9OwogICAgICB2YXIgcmF3RG9jcyA9IHt9OwogICAgICBmdW5jdGlvbiBtYXliZUFwcGx5VmVyc2lvbihkb2MpIHsKICAgICAgICBpZiAoZG9jLl9pZCAmJiBkb2MuX3JldiAmJiByYXdEb2NzW2RvYy5faWRdICYmIHJhd0RvY3NbZG9jLl9pZF0ucmV2ID09IGRvYy5fcmV2KSB7CiAgICAgICAgICAvLyB0b2RvOiBjYW4gd2UgdXNlIGNvbW1vbmpzIHJlcXVpcmUgaGVyZT8KICAgICAgICAgIGlmICh0eXBlb2YgQmFzZTY0ID09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgICAgIGFsZXJ0KCJwbGVhc2UgaW5jbHVkZSAvX3V0aWxzL3NjcmlwdC9iYXNlNjQuanMgaW4gdGhlIHBhZ2UgZm9yIGJhc2U2NCBzdXBwb3J0Iik7CiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzIHx8IHt9OwogICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzWyJyZXYtIitkb2MuX3Jldi5zcGxpdCgiLSIpWzBdXSA9IHsKICAgICAgICAgICAgICBjb250ZW50X3R5cGUgOiJhcHBsaWNhdGlvbi9qc29uIiwKICAgICAgICAgICAgICBkYXRhIDogQmFzZTY0LmVuY29kZShyYXdEb2NzW2RvYy5faWRdLnJhdykKICAgICAgICAgICAgfTsKICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9OwogICAgICByZXR1cm4gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgdXJpOiB0aGlzLnVybFByZWZpeCArICIvIiArIGVuY29kZVVSSUNvbXBvbmVudChuYW1lKSArICIvIiwKCiAgICAgICAgY29tcGFjdDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pOwogICAgICAgICAgYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLCB1cmw6IHRoaXMudXJpICsgIl9jb21wYWN0IiwKICAgICAgICAgICAgICBkYXRhOiAiIiwgcHJvY2Vzc0RhdGE6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNvbXBhY3RlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICB2aWV3Q2xlYW51cDogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMn0pOwogICAgICAgICAgYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLCB1cmw6IHRoaXMudXJpICsgIl92aWV3X2NsZWFudXAiLAogICAgICAgICAgICAgIGRhdGE6ICIiLCBwcm9jZXNzRGF0YTogZmFsc2UKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSB2aWV3cyBjb3VsZCBub3QgYmUgY2xlYW5lZCB1cCIKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBjb21wYWN0VmlldzogZnVuY3Rpb24oZ3JvdXBuYW1lLCBvcHRpb25zKSB7CiAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7c3VjY2Vzc1N0YXR1czogMjAyfSk7CiAgICAgICAgICBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiUE9TVCIsIHVybDogdGhpcy51cmkgKyAiX2NvbXBhY3QvIiArIGdyb3VwbmFtZSwKICAgICAgICAgICAgICBkYXRhOiAiIiwgcHJvY2Vzc0RhdGE6IGZhbHNlCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgdmlldyBjb3VsZCBub3QgYmUgY29tcGFjdGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZTogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMX0pOwogICAgICAgICAgYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBVVCIsIHVybDogdGhpcy51cmksIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgZGF0YTogIiIsIHByb2Nlc3NEYXRhOiBmYWxzZQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGRyb3A6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgIGFqYXgoCiAgICAgICAgICAgIHt0eXBlOiAiREVMRVRFIiwgdXJsOiB0aGlzLnVyaX0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGRlbGV0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgaW5mbzogZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgYWpheCgKICAgICAgICAgICAge3VybDogdGhpcy51cml9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiRGF0YWJhc2UgaW5mb3JtYXRpb24gY291bGQgbm90IGJlIHJldHJpZXZlZCIKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgICBjaGFuZ2VzOiBmdW5jdGlvbihzaW5jZSwgb3B0aW9ucykgewogICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICAvLyBzZXQgdXAgdGhlIHByb21pc2Ugb2JqZWN0IHdpdGhpbiBhIGNsb3N1cmUgZm9yIHRoaXMgaGFuZGxlcgogICAgICAgICAgdmFyIHRpbWVvdXQgPSAxMDAsIGRiID0gdGhpcywgYWN0aXZlID0gdHJ1ZSwKICAgICAgICAgICAgbGlzdGVuZXJzID0gW10sCiAgICAgICAgICAgIHByb21pc2UgPSB7CiAgICAgICAgICAgIG9uQ2hhbmdlIDogZnVuY3Rpb24oZnVuKSB7CiAgICAgICAgICAgICAgbGlzdGVuZXJzLnB1c2goZnVuKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgc3RvcCA6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgIGFjdGl2ZSA9IGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgLy8gY2FsbCBlYWNoIGxpc3RlbmVyIHdoZW4gdGhlcmUgaXMgYSBjaGFuZ2UKICAgICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJMaXN0ZW5lcnMocmVzcCkgewogICAgICAgICAgICAkLmVhY2gobGlzdGVuZXJzLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICB0aGlzKHJlc3ApOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH07CiAgICAgICAgICAvLyB3aGVuIHRoZXJlIGlzIGEgY2hhbmdlLCBjYWxsIGFueSBsaXN0ZW5lcnMsIHRoZW4gY2hlY2sgZm9yIGFub3RoZXIgY2hhbmdlCiAgICAgICAgICBvcHRpb25zLnN1Y2Nlc3MgPSBmdW5jdGlvbihyZXNwKSB7CiAgICAgICAgICAgIHRpbWVvdXQgPSAxMDA7CiAgICAgICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgICAgICBzaW5jZSA9IHJlc3AubGFzdF9zZXE7CiAgICAgICAgICAgICAgdHJpZ2dlckxpc3RlbmVycyhyZXNwKTsKICAgICAgICAgICAgICBnZXRDaGFuZ2VzU2luY2UoKTsKICAgICAgICAgICAgfTsKICAgICAgICAgIH07CiAgICAgICAgICBvcHRpb25zLmVycm9yID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGlmIChhY3RpdmUpIHsKICAgICAgICAgICAgICBzZXRUaW1lb3V0KGdldENoYW5nZXNTaW5jZSwgdGltZW91dCk7CiAgICAgICAgICAgICAgdGltZW91dCA9IHRpbWVvdXQgKiAyOwogICAgICAgICAgICB9CiAgICAgICAgICB9OwogICAgICAgICAgLy8gYWN0dWFsbHkgbWFrZSB0aGUgY2hhbmdlcyByZXF1ZXN0CiAgICAgICAgICBmdW5jdGlvbiBnZXRDaGFuZ2VzU2luY2UoKSB7CiAgICAgICAgICAgIHZhciBvcHRzID0gJC5leHRlbmQoe2hlYXJ0YmVhdCA6IDEwICogMTAwMH0sIG9wdGlvbnMsIHsKICAgICAgICAgICAgICBmZWVkIDogImxvbmdwb2xsIiwKICAgICAgICAgICAgICBzaW5jZSA6IHNpbmNlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhamF4KAogICAgICAgICAgICAgIHt1cmw6IGRiLnVyaSArICJfY2hhbmdlcyIrZW5jb2RlT3B0aW9ucyhvcHRzKX0sCiAgICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgICAiRXJyb3IgY29ubmVjdGluZyB0byAiK2RiLnVyaSsiL19jaGFuZ2VzLiIKICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICAgIC8vIHN0YXJ0IHRoZSBmaXJzdCByZXF1ZXN0CiAgICAgICAgICBpZiAoc2luY2UpIHsKICAgICAgICAgICAgZ2V0Q2hhbmdlc1NpbmNlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkYi5pbmZvKHsKICAgICAgICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oaW5mbykgewogICAgICAgICAgICAgICAgc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7CiAgICAgICAgICAgICAgICBnZXRDaGFuZ2VzU2luY2UoKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIHByb21pc2U7CiAgICAgICAgfSwKICAgICAgICBhbGxEb2NzOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgICAgICB2YXIgdHlwZSA9ICJHRVQiOwogICAgICAgICAgdmFyIGRhdGEgPSBudWxsOwogICAgICAgICAgaWYgKG9wdGlvbnNbImtleXMiXSkgewogICAgICAgICAgICB0eXBlID0gIlBPU1QiOwogICAgICAgICAgICB2YXIga2V5cyA9IG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGVsZXRlIG9wdGlvbnNbImtleXMiXTsKICAgICAgICAgICAgZGF0YSA9IHRvSlNPTih7ICJrZXlzIjoga2V5cyB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9hbGxfZG9jcyIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJBbiBlcnJvciBvY2N1cnJlZCByZXRyaWV2aW5nIGEgbGlzdCBvZiBhbGwgZG9jdW1lbnRzIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGFsbERlc2lnbkRvY3M6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgIHRoaXMuYWxsRG9jcygkLmV4dGVuZCh7c3RhcnRrZXk6Il9kZXNpZ24iLCBlbmRrZXk6Il9kZXNpZ24wIn0sIG9wdGlvbnMpKTsKICAgICAgICB9LAogICAgICAgIGFsbEFwcHM6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICAgICAgaWYgKG9wdGlvbnMuZWFjaEFwcCkgewogICAgICAgICAgICB0aGlzLmFsbERlc2lnbkRvY3MoewogICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgICAgICAgICQuZWFjaChyZXNwLnJvd3MsIGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICBzZWxmLm9wZW5Eb2ModGhpcy5pZCwgewogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRkb2MpIHsKICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCwgYXBwUGF0aCwgYXBwTmFtZSA9IGRkb2MuX2lkLnNwbGl0KCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICBhcHBOYW1lLnNoaWZ0KCk7CiAgICAgICAgICAgICAgICAgICAgICBhcHBOYW1lID0gYXBwTmFtZS5qb2luKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IGRkb2MuY291Y2hhcHAgJiYgZGRvYy5jb3VjaGFwcC5pbmRleDsKICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHBQYXRoID0gWycnLCBuYW1lLCBkZG9jLl9pZCwgaW5kZXhdLmpvaW4oJy8nKTsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGRvYy5fYXR0YWNobWVudHMgJiYgZGRvYy5fYXR0YWNobWVudHNbImluZGV4Lmh0bWwiXSkgewogICAgICAgICAgICAgICAgICAgICAgICBhcHBQYXRoID0gWycnLCBuYW1lLCBkZG9jLl9pZCwgImluZGV4Lmh0bWwiXS5qb2luKCcvJyk7CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICBpZiAoYXBwUGF0aCkgb3B0aW9ucy5lYWNoQXBwKGFwcE5hbWUsIGFwcFBhdGgsIGRkb2MpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIlBsZWFzZSBwcm92aWRlIGFuIGVhY2hBcHAgZnVuY3Rpb24gZm9yIGFsbEFwcHMoKSIpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgb3BlbkRvYzogZnVuY3Rpb24oZG9jSWQsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7CiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgIGlmIChkYl9vcHRzLmF0dGFjaFByZXZSZXYgfHwgb3B0aW9ucy5hdHRhY2hQcmV2UmV2KSB7CiAgICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHsKICAgICAgICAgICAgICBiZWZvcmVTdWNjZXNzIDogZnVuY3Rpb24ocmVxLCBkb2MpIHsKICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7CiAgICAgICAgICAgICAgICAgIHJldiA6IGRvYy5fcmV2LAogICAgICAgICAgICAgICAgICByYXcgOiByZXEucmVzcG9uc2VUZXh0CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAkLmV4dGVuZChvcHRpb25zLCB7CiAgICAgICAgICAgICAgYmVmb3JlU3VjY2VzcyA6IGZ1bmN0aW9uKHJlcSwgZG9jKSB7CiAgICAgICAgICAgICAgICBpZiAoZG9jWyJqcXVlcnkuY291Y2guYXR0YWNoUHJldlJldiJdKSB7CiAgICAgICAgICAgICAgICAgIHJhd0RvY3NbZG9jLl9pZF0gPSB7CiAgICAgICAgICAgICAgICAgICAgcmV2IDogZG9jLl9yZXYsCiAgICAgICAgICAgICAgICAgICAgcmF3IDogcmVxLnJlc3BvbnNlVGV4dAogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgICBhamF4KHt1cmw6IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jSWQpICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKX0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIHJldHJpZXZlZCIsCiAgICAgICAgICAgIGFqYXhPcHRpb25zCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgc2F2ZURvYzogZnVuY3Rpb24oZG9jLCBvcHRpb25zKSB7CiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgICAgICAgIHZhciBkYiA9IHRoaXM7CiAgICAgICAgICB2YXIgYmVmb3JlU2VuZCA9IGZ1bGxDb21taXQob3B0aW9ucyk7CiAgICAgICAgICBpZiAoZG9jLl9pZCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgICAgIHZhciBtZXRob2QgPSAiUE9TVCI7CiAgICAgICAgICAgIHZhciB1cmkgPSB0aGlzLnVyaTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHZhciBtZXRob2QgPSAiUFVUIjsKICAgICAgICAgICAgdmFyIHVyaSA9IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jLl9pZCk7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgdmVyc2lvbmVkID0gbWF5YmVBcHBseVZlcnNpb24oZG9jKTsKICAgICAgICAgICQuYWpheCh7CiAgICAgICAgICAgIHR5cGU6IG1ldGhvZCwgdXJsOiB1cmkgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLAogICAgICAgICAgICBkYXRhVHlwZTogImpzb24iLCBkYXRhOiB0b0pTT04oZG9jKSwKICAgICAgICAgICAgYmVmb3JlU2VuZCA6IGJlZm9yZVNlbmQsCiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICAgICAgICB2YXIgcmVzcCA9IGh0dHBEYXRhKHJlcSwgImpzb24iKTsKICAgICAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDAgfHwgcmVxLnN0YXR1cyA9PSAyMDEgfHwgcmVxLnN0YXR1cyA9PSAyMDIpIHsKICAgICAgICAgICAgICAgIGRvYy5faWQgPSByZXNwLmlkOwogICAgICAgICAgICAgICAgZG9jLl9yZXYgPSByZXNwLnJldjsKICAgICAgICAgICAgICAgIGlmICh2ZXJzaW9uZWQpIHsKICAgICAgICAgICAgICAgICAgZGIub3BlbkRvYyhkb2MuX2lkLCB7CiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUHJldlJldiA6IHRydWUsCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzcyA6IGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHMgPSBkLl9hdHRhY2htZW50czsKICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3VjY2Vzcykgb3B0aW9ucy5zdWNjZXNzKHJlc3ApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5lcnJvcikgewogICAgICAgICAgICAgICAgb3B0aW9ucy5lcnJvcihyZXEuc3RhdHVzLCByZXNwLmVycm9yLCByZXNwLnJlYXNvbik7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGFsZXJ0KCJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIHNhdmVkOiAiICsgcmVzcC5yZWFzb24pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBidWxrU2F2ZTogZnVuY3Rpb24oZG9jcywgb3B0aW9ucykgewogICAgICAgICAgdmFyIGJlZm9yZVNlbmQgPSBmdWxsQ29tbWl0KG9wdGlvbnMpOwogICAgICAgICAgJC5leHRlbmQob3B0aW9ucywge3N1Y2Nlc3NTdGF0dXM6IDIwMSwgYmVmb3JlU2VuZCA6IGJlZm9yZVNlbmR9KTsKICAgICAgICAgIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9idWxrX2RvY3MiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSwKICAgICAgICAgICAgICBjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24iLCBkYXRhOiB0b0pTT04oZG9jcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIHNhdmVkIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIHJlbW92ZURvYzogZnVuY3Rpb24oZG9jLCBvcHRpb25zKSB7CiAgICAgICAgICBhamF4KHsKICAgICAgICAgICAgICB0eXBlOiAiREVMRVRFIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsKICAgICAgICAgICAgICAgICAgIGVuY29kZURvY0lkKGRvYy5faWQpICsKICAgICAgICAgICAgICAgICAgIGVuY29kZU9wdGlvbnMoe3JldjogZG9jLl9yZXZ9KQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBkZWxldGVkIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGJ1bGtSZW1vdmU6IGZ1bmN0aW9uKGRvY3MsIG9wdGlvbnMpewogICAgICAgICAgZG9jcy5kb2NzID0gJC5lYWNoKAogICAgICAgICAgICBkb2NzLmRvY3MsIGZ1bmN0aW9uKGksIGRvYyl7CiAgICAgICAgICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgICAgKTsKICAgICAgICAgICQuZXh0ZW5kKG9wdGlvbnMsIHtzdWNjZXNzU3RhdHVzOiAyMDF9KTsKICAgICAgICAgIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJQT1NUIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgIl9idWxrX2RvY3MiICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKSwKICAgICAgICAgICAgICBkYXRhOiB0b0pTT04oZG9jcykKICAgICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBkb2N1bWVudHMgY291bGQgbm90IGJlIGRlbGV0ZWQiCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgY29weURvYzogZnVuY3Rpb24oZG9jSWQsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7CiAgICAgICAgICBhamF4T3B0aW9ucyA9ICQuZXh0ZW5kKGFqYXhPcHRpb25zLCB7CiAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXEpIHsKICAgICAgICAgICAgICB2YXIgcmVzcCA9IGh0dHBEYXRhKHJlcSwgImpzb24iKTsKICAgICAgICAgICAgICBpZiAocmVxLnN0YXR1cyA9PSAyMDEpIHsKICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcC5lcnJvciwgcmVzcC5yZWFzb24pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVGhlIGRvY3VtZW50IGNvdWxkIG5vdCBiZSBjb3BpZWQ6ICIgKyByZXNwLnJlYXNvbik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICAgIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6ICJDT1BZIiwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgZW5jb2RlRG9jSWQoZG9jSWQpCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgZG9jdW1lbnQgY291bGQgbm90IGJlIGNvcGllZCIsCiAgICAgICAgICAgIGFqYXhPcHRpb25zCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgcXVlcnk6IGZ1bmN0aW9uKG1hcEZ1biwgcmVkdWNlRnVuLCBsYW5ndWFnZSwgb3B0aW9ucykgewogICAgICAgICAgbGFuZ3VhZ2UgPSBsYW5ndWFnZSB8fCAiamF2YXNjcmlwdCI7CiAgICAgICAgICBpZiAodHlwZW9mKG1hcEZ1bikgIT09ICJzdHJpbmciKSB7CiAgICAgICAgICAgIG1hcEZ1biA9IG1hcEZ1bi50b1NvdXJjZSA/IG1hcEZ1bi50b1NvdXJjZSgpIDogIigiICsgbWFwRnVuLnRvU3RyaW5nKCkgKyAiKSI7CiAgICAgICAgICB9CiAgICAgICAgICB2YXIgYm9keSA9IHtsYW5ndWFnZTogbGFuZ3VhZ2UsIG1hcDogbWFwRnVufTsKICAgICAgICAgIGlmIChyZWR1Y2VGdW4gIT0gbnVsbCkgewogICAgICAgICAgICBpZiAodHlwZW9mKHJlZHVjZUZ1bikgIT09ICJzdHJpbmciKQogICAgICAgICAgICAgIHJlZHVjZUZ1biA9IHJlZHVjZUZ1bi50b1NvdXJjZSA/IHJlZHVjZUZ1bi50b1NvdXJjZSgpIDogIigiICsgcmVkdWNlRnVuLnRvU3RyaW5nKCkgKyAiKSI7CiAgICAgICAgICAgIGJvZHkucmVkdWNlID0gcmVkdWNlRnVuOwogICAgICAgICAgfQogICAgICAgICAgYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogIlBPU1QiLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX3RlbXBfdmlldyIgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIsIGRhdGE6IHRvSlNPTihib2R5KQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLAogICAgICAgICAgICAiQW4gZXJyb3Igb2NjdXJyZWQgcXVlcnlpbmcgdGhlIGRhdGFiYXNlIgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGxpc3Q6IGZ1bmN0aW9uKGxpc3QsIHZpZXcsIG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBsaXN0ID0gbGlzdC5zcGxpdCgnLycpOwogICAgICAgICAgdmFyIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9OwogICAgICAgICAgdmFyIHR5cGUgPSAnR0VUJzsKICAgICAgICAgIHZhciBkYXRhID0gbnVsbDsKICAgICAgICAgIGlmIChvcHRpb25zWydrZXlzJ10pIHsKICAgICAgICAgICAgdHlwZSA9ICdQT1NUJzsKICAgICAgICAgICAgdmFyIGtleXMgPSBvcHRpb25zWydrZXlzJ107CiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zWydrZXlzJ107CiAgICAgICAgICAgIGRhdGEgPSB0b0pTT04oeydrZXlzJzoga2V5cyB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGFqYXgoewogICAgICAgICAgICAgIHR5cGU6IHR5cGUsCiAgICAgICAgICAgICAgZGF0YTogZGF0YSwKICAgICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgJ19kZXNpZ24vJyArIGxpc3RbMF0gKwogICAgICAgICAgICAgICAgICAgJy9fbGlzdC8nICsgbGlzdFsxXSArICcvJyArIHZpZXcgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICBvcHRpb25zLCAnQW4gZXJyb3Igb2NjdXJlZCBhY2Nlc3NpbmcgdGhlIGxpc3QnCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICAgdmlldzogZnVuY3Rpb24obmFtZSwgb3B0aW9ucykgewogICAgICAgICAgdmFyIG5hbWUgPSBuYW1lLnNwbGl0KCcvJyk7CiAgICAgICAgICB2YXIgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307CiAgICAgICAgICB2YXIgdHlwZSA9ICJHRVQiOwogICAgICAgICAgdmFyIGRhdGE9IG51bGw7CiAgICAgICAgICBpZiAob3B0aW9uc1sia2V5cyJdKSB7CiAgICAgICAgICAgIHR5cGUgPSAiUE9TVCI7CiAgICAgICAgICAgIHZhciBrZXlzID0gb3B0aW9uc1sia2V5cyJdOwogICAgICAgICAgICBkZWxldGUgb3B0aW9uc1sia2V5cyJdOwogICAgICAgICAgICBkYXRhID0gdG9KU09OKHsgImtleXMiOiBrZXlzIH0pOwogICAgICAgICAgfQogICAgICAgICAgYWpheCh7CiAgICAgICAgICAgICAgdHlwZTogdHlwZSwKICAgICAgICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgICAgICAgIHVybDogdGhpcy51cmkgKyAiX2Rlc2lnbi8iICsgbmFtZVswXSArCiAgICAgICAgICAgICAgICAgICAiL192aWV3LyIgKyBuYW1lWzFdICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKQogICAgICAgICAgICB9LAogICAgICAgICAgICBvcHRpb25zLCAiQW4gZXJyb3Igb2NjdXJyZWQgYWNjZXNzaW5nIHRoZSB2aWV3IgogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICAgIGdldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBvcHRpb25zLCBhamF4T3B0aW9ucykgewogICAgICAgICAgYWpheCh7dXJsOiB0aGlzLnVyaSArIHByb3BOYW1lICsgZW5jb2RlT3B0aW9ucyhvcHRpb25zKX0sCiAgICAgICAgICAgIG9wdGlvbnMsCiAgICAgICAgICAgICJUaGUgcHJvcGVydHkgY291bGQgbm90IGJlIHJldHJpZXZlZCIsCiAgICAgICAgICAgIGFqYXhPcHRpb25zCiAgICAgICAgICApOwogICAgICAgIH0sCgogICAgICAgIHNldERiUHJvcGVydHk6IGZ1bmN0aW9uKHByb3BOYW1lLCBwcm9wVmFsdWUsIG9wdGlvbnMsIGFqYXhPcHRpb25zKSB7CiAgICAgICAgICBhamF4KHsKICAgICAgICAgICAgdHlwZTogIlBVVCIsIAogICAgICAgICAgICB1cmw6IHRoaXMudXJpICsgcHJvcE5hbWUgKyBlbmNvZGVPcHRpb25zKG9wdGlvbnMpLAogICAgICAgICAgICBkYXRhIDogSlNPTi5zdHJpbmdpZnkocHJvcFZhbHVlKQogICAgICAgICAgfSwKICAgICAgICAgICAgb3B0aW9ucywKICAgICAgICAgICAgIlRoZSBwcm9wZXJ0eSBjb3VsZCBub3QgYmUgdXBkYXRlZCIsCiAgICAgICAgICAgIGFqYXhPcHRpb25zCiAgICAgICAgICApOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCgogICAgZW5jb2RlRG9jSWQ6IGVuY29kZURvY0lkLCAKCiAgICBpbmZvOiBmdW5jdGlvbihvcHRpb25zKSB7CiAgICAgIGFqYXgoCiAgICAgICAge3VybDogdGhpcy51cmxQcmVmaXggKyAiLyJ9LAogICAgICAgIG9wdGlvbnMsCiAgICAgICAgIlNlcnZlciBpbmZvcm1hdGlvbiBjb3VsZCBub3QgYmUgcmV0cmlldmVkIgogICAgICApOwogICAgfSwKCiAgICByZXBsaWNhdGU6IGZ1bmN0aW9uKHNvdXJjZSwgdGFyZ2V0LCBhamF4T3B0aW9ucywgcmVwT3B0cykgewogICAgICByZXBPcHRzID0gJC5leHRlbmQoe3NvdXJjZTogc291cmNlLCB0YXJnZXQ6IHRhcmdldH0sIHJlcE9wdHMpOwogICAgICBpZiAocmVwT3B0cy5jb250aW51b3VzKSB7CiAgICAgICAgYWpheE9wdGlvbnMuc3VjY2Vzc1N0YXR1cyA9IDIwMjsKICAgICAgfQogICAgICBhamF4KHsKICAgICAgICAgIHR5cGU6ICJQT1NUIiwgdXJsOiB0aGlzLnVybFByZWZpeCArICIvX3JlcGxpY2F0ZSIsCiAgICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyZXBPcHRzKSwKICAgICAgICAgIGNvbnRlbnRUeXBlOiAiYXBwbGljYXRpb24vanNvbiIKICAgICAgICB9LAogICAgICAgIGFqYXhPcHRpb25zLAogICAgICAgICJSZXBsaWNhdGlvbiBmYWlsZWQiCiAgICAgICk7CiAgICB9LAoKICAgIG5ld1VVSUQ6IGZ1bmN0aW9uKGNhY2hlTnVtKSB7CiAgICAgIGlmIChjYWNoZU51bSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgY2FjaGVOdW0gPSAxOwogICAgICB9CiAgICAgIGlmICghdXVpZENhY2hlLmxlbmd0aCkgewogICAgICAgIGFqYXgoe3VybDogdGhpcy51cmxQcmVmaXggKyAiL191dWlkcyIsIGRhdGE6IHtjb3VudDogY2FjaGVOdW19LCBhc3luYzogZmFsc2V9LCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3ApIHsKICAgICAgICAgICAgICB1dWlkQ2FjaGUgPSByZXNwLnV1aWRzOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgIkZhaWxlZCB0byByZXRyaWV2ZSBVVUlEIGJhdGNoLiIKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB1dWlkQ2FjaGUuc2hpZnQoKTsKICAgIH0KICB9KTsKCiAgdmFyIGh0dHBEYXRhID0gJC5odHRwRGF0YSB8fCBmdW5jdGlvbiggeGhyLCB0eXBlLCBzICkgeyAvLyBsaWZ0ZWQgZnJvbSBqcTEuNC40CiAgICB2YXIgY3QgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpIHx8ICIiLAogICAgICB4bWwgPSB0eXBlID09PSAieG1sIiB8fCAhdHlwZSAmJiBjdC5pbmRleE9mKCJ4bWwiKSA+PSAwLAogICAgICBkYXRhID0geG1sID8geGhyLnJlc3BvbnNlWE1MIDogeGhyLnJlc3BvbnNlVGV4dDsKCiAgICBpZiAoIHhtbCAmJiBkYXRhLmRvY3VtZW50RWxlbWVudC5ub2RlTmFtZSA9PT0gInBhcnNlcmVycm9yIiApIHsKICAgICAgJC5lcnJvciggInBhcnNlcmVycm9yIiApOwogICAgfQogICAgaWYgKCBzICYmIHMuZGF0YUZpbHRlciApIHsKICAgICAgZGF0YSA9IHMuZGF0YUZpbHRlciggZGF0YSwgdHlwZSApOwogICAgfQogICAgaWYgKCB0eXBlb2YgZGF0YSA9PT0gInN0cmluZyIgKSB7CiAgICAgIGlmICggdHlwZSA9PT0gImpzb24iIHx8ICF0eXBlICYmIGN0LmluZGV4T2YoImpzb24iKSA+PSAwICkgewogICAgICAgIGRhdGEgPSAkLnBhcnNlSlNPTiggZGF0YSApOwogICAgICB9IGVsc2UgaWYgKCB0eXBlID09PSAic2NyaXB0IiB8fCAhdHlwZSAmJiBjdC5pbmRleE9mKCJqYXZhc2NyaXB0IikgPj0gMCApIHsKICAgICAgICAkLmdsb2JhbEV2YWwoIGRhdGEgKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgZnVuY3Rpb24gYWpheChvYmosIG9wdGlvbnMsIGVycm9yTWVzc2FnZSwgYWpheE9wdGlvbnMpIHsKICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7c3VjY2Vzc1N0YXR1czogMjAwfSwgb3B0aW9ucyk7CiAgICBhamF4T3B0aW9ucyA9ICQuZXh0ZW5kKHtjb250ZW50VHlwZTogImFwcGxpY2F0aW9uL2pzb24ifSwgYWpheE9wdGlvbnMpOwogICAgZXJyb3JNZXNzYWdlID0gZXJyb3JNZXNzYWdlIHx8ICJVbmtub3duIGVycm9yIjsKICAgICQuYWpheCgkLmV4dGVuZCgkLmV4dGVuZCh7CiAgICAgIHR5cGU6ICJHRVQiLCBkYXRhVHlwZTogImpzb24iLCBjYWNoZSA6ICEkLmJyb3dzZXIubXNpZSwKICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24oeGhyKXsKICAgICAgICBpZihhamF4T3B0aW9ucyAmJiBhamF4T3B0aW9ucy5oZWFkZXJzKXsKICAgICAgICAgIGZvciAodmFyIGhlYWRlciBpbiBhamF4T3B0aW9ucy5oZWFkZXJzKXsKICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoaGVhZGVyLCBhamF4T3B0aW9ucy5oZWFkZXJzW2hlYWRlcl0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlcSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICB2YXIgcmVzcCA9IGh0dHBEYXRhKHJlcSwgImpzb24iKTsKICAgICAgICB9IGNhdGNoKGUpIHsKICAgICAgICAgIGlmIChvcHRpb25zLmVycm9yKSB7CiAgICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVxLCBlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGFsZXJ0KGVycm9yTWVzc2FnZSArICI6ICIgKyBlKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKG9wdGlvbnMuYWpheFN0YXJ0KSB7CiAgICAgICAgICBvcHRpb25zLmFqYXhTdGFydChyZXNwKTsKICAgICAgICB9CiAgICAgICAgaWYgKHJlcS5zdGF0dXMgPT0gb3B0aW9ucy5zdWNjZXNzU3RhdHVzKSB7CiAgICAgICAgICBpZiAob3B0aW9ucy5iZWZvcmVTdWNjZXNzKSBvcHRpb25zLmJlZm9yZVN1Y2Nlc3MocmVxLCByZXNwKTsKICAgICAgICAgIGlmIChvcHRpb25zLnN1Y2Nlc3MpIG9wdGlvbnMuc3VjY2VzcyhyZXNwKTsKICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZXJyb3IpIHsKICAgICAgICAgIG9wdGlvbnMuZXJyb3IocmVxLnN0YXR1cywgcmVzcCAmJiByZXNwLmVycm9yIHx8IGVycm9yTWVzc2FnZSwgcmVzcCAmJiByZXNwLnJlYXNvbiB8fCAibm8gcmVzcG9uc2UiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoZXJyb3JNZXNzYWdlICsgIjogIiArIHJlc3AucmVhc29uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sIG9iaiksIGFqYXhPcHRpb25zKSk7CiAgfQoKICBmdW5jdGlvbiBmdWxsQ29tbWl0KG9wdGlvbnMpIHsKICAgIHZhciBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsKICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5lbnN1cmVfZnVsbF9jb21taXQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICAgIHZhciBjb21taXQgPSBvcHRpb25zLmVuc3VyZV9mdWxsX2NvbW1pdDsKICAgICAgZGVsZXRlIG9wdGlvbnMuZW5zdXJlX2Z1bGxfY29tbWl0OwogICAgICByZXR1cm4gZnVuY3Rpb24oeGhyKSB7CiAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoIlgtQ291Y2gtRnVsbC1Db21taXQiLCBjb21taXQudG9TdHJpbmcoKSk7CiAgICAgIH07CiAgICB9CiAgfTsKCiAgLy8gQ29udmVydCBhIG9wdGlvbnMgb2JqZWN0IHRvIGFuIHVybCBxdWVyeSBzdHJpbmcuCiAgLy8gZXg6IHtrZXk6J3ZhbHVlJyxrZXkyOid2YWx1ZTInfSBiZWNvbWVzICc/a2V5PSJ2YWx1ZSIma2V5Mj0idmFsdWUyIicKICBmdW5jdGlvbiBlbmNvZGVPcHRpb25zKG9wdGlvbnMpIHsKICAgIHZhciBidWYgPSBbXTsKICAgIGlmICh0eXBlb2Yob3B0aW9ucykgPT09ICJvYmplY3QiICYmIG9wdGlvbnMgIT09IG51bGwpIHsKICAgICAgZm9yICh2YXIgbmFtZSBpbiBvcHRpb25zKSB7CiAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLCBbImVycm9yIiwgInN1Y2Nlc3MiLCAiYmVmb3JlU3VjY2VzcyIsICJhamF4U3RhcnQiXSkgPj0gMCkKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvbnNbbmFtZV07CiAgICAgICAgaWYgKCQuaW5BcnJheShuYW1lLCBbImtleSIsICJzdGFydGtleSIsICJlbmRrZXkiXSkgPj0gMCkgewogICAgICAgICAgdmFsdWUgPSB0b0pTT04odmFsdWUpOwogICAgICAgIH0KICAgICAgICBidWYucHVzaChlbmNvZGVVUklDb21wb25lbnQobmFtZSkgKyAiPSIgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIGJ1Zi5sZW5ndGggPyAiPyIgKyBidWYuam9pbigiJiIpIDogIiI7CiAgfQoKICBmdW5jdGlvbiB0b0pTT04ob2JqKSB7CiAgICByZXR1cm4gb2JqICE9PSBudWxsID8gSlNPTi5zdHJpbmdpZnkob2JqKSA6IG51bGw7CiAgfQoKfSkoalF1ZXJ5KTsK", "content_type": "application/javascript"}, "models/jqueryMobilePage.js": {"data": "dmFyIEFzc2Vzc21lbnRQYWdlLCBDb25zZW50UGFnZSwgRGF0ZVRpbWVQYWdlLCBEaWN0YXRpb24sIEludGVydmlldywgSlF1ZXJ5TG9naW4sIEpRdWVyeU1vYmlsZVBhZ2UsIFBob25lbWVQYWdlLCBSZXN1bHRzUGFnZSwgU2Nob29sUGFnZSwgU3R1ZGVudEluZm9ybWF0aW9uUGFnZSwgVGV4dFBhZ2UsIFRvZ2dsZUdyaWRXaXRoVGltZXIsIFVudGltZWRTdWJ0ZXN0LCBVbnRpbWVkU3VidGVzdExpbmtlZCwgZm9vdGVyTWVzc2FnZSwgaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsOwp2YXIgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfSwgX19oYXNQcm9wID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSwgX19leHRlbmRzID0gZnVuY3Rpb24oY2hpbGQsIHBhcmVudCkgewogIGZvciAodmFyIGtleSBpbiBwYXJlbnQpIHsgaWYgKF9faGFzUHJvcC5jYWxsKHBhcmVudCwga2V5KSkgY2hpbGRba2V5XSA9IHBhcmVudFtrZXldOyB9CiAgZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9CiAgY3Rvci5wcm90b3R5cGUgPSBwYXJlbnQucHJvdG90eXBlOwogIGNoaWxkLnByb3RvdHlwZSA9IG5ldyBjdG9yOwogIGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7CiAgcmV0dXJuIGNoaWxkOwp9Owpmb290ZXJNZXNzYWdlID0gIkdvb2QgZWZmb3J0LCBsZXQncyBnbyBvbnRvIHRoZSBuZXh0IHBhZ2UiOwpKUXVlcnlNb2JpbGVQYWdlID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIEpRdWVyeU1vYmlsZVBhZ2Uob3B0aW9ucykgewogICAgdGhpcy5wYWdlSWQgPSAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5wYWdlSWQgOiB2b2lkIDApIHx8ICIiOwogICAgdGhpcy5wYWdlVHlwZSA9IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnBhZ2VUeXBlIDogdm9pZCAwKSB8fCB0aGlzLmNvbnN0cnVjdG9yLnRvU3RyaW5nKCkubWF0Y2goL2Z1bmN0aW9uICsoLio/KVwoLylbMV07CiAgfQogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIE11c3RhY2hlLnRvX2h0bWwodGhpcy5fdGVtcGxhdGUoKSwgdGhpcyk7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIFsicGFnZUlkIiwgInBhZ2VUeXBlIiwgInVybFBhdGgiLCAidXJsU2NoZW1lIl07CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5uYW1lID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5wYWdlSWQudW5kZXJzY29yZSgpLnRpdGxlaXplKCk7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS50b0pTT04gPSBmdW5jdGlvbigpIHsKICAgIHZhciBvYmplY3QsIHByb3BlcnR5LCBfaSwgX2xlbiwgX3JlZjsKICAgIG9iamVjdCA9IHt9OwogICAgX3JlZiA9IHRoaXMucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24oKTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBwcm9wZXJ0eSA9IF9yZWZbX2ldOwogICAgICBvYmplY3RbcHJvcGVydHldID0gdGhpc1twcm9wZXJ0eV07CiAgICB9CiAgICByZXR1cm4gb2JqZWN0OwogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIHZhciBwcm9wZXJ0eSwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzOwogICAgX3JlZiA9IHRoaXMucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24oKTsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcHJvcGVydHkgPSBfcmVmW19pXTsKICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzW3Byb3BlcnR5XSA9IGRhdGFbcHJvcGVydHldKTsKICAgIH0KICAgIHJldHVybiBfcmVzdWx0czsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbigpIHsKICAgIHN3aXRjaCAodGhpcy51cmxTY2hlbWUpIHsKICAgICAgY2FzZSAibG9jYWxzdG9yYWdlIjoKICAgICAgICByZXR1cm4gdGhpcy5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTsKICAgICAgZGVmYXVsdDoKICAgICAgICB0aHJvdyAiVVJMIHR5cGUgbm90IHlldCBpbXBsZW1lbnRlZDogIiArIHRoaXMudXJsU2NoZW1lOwogICAgfQogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUuc2F2ZVRvTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy51cmxQYXRoID09IG51bGwpIHsKICAgICAgdGhyb3cgIkNhbid0IHNhdmUgcGFnZSAnIiArIHRoaXMucGFnZUlkICsgIicgdG8gbG9jYWxTdG9yYWdlOiBObyB1cmxQYXRoISI7CiAgICB9CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlW3RoaXMudXJsUGF0aF0gPSBKU09OLnN0cmluZ2lmeSh0aGlzKTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnNhdmVUb0NvdWNoREIgPSBmdW5jdGlvbihjYWxsYmFjaykgewogICAgdmFyIHVybDsKICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICB0aGlzLnVybFNjaGVtZSA9ICJodHRwIjsKICAgIHRoaXMudXJsUGF0aCA9IHRoaXMudXJsUGF0aC5zdWJzdHJpbmcodGhpcy51cmxQYXRoLmluZGV4T2YoIi8iKSArIDEpOwogICAgdXJsID0gJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgdGhpcy51cmxQYXRoOwogICAgcmV0dXJuICQuYWpheCh7CiAgICAgIHVybDogdXJsLAogICAgICBhc3luYzogdHJ1ZSwKICAgICAgdHlwZTogJ1BVVCcsCiAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHRoaXMpLAogICAgICBzdWNjZXNzOiBfX2JpbmQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmV2aXNpb24gPSByZXN1bHQucmV2OwogICAgICB9LCB0aGlzKSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICAgIHRocm93ICJDb3VsZCBub3QgUFVUIHRvICIgKyB1cmw7CiAgICAgIH0sCiAgICAgIGNvbXBsZXRlOiBfX2JpbmQoZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHsKICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfSwgdGhpcykKICAgIH0pOwogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUuZGVsZXRlRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMudXJsUGF0aCk7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5kZWxldGVGcm9tQ291Y2hEQiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHVybDsKICAgIHVybCA9IHRoaXMudXJsUGF0aCArICgiP3Jldj0iICsgdGhpcy5yZXZpc2lvbik7CiAgICByZXR1cm4gJC5hamF4KHsKICAgICAgdXJsOiB1cmwsCiAgICAgIHR5cGU6ICdERUxFVEUnLAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7CiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gInVuZGVmaW5lZCIgJiYgY2FsbGJhY2sgIT09IG51bGwpIHsKICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICAgIHRocm93ICJFcnJvciBkZWxldGluZyAiICsgdXJsOwogICAgICB9CiAgICB9KTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLl90ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICI8ZGl2IGRhdGEtcm9sZT0ncGFnZScgaWQ9J3t7e3BhZ2VJZH19Jz4gIDxkaXYgZGF0YS1yb2xlPSdoZWFkZXInPiAgICA8YSBocmVmPSdcI3t7cHJldmlvdXNQYWdlfX0nPkJhY2s8L2E+ICAgIDxoMT57e25hbWV9fTwvaDE+ICA8L2Rpdj48IS0tIC9oZWFkZXIgLS0+ICA8ZGl2IGRhdGEtcm9sZT0nY29udGVudCc+CSAgICB7e3tjb250cm9sc319fSAgICB7e3tjb250ZW50fX19ICA8L2Rpdj48IS0tIC9jb250ZW50IC0tPiAgPGRpdiBkYXRhLXJvbGU9J2Zvb3Rlcic+ICAgIHt7Zm9vdGVyTWVzc2FnZX19ICAgIDxidXR0b24gaHJlZj0nXCN7e25leHRQYWdlfX0nPk5leHQ8L2J1dHRvbj4gIDwvZGl2PjwhLS0gL2Zvb3RlciAtLT48L2Rpdj48IS0tIC9wYWdlIC0tPiI7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS50b1BhcGVyID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5jb250ZW50OwogIH07CiAgcmV0dXJuIEpRdWVyeU1vYmlsZVBhZ2U7Cn0pKCk7CkpRdWVyeU1vYmlsZVBhZ2UuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIHJlc3VsdDsKICBzd2l0Y2ggKHBhZ2VPYmplY3QucGFnZVR5cGUpIHsKICAgIGNhc2UgIlNjaG9vbFBhZ2UiOgogICAgICByZXR1cm4gU2Nob29sUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KTsKICAgIGNhc2UgIlN0dWRlbnRJbmZvcm1hdGlvblBhZ2UiOgogICAgICByZXR1cm4gU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KTsKICAgIGNhc2UgIlVudGltZWRTdWJ0ZXN0IjoKICAgICAgcmV0dXJuIFVudGltZWRTdWJ0ZXN0LmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpOwogICAgY2FzZSAiVW50aW1lZFN1YnRlc3RMaW5rZWQiOgogICAgICByZXR1cm4gVW50aW1lZFN1YnRlc3RMaW5rZWQuZGVzZXJpYWxpemUocGFnZU9iamVjdCk7CiAgICBjYXNlICJQaG9uZW1lUGFnZSI6CiAgICAgIHJldHVybiBQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KTsKICAgIGRlZmF1bHQ6CiAgICAgIHJlc3VsdCA9IG5ldyB3aW5kb3dbcGFnZU9iamVjdC5wYWdlVHlwZV0ocGFnZU9iamVjdCk7CiAgICAgIHJlc3VsdC5sb2FkKHBhZ2VPYmplY3QpOwogICAgICByZXR1cm4gcmVzdWx0OwogIH0KfTsKSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKHVybFBhdGgpIHsKICB2YXIganF1ZXJ5TW9iaWxlUGFnZTsKICBqcXVlcnlNb2JpbGVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSkpOwogIGpxdWVyeU1vYmlsZVBhZ2UudXJsU2NoZW1lID0gImxvY2Fsc3RvcmFnZSI7CiAgcmV0dXJuIGpxdWVyeU1vYmlsZVBhZ2U7Cn07CkpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQID0gZnVuY3Rpb24ob3B0aW9ucywgY2FsbGJhY2spIHsKICB2YXIgdXJsUGF0aDsKICBpZiAob3B0aW9ucy51cmwgPT0gbnVsbCkgewogICAgdGhyb3cgIk11c3QgcGFzcyAndXJsJyBvcHRpb24gdG8gbG9hZEZyb21IVFRQLCByZWNlaXZlZDogIiArIG9wdGlvbnM7CiAgfQogIGlmIChvcHRpb25zLnVybC5tYXRjaCgvaHR0cC8pKSB7CiAgICB1cmxQYXRoID0gb3B0aW9ucy51cmwuc3Vic3RyaW5nKG9wdGlvbnMudXJsLmxhc3RJbmRleE9mKCI6Ly8iKSArIDMpOwogIH0gZWxzZSB7CiAgICB1cmxQYXRoID0gb3B0aW9ucy51cmw7CiAgfQogICQuZXh0ZW5kKG9wdGlvbnMsIHsKICAgIHR5cGU6ICdHRVQnLAogICAgZGF0YVR5cGU6ICdqc29uJywKICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICB2YXIganF1ZXJ5TW9iaWxlUGFnZTsKICAgICAgdHJ5IHsKICAgICAgICBqcXVlcnlNb2JpbGVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShyZXN1bHQpOwogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UudXJsUGF0aCA9IHVybFBhdGg7CiAgICAgICAganF1ZXJ5TW9iaWxlUGFnZS51cmxTY2hlbWUgPSAiaHR0cCI7CiAgICAgICAganF1ZXJ5TW9iaWxlUGFnZS5yZXZpc2lvbiA9IHJlc3VsdC5fcmV2OwogICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soanF1ZXJ5TW9iaWxlUGFnZSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCJFcnJvciBpbiBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUDogIiArIGVycm9yKTsKICAgICAgICBjb25zb2xlLnRyYWNlKCk7CiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgIH0KICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgIHRocm93ICJGYWlsZWQgdG8gbG9hZDogIiArIHVybFBhdGg7CiAgICB9CiAgfSk7CiAgcmV0dXJuICQuYWpheChvcHRpb25zKTsKfTsKSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUNvdWNoREIgPSBmdW5jdGlvbih1cmxQYXRoLCBjYWxsYmFjaykgewogIHJldHVybiBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCh7CiAgICB1cmw6ICQuY291Y2hEQkRhdGFiYXNlUGF0aCArIHVybFBhdGgKICB9LCBjYWxsYmFjayk7Cn07CkFzc2Vzc21lbnRQYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhBc3Nlc3NtZW50UGFnZSwgSlF1ZXJ5TW9iaWxlUGFnZSk7CiAgZnVuY3Rpb24gQXNzZXNzbWVudFBhZ2UoKSB7CiAgICBBc3Nlc3NtZW50UGFnZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgQXNzZXNzbWVudFBhZ2UucHJvdG90eXBlLmFkZFRpbWVyID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLnRpbWVyID0gbmV3IFRpbWVyKHsKICAgICAgcGFnZTogdGhpcwogICAgfSk7CiAgICByZXR1cm4gdGhpcy5jb250cm9scyA9ICIgICAgICA8ZGl2IGNsYXNzPSdjb250cm9scycgc3R5bGU9J3dpZHRoOiAxMDBweDtwb3NpdGlvbjpmaXhlZDt0b3A6MTAwcHg7cmlnaHQ6NXB4O3otaW5kZXg6MTAnPiAgICAgICAgPGRpdiBjbGFzcz0ndGltZXInPiAgICAgICAgICAiICsgKHRoaXMudGltZXIucmVuZGVyKCkpICsgIiAgICAgICAgPC9kaXY+ICAgICAgICA8YnIvPiAgICAgICAgPGJyLz4gICAgICAgIDxkaXYgY2xhc3M9J21lc3NhZ2UnPiAgICAgICAgPC9kaXY+ICAgICAgPC9kaXY+IjsKICB9OwogIEFzc2Vzc21lbnRQYWdlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGlucHV0RWxlbWVudCwgX2ksIF9sZW4sIF9yZWY7CiAgICBfcmVmID0gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZm9ybSBpbnB1dCIpOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIGlucHV0RWxlbWVudCA9IF9yZWZbX2ldOwogICAgICBpZiAoJChpbnB1dEVsZW1lbnQpLnZhbCgpID09PSAiIikgewogICAgICAgIHJldHVybiAiJyIgKyAoJCgibGFiZWxbZm9yPSIgKyBpbnB1dEVsZW1lbnQuaWQgKyAiXSIpLmh0bWwoKSkgKyAiJyBpcyBlbXB0eSI7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH07CiAgQXNzZXNzbWVudFBhZ2UucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBvYmplY3REYXRhOwogICAgb2JqZWN0RGF0YSA9IHt9OwogICAgJC5lYWNoKCQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGZvcm0iKS5zZXJpYWxpemVBcnJheSgpLCBmdW5jdGlvbigpIHsKICAgICAgdmFyIHZhbHVlOwogICAgICBpZiAodGhpcy52YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLnZhbHVlOwogICAgICB9IGVsc2UgewogICAgICAgIHZhbHVlID0gJyc7CiAgICAgIH0KICAgICAgaWYgKG9iamVjdERhdGFbdGhpcy5uYW1lXSAhPSBudWxsKSB7CiAgICAgICAgaWYgKCFvYmplY3REYXRhW3RoaXMubmFtZV0ucHVzaCkgewogICAgICAgICAgb2JqZWN0RGF0YVt0aGlzLm5hbWVdID0gW29iamVjdERhdGFbdGhpcy5uYW1lXV07CiAgICAgICAgfQogICAgICAgIHJldHVybiBvYmplY3REYXRhW3RoaXMubmFtZV0ucHVzaCh2YWx1ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIG9iamVjdERhdGFbdGhpcy5uYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBvYmplY3REYXRhOwogIH07CiAgcmV0dXJuIEFzc2Vzc21lbnRQYWdlOwp9KSgpOwpBc3Nlc3NtZW50UGFnZS52YWxpZGF0ZUN1cnJlbnRQYWdlVXBkYXRlTmV4dEJ1dHRvbiA9IGZ1bmN0aW9uKCkgewogIHZhciBwYXNzZWRWYWxpZGF0aW9uOwogIGlmICgkLmFzc2Vzc21lbnQgPT0gbnVsbCkgewogICAgcmV0dXJuOwogIH0KICBwYXNzZWRWYWxpZGF0aW9uID0gJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnZhbGlkYXRlKCkgPT09IHRydWU7CiAgJCgnZGl2LnVpLWZvb3RlciBidXR0b24nKS50b2dnbGVDbGFzcygicGFzc2VkVmFsaWRhdGlvbiIsIHBhc3NlZFZhbGlkYXRpb24pOwogIHJldHVybiAkKCdkaXYudWktZm9vdGVyIGRpdi51aS1idG4nKS50b2dnbGVDbGFzcygidWktYnRuLXVwLWIiLCBwYXNzZWRWYWxpZGF0aW9uKS50b2dnbGVDbGFzcygidWktYnRuLXVwLWMiLCAhcGFzc2VkVmFsaWRhdGlvbik7Cn07CnNldEludGVydmFsKEFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uLCA4MDApOwokKCdkaXYudWktZm9vdGVyIGJ1dHRvbicpLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgdmFyIGJ1dHRvbiwgdmFsaWRhdGlvblJlc3VsdDsKICB2YWxpZGF0aW9uUmVzdWx0ID0gJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnZhbGlkYXRlKCk7CiAgaWYgKHZhbGlkYXRpb25SZXN1bHQgPT09IHRydWUpIHsKICAgIGJ1dHRvbiA9ICQoZXZlbnQuY3VycmVudFRhcmdldCk7CiAgICByZXR1cm4gJC5tb2JpbGUuY2hhbmdlUGFnZShidXR0b24uYXR0cigiaHJlZiIpKTsKICB9IGVsc2UgewogICAgJCgiI19pbmZvUGFnZSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10iKS5odG1sKCJQbGVhc2UgZml4IHRoZSBmb2xsb3dpbmcgYmVmb3JlIHByb2NlZWRpbmc6PGJyLz4iICsgdmFsaWRhdGlvblJlc3VsdCk7CiAgICByZXR1cm4gJC5tb2JpbGUuY2hhbmdlUGFnZSgiI19pbmZvUGFnZSIpOwogIH0KfSk7CkpRdWVyeUxvZ2luID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhKUXVlcnlMb2dpbiwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIEpRdWVyeUxvZ2luKCkgewogICAgSlF1ZXJ5TG9naW4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7CiAgICB0aGlzLnJhbmRvbUlkRm9yU3ViamVjdCA9ICgiIiArIE1hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyLCA4KTsKICAgIHRoaXMucmFuZG9tSWRGb3JTdWJqZWN0ID0gdGhpcy5yYW5kb21JZEZvclN1YmplY3Quc3Vic3RyKDAsIDMpICsgIi0iICsgdGhpcy5yYW5kb21JZEZvclN1YmplY3Quc3Vic3RyKDMpOwogICAgdGhpcy5jb250ZW50ID0gIjxmb3JtPiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+ICAgIDxsYWJlbCBmb3I9J3VzZXJuYW1lJz5Vc2VybmFtZTo8L2xhYmVsPiAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0ndXNlcm5hbWUnIGlkPSd1c2VybmFtZScgdmFsdWU9JycgLz4gICAgPGxhYmVsIGZvcj0ncGFzc3dvcmQnPlBhc3N3b3JkOjwvbGFiZWw+ICAgIDxpbnB1dCB0eXBlPSdwYXNzd29yZCcgbmFtZT0ncGFzc3dvcmQnIGlkPSdwYXNzd29yZCcgdmFsdWU9JycgLz4gIDwvZGl2PjwvZm9ybT4iOwogICAgJCgiZGl2IikubGl2ZSgicGFnZXNob3ciLCBmdW5jdGlvbigpIHsKICAgICAgJC5hc3Nlc3NtZW50LmhhbmRsZVVSTFBhcmFtZXRlcnMoKTsKICAgICAgaWYgKCEoJC5hc3Nlc3NtZW50Lmhhc1VzZXJBdXRoZW50aWNhdGVkKCkgfHwgKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS5wYWdlSWQgPT09ICJMb2dpbiIpKSkgewogICAgICAgIHJldHVybiAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjTG9naW4iKTsKICAgICAgfQogICAgfSk7CiAgfQogIEpRdWVyeUxvZ2luLnByb3RvdHlwZS51c2VyID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5yZXN1bHRzKCkudXNlcm5hbWU7CiAgfTsKICBKUXVlcnlMb2dpbi5wcm90b3R5cGUucGFzc3dvcmQgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnJlc3VsdHMoKS5wYXNzd29yZDsKICB9OwogIEpRdWVyeUxvZ2luLnByb3RvdHlwZS5yZXN1bHRzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcmVzdWx0czsKICAgIHJlc3VsdHMgPSBKUXVlcnlMb2dpbi5fX3N1cGVyX18ucmVzdWx0cy5jYWxsKHRoaXMpOwogICAgcmVzdWx0c1sicmFuZG9tSWRGb3JTdWJqZWN0Il0gPSB0aGlzLnJhbmRvbUlkRm9yU3ViamVjdDsKICAgIHJldHVybiByZXN1bHRzOwogIH07CiAgcmV0dXJuIEpRdWVyeUxvZ2luOwp9KSgpOwpTdHVkZW50SW5mb3JtYXRpb25QYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhTdHVkZW50SW5mb3JtYXRpb25QYWdlLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gU3R1ZGVudEluZm9ybWF0aW9uUGFnZSgpIHsKICAgIFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogIFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBTdHVkZW50SW5mb3JtYXRpb25QYWdlLl9fc3VwZXJfXy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbi5jYWxsKHRoaXMpOwogICAgcHJvcGVydGllcy5wdXNoKCJyYWRpb0J1dHRvbnMiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIGlmICgkKCIjU3R1ZGVudEluZm9ybWF0aW9uIGlucHV0OidyYWRpbyc6Y2hlY2tlZCIpLmxlbmd0aCA9PT0gNykgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAiQWxsIGVsZW1lbnRzIGFyZSByZXF1aXJlZCI7CiAgICB9CiAgfTsKICByZXR1cm4gU3R1ZGVudEluZm9ybWF0aW9uUGFnZTsKfSkoKTsKU3R1ZGVudEluZm9ybWF0aW9uUGFnZS50ZW1wbGF0ZSA9IEhhbmRsZWJhcnMuY29tcGlsZSgiICA8Zm9ybT4gICAge3sjcmFkaW9CdXR0b25zfX0gICAgICA8ZmllbGRzZXQgZGF0YS10eXBlPSd7e3R5cGV9fScgZGF0YS1yb2xlPSdjb250cm9sZ3JvdXAnPiAgICAgICAgPGxlZ2VuZD57e2xhYmVsfX08L2xlZ2VuZD4gICAgICAgIHt7I29wdGlvbnN9fSAgICAgICAgICA8bGFiZWwgZm9yPSd7ey59fSc+e3sufX08L2xhYmVsPiAgICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3t7Li4vbmFtZX19JyB2YWx1ZT0ne3sufX0nIGlkPSd7ey59fSc+PC9pbnB1dD4gICAgICAgIHt7L29wdGlvbnN9fSAgICAgIDwvZmllbGRzZXQ+ICAgIHt7L3JhZGlvQnV0dG9uc319ICA8L2Zvcm0+Iik7ClN0dWRlbnRJbmZvcm1hdGlvblBhZ2UuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIHN0dWRlbnRJbmZvcm1hdGlvblBhZ2U7CiAgc3R1ZGVudEluZm9ybWF0aW9uUGFnZSA9IG5ldyBTdHVkZW50SW5mb3JtYXRpb25QYWdlKCk7CiAgc3R1ZGVudEluZm9ybWF0aW9uUGFnZS5sb2FkKHBhZ2VPYmplY3QpOwogIHN0dWRlbnRJbmZvcm1hdGlvblBhZ2UuY29udGVudCA9IFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UudGVtcGxhdGUoc3R1ZGVudEluZm9ybWF0aW9uUGFnZSk7CiAgcmV0dXJuIHN0dWRlbnRJbmZvcm1hdGlvblBhZ2U7Cn07ClNjaG9vbFBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFNjaG9vbFBhZ2UsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBTY2hvb2xQYWdlKG9wdGlvbnMpIHsKICAgIFNjaG9vbFBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgICB0aGlzLnNjaG9vbHMgPSBvcHRpb25zLnNjaG9vbHM7CiAgICAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBsaSIpLmxpdmUoIm1vdXNlZG93biIsIF9fYmluZChmdW5jdGlvbihldmVudERhdGEpIHsKICAgICAgdmFyIGRhdGFBdHRyaWJ1dGUsIHNlbGVjdGVkRWxlbWVudCwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzOwogICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0KTsKICAgICAgX3JlZiA9IFsibmFtZSIsICJwcm92aW5jZSIsICJkaXN0cmljdCIsICJzY2hvb2xJZCJdOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBkYXRhQXR0cmlidXRlID0gX3JlZltfaV07CiAgICAgICAgX3Jlc3VsdHMucHVzaCgkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBmb3JtIGlucHV0IyIgKyBkYXRhQXR0cmlidXRlKS52YWwoc2VsZWN0ZWRFbGVtZW50LmF0dHIoImRhdGEtIiArIGRhdGFBdHRyaWJ1dGUpKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgfSwgdGhpcykpOwogIH0KICBTY2hvb2xQYWdlLnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXMsIHByb3BlcnR5LCBfaSwgX2xlbiwgX3JlZjsKICAgIHByb3BlcnRpZXMgPSBTY2hvb2xQYWdlLl9fc3VwZXJfXy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbi5jYWxsKHRoaXMpOwogICAgcHJvcGVydGllcy5wdXNoKCJzY2hvb2xzIik7CiAgICBwcm9wZXJ0aWVzLnB1c2goInNlbGVjdE5hbWVUZXh0Iik7CiAgICBfcmVmID0gWyJuYW1lIiwgInByb3ZpbmNlIiwgImRpc3RyaWN0IiwgInNjaG9vbElkIl07CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcHJvcGVydHkgPSBfcmVmW19pXTsKICAgICAgcHJvcGVydGllcy5wdXNoKHByb3BlcnR5ICsgIlRleHQiKTsKICAgIH0KICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgU2Nob29sUGFnZS5wcm90b3R5cGUuX3NjaG9vbFRlbXBsYXRlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgZGF0YUF0dHJpYnV0ZSwgaW5wdXRFbGVtZW50cywgbGlzdEF0dHJpYnV0ZXMsIGxpc3RFbGVtZW50LCBwcm9wZXJ0aWVzLCBfaSwgX2osIF9sZW4sIF9sZW4yOwogICAgcHJvcGVydGllcyA9IFsibmFtZSIsICJwcm92aW5jZSIsICJkaXN0cmljdCIsICJzY2hvb2xJZCJdOwogICAgbGlzdEF0dHJpYnV0ZXMgPSAiIjsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gcHJvcGVydGllcy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBkYXRhQXR0cmlidXRlID0gcHJvcGVydGllc1tfaV07CiAgICAgIGxpc3RBdHRyaWJ1dGVzICs9ICJkYXRhLSIgKyBkYXRhQXR0cmlidXRlICsgIj0ne3siICsgZGF0YUF0dHJpYnV0ZSArICJ9fScgIjsKICAgIH0KICAgIGxpc3RFbGVtZW50ID0gIjxsaSAiICsgbGlzdEF0dHJpYnV0ZXMgKyAiPnt7ZGlzdHJpY3R9fSAtIHt7cHJvdmluY2V9fSAtIHt7bmFtZX19PC9saT4iOwogICAgaW5wdXRFbGVtZW50cyA9ICIiOwogICAgZm9yIChfaiA9IDAsIF9sZW4yID0gcHJvcGVydGllcy5sZW5ndGg7IF9qIDwgX2xlbjI7IF9qKyspIHsKICAgICAgZGF0YUF0dHJpYnV0ZSA9IHByb3BlcnRpZXNbX2pdOwogICAgICBpbnB1dEVsZW1lbnRzICs9ICIgICAgICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgICAgIDxsYWJlbCBmb3I9JyIgKyBkYXRhQXR0cmlidXRlICsgIic+e3siICsgZGF0YUF0dHJpYnV0ZSArICJUZXh0fX08L2xhYmVsPiAgICAgICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9JyIgKyBkYXRhQXR0cmlidXRlICsgIicgaWQ9JyIgKyBkYXRhQXR0cmlidXRlICsgIic+PC9pbnB1dD4gICAgICA8L2Rpdj4gICAgICAiOwogICAgfQogICAgcmV0dXJuICIgICAgPGRpdj4gICAgICA8aDQ+ICAgICAgICB7e3NlbGVjdFNjaG9vbFRleHR9fSAgICAgIDwvaDQ+ICAgIDwvZGl2PiAgICA8dWwgc3R5bGU9J2Rpc3BsYXk6bm9uZScgZGF0YS1maWx0ZXI9J3RydWUnIGRhdGEtZmlsdGVyLXBsYWNlaG9sZGVyPSdTZWFyY2ggZm9yIHNjaG9vbC4uLicgZGF0YS1yb2xlPSdsaXN0dmlldyc+ICAgICAge3sjc2Nob29sc319ICAgICAgICAiICsgbGlzdEVsZW1lbnQgKyAiICAgICAge3svc2Nob29sc319ICAgIDwvdWw+ICAgIDxici8+ICAgIDxici8+ICAgIDxmb3JtPiAgICAgICIgKyBpbnB1dEVsZW1lbnRzICsgIiAgICA8L2Zvcm0+ICAiOwogIH07CiAgU2Nob29sUGFnZS5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBpbnB1dEVsZW1lbnQsIF9pLCBfbGVuLCBfcmVmOwogICAgX3JlZiA9ICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGZvcm0gZGl2LnVpLWZpZWxkLWNvbnRhaW4gaW5wdXQiKTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBpbnB1dEVsZW1lbnQgPSBfcmVmW19pXTsKICAgICAgaWYgKCQoaW5wdXRFbGVtZW50KS52YWwoKSA9PT0gIiIpIHsKICAgICAgICByZXR1cm4gIiciICsgKCQoImxhYmVsW2Zvcj0iICsgaW5wdXRFbGVtZW50LmlkICsgIl0iKS5odG1sKCkpICsgIicgaXMgZW1wdHkiOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9OwogIHJldHVybiBTY2hvb2xQYWdlOwp9KSgpOwpTY2hvb2xQYWdlLmRlc2VyaWFsaXplID0gZnVuY3Rpb24ocGFnZU9iamVjdCkgewogIHZhciBzY2hvb2xQYWdlOwogIHNjaG9vbFBhZ2UgPSBuZXcgU2Nob29sUGFnZShwYWdlT2JqZWN0KTsKICBzY2hvb2xQYWdlLmxvYWQocGFnZU9iamVjdCk7CiAgc2Nob29sUGFnZS5jb250ZW50ID0gTXVzdGFjaGUudG9faHRtbChzY2hvb2xQYWdlLl9zY2hvb2xUZW1wbGF0ZSgpLCBzY2hvb2xQYWdlKTsKICByZXR1cm4gc2Nob29sUGFnZTsKfTsKU2Nob29sUGFnZS5oaWRlTGlzdFVudGlsU2VhcmNoID0gZnVuY3Rpb24oKSB7CiAgaWYgKCQoIiNTY2hvb2wgaW5wdXRbZGF0YS10eXBlPSdzZWFyY2gnXSIpLnZhbCgpICE9PSAiIikgewogICAgJCgiI1NjaG9vbCB1bCIpLnNob3coKTsKICAgIHJldHVybiBjbGVhckludGVydmFsKGhpZGVMaXN0VW50aWxTZWFyY2hJbnRlcnZhbCk7CiAgfQp9OwpoaWRlTGlzdFVudGlsU2VhcmNoSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChTY2hvb2xQYWdlLmhpZGVMaXN0VW50aWxTZWFyY2gsIDUwMCk7CkRhdGVUaW1lUGFnZSA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoRGF0ZVRpbWVQYWdlLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gRGF0ZVRpbWVQYWdlKCkgewogICAgRGF0ZVRpbWVQYWdlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBEYXRlVGltZVBhZ2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbihkYXRhKSB7CiAgICB0aGlzLmNvbnRlbnQgPSAiPGZvcm0+ICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgPGxhYmVsIGZvcj0neWVhcic+WWVhcjo8L2xhYmVsPiAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSd5ZWFyJyBpZD0neWVhcicgLz4gIDwvZGl2PiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+ICAgIDxsYWJlbCBmb3I9J21vbnRoJz5Nb250aDo8L2xhYmVsPiAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbW9udGgnIGlkPSdtb250aCcgLz4gIDwvZGl2PiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+ICAgIDxsYWJlbCBmb3I9J2RheSc+RGF5OjwvbGFiZWw+ICAgIDxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J2RheScgaWQ9J2RheScgLz4gIDwvZGl2PiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+ICAgIDxsYWJlbCBmb3I9J3RpbWUnPlRpbWU6PC9sYWJlbD4gICAgPGlucHV0IHR5cGU9J3RleHQnIG5hbWU9J3RpbWUnIGlkPSd0aW1lJyAvPiAgPC9kaXY+PC9mb3JtPiI7CiAgICBEYXRlVGltZVBhZ2UuX19zdXBlcl9fLmxvYWQuY2FsbCh0aGlzLCBkYXRhKTsKICAgIHJldHVybiAkKCJkaXYjIiArIHRoaXMucGFnZUlkKS5saXZlKCJwYWdlc2hvdyIsIF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdmFyIGRhdGVUaW1lLCBtaW51dGVzOwogICAgICBkYXRlVGltZSA9IG5ldyBEYXRlKCk7CiAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiICN5ZWFyIikudmFsKGRhdGVUaW1lLmdldEZ1bGxZZWFyKCkpOwogICAgICAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiAjbW9udGgiKS52YWwoWyJKYW4iLCAiRmViIiwgIk1hciIsICJBcHIiLCAiTWF5IiwgIkp1biIsICJKdWwiLCAiQXVnIiwgIlNlcCIsICJPY3QiLCAiTm92IiwgIkRlYyJdW2RhdGVUaW1lLmdldE1vbnRoKCldKTsKICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgI2RheSIpLnZhbChkYXRlVGltZS5nZXREYXRlKCkpOwogICAgICBtaW51dGVzID0gZGF0ZVRpbWUuZ2V0TWludXRlcygpOwogICAgICBpZiAobWludXRlcyA8IDEwKSB7CiAgICAgICAgbWludXRlcyA9ICIwIiArIG1pbnV0ZXM7CiAgICAgIH0KICAgICAgcmV0dXJuICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiICN0aW1lIikudmFsKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAiOiIgKyBtaW51dGVzKTsKICAgIH0sIHRoaXMpKTsKICB9OwogIHJldHVybiBEYXRlVGltZVBhZ2U7Cn0pKCk7ClJlc3VsdHNQYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhSZXN1bHRzUGFnZSwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIFJlc3VsdHNQYWdlKG9wdGlvbnMpIHsKICAgIFJlc3VsdHNQYWdlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpOwogICAgdGhpcy5jb250ZW50ID0gSGFuZGxlYmFycy5jb21waWxlKCIgICAgICA8ZGl2IGNsYXNzPSdyZXN1bHRzTWVzc2FnZSc+ICAgICAgPC9kaXY+ICAgICAgPGRpdiBkYXRhLXJvbGU9J2NvbGxhcHNpYmxlJyBkYXRhLWNvbGxhcHNlZD0ndHJ1ZScgY2xhc3M9J3Jlc3VsdHMnPiAgICAgICAgPGgzPlJlc3VsdHM8L2gzPiAgICAgICAgPHByZT4gICAgICAgIDwvcHJlPiAgICAgIDwvZGl2PiAgICAgIDxkaXYgY2xhc3M9J21lc3NhZ2UnPiAgICAgICAgWW91IGhhdmUgZmluaXNoZWQgYXNzZXNzbWVudCA8c3BhbiBjbGFzcz0ncmFuZG9tSWRGb3JTdWJqZWN0Jz48L3NwYW4+LiBUaGFuayB0aGUgY2hpbGQgd2l0aCBhIHNtYWxsIGdpZnQuIFBsZWFzZSB3cml0ZSA8c3BhbiBjbGFzcz0ncmFuZG9tSWRGb3JTdWJqZWN0Jz48L3NwYW4+IG9uIHRoZSB3cml0aW5nIHNhbXBsZS4gICAgICA8L2Rpdj4gICAgICA8ZGl2IGRhdGEtaW5saW5lPSd0cnVlJz4gICAgICAgIDwhLS0gVE9ETyBpbnNlcnQgdXNlcm5hbWUvcGFzc3dvcmQgaW50byBHRVQgc3RyaW5nIHNvIHdlIGRvbid0IGhhdmUgdG8gcmV0eXBlIC0tPiAgICAgICAgPCEtLSAgICAgICAgPGEgZGF0YS1pbmxpbmU9J3RydWUnIGRhdGEtcm9sZT0nYnV0dG9uJyByZWw9J2V4dGVybmFsJyBocmVmPScjRGF0ZVRpbWU/dXNlcm5hbWU9IiArICImcGFzc3dvcmQ9IiArICInPkJlZ2luIEFub3RoZXIgQXNzZXNzbWVudDwvYT4gICAgICAgIC0tPiAgICAgICAgPGEgZGF0YS1pbmxpbmU9J3RydWUnIGRhdGEtcm9sZT0nYnV0dG9uJyByZWw9J2V4dGVybmFsJyBocmVmPSciICsgKCQuYXNzZXNzbWVudC5yZXNldFVSTCgpKSArICInPkJlZ2luIEFub3RoZXIgQXNzZXNzbWVudDwvYT4gICAgICAgIDxhIGRhdGEtaW5saW5lPSd0cnVlJyBkYXRhLXJvbGU9J2J1dHRvbicgcmVsPSdleHRlcm5hbCcgaHJlZj0nIiArICQuY291Y2hEQkRhdGFiYXNlUGF0aCArICIvX2FsbF9kb2NzJz5TdW1tYXJ5PC9hPiAgICAgIDwvZGl2PiAgICAiKTsKICB9CiAgUmVzdWx0c1BhZ2UucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbihkYXRhKSB7CiAgICBSZXN1bHRzUGFnZS5fX3N1cGVyX18ubG9hZC5jYWxsKHRoaXMsIGRhdGEpOwogICAgcmV0dXJuICQoImRpdiMiICsgdGhpcy5wYWdlSWQpLmxpdmUoInBhZ2VzaG93IiwgX19iaW5kKGZ1bmN0aW9uKCkgewogICAgICB2YXIgdmFsaWRhdGlvblJlc3VsdCwgX3JlZiwgX3JlZjI7CiAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGRpdiBzcGFuW2NsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnXSIpLmh0bWwoKF9yZWYgPSAkLmFzc2Vzc21lbnQucmVzdWx0cygpKSAhPSBudWxsID8gKF9yZWYyID0gX3JlZi5Mb2dpbikgIT0gbnVsbCA/IF9yZWYyLnJhbmRvbUlkRm9yU3ViamVjdCA6IHZvaWQgMCA6IHZvaWQgMCk7CiAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGRpdltkYXRhLXJvbGU9J2hlYWRlciddIGEiKS5oaWRlKCk7CiAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGRpdltkYXRhLXJvbGU9J2Zvb3RlciddIGRpdiIpLmhpZGUoKTsKICAgICAgdmFsaWRhdGlvblJlc3VsdCA9ICQuYXNzZXNzbWVudC52YWxpZGF0ZSgpOwogICAgICBpZiAodmFsaWRhdGlvblJlc3VsdCA9PT0gdHJ1ZSkgewogICAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0c01lc3NhZ2UiKS5odG1sKCJSZXN1bHRzIFZhbGlkYXRlZCIpOwogICAgICAgIHJldHVybiAkLmFzc2Vzc21lbnQuc2F2ZVJlc3VsdHMoX19iaW5kKGZ1bmN0aW9uKHJlc3VsdHMpIHsKICAgICAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0c01lc3NhZ2UiKS5odG1sKCJSZXN1bHRzIFNhdmVkIik7CiAgICAgICAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzIHByZSIpLmh0bWwoSlNPTi5zdHJpbmdpZnkocmVzdWx0cywgbnVsbCwgMikpOwogICAgICAgIH0sIHRoaXMpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzTWVzc2FnZSIpLmh0bWwoIkludmFsaWQgcmVzdWx0czo8YnIvPiAiICsgdmFsaWRhdGlvblJlc3VsdCArICI8YnIvPllvdSBtYXkgc3RhcnQgdGhpcyBhc3Nlc3NtZW50IG92ZXIgYWdhaW4gYnkgc2VsZWN0aW5nICdCZWluZyBBbm90aGVyIEFzc2Vzc21lbnQnIGJlbG93LiIpOwogICAgICB9CiAgICB9LCB0aGlzKSk7CiAgfTsKICByZXR1cm4gUmVzdWx0c1BhZ2U7Cn0pKCk7ClRleHRQYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhUZXh0UGFnZSwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIFRleHRQYWdlKCkgewogICAgVGV4dFBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogIFRleHRQYWdlLnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXM7CiAgICBwcm9wZXJ0aWVzID0gVGV4dFBhZ2UuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goImNvbnRlbnQiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgcmV0dXJuIFRleHRQYWdlOwp9KSgpOwpDb25zZW50UGFnZSA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoQ29uc2VudFBhZ2UsIFRleHRQYWdlKTsKICBmdW5jdGlvbiBDb25zZW50UGFnZSgpIHsKICAgIENvbnNlbnRQYWdlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICAkKCJkaXYjIiArIENvbnNlbnRQYWdlLnBhZ2VJZCArICIgbGFiZWxbZm9yPSdjb25zZW50LW5vJ10iKS5saXZlKCJtb3VzZWRvd24iLCBfX2JpbmQoZnVuY3Rpb24oZXZlbnREYXRhKSB7CiAgICAkKCIjX2luZm9QYWdlIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSIpLmh0bWwoIjxiPlRoYW5rIHlvdSBmb3IgeW91ciB0aW1lPC9iPi4gU2F2aW5nIHBhcnRpYWwgcmVzdWx0cy4iKTsKICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIiNfaW5mb1BhZ2UiKTsKICAgIHJldHVybiAkLmFzc2Vzc21lbnQuc2F2ZVJlc3VsdHMoX19iaW5kKGZ1bmN0aW9uKHJlc3VsdHMpIHsKICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkgewogICAgICAgICQoIiNfaW5mb1BhZ2UgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIikuaHRtbCgiUmVzZXR0aW5nIGFzc2Vzc21lbnQgZm9yIG5leHQgc3R1ZGVudC4iKTsKICAgICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gJC5hc3Nlc3NtZW50LnJlc2V0KCk7CiAgICAgICAgfSksIDEwMDApOwogICAgICB9KSwgMjAwMCk7CiAgICB9LCB0aGlzKSk7CiAgfSwgQ29uc2VudFBhZ2UpKTsKICByZXR1cm4gQ29uc2VudFBhZ2U7Cn0pLmNhbGwodGhpcyk7Cih7CiAgdmFsaWRhdGU6IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRydWU7CiAgICBpZiAoJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgaW5wdXRbQG5hbWU9J2NoaWxkQ29uc2VudHMnXTpjaGVja2VkIikudmFsKCkpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIllvdSBtdXN0IGFuc3dlciB0aGUgY29uc2VudCBxdWVzdGlvbiI7CiAgICB9CiAgfQp9KTsKVW50aW1lZFN1YnRlc3QgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFVudGltZWRTdWJ0ZXN0LCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gVW50aW1lZFN1YnRlc3Qob3B0aW9ucykgewogICAgdmFyIGFuc3dlciwgaW5kZXgsIHF1ZXN0aW9uLCBxdWVzdGlvbk5hbWU7CiAgICB0aGlzLnF1ZXN0aW9ucyA9IG9wdGlvbnMucXVlc3Rpb25zOwogICAgVW50aW1lZFN1YnRlc3QuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgICB0aGlzLmZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlOwogICAgdGhpcy5jb250ZW50ID0gIjxmb3JtPiIgKyAoKGZ1bmN0aW9uKCkgewogICAgICB2YXIgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgIF9yZWYgPSB0aGlzLnF1ZXN0aW9uczsKICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgZm9yIChpbmRleCA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgaW5kZXggPCBfbGVuOyBpbmRleCsrKSB7CiAgICAgICAgcXVlc3Rpb24gPSBfcmVmW2luZGV4XTsKICAgICAgICBxdWVzdGlvbk5hbWUgPSB0aGlzLnBhZ2VJZCArICItcXVlc3Rpb24tIiArIGluZGV4OwogICAgICAgIF9yZXN1bHRzLnB1c2goKCIgICAgICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPiAgICAgICAgICAgIDxsZWdlbmQ+IiArIHF1ZXN0aW9uICsgIjwvbGVnZW5kPiAgICAgICIpICsgKChmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciBfaSwgX2xlbjIsIF9yZWYyLCBfcmVzdWx0czI7CiAgICAgICAgICBfcmVmMiA9IFsiQ29ycmVjdCIsICJJbmNvcnJlY3QiLCAiTm8gcmVzcG9uc2UiXTsKICAgICAgICAgIF9yZXN1bHRzMiA9IFtdOwogICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4yID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW4yOyBfaSsrKSB7CiAgICAgICAgICAgIGFuc3dlciA9IF9yZWYyW19pXTsKICAgICAgICAgICAgX3Jlc3VsdHMyLnB1c2goIiAgICAgICAgPGxhYmVsIGZvcj0nIiArIHF1ZXN0aW9uTmFtZSArICItIiArIGFuc3dlciArICInPiIgKyBhbnN3ZXIgKyAiPC9sYWJlbD4gICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0nIiArIHF1ZXN0aW9uTmFtZSArICInIGlkPSciICsgcXVlc3Rpb25OYW1lICsgIi0iICsgYW5zd2VyICsgIicgdmFsdWU9JyIgKyBhbnN3ZXIgKyAiJyAvPiAgICAgICAgIik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHMyOwogICAgICAgIH0pKCkpLmpvaW4oIiIpICsgIiAgICAgICAgICA8L2ZpZWxkc2V0PiAgICAgIDwvZGl2PiAgICAgICIpOwogICAgICB9CiAgICAgIHJldHVybiBfcmVzdWx0czsKICAgIH0pLmNhbGwodGhpcykpLmpvaW4oIiIpICsgIjwvZm9ybT4iOwogIH0KICBVbnRpbWVkU3VidGVzdC5wcm90b3R5cGUucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbigpIHsKICAgIHZhciBwcm9wZXJ0aWVzOwogICAgcHJvcGVydGllcyA9IFVudGltZWRTdWJ0ZXN0Ll9fc3VwZXJfXy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbi5jYWxsKHRoaXMpOwogICAgcHJvcGVydGllcy5wdXNoKCJxdWVzdGlvbnMiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgVW50aW1lZFN1YnRlc3QucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoXy5zaXplKHRoaXMucmVzdWx0cygpKSA9PT0gdGhpcy5xdWVzdGlvbnMubGVuZ3RoKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICJPbmx5ICIgKyAoXy5zaXplKHRoaXMucmVzdWx0cygpKSkgKyAiIG91dCBvZiB0aGUgIiArIHRoaXMucXVlc3Rpb25zLmxlbmd0aCArICIgcXVlc3Rpb25zIHdlcmUgYW5zd2VyZWQiOwogICAgfQogIH07CiAgcmV0dXJuIFVudGltZWRTdWJ0ZXN0Owp9KSgpOwpVbnRpbWVkU3VidGVzdC5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHBhZ2VPYmplY3QpIHsKICB2YXIgdW50aW1lZFN1YnRlc3Q7CiAgdW50aW1lZFN1YnRlc3QgPSBuZXcgVW50aW1lZFN1YnRlc3QocGFnZU9iamVjdCk7CiAgdW50aW1lZFN1YnRlc3QubG9hZChwYWdlT2JqZWN0KTsKICByZXR1cm4gdW50aW1lZFN1YnRlc3Q7Cn07ClVudGltZWRTdWJ0ZXN0TGlua2VkID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhVbnRpbWVkU3VidGVzdExpbmtlZCwgVW50aW1lZFN1YnRlc3QpOwogIGZ1bmN0aW9uIFVudGltZWRTdWJ0ZXN0TGlua2VkKG9wdGlvbnMpIHsKICAgIHZhciBsaW5rZWRQYWdlTmFtZTsKICAgIHRoaXMubGlua2VkVG9QYWdlSWQgPSBvcHRpb25zLmxpbmtlZFRvUGFnZUlkOwogICAgdGhpcy5xdWVzdGlvbkluZGljZXMgPSBvcHRpb25zLnF1ZXN0aW9uSW5kaWNlczsKICAgIHRoaXMuZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2U7CiAgICBVbnRpbWVkU3VidGVzdExpbmtlZC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIGxpbmtlZFBhZ2VOYW1lID0gdGhpcy5saW5rZWRUb1BhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKTsKICAgIHRoaXMuY29udGVudCArPSAiPGRpdiBpZD0nIiArIHRoaXMucGFnZUlkICsgIi1ub3QtZW5vdWdoLXByb2dyZXNzLW1lc3NhZ2UnIHN0eWxlPSdkaXNwbGF5OmhpZGRlbic+Tm90IGVub3VnaCBwcm9ncmVzcyB3YXMgbWFkZSBvbiAiICsgbGlua2VkUGFnZU5hbWUgKyAiIHRvIHNob3cgcXVlc3Rpb25zIGZyb20gIiArICh0aGlzLm5hbWUoKSkgKyAiLiBDb250aW51ZSBieSBwcmVzc2luZyBOZXh0LjwvZGl2PiI7CiAgICAkKCIjIiArIHRoaXMucGFnZUlkKS5saXZlKCdwYWdlc2hvdycsIF9fYmluZChmdW5jdGlvbihldmVudERhdGEpIHsKICAgICAgdmFyIGF0dGVtcHRlZE9uTGlua2VkUGFnZSwgaW5wdXRFbGVtZW50LCBfaSwgX2xlbiwgX3JlZjsKICAgICAgYXR0ZW1wdGVkT25MaW5rZWRQYWdlID0gJC5hc3Nlc3NtZW50LmdldFBhZ2UodGhpcy5saW5rZWRUb1BhZ2VJZCkucmVzdWx0cygpLmF0dGVtcHRlZDsKICAgICAgdGhpcy5udW1iZXJJbnB1dEZpZWxkc1Nob3duID0gMDsKICAgICAgX3JlZiA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIGlucHV0W3R5cGU9J3JhZGlvJ10iKTsKICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgaW5wdXRFbGVtZW50ID0gX3JlZltfaV07CiAgICAgICAgaWYgKGF0dGVtcHRlZE9uTGlua2VkUGFnZSA8IHRoaXMucXVlc3Rpb25JbmRpY2VzW2lucHV0RWxlbWVudC5uYW1lLnN1YnN0cihpbnB1dEVsZW1lbnQubmFtZS5sYXN0SW5kZXhPZigiLSIpICsgMSldKSB7CiAgICAgICAgICAkKGlucHV0RWxlbWVudCkucGFyZW50cygiZGl2W2RhdGEtcm9sZT0nZmllbGRjb250YWluJ10iKS5oaWRlKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICQoaW5wdXRFbGVtZW50KS5wYXJlbnRzKCJkaXZbZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nXSIpLnNob3coKTsKICAgICAgICAgIHRoaXMubnVtYmVySW5wdXRGaWVsZHNTaG93bisrOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICItbm90LWVub3VnaC1wcm9ncmVzcy1tZXNzYWdlIikudG9nZ2xlKHRoaXMubnVtYmVySW5wdXRGaWVsZHNTaG93biA9PT0gMCk7CiAgICB9LCB0aGlzKSk7CiAgfQogIFVudGltZWRTdWJ0ZXN0TGlua2VkLnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXM7CiAgICBwcm9wZXJ0aWVzID0gVW50aW1lZFN1YnRlc3RMaW5rZWQuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcy5jb25jYXQoWyJxdWVzdGlvbnMiLCAibGlua2VkVG9QYWdlSWQiLCAicXVlc3Rpb25JbmRpY2VzIl0pOwogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICBVbnRpbWVkU3VidGVzdExpbmtlZC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkLCBudW1iZXJPZlF1ZXN0aW9uc1Nob3duOwogICAgbnVtYmVyT2ZRdWVzdGlvbnNTaG93biA9IHRoaXMubnVtYmVySW5wdXRGaWVsZHNTaG93biAvIDM7CiAgICBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID0gXy5zaXplKHRoaXMucmVzdWx0cygpKTsKICAgIGlmIChudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID09PSBudW1iZXJPZlF1ZXN0aW9uc1Nob3duKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICJPbmx5ICIgKyBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkICsgIiBvdXQgb2YgdGhlICIgKyBudW1iZXJPZlF1ZXN0aW9uc1Nob3duICsgIiBxdWVzdGlvbnMgd2VyZSBhbnN3ZXJlZCI7CiAgICB9CiAgfTsKICByZXR1cm4gVW50aW1lZFN1YnRlc3RMaW5rZWQ7Cn0pKCk7ClVudGltZWRTdWJ0ZXN0TGlua2VkLmRlc2VyaWFsaXplID0gZnVuY3Rpb24ocGFnZU9iamVjdCkgewogIHZhciB1bnRpbWVkU3VidGVzdDsKICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdExpbmtlZChwYWdlT2JqZWN0KTsKICB1bnRpbWVkU3VidGVzdC5sb2FkKHBhZ2VPYmplY3QpOwogIHJldHVybiB1bnRpbWVkU3VidGVzdDsKfTsKUGhvbmVtZVBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFBob25lbWVQYWdlLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gUGhvbmVtZVBhZ2Uod29yZHMpIHsKICAgIHZhciBhbnN3ZXIsIGluZGV4LCBpdGVtLCBwaG9uZW1lLCBwaG9uZW1lSW5kZXgsIHBob25lbWVOYW1lLCB3b3JkTmFtZTsKICAgIHRoaXMud29yZHMgPSB3b3JkczsKICAgIFBob25lbWVQYWdlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMpOwogICAgdGhpcy5zdWJ0ZXN0SWQgPSAicGhvbmVtaWMtYXdhcmVuZXNzIjsKICAgIHRoaXMuZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2U7CiAgICBwaG9uZW1lSW5kZXggPSAxOwogICAgdGhpcy5jb250ZW50ID0gKCI8Zm9ybSBpZD0nIiArIHRoaXMuc3VidGVzdElkICsgIic+IikgKyAoKGZ1bmN0aW9uKCkgewogICAgICB2YXIgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgIF9yZWYgPSB0aGlzLndvcmRzOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKGluZGV4ID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBpbmRleCA8IF9sZW47IGluZGV4KyspIHsKICAgICAgICBpdGVtID0gX3JlZltpbmRleF07CiAgICAgICAgd29yZE5hbWUgPSB0aGlzLnN1YnRlc3RJZCArICItbnVtYmVyLXNvdW5kLSIgKyAoaW5kZXggKyAxKTsKICAgICAgICBfcmVzdWx0cy5wdXNoKCgiICAgICAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+ICAgICAgICAgIDxsZWdlbmQ+IiArIGl0ZW1bIndvcmQiXSArICIgLSAiICsgaXRlbVsibnVtYmVyLW9mLXNvdW5kcyJdICsgIjwvbGVnZW5kPiAgICAgICAgICA8ZmllbGRzZXQgZGF0YS1yb2xlPSdjb250cm9sZ3JvdXAnIGRhdGEtdHlwZT0naG9yaXpvbnRhbCc+ICAgICAgIikgKyAoKGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIF9pLCBfbGVuMiwgX3JlZjIsIF9yZXN1bHRzMjsKICAgICAgICAgIF9yZWYyID0gWyJDb3JyZWN0IiwgIkluY29ycmVjdCJdOwogICAgICAgICAgX3Jlc3VsdHMyID0gW107CiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbjIgPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjI7IF9pKyspIHsKICAgICAgICAgICAgYW5zd2VyID0gX3JlZjJbX2ldOwogICAgICAgICAgICBfcmVzdWx0czIucHVzaCgiICAgICAgICA8bGFiZWwgZm9yPSciICsgd29yZE5hbWUgKyAiLSIgKyBhbnN3ZXIgKyAiJz4iICsgYW5zd2VyICsgIjwvbGFiZWw+ICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9JyIgKyB3b3JkTmFtZSArICInIGlkPSciICsgd29yZE5hbWUgKyAiLSIgKyBhbnN3ZXIgKyAiJyB2YWx1ZT0nIiArIGFuc3dlciArICInIC8+ICAgICAgICAiKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfcmVzdWx0czI7CiAgICAgICAgfSkoKSkuam9pbigiIikgKyAiICAgICAgICAgIDwvZmllbGRzZXQ+ICAgICAgICAgIDxmaWVsZHNldCBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCcgZGF0YS10eXBlPSdob3Jpem9udGFsJz4gICAgICAiICsgKChmdW5jdGlvbigpIHsKICAgICAgICAgIHZhciBfaSwgX2xlbjIsIF9yZWYyLCBfcmVzdWx0czI7CiAgICAgICAgICBfcmVmMiA9IGl0ZW1bInBob25lbWVzIl07CiAgICAgICAgICBfcmVzdWx0czIgPSBbXTsKICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuMjsgX2krKykgewogICAgICAgICAgICBwaG9uZW1lID0gX3JlZjJbX2ldOwogICAgICAgICAgICBwaG9uZW1lTmFtZSA9IHRoaXMuc3VidGVzdElkICsgIi1waG9uZW1lLXNvdW5kLSIgKyBwaG9uZW1lSW5kZXgrKzsKICAgICAgICAgICAgX3Jlc3VsdHMyLnB1c2goIiAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9JyIgKyBwaG9uZW1lTmFtZSArICInIGlkPSciICsgcGhvbmVtZU5hbWUgKyAiJyAvPiAgICAgICAgICA8bGFiZWwgZm9yPSciICsgcGhvbmVtZU5hbWUgKyAiJz4iICsgcGhvbmVtZSArICI8L2xhYmVsPiAgICAgICAgIik7CiAgICAgICAgICB9CiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHMyOwogICAgICAgIH0pLmNhbGwodGhpcykpLmpvaW4oIiIpICsgIiAgICAgICAgICA8L2ZpZWxkc2V0PiAgICAgIDwvZGl2PiAgICAgIDxoci8+ICAgICAgIik7CiAgICAgIH0KICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgfSkuY2FsbCh0aGlzKSkuam9pbigiIikgKyAiPC9mb3JtPiI7CiAgfQogIFBob25lbWVQYWdlLnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXM7CiAgICBwcm9wZXJ0aWVzID0gUGhvbmVtZVBhZ2UuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goIndvcmRzIik7CiAgICByZXR1cm4gcHJvcGVydGllczsKICB9OwogIFBob25lbWVQYWdlLnByb3RvdHlwZS5yZXN1bHRzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXQsIHJlc3VsdHMsIF9pLCBfbGVuLCBfcmVmOwogICAgcmVzdWx0cyA9IFBob25lbWVQYWdlLl9fc3VwZXJfXy5yZXN1bHRzLmNhbGwodGhpcyk7CiAgICBfcmVmID0gJCgiZm9ybSMiICsgdGhpcy5zdWJ0ZXN0SWQgKyAiIGlucHV0OmNoZWNrYm94Iik7CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgaW5wdXQgPSBfcmVmW19pXTsKICAgICAgcmVzdWx0c1siIiArIGlucHV0Lm5hbWVdID0gaW5wdXQudmFsdWUgIT09ICJvbiI7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwogIFBob25lbWVQYWdlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGluZGV4LCBpdGVtLCByZXN1bHRzLCBfbGVuLCBfcmVmOwogICAgcmVzdWx0cyA9IHRoaXMucmVzdWx0cygpOwogICAgX3JlZiA9IHRoaXMud29yZHM7CiAgICBmb3IgKGluZGV4ID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBpbmRleCA8IF9sZW47IGluZGV4KyspIHsKICAgICAgaXRlbSA9IF9yZWZbaW5kZXhdOwogICAgICBpZiAocmVzdWx0c1t0aGlzLnN1YnRlc3RJZCArICItbnVtYmVyLXNvdW5kLSIgKyAoaW5kZXggKyAxKV0gPT0gbnVsbCkgewogICAgICAgIHJldHVybiAiWW91IG11c3Qgc2VsZWN0IENvcnJlY3Qgb3IgSW5jb3JyZWN0IGZvciBpdGVtICMiICsgKGluZGV4ICsgMSkgKyAiOiA8Yj4iICsgaXRlbVsid29yZCJdICsgIjwvYj4iOwogICAgICB9CiAgICB9CiAgICByZXR1cm4gdHJ1ZTsKICB9OwogIHJldHVybiBQaG9uZW1lUGFnZTsKfSkoKTsKUGhvbmVtZVBhZ2UuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIHBhZ2U7CiAgcGFnZSA9IG5ldyBQaG9uZW1lUGFnZShwYWdlT2JqZWN0LndvcmRzKTsKICBwYWdlLmxvYWQocGFnZU9iamVjdCk7CiAgcmV0dXJuIHBhZ2U7Cn07ClRvZ2dsZUdyaWRXaXRoVGltZXIgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFRvZ2dsZUdyaWRXaXRoVGltZXIsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBUb2dnbGVHcmlkV2l0aFRpbWVyKG9wdGlvbnMpIHsKICAgIHZhciBpbmRleCwgbGV0dGVyLCByZXN1bHQsIHNlbGVjdEV2ZW50LCBfbGVuLCBfcmVmOwogICAgdGhpcy5sZXR0ZXJzID0gb3B0aW9ucy5sZXR0ZXJzOwogICAgdGhpcy5udW1iZXJPZkNvbHVtbnMgPSAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5udW1iZXJPZkNvbHVtbnMgOiB2b2lkIDApIHx8IDEwOwogICAgdGhpcy5mb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZTsKICAgIFRvZ2dsZUdyaWRXaXRoVGltZXIuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgICB0aGlzLmFkZFRpbWVyKCk7CiAgICByZXN1bHQgPSAiIjsKICAgIF9yZWYgPSB0aGlzLmxldHRlcnM7CiAgICBmb3IgKGluZGV4ID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBpbmRleCA8IF9sZW47IGluZGV4KyspIHsKICAgICAgbGV0dGVyID0gX3JlZltpbmRleF07CiAgICAgIHJlc3VsdCArPSAiPGRpdiBjbGFzcz0nZ3JpZCc+PHNwYW4gY2xhc3M9J2dyaWQtdGV4dCcgPiIgKyBsZXR0ZXIgKyAiPC9zcGFuPjwvZGl2PiI7CiAgICAgIGlmICgoaW5kZXggKyAxKSAlIDUgPT09IDApIHsKICAgICAgICByZXN1bHQgKz0gIjxkaXYgY2xhc3M9J3RvZ2dsZS1yb3cgZ3JpZCc+PHNwYW4gY2xhc3M9J2dyaWQtdGV4dCAiICsgKCEoKGluZGV4ICsgMSkgJSAxMCA9PT0gMCkgPyAidG9nZ2xlLXJvdy1wb3J0cmFpdCIgOiB2b2lkIDApICsgIic+Kjwvc3Bhbj48L2Rpdj4iOwogICAgICB9CiAgICB9CiAgICB0aGlzLmNvbnRlbnQgPSAiICAgICAgPGRpdiBjbGFzcz0ndGltZXInPiAgICAgICAgPGJ1dHRvbj5zdGFydDwvYnV0dG9uPiAgICAgIDwvZGl2PiAgICAgIDxkaXYgY2xhc3M9J3RvZ2dsZS1ncmlkLXdpdGgtdGltZXInIGRhdGEtcm9sZT0nY29udGVudCc+CSAgICAgICAgPGZvcm0+ICAgICAgICAgIDxkaXYgY2xhc3M9J2dyaWQtd2lkdGgnPiAgICAgICAgICAgICIgKyByZXN1bHQgKyAiICAgICAgICAgIDwvZGl2PiAgICAgICAgPC9mb3JtPiAgICAgIDwvZGl2PiAgICAgIDxkaXYgY2xhc3M9J3RpbWVyJz4gICAgICAgIDxidXR0b24+c3RvcDwvYnV0dG9uPiAgICAgIDwvZGl2PiAgICAgICI7CiAgICAkKCIjIiArIHRoaXMucGFnZUlkKS5saXZlKCJwYWdlc2hvdyIsIF9fYmluZChmdW5jdGlvbihldmVudERhdGEpIHsKICAgICAgdmFyIGZvbnRTaXplLCBncmlkV2lkdGgsIGxldHRlclNwYW4sIF9pLCBfbGVuMiwgX3JlZjI7CiAgICAgIGdyaWRXaWR0aCA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkOmZpcnN0Iikud2lkdGgoKTsKICAgICAgZm9udFNpemUgPSAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZDpmaXJzdCBzcGFuIikuY3NzKCdmb250LXNpemUnKTsKICAgICAgZm9udFNpemUgPSBmb250U2l6ZS5zdWJzdHIoMCwgZm9udFNpemUuaW5kZXhPZigicHgiKSk7CiAgICAgIF9yZWYyID0gJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmdyaWQgc3BhbiIpOwogICAgICBmb3IgKF9pID0gMCwgX2xlbjIgPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjI7IF9pKyspIHsKICAgICAgICBsZXR0ZXJTcGFuID0gX3JlZjJbX2ldOwogICAgICAgIGxldHRlclNwYW4gPSAkKGxldHRlclNwYW4pOwogICAgICAgIGxldHRlclNwYW4uY3NzKCdmb250LXNpemUnLCAiIiArIGZvbnRTaXplICsgInB4Iik7CiAgICAgICAgd2hpbGUgKGxldHRlclNwYW4ud2lkdGgoKSA+IGdyaWRXaWR0aCkgewogICAgICAgICAgbGV0dGVyU3Bhbi5jc3MoJ2ZvbnQtc2l6ZScsICIiICsgKGZvbnRTaXplLS0pICsgInB4Iik7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZCBzcGFuIikuY3NzKCdmb250LXNpemUnLCAiIiArIGZvbnRTaXplICsgInB4Iik7CiAgICB9LCB0aGlzKSk7CiAgICBzZWxlY3RFdmVudCA9ICdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCA/ICJ0b3VjaHN0YXJ0IiA6ICJjbGljayI7CiAgICAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZCIpLmxpdmUoc2VsZWN0RXZlbnQsIF9fYmluZChmdW5jdGlvbihldmVudERhdGEpIHsKICAgICAgaWYgKCF0aGlzLnRpbWVyLnN0YXJ0ZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS50aW1lci5oYXNTdGFydGVkQW5kU3RvcHBlZCgpKSB7CiAgICAgICAgJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmdyaWQiKS5yZW1vdmVDbGFzcygnbGFzdC1hdHRlbXB0ZWQnKTsKICAgICAgICByZXR1cm4gJChldmVudERhdGEuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2xhc3QtYXR0ZW1wdGVkJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICQoZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCJzZWxlY3RlZCIpOwogICAgICB9CiAgICB9LCB0aGlzKSk7CiAgICAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZC50b2dnbGUtcm93IikubGl2ZShzZWxlY3RFdmVudCwgX19iaW5kKGZ1bmN0aW9uKGV2ZW50RGF0YSkgewogICAgICB2YXIgZ3JpZEl0ZW0sIHRvZ2dsZVJvdywgX2ksIF9sZW4yLCBfcmVmMiwgX3Jlc3VsdHM7CiAgICAgIHRvZ2dsZVJvdyA9ICQoZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQpOwogICAgICBfcmVmMiA9IHRvZ2dsZVJvdy5wcmV2QWxsKCk7CiAgICAgIF9yZXN1bHRzID0gW107CiAgICAgIGZvciAoX2kgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuMjsgX2krKykgewogICAgICAgIGdyaWRJdGVtID0gX3JlZjJbX2ldOwogICAgICAgIGdyaWRJdGVtID0gJChncmlkSXRlbSk7CiAgICAgICAgaWYgKGdyaWRJdGVtLmhhc0NsYXNzKCJ0b2dnbGUtcm93IikgJiYgZ3JpZEl0ZW0uY3NzKCJkaXNwbGF5IikgIT09ICJub25lIikgewogICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIF9yZXN1bHRzLnB1c2godG9nZ2xlUm93Lmhhc0NsYXNzKCJzZWxlY3RlZCIpID8gIWdyaWRJdGVtLmhhc0NsYXNzKCJzZWxlY3RlZCIpID8gZ3JpZEl0ZW0uYWRkQ2xhc3MoInNlbGVjdGVkIHJvd3RvZ2dsZWQiKSA6IHZvaWQgMCA6IGdyaWRJdGVtLmhhc0NsYXNzKCJyb3d0b2dnbGVkIikgPyBncmlkSXRlbS5yZW1vdmVDbGFzcygic2VsZWN0ZWQgcm93dG9nZ2xlZCIpIDogdm9pZCAwKTsKICAgICAgfQogICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICB9LCB0aGlzKSk7CiAgfQogIFRvZ2dsZUdyaWRXaXRoVGltZXIucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBUb2dnbGVHcmlkV2l0aFRpbWVyLl9fc3VwZXJfXy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbi5jYWxsKHRoaXMpOwogICAgcHJvcGVydGllcy5wdXNoKCJsZXR0ZXJzIik7CiAgICByZXR1cm4gcHJvcGVydGllczsKICB9OwogIFRvZ2dsZUdyaWRXaXRoVGltZXIucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBmaXJzdFRlblBlcmNlbnQsIGdyaWRJdGVtLCBpbmRleCwgaXRlbXMsIHJlc3VsdHMsIHRlblBlcmNlbnRPZkl0ZW1zLCBfbGVuLCBfbGVuMiwgX3JlZiwgX3JlZjI7CiAgICByZXN1bHRzID0ge307CiAgICBpdGVtcyA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkOm5vdCgudG9nZ2xlLXJvdykiKTsKICAgIHRlblBlcmNlbnRPZkl0ZW1zID0gaXRlbXMubGVuZ3RoIC8gMTA7CiAgICBmaXJzdFRlblBlcmNlbnQgPSBpdGVtcy5zbGljZSgwLCAodGVuUGVyY2VudE9mSXRlbXMgLSAxICsgMSkgfHwgOWU5KTsKICAgIGlmIChfLnNlbGVjdChmaXJzdFRlblBlcmNlbnQsIGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuICQoaXRlbSkuaGFzQ2xhc3MoInNlbGVjdGVkIik7CiAgICB9KS5sZW5ndGggPT09IHRlblBlcmNlbnRPZkl0ZW1zKSB7CiAgICAgIHJlc3VsdHMuYXV0b19zdG9wID0gdHJ1ZTsKICAgICAgaWYgKCF0aGlzLmF1dG9zdG9wKSB7CiAgICAgICAgJChfLmxhc3QoZmlyc3RUZW5QZXJjZW50KSkudG9nZ2xlQ2xhc3MoImxhc3QtYXR0ZW1wdGVkIiwgdHJ1ZSk7CiAgICAgICAgdGhpcy50aW1lci5zdG9wKCk7CiAgICAgICAgJC5hc3Nlc3NtZW50LmZsYXNoKCk7CiAgICAgICAgdGhpcy5hdXRvc3RvcCA9IHRydWU7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuYXV0b3N0b3AgPSBmYWxzZTsKICAgIH0KICAgIGlmICghdGhpcy50aW1lci5oYXNTdGFydGVkQW5kU3RvcHBlZCgpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIHJlc3VsdHMubGV0dGVycyA9IG5ldyBBcnJheSgpOwogICAgcmVzdWx0cy50aW1lX3JlbWFpbiA9IHRoaXMudGltZXIuc2Vjb25kczsKICAgIF9yZWYgPSAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZDpub3QoLnRvZ2dsZS1yb3cpIik7CiAgICBmb3IgKGluZGV4ID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBpbmRleCA8IF9sZW47IGluZGV4KyspIHsKICAgICAgZ3JpZEl0ZW0gPSBfcmVmW2luZGV4XTsKICAgICAgcmVzdWx0cy5sZXR0ZXJzW2luZGV4XSA9IGZhbHNlOwogICAgfQogICAgcmVzdWx0cy5hdHRlbXB0ZWQgPSBudWxsOwogICAgX3JlZjIgPSAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZDpub3QoLnRvZ2dsZS1yb3cpIik7CiAgICBmb3IgKGluZGV4ID0gMCwgX2xlbjIgPSBfcmVmMi5sZW5ndGg7IGluZGV4IDwgX2xlbjI7IGluZGV4KyspIHsKICAgICAgZ3JpZEl0ZW0gPSBfcmVmMltpbmRleF07CiAgICAgIGdyaWRJdGVtID0gJChncmlkSXRlbSk7CiAgICAgIGlmICghZ3JpZEl0ZW0uaGFzQ2xhc3MoInNlbGVjdGVkIikpIHsKICAgICAgICByZXN1bHRzLmxldHRlcnNbaW5kZXhdID0gdHJ1ZTsKICAgICAgfQogICAgICBpZiAoZ3JpZEl0ZW0uaGFzQ2xhc3MoImxhc3QtYXR0ZW1wdGVkIikpIHsKICAgICAgICByZXN1bHRzLmF0dGVtcHRlZCA9IGluZGV4ICsgMTsKICAgICAgICBpZiAodGhpcy5hdXRvc3RvcCkgewogICAgICAgICAgJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiRmlyc3QgIiArIHRlblBlcmNlbnRPZkl0ZW1zICsgIiBpbmNvcnJlY3QgLSBhdXRvc3RvcC4iKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHRzOwogICAgICB9IGVsc2UgewogICAgICAgICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5jb250cm9scyAubWVzc2FnZSIpLmh0bWwoIlNlbGVjdCBsYXN0IGl0ZW0gYXR0ZW1wdGVkIik7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CiAgVG9nZ2xlR3JpZFdpdGhUaW1lci5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciByZXN1bHRzOwogICAgcmVzdWx0cyA9IHRoaXMucmVzdWx0cygpOwogICAgaWYgKHJlc3VsdHMudGltZV9yZW1haW4gPT09IDYwIHx8IHJlc3VsdHMudGltZV9yZW1haW4gPT09IHZvaWQgMCkgewogICAgICByZXR1cm4gIlRoZSB0aW1lciBtdXN0IGJlIHN0YXJ0ZWQiOwogICAgfQogICAgaWYgKHRoaXMudGltZXIucnVubmluZykgewogICAgICByZXR1cm4gIlRoZSB0aW1lciBpcyBzdGlsbCBydW5uaW5nIjsKICAgIH0KICAgIGlmIChyZXN1bHRzLnRpbWVfcmVtYWluID09PSAwKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIGlmIChyZXN1bHRzLmF0dGVtcHRlZCAhPSBudWxsKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICJUaGUgbGFzdCBsZXR0ZXIgYXR0ZW1wdGVkIGhhcyBub3QgYmVlbiBzZWxlY3RlZCI7CiAgICB9CiAgfTsKICByZXR1cm4gVG9nZ2xlR3JpZFdpdGhUaW1lcjsKfSkoKTsKRGljdGF0aW9uID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhEaWN0YXRpb24sIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBEaWN0YXRpb24ob3B0aW9ucykgewogICAgdGhpcy5tZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlOwogICAgdGhpcy5mb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZTsKICAgIERpY3RhdGlvbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIHRoaXMuY29udGVudCA9ICIiICsgdGhpcy5tZXNzYWdlICsgIjxici8+PGlucHV0IG5hbWU9J3Jlc3VsdCcgdHlwZT0ndGV4dCc+PC9pbnB1dD4iOwogIH0KICBEaWN0YXRpb24ucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBEaWN0YXRpb24uX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goIm1lc3NhZ2UiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgRGljdGF0aW9uLnByb3RvdHlwZS5yZXN1bHRzID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgZW50ZXJlZERhdGEsIG51bWJlck9mU3BhY2VzLCByZXN1bHRzOwogICAgcmVzdWx0cyA9IHt9OwogICAgZW50ZXJlZERhdGEgPSAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBpbnB1dFt0eXBlPXRleHRdIikudmFsKCk7CiAgICBpZiAoZW50ZXJlZERhdGEubWF0Y2goL2JveXMvaSkpIHsKICAgICAgcmVzdWx0c1siV3JvdGUgYm95cyBjb3JyZWN0bHkiXSA9IDI7CiAgICB9IGVsc2UgewogICAgICBpZiAoZW50ZXJlZERhdGEubWF0Y2goL2JvfG95fGJ5L2kpKSB7CiAgICAgICAgcmVzdWx0c1siV3JvdGUgYm95cyBjb3JyZWN0bHkiXSA9IDE7CiAgICAgIH0KICAgIH0KICAgIGlmIChlbnRlcmVkRGF0YS5tYXRjaCgvYmlrZXMvaSkpIHsKICAgICAgcmVzdWx0c1siV3JvdGUgYmlrZXMgY29ycmVjdGx5Il0gPSAyOwogICAgfSBlbHNlIHsKICAgICAgaWYgKGVudGVyZWREYXRhLm1hdGNoKC9iaXxpa3xrZXMvaSkpIHsKICAgICAgICByZXN1bHRzWyJXcm90ZSBiaWtlcyBjb3JyZWN0bHkiXSA9IDE7CiAgICAgIH0KICAgIH0KICAgIG51bWJlck9mU3BhY2VzID0gZW50ZXJlZERhdGEuc3BsaXQoIiAiKS5sZW5ndGggLSAxOwogICAgaWYgKG51bWJlck9mU3BhY2VzID49IDgpIHsKICAgICAgcmVzdWx0c1siVXNlZCBhcHByb3ByaWF0ZSBzcGFjaW5nIGJldHdlZW4gd29yZHMiXSA9IDI7CiAgICB9IGVsc2UgewogICAgICBpZiAobnVtYmVyT2ZTcGFjZXMgPiAzICYmIG51bWJlck9mU3BhY2VzIDwgOCkgewogICAgICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgc3BhY2luZyBiZXR3ZWVuIHdvcmRzIl0gPSAxOwogICAgICB9IGVsc2UgewogICAgICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgc3BhY2luZyBiZXR3ZWVuIHdvcmRzIl0gPSAwOwogICAgICB9CiAgICB9CiAgICByZXN1bHRzWyJVc2VkIGFwcHJvcHJpYXRlIGRpcmVjdGlvbiBvZiB0ZXh0IChsZWZ0IHRvIHJpZ2h0KSJdID0gMjsKICAgIGlmIChlbnRlcmVkRGF0YS5tYXRjaCgvVGhlLykpIHsKICAgICAgcmVzdWx0c1siVXNlZCBjYXBpdGFsIGxldHRlciBmb3IgdGhlIHdvcmQgJ1RoZSciXSA9IDI7CiAgICB9IGVsc2UgewogICAgICByZXN1bHRzWyJVc2VkIGNhcGl0YWwgbGV0dGVyIGZvciB0aGUgd29yZCAnVGhlJyJdID0gMDsKICAgIH0KICAgIGlmIChlbnRlcmVkRGF0YS5tYXRjaCgvXC4gKiQvKSkgewogICAgICByZXN1bHRzWyJVc2VkIGZ1bGwgc3RvcCAoLikgYXQgZW5kIG9mIHNlbnRlbmNlLiJdID0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdHNbIlVzZWQgZnVsbCBzdG9wICguKSBhdCBlbmQgb2Ygc2VudGVuY2UuIl0gPSAwOwogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKICBEaWN0YXRpb24ucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdHJ1ZTsKICB9OwogIHJldHVybiBEaWN0YXRpb247Cn0pKCk7CkRpY3RhdGlvbi5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHBhZ2VPYmplY3QpIHsKICB2YXIgZGljdGF0aW9uUGFnZTsKICBkaWN0YXRpb25QYWdlID0gbmV3IERpY3RhdGlvbihwYWdlT2JqZWN0KTsKICBkaWN0YXRpb25QYWdlLmxvYWQocGFnZU9iamVjdCk7CiAgcmV0dXJuIGRpY3RhdGlvblBhZ2U7Cn07CkludGVydmlldyA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoSW50ZXJ2aWV3LCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gSW50ZXJ2aWV3KG9wdGlvbnMpIHsKICAgIHRoaXMucmFkaW9CdXR0b25zID0gb3B0aW9ucy5yYWRpb0J1dHRvbnM7CiAgICBJbnRlcnZpZXcuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgICB0aGlzLmNvbnRlbnQgPSBJbnRlcnZpZXcudGVtcGxhdGUodGhpcyk7CiAgfQogIEludGVydmlldy5wcm90b3R5cGUucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbigpIHsKICAgIHZhciBwcm9wZXJ0aWVzOwogICAgcHJvcGVydGllcyA9IEludGVydmlldy5fX3N1cGVyX18ucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24uY2FsbCh0aGlzKTsKICAgIHByb3BlcnRpZXMucHVzaCgicmFkaW9CdXR0b25zIik7CiAgICByZXR1cm4gcHJvcGVydGllczsKICB9OwogIEludGVydmlldy5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0cnVlOwogIH07CiAgcmV0dXJuIEludGVydmlldzsKfSkoKTsKSW50ZXJ2aWV3LnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCIgIDxmb3JtPiAgICB7eyNyYWRpb0J1dHRvbnN9fSAgICAgIDxmaWVsZHNldCBkYXRhLXR5cGU9J3t7dHlwZX19JyBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCc+ICAgICAgICA8bGVnZW5kPnt7bGFiZWx9fTwvbGVnZW5kPiAgICAgICAge3sjb3B0aW9uc319ICAgICAgICAgIDxsYWJlbCBmb3I9J3t7Ln19Jz57ey59fTwvbGFiZWw+ICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ne3suLi9uYW1lfX0nIHZhbHVlPSd7ey59fScgaWQ9J3t7Ln19Jz48L2lucHV0PiAgICAgICAge3svb3B0aW9uc319ICAgICAgPC9maWVsZHNldD4gICAge3svcmFkaW9CdXR0b25zfX0gIDwvZm9ybT4iKTsKSW50ZXJ2aWV3LmRlc2VyaWFsaXplID0gZnVuY3Rpb24ocGFnZU9iamVjdCkgewogIHZhciBpbnRlcnZpZXc7CiAgaW50ZXJ2aWV3ID0gbmV3IEludGVydmlldyhwYWdlT2JqZWN0KTsKICBpbnRlcnZpZXcubG9hZChwYWdlT2JqZWN0KTsKICBpbnRlcnZpZXcuY29udGVudCA9IEludGVydmlldy50ZW1wbGF0ZShpbnRlcnZpZXcpOwogIHJldHVybiBpbnRlcnZpZXc7Cn07", "content_type": "application/javascript"}, "js-libraries/inflection.js": {"data": "LyoKQ29weXJpZ2h0IChjKSAyMDEwIFJ5YW4gU2NodWZ0IChyeWFuLnNjaHVmdEBnbWFpbC5jb20pCgpQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5Cm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlICJTb2Z0d2FyZSIpLCB0byBkZWFsCmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMKdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbApjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMKZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczoKClRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluCmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLgoKVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEICJBUyBJUyIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IKSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksCkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRQpBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSCkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sCk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4KVEhFIFNPRlRXQVJFLgoqLwoKLyoKICBUaGlzIGNvZGUgaXMgYmFzZWQgaW4gcGFydCBvbiB0aGUgd29yayBkb25lIGluIFJ1YnkgdG8gc3VwcG9ydAogIGluZmVjdGlvbiBhcyBwYXJ0IG9mIFJ1Ynkgb24gUmFpbHMgaW4gdGhlIEFjdGl2ZVN1cHBvcnQncyBJbmZsZWN0b3IKICBhbmQgSW5mbGVjdGlvbnMgY2xhc3Nlcy4gIEl0IHdhcyBpbml0YWxseSBwb3J0ZWQgdG8gSmF2YXNjcmlwdCBieQogIFJ5YW4gU2NodWZ0IChyeWFuLnNjaHVmdEBnbWFpbC5jb20pIGluIDIwMDcuCgogIFRoZSBjb2RlIGlzIGF2YWlsYWJsZSBhdCBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvaW5mbGVjdGlvbi1qcy8KCiAgVGhlIGJhc2ljIHVzYWdlIGlzOgogICAgMS4gSW5jbHVkZSB0aGlzIHNjcmlwdCBvbiB5b3VyIHdlYiBwYWdlLgogICAgMi4gQ2FsbCBmdW5jdGlvbnMgb24gYW55IFN0cmluZyBvYmplY3QgaW4gSmF2YXNjcmlwdAoKICBDdXJyZW50bHkgaW1wbGVtZW50ZWQgZnVuY3Rpb25zOgoKICAgIFN0cmluZy5wbHVyYWxpemUocGx1cmFsKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhIHNpbmd1bGFyIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91biBpbnRvIGl0cyBwbHVyYWwgZm9ybQogICAgICBub3JtYWwgcmVzdWx0cyBjYW4gYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nIGluIGFuIGFsdGVybmF0aXZlCgogICAgU3RyaW5nLnNpbmd1bGFyaXplKHNpbmd1bGFyKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhIHBsdXJhbCBFbmdsaXNoIGxhbmd1YWdlIG5vdW4gaW50byBpdHMgc2luZ3VsYXIgZm9ybQogICAgICBub3JtYWwgcmVzdWx0cyBjYW4gYmUgb3ZlcnJpZGRlbiBieSBwYXNzaW5nIGluIGFuIGFsdGVyYXRpdmUKCiAgICBTdHJpbmcuY2FtZWxpemUobG93Rmlyc3RMZXR0ZXIpID09IFN0cmluZwogICAgICByZW5kZXJzIGEgbG93ZXIgY2FzZSB1bmRlcnNjb3JlZCB3b3JkIGludG8gY2FtZWwgY2FzZQogICAgICB0aGUgZmlyc3QgbGV0dGVyIG9mIHRoZSByZXN1bHQgd2lsbCBiZSB1cHBlciBjYXNlIHVubGVzcyB5b3UgcGFzcyB0cnVlCiAgICAgIGFsc28gdHJhbnNsYXRlcyAiLyIgaW50byAiOjoiICh1bmRlcnNjb3JlIGRvZXMgdGhlIG9wcG9zaXRlKQoKICAgIFN0cmluZy51bmRlcnNjb3JlKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYSBjYW1lbCBjYXNlZCB3b3JkIGludG8gd29yZHMgc2VwZXJhdGVkIGJ5IHVuZGVyc2NvcmVzCiAgICAgIGFsc28gdHJhbnNsYXRlcyAiOjoiIGJhY2sgaW50byAiLyIgKGNhbWVsaXplIGRvZXMgdGhlIG9wcG9zaXRlKQoKICAgIFN0cmluZy5odW1hbml6ZShsb3dGaXJzdExldHRlcikgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYSBsb3dlciBjYXNlIGFuZCB1bmRlcnNjb3JlZCB3b3JkIGludG8gaHVtYW4gcmVhZGFibGUgZm9ybQogICAgICBkZWZhdWx0cyB0byBtYWtpbmcgdGhlIGZpcnN0IGxldHRlciBjYXBpdGFsaXplZCB1bmxlc3MgeW91IHBhc3MgdHJ1ZQoKICAgIFN0cmluZy5jYXBpdGFsaXplKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYWxsIGNoYXJhY3RlcnMgdG8gbG93ZXIgY2FzZSBhbmQgdGhlbiBtYWtlcyB0aGUgZmlyc3QgdXBwZXIKCiAgICBTdHJpbmcuZGFzaGVyaXplKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYWxsIHVuZGVyYmFycyBhbmQgc3BhY2VzIGFzIGRhc2hlcwoKICAgIFN0cmluZy50aXRsZWl6ZSgpID09IFN0cmluZwogICAgICByZW5kZXJzIHdvcmRzIGludG8gdGl0bGUgY2FzaW5nIChhcyBmb3IgYm9vayB0aXRsZXMpCgogICAgU3RyaW5nLmRlbW9kdWxpemUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBjbGFzcyBuYW1lcyB0aGF0IGFyZSBwcmVwZW5kZWQgYnkgbW9kdWxlcyBpbnRvIGp1c3QgdGhlIGNsYXNzCgogICAgU3RyaW5nLnRhYmxlaXplKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgY2FtZWwgY2FzZWQgc2luZ3VsYXIgd29yZHMgaW50byB0aGVpciB1bmRlcnNjb3JlZCBwbHVyYWwgZm9ybQoKICAgIFN0cmluZy5jbGFzc2lmeSgpID09IFN0cmluZwogICAgICByZW5kZXJzIGFuIHVuZGVyc2NvcmVkIHBsdXJhbCB3b3JkIGludG8gaXRzIGNhbWVsIGNhc2VkIHNpbmd1bGFyIGZvcm0KCiAgICBTdHJpbmcuZm9yZWlnbl9rZXkoZHJvcElkVWJhcikgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYSBjbGFzcyBuYW1lIChjYW1lbCBjYXNlZCBzaW5ndWxhciBub3VuKSBpbnRvIGEgZm9yZWlnbiBrZXkKICAgICAgZGVmYXVsdHMgdG8gc2VwZXJhdGluZyB0aGUgY2xhc3MgZnJvbSB0aGUgaWQgd2l0aCBhbiB1bmRlcmJhciB1bmxlc3MKICAgICAgeW91IHBhc3MgdHJ1ZQoKICAgIFN0cmluZy5vcmRpbmFsaXplKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYWxsIG51bWJlcnMgZm91bmQgaW4gdGhlIHN0cmluZyBpbnRvIHRoZWlyIHNlcXVlbmNlIGxpa2UgIjIybmQiCiovCgovKgogIFRoaXMgc2V0cyB1cCBhIGNvbnRhaW5lciBmb3Igc29tZSBjb25zdGFudHMgaW4gaXRzIG93biBuYW1lc3BhY2UKICBXZSB1c2UgdGhlIHdpbmRvdyAoaWYgYXZhaWxhYmxlKSB0byBlbmFibGUgZHluYW1pYyBsb2FkaW5nIG9mIHRoaXMgc2NyaXB0CiAgV2luZG93IHdvbid0IG5lY2Vzc2FyaWx5IGV4aXN0IGZvciBub24tYnJvd3NlcnMuCiovCmlmICh3aW5kb3cgJiYgIXdpbmRvdy5JbmZsZWN0aW9uSlMpCnsKICAgIHdpbmRvdy5JbmZsZWN0aW9uSlMgPSBudWxsOwp9CgovKgogIFRoaXMgc2V0cyB1cCBzb21lIGNvbnN0YW50cyBmb3IgbGF0ZXIgdXNlCiAgVGhpcyBzaG91bGQgdXNlIHRoZSB3aW5kb3cgbmFtZXNwYWNlIHZhcmlhYmxlIGlmIGF2YWlsYWJsZQoqLwpJbmZsZWN0aW9uSlMgPQp7CiAgICAvKgogICAgICBUaGlzIGlzIGEgbGlzdCBvZiBub3VucyB0aGF0IHVzZSB0aGUgc2FtZSBmb3JtIGZvciBib3RoIHNpbmd1bGFyIGFuZCBwbHVyYWwuCiAgICAgIFRoaXMgbGlzdCBzaG91bGQgcmVtYWluIGVudGlyZWx5IGluIGxvd2VyIGNhc2UgdG8gY29ycmVjdGx5IG1hdGNoIFN0cmluZ3MuCiAgICAqLwogICAgdW5jb3VudGFibGVfd29yZHM6IFsKICAgICAgICAnZXF1aXBtZW50JywgJ2luZm9ybWF0aW9uJywgJ3JpY2UnLCAnbW9uZXknLCAnc3BlY2llcycsICdzZXJpZXMnLAogICAgICAgICdmaXNoJywgJ3NoZWVwJywgJ21vb3NlJywgJ2RlZXInLCAnbmV3cycKICAgIF0sCgogICAgLyoKICAgICAgVGhlc2UgcnVsZXMgdHJhbnNsYXRlIGZyb20gdGhlIHNpbmd1bGFyIGZvcm0gb2YgYSBub3VuIHRvIGl0cyBwbHVyYWwgZm9ybS4KICAgICovCiAgICBwbHVyYWxfcnVsZXM6IFsKICAgICAgICBbbmV3IFJlZ0V4cCgnKG0pYW4kJywgJ2dpJyksICAgICAgICAgICAgICAgICAnJDFlbiddLAogICAgICAgIFtuZXcgUmVnRXhwKCcocGUpcnNvbiQnLCAnZ2knKSwgICAgICAgICAgICAgICckMW9wbGUnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGNoaWxkKSQnLCAnZ2knKSwgICAgICAgICAgICAgICAnJDFyZW4nXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnXihveCkkJywgJ2dpJyksICAgICAgICAgICAgICAgICAnJDFlbiddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoYXh8dGVzdClpcyQnLCAnZ2knKSwgICAgICAgICAgICckMWVzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhvY3RvcHx2aXIpdXMkJywgJ2dpJyksICAgICAgICAgJyQxaSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoYWxpYXN8c3RhdHVzKSQnLCAnZ2knKSwgICAgICAgICckMWVzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhidSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgJyQxc2VzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhidWZmYWx8dG9tYXR8cG90YXQpbyQnLCAnZ2knKSwgJyQxb2VzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbdGldKXVtJCcsICdnaScpLCAgICAgICAgICAgICAgJyQxYSddLAogICAgICAgIFtuZXcgUmVnRXhwKCdzaXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICdzZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKD86KFteZl0pZmV8KFtscl0pZikkJywgJ2dpJyksICAnJDEkMnZlcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoaGl2ZSkkJywgJ2dpJyksICAgICAgICAgICAgICAgICckMXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKFteYWVpb3V5XXxxdSl5JCcsICdnaScpLCAgICAgICAnJDFpZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHh8Y2h8c3N8c2gpJCcsICdnaScpLCAgICAgICAgICAnJDFlcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcobWF0cnx2ZXJ0fGluZClpeHxleCQnLCAnZ2knKSwgICckMWljZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKFttfGxdKW91c2UkJywgJ2dpJyksICAgICAgICAgICAnJDFpY2UnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHF1aXopJCcsICdnaScpLCAgICAgICAgICAgICAgICAnJDF6ZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgncyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAncyddLAogICAgICAgIFtuZXcgUmVnRXhwKCckJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICdzJ10KICAgIF0sCgogICAgLyoKICAgICAgVGhlc2UgcnVsZXMgdHJhbnNsYXRlIGZyb20gdGhlIHBsdXJhbCBmb3JtIG9mIGEgbm91biB0byBpdHMgc2luZ3VsYXIgZm9ybS4KICAgICovCiAgICBzaW5ndWxhcl9ydWxlczogWwogICAgICAgIFtuZXcgUmVnRXhwKCcobSllbiQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxYW4nXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHBlKW9wbGUkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMXJzb24nXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGNoaWxkKXJlbiQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoW3RpXSlhJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxdW0nXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKChhKW5hbHl8KGIpYXwoZClpYWdub3wocClhcmVudGhlfChwKXJvZ25vfChzKXlub3B8KHQpaGUpc2VzJCcsJ2dpJyksICckMSQyc2lzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhoaXZlKXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHRpdmUpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoY3VydmUpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbbHJdKXZlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFmJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbXmZvXSl2ZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFmZSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoW15hZWlvdXldfHF1KWllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxeSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcocyllcmllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxZXJpZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKG0pb3ZpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMW92aWUnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHh8Y2h8c3N8c2gpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoW218bF0paWNlJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxb3VzZSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoYnVzKWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhvKWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHNob2UpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoY3Jpc3xheHx0ZXN0KWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxaXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKG9jdG9wfHZpcilpJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMXVzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhhbGlhc3xzdGF0dXMpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnXihveCllbicsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcodmVydHxpbmQpaWNlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxZXgnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKG1hdHIpaWNlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMWl4J10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhxdWl6KXplcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgncyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnXQogICAgXSwKCiAgICAvKgogICAgICBUaGlzIGlzIGEgbGlzdCBvZiB3b3JkcyB0aGF0IHNob3VsZCBub3QgYmUgY2FwaXRhbGl6ZWQgZm9yIHRpdGxlIGNhc2UKICAgICovCiAgICBub25fdGl0bGVjYXNlZF93b3JkczogWwogICAgICAgICdhbmQnLCAnb3InLCAnbm9yJywgJ2EnLCAnYW4nLCAndGhlJywgJ3NvJywgJ2J1dCcsICd0bycsICdvZicsICdhdCcsCiAgICAgICAgJ2J5JywgJ2Zyb20nLCAnaW50bycsICdvbicsICdvbnRvJywgJ29mZicsICdvdXQnLCAnaW4nLCAnb3ZlcicsCiAgICAgICAgJ3dpdGgnLCAnZm9yJwogICAgXSwKCiAgICAvKgogICAgICBUaGVzZSBhcmUgcmVndWxhciBleHByZXNzaW9ucyB1c2VkIGZvciBjb252ZXJ0aW5nIGJldHdlZW4gU3RyaW5nIGZvcm1hdHMKICAgICovCiAgICBpZF9zdWZmaXg6IG5ldyBSZWdFeHAoJyhfaWRzfF9pZCkkJywgJ2cnKSwKICAgIHVuZGVyYmFyOiBuZXcgUmVnRXhwKCdfJywgJ2cnKSwKICAgIHNwYWNlX29yX3VuZGVyYmFyOiBuZXcgUmVnRXhwKCdbXCBfXScsICdnJyksCiAgICB1cHBlcmNhc2U6IG5ldyBSZWdFeHAoJyhbQS1aXSknLCAnZycpLAogICAgdW5kZXJiYXJfcHJlZml4OiBuZXcgUmVnRXhwKCdeXycpLAogICAgCiAgICAvKgogICAgICBUaGlzIGlzIGEgaGVscGVyIG1ldGhvZCB0aGF0IGFwcGxpZXMgcnVsZXMgYmFzZWQgcmVwbGFjZW1lbnQgdG8gYSBTdHJpbmcKICAgICAgU2lnbmF0dXJlOgogICAgICAgIEluZmxlY3Rpb25KUy5hcHBseV9ydWxlcyhzdHIsIHJ1bGVzLCBza2lwLCBvdmVycmlkZSkgPT0gU3RyaW5nCiAgICAgIEFyZ3VtZW50czoKICAgICAgICBzdHIgLSBTdHJpbmcgLSBTdHJpbmcgdG8gbW9kaWZ5IGFuZCByZXR1cm4gYmFzZWQgb24gdGhlIHBhc3NlZCBydWxlcwogICAgICAgIHJ1bGVzIC0gQXJyYXk6IFtSZWdFeHAsIFN0cmluZ10gLSBSZWdleHAgdG8gbWF0Y2ggcGFpcmVkIHdpdGggU3RyaW5nIHRvIHVzZSBmb3IgcmVwbGFjZW1lbnQKICAgICAgICBza2lwIC0gQXJyYXk6IFtTdHJpbmddIC0gU3RyaW5ncyB0byBza2lwIGlmIHRoZXkgbWF0Y2gKICAgICAgICBvdmVycmlkZSAtIFN0cmluZyAob3B0aW9uYWwpIC0gU3RyaW5nIHRvIHJldHVybiBhcyB0aG91Z2ggdGhpcyBtZXRob2Qgc3VjY2VlZGVkICh1c2VkIHRvIGNvbmZvcm0gdG8gQVBJcykKICAgICAgUmV0dXJuczoKICAgICAgICBTdHJpbmcgLSBwYXNzZWQgU3RyaW5nIG1vZGlmaWVkIGJ5IHBhc3NlZCBydWxlcwogICAgICBFeGFtcGxlczoKICAgICAgICBJbmZsZWN0aW9uSlMuYXBwbHlfcnVsZXMoImNvd3MiLCBJbmZsZWN0aW9uSnMuc2luZ3VsYXJfcnVsZXMpID09PSAnY293JwogICAgKi8KICAgIGFwcGx5X3J1bGVzOiBmdW5jdGlvbihzdHIsIHJ1bGVzLCBza2lwLCBvdmVycmlkZSkKICAgIHsKICAgICAgICBpZiAob3ZlcnJpZGUpCiAgICAgICAgewogICAgICAgICAgICBzdHIgPSBvdmVycmlkZTsKICAgICAgICB9CiAgICAgICAgZWxzZQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGlnbm9yZSA9IChza2lwLmluZGV4T2Yoc3RyLnRvTG93ZXJDYXNlKCkpID4gLTEpOwogICAgICAgICAgICBpZiAoIWlnbm9yZSkKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBydWxlcy5sZW5ndGg7IHgrKykKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAoc3RyLm1hdGNoKHJ1bGVzW3hdWzBdKSkKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKHJ1bGVzW3hdWzBdLCBydWxlc1t4XVsxXSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gc3RyOwogICAgfQp9OwoKLyoKICBUaGlzIGxldHMgdXMgZGV0ZWN0IGlmIGFuIEFycmF5IGNvbnRhaW5zIGEgZ2l2ZW4gZWxlbWVudAogIFNpZ25hdHVyZToKICAgIEFycmF5LmluZGV4T2YoaXRlbSwgZnJvbUluZGV4LCBjb21wYXJlRnVuYykgPT0gSW50ZWdlcgogIEFyZ3VtZW50czoKICAgIGl0ZW0gLSBPYmplY3QgLSBvYmplY3QgdG8gbG9jYXRlIGluIHRoZSBBcnJheQogICAgZnJvbUluZGV4IC0gSW50ZWdlciAob3B0aW9uYWwpIC0gc3RhcnRzIGNoZWNraW5nIGZyb20gdGhpcyBwb3NpdGlvbiBpbiB0aGUgQXJyYXkKICAgIGNvbXBhcmVGdW5jIC0gRnVuY3Rpb24gKG9wdGlvbmFsKSAtIGZ1bmN0aW9uIHVzZWQgdG8gY29tcGFyZSBBcnJheSBpdGVtIHZzIHBhc3NlZCBpdGVtCiAgUmV0dXJuczoKICAgIEludGVnZXIgLSBpbmRleCBwb3NpdGlvbiBpbiB0aGUgQXJyYXkgb2YgdGhlIHBhc3NlZCBpdGVtCiAgRXhhbXBsZXM6CiAgICBbJ2hpJywndGhlcmUnXS5pbmRleE9mKCJndXlzIikgPT09IC0xCiAgICBbJ2hpJywndGhlcmUnXS5pbmRleE9mKCJoaSIpID09PSAwCiovCmlmICghQXJyYXkucHJvdG90eXBlLmluZGV4T2YpCnsKICAgIEFycmF5LnByb3RvdHlwZS5pbmRleE9mID0gZnVuY3Rpb24oaXRlbSwgZnJvbUluZGV4LCBjb21wYXJlRnVuYykKICAgIHsKICAgICAgICBpZiAoIWZyb21JbmRleCkKICAgICAgICB7CiAgICAgICAgICAgIGZyb21JbmRleCA9IC0xOwogICAgICAgIH0KICAgICAgICB2YXIgaW5kZXggPSAtMTsKICAgICAgICBmb3IgKHZhciBpID0gZnJvbUluZGV4OyBpIDwgdGhpcy5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIGlmICh0aGlzW2ldID09PSBpdGVtIHx8IGNvbXBhcmVGdW5jICYmIGNvbXBhcmVGdW5jKHRoaXNbaV0sIGl0ZW0pKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpbmRleCA9IGk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gaW5kZXg7CiAgICB9Owp9CgovKgogIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBsaXN0IGZvciBhbGwgU3RyaW5ncyBvciBqdXN0IG9uZSBkZXBlbmRpbmcgb24gaWYgeW91CiAgc2V0IHRoZSBuZXcgdmFsdWVzIG9uIHByb3RvdHlwZSBvciBvbiBhIGdpdmVuIFN0cmluZyBpbnN0YW5jZS4KKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLl91bmNvdW50YWJsZV93b3JkcykKewogICAgU3RyaW5nLnByb3RvdHlwZS5fdW5jb3VudGFibGVfd29yZHMgPSBJbmZsZWN0aW9uSlMudW5jb3VudGFibGVfd29yZHM7Cn0KCi8qCiAgWW91IGNhbiBvdmVycmlkZSB0aGlzIGxpc3QgZm9yIGFsbCBTdHJpbmdzIG9yIGp1c3Qgb25lIGRlcGVuZGluZyBvbiBpZiB5b3UKICBzZXQgdGhlIG5ldyB2YWx1ZXMgb24gcHJvdG90eXBlIG9yIG9uIGEgZ2l2ZW4gU3RyaW5nIGluc3RhbmNlLgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuX3BsdXJhbF9ydWxlcykKewogICAgU3RyaW5nLnByb3RvdHlwZS5fcGx1cmFsX3J1bGVzID0gSW5mbGVjdGlvbkpTLnBsdXJhbF9ydWxlczsKfQoKLyoKICBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbGlzdCBmb3IgYWxsIFN0cmluZ3Mgb3IganVzdCBvbmUgZGVwZW5kaW5nIG9uIGlmIHlvdQogIHNldCB0aGUgbmV3IHZhbHVlcyBvbiBwcm90b3R5cGUgb3Igb24gYSBnaXZlbiBTdHJpbmcgaW5zdGFuY2UuCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5fc2luZ3VsYXJfcnVsZXMpCnsKICAgIFN0cmluZy5wcm90b3R5cGUuX3Npbmd1bGFyX3J1bGVzID0gSW5mbGVjdGlvbkpTLnNpbmd1bGFyX3J1bGVzOwp9CgovKgogIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBsaXN0IGZvciBhbGwgU3RyaW5ncyBvciBqdXN0IG9uZSBkZXBlbmRpbmcgb24gaWYgeW91CiAgc2V0IHRoZSBuZXcgdmFsdWVzIG9uIHByb3RvdHlwZSBvciBvbiBhIGdpdmVuIFN0cmluZyBpbnN0YW5jZS4KKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLl9ub25fdGl0bGVjYXNlZF93b3JkcykKewogICAgU3RyaW5nLnByb3RvdHlwZS5fbm9uX3RpdGxlY2FzZWRfd29yZHMgPSBJbmZsZWN0aW9uSlMubm9uX3RpdGxlY2FzZWRfd29yZHM7Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIHBsdXJpbGl6YXRpb24gc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy5wbHVyYWxpemUocGx1cmFsKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgcGx1cmFsIC0gU3RyaW5nIChvcHRpb25hbCkgLSBvdmVycmlkZXMgbm9ybWFsIG91dHB1dCB3aXRoIHNhaWQgU3RyaW5nCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBzaW5ndWxhciBFbmdsaXNoIGxhbmd1YWdlIG5vdW5zIGFyZSByZXR1cm5lZCBpbiBwbHVyYWwgZm9ybQogICAgRXhhbXBsZXM6CiAgICAgICJwZXJzb24iLnBsdXJhbGl6ZSgpID09ICJwZW9wbGUiCiAgICAgICJvY3RvcHVzIi5wbHVyYWxpemUoKSA9PSAib2N0b3BpIgogICAgICAiSGF0Ii5wbHVyYWxpemUoKSA9PSAiSGF0cyIKICAgICAgInBlcnNvbiIucGx1cmFsaXplKCJndXlzIikgPT0gImd1eXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5wbHVyYWxpemUpCnsKICAgIFN0cmluZy5wcm90b3R5cGUucGx1cmFsaXplID0gZnVuY3Rpb24ocGx1cmFsKQogICAgewogICAgICAgIHJldHVybiBJbmZsZWN0aW9uSlMuYXBwbHlfcnVsZXMoCiAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgIHRoaXMuX3BsdXJhbF9ydWxlcywKICAgICAgICAgICAgdGhpcy5fdW5jb3VudGFibGVfd29yZHMsCiAgICAgICAgICAgIHBsdXJhbAogICAgICAgICk7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBzaW5ndWxhcml6YXRpb24gc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy5zaW5ndWxhcml6ZShzaW5ndWxhcikgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIHNpbmd1bGFyIC0gU3RyaW5nIChvcHRpb25hbCkgLSBvdmVycmlkZXMgbm9ybWFsIG91dHB1dCB3aXRoIHNhaWQgU3RyaW5nCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBwbHVyYWwgRW5nbGlzaCBsYW5ndWFnZSBub3VucyBhcmUgcmV0dXJuZWQgaW4gc2luZ3VsYXIgZm9ybQogICAgRXhhbXBsZXM6CiAgICAgICJwZW9wbGUiLnNpbmd1bGFyaXplKCkgPT0gInBlcnNvbiIKICAgICAgIm9jdG9waSIuc2luZ3VsYXJpemUoKSA9PSAib2N0b3B1cyIKICAgICAgIkhhdHMiLnNpbmd1bGFyaXplKCkgPT0gIkhhdCIKICAgICAgImd1eXMiLnNpbmd1bGFyaXplKCJwZXJzb24iKSA9PSAicGVyc29uIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuc2luZ3VsYXJpemUpCnsKICAgIFN0cmluZy5wcm90b3R5cGUuc2luZ3VsYXJpemUgPSBmdW5jdGlvbihzaW5ndWxhcikKICAgIHsKICAgICAgICByZXR1cm4gSW5mbGVjdGlvbkpTLmFwcGx5X3J1bGVzKAogICAgICAgICAgICB0aGlzLAogICAgICAgICAgICB0aGlzLl9zaW5ndWxhcl9ydWxlcywKICAgICAgICAgICAgdGhpcy5fdW5jb3VudGFibGVfd29yZHMsCiAgICAgICAgICAgIHNpbmd1bGFyCiAgICAgICAgKTsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIGNhbWVsaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmNhbWVsaXplKGxvd0ZpcnN0TGV0dGVyKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgbG93Rmlyc3RMZXR0ZXIgLSBib29sZWFuIChvcHRpb25hbCkgLSBkZWZhdWx0IGlzIHRvIGNhcGl0YWxpemUgdGhlIGZpcnN0CiAgICAgICAgbGV0dGVyIG9mIHRoZSByZXN1bHRzLi4uIHBhc3NpbmcgdHJ1ZSB3aWxsIGxvd2VyY2FzZSBpdAogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gbG93ZXIgY2FzZSB1bmRlcnNjb3JlZCB3b3JkcyB3aWxsIGJlIHJldHVybmVkIGluIGNhbWVsIGNhc2UKICAgICAgICBhZGRpdGlvbmFsbHkgJy8nIGlzIHRyYW5zbGF0ZWQgdG8gJzo6JwogICAgRXhhbXBsZXM6CiAgICAgICJtZXNzYWdlX3Byb3BlcnRpZXMiLmNhbWVsaXplKCkgPT0gIk1lc3NhZ2VQcm9wZXJ0aWVzIgogICAgICAibWVzc2FnZV9wcm9wZXJ0aWVzIi5jYW1lbGl6ZSh0cnVlKSA9PSAibWVzc2FnZVByb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5jYW1lbGl6ZSkKewogICAgIFN0cmluZy5wcm90b3R5cGUuY2FtZWxpemUgPSBmdW5jdGlvbihsb3dGaXJzdExldHRlcikKICAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXMudG9Mb3dlckNhc2UoKTsKICAgICAgICB2YXIgc3RyX3BhdGggPSBzdHIuc3BsaXQoJy8nKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cl9wYXRoLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHJfcGF0aFtpXS5zcGxpdCgnXycpOwogICAgICAgICAgICB2YXIgaW5pdFggPSAoKGxvd0ZpcnN0TGV0dGVyICYmIGkgKyAxID09PSBzdHJfcGF0aC5sZW5ndGgpID8gKDEpIDogKDApKTsKICAgICAgICAgICAgZm9yICh2YXIgeCA9IGluaXRYOyB4IDwgc3RyX2Fyci5sZW5ndGg7IHgrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgc3RyX2Fyclt4XSA9IHN0cl9hcnJbeF0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBzdHJfYXJyW3hdLnN1YnN0cmluZygxKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzdHJfcGF0aFtpXSA9IHN0cl9hcnIuam9pbignJyk7CiAgICAgICAgfQogICAgICAgIHN0ciA9IHN0cl9wYXRoLmpvaW4oJzo6Jyk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIHVuZGVyc2NvcmUgc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy51bmRlcnNjb3JlKCkgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIE4vQQogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gY2FtZWwgY2FzZWQgd29yZHMgYXJlIHJldHVybmVkIGFzIGxvd2VyIGNhc2VkIGFuZCB1bmRlcnNjb3JlZAogICAgICAgIGFkZGl0aW9uYWxseSAnOjonIGlzIHRyYW5zbGF0ZWQgdG8gJy8nCiAgICBFeGFtcGxlczoKICAgICAgIk1lc3NhZ2VQcm9wZXJ0aWVzIi5jYW1lbGl6ZSgpID09ICJtZXNzYWdlX3Byb3BlcnRpZXMiCiAgICAgICJtZXNzYWdlUHJvcGVydGllcyIudW5kZXJzY29yZSgpID09ICJtZXNzYWdlX3Byb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS51bmRlcnNjb3JlKQp7CiAgICAgU3RyaW5nLnByb3RvdHlwZS51bmRlcnNjb3JlID0gZnVuY3Rpb24oKQogICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpczsKICAgICAgICB2YXIgc3RyX3BhdGggPSBzdHIuc3BsaXQoJzo6Jyk7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJfcGF0aC5sZW5ndGg7IGkrKykKICAgICAgICB7CiAgICAgICAgICAgIHN0cl9wYXRoW2ldID0gc3RyX3BhdGhbaV0ucmVwbGFjZShJbmZsZWN0aW9uSlMudXBwZXJjYXNlLCAnXyQxJyk7CiAgICAgICAgICAgIHN0cl9wYXRoW2ldID0gc3RyX3BhdGhbaV0ucmVwbGFjZShJbmZsZWN0aW9uSlMudW5kZXJiYXJfcHJlZml4LCAnJyk7CiAgICAgICAgfQogICAgICAgIHN0ciA9IHN0cl9wYXRoLmpvaW4oJy8nKS50b0xvd2VyQ2FzZSgpOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBodW1hbml6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmh1bWFuaXplKGxvd0ZpcnN0TGV0dGVyKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgbG93Rmlyc3RMZXR0ZXIgLSBib29sZWFuIChvcHRpb25hbCkgLSBkZWZhdWx0IGlzIHRvIGNhcGl0YWxpemUgdGhlIGZpcnN0CiAgICAgICAgbGV0dGVyIG9mIHRoZSByZXN1bHRzLi4uIHBhc3NpbmcgdHJ1ZSB3aWxsIGxvd2VyY2FzZSBpdAogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gbG93ZXIgY2FzZSB1bmRlcnNjb3JlZCB3b3JkcyB3aWxsIGJlIHJldHVybmVkIGluIGh1bWFuaXplZCBmb3JtCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfcHJvcGVydGllcyIuaHVtYW5pemUoKSA9PSAiTWVzc2FnZSBwcm9wZXJ0aWVzIgogICAgICAibWVzc2FnZV9wcm9wZXJ0aWVzIi5odW1hbml6ZSh0cnVlKSA9PSAibWVzc2FnZSBwcm9wZXJ0aWVzIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuaHVtYW5pemUpCnsKICAgIFN0cmluZy5wcm90b3R5cGUuaHVtYW5pemUgPSBmdW5jdGlvbihsb3dGaXJzdExldHRlcikKICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpcy50b0xvd2VyQ2FzZSgpOwogICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKEluZmxlY3Rpb25KUy5pZF9zdWZmaXgsICcnKTsKICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShJbmZsZWN0aW9uSlMudW5kZXJiYXIsICcgJyk7CiAgICAgICAgaWYgKCFsb3dGaXJzdExldHRlcikKICAgICAgICB7CiAgICAgICAgICAgIHN0ciA9IHN0ci5jYXBpdGFsaXplKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBjYXBpdGFsaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmNhcGl0YWxpemUoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBhbGwgY2hhcmFjdGVycyB3aWxsIGJlIGxvd2VyIGNhc2UgYW5kIHRoZSBmaXJzdCB3aWxsIGJlIHVwcGVyCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfcHJvcGVydGllcyIuY2FwaXRhbGl6ZSgpID09ICJNZXNzYWdlX3Byb3BlcnRpZXMiCiAgICAgICJtZXNzYWdlIHByb3BlcnRpZXMiLmNhcGl0YWxpemUoKSA9PSAiTWVzc2FnZSBwcm9wZXJ0aWVzIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuY2FwaXRhbGl6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgZGFzaGVyaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmRhc2hlcml6ZSgpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBOL0EKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIHJlcGxhY2VzIGFsbCBzcGFjZXMgb3IgdW5kZXJiYXJzIHdpdGggZGFzaGVzCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfcHJvcGVydGllcyIuY2FwaXRhbGl6ZSgpID09ICJtZXNzYWdlLXByb3BlcnRpZXMiCiAgICAgICJNZXNzYWdlIFByb3BlcnRpZXMiLmNhcGl0YWxpemUoKSA9PSAiTWVzc2FnZS1Qcm9wZXJ0aWVzIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuZGFzaGVyaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLmRhc2hlcml6ZSA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpczsKICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShJbmZsZWN0aW9uSlMuc3BhY2Vfb3JfdW5kZXJiYXIsICctJyk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIHRpdGxlaXplIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcudGl0bGVpemUoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBjYXBpdGFsaXplcyB3b3JkcyBhcyB5b3Ugd291bGQgZm9yIGEgYm9vayB0aXRsZQogICAgRXhhbXBsZXM6CiAgICAgICJtZXNzYWdlX3Byb3BlcnRpZXMiLnRpdGxlaXplKCkgPT0gIk1lc3NhZ2UgUHJvcGVydGllcyIKICAgICAgIm1lc3NhZ2UgcHJvcGVydGllcyB0byBrZWVwIi50aXRsZWl6ZSgpID09ICJNZXNzYWdlIFByb3BlcnRpZXMgdG8gS2VlcCIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLnRpdGxlaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLnRpdGxlaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoSW5mbGVjdGlvbkpTLnVuZGVyYmFyLCAnICcpOwogICAgICAgIHZhciBzdHJfYXJyID0gc3RyLnNwbGl0KCcgJyk7CiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdHJfYXJyLmxlbmd0aDsgeCsrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGQgPSBzdHJfYXJyW3hdLnNwbGl0KCctJyk7CiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZC5sZW5ndGg7IGkrKykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuX25vbl90aXRsZWNhc2VkX3dvcmRzLmluZGV4T2YoZFtpXS50b0xvd2VyQ2FzZSgpKSA8IDApCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgZFtpXSA9IGRbaV0uY2FwaXRhbGl6ZSgpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHN0cl9hcnJbeF0gPSBkLmpvaW4oJy0nKTsKICAgICAgICB9CiAgICAgICAgc3RyID0gc3RyX2Fyci5qb2luKCcgJyk7CiAgICAgICAgc3RyID0gc3RyLnN1YnN0cmluZygwLCAxKS50b1VwcGVyQ2FzZSgpICsgc3RyLnN1YnN0cmluZygxKTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgZGVtb2R1bGl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmRlbW9kdWxpemUoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSByZW1vdmVzIG1vZHVsZSBuYW1lcyBsZWF2aW5nIG9ubHkgY2xhc3MgbmFtZXMgKFJ1Ynkgc3R5bGUpCiAgICBFeGFtcGxlczoKICAgICAgIk1lc3NhZ2U6OkJ1czo6UHJvcGVydGllcyIuZGVtb2R1bGl6ZSgpID09ICJQcm9wZXJ0aWVzIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuZGVtb2R1bGl6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5kZW1vZHVsaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHZhciBzdHJfYXJyID0gc3RyLnNwbGl0KCc6OicpOwogICAgICAgIHN0ciA9IHN0cl9hcnJbc3RyX2Fyci5sZW5ndGggLSAxXTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgdGFibGVpemUgc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy50YWJsZWl6ZSgpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBOL0EKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIHJlbmRlcnMgY2FtZWwgY2FzZWQgd29yZHMgaW50byB0aGVpciB1bmRlcnNjb3JlZCBwbHVyYWwgZm9ybQogICAgRXhhbXBsZXM6CiAgICAgICJNZXNzYWdlQnVzUHJvcGVydHkiLnRhYmxlaXplKCkgPT0gIm1lc3NhZ2VfYnVzX3Byb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS50YWJsZWl6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS50YWJsZWl6ZSA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpczsKICAgICAgICBzdHIgPSBzdHIudW5kZXJzY29yZSgpLnBsdXJhbGl6ZSgpOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBjbGFzc2lmaWNhdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmNsYXNzaWZ5KCkgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIE4vQQogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gdW5kZXJzY29yZWQgcGx1cmFsIG5vdW5zIGJlY29tZSB0aGUgY2FtZWwgY2FzZWQgc2luZ3VsYXIgZm9ybQogICAgRXhhbXBsZXM6CiAgICAgICJtZXNzYWdlX2J1c19wcm9wZXJ0aWVzIi5jbGFzc2lmeSgpID09ICJNZXNzYWdlQnVzUHJvcGVydHkiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5jbGFzc2lmeSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5jbGFzc2lmeSA9IGZ1bmN0aW9uKCkKICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpczsKICAgICAgICBzdHIgPSBzdHIuY2FtZWxpemUoKS5zaW5ndWxhcml6ZSgpOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBmb3JlaWduIGtleSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLmZvcmVpZ25fa2V5KGRyb3BJZFViYXIpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBkcm9wSWRVYmFyIC0gYm9vbGVhbiAob3B0aW9uYWwpIC0gZGVmYXVsdCBpcyB0byBzZXBlcmF0ZSBpZCB3aXRoIGFuCiAgICAgICAgdW5kZXJiYXIgYXQgdGhlIGVuZCBvZiB0aGUgY2xhc3MgbmFtZSwgeW91IGNhbiBwYXNzIHRydWUgdG8gc2tpcCBpdAogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gY2FtZWwgY2FzZWQgc2luZ3VsYXIgY2xhc3MgbmFtZXMgYmVjb21lIHVuZGVyc2NvcmVkIHdpdGggaWQKICAgIEV4YW1wbGVzOgogICAgICAiTWVzc2FnZUJ1c1Byb3BlcnR5Ii5mb3JlaWduX2tleSgpID09ICJtZXNzYWdlX2J1c19wcm9wZXJ0eV9pZCIKICAgICAgIk1lc3NhZ2VCdXNQcm9wZXJ0eSIuZm9yZWlnbl9rZXkodHJ1ZSkgPT0gIm1lc3NhZ2VfYnVzX3Byb3BlcnR5aWQiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5mb3JlaWduX2tleSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5mb3JlaWduX2tleSA9IGZ1bmN0aW9uKGRyb3BJZFViYXIpCiAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXM7CiAgICAgICAgc3RyID0gc3RyLmRlbW9kdWxpemUoKS51bmRlcnNjb3JlKCkgKyAoKGRyb3BJZFViYXIpID8gKCcnKSA6ICgnXycpKSArICdpZCc7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIG9yZGluYWxpemUgc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy5vcmRpbmFsaXplKCkgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIE4vQQogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gcmVuZGVycyBhbGwgZm91bmQgbnVtYmVycyB0aGVpciBzZXF1ZW5jZSBsaWtlICIyMm5kIgogICAgRXhhbXBsZXM6CiAgICAgICJ0aGUgMSBwaXRjaCIub3JkaW5hbGl6ZSgpID09ICJ0aGUgMXN0IHBpdGNoIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUub3JkaW5hbGl6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5vcmRpbmFsaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHZhciBzdHJfYXJyID0gc3RyLnNwbGl0KCcgJyk7CiAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdHJfYXJyLmxlbmd0aDsgeCsrKQogICAgICAgIHsKICAgICAgICAgICAgdmFyIGkgPSBwYXJzZUludChzdHJfYXJyW3hdKTsKICAgICAgICAgICAgaWYgKGkgPT09IE5hTikKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdmFyIGx0ZCA9IHN0cl9hcnJbeF0uc3Vic3RyaW5nKHN0cl9hcnJbeF0ubGVuZ3RoIC0gMik7CiAgICAgICAgICAgICAgICB2YXIgbGQgPSBzdHJfYXJyW3hdLnN1YnN0cmluZyhzdHJfYXJyW3hdLmxlbmd0aCAtIDEpOwogICAgICAgICAgICAgICAgdmFyIHN1ZiA9ICJ0aCI7CiAgICAgICAgICAgICAgICBpZiAobHRkICE9ICIxMSIgJiYgbHRkICE9ICIxMiIgJiYgbHRkICE9ICIxMyIpCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGxkID09PSAiMSIpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBzdWYgPSAic3QiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsZCA9PT0gIjIiKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3VmID0gIm5kIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAobGQgPT09ICIzIikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZiA9ICJyZCI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgc3RyX2Fyclt4XSArPSBzdWY7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgc3RyID0gc3RyX2Fyci5qb2luKCcgJyk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0K", "content_type": "application/javascript"}, "google-spreadsheet-javascript/sample.html": {"data": "PCFET0NUWVBFIGh0bWw+IAo8aHRtbD4gCgk8aGVhZD4gCiAgICA8dGl0bGU+R29vZ2xlIFNwcmVhZHNoZWV0IEphdmFzY3JpcHQ8L3RpdGxlPiAKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9ImpxdWVyeS0xLjQuNC5taW4uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iZ29vZ2xlLXNwcmVhZHNoZWV0LmpzIj48L3NjcmlwdD4KICAgIDxzdHlsZT4KICAgICAgYm9keXsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICAgICAgICBjb2xvcjogZ3JlZW47CiAgICAgICAgZm9udC1zaXplOiAuOGVtOwogICAgICAgIGZvbnQtZmFtaWx5OiBzYW5zLXNlcmlmOwogICAgICB9CiAgICAgIGgxLGF7IGNvbG9yOiB5ZWxsb3d9CiAgICAgIGlucHV0ewogICAgICAgIGZvbnQtc2l6ZTogLjhlbTsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjazsKICAgICAgICBjb2xvcjp3aGl0ZTsKICAgICAgfQogICAgPC9zdHlsZT4KICA8L2hlYWQ+IAogIDxib2R5PiAKICAgIDxoMT5Hb29nbGUgU3ByZWFkc2hlZXQgSmF2YXNjcmlwdDwvaDE+CiAgICBIZXJlIGlzIHRoZSBtb3N0IGJhc2ljIHVzYWdlOgogICAgPHByZSBpZD0nY29kZSc+PC9wcmU+CiAgICBBbmQgaGVyZSBhcmUgdGhlIHJlc3VsdHM6CiAgICA8cHJlIGlkPSdyZXN1bHRzJz48L3ByZT4KICAgIDxkaXYgaWQ9J2xpbmtzJz4KICAgICAgR2l0aHViIFVSTDogPGEgaHJlZj0naHR0cHM6Ly9naXRodWIuY29tL21pa2V5bWNrYXkvZ29vZ2xlLXNwcmVhZHNoZWV0LWphdmFzY3JpcHQnPmh0dHBzOi8vZ2l0aHViLmNvbS9taWtleW1ja2F5L2dvb2dsZS1zcHJlYWRzaGVldC1qYXZhc2NyaXB0PC9hPjxici8+CiAgICAgIFNvdXJjZSBVUkwgZm9yIGFib3ZlIHNwcmVhZHNoZWV0IGRhdGE6IDxzcGFuIGlkPSdzcHJlYWRzaGVldF91cmwnPjwvc3Bhbj48YnIvPgogICAgICBUcnkgeW91ciBvd24gc3ByZWFkc2hlZXQgKG5lZWRzIHRvIGJlIDxhIGhyZWY9J2h0dHBzOi8vZG9jcy5nb29nbGUuY29tL3N1cHBvcnQvYmluL2Fuc3dlci5weT9obD1lbiZhbnN3ZXI9NDcxMzQnPnB1Ymxpc2hlZDwvYT4pOjxici8+CiAgICAgIDxpbnB1dCBzdHlsZT0nd2lkdGg6NzAwcHgnIG5hbWU9J3VybCcgdHlwZT0ndGV4dCc+PC9pbnB1dD4KICAgICAgPGlucHV0IG9uY2xpY2s9J2RvY3VtZW50LmxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP3VybD0iKyQoImlucHV0W25hbWVdIikudmFsKCknIHR5cGU9J3N1Ym1pdCc+PC9pbnB1dD4KICAgIDwvZGl2PgogICAgPGlmcmFtZSB3aWR0aD0nNTAwJyBoZWlnaHQ9JzMwMCcgZnJhbWVib3JkZXI9JzAnID48L2lmcmFtZT4KICAgIDxzY3JpcHQ+CiAgICA8L3NjcmlwdD4KICAgIDxzY3JpcHQgaWQ9J3NjcmlwdCc+CiAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogICAgICB2YXIgc2FtcGxlX3VybCA9ICJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL3B1Yj9rZXk9MEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMmaGw9ZW4mb3V0cHV0PWh0bWwiOwogICAgICB2YXIgdXJsX3BhcmFtZXRlciA9IGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5zcGxpdCgvXD91cmw9LylbMV0KICAgICAgdmFyIHVybCA9IHVybF9wYXJhbWV0ZXIgfHwgc2FtcGxlX3VybDsKICAgICAgdmFyIGdvb2dsZVNwcmVhZHNoZWV0ID0gbmV3IEdvb2dsZVNwcmVhZHNoZWV0KCk7CiAgICAgIGdvb2dsZVNwcmVhZHNoZWV0LnVybCh1cmwpOwogICAgICBnb29nbGVTcHJlYWRzaGVldC5sb2FkKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICQoJyNyZXN1bHRzJykuaHRtbChKU09OLnN0cmluZ2lmeShyZXN1bHQpLnJlcGxhY2UoLywvZywiLFxuIikpOwogICAgICB9KTsKICAgIDwvc2NyaXB0PgogICAgPHNjcmlwdD4KICAgICAgJCgnI2NvZGUnKS5odG1sKCQoJyNzY3JpcHQnKS5odG1sKCkpCiAgICAgICQoJyNzcHJlYWRzaGVldF91cmwnKS5odG1sKCI8YSBocmVmPSciK3VybCsiJz4iK3VybCsiPC9hPiIpOwogICAgICAkKCcjaWZyYW1lJykuYXR0cigic3JjIix1cmwpOwogICAgICAkKCdpbnB1dFtuYW1lXScpLnZhbCh1cmwpOwogICAgICBpZiAodXJsICE9IHNhbXBsZV91cmwpewogICAgICAgICQoImRpdiNsaW5rcyIpLmFwcGVuZCgiPGJyLz48YSBocmVmPSciK2RvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lKyInPk9yaWdpbmFsIFNhbXBsZSBTcHJlYWRzaGVldDwvYT4iKQogICAgICB9CiAgICA8L3NjcmlwdD4KICA8L2JvZHk+CjwvaHRtbD4KCg==", "content_type": "text/html"}, "models/assessment.js": {"data": "dmFyIEFzc2Vzc21lbnQ7CnZhciBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9OwokLmFzc2Vzc21lbnQgPSBudWxsOwokLmNvdWNoREJEYXRhYmFzZVBhdGggPSAnL2VncmEvJzsKQXNzZXNzbWVudCA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBBc3Nlc3NtZW50KG5hbWUpIHsKICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB0aGlzLnVybFBhdGggPSAiQXNzZXNzbWVudC4iICsgdGhpcy5uYW1lOwogIH0KICBBc3Nlc3NtZW50LnByb3RvdHlwZS5jaGFuZ2VOYW1lID0gZnVuY3Rpb24obmV3TmFtZSkgewogICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgIHRoaXMubmFtZSA9IG5ld05hbWU7CiAgICB0aGlzLnVybFBhdGggPSAiQXNzZXNzbWVudC4iICsgdGhpcy5uYW1lOwogICAgdGhpcy51cmxQYXRoc0ZvclBhZ2VzID0gW107CiAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICBwYWdlLnVybFBhdGggPSB0aGlzLnVybFBhdGggKyAiLiIgKyBwYWdlLnBhZ2VJZDsKICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLnVybFBhdGhzRm9yUGFnZXMucHVzaChwYWdlLnVybFBhdGgpKTsKICAgIH0KICAgIHJldHVybiBfcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNldFBhZ2VzID0gZnVuY3Rpb24ocGFnZXMpIHsKICAgIHZhciBpbmRleCwgcGFnZSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICB0aGlzLnBhZ2VzID0gcGFnZXM7CiAgICB0aGlzLnVybFBhdGhzRm9yUGFnZXMgPSBbXTsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgX3Jlc3VsdHMgPSBbXTsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICBwYWdlID0gX3JlZltpbmRleF07CiAgICAgIHBhZ2UuYXNzZXNzbWVudCA9IHRoaXM7CiAgICAgIHBhZ2UucGFnZU51bWJlciA9IGluZGV4OwogICAgICBpZiAoaW5kZXggIT09IDApIHsKICAgICAgICBwYWdlLnByZXZpb3VzUGFnZSA9IHRoaXMucGFnZXNbaW5kZXggLSAxXS5wYWdlSWQ7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFnZXMubGVuZ3RoICE9PSBpbmRleCArIDEpIHsKICAgICAgICBwYWdlLm5leHRQYWdlID0gdGhpcy5wYWdlc1tpbmRleCArIDFdLnBhZ2VJZDsKICAgICAgfQogICAgICBwYWdlLnVybFNjaGVtZSA9IHRoaXMudXJsU2NoZW1lOwogICAgICBwYWdlLnVybFBhdGggPSB0aGlzLnVybFBhdGggKyAiLiIgKyBwYWdlLnBhZ2VJZDsKICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLnVybFBhdGhzRm9yUGFnZXMucHVzaChwYWdlLnVybFBhdGgpKTsKICAgIH0KICAgIHJldHVybiBfcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmdldFBhZ2UgPSBmdW5jdGlvbihwYWdlSWQpIHsKICAgIHZhciBwYWdlLCBfaSwgX2xlbiwgX3JlZjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgaWYgKHBhZ2UucGFnZUlkID09PSBwYWdlSWQpIHsKICAgICAgICByZXR1cm4gcGFnZTsKICAgICAgfQogICAgfQogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuaW5zZXJ0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIHBhZ2VOdW1iZXIpIHsKICAgIHRoaXMucGFnZXMuc3BsaWNlKHBhZ2VOdW1iZXIsIDAsIHBhZ2UpOwogICAgcmV0dXJuIHRoaXMuc2V0UGFnZXModGhpcy5wYWdlcyk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAiIiArIHRoaXMudXJsU2NoZW1lICsgIjovLyIgKyB0aGlzLnVybFBhdGg7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5sb2dpblBhZ2UgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkLmFzc2Vzc21lbnQucGFnZXNbMF07CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5jdXJyZW50VXNlciA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMubG9naW5QYWdlKCkucmVzdWx0cygpLnVzZXJuYW1lOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuY3VycmVudFBhc3N3b3JkID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5sb2dpblBhZ2UoKS5yZXN1bHRzKCkucGFzc3dvcmQ7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5oYXNVc2VyQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGxvZ2luUmVzdWx0czsKICAgIGxvZ2luUmVzdWx0cyA9IHRoaXMubG9naW5QYWdlKCkucmVzdWx0cygpOwogICAgcmV0dXJuIGxvZ2luUmVzdWx0cy51c2VybmFtZSAhPT0gIiIgJiYgbG9naW5SZXN1bHRzLnBhc3N3b3JkICE9PSAiIjsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCByZXN1bHRzLCBfaSwgX2xlbiwgX3JlZjsKICAgIHJlc3VsdHMgPSB7fTsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcmVzdWx0c1twYWdlLnBhZ2VJZF0gPSBwYWdlLnJlc3VsdHMoKTsKICAgIH0KICAgIHJlc3VsdHMudGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNhdmVSZXN1bHRzID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciByZXN1bHRzLCB1cmw7CiAgICByZXN1bHRzID0gdGhpcy5yZXN1bHRzKCk7CiAgICB1cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGg7CiAgICByZXR1cm4gJC5hamF4KHsKICAgICAgdXJsOiB1cmwsCiAgICAgIGFzeW5jOiB0cnVlLAogICAgICB0eXBlOiAnUE9TVCcsCiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJlc3VsdHMpLAogICAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBQVVQgdG8gIiArIHVybDsKICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0cyk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlc2V0VVJMID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2g7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gdGhpcy5yZXNldFVSTCgpOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCBwYWdlUmVzdWx0LCB2YWxpZGF0aW9uRXJyb3JzLCBfaSwgX2xlbiwgX3JlZjsKICAgIHZhbGlkYXRpb25FcnJvcnMgPSAiIjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcGFnZVJlc3VsdCA9IHBhZ2UudmFsaWRhdGUoKTsKICAgICAgaWYgKHBhZ2VSZXN1bHQgIT09IHRydWUpIHsKICAgICAgICB2YWxpZGF0aW9uRXJyb3JzICs9ICInIiArIChwYWdlLm5hbWUoKSkgKyAiJyBwYWdlIGludmFsaWQ6ICIgKyBwYWdlUmVzdWx0ICsgIiA8YnIvPiI7CiAgICAgIH0KICAgIH0KICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzICE9PSAiIikgewogICAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9yczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgIHVybFBhdGhzRm9yUGFnZXM6IHRoaXMudXJsUGF0aHNGb3JQYWdlcwogICAgfSk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oKSB7CiAgICBzd2l0Y2ggKHRoaXMudXJsU2NoZW1lKSB7CiAgICAgIGNhc2UgImxvY2Fsc3RvcmFnZSI6CiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgIlVSTCB0eXBlIG5vdCB5ZXQgaW1wbGVtZW50ZWQ6ICIgKyB0aGlzLnVybFNjaGVtZTsKICAgIH0KICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgIHRoaXMudXJsU2NoZW1lID0gImxvY2Fsc3RvcmFnZSI7CiAgICBsb2NhbFN0b3JhZ2VbdGhpcy51cmxQYXRoXSA9IHRoaXMudG9KU09OKCk7CiAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICBfcmVzdWx0cy5wdXNoKHBhZ2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKCkpOwogICAgfQogICAgcmV0dXJuIF9yZXN1bHRzOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuc2F2ZVRvQ291Y2hEQiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICB0aGlzLnVybFNjaGVtZSA9ICJodHRwIjsKICAgIGlmICh0aGlzLnVybFBhdGhbMF0gIT09ICIvIikgewogICAgICB0aGlzLnVybFBhdGggPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyB0aGlzLnVybFBhdGg7CiAgICB9CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsUGF0aCwKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdQVVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBkYXRhOiB0aGlzLnRvSlNPTigpLAogICAgICBzdWNjZXNzOiBfX2JpbmQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICAgIHRoaXMucmV2aXNpb24gPSByZXN1bHQucmV2OwogICAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgICAgcGFnZS5zYXZlVG9Db3VjaERCKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLm9uUmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICB9KTsKICAgICAgfSwgdGhpcyksCiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICB0aHJvdyAiQ291bGQgbm90IFBVVCB0byAiICsgdGhpcy51cmxQYXRoOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGVbImRlbGV0ZSJdID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy51cmxTY2hlbWUgPT09ICJsb2NhbHN0b3JhZ2UiKSB7CiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UoKTsKICAgIH0KICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCBfaSwgX2xlbiwgX3JlZjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcGFnZS5kZWxldGVGcm9tTG9jYWxTdG9yYWdlKCk7CiAgICB9CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy51cmxQYXRoKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmRlbGV0ZUZyb21Db3VjaERCID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcGFnZSwgdXJsLCBfaSwgX2xlbiwgX3JlZjsKICAgIHVybCA9ICQuY291Y2hEQkRhdGFiYXNlUGF0aCArIHRoaXMudXJsUGF0aCArICgiP3Jldj0iICsgdGhpcy5yZXZpc2lvbik7CiAgICBpZiAodGhpcy5wYWdlcykgewogICAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgIHBhZ2UuZGVsZXRlRnJvbUNvdWNoREIoKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuICQuYWpheCh7CiAgICAgIHVybDogdXJsLAogICAgICBhc3luYzogdHJ1ZSwKICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICB0aHJvdyAiRXJyb3IgZGVsZXRpbmcgIiArIHVybDsKICAgICAgfQogICAgfSk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5vblJlYWR5ID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciBjaGVja0lmTG9hZGluZywgbWF4VHJpZXMsIHRpbWVzVHJpZWQ7CiAgICBtYXhUcmllcyA9IDEwOwogICAgdGltZXNUcmllZCA9IDA7CiAgICBjaGVja0lmTG9hZGluZyA9IF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICB0aW1lc1RyaWVkKys7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICBpZiAodGltZXNUcmllZCA+PSBtYXhUcmllcykgewogICAgICAgICAgdGhyb3cgIlRpbWVvdXQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgYXNzZXNzbWVudDogIiArIHRoaXMubmFtZTsKICAgICAgICB9CiAgICAgICAgc2V0VGltZW91dChjaGVja0lmTG9hZGluZywgMTAwMCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBwYWdlID0gX3JlZltfaV07CiAgICAgICAgaWYgKHBhZ2UubG9hZGluZykgewogICAgICAgICAgaWYgKHRpbWVzVHJpZWQgPj0gbWF4VHJpZXMpIHsKICAgICAgICAgICAgdGhyb3cgIlRpbWVvdXQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgcGFnZTogIiArIHBhZ2UucGFnZUlkOwogICAgICAgICAgfQogICAgICAgICAgc2V0VGltZW91dChjaGVja0lmTG9hZGluZywgMTAwMCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gY2hlY2tJZkxvYWRpbmcoKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICByZXR1cm4gdGhpcy5vblJlYWR5KF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdmFyIGksIHBhZ2UsIHJlc3VsdDsKICAgICAgJC5hc3Nlc3NtZW50ID0gdGhpczsKICAgICAgJCgnZGl2JykubGl2ZSgncGFnZWJlZm9yZXNob3cnLCBfX2JpbmQoZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgICAgaWYgKHBhZ2UucGFnZUlkID09PSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2lkJykpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHRoaXMpKTsKICAgICAgcmVzdWx0ID0gKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgICAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgICAgICBfcmVzdWx0cyA9IFtdOwogICAgICAgIGZvciAoaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgaSA8IF9sZW47IGkrKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbaV07CiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHBhZ2UucmVuZGVyKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICAgIH0pLmNhbGwodGhpcyk7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5qb2luKCIiKTsKICAgICAgcmVzdWx0ICs9ICIgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdkaWFsb2cnIGlkPSdfaW5mb1BhZ2UnPiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4JICAgICAgICAgICAgPGgxPkluZm9ybWF0aW9uPC9oMT4gICAgICAgICAgPC9kaXY+ICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICAgIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+ICAgICAgICA8L2Rpdj4gICAgICAiOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sIHRoaXMpKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmZsYXNoID0gZnVuY3Rpb24oKSB7CiAgICAkKCcuY29udHJvbHMnKS5hZGRDbGFzcygiZmxhc2giKTsKICAgICQoImRpdltkYXRhLXJvbGU9aGVhZGVyXSIpLnRvZ2dsZUNsYXNzKCJmbGFzaCIpOwogICAgJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikudG9nZ2xlQ2xhc3MoImZsYXNoIik7CiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgJCgnLmNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoImZsYXNoIik7CiAgICAgICQoImRpdltkYXRhLXJvbGU9aGVhZGVyXSIpLnJlbW92ZUNsYXNzKCJmbGFzaCIpOwogICAgICByZXR1cm4gJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikucmVtb3ZlQ2xhc3MoImZsYXNoIik7CiAgICB9LCAzMDAwKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnRvUGFwZXIgPSBmdW5jdGlvbihjYWxsYmFjaykgewogICAgcmV0dXJuIHRoaXMub25SZWFkeShfX2JpbmQoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBpLCBwYWdlLCByZXN1bHQ7CiAgICAgIHJlc3VsdCA9IChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgICAgX3JlZiA9IHRoaXMucGFnZXM7CiAgICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgICBmb3IgKGkgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGkgPCBfbGVuOyBpKyspIHsKICAgICAgICAgIHBhZ2UgPSBfcmVmW2ldOwogICAgICAgICAgX3Jlc3VsdHMucHVzaCgoIjxoMT4iICsgKHBhZ2UubmFtZSgpKSArICI8L2gxPiIpICsgcGFnZS50b1BhcGVyKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICAgIH0pLmNhbGwodGhpcyk7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5qb2luKCI8ZGl2IGNsYXNzPSdwYWdlLWJyZWFrJz48aHIvPjwvZGl2PiIpOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sIHRoaXMpKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmhhbmRsZVVSTFBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBhLCBkLCBlLCBwYXJhbSwgcSwgciwgdmFsdWUsIF9yZWY7CiAgICBpZiAodGhpcy51cmxQYXJhbXMgIT0gbnVsbCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB0aGlzLnVybFBhcmFtcyA9IHt9OwogICAgYSA9IC9cKy9nOwogICAgciA9IC8oW14mPV0rKT0/KFteJl0qKS9nOwogICAgZCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UoYSwgIiAiKSk7CiAgICB9OwogICAgcSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogICAgd2hpbGUgKChlID0gci5leGVjKHEpKSkgewogICAgICB0aGlzLnVybFBhcmFtc1tkKGVbMV0pXSA9IGQoZVsyXSk7CiAgICB9CiAgICBfcmVmID0gdGhpcy51cmxQYXJhbXM7CiAgICBmb3IgKHBhcmFtIGluIF9yZWYpIHsKICAgICAgdmFsdWUgPSBfcmVmW3BhcmFtXTsKICAgICAgJCgiaW5wdXQjIiArIHBhcmFtKS52YWwodmFsdWUpOwogICAgfQogICAgaWYgKHRoaXMudXJsUGFyYW1zLm5ld0Fzc2Vzc21lbnQpIHsKICAgICAgaWYgKCEoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PT0gIkRhdGVUaW1lIiB8fCAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UucGFnZUlkID09PSAiTG9naW4iKSkgewogICAgICAgIGlmICghKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS5wYWdlSWQgPT09ICJEYXRlVGltZSIgfHwgJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PT0gIkxvZ2luIikpIHsKICAgICAgICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIkRhdGVUaW1lIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CiAgICAgIH0KICAgIH0KICB9OwogIHJldHVybiBBc3Nlc3NtZW50Owp9KSgpOwpBc3Nlc3NtZW50LmxvYWQgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7CiAgdmFyIGFzc2Vzc21lbnQsIHVybFBhdGgsIHVybFNjaGVtZTsKICB0cnkgewogICAgdXJsU2NoZW1lID0gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZigiOi8vIikpOwogICAgdXJsUGF0aCA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YoIjovLyIpICsgMyk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHRocm93ICJJbnZhbGlkIHVybDogIiArIHVybDsKICB9CiAgc3dpdGNoICh1cmxTY2hlbWUpIHsKICAgIGNhc2UgImxvY2Fsc3RvcmFnZSI6CiAgICAgIGFzc2Vzc21lbnQgPSBBc3Nlc3NtZW50LmxvYWRGcm9tTG9jYWxTdG9yYWdlKHVybFBhdGgpOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKGFzc2Vzc21lbnQpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAiaHR0cCI6CiAgICAgIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQKHVybFBhdGgsIGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgIHRocm93ICJVUkwgdHlwZSBub3QgeWV0IGltcGxlbWVudGVkOiAiICsgdXJsU2NoZW1lOwogIH0KICByZXR1cm4gYXNzZXNzbWVudDsKfTsKQXNzZXNzbWVudC5sb2FkRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKHVybFBhdGgpIHsKICB2YXIgYXNzZXNzbWVudCwgYXNzZXNzbWVudE9iamVjdCwgcGFnZXMsIF9pLCBfbGVuLCBfcmVmOwogIGFzc2Vzc21lbnRPYmplY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSk7CiAgaWYgKGFzc2Vzc21lbnRPYmplY3QgPT0gbnVsbCkgewogICAgdGhyb3cgIkNvdWxkIG5vdCBsb2FkIGxvY2FsU3RvcmFnZVsnIiArIHVybFBhdGggKyAiJ10sICIgKyBlcnJvcjsKICB9CiAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KGFzc2Vzc21lbnRPYmplY3QubmFtZSk7CiAgYXNzZXNzbWVudC51cmxTY2hlbWUgPSAibG9jYWxzdG9yYWdlIjsKICBwYWdlcyA9IFtdOwogIF9yZWYgPSBhc3Nlc3NtZW50T2JqZWN0LnVybFBhdGhzRm9yUGFnZXM7CiAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICB1cmxQYXRoID0gX3JlZltfaV07CiAgICBwYWdlcy5wdXNoKEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UodXJsUGF0aCkpOwogIH0KICBhc3Nlc3NtZW50LnNldFBhZ2VzKHBhZ2VzKTsKICByZXR1cm4gYXNzZXNzbWVudDsKfTsKQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7CiAgdmFyIGFzc2Vzc21lbnQsIGJhc2VVcmw7CiAgYXNzZXNzbWVudCA9IG51bGw7CiAgYmFzZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCIvIikgKyAxKTsKICAkLmFqYXgoewogICAgdXJsOiB1cmwsCiAgICB0eXBlOiAnR0VUJywKICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgdmFyIHBhZ2VzLCB1cmxQYXRoLCBfaSwgX2xlbiwgX3JlZjsKICAgICAgdHJ5IHsKICAgICAgICBhc3Nlc3NtZW50ID0gbmV3IEFzc2Vzc21lbnQocmVzdWx0Lm5hbWUpOwogICAgICAgIHBhZ2VzID0gW107CiAgICAgICAgX3JlZiA9IHJlc3VsdC51cmxQYXRoc0ZvclBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgdXJsUGF0aCA9IF9yZWZbX2ldOwogICAgICAgICAgdXJsID0gYmFzZVVybCArIHVybFBhdGg7CiAgICAgICAgICBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCh7CiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBhc3luYzogZmFsc2UKICAgICAgICAgIH0sIF9fYmluZChmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgICAgcmVzdWx0LmFzc2Vzc21lbnQgPSBhc3Nlc3NtZW50OwogICAgICAgICAgICByZXR1cm4gcGFnZXMucHVzaChyZXN1bHQpOwogICAgICAgICAgfSwgdGhpcykpOwogICAgICAgIH0KICAgICAgICBhc3Nlc3NtZW50LnNldFBhZ2VzKHBhZ2VzKTsKICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFzc2Vzc21lbnQpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coIkVycm9yIGluIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQOiIgKyBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgIHRocm93ICJGYWlsZWQgdG8gbG9hZDogIiArIHVybDsKICAgIH0KICB9KTsKICByZXR1cm4gYXNzZXNzbWVudDsKfTs=", "content_type": "application/javascript"}, "js-libraries/jquery-mobile/jquery.mobile-1.0b2.css": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIyCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCi8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIGFuZCBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCgoKLyogQQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktYmFyLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMkEyQTJBOwoJYmFja2dyb3VuZDogCQkJIzExMTExMTsKCWNvbG9yOiAJCQkJCSNmZmZmZmY7Cglmb250LXdlaWdodDogYm9sZDsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDAwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzYzNjM2MpLCB0bygjMTExKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MsICMxMTEpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MsICMxMTEpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7Cn0KLnVpLWJhci1hLCAKLnVpLWJhci1hIGlucHV0LCAKLnVpLWJhci1hIHNlbGVjdCwgCi51aS1iYXItYSB0ZXh0YXJlYSwgCi51aS1iYXItYSBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJhci1hIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYmFyLWEgLnVpLWxpbmsgewoJY29sb3I6IAkJCQkJIzdjYzRlNzsKCWZvbnQtd2VpZ2h0OiBib2xkOwp9Ci51aS1ib2R5LWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMkEyQTJBOwoJYmFja2dyb3VuZDogCQkJIzIyMjIyMjsKCWNvbG9yOiAJCQkJCSNmZmY7CgkgdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSMwMDA7Cglmb250LXdlaWdodDogbm9ybWFsOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjNjY2KSwgdG8oIzIyMikpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2LCAjMjIyKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2LCAjMjIyKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOwkKfQoudWktYm9keS1hLAoudWktYm9keS1hIGlucHV0LAoudWktYm9keS1hIHNlbGVjdCwKLnVpLWJvZHktYSB0ZXh0YXJlYSwKLnVpLWJvZHktYSBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYSAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJvZHktYSAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJyIHsKCWJvcmRlci1ib3R0b206IHJnYigxMzAsMTMwLDEzMCk7Cglib3JkZXItYm90dG9tOiByZ2JhKDEzMCwxMzAsMTMwLC4zKTsKCWJvcmRlci1ib3R0b20td2lkdGg6IDFweDsKCWJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkOwp9Ci51aS1idG4tdXAtYSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMyMjI7CgliYWNrZ3JvdW5kOiAJCQkjMzMzMzMzOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzAwMDsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzU1NSksIHRvKCMzMzMpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NSwgIzMzMyk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NSwgIzMzMyk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsKfQoudWktYnRuLXVwLWEgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLWhvdmVyLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMDAwOwoJYmFja2dyb3VuZDogCQkJIzQ0NDQ0NDsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJI2ZmZjsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM2NjYpLCB0bygjNDQ0KSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICM0NDQpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICM0NDQpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7Cn0KLnVpLWJ0bi1ob3Zlci1hIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJ0bi1kb3duLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMDAwOwoJYmFja2dyb3VuZDogCQkJIzNkM2QzZDsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJI2ZmZjsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzMzMpLCB0bygjNWE1YTVhKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMsICM1YTVhNWEpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMsICM1YTVhNWEpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7Cn0KLnVpLWJ0bi1kb3duLWEgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLXVwLWEsCi51aS1idG4taG92ZXItYSwKLnVpLWJ0bi1kb3duLWEgewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCgovKiBCCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1iYXItYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSM0NTZmOWE7CgliYWNrZ3JvdW5kOiAJCQkjNWU4N2IwOwoJY29sb3I6IAkJCQkJI2ZmZjsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzI1NGY3YTsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzgxYThjZSksIHRvKCM1ZTg3YjApKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSwgIzVlODdiMCk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSwgIzVlODdiMCk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsKfQoudWktYmFyLWIsCi51aS1iYXItYiBpbnB1dCwKLnVpLWJhci1iIHNlbGVjdCwKLnVpLWJhci1iIHRleHRhcmVhLAoudWktYmFyLWIgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1iYXItYiAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJhci1iIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSM3Y2M0ZTc7Cglmb250LXdlaWdodDogYm9sZDsKfQoKLnVpLWJvZHktYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNDNkM2QzY7CgliYWNrZ3JvdW5kOiAJCQkjY2NjY2NjOwoJY29sb3I6IAkJCQkJIzMzMzMzMzsKCXRleHQtc2hhZG93OiAwIDFweCAwIAkjZmZmOwoJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2U2ZTZlNiksIHRvKCNjY2MpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiwgI2NjYyk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiwgI2NjYyk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsKfQoudWktYm9keS1iLAoudWktYm9keS1iIGlucHV0LAoudWktYm9keS1iIHNlbGVjdCwKLnVpLWJvZHktYiB0ZXh0YXJlYSwKLnVpLWJvZHktYiBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYiAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzMzMzM7Cn0KLnVpLWJvZHktYiAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJ0bi11cC1iIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJIzE0NTA3MjsKCWJhY2tncm91bmQ6IAkJCSMyNTY3YWI7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSNmZmY7Cgl0ZXh0LXNoYWRvdzogMCAtMXB4IDFweCAjMTQ1MDcyOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjNWY5Y2M1KSwgdG8oIzM5NmI5ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNWY5Y2M1LCAjMzk2YjllKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNWY5Y2M1LCAjMzk2YjllKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOwp9Ci51aS1idG4tdXAtYiBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjZmZmOwp9Ci51aS1idG4taG92ZXItYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMwMDUxNmU7CgliYWNrZ3JvdW5kOiAJCQkjNGI4OGI2OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzAxNEQ2ODsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzcyYjBkNCksIHRvKCM0Yjg4YjYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCwgIzRiODhiNik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCwgIzRiODhiNik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsKfQoudWktYnRuLWhvdmVyLWIgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLWRvd24tYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMyMjUzNzc7CgliYWNrZ3JvdW5kOiAJCQkjNGU4OWM1OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzIyNTM3NzsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzM5NmI5ZSksIHRvKCM0ZTg5YzUpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSwgIzRlODljNSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSwgIzRlODljNSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsKfQoudWktYnRuLWRvd24tYiBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjZmZmOwp9Ci51aS1idG4tdXAtYiwKLnVpLWJ0bi1ob3Zlci1iLAoudWktYnRuLWRvd24tYiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1jIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI0IzQjNCMzsKCWJhY2tncm91bmQ6IAkJCSNlOWVhZWI7Cgljb2xvcjogCQkJCQkjM0UzRTNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMXB4IAkjZmZmOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZjBmMGYwKSwgdG8oI2U5ZWFlYikpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwLCAjZTllYWViKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwLCAjZTllYWViKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOwp9Ci51aS1iYXItYywKLnVpLWJhci1jIGlucHV0LAoudWktYmFyLWMgc2VsZWN0LAoudWktYmFyLWMgdGV4dGFyZWEsCi51aS1iYXItYyBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNCM0IzQjM7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kOiAJCQkjZjBmMGYwOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZWVlKSwgdG8oI2RkZCkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZGRkKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZGRkKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOwp9Ci51aS1ib2R5LWMsCi51aS1ib2R5LWMgaW5wdXQsCi51aS1ib2R5LWMgc2VsZWN0LAoudWktYm9keS1jIHRleHRhcmVhLAoudWktYm9keS1jIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYm9keS1jIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzMzMzsKfQoudWktYm9keS1jIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoKLnVpLWJ0bi11cC1jIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWJhY2tncm91bmQ6IAkJCSNlZWU7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSM0NDQ7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMXB4ICNmNmY2ZjY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZGZkZmQpLCB0bygjZWVlKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQsICNlZWUpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQsICNlZWUpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7Cn0KLnVpLWJ0bi11cC1jIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMyRjNFNDY7Cn0KCi51aS1idG4taG92ZXItYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNiYmI7CgliYWNrZ3JvdW5kOiAJCQkjZGFkYWRhOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTAxMDEwOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VkZWRlZCksIHRvKCNkYWRhZGEpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCwgI2RhZGFkYSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCwgI2RhZGFkYSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsKfQoudWktYnRuLWhvdmVyLWMgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzJGM0U0NjsKfQoudWktYnRuLWRvd24tYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSM4MDgwODA7CgliYWNrZ3JvdW5kOiAJCQkjZmRmZGZkOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZmZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VlZSksIHRvKCNmZGZkZmQpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZkZmRmZCk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZkZmRmZCk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsKfQoudWktYnRuLWRvd24tYyBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMkYzRTQ2Owp9Ci51aS1idG4tdXAtYywKLnVpLWJ0bi1ob3Zlci1jLAoudWktYnRuLWRvd24tYyB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEQKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1kIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWJhY2tncm91bmQ6IAkJCSNiYmI7Cgljb2xvcjogCQkJCQkjMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgI2VlZTsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2RkZCksIHRvKCNiYmIpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCwgI2JiYik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCwgI2JiYik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsKfQoudWktYmFyLWQsCi51aS1iYXItZCBpbnB1dCwKLnVpLWJhci1kIHNlbGVjdCwKLnVpLWJhci1kIHRleHRhcmVhLAoudWktYmFyLWQgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1iYXItZCAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzM7Cn0KLnVpLWJhci1kIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoudWktYm9keS1kIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWNvbG9yOiAJCQkJCSMzMzMzMzM7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMCAJI2ZmZjsKCWJhY2tncm91bmQ6IAkJCSNmZmZmZmY7Cn0KLnVpLWJvZHktZCwKLnVpLWJvZHktZCBpbnB1dCwKLnVpLWJvZHktZCBzZWxlY3QsCi51aS1ib2R5LWQgdGV4dGFyZWEsCi51aS1ib2R5LWQgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1ib2R5LWQgLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwp9Ci51aS1ib2R5LWQgLnVpLWxpbmsgewoJY29sb3I6IAkJCQkJIzI0ODlDRTsKCWZvbnQtd2VpZ2h0OiBib2xkOwp9Ci51aS1idG4tdXAtZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNjY2M7CgliYWNrZ3JvdW5kOiAJCQkjZmZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjNDQ0OwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAjZmZmOwp9Ci51aS1idG4tdXAtZCBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1idG4taG92ZXItZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNhYWE7CgliYWNrZ3JvdW5kOiAJCQkjZWVlZWVlOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMjIyOwoJY3Vyc29yOiBwb2ludGVyOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZkZmRmZCksIHRvKCNlZWUpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsKfQoudWktYnRuLWhvdmVyLWQgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzIyMjsKfQoudWktYnRuLWRvd24tZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNhYWFhYWE7CgliYWNrZ3JvdW5kOiAJCQkjZmZmZmZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZmZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VlZSksIHRvKCNmZmYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZmZik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZmZik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsKfQoudWktYnRuLWRvd24tZCBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMTExOwp9Ci51aS1idG4tdXAtZCwKLnVpLWJ0bi1ob3Zlci1kLAoudWktYnRuLWRvd24tZCB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEUKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1lIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI0Y3Qzk0MjsKCWJhY2tncm91bmQ6IAkJCSNmYWRiNGU7Cgljb2xvcjogCQkJCQkjMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmY2VkYTcpLCB0bygjZmFkYjRlKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7Cn0KLnVpLWJhci1lLAoudWktYmFyLWUgaW5wdXQsCi51aS1iYXItZSBzZWxlY3QsCi51aS1iYXItZSB0ZXh0YXJlYSwKLnVpLWJhci1lIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYmFyLWUgLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1iYXItZSAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJvZHktZSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNGN0M5NDI7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kOiAJCQkjZmFlYjllOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmKSwgdG8oI2ZhZWI5ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmLCAjZmFlYjllKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmLCAjZmFlYjllKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOwp9Ci51aS1ib2R5LWUsCi51aS1ib2R5LWUgaW5wdXQsCi51aS1ib2R5LWUgc2VsZWN0LAoudWktYm9keS1lIHRleHRhcmVhLAoudWktYm9keS1lIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYm9keS1lIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzMzMzsKfQoudWktYm9keS1lIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoudWktYnRuLXVwLWUgewoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyOwoJYmFja2dyb3VuZDogCQkJI2ZhZGI0ZTsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJIzMzMzsKCXRleHQtc2hhZG93OiAwIDFweCAwIAkjZmZmOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmNlZGE3KSwgdG8oI2ZhZGI0ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNlZGE3LCAjZmFkYjRlKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNlZGE3LCAjZmFkYjRlKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOwp9Ci51aS1idG4tdXAtZSBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1idG4taG92ZXItZSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNlNzk5NTI7CgliYWNrZ3JvdW5kOiAJCQkjZmJlMjZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZjZjBiNSksIHRvKCNmYmUyNmYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSwgI2ZiZTI2Zik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSwgI2ZiZTI2Zik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsKfQoKLnVpLWJ0bi1ob3Zlci1lIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzM7Cn0KLnVpLWJ0bi1kb3duLWUgewoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyOwoJYmFja2dyb3VuZDogCQkJI2ZjZWRhNzsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJIzExMTsKCXRleHQtc2hhZG93OiAwIDFweCAxcHggCSNmZmZmZmY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmYWRiNGUpLCB0bygjZmNlZGE3KSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmYWRiNGUsICNmY2VkYTcpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmYWRiNGUsICNmY2VkYTcpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7Cn0KLnVpLWJ0bi1kb3duLWUgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzsKfQoudWktYnRuLXVwLWUsCi51aS1idG4taG92ZXItZSwKLnVpLWJ0bi1kb3duLWUgewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCgovKiBsaW5rcyB3aXRoaW4gImJ1dHRvbnMiIAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgphLnVpLWxpbmstaW5oZXJpdCB7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmUgIWltcG9ydGFudDsKfQoKCi8qIEFjdGl2ZSBjbGFzcyB1c2VkIGFzIHRoZSAib24iIHN0YXRlIGFjcm9zcyBhbGwgdGhlbWVzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1idG4tYWN0aXZlIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJIzE1NTY3ODsKCWJhY2tncm91bmQ6IAkJCSM0NTk2Y2U7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSNmZmY7CgljdXJzb3I6IHBvaW50ZXI7Cgl0ZXh0LXNoYWRvdzogMCAtMXB4IDFweCAjMTQ1MDcyOwoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjODViYWU0KSwgdG8oIzUzOTNjNSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjODViYWU0LCAjNTM5M2M1KTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjODViYWU0LCAjNTM5M2M1KTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOwogIAlvdXRsaW5lOiBub25lOwp9Ci51aS1idG4tYWN0aXZlIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KCgovKiBidXR0b24gaW5uZXIgdG9wIGhpZ2hsaWdodAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktYnRuLWlubmVyIHsKCWJvcmRlci10b3A6IDFweCBzb2xpZCAJI2ZmZjsKCWJvcmRlci1jb2xvcjogCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7Cn0KCgovKiBjb3JuZXIgcm91bmRpbmcgY2xhc3NlcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktY29ybmVyLXRsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCS42ZW07Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLXRyIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLWJsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLWJyIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAuNmVtOwoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJLjZlbTsKfQoudWktY29ybmVyLXRvcCB7CgktbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJLjZlbTsKCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCS42ZW07CgktbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCS42ZW07Cn0KLnVpLWNvcm5lci1ib3R0b20gewoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC42ZW07Cglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkuNmVtOwoJfQoudWktY29ybmVyLXJpZ2h0IHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJLjZlbTsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAuNmVtOwoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJLjZlbTsKfQoudWktY29ybmVyLWxlZnQgewoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwp9Ci51aS1jb3JuZXItYWxsIHsKCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCS42ZW07Cgktd2Via2l0LWJvcmRlci1yYWRpdXM6IAkJCQkuNmVtOwoJYm9yZGVyLXJhZGl1czogCQkJCQkJLjZlbTsKfQoKCgovKiBJbnRlcmFjdGlvbiBjdWVzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KLnVpLWRpc2FibGVkIHsKCW9wYWNpdHk6IAkJCQkJCQkuMzsKfQoudWktZGlzYWJsZWQsCi51aS1kaXNhYmxlZCBhIHsKCWN1cnNvcjogZGVmYXVsdDsKfQoKLyogSWNvbnMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWljb24gewoJYmFja2dyb3VuZDogCQkJCQkJIzY2NjsKCWJhY2tncm91bmQ6IAkJCQkJCXJnYmEoMCwwLDAsLjQpOwoJYmFja2dyb3VuZC1pbWFnZTogdXJsKGltYWdlcy9pY29ucy0xOC13aGl0ZS5wbmcpOwoJYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCTlweDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogCQkJCTlweDsKCWJvcmRlci1yYWRpdXM6IAkJCQkJCTlweDsKfQoKCi8qIEFsdCBpY29uIGNvbG9yCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1pY29uLWFsdCB7CgliYWNrZ3JvdW5kOiAJCQkJCQkjZmZmOwoJYmFja2dyb3VuZDogCQkJCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7CgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoaW1hZ2VzL2ljb25zLTE4LWJsYWNrLnBuZyk7CgliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Owp9CgovKiBIRC8icmV0aW5hIiBzcHJpdGUKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLAogICAgICAgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksCiAgICAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyNDBkcGkpIHsKCQoJLnVpLWljb24tcGx1cywgLnVpLWljb24tbWludXMsIC51aS1pY29uLWRlbGV0ZSwgLnVpLWljb24tYXJyb3ctciwKCS51aS1pY29uLWFycm93LWwsIC51aS1pY29uLWFycm93LXUsIC51aS1pY29uLWFycm93LWQsIC51aS1pY29uLWNoZWNrLAoJLnVpLWljb24tZ2VhciwgLnVpLWljb24tcmVmcmVzaCwgLnVpLWljb24tZm9yd2FyZCwgLnVpLWljb24tYmFjaywKCS51aS1pY29uLWdyaWQsIC51aS1pY29uLXN0YXIsIC51aS1pY29uLWFsZXJ0LCAudWktaWNvbi1pbmZvLCAudWktaWNvbi1ob21lLCAudWktaWNvbi1zZWFyY2gsIAoJLnVpLWljb24tY2hlY2tib3gtb2ZmLCAudWktaWNvbi1jaGVja2JveC1vbiwgLnVpLWljb24tcmFkaW8tb2ZmLCAudWktaWNvbi1yYWRpby1vbiB7CgkJYmFja2dyb3VuZC1pbWFnZTogdXJsKGltYWdlcy9pY29ucy0zNi13aGl0ZS5wbmcpOwoJCS1tb3otYmFja2dyb3VuZC1zaXplOiA3NzZweCAxOHB4OwoJCS1vLWJhY2tncm91bmQtc2l6ZTogNzc2cHggMThweDsKCQktd2Via2l0LWJhY2tncm91bmQtc2l6ZTogNzc2cHggMThweDsKCQliYWNrZ3JvdW5kLXNpemU6IDc3NnB4IDE4cHg7Cgl9CgkudWktaWNvbi1hbHQgewoJCWJhY2tncm91bmQtaW1hZ2U6IHVybChpbWFnZXMvaWNvbnMtMzYtYmxhY2sucG5nKTsKCX0KfQoKLyogcGx1cyBtaW51cyAqLwoudWktaWNvbi1wbHVzIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMCA1MCU7Cn0KLnVpLWljb24tbWludXMgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0zNnB4IDUwJTsKfQoKLyogZGVsZXRlL2Nsb3NlICovCi51aS1pY29uLWRlbGV0ZSB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTcycHggNTAlOwp9CgovKiBhcnJvd3MgKi8KLnVpLWljb24tYXJyb3ctciB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTEwOHB4IDUwJTsKfQoudWktaWNvbi1hcnJvdy1sIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMTQ0cHggNTAlOwp9Ci51aS1pY29uLWFycm93LXUgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0xODBweCA1MCU7Cn0KLnVpLWljb24tYXJyb3ctZCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTIxNnB4IDUwJTsKfQoKLyogbWlzYyAqLwoudWktaWNvbi1jaGVjayB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTI1MnB4IDUwJTsKfQoudWktaWNvbi1nZWFyIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMjg4cHggNTAlOwp9Ci51aS1pY29uLXJlZnJlc2ggewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0zMjRweCA1MCU7Cn0KLnVpLWljb24tZm9yd2FyZCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTM2MHB4IDUwJTsKfQoudWktaWNvbi1iYWNrIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMzk2cHggNTAlOwp9Ci51aS1pY29uLWdyaWQgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS00MzJweCA1MCU7Cn0KLnVpLWljb24tc3RhciB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTQ2OHB4IDUwJTsKfQoudWktaWNvbi1hbGVydCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTUwNHB4IDUwJTsKfQoudWktaWNvbi1pbmZvIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktNTQwcHggNTAlOwp9Ci51aS1pY29uLWhvbWUgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS01NzZweCA1MCU7Cn0KLnVpLWljb24tc2VhcmNoIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktNjEycHggNTAlOwp9Ci51aS1pY29uLWNoZWNrYm94LW9mZiB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY4NHB4IDUwJTsKfQoudWktaWNvbi1jaGVja2JveC1vbiB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY0OHB4IDUwJTsKfQoudWktaWNvbi1yYWRpby1vZmYgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03NTZweCA1MCU7Cn0KLnVpLWljb24tcmFkaW8tb24gewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03MjBweCA1MCU7Cn0KCgovKiBjaGVja3MscmFkaW9zICovCi51aS1jaGVja2JveCAudWktaWNvbiB7CgktbW96LWJvcmRlci1yYWRpdXM6IDNweDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4OwoJYm9yZGVyLXJhZGl1czogM3B4Owp9Ci51aS1pY29uLWNoZWNrYm94LW9mZiwKLnVpLWljb24tcmFkaW8tb2ZmIHsKCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwkKfQoudWktY2hlY2tib3gtb24gLnVpLWljb24sCi51aS1yYWRpby1vbiAudWktaWNvbiB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjNDU5NmNlOyAvKiBOT1RFOiB0aGlzIGhleCBzaG91bGQgbWF0Y2ggdGhlIGFjdGl2ZSBzdGF0ZSBjb2xvci4gSXQncyByZXBlYXRlZCBoZXJlIGZvciBjYXNjYWRlICovCn0KLnVpLWljb24tc2VhcmNoZmllbGQgewoJYmFja2dyb3VuZC1pbWFnZTogdXJsKGltYWdlcy9pY29uLXNlYXJjaC1ibGFjay5wbmcpOwoJYmFja2dyb3VuZC1zaXplOiAxNnB4IDE2cHg7Cn0KCi8qIGxvYWRpbmcgaWNvbiAqLwoudWktaWNvbi1sb2FkaW5nIHsKCWJhY2tncm91bmQtaW1hZ2U6IHVybChpbWFnZXMvYWpheC1sb2FkZXIucG5nKTsKCXdpZHRoOiA0MHB4OwoJaGVpZ2h0OiA0MHB4OwoJLW1vei1ib3JkZXItcmFkaXVzOiAyMHB4OwoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAyMHB4OwoJYm9yZGVyLXJhZGl1czogMjBweDsKCWJhY2tncm91bmQtc2l6ZTogMzVweCAzNXB4Owp9CgoKLyogQnV0dG9uIGNvcm5lciBjbGFzc2VzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1idG4tY29ybmVyLXRsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCTFlbTsKCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCTFlbTsKfQoudWktYnRuLWNvcm5lci10ciB7CgktbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJMWVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCTFlbTsKCWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItYmwgewoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJMWVtOwoJLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJMWVtOwoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJMWVtOwp9Ci51aS1idG4tY29ybmVyLWJyIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCTFlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDFlbTsKCWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAJCTFlbTsKfQoudWktYnRuLWNvcm5lci10b3AgewoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJMWVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJMWVtOwoJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCQkJMWVtOwoJLW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkxZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJMWVtOwp9Ci51aS1idG4tY29ybmVyLWJvdHRvbSB7CgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDogCQkxZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkxZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkxZW07CgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IAkxZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxZW07Cglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItcmlnaHQgewoJIC1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkxZW07Cgktd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJMWVtOwoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCTFlbTsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCTFlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDFlbTsKCWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAJCTFlbTsKfQoudWktYnRuLWNvcm5lci1sZWZ0IHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCTFlbTsKCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCTFlbTsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCTFlbTsKCWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkJCTFlbTsKfQoudWktYnRuLWNvcm5lci1hbGwgewoJLW1vei1ib3JkZXItcmFkaXVzOiAJCQkJMWVtOwoJLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAJCQkJMWVtOwoJYm9yZGVyLXJhZGl1czogCQkJCQkJMWVtOwp9CgovKiByYWRpdXMgY2xpcCB3b3JrYXJvdW5kIGZvciBjbGVhbmluZyB1cCBjb3JuZXIgdHJhcHBpbmcgKi8KLnVpLWNvcm5lci10bCwKLnVpLWNvcm5lci10ciwKLnVpLWNvcm5lci1ibCwgCi51aS1jb3JuZXItYnIsCi51aS1jb3JuZXItdG9wLAoudWktY29ybmVyLWJvdHRvbSwgCi51aS1jb3JuZXItcmlnaHQsCi51aS1jb3JuZXItbGVmdCwKLnVpLWNvcm5lci1hbGwsCi51aS1idG4tY29ybmVyLXRsLAoudWktYnRuLWNvcm5lci10ciwKLnVpLWJ0bi1jb3JuZXItYmwsIAoudWktYnRuLWNvcm5lci1iciwKLnVpLWJ0bi1jb3JuZXItdG9wLAoudWktYnRuLWNvcm5lci1ib3R0b20sIAoudWktYnRuLWNvcm5lci1yaWdodCwKLnVpLWJ0bi1jb3JuZXItbGVmdCwKLnVpLWJ0bi1jb3JuZXItYWxsIHsKICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogcGFkZGluZy1ib3g7CiAgICAgLW1vei1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmc7CiAgICAgICAgICBiYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94Owp9CgovKiBPdmVybGF5IC8gbW9kYWwKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLW92ZXJsYXkgewoJYmFja2dyb3VuZDogIzY2NjsKCW9wYWNpdHk6IC41OwoJZmlsdGVyOiBBbHBoYShPcGFjaXR5PTUwKTsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXdpZHRoOiAxMDAlOwoJaGVpZ2h0OiAxMDAlOwp9Ci51aS1vdmVybGF5LXNoYWRvdyB7CgktbW96LWJveC1zaGFkb3c6IDBweCAwcHggMTJweCAJCQlyZ2JhKDAsMCwwLC42KTsKCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkJcmdiYSgwLDAsMCwuNik7Cglib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkJCXJnYmEoMCwwLDAsLjYpOwp9Ci51aS1zaGFkb3cgewoJLW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDRweCAJCQlyZ2JhKDAsMCwwLC4zKTsKCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCA0cHggCQlyZ2JhKDAsMCwwLC4zKTsKCWJveC1zaGFkb3c6IDBweCAxcHggNHB4IAkJCQlyZ2JhKDAsMCwwLC4zKTsKfQoudWktYmFyLWEgLnVpLXNoYWRvdywKLnVpLWJhci1iIC51aS1zaGFkb3cgLAoudWktYmFyLWMgLnVpLXNoYWRvdyAgewoJLW1vei1ib3gtc2hhZG93OiAwcHggMXB4IDAgCQkJCXJnYmEoMjU1LDI1NSwyNTUsLjMpOwoJLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMXB4IDAgCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7Cglib3gtc2hhZG93OiAwcHggMXB4IDAgCQkJCQlyZ2JhKDI1NSwyNTUsMjU1LC4zKTsKfQoudWktc2hhZG93LWluc2V0IHsKCS1tb3otYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCA0cHggCQlyZ2JhKDAsMCwwLC4yKTsKCS13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCA0cHggCXJnYmEoMCwwLDAsLjIpOwoJYm94LXNoYWRvdzogaW5zZXQgMHB4IDFweCA0cHggCQkJcmdiYSgwLDAsMCwuMik7Cn0KLnVpLWljb24tc2hhZG93IHsKCS1tb3otYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCQlyZ2JhKDI1NSwyNTUsMjU1LC40KTsKCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCXJnYmEoMjU1LDI1NSwyNTUsLjQpOwoJYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCQkJcmdiYSgyNTUsMjU1LDI1NSwuNCk7Cn0KCgovKiBGb2N1cyBzdGF0ZSAtIHNldCBoZXJlIGZvciBzcGVjaWZpY2l0eQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktZm9jdXMgewoJLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkjMzg3YmJlOwoJLXdlYmtpdC1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCSMzODdiYmU7Cglib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkJIzM4N2JiZTsKfQoKLyogdW5zZXQgYm94IHNoYWRvdyBpbiBicm93c2VycyB0aGF0IGRvbid0IGRvIGl0IHJpZ2h0Ci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyAqIHsKCS1tb3otYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OwoJLXdlYmtpdC1ib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7Cglib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7Cn0KCi8qIC4uLmFuZCBicmluZyBiYWNrIGZvY3VzICovCi51aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyAudWktZm9jdXMgewoJb3V0bGluZS13aWR0aDogMnB4Owp9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgYW5kIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KCi8qIHNvbWUgdW5zZXRzIC0gbW9yZSBwcm9iYWJseSBuZWVkZWQgKi8KLnVpLW1vYmlsZSwgLnVpLW1vYmlsZSBib2R5IHsgaGVpZ2h0OiAxMDAlOyB9Ci51aS1tb2JpbGUgZmllbGRzZXQsIC51aS1wYWdlIHsgcGFkZGluZzogMDsgbWFyZ2luOiAwOyB9Ci51aS1tb2JpbGUgYSBpbWcsIC51aS1tb2JpbGUgZmllbGRzZXQgeyBib3JkZXI6IDA7IH0KCi8qIHJlc3BvbnNpdmUgcGFnZSB3aWR0aHMgKi8KLnVpLW1vYmlsZS12aWV3cG9ydCB7ICBtYXJnaW46IDA7IG92ZXJmbG93LXg6IGhpZGRlbjsgLXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0OiBub25lOyAtbXMtdGV4dC1zaXplLWFkanVzdDpub25lOyAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHJnYmEoMCwgMCwgMCwgMCk7IH0KCi8qICJwYWdlIiBjb250YWluZXJzIC0gZnVsbC1zY3JlZW4gdmlld3MsIG9uZSBzaG91bGQgYWx3YXlzIGJlIGluIHZpZXcgcG9zdC1wYWdlbG9hZCAqLwoudWktbW9iaWxlIFtkYXRhLXJvbGU9cGFnZV0sIC51aS1tb2JpbGUgW2RhdGEtcm9sZT1kaWFsb2ddLCAudWktcGFnZSB7IHRvcDogMDsgbGVmdDogMDsgd2lkdGg6IDEwMCU7IG1pbi1oZWlnaHQ6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgZGlzcGxheTogbm9uZTsgYm9yZGVyOiAwOyB9IAoudWktbW9iaWxlIC51aS1wYWdlLWFjdGl2ZSB7IGRpc3BsYXk6IGJsb2NrOyBvdmVyZmxvdzogdmlzaWJsZTsgfQoKLypvcmllbnRhdGlvbnMgZnJvbSBqcyBhcmUgYXZhaWxhYmxlICovCi5wb3J0cmFpdCwKLnBvcnRyYWl0IC51aS1wYWdlIHsgbWluLWhlaWdodDogNDIwcHg7IH0KLmxhbmRzY2FwZSwKLmxhbmRzY2FwZSAudWktcGFnZSAgeyBtaW4taGVpZ2h0OiAzMDBweDsgfQoKLyogbG9hZGluZyBzY3JlZW4gKi8KLnVpLWxvYWRpbmcgLnVpLW1vYmlsZS12aWV3cG9ydCB7IG92ZXJmbG93OiBoaWRkZW4gIWltcG9ydGFudDsgfQoudWktbG9hZGluZyAudWktbG9hZGVyIHsgZGlzcGxheTogYmxvY2s7IH0KLnVpLWxvYWRpbmcgLnVpLXBhZ2UgeyBvdmVyZmxvdzogaGlkZGVuOyAgfQoudWktbG9hZGVyIHsgZGlzcGxheTogbm9uZTsgcG9zaXRpb246IGFic29sdXRlOyBvcGFjaXR5OiAuODU7IHotaW5kZXg6IDEwMDsgbGVmdDogNTAlOyB3aWR0aDogMjAwcHg7IG1hcmdpbi1sZWZ0OiAtMTMwcHg7IG1hcmdpbi10b3A6IC0zNXB4OyBwYWRkaW5nOiAxMHB4IDMwcHg7IH0KLnVpLWxvYWRlciBoMSB7IGZvbnQtc2l6ZTogMTVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9Ci51aS1sb2FkZXIgLnVpLWljb24geyBwb3NpdGlvbjogc3RhdGljOyBkaXNwbGF5OiBibG9jazsgb3BhY2l0eTogLjk7IG1hcmdpbjogMCBhdXRvOyB3aWR0aDogMzVweDsgaGVpZ2h0OiAzNXB4OyBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDsgfQoKLypmb3VjKi8KLnVpLW1vYmlsZS1yZW5kZXJpbmcgPiAqIHsgdmlzaWJpbGl0eTogaGlkZGVuOyB9CgovKmhlYWRlcnMsIGNvbnRlbnQgcGFuZWxzKi8KLnVpLWJhciwgLnVpLWJvZHkgeyBwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6IC40ZW0gMTVweDsgIG92ZXJmbG93OiBoaWRkZW47IGRpc3BsYXk6IGJsb2NrOyAgY2xlYXI6Ym90aDsgIH0KLnVpLWJhciB7IGZvbnQtc2l6ZTogMTZweDsgbWFyZ2luOiAwOyB9Ci51aS1iYXIgaDEsIC51aS1iYXIgaDIsIC51aS1iYXIgaDMsIC51aS1iYXIgaDQsIC51aS1iYXIgaDUsIC51aS1iYXIgaDYgeyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9CgoudWktaGVhZGVyLCAudWktZm9vdGVyIHsgZGlzcGxheTogYmxvY2s7IH0KLnVpLXBhZ2UgLnVpLWhlYWRlciwgLnVpLXBhZ2UgLnVpLWZvb3RlciB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQoudWktaGVhZGVyIC51aS1idG4tbGVmdCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMTBweDsgdG9wOiAuNGVtOyAgfQoudWktaGVhZGVyIC51aS1idG4tcmlnaHQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiAxMHB4OyB0b3A6IC40ZW07IH0KLnVpLWhlYWRlciAudWktdGl0bGUsIC51aS1mb290ZXIgLnVpLXRpdGxlIHsgbWluLWhlaWdodDogMS4xZW07IHRleHQtYWxpZ246IGNlbnRlcjsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAuNmVtIDkwcHggLjhlbTsgIHBhZGRpbmc6IDA7ICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgb3ZlcmZsb3c6IGhpZGRlbjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgb3V0bGluZTogMCAhaW1wb3J0YW50OyB9CgovKmNvbnRlbnQgYXJlYSovCi51aS1jb250ZW50IHsgYm9yZGVyLXdpZHRoOiAwOyBvdmVyZmxvdzogdmlzaWJsZTsgb3ZlcmZsb3cteDogaGlkZGVuOyBwYWRkaW5nOiAxNXB4OyB9Ci51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWNvbnRlbnQgeyBwYWRkaW5nOjA7IH0KCi8qIGljb25zIHNpemluZyAqLwoudWktaWNvbiB7IHdpZHRoOiAxOHB4OyBoZWlnaHQ6IDE4cHg7IH0KCi8qIGZ1bGxzY3JlZW4gY2xhc3Mgb24gdWktY29udGVudCBkaXYgKi8KLnVpLWZ1bGxzY3JlZW4geyAgfQoudWktZnVsbHNjcmVlbiBpbWcgeyBtYXgtd2lkdGg6IDEwMCU7IH0KCi8qIG5vbi1qcyBjb250ZW50IGhpZGluZyAqLwoudWktbm9qcyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgfQovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi5zcGluICB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzcGluOwoJLXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246IDFzOwoJLXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAgaW5maW5pdGU7Cgktd2Via2l0LWFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGxpbmVhcjsKfQpALXdlYmtpdC1rZXlmcmFtZXMgc3BpbiB7Cglmcm9tIHstd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDBkZWcpO30KICAJdG8gey13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTt9Cn0KCi8qIFRyYW5zaXRpb25zIGZyb20galF0b3VjaCAod2l0aCBzbWFsbCBtb2RpZmljYXRpb25zKTogaHR0cDovL3d3dy5qcXRvdWNoLmNvbS8KQnVpbHQgYnkgRGF2aWQgS2FuZWRhIGFuZCBtYWludGFpbmVkIGJ5IEpvbmF0aGFuIFN0YXJrLgoqLwouaW4sIC5vdXQgewoJLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dDsKCS13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAzNTBtczsKfQoKLnNsaWRlLmluIHsKCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVpbmZyb21yaWdodDsKfQoKLnNsaWRlLm91dCB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZW91dHRvbGVmdDsKfQoKLnNsaWRlLmluLnJldmVyc2UgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZWluZnJvbWxlZnQ7Cn0KCi5zbGlkZS5vdXQucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlb3V0dG9yaWdodDsKfQoKLnNsaWRldXAuaW4gewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZWluZnJvbWJvdHRvbTsKCXotaW5kZXg6IDEwOwp9Cgouc2xpZGV1cC5vdXQgewoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7Cgl6LWluZGV4OiAwOwp9Cgouc2xpZGV1cC5vdXQucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsKCXotaW5kZXg6IDEwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVvdXR0b2JvdHRvbTsKfQoKLnNsaWRldXAuaW4ucmV2ZXJzZSB7Cgl6LWluZGV4OiAwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7Cn0KLnNsaWRlZG93bi5pbiB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlaW5mcm9tdG9wOwoJei1pbmRleDogMTA7Cn0KCi5zbGlkZWRvd24ub3V0IHsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOwoJei1pbmRleDogMDsKfQoKLnNsaWRlZG93bi5vdXQucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7Cgl6LWluZGV4OiAxMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlb3V0dG90b3A7Cn0KCi5zbGlkZWRvd24uaW4ucmV2ZXJzZSB7Cgl6LWluZGV4OiAwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbXJpZ2h0IHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgxMDAlKTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb21sZWZ0IHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9sZWZ0IHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9yaWdodCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH0KfQoKCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbXRvcCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbWJvdHRvbSB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9ib3R0b20gewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZW91dHRvdG9wIHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtMTAwJSk7IH0KfQpALXdlYmtpdC1rZXlmcmFtZXMgZmFkZWluIHsKICAgIGZyb20geyBvcGFjaXR5OiAwOyB9CiAgICB0byB7IG9wYWNpdHk6IDE7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXQgewogICAgZnJvbSB7IG9wYWNpdHk6IDE7IH0KICAgIHRvIHsgb3BhY2l0eTogMDsgfQp9CgouZmFkZS5pbiB7CglvcGFjaXR5OiAxOwoJei1pbmRleDogMTA7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlaW47Cn0KLmZhZGUub3V0IHsKCXotaW5kZXg6IDA7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmYWRlb3V0Owp9CgovKiBUaGUgcHJvcGVydGllcyBpbiB0aGlzIHJ1bGUgYXJlIG9ubHkgbmVjZXNzYXJ5IGZvciB0aGUgJ2ZsaXAnIHRyYW5zaXRpb24uCiAqIFdlIG5lZWQgc3BlY2lmeSB0aGUgcGVyc3BlY3RpdmUgdG8gY3JlYXRlIGEgcHJvamVjdGlvbiBtYXRyaXguIFRoaXMgd2lsbCBhZGQKICogc29tZSBkZXB0aCBhcyB0aGUgZWxlbWVudCBmbGlwcy4gVGhlIGRlcHRoIG51bWJlciByZXByZXNlbnRzIHRoZSBkaXN0YW5jZSBvZgogKiB0aGUgdmlld2VyIGZyb20gdGhlIHotcGxhbmUuIEFjY29yZGluZyB0byB0aGUgQ1NTMyBzcGVjLCAxMDAwIGlzIGEgbW9kZXJhdGUKICogdmFsdWUuCiAqLwoudmlld3BvcnQtZmxpcCB7Cgktd2Via2l0LXBlcnNwZWN0aXZlOiAxMDAwOwoJcG9zaXRpb246IGFic29sdXRlOwp9CgoudWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcsCi51aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyAudWktcGFnZSB7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJTsKCW92ZXJmbG93OiBoaWRkZW47Cn0KCi5mbGlwIHsKCS13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAuNjVzOwoJLXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbjsKCS13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7IC8qIE5lZWRlZCB0byB3b3JrIGFyb3VuZCBhbiBpT1MgMy4xIGJ1ZyB0aGF0IGNhdXNlcyBsaXN0dmlldyB0aHVtYnMgdG8gZGlzYXBwZWFyIHdoZW4gLXdlYmtpdC12aXNpYmlsaXR5OmhpZGRlbiBpcyB1c2VkLiAqLwp9CgouZmxpcC5pbiB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgwKSBzY2FsZSgxKTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBpbmZyb21sZWZ0Owp9CgouZmxpcC5vdXQgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoLTE4MGRlZykgc2NhbGUoLjgpOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcG91dHRvbGVmdDsKfQoKLyogU2hha2UgaXQgYWxsIGFib3V0ICovCgouZmxpcC5pbi5yZXZlcnNlIHsKCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmxpcGluZnJvbXJpZ2h0Owp9CgouZmxpcC5vdXQucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpIHNjYWxlKC44KTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBvdXR0b3JpZ2h0Owp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcGluZnJvbXJpZ2h0IHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgtMTgwZGVnKSBzY2FsZSguOCk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBpbmZyb21sZWZ0IHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgxODBkZWcpIHNjYWxlKC44KTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgwKSBzY2FsZSgxKTsgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcG91dHRvbGVmdCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoLTE4MGRlZykgc2NhbGUoLjgpOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwb3V0dG9yaWdodCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7IH0KfQoKCi8qIEhhY2tpc2gsIGJ1dCByZWxpYWJsZS4gKi8KCkAtd2Via2l0LWtleWZyYW1lcyBkb250bW92ZSB7CiAgICBmcm9tIHsgb3BhY2l0eTogMTsgfQogICAgdG8geyBvcGFjaXR5OiAxOyB9Cn0KCi5wb3AgewoJLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiA1MCUgNTAlOwp9CgoucG9wLmluIHsKCS13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgIG9wYWNpdHk6IDE7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBwb3BpbjsKCXotaW5kZXg6IDEwOwp9CgoucG9wLm91dC5yZXZlcnNlIHsKCS13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSguMik7CglvcGFjaXR5OiAwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcG9wb3V0OwoJei1pbmRleDogMTA7Cn0KCi5wb3AuaW4ucmV2ZXJzZSB7Cgl6LWluZGV4OiAwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZG9udG1vdmU7Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBwb3BpbiB7CiAgICBmcm9tIHsKICAgICAgICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLjIpOwogICAgICAgIG9wYWNpdHk6IDA7CiAgICB9CiAgICB0byB7CiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgICAgIG9wYWNpdHk6IDE7CiAgICB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBwb3BvdXQgewogICAgZnJvbSB7CiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpOwogICAgICAgIG9wYWNpdHk6IDE7CiAgICB9CiAgICB0byB7CiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKC4yKTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQp9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoKLyogY29udGVudCBjb25maWd1cmF0aW9ucy4gKi8KLnVpLWdyaWQtYSwgLnVpLWdyaWQtYiwgLnVpLWdyaWQtYywgLnVpLWdyaWQtZCB7IG92ZXJmbG93OiBoaWRkZW47IH0KLnVpLWJsb2NrLWEsIC51aS1ibG9jay1iLCAudWktYmxvY2stYywgLnVpLWJsb2NrLWQsIC51aS1ibG9jay1lIHsgbWFyZ2luOiAwOyBwYWRkaW5nOiAwOyBib3JkZXI6IDA7IGZsb2F0OiBsZWZ0OyBtaW4taGVpZ2h0OjFweDt9CgovKiBncmlkIHNvbG86IDEwMCAtIHNpbmdsZSBpdGVtIGZhbGxiYWNrICovCi51aS1ncmlkLXNvbG8gLnVpLWJsb2NrLWEgeyB3aWR0aDogMTAwJTsgZmxvYXQ6IG5vbmU7IH0KCi8qIGdyaWQgYTogNTAvNTAgKi8KLnVpLWdyaWQtYSAudWktYmxvY2stYSwgLnVpLWdyaWQtYSAudWktYmxvY2stYiB7IHdpZHRoOiA1MCU7IH0KLnVpLWdyaWQtYSAudWktYmxvY2stYSB7IGNsZWFyOiBsZWZ0OyB9CgovKiBncmlkIGI6IDMzLzMzLzMzICovCi51aS1ncmlkLWIgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWIgLnVpLWJsb2NrLWIsIC51aS1ncmlkLWIgLnVpLWJsb2NrLWMgeyB3aWR0aDogMzMuMzMzJTsgfQoudWktZ3JpZC1iIC51aS1ibG9jay1hIHsgY2xlYXI6IGxlZnQ7IH0KCi8qIGdyaWQgYzogMjUvMjUvMjUvMjUgKi8KLnVpLWdyaWQtYyAudWktYmxvY2stYSwgLnVpLWdyaWQtYyAudWktYmxvY2stYiwgLnVpLWdyaWQtYyAudWktYmxvY2stYywgLnVpLWdyaWQtYyAudWktYmxvY2stZCB7IHdpZHRoOiAyNSU7IH0KLnVpLWdyaWQtYyAudWktYmxvY2stYSB7IGNsZWFyOiBsZWZ0OyB9CgovKiBncmlkIGQ6IDIwLzIwLzIwLzIwLzIwICovCi51aS1ncmlkLWQgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWQgLnVpLWJsb2NrLWIsIC51aS1ncmlkLWQgLnVpLWJsb2NrLWMsIC51aS1ncmlkLWQgLnVpLWJsb2NrLWQsIC51aS1ncmlkLWQgLnVpLWJsb2NrLWUgeyB3aWR0aDogMjAlOyB9Ci51aS1ncmlkLWQgLnVpLWJsb2NrLWEgeyBjbGVhcjogbGVmdDsgfQovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi8qIGZpeGVkIHBhZ2UgaGVhZGVyICYgZm9vdGVyIGNvbmZpZ3VyYXRpb24gKi8KLnVpLWhlYWRlciwgLnVpLWZvb3RlciwgLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktaGVhZGVyLCAudWktcGFnZS1mdWxsc2NyZWVuIC51aS1mb290ZXIgIHsgcG9zaXRpb246IGFic29sdXRlOyAgb3ZlcmZsb3c6IGhpZGRlbjsgd2lkdGg6IDEwMCU7IGJvcmRlci1sZWZ0LXdpZHRoOiAwOyBib3JkZXItcmlnaHQtd2lkdGg6IDA7IH0KLnVpLWhlYWRlci1maXhlZCwgLnVpLWZvb3Rlci1maXhlZCB7Cgl6LWluZGV4OiAxMDAwOwoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7IC8qIEZvcmNlIGhlYWRlci9mb290ZXIgcmVuZGVyaW5nIHRvIGdvIHRocm91Z2ggdGhlIHNhbWUgcmVuZGVyaW5nIHBpcGVsaW5lIGFzIG5hdGl2ZSBwYWdlIHNjcm9sbGluZy4gKi8KfQoudWktZm9vdGVyLWR1cGxpY2F0ZSwgLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZml4ZWQtaW5saW5lIHsgZGlzcGxheTogbm9uZTsgfQoudWktcGFnZS1mdWxsc2NyZWVuIC51aS1oZWFkZXIsIC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZvb3RlciB7IG9wYWNpdHk6IC45OyB9Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLW5hdmJhciB7IG92ZXJmbG93OiBoaWRkZW47ICB9Ci51aS1uYXZiYXIgdWwsIC51aS1uYXZiYXItZXhwYW5kZWQgdWwgeyBsaXN0LXN0eWxlOm5vbmU7IHBhZGRpbmc6IDA7IG1hcmdpbjogMDsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBibG9jazsgYm9yZGVyOiAwO30KLnVpLW5hdmJhci1jb2xsYXBzZWQgdWwgeyBmbG9hdDogbGVmdDsgd2lkdGg6IDc1JTsgbWFyZ2luLXJpZ2h0OiAtMnB4OyB9Ci51aS1uYXZiYXItY29sbGFwc2VkIC51aS1uYXZiYXItdG9nZ2xlIHsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiAyNSU7IH0KLnVpLW5hdmJhciBsaS51aS1uYXZiYXItdHJ1bmNhdGUgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC05OTk5cHg7IHRvcDogLTk5OTlweDsgfQoudWktbmF2YmFyIGxpIC51aS1idG4sIC51aS1uYXZiYXIgLnVpLW5hdmJhci10b2dnbGUgLnVpLWJ0biB7IGRpc3BsYXk6IGJsb2NrOyBmb250LXNpemU6IDEycHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luOiAwOyBib3JkZXItcmlnaHQtd2lkdGg6IDA7IH0KLnVpLW5hdmJhciBsaSAudWktYnRuIHsgIG1hcmdpbi1yaWdodDogLTFweDsgfQoudWktbmF2YmFyIGxpIC51aS1idG46bGFzdC1jaGlsZCB7IG1hcmdpbi1yaWdodDogMDsgfQoudWktaGVhZGVyIC51aS1uYXZiYXIgbGkgLnVpLWJ0biwgLnVpLWhlYWRlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4sCi51aS1mb290ZXIgLnVpLW5hdmJhciBsaSAudWktYnRuLCAudWktZm9vdGVyIC51aS1uYXZiYXIgLnVpLW5hdmJhci10b2dnbGUgLnVpLWJ0biB7IGJvcmRlci10b3Atd2lkdGg6IDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDA7IH0KLnVpLW5hdmJhciAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiAycHg7IHBhZGRpbmctcmlnaHQ6IDJweDsgfQoudWktbmF2YmFyLW5vaWNvbnMgbGkgLnVpLWJ0biAudWktYnRuLWlubmVyLCAudWktbmF2YmFyLW5vaWNvbnMgLnVpLW5hdmJhci10b2dnbGUgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAuOGVtOyBwYWRkaW5nLWJvdHRvbTogLjllbTsgfQovKmV4cGFuZGVkIHBhZ2Ugc3R5bGVzKi8KLnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuIHsgbWFyZ2luOiAwOyBmb250LXNpemU6IDE0cHg7IH0KLnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiA1cHg7IHBhZGRpbmctcmlnaHQ6IDVweDsgIH0KLnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXIgeyBwYWRkaW5nOiA0NXB4IDVweCAxNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KLnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tdG9wIC51aS1pY29uIHsgdG9wOiAxNXB4OyB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyIHsgcGFkZGluZzogMTVweCA1cHggNDVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiB7IGJvdHRvbTogMTVweDsgfQoudWktbmF2YmFyLWV4cGFuZGVkIGxpIC51aS1idG4gLnVpLWJ0bi1pbm5lciB7IG1pbi1oZWlnaHQ6IDIuNWVtOyB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLW5hdmJhci1ub2ljb25zIC51aS1idG4gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAxLjhlbTsgcGFkZGluZy1ib3R0b206IDEuOWVtOyB9Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWJ0biB7IGRpc3BsYXk6IGJsb2NrOyB0ZXh0LWFsaWduOiBjZW50ZXI7IGN1cnNvcjpwb2ludGVyOyAgcG9zaXRpb246IHJlbGF0aXZlOyBtYXJnaW46IC41ZW0gNXB4OyBwYWRkaW5nOiAwOyB9Ci51aS1idG46Zm9jdXMsIC51aS1idG46YWN0aXZlIHsgb3V0bGluZTogbm9uZTsgfQoudWktaGVhZGVyIC51aS1idG4sIC51aS1mb290ZXIgLnVpLWJ0biwgLnVpLWJhciAudWktYnRuIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBmb250LXNpemU6IDEzcHg7IG1hcmdpbjogMDsgfQoudWktYnRuLWlubGluZSB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfQoudWktYnRuLWlubmVyIHsgcGFkZGluZzogLjZlbSAyNXB4OyBkaXNwbGF5OiBibG9jazsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IHBvc2l0aW9uOiByZWxhdGl2ZTsgem9vbTogMTsgfQoudWktaGVhZGVyIC51aS1idG4taW5uZXIsIC51aS1mb290ZXIgLnVpLWJ0bi1pbm5lciwgLnVpLWJhciAudWktYnRuLWlubmVyIHsgcGFkZGluZzogLjRlbSA4cHggLjVlbTsgfQoudWktYnRuLWljb24tbm90ZXh0IHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBwYWRkaW5nOiAycHggMXB4IDJweCAzcHg7IHRleHQtaW5kZW50OiAtOTk5OXB4OyB9Ci51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IDA7IH0KLnVpLWJ0bi1pY29uLW5vdGV4dCAudWktYnRuLXRleHQgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC05OTlweDsgfQoudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiAzM3B4OyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciwKLnVpLWZvb3RlciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLAoudWktYmFyIC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWxlZnQ6IDI3cHg7IH0KLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXJpZ2h0OiAzM3B4OyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIsCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIsCi51aS1iYXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXJpZ2h0OiAyN3B4OyB9Ci51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctdG9wOiAzM3B4OyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXRvcCAudWktYnRuLWlubmVyLAoudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwKLnVpLWJhciAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXRvcDogMjdweDsgfQoudWktYnRuLWljb24tYm90dG9tIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWJvdHRvbTogMzNweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lciwKLnVpLWZvb3RlciAudWktYnRuLWljb24tYm90dG9tIC51aS1idG4taW5uZXIsCi51aS1iYXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyIHsgcGFkZGluZy1ib3R0b206IDI3cHg7IH0KCi8qYnRuIGljb24gcG9zaXRpb25pbmcqLwoudWktYnRuLWljb24tbm90ZXh0IC51aS1pY29uIHsgZGlzcGxheTogYmxvY2s7IH0KLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24sIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiA1MCU7IG1hcmdpbi10b3A6IC05cHg7IH0KLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiwgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogNTAlOyAgbWFyZ2luLWxlZnQ6IC05cHg7IH0KLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24geyBsZWZ0OiAxMHB4OyB9Ci51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7cmlnaHQ6IDEwcHg7IH0KLnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwKLnVpLWZvb3RlciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwKLnVpLWJhciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiB7IGxlZnQ6IDRweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiwKLnVpLWZvb3RlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sCi51aS1iYXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uIHsgcmlnaHQ6IDRweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiwKLnVpLWJhciAudWktYnRuLWljb24tdG9wIC51aS1pY29uIHsgdG9wOiA0cHg7IH0KLnVpLWhlYWRlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLAoudWktZm9vdGVyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb24sCi51aS1iYXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiB7IGJvdHRvbTogNHB4OyB9Ci51aS1idG4taWNvbi10b3AgLnVpLWljb24geyB0b3A6IDVweDsgfQoudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uIHsgYm90dG9tOiA1cHg7IH0KLypoaWRpbmcgbmF0aXZlIGJ1dHRvbixpbnB1dHMgKi8KLnVpLWJ0bi1oaWRkZW4geyAgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IC13ZWJraXQtYXBwZWFyYW5jZTogYnV0dG9uOyBvcGFjaXR5OiAwOyBjdXJzb3I6IHBvaW50ZXI7IC1tcy1maWx0ZXI6ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT0wKSI7IGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IH0KLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktY29sbGFwc2libGUtY29udGFpbiB7IG1hcmdpbjogLjVlbSAwOyB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIHsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAwIC04cHg7IHBhZGRpbmc6IDA7IGJvcmRlci13aWR0aDogMCAwIDFweCAwOyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSB7IHRleHQtYWxpZ246IGxlZnQ7IG1hcmdpbjogMDsgIH0KLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiA0MHB4OyB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG4geyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDZweDsgdG9wOiA1MCU7IG1hcmdpbjogLTEycHggMCAwIDA7IHdpZHRoOiAyMHB4OyBoZWlnaHQ6IDIwcHg7IHBhZGRpbmc6IDFweCAwcHggMXB4IDJweDsgdGV4dC1pbmRlbnQ6IC05OTk5cHg7IH0KLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSBzcGFuLnVpLWJ0biAudWktYnRuLWlubmVyIHsgcGFkZGluZzogMTBweCAwOyB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG4gLnVpLWljb24geyBsZWZ0OiAwOyBtYXJnaW4tdG9wOiAtMTBweDsgfQoudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMgeyBwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDotOTk5OXB4OyB9Ci51aS1jb2xsYXBzaWJsZS1jb250ZW50IHsgIGRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiAxMHB4IDAgMTBweCA4cHg7IH0KLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIHsgZGlzcGxheTogbm9uZTsgfQoKLnVpLWNvbGxhcHNpYmxlLXNldCB7IG1hcmdpbjogLjVlbSAwOyB9Ci51aS1jb2xsYXBzaWJsZS1zZXQgLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4geyBtYXJnaW46IC0xcHggMCAwOyB9Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWNvbnRyb2xncm91cCwgZmllbGRzZXQudWktY29udHJvbGdyb3VwIHsgcGFkZGluZzogMDsgbWFyZ2luOiAuNWVtIDAgMWVtOyB9Ci51aS1iYXIgLnVpLWNvbnRyb2xncm91cCB7IG1hcmdpbjogMCAuM2VtOyB9Ci51aS1jb250cm9sZ3JvdXAtbGFiZWwgeyBmb250LXNpemU6IDE2cHg7IGxpbmUtaGVpZ2h0OiAxLjQ7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IG1hcmdpbjogMCAwIC4zZW07IH0KLnVpLWNvbnRyb2xncm91cC1jb250cm9scyB7IGRpc3BsYXk6IGJsb2NrOyB3aWR0aDogOTUlO30KLnVpLWNvbnRyb2xncm91cCBsaSB7IGxpc3Qtc3R5bGU6IG5vbmU7IH0KLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktYnRuLAoudWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1jaGVja2JveCwgLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktcmFkaW8geyBtYXJnaW46IDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDA7ICB9Ci51aS1jb250cm9sZ3JvdXAtdmVydGljYWwgLnVpLWNvbnRyb2xncm91cC1sYXN0IHsgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4OyB9Ci51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCB7IHBhZGRpbmc6IDA7IH0KLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1idG4sCi51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3gsIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktcmFkaW8geyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG1hcmdpbjogMCAtNXB4IDAgMDsgfQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94LCAudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlvIHsgZGlzcGxheTogaW5saW5lOyB9Ci51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3ggLnVpLWJ0biwgLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpbyAudWktYnRuLAoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94Omxhc3QtY2hpbGQsIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktcmFkaW86bGFzdC1jaGlsZCB7IG1hcmdpbi1yaWdodDogMDsgfQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNvbnRyb2xncm91cC1sYXN0IHsgbWFyZ2luLXJpZ2h0OiAwOyB9Ci51aS1jb250cm9sZ3JvdXAgLnVpLWNoZWNrYm94IGxhYmVsLCAudWktY29udHJvbGdyb3VwIC51aS1yYWRpbyBsYWJlbCB7IGZvbnQtc2l6ZTogMTZweDsgIH0KLyogY29uZmxpY3RzIHdpdGggbGlzdHZpZXcuLgoudWktY29udHJvbGdyb3VwIC51aS1idG4taWNvbi1ub3RleHQgeyB3aWR0aDogMzBweDsgaGVpZ2h0OiAzMHB4OyB0ZXh0LWluZGVudDogLTk5OTlweDsgfQoudWktY29udHJvbGdyb3VwIC51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi1pbm5lciB7ICBwYWRkaW5nOiA1cHggNnB4IDVweCA1cHg7IH0KKi8KCkBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6IDQ1MHB4KXsKCS51aS1jb250cm9sZ3JvdXAtbGFiZWwgeyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMDsgIH0KCS51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgeyB3aWR0aDogNjAlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0gCn0JLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktZGlhbG9nIHsgbWluLWhlaWdodDogNDgwcHg7IH0KLnVpLWRpYWxvZyAudWktaGVhZGVyLCAudWktZGlhbG9nIC51aS1jb250ZW50LCAgLnVpLWRpYWxvZyAudWktZm9vdGVyIHsgbWFyZ2luOiAxNXB4OyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KLnVpLWRpYWxvZyAudWktaGVhZGVyLCAudWktZGlhbG9nIC51aS1mb290ZXIgeyB6LWluZGV4OiAxMDsgd2lkdGg6IGF1dG87IH0KLnVpLWRpYWxvZyAudWktY29udGVudCwgLnVpLWRpYWxvZyAudWktZm9vdGVyIHsgbWFyZ2luLXRvcDogLTE1cHg7ICB9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktY2hlY2tib3gsIC51aS1yYWRpbyB7IHBvc2l0aW9uOnJlbGF0aXZlOyAgbWFyZ2luOiAuMmVtIDAgLjVlbTsgei1pbmRleDogMTsgIH0KLnVpLWNoZWNrYm94IC51aS1idG4sIC51aS1yYWRpbyAudWktYnRuIHsgbWFyZ2luOiAwOyB0ZXh0LWFsaWduOiBsZWZ0OyB6LWluZGV4OiAyOyB9Ci51aS1jaGVja2JveCAudWktYnRuLWlubmVyLCAudWktcmFkaW8gLnVpLWJ0bi1pbm5lciB7IHdoaXRlLXNwYWNlOiBub3JtYWw7IH0KLnVpLWNoZWNrYm94IC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXIsLnVpLXJhZGlvIC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLWxlZnQ6IDQ1cHg7IH0KLnVpLWNoZWNrYm94IC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyLCAudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXJpZ2h0OiA0NXB4OyB9Ci51aS1jaGVja2JveCAudWktaWNvbiwgLnVpLXJhZGlvIC51aS1pY29uIHsgdG9wOiAxLjFlbTsgfQoudWktY2hlY2tib3ggLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24sIC51aS1yYWRpbyAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiB7bGVmdDogMTVweDsgfQoudWktY2hlY2tib3ggLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uLCAudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uIHtyaWdodDogMTVweDsgfQovKiBpbnB1dCwgbGFiZWwgcG9zaXRpb25pbmcgKi8KLnVpLWNoZWNrYm94IGlucHV0LC51aS1yYWRpbyBpbnB1dCB7IHBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OjIwcHg7IHRvcDo1MCU7IHdpZHRoOiAxMHB4OyBoZWlnaHQ6IDEwcHg7ICBtYXJnaW46LTVweCAwIDAgMDsgb3V0bGluZTogMCAhaW1wb3J0YW50OyB6LWluZGV4OiAxOyB9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktZmllbGQtY29udGFpbiB7IHBhZGRpbmc6IDEuNWVtIDA7IG1hcmdpbjogMDsgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4OyBvdmVyZmxvdzogdmlzaWJsZTsgfQoudWktZmllbGQtY29udGFpbjpmaXJzdC1jaGlsZCB7IGJvcmRlci10b3Atd2lkdGg6IDA7IH0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDUwcHgpewoJLnVpLWZpZWxkLWNvbnRhaW4geyBib3JkZXItd2lkdGg6IDA7IHBhZGRpbmc6IDA7IG1hcmdpbjogMWVtIDA7IH0KfQkvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi51aS1zZWxlY3QgeyBkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IHJlbGF0aXZlOyB9Ci51aS1zZWxlY3Qgc2VsZWN0IHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtOTk5OXB4OyB0b3A6IC05OTk5cHg7IH0KLnVpLXNlbGVjdCAudWktYnRuIHsgb3ZlcmZsb3c6IGhpZGRlbjsgfQoudWktc2VsZWN0IC51aS1idG4gc2VsZWN0IHsgY3Vyc29yOiBwb2ludGVyOyAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgbGVmdDogMDsgdG9wOjA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IG9wYWNpdHk6IDA7IC1tcy1maWx0ZXI6ICJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuQWxwaGEoT3BhY2l0eT0wKSI7IGZpbHRlcjogYWxwaGEob3BhY2l0eT0wKTsgfQpALW1vei1kb2N1bWVudCB1cmwtcHJlZml4KCkgey51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3QgeyBvcGFjaXR5OiAwLjAwMDE7IH19Ci51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3QudWktc2VsZWN0LW5hdGl2ZW9ubHkgeyBvcGFjaXR5OiAxOyB0ZXh0LWluZGVudDogMDsgfQoKLnVpLXNlbGVjdCAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctcmlnaHQ6IDQ1cHg7IH0gCi51aS1zZWxlY3QgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uIHsgcmlnaHQ6IDE1cHg7ICB9CgovKiBsYWJlbHMgKi8KbGFiZWwudWktc2VsZWN0IHsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS40OyAgZm9udC13ZWlnaHQ6IG5vcm1hbDsgbWFyZ2luOiAwIDAgLjNlbTsgZGlzcGxheTogYmxvY2s7IH0KCi8qbGlzdGJveCovCi51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0LCAudWktc2VsZWN0bWVudSAudWktYnRuLXRleHQgeyBkaXNwbGF5OiBibG9jazsgbWluLWhlaWdodDogMWVtOyB9Ci51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0IHsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47fQoKLnVpLXNlbGVjdG1lbnUgeyBwb3NpdGlvbjogYWJzb2x1dGU7IHBhZGRpbmc6IDA7IHotaW5kZXg6IDEwMCAhaW1wb3J0YW50OyB3aWR0aDogODAlOyBtYXgtd2lkdGg6IDM1MHB4OyBwYWRkaW5nOiA2cHg7IH0KLnVpLXNlbGVjdG1lbnUgLnVpLWxpc3R2aWV3IHsgbWFyZ2luOiAwOyB9Ci51aS1zZWxlY3RtZW51IC51aS1idG4udWktbGktZGl2aWRlciB7IGN1cnNvcjogZGVmYXVsdDsgfQoudWktc2VsZWN0bWVudS1oaWRkZW4geyB0b3A6IC05OTk5cHg7IGxlZnQ6IC05OTk5cHg7IH0KLnVpLXNlbGVjdG1lbnUtc2NyZWVuIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICB6LWluZGV4OiA5OTsgfQoudWktc2NyZWVuLWhpZGRlbiwgLnVpLXNlbGVjdG1lbnUtbGlzdCAudWktbGkgLnVpLWljb24geyBkaXNwbGF5OiBub25lOyB9Ci51aS1zZWxlY3RtZW51LWxpc3QgLnVpLWxpIC51aS1pY29uIHsgZGlzcGxheTogYmxvY2s7IH0KLnVpLWxpLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIgeyBkaXNwbGF5OiBub25lOyB9Ci51aS1zZWxlY3RtZW51IC51aS1oZWFkZXIgLnVpLXRpdGxlIHsgbWFyZ2luOiAwLjZlbSA0NnB4IDAuOGVtOyB9CgpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0NTBweCl7CglsYWJlbC51aS1zZWxlY3QgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMDsgfQoJLnVpLXNlbGVjdCB7IHdpZHRoOiA2MCU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfQp9CQoKLyogd2hlbiBubyBwbGFjZWhvbGRlciBpcyBkZWZpbmVkIGluIGEgbXVsdGlwbGUgc2VsZWN0LCB0aGUgaGVhZGVyIGhlaWdodCBkb2Vzbid0IGV2ZW4gZXh0ZW5kIHBhc3QgdGhlIGNsb3NlIGJ1dHRvbi4gIHRoaXMgc2hpbSdzIGNvbnRlbnQgaW4gdGhlcmUgKi8KLnVpLXNlbGVjdG1lbnUgLnVpLWhlYWRlciBoMTphZnRlciB7IGNvbnRlbnQ6ICcuJzsgdmlzaWJpbGl0eTogaGlkZGVuOyB9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwpsYWJlbC51aS1pbnB1dC10ZXh0IHsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS40OyBkaXNwbGF5OiBibG9jazsgZm9udC13ZWlnaHQ6IG5vcm1hbDsgbWFyZ2luOiAwIDAgLjNlbTsgfQppbnB1dC51aS1pbnB1dC10ZXh0LCB0ZXh0YXJlYS51aS1pbnB1dC10ZXh0IHsgYmFja2dyb3VuZC1pbWFnZTogbm9uZTsgcGFkZGluZzogLjRlbTsgbGluZS1oZWlnaHQ6IDEuNDsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDk1JTsgfQppbnB1dC51aS1pbnB1dC10ZXh0IHsgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lOyB9CnRleHRhcmVhLnVpLWlucHV0LXRleHQgeyBoZWlnaHQ6IDUwcHg7IC13ZWJraXQtdHJhbnNpdGlvbjogaGVpZ2h0IDIwMG1zIGxpbmVhcjsgLW1vei10cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyAtby10cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyB0cmFuc2l0aW9uOiBoZWlnaHQgMjAwbXMgbGluZWFyOyB9Ci51aS1pbnB1dC1zZWFyY2ggeyBwYWRkaW5nOiAwIDMwcHg7IHdpZHRoOiA3NyU7IGJhY2tncm91bmQtcG9zaXRpb246IDhweCA1MCU7IGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQoudWktaW5wdXQtc2VhcmNoIGlucHV0LnVpLWlucHV0LXRleHQgeyBib3JkZXI6IG5vbmU7IHdpZHRoOiA5OCU7IHBhZGRpbmc6IC40ZW0gMDsgbWFyZ2luOiAwOyBkaXNwbGF5OiBibG9jazsgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQgbm9uZTsgb3V0bGluZTogMCAhaW1wb3J0YW50OyB9Ci51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFyIHsgcG9zaXRpb246IGFic29sdXRlOyByaWdodDogMDsgdG9wOiA1MCU7IG1hcmdpbi10b3A6IC0xNHB4OyB9Ci51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFyLWhpZGRlbiB7IGRpc3BsYXk6IG5vbmU7IH0KCi8qIG9yaWVudGF0aW9uIGFkanVzdG1lbnRzIC0gaW5jb21wbGV0ZSEqLwpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0NTBweCl7CglsYWJlbC51aS1pbnB1dC10ZXh0ICB7IHZlcnRpY2FsLWFsaWduOiB0b3A7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgIHdpZHRoOiAyMCU7ICBtYXJnaW46IDAgMiUgMCAwIH0KCWlucHV0LnVpLWlucHV0LXRleHQsIAoJdGV4dGFyZWEudWktaW5wdXQtdGV4dCwgCgkudWktaW5wdXQtc2VhcmNoIHsgd2lkdGg6IDYwJTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9IAoJLnVpLWlucHV0LXNlYXJjaCB7IHdpZHRoOiA1MCU7IH0KCS51aS1pbnB1dC1zZWFyY2ggaW5wdXQudWktaW5wdXQtdGV4dCB7IHdpZHRoOiA5OCU7IC8qZWNob3MgcnVsZSBmcm9tIGFib3ZlKi8gfQp9LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktbGlzdHZpZXcgeyBtYXJnaW46IDA7IGNvdW50ZXItcmVzZXQ6IGxpc3RudW1iZXJpbmc7IH0KLnVpLWNvbnRlbnQgLnVpLWxpc3R2aWV3IHsgbWFyZ2luOiAtMTVweDsgfQoudWktY29udGVudCAudWktbGlzdHZpZXctaW5zZXQgeyBtYXJnaW46IDFlbSAwOyAgfQoudWktbGlzdHZpZXcsIC51aS1saSB7IGxpc3Qtc3R5bGU6bm9uZTsgcGFkZGluZzowOyB9Ci51aS1saSwgLnVpLWxpLnVpLWZpZWxkLWNvbnRhaW4geyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOjA7IHBvc2l0aW9uOiByZWxhdGl2ZTsgb3ZlcmZsb3c6IHZpc2libGU7IHRleHQtYWxpZ246IGxlZnQ7IGJvcmRlci13aWR0aDogMDsgYm9yZGVyLXRvcC13aWR0aDogMXB4OyB9Ci51aS1saSAudWktYnRuLXRleHQgYS51aS1saW5rLWluaGVyaXQgeyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpczsgb3ZlcmZsb3c6IGhpZGRlbjsgd2hpdGUtc3BhY2U6IG5vd3JhcDsgIH0KLnVpLWxpLWRpdmlkZXIsIC51aS1saS1zdGF0aWMgeyBwYWRkaW5nOiAuNWVtIDE1cHg7IGZvbnQtc2l6ZTogMTRweDsgZm9udC13ZWlnaHQ6IGJvbGQ7ICB9Ci51aS1saS1kaXZpZGVyIHsgY291bnRlci1yZXNldDogbGlzdG51bWJlcmluZzsgIH0Kb2wudWktbGlzdHZpZXcgLnVpLWxpbmstaW5oZXJpdDpiZWZvcmUsIG9sLnVpLWxpc3R2aWV3IC51aS1saS1zdGF0aWM6YmVmb3JlLCAudWktbGktZGVjIHsgZm9udC1zaXplOiAuOGVtOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHBhZGRpbmctcmlnaHQ6IC4zZW07IGZvbnQtd2VpZ2h0OiBub3JtYWw7Y291bnRlci1pbmNyZW1lbnQ6IGxpc3RudW1iZXJpbmc7IGNvbnRlbnQ6IGNvdW50ZXIobGlzdG51bWJlcmluZykgIi4gIjsgfQpvbC51aS1saXN0dmlldyAudWktbGktanNudW1iZXJpbmc6YmVmb3JlIHsgY29udGVudDogIiIgIWltcG9ydGFudDsgfSAvKiB0byBhdm9pZCBjaGFuY2Ugb2YgZHVwbGljYXRpb24gKi8KLnVpLWxpc3R2aWV3LWluc2V0IC51aS1saSB7IGJvcmRlci1yaWdodC13aWR0aDogMXB4OyBib3JkZXItbGVmdC13aWR0aDogMXB4OyB9Ci51aS1saTpsYXN0LWNoaWxkLCAudWktbGkudWktZmllbGQtY29udGFpbjpsYXN0LWNoaWxkIHsgYm9yZGVyLWJvdHRvbS13aWR0aDogMXB4OyB9Ci51aS1saT4udWktYnRuLWlubmVyIHsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogMDsgfQoudWktbGkgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saSB7IHBhZGRpbmc6IC43ZW0gNzVweCAuN2VtIDE1cHg7IGRpc3BsYXk6IGJsb2NrOyB9Ci51aS1saS1oYXMtdGh1bWIgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtdGh1bWIgIHsgbWluLWhlaWdodDogNjBweDsgcGFkZGluZy1sZWZ0OiAxMDBweDsgfQoudWktbGktaGFzLWljb24gLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtaWNvbiB7ICBtaW4taGVpZ2h0OiAyMHB4OyBwYWRkaW5nLWxlZnQ6IDQwcHg7IH0KLnVpLWxpLWhlYWRpbmcgeyBmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAuNmVtIDA7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuOyB3aGl0ZS1zcGFjZTogbm93cmFwOyAgfQoudWktbGktZGVzYyB7ICBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IC0uNWVtIDAgLjZlbTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0KLnVpLWxpLXRodW1iLCAudWktbGktaWNvbiB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMXB4OyB0b3A6IDA7IG1heC1oZWlnaHQ6IDgwcHg7IG1heC13aWR0aDogODBweDsgfQoudWktbGktaWNvbiB7IG1heC1oZWlnaHQ6IDQwcHg7IG1heC13aWR0aDogNDBweDsgbGVmdDogMTBweDsgdG9wOiAuOWVtOyB9Ci51aS1saS10aHVtYiwgLnVpLWxpLWljb24sIC51aS1saS1jb250ZW50IHsgZmxvYXQ6IGxlZnQ7IG1hcmdpbi1yaWdodDogMTBweDsgfQoKLnVpLWxpLWFzaWRlIHsgZmxvYXQ6IHJpZ2h0OyB3aWR0aDogNTAlOyB0ZXh0LWFsaWduOiByaWdodDsgbWFyZ2luOiAuM2VtIDA7IH0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDgwcHgpewoJIC51aS1saS1hc2lkZSB7IHdpZHRoOiA0NSU7IH0KfQkgCi51aS1saS1kaXZpZGVyIHsgY3Vyc29yOiBkZWZhdWx0OyB9Ci51aS1saS1oYXMtYWx0IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLWFsdCB7IHBhZGRpbmctcmlnaHQ6IDk1cHg7IH0KLnVpLWxpLWNvdW50IHsgcG9zaXRpb246IGFic29sdXRlOyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBwYWRkaW5nOiAuMmVtIC41ZW07IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtLjllbTsgcmlnaHQ6IDM4cHg7IH0KLnVpLWxpLWRpdmlkZXIgLnVpLWxpLWNvdW50LCAudWktbGktc3RhdGljIC51aS1saS1jb3VudCB7IHJpZ2h0OiAxMHB4OyB9Ci51aS1saS1oYXMtYWx0IC51aS1saS1jb3VudCB7IHJpZ2h0OiA1NXB4OyB9Ci51aS1saS1saW5rLWFsdCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDQwcHg7IGhlaWdodDogMTAwJTsgYm9yZGVyLXdpZHRoOiAwOyBib3JkZXItbGVmdC13aWR0aDogMXB4OyB0b3A6IDA7IHJpZ2h0OiAwOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0KLnVpLWxpLWxpbmstYWx0IC51aS1idG4geyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiA4cHg7IHRvcDogNTAlOyBtYXJnaW46IC0xMXB4IDAgMCAwOyBib3JkZXItYm90dG9tLXdpZHRoOiAxcHg7IH0KLnVpLWxpLWxpbmstYWx0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nOiAwOyBwb3NpdGlvbjogc3RhdGljOyB9Ci51aS1saS1saW5rLWFsdCAudWktYnRuIC51aS1pY29uIHsgcmlnaHQ6IDUwJTsgbWFyZ2luLXJpZ2h0OiAtOXB4OyAgfQoKLnVpLWxpc3R2aWV3LWZpbHRlciB7IGJvcmRlci13aWR0aDogMDsgb3ZlcmZsb3c6IGhpZGRlbjsgbWFyZ2luOiAtMTVweCAtMTVweCAxNXB4IC0xNXB4IH0KLnVpLWxpc3R2aWV3LWZpbHRlciAudWktaW5wdXQtc2VhcmNoIHsgbWFyZ2luOiA1cHg7IHdpZHRoOiBhdXRvOyBkaXNwbGF5OiBibG9jazsgfQoKLnVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCB7IG1hcmdpbjogLTE1cHggLTVweCAtMTVweCAtNXB4OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQoudWktbGkudWktc2NyZWVuLWhpZGRlbntkaXNwbGF5Om5vbmU7fQovKiBPZGQgaVBhZCBwb3NpdGlvbmluZyBpc3N1ZS4gKi8KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS13aWR0aDogNzY4cHgpIGFuZCAobWF4LWRldmljZS13aWR0aDogMTAyNHB4KSB7CiAgICAudWktbGkgLnVpLWJ0bi10ZXh0IHsgb3ZlcmZsb3c6ICB2aXNpYmxlOyB9Cn0vKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCmxhYmVsLnVpLXNsaWRlciB7IGRpc3BsYXk6IGJsb2NrOyB9CmlucHV0LnVpLXNsaWRlci1pbnB1dCAgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA1MHB4OyB9CnNlbGVjdC51aS1zbGlkZXItc3dpdGNoIHsgZGlzcGxheTogbm9uZTsgfQpkaXYudWktc2xpZGVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG92ZXJmbG93OiB2aXNpYmxlOyBoZWlnaHQ6IDE1cHg7IHBhZGRpbmc6IDA7IG1hcmdpbjogMCAyJSAwIDIwcHg7IHRvcDogNHB4OyB3aWR0aDogNjYlOyB9CmEudWktc2xpZGVyLWhhbmRsZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogMTA7ICB0b3A6IDUwJTsgd2lkdGg6IDI4cHg7IGhlaWdodDogMjhweDsgbWFyZ2luLXRvcDogLTE1cHg7IG1hcmdpbi1sZWZ0OiAtMTVweDsgfQphLnVpLXNsaWRlci1oYW5kbGUgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogMDsgcGFkZGluZy1yaWdodDogMDsgfQpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0ODBweCl7CglsYWJlbC51aS1zbGlkZXIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMDsgfQoJZGl2LnVpLXNsaWRlciB7IHdpZHRoOiA0NSU7IH0KfQkKCmRpdi51aS1zbGlkZXItc3dpdGNoIHsgaGVpZ2h0OiAzMnB4OyAgb3ZlcmZsb3c6IGhpZGRlbjsgbWFyZ2luLWxlZnQ6IDA7IH0KZGl2LnVpLXNsaWRlci1pbm5lcm9mZnNldCB7IG1hcmdpbi1sZWZ0OiA1MCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxcHg7IGhlaWdodDogMTAwJTsgd2lkdGg6IDUwJTsgfQpkaXYudWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyB7IC13ZWJraXQtdHJhbnNpdGlvbjogbGVmdCAxMDBtcyBsaW5lYXI7IH0KZGl2LnVpLXNsaWRlci1sYWJlbGJnIHsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6MDsgbWFyZ2luOiAwOyBib3JkZXItd2lkdGg6IDA7IH0KZGl2LnVpLXNsaWRlci1zd2l0Y2ggZGl2LnVpLXNsaWRlci1sYWJlbGJnLWEgeyB3aWR0aDogNjAlOyBoZWlnaHQ6IDEwMCU7IGxlZnQ6IDA7IH0KZGl2LnVpLXNsaWRlci1zd2l0Y2ggZGl2LnVpLXNsaWRlci1sYWJlbGJnLWIgeyB3aWR0aDogNjAlOyBoZWlnaHQ6IDEwMCU7IHJpZ2h0OiAwOyB9Ci51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWEsIC51aS1zbGlkZXItc3dpdGNoLWIgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWIgeyB6LWluZGV4OiAtMTsgfQoudWktc2xpZGVyLXN3aXRjaC1hIGRpdi51aS1zbGlkZXItbGFiZWxiZy1iLCAudWktc2xpZGVyLXN3aXRjaC1iIGRpdi51aS1zbGlkZXItbGFiZWxiZy1hIHsgei1pbmRleDogMDsgfQoKZGl2LnVpLXNsaWRlci1zd2l0Y2ggYS51aS1zbGlkZXItaGFuZGxlIHsgei1pbmRleDogMjA7ICB3aWR0aDogMTAxJTsgaGVpZ2h0OiAzMnB4OyBtYXJnaW4tdG9wOiAtMThweDsgbWFyZ2luLWxlZnQ6IC0xMDElOyB9CnNwYW4udWktc2xpZGVyLWxhYmVsIHsgd2lkdGg6IDEwMCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTtoZWlnaHQ6IDMycHg7ICBmb250LXNpemU6IDE2cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgbGluZS1oZWlnaHQ6IDI7IGJhY2tncm91bmQ6IG5vbmU7IGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7IH0Kc3Bhbi51aS1zbGlkZXItbGFiZWwtYSB7IGxlZnQ6IC0xMDAlOyAgbWFyZ2luLXJpZ2h0OiAtMXB4IH0Kc3Bhbi51aS1zbGlkZXItbGFiZWwtYiB7IHJpZ2h0OiAtMTAwJTsgIG1hcmdpbi1sZWZ0OiAtMXB4IH0K", "content_type": "text/css"}, "models/template.coffee": {"data": "", "content_type": ""}, "js-libraries/jquery-mobile/jquery.mobile-1.0b3.css": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIzCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCi8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIGFuZCBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCgoKLyogQQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktYmFyLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMkEyQTJBOwoJYmFja2dyb3VuZDogCQkJIzExMTExMTsKCWNvbG9yOiAJCQkJCSNmZmZmZmY7Cglmb250LXdlaWdodDogYm9sZDsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDAwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzYzNjM2MpLCB0bygjMTExKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MsICMxMTEpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzYzNjM2MsICMxMTEpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzNjM2MzYywgIzExMSk7Cn0KLnVpLWJhci1hLCAKLnVpLWJhci1hIGlucHV0LCAKLnVpLWJhci1hIHNlbGVjdCwgCi51aS1iYXItYSB0ZXh0YXJlYSwgCi51aS1iYXItYSBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJhci1hIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYmFyLWEgLnVpLWxpbmsgewoJY29sb3I6IAkJCQkJIzdjYzRlNzsKCWZvbnQtd2VpZ2h0OiBib2xkOwp9Ci51aS1ib2R5LWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMkEyQTJBOwoJYmFja2dyb3VuZDogCQkJIzIyMjIyMjsKCWNvbG9yOiAJCQkJCSNmZmY7CgkgdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSMwMDA7Cglmb250LXdlaWdodDogbm9ybWFsOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjNjY2KSwgdG8oIzIyMikpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2LCAjMjIyKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNjY2LCAjMjIyKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICMyMjIpOwkKfQoudWktYm9keS1hLAoudWktYm9keS1hIGlucHV0LAoudWktYm9keS1hIHNlbGVjdCwKLnVpLWJvZHktYSB0ZXh0YXJlYSwKLnVpLWJvZHktYSBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYSAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJvZHktYSAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJyIHsKCWJvcmRlci1ib3R0b206IHJnYigxMzAsMTMwLDEzMCk7Cglib3JkZXItYm90dG9tOiByZ2JhKDEzMCwxMzAsMTMwLC4zKTsKCWJvcmRlci1ib3R0b20td2lkdGg6IDFweDsKCWJvcmRlci1ib3R0b20tc3R5bGU6IHNvbGlkOwp9Ci51aS1idG4tdXAtYSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMyMjI7CgliYWNrZ3JvdW5kOiAJCQkjMzMzMzMzOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzAwMDsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzU1NSksIHRvKCMzMzMpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NSwgIzMzMyk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzU1NSwgIzMzMyk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNTU1LCAjMzMzKTsKfQoudWktYnRuLXVwLWEgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLWhvdmVyLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMDAwOwoJYmFja2dyb3VuZDogCQkJIzQ0NDQ0NDsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJI2ZmZjsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCM2NjYpLCB0bygjNDQ0KSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICM0NDQpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICM2NjYsICM0NDQpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzY2NiwgIzQ0NCk7Cn0KLnVpLWJ0bi1ob3Zlci1hIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJ0bi1kb3duLWEgewoJYm9yZGVyOiAxcHggc29saWQgCQkjMDAwOwoJYmFja2dyb3VuZDogCQkJIzNkM2QzZDsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJI2ZmZjsKCXRleHQtc2hhZG93OiAwIC0xcHggMXB4ICMwMDA7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCMzMzMpLCB0bygjNWE1YTVhKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMsICM1YTVhNWEpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICMzMzMsICM1YTVhNWEpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgIzMzMywgIzVhNWE1YSk7Cn0KLnVpLWJ0bi1kb3duLWEgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLXVwLWEsCi51aS1idG4taG92ZXItYSwKLnVpLWJ0bi1kb3duLWEgewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCgovKiBCCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1iYXItYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSM0NTZmOWE7CgliYWNrZ3JvdW5kOiAJCQkjNWU4N2IwOwoJY29sb3I6IAkJCQkJI2ZmZjsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzI1NGY3YTsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzgxYThjZSksIHRvKCM1ZTg3YjApKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSwgIzVlODdiMCk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzgxYThjZSwgIzVlODdiMCk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjODFhOGNlLCAjNWU4N2IwKTsKfQoudWktYmFyLWIsCi51aS1iYXItYiBpbnB1dCwKLnVpLWJhci1iIHNlbGVjdCwKLnVpLWJhci1iIHRleHRhcmVhLAoudWktYmFyLWIgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1iYXItYiAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KLnVpLWJhci1iIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSM3Y2M0ZTc7Cglmb250LXdlaWdodDogYm9sZDsKfQoKLnVpLWJvZHktYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNDNkM2QzY7CgliYWNrZ3JvdW5kOiAJCQkjY2NjY2NjOwoJY29sb3I6IAkJCQkJIzMzMzMzMzsKCXRleHQtc2hhZG93OiAwIDFweCAwIAkjZmZmOwoJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2U2ZTZlNiksIHRvKCNjY2MpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiwgI2NjYyk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2U2ZTZlNiwgI2NjYyk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZTZlNmU2LCAjY2NjKTsKfQoudWktYm9keS1iLAoudWktYm9keS1iIGlucHV0LAoudWktYm9keS1iIHNlbGVjdCwKLnVpLWJvZHktYiB0ZXh0YXJlYSwKLnVpLWJvZHktYiBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYiAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzMzMzM7Cn0KLnVpLWJvZHktYiAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJ0bi11cC1iIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJIzE0NTA3MjsKCWJhY2tncm91bmQ6IAkJCSMyNTY3YWI7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSNmZmY7Cgl0ZXh0LXNoYWRvdzogMCAtMXB4IDFweCAjMTQ1MDcyOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjNWY5Y2M1KSwgdG8oIzM5NmI5ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjNWY5Y2M1LCAjMzk2YjllKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjNWY5Y2M1LCAjMzk2YjllKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM1ZjljYzUsICMzOTZiOWUpOwp9Ci51aS1idG4tdXAtYiBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjZmZmOwp9Ci51aS1idG4taG92ZXItYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMwMDUxNmU7CgliYWNrZ3JvdW5kOiAJCQkjNGI4OGI2OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzAxNEQ2ODsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzcyYjBkNCksIHRvKCM0Yjg4YjYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCwgIzRiODhiNik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzcyYjBkNCwgIzRiODhiNik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjNzJiMGQ0LCAjNGI4OGI2KTsKfQoudWktYnRuLWhvdmVyLWIgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJI2ZmZjsKfQoudWktYnRuLWRvd24tYiB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSMyMjUzNzc7CgliYWNrZ3JvdW5kOiAJCQkjNGU4OWM1OwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjZmZmOwoJdGV4dC1zaGFkb3c6IDAgLTFweCAxcHggIzIyNTM3NzsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oIzM5NmI5ZSksIHRvKCM0ZTg5YzUpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSwgIzRlODljNSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgIzM5NmI5ZSwgIzRlODljNSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjMzk2YjllLCAjNGU4OWM1KTsKfQoudWktYnRuLWRvd24tYiBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjZmZmOwp9Ci51aS1idG4tdXAtYiwKLnVpLWJ0bi1ob3Zlci1iLAoudWktYnRuLWRvd24tYiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1jIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI0IzQjNCMzsKCWJhY2tncm91bmQ6IAkJCSNlOWVhZWI7Cgljb2xvcjogCQkJCQkjM0UzRTNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMXB4IAkjZmZmOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZjBmMGYwKSwgdG8oI2U5ZWFlYikpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwLCAjZTllYWViKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZjBmMGYwLCAjZTllYWViKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmMGYwZjAsICNlOWVhZWIpOwp9Ci51aS1iYXItYywKLnVpLWJhci1jIGlucHV0LAoudWktYmFyLWMgc2VsZWN0LAoudWktYmFyLWMgdGV4dGFyZWEsCi51aS1iYXItYyBidXR0b24gewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cn0KLnVpLWJvZHktYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNCM0IzQjM7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kOiAJCQkjZjBmMGYwOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZWVlKSwgdG8oI2RkZCkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZGRkKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZGRkKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNlZWUsICNkZGQpOwp9Ci51aS1ib2R5LWMsCi51aS1ib2R5LWMgaW5wdXQsCi51aS1ib2R5LWMgc2VsZWN0LAoudWktYm9keS1jIHRleHRhcmVhLAoudWktYm9keS1jIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYm9keS1jIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzMzMzsKfQoudWktYm9keS1jIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoKLnVpLWJ0bi11cC1jIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWJhY2tncm91bmQ6IAkJCSNlZWU7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSM0NDQ7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMXB4ICNmNmY2ZjY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmZGZkZmQpLCB0bygjZWVlKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQsICNlZWUpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmZGZkZmQsICNlZWUpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7Cn0KLnVpLWJ0bi11cC1jIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMyRjNFNDY7Cn0KCi51aS1idG4taG92ZXItYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNiYmI7CgliYWNrZ3JvdW5kOiAJCQkjZGFkYWRhOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTAxMDEwOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VkZWRlZCksIHRvKCNkYWRhZGEpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCwgI2RhZGFkYSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VkZWRlZCwgI2RhZGFkYSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWRlZGVkLCAjZGFkYWRhKTsKfQoudWktYnRuLWhvdmVyLWMgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzJGM0U0NjsKfQoudWktYnRuLWRvd24tYyB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSM4MDgwODA7CgliYWNrZ3JvdW5kOiAJCQkjZmRmZGZkOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZmZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VlZSksIHRvKCNmZGZkZmQpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZkZmRmZCk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZkZmRmZCk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmRmZGZkKTsKfQoudWktYnRuLWRvd24tYyBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMkYzRTQ2Owp9Ci51aS1idG4tdXAtYywKLnVpLWJ0bi1ob3Zlci1jLAoudWktYnRuLWRvd24tYyB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEQKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1kIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWJhY2tncm91bmQ6IAkJCSNiYmI7Cgljb2xvcjogCQkJCQkjMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgI2VlZTsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2RkZCksIHRvKCNiYmIpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCwgI2JiYik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2RkZCwgI2JiYik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZGRkLCAjYmJiKTsKfQoudWktYmFyLWQsCi51aS1iYXItZCBpbnB1dCwKLnVpLWJhci1kIHNlbGVjdCwKLnVpLWJhci1kIHRleHRhcmVhLAoudWktYmFyLWQgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1iYXItZCAudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzM7Cn0KLnVpLWJhci1kIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoudWktYm9keS1kIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI2NjYzsKCWNvbG9yOiAJCQkJCSMzMzMzMzM7Cgl0ZXh0LXNoYWRvdzogMCAxcHggMCAJI2ZmZjsKCWJhY2tncm91bmQ6IAkJCSNmZmZmZmY7Cn0KLnVpLWJvZHktZCwKLnVpLWJvZHktZCBpbnB1dCwKLnVpLWJvZHktZCBzZWxlY3QsCi51aS1ib2R5LWQgdGV4dGFyZWEsCi51aS1ib2R5LWQgYnV0dG9uIHsKCWZvbnQtZmFtaWx5OiBIZWx2ZXRpY2EsIEFyaWFsLCBzYW5zLXNlcmlmOwp9Ci51aS1ib2R5LWQgLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwp9Ci51aS1ib2R5LWQgLnVpLWxpbmsgewoJY29sb3I6IAkJCQkJIzI0ODlDRTsKCWZvbnQtd2VpZ2h0OiBib2xkOwp9Ci51aS1idG4tdXAtZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNjY2M7CgliYWNrZ3JvdW5kOiAJCQkjZmZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjNDQ0OwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAjZmZmOwp9Ci51aS1idG4tdXAtZCBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1idG4taG92ZXItZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNhYWE7CgliYWNrZ3JvdW5kOiAJCQkjZWVlZWVlOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMjIyOwoJY3Vyc29yOiBwb2ludGVyOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZkZmRmZCksIHRvKCNlZWUpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZkZmRmZCwgI2VlZSk7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmRmZGZkLCAjZWVlKTsKfQoudWktYnRuLWhvdmVyLWQgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzIyMjsKfQoudWktYnRuLWRvd24tZCB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNhYWFhYWE7CgliYWNrZ3JvdW5kOiAJCQkjZmZmZmZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZmZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2VlZSksIHRvKCNmZmYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZmZik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2VlZSwgI2ZmZik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZWVlLCAjZmZmKTsKfQoudWktYnRuLWRvd24tZCBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMTExOwp9Ci51aS1idG4tdXAtZCwKLnVpLWJ0bi1ob3Zlci1kLAoudWktYnRuLWRvd24tZCB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKCXRleHQtZGVjb3JhdGlvbjogbm9uZTsKfQoKCi8qIEUKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWJhci1lIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJI0Y3Qzk0MjsKCWJhY2tncm91bmQ6IAkJCSNmYWRiNGU7Cgljb2xvcjogCQkJCQkjMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmY2VkYTcpLCB0bygjZmFkYjRlKSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZWRhNywgI2ZhZGI0ZSk7Cn0KLnVpLWJhci1lLAoudWktYmFyLWUgaW5wdXQsCi51aS1iYXItZSBzZWxlY3QsCi51aS1iYXItZSB0ZXh0YXJlYSwKLnVpLWJhci1lIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYmFyLWUgLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1iYXItZSAudWktbGluayB7Cgljb2xvcjogCQkJCQkjMjQ4OUNFOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cn0KLnVpLWJvZHktZSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNGN0M5NDI7Cgljb2xvcjogCQkJCQkjMzMzMzMzOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDAgCSNmZmY7CgliYWNrZ3JvdW5kOiAJCQkjZmFlYjllOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmZmKSwgdG8oI2ZhZWI5ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmLCAjZmFlYjllKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmZmLCAjZmFlYjllKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmZmYsICNmYWViOWUpOwp9Ci51aS1ib2R5LWUsCi51aS1ib2R5LWUgaW5wdXQsCi51aS1ib2R5LWUgc2VsZWN0LAoudWktYm9keS1lIHRleHRhcmVhLAoudWktYm9keS1lIGJ1dHRvbiB7Cglmb250LWZhbWlseTogSGVsdmV0aWNhLCBBcmlhbCwgc2Fucy1zZXJpZjsKfQoudWktYm9keS1lIC51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzMzMzsKfQoudWktYm9keS1lIC51aS1saW5rIHsKCWNvbG9yOiAJCQkJCSMyNDg5Q0U7Cglmb250LXdlaWdodDogYm9sZDsKfQoudWktYnRuLXVwLWUgewoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyOwoJYmFja2dyb3VuZDogCQkJI2ZhZGI0ZTsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJIzMzMzsKCXRleHQtc2hhZG93OiAwIDFweCAwIAkjZmZmOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjZmNlZGE3KSwgdG8oI2ZhZGI0ZSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNlZGE3LCAjZmFkYjRlKTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNlZGE3LCAjZmFkYjRlKTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICNmY2VkYTcsICNmYWRiNGUpOwp9Ci51aS1idG4tdXAtZSBhLnVpLWxpbmstaW5oZXJpdCB7Cgljb2xvcjogCQkJCQkjMzMzOwp9Ci51aS1idG4taG92ZXItZSB7Cglib3JkZXI6IDFweCBzb2xpZCAJCSNlNzk5NTI7CgliYWNrZ3JvdW5kOiAJCQkjZmJlMjZmOwoJZm9udC13ZWlnaHQ6IGJvbGQ7Cgljb2xvcjogCQkJCQkjMTExOwoJdGV4dC1zaGFkb3c6IDAgMXB4IDFweCAJI2ZmZjsKCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtZ3JhZGllbnQobGluZWFyLCBsZWZ0IHRvcCwgbGVmdCBib3R0b20sIGZyb20oI2ZjZjBiNSksIHRvKCNmYmUyNmYpKTsgLyogU2FmNCssIENocm9tZSAqLwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsgLyogQ2hyb21lIDEwKywgU2FmNS4xKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgLW1vei1saW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsgLyogRkYzLjYgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAtbXMtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSwgI2ZiZTI2Zik7IC8qIElFMTAgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgLW8tbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZjZjBiNSwgI2ZiZTI2Zik7IC8qIE9wZXJhIDExLjEwKyAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAgICBsaW5lYXItZ3JhZGllbnQodG9wLCAjZmNmMGI1LCAjZmJlMjZmKTsKfQoKLnVpLWJ0bi1ob3Zlci1lIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSMzMzM7Cn0KLnVpLWJ0bi1kb3duLWUgewoJYm9yZGVyOiAxcHggc29saWQgCQkjRjdDOTQyOwoJYmFja2dyb3VuZDogCQkJI2ZjZWRhNzsKCWZvbnQtd2VpZ2h0OiBib2xkOwoJY29sb3I6IAkJCQkJIzExMTsKCXRleHQtc2hhZG93OiAwIDFweCAxcHggCSNmZmZmZmY7CgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWdyYWRpZW50KGxpbmVhciwgbGVmdCB0b3AsIGxlZnQgYm90dG9tLCBmcm9tKCNmYWRiNGUpLCB0bygjZmNlZGE3KSk7IC8qIFNhZjQrLCBDaHJvbWUgKi8KCWJhY2tncm91bmQtaW1hZ2U6IC13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7IC8qIENocm9tZSAxMCssIFNhZjUuMSsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgIC1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7IC8qIEZGMy42ICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgLW1zLWxpbmVhci1ncmFkaWVudCh0b3AsICNmYWRiNGUsICNmY2VkYTcpOyAvKiBJRTEwICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgIC1vLWxpbmVhci1ncmFkaWVudCh0b3AsICNmYWRiNGUsICNmY2VkYTcpOyAvKiBPcGVyYSAxMS4xMCsgKi8KCWJhY2tncm91bmQtaW1hZ2U6ICAgICAgICAgbGluZWFyLWdyYWRpZW50KHRvcCwgI2ZhZGI0ZSwgI2ZjZWRhNyk7Cn0KLnVpLWJ0bi1kb3duLWUgYS51aS1saW5rLWluaGVyaXQgewoJY29sb3I6IAkJCQkJIzMzMzsKfQoudWktYnRuLXVwLWUsCi51aS1idG4taG92ZXItZSwKLnVpLWJ0bi1kb3duLWUgewoJZm9udC1mYW1pbHk6IEhlbHZldGljYSwgQXJpYWwsIHNhbnMtc2VyaWY7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCgovKiBsaW5rcyB3aXRoaW4gImJ1dHRvbnMiIAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgphLnVpLWxpbmstaW5oZXJpdCB7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmUgIWltcG9ydGFudDsKfQoKCi8qIEFjdGl2ZSBjbGFzcyB1c2VkIGFzIHRoZSAib24iIHN0YXRlIGFjcm9zcyBhbGwgdGhlbWVzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1idG4tYWN0aXZlIHsKCWJvcmRlcjogMXB4IHNvbGlkIAkJIzE1NTY3ODsKCWJhY2tncm91bmQ6IAkJCSM0NTk2Y2U7Cglmb250LXdlaWdodDogYm9sZDsKCWNvbG9yOiAJCQkJCSNmZmY7CgljdXJzb3I6IHBvaW50ZXI7Cgl0ZXh0LXNoYWRvdzogMCAtMXB4IDFweCAjMTQ1MDcyOwoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwoJYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1ncmFkaWVudChsaW5lYXIsIGxlZnQgdG9wLCBsZWZ0IGJvdHRvbSwgZnJvbSgjODViYWU0KSwgdG8oIzUzOTNjNSkpOyAvKiBTYWY0KywgQ2hyb21lICovCgliYWNrZ3JvdW5kLWltYWdlOiAtd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOyAvKiBDaHJvbWUgMTArLCBTYWY1LjErICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAtbW96LWxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOyAvKiBGRjMuNiAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgIC1tcy1saW5lYXItZ3JhZGllbnQodG9wLCAjODViYWU0LCAjNTM5M2M1KTsgLyogSUUxMCAqLwoJYmFja2dyb3VuZC1pbWFnZTogICAgICAtby1saW5lYXItZ3JhZGllbnQodG9wLCAjODViYWU0LCAjNTM5M2M1KTsgLyogT3BlcmEgMTEuMTArICovCgliYWNrZ3JvdW5kLWltYWdlOiAgICAgICAgIGxpbmVhci1ncmFkaWVudCh0b3AsICM4NWJhZTQsICM1MzkzYzUpOwogIAlvdXRsaW5lOiBub25lOwp9Ci51aS1idG4tYWN0aXZlIGEudWktbGluay1pbmhlcml0IHsKCWNvbG9yOiAJCQkJCSNmZmY7Cn0KCgovKiBidXR0b24gaW5uZXIgdG9wIGhpZ2hsaWdodAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktYnRuLWlubmVyIHsKCWJvcmRlci10b3A6IDFweCBzb2xpZCAJI2ZmZjsKCWJvcmRlci1jb2xvcjogCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7Cn0KCgovKiBjb3JuZXIgcm91bmRpbmcgY2xhc3NlcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktY29ybmVyLXRsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCS42ZW07Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLXRyIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLWJsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJLjZlbTsKfQoudWktY29ybmVyLWJyIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAuNmVtOwoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJLjZlbTsKfQoudWktY29ybmVyLXRvcCB7CgktbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJLjZlbTsKCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCS42ZW07CgktbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkuNmVtOwoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCS42ZW07Cn0KLnVpLWNvcm5lci1ib3R0b20gewoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IC42ZW07Cglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkuNmVtOwoJfQoudWktY29ybmVyLXJpZ2h0IHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkuNmVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJLjZlbTsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDogCS42ZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAuNmVtOwoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJLjZlbTsKfQoudWktY29ybmVyLWxlZnQgewoJLW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJLjZlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCS42ZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkuNmVtOwp9Ci51aS1jb3JuZXItYWxsIHsKCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCS42ZW07Cgktd2Via2l0LWJvcmRlci1yYWRpdXM6IAkJCQkuNmVtOwoJYm9yZGVyLXJhZGl1czogCQkJCQkJLjZlbTsKfQoudWktY29ybmVyLW5vbmUgewoJLW1vei1ib3JkZXItcmFkaXVzOiAJCQkJICAgMDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogCQkJCSAgIDA7Cglib3JkZXItcmFkaXVzOiAJCQkJCQkgICAwOwp9CgovKiBJbnRlcmFjdGlvbiBjdWVzCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KLnVpLWRpc2FibGVkIHsKCW9wYWNpdHk6IAkJCQkJCQkuMzsKfQoudWktZGlzYWJsZWQsCi51aS1kaXNhYmxlZCBhIHsKCWN1cnNvcjogZGVmYXVsdDsKfQoKLyogSWNvbnMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWljb24gewoJYmFja2dyb3VuZDogCQkJCQkJIzY2NjsKCWJhY2tncm91bmQ6IAkJCQkJCXJnYmEoMCwwLDAsLjQpOwoJYmFja2dyb3VuZC1pbWFnZTogdXJsKGltYWdlcy9pY29ucy0xOC13aGl0ZS5wbmcpOwoJYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCTlweDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogCQkJCTlweDsKCWJvcmRlci1yYWRpdXM6IAkJCQkJCTlweDsKfQoKCi8qIEFsdCBpY29uIGNvbG9yCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1pY29uLWFsdCB7CgliYWNrZ3JvdW5kOiAJCQkJCQkjZmZmOwoJYmFja2dyb3VuZDogCQkJCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7CgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoaW1hZ2VzL2ljb25zLTE4LWJsYWNrLnBuZyk7CgliYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0Owp9CgovKiBIRC8icmV0aW5hIiBzcHJpdGUKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOiAxLjUpLAogICAgICAgb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86IDEuNSksCiAgICAgICBvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOiAyNDBkcGkpIHsKCQoJLnVpLWljb24tcGx1cywgLnVpLWljb24tbWludXMsIC51aS1pY29uLWRlbGV0ZSwgLnVpLWljb24tYXJyb3ctciwKCS51aS1pY29uLWFycm93LWwsIC51aS1pY29uLWFycm93LXUsIC51aS1pY29uLWFycm93LWQsIC51aS1pY29uLWNoZWNrLAoJLnVpLWljb24tZ2VhciwgLnVpLWljb24tcmVmcmVzaCwgLnVpLWljb24tZm9yd2FyZCwgLnVpLWljb24tYmFjaywKCS51aS1pY29uLWdyaWQsIC51aS1pY29uLXN0YXIsIC51aS1pY29uLWFsZXJ0LCAudWktaWNvbi1pbmZvLCAudWktaWNvbi1ob21lLCAudWktaWNvbi1zZWFyY2gsIAoJLnVpLWljb24tY2hlY2tib3gtb2ZmLCAudWktaWNvbi1jaGVja2JveC1vbiwgLnVpLWljb24tcmFkaW8tb2ZmLCAudWktaWNvbi1yYWRpby1vbiB7CgkJYmFja2dyb3VuZC1pbWFnZTogdXJsKGltYWdlcy9pY29ucy0zNi13aGl0ZS5wbmcpOwoJCS1tb3otYmFja2dyb3VuZC1zaXplOiA3NzZweCAxOHB4OwoJCS1vLWJhY2tncm91bmQtc2l6ZTogNzc2cHggMThweDsKCQktd2Via2l0LWJhY2tncm91bmQtc2l6ZTogNzc2cHggMThweDsKCQliYWNrZ3JvdW5kLXNpemU6IDc3NnB4IDE4cHg7Cgl9CgkudWktaWNvbi1hbHQgewoJCWJhY2tncm91bmQtaW1hZ2U6IHVybChpbWFnZXMvaWNvbnMtMzYtYmxhY2sucG5nKTsKCX0KfQoKLyogcGx1cyBtaW51cyAqLwoudWktaWNvbi1wbHVzIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMCA1MCU7Cn0KLnVpLWljb24tbWludXMgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0zNnB4IDUwJTsKfQoKLyogZGVsZXRlL2Nsb3NlICovCi51aS1pY29uLWRlbGV0ZSB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTcycHggNTAlOwp9CgovKiBhcnJvd3MgKi8KLnVpLWljb24tYXJyb3ctciB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTEwOHB4IDUwJTsKfQoudWktaWNvbi1hcnJvdy1sIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMTQ0cHggNTAlOwp9Ci51aS1pY29uLWFycm93LXUgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0xODBweCA1MCU7Cn0KLnVpLWljb24tYXJyb3ctZCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTIxNnB4IDUwJTsKfQoKLyogbWlzYyAqLwoudWktaWNvbi1jaGVjayB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTI1MnB4IDUwJTsKfQoudWktaWNvbi1nZWFyIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMjg4cHggNTAlOwp9Ci51aS1pY29uLXJlZnJlc2ggewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS0zMjRweCA1MCU7Cn0KLnVpLWljb24tZm9yd2FyZCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTM2MHB4IDUwJTsKfQoudWktaWNvbi1iYWNrIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktMzk2cHggNTAlOwp9Ci51aS1pY29uLWdyaWQgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS00MzJweCA1MCU7Cn0KLnVpLWljb24tc3RhciB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTQ2OHB4IDUwJTsKfQoudWktaWNvbi1hbGVydCB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTUwNHB4IDUwJTsKfQoudWktaWNvbi1pbmZvIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktNTQwcHggNTAlOwp9Ci51aS1pY29uLWhvbWUgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS01NzZweCA1MCU7Cn0KLnVpLWljb24tc2VhcmNoIHsKCWJhY2tncm91bmQtcG9zaXRpb246IAktNjEycHggNTAlOwp9Ci51aS1pY29uLWNoZWNrYm94LW9mZiB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY4NHB4IDUwJTsKfQoudWktaWNvbi1jaGVja2JveC1vbiB7CgliYWNrZ3JvdW5kLXBvc2l0aW9uOiAJLTY0OHB4IDUwJTsKfQoudWktaWNvbi1yYWRpby1vZmYgewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03NTZweCA1MCU7Cn0KLnVpLWljb24tcmFkaW8tb24gewoJYmFja2dyb3VuZC1wb3NpdGlvbjogCS03MjBweCA1MCU7Cn0KCgovKiBjaGVja3MscmFkaW9zICovCi51aS1jaGVja2JveCAudWktaWNvbiB7CgktbW96LWJvcmRlci1yYWRpdXM6IDNweDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogM3B4OwoJYm9yZGVyLXJhZGl1czogM3B4Owp9Ci51aS1pY29uLWNoZWNrYm94LW9mZiwKLnVpLWljb24tcmFkaW8tb2ZmIHsKCWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OwkKfQoudWktaWNvbi1jaGVja2JveC1vbiwKLnVpLWNoZWNrYm94LW9uIC51aS1pY29uLAoudWktcmFkaW8tb24gLnVpLWljb24gewoJYmFja2dyb3VuZC1jb2xvcjogIzQ1OTZjZTsgLyogTk9URTogdGhpcyBoZXggc2hvdWxkIG1hdGNoIHRoZSBhY3RpdmUgc3RhdGUgY29sb3IuIEl0J3MgcmVwZWF0ZWQgaGVyZSBmb3IgY2FzY2FkZSAqLwp9Ci51aS1pY29uLXNlYXJjaGZpZWxkIHsKCWJhY2tncm91bmQtaW1hZ2U6IHVybChpbWFnZXMvaWNvbi1zZWFyY2gtYmxhY2sucG5nKTsKCWJhY2tncm91bmQtc2l6ZTogMTZweCAxNnB4Owp9CgovKiBsb2FkaW5nIGljb24gKi8KLnVpLWljb24tbG9hZGluZyB7CgliYWNrZ3JvdW5kLWltYWdlOiB1cmwoaW1hZ2VzL2FqYXgtbG9hZGVyLnBuZyk7Cgl3aWR0aDogNDBweDsKCWhlaWdodDogNDBweDsKCS1tb3otYm9yZGVyLXJhZGl1czogMjBweDsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogMjBweDsKCWJvcmRlci1yYWRpdXM6IDIwcHg7CgliYWNrZ3JvdW5kLXNpemU6IDM1cHggMzVweDsKfQoKCi8qIEJ1dHRvbiBjb3JuZXIgY2xhc3NlcwotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktYnRuLWNvcm5lci10bCB7CgktbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogCQkxZW07Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkxZW07Cglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItdHIgewoJLW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkxZW07Cglib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCQkJMWVtOwp9Ci51aS1idG4tY29ybmVyLWJsIHsKCS1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCTFlbTsKCWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkJCTFlbTsKfQoudWktYnRuLWNvcm5lci1iciB7CgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IAkxZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxZW07Cglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItdG9wIHsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OiAJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogCTFlbTsKCWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkJCTFlbTsKCS1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDogCQkxZW07Cgktd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJMWVtOwoJYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IAkJCTFlbTsKfQoudWktYnRuLWNvcm5lci1ib3R0b20gewoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6IAkJMWVtOwoJLXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJMWVtOwoJYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogCQkJMWVtOwoJLW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OiAJMWVtOwoJLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMWVtOwoJYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IAkJMWVtOwp9Ci51aS1idG4tY29ybmVyLXJpZ2h0IHsKCSAtbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6IAkJMWVtOwoJLXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogCTFlbTsKCWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAJCQkxZW07CgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6IAkxZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAxZW07Cglib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItbGVmdCB7CgktbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDogCQkxZW07Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IAkxZW07Cglib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAJCQkxZW07CgktbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDogCQkxZW07Cgktd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6IAkxZW07Cglib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAJCQkxZW07Cn0KLnVpLWJ0bi1jb3JuZXItYWxsIHsKCS1tb3otYm9yZGVyLXJhZGl1czogCQkJCTFlbTsKCS13ZWJraXQtYm9yZGVyLXJhZGl1czogCQkJCTFlbTsKCWJvcmRlci1yYWRpdXM6IAkJCQkJCTFlbTsKfQoKLyogcmFkaXVzIGNsaXAgd29ya2Fyb3VuZCBmb3IgY2xlYW5pbmcgdXAgY29ybmVyIHRyYXBwaW5nICovCi51aS1jb3JuZXItdGwsCi51aS1jb3JuZXItdHIsCi51aS1jb3JuZXItYmwsIAoudWktY29ybmVyLWJyLAoudWktY29ybmVyLXRvcCwKLnVpLWNvcm5lci1ib3R0b20sIAoudWktY29ybmVyLXJpZ2h0LAoudWktY29ybmVyLWxlZnQsCi51aS1jb3JuZXItYWxsLAoudWktYnRuLWNvcm5lci10bCwKLnVpLWJ0bi1jb3JuZXItdHIsCi51aS1idG4tY29ybmVyLWJsLCAKLnVpLWJ0bi1jb3JuZXItYnIsCi51aS1idG4tY29ybmVyLXRvcCwKLnVpLWJ0bi1jb3JuZXItYm90dG9tLCAKLnVpLWJ0bi1jb3JuZXItcmlnaHQsCi51aS1idG4tY29ybmVyLWxlZnQsCi51aS1idG4tY29ybmVyLWFsbCB7CiAgLXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6IHBhZGRpbmctYm94OwogICAgIC1tb3otYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nOwogICAgICAgICAgYmFja2dyb3VuZC1jbGlwOiBwYWRkaW5nLWJveDsKfQoKLyogT3ZlcmxheSAvIG1vZGFsCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCi51aS1vdmVybGF5IHsKCWJhY2tncm91bmQ6ICM2NjY7CglvcGFjaXR5OiAuNTsKCWZpbHRlcjogQWxwaGEoT3BhY2l0eT01MCk7Cglwb3NpdGlvbjogYWJzb2x1dGU7Cgl3aWR0aDogMTAwJTsKCWhlaWdodDogMTAwJTsKfQoudWktb3ZlcmxheS1zaGFkb3cgewoJLW1vei1ib3gtc2hhZG93OiAwcHggMHB4IDEycHggCQkJcmdiYSgwLDAsMCwuNik7Cgktd2Via2l0LWJveC1zaGFkb3c6IDBweCAwcHggMTJweCAJCXJnYmEoMCwwLDAsLjYpOwoJYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkJCQlyZ2JhKDAsMCwwLC42KTsKfQoudWktc2hhZG93IHsKCS1tb3otYm94LXNoYWRvdzogMHB4IDFweCA0cHggCQkJcmdiYSgwLDAsMCwuMyk7Cgktd2Via2l0LWJveC1zaGFkb3c6IDBweCAxcHggNHB4IAkJcmdiYSgwLDAsMCwuMyk7Cglib3gtc2hhZG93OiAwcHggMXB4IDRweCAJCQkJcmdiYSgwLDAsMCwuMyk7Cn0KLnVpLWJhci1hIC51aS1zaGFkb3csCi51aS1iYXItYiAudWktc2hhZG93ICwKLnVpLWJhci1jIC51aS1zaGFkb3cgIHsKCS1tb3otYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCQlyZ2JhKDI1NSwyNTUsMjU1LC4zKTsKCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCXJnYmEoMjU1LDI1NSwyNTUsLjMpOwoJYm94LXNoYWRvdzogMHB4IDFweCAwIAkJCQkJcmdiYSgyNTUsMjU1LDI1NSwuMyk7Cn0KLnVpLXNoYWRvdy1pbnNldCB7CgktbW96LWJveC1zaGFkb3c6IGluc2V0IDBweCAxcHggNHB4IAkJcmdiYSgwLDAsMCwuMik7Cgktd2Via2l0LWJveC1zaGFkb3c6IGluc2V0IDBweCAxcHggNHB4IAlyZ2JhKDAsMCwwLC4yKTsKCWJveC1zaGFkb3c6IGluc2V0IDBweCAxcHggNHB4IAkJCXJnYmEoMCwwLDAsLjIpOwp9Ci51aS1pY29uLXNoYWRvdyB7CgktbW96LWJveC1zaGFkb3c6IDBweCAxcHggMCAJCQkJcmdiYSgyNTUsMjU1LDI1NSwuNCk7Cgktd2Via2l0LWJveC1zaGFkb3c6IDBweCAxcHggMCAJCQlyZ2JhKDI1NSwyNTUsMjU1LC40KTsKCWJveC1zaGFkb3c6IDBweCAxcHggMCAJCQkJCXJnYmEoMjU1LDI1NSwyNTUsLjQpOwp9CgoKLyogRm9jdXMgc3RhdGUgLSBzZXQgaGVyZSBmb3Igc3BlY2lmaWNpdHkKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKLnVpLWZvY3VzIHsKCS1tb3otYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkJIzM4N2JiZTsKCS13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkjMzg3YmJlOwoJYm94LXNoYWRvdzogMHB4IDBweCAxMnB4IAkJCSMzODdiYmU7Cn0KCi8qIHVuc2V0IGJveCBzaGFkb3cgaW4gYnJvd3NlcnMgdGhhdCBkb24ndCBkbyBpdCByaWdodAotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovCgoudWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3cgKiB7CgktbW96LWJveC1zaGFkb3c6IG5vbmUgIWltcG9ydGFudDsKCS13ZWJraXQtYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50OwoJYm94LXNoYWRvdzogbm9uZSAhaW1wb3J0YW50Owp9CgovKiAuLi5hbmQgYnJpbmcgYmFjayBmb2N1cyAqLwoudWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3cgLnVpLWZvY3VzIHsKCW91dGxpbmUtd2lkdGg6IDJweDsKfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIGFuZCBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCgovKiBzb21lIHVuc2V0cyAtIG1vcmUgcHJvYmFibHkgbmVlZGVkICovCi51aS1tb2JpbGUsIC51aS1tb2JpbGUgYm9keSB7IGhlaWdodDogMTAwJTsgfQoudWktbW9iaWxlIGZpZWxkc2V0LCAudWktcGFnZSB7IHBhZGRpbmc6IDA7IG1hcmdpbjogMDsgfQoudWktbW9iaWxlIGEgaW1nLCAudWktbW9iaWxlIGZpZWxkc2V0IHsgYm9yZGVyOiAwOyB9CgovKiByZXNwb25zaXZlIHBhZ2Ugd2lkdGhzICovCi51aS1tb2JpbGUtdmlld3BvcnQgeyAgbWFyZ2luOiAwOyBvdmVyZmxvdy14OiBoaWRkZW47IC13ZWJraXQtdGV4dC1zaXplLWFkanVzdDogbm9uZTsgLW1zLXRleHQtc2l6ZS1hZGp1c3Q6bm9uZTsgLXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOiByZ2JhKDAsIDAsIDAsIDApOyB9CgovKiAicGFnZSIgY29udGFpbmVycyAtIGZ1bGwtc2NyZWVuIHZpZXdzLCBvbmUgc2hvdWxkIGFsd2F5cyBiZSBpbiB2aWV3IHBvc3QtcGFnZWxvYWQgKi8KLnVpLW1vYmlsZSBbZGF0YS1yb2xlPXBhZ2VdLCAudWktbW9iaWxlIFtkYXRhLXJvbGU9ZGlhbG9nXSwgLnVpLXBhZ2UgeyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBtaW4taGVpZ2h0OiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7IGRpc3BsYXk6IG5vbmU7IGJvcmRlcjogMDsgfSAKLnVpLW1vYmlsZSAudWktcGFnZS1hY3RpdmUgeyBkaXNwbGF5OiBibG9jazsgb3ZlcmZsb3c6IHZpc2libGU7IH0KCi8qb3JpZW50YXRpb25zIGZyb20ganMgYXJlIGF2YWlsYWJsZSAqLwoucG9ydHJhaXQsCi5wb3J0cmFpdCAudWktcGFnZSB7IG1pbi1oZWlnaHQ6IDQyMHB4OyB9Ci5sYW5kc2NhcGUsCi5sYW5kc2NhcGUgLnVpLXBhZ2UgIHsgbWluLWhlaWdodDogMzAwcHg7IH0KCi8qIG5hdGl2ZSBvdmVyZmxvdyBzY3JvbGxpbmcgKi8KLnVpLXBhZ2UudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LAoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktY29udGVudCB7CglvdmVyZmxvdzogYXV0bzsKCWhlaWdodDogMTAwJTsKCS13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKCS1tb3otb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKCS1vLW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7CgktbXMtb3ZlcmZsb3ctc2Nyb2xsaW5nOiB0b3VjaDsKCW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7Cn0KLnVpLXBhZ2UudWktbW9iaWxlLXByZS10cmFuc2l0aW9uIHsKCWRpc3BsYXk6IGJsb2NrOwp9CgovKiBsb2FkaW5nIHNjcmVlbiAqLwoudWktbG9hZGluZyAudWktbW9iaWxlLXZpZXdwb3J0IHsgb3ZlcmZsb3c6IGhpZGRlbiAhaW1wb3J0YW50OyB9Ci51aS1sb2FkaW5nIC51aS1sb2FkZXIgeyBkaXNwbGF5OiBibG9jazsgfQoudWktbG9hZGluZyAudWktcGFnZSB7IG92ZXJmbG93OiBoaWRkZW47ICB9Ci51aS1sb2FkZXIgeyBkaXNwbGF5OiBub25lOyBwb3NpdGlvbjogYWJzb2x1dGU7IG9wYWNpdHk6IC44NTsgei1pbmRleDogMTAwOyBsZWZ0OiA1MCU7IHdpZHRoOiAyMDBweDsgbWFyZ2luLWxlZnQ6IC0xMzBweDsgbWFyZ2luLXRvcDogLTM1cHg7IHBhZGRpbmc6IDEwcHggMzBweDsgfQoudWktbG9hZGVyIGgxIHsgZm9udC1zaXplOiAxNXB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IH0KLnVpLWxvYWRlciAudWktaWNvbiB7IHBvc2l0aW9uOiBzdGF0aWM7IGRpc3BsYXk6IGJsb2NrOyBvcGFjaXR5OiAuOTsgbWFyZ2luOiAwIGF1dG87IHdpZHRoOiAzNXB4OyBoZWlnaHQ6IDM1cHg7IGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50OyB9CgovKmZvdWMqLwoudWktbW9iaWxlLXJlbmRlcmluZyA+ICogeyB2aXNpYmlsaXR5OiBoaWRkZW47IH0KCi8qaGVhZGVycywgY29udGVudCBwYW5lbHMqLwoudWktYmFyLCAudWktYm9keSB7IHBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZzogLjRlbSAxNXB4OyAgb3ZlcmZsb3c6IGhpZGRlbjsgZGlzcGxheTogYmxvY2s7ICBjbGVhcjpib3RoOyAgfQoudWktYmFyIHsgZm9udC1zaXplOiAxNnB4OyBtYXJnaW46IDA7IH0KLnVpLWJhciBoMSwgLnVpLWJhciBoMiwgLnVpLWJhciBoMywgLnVpLWJhciBoNCwgLnVpLWJhciBoNSwgLnVpLWJhciBoNiB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgZm9udC1zaXplOiAxNnB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0KCi51aS1oZWFkZXIsIC51aS1mb290ZXIgeyBkaXNwbGF5OiBibG9jazsgfQoudWktcGFnZSAudWktaGVhZGVyLCAudWktcGFnZSAudWktZm9vdGVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1sZWZ0IHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAxMHB4OyB0b3A6IC40ZW07ICB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1yaWdodCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDEwcHg7IHRvcDogLjRlbTsgfQoudWktaGVhZGVyIC51aS10aXRsZSwgLnVpLWZvb3RlciAudWktdGl0bGUgeyBtaW4taGVpZ2h0OiAxLjFlbTsgdGV4dC1hbGlnbjogY2VudGVyOyBmb250LXNpemU6IDE2cHg7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IC42ZW0gOTBweCAuOGVtOyAgcGFkZGluZzogMDsgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdXRsaW5lOiAwICFpbXBvcnRhbnQ7IH0KCi8qY29udGVudCBhcmVhKi8KLnVpLWNvbnRlbnQgeyBib3JkZXItd2lkdGg6IDA7IG92ZXJmbG93OiB2aXNpYmxlOyBvdmVyZmxvdy14OiBoaWRkZW47IHBhZGRpbmc6IDE1cHg7IH0KLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktY29udGVudCB7IHBhZGRpbmc6MDsgfQoKLyogbmF0aXZlIGZpeGVkIGhlYWRlcnMgYW5kIGZvb3RlcnMgKi8KLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1wYWdlLnVpLW5hdGl2ZS1maXhlZCwKLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1wYWdlLnVpLW5hdGl2ZS1mdWxsc2NyZWVuIHsKCW92ZXJmbG93OiB2aXNpYmxlOwp9Ci51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZpeGVkIC51aS1oZWFkZXIsCi51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZpeGVkIC51aS1mb290ZXIgewoJcG9zaXRpb246IGZpeGVkOwoJbGVmdDogMDsKCXJpZ2h0OiAwOwoJdG9wOiAwOwoJei1pbmRleDogMjAwOwp9Ci51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktcGFnZS51aS1uYXRpdmUtZml4ZWQgLnVpLWZvb3RlciB7Cgl0b3A6IGF1dG87Cglib3R0b206IDA7Cn0KLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZml4ZWQgLnVpLWNvbnRlbnQgewoJcGFkZGluZy10b3A6IDIuNWVtOwoJcGFkZGluZy1ib3R0b206IDNlbTsKCXRvcDogMDsKCWJvdHRvbTogMDsKCWhlaWdodDogYXV0bzsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1mdWxsc2NyZWVuIC51aS1jb250ZW50IHsKCXBhZGRpbmctdG9wOiAwOwoJcGFkZGluZy1ib3R0b206IDA7Cn0KLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZnVsbHNjcmVlbiAudWktaGVhZGVyLAoudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1mdWxsc2NyZWVuIC51aS1mb290ZXIgewoJb3BhY2l0eTogLjk7Cn0KLnVpLW5hdGl2ZS1iYXJzLWhpZGRlbiB7CglkaXNwbGF5OiBub25lOwp9CgovKiBpY29ucyBzaXppbmcgKi8KLnVpLWljb24geyB3aWR0aDogMThweDsgaGVpZ2h0OiAxOHB4OyB9CgovKiBmdWxsc2NyZWVuIGNsYXNzIG9uIHVpLWNvbnRlbnQgZGl2ICovCi51aS1mdWxsc2NyZWVuIHsgIH0KLnVpLWZ1bGxzY3JlZW4gaW1nIHsgbWF4LXdpZHRoOiAxMDAlOyB9CgovKiBub24tanMgY29udGVudCBoaWRpbmcgKi8KLnVpLW5vanMgeyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IC05OTk5cHg7IH0KLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwouc3BpbiAgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgzNjBkZWcpOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc3BpbjsKCS13ZWJraXQtYW5pbWF0aW9uLWR1cmF0aW9uOiAxczsKCS13ZWJraXQtYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogIGluZmluaXRlOwoJLXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOiBsaW5lYXI7Cn0KQC13ZWJraXQta2V5ZnJhbWVzIHNwaW4gewoJZnJvbSB7LXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgwZGVnKTt9CiAgCXRvIHstd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7fQp9CgovKiBUcmFuc2l0aW9ucyBmcm9tIGpRdG91Y2ggKHdpdGggc21hbGwgbW9kaWZpY2F0aW9ucyk6IGh0dHA6Ly93d3cuanF0b3VjaC5jb20vCkJ1aWx0IGJ5IERhdmlkIEthbmVkYSBhbmQgbWFpbnRhaW5lZCBieSBKb25hdGhhbiBTdGFyay4KKi8KLmluLCAub3V0IHsKCS13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQ7Cgktd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogMzUwbXM7Cn0KCi5zbGlkZS5pbiB7Cgktd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlaW5mcm9tcmlnaHQ7Cn0KCi5zbGlkZS5vdXQgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVvdXR0b2xlZnQ7Cn0KCi5zbGlkZS5pbi5yZXZlcnNlIHsKCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVpbmZyb21sZWZ0Owp9Cgouc2xpZGUub3V0LnJldmVyc2UgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZW91dHRvcmlnaHQ7Cn0KCi5zbGlkZXVwLmluIHsKCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogc2xpZGVpbmZyb21ib3R0b207Cgl6LWluZGV4OiAxMDsKfQoKLnNsaWRldXAub3V0IHsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOwoJei1pbmRleDogMDsKfQoKLnNsaWRldXAub3V0LnJldmVyc2UgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7Cgl6LWluZGV4OiAxMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHNsaWRlb3V0dG9ib3R0b207Cn0KCi5zbGlkZXVwLmluLnJldmVyc2UgewoJei1pbmRleDogMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOwp9Ci5zbGlkZWRvd24uaW4gewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZWluZnJvbXRvcDsKCXotaW5kZXg6IDEwOwp9Cgouc2xpZGVkb3duLm91dCB7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBkb250bW92ZTsKCXotaW5kZXg6IDA7Cn0KCi5zbGlkZWRvd24ub3V0LnJldmVyc2UgewoJLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOwoJei1pbmRleDogMTA7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBzbGlkZW91dHRvdG9wOwp9Cgouc2xpZGVkb3duLmluLnJldmVyc2UgewoJei1pbmRleDogMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb21yaWdodCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMTAwJSk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlaW5mcm9tbGVmdCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZW91dHRvbGVmdCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoMCk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZW91dHRvcmlnaHQgewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDEwMCUpOyB9Cn0KCgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb210b3AgewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb21ib3R0b20gewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBzbGlkZW91dHRvYm90dG9tIHsKICAgIGZyb20geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgwKTsgfQogICAgdG8geyAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgxMDAlKTsgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVvdXR0b3RvcCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTEwMCUpOyB9Cn0KQC13ZWJraXQta2V5ZnJhbWVzIGZhZGVpbiB7CiAgICBmcm9tIHsgb3BhY2l0eTogMDsgfQogICAgdG8geyBvcGFjaXR5OiAxOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmYWRlb3V0IHsKICAgIGZyb20geyBvcGFjaXR5OiAxOyB9CiAgICB0byB7IG9wYWNpdHk6IDA7IH0KfQoKLmZhZGUuaW4gewoJb3BhY2l0eTogMTsKCXotaW5kZXg6IDEwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZWluOwp9Ci5mYWRlLm91dCB7Cgl6LWluZGV4OiAwOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogZmFkZW91dDsKfQoKLyogVGhlIHByb3BlcnRpZXMgaW4gdGhpcyBydWxlIGFyZSBvbmx5IG5lY2Vzc2FyeSBmb3IgdGhlICdmbGlwJyB0cmFuc2l0aW9uLgogKiBXZSBuZWVkIHNwZWNpZnkgdGhlIHBlcnNwZWN0aXZlIHRvIGNyZWF0ZSBhIHByb2plY3Rpb24gbWF0cml4LiBUaGlzIHdpbGwgYWRkCiAqIHNvbWUgZGVwdGggYXMgdGhlIGVsZW1lbnQgZmxpcHMuIFRoZSBkZXB0aCBudW1iZXIgcmVwcmVzZW50cyB0aGUgZGlzdGFuY2Ugb2YKICogdGhlIHZpZXdlciBmcm9tIHRoZSB6LXBsYW5lLiBBY2NvcmRpbmcgdG8gdGhlIENTUzMgc3BlYywgMTAwMCBpcyBhIG1vZGVyYXRlCiAqIHZhbHVlLgogKi8KLnZpZXdwb3J0LWZsaXAgewoJLXdlYmtpdC1wZXJzcGVjdGl2ZTogMTAwMDsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKfQoKLnVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nLAoudWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgLnVpLXBhZ2UgewoJd2lkdGg6IDEwMCU7CgloZWlnaHQ6IDEwMCU7CglvdmVyZmxvdzogaGlkZGVuOwp9CgouZmxpcCB7Cgktd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjogLjY1czsKCS13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47Cgktd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApOyAvKiBOZWVkZWQgdG8gd29yayBhcm91bmQgYW4gaU9TIDMuMSBidWcgdGhhdCBjYXVzZXMgbGlzdHZpZXcgdGh1bWJzIHRvIGRpc2FwcGVhciB3aGVuIC13ZWJraXQtdmlzaWJpbGl0eTpoaWRkZW4gaXMgdXNlZC4gKi8KfQoKLmZsaXAuaW4gewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwaW5mcm9tbGVmdDsKfQoKLmZsaXAub3V0IHsKCS13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBvdXR0b2xlZnQ7Cn0KCi8qIFNoYWtlIGl0IGFsbCBhYm91dCAqLwoKLmZsaXAuaW4ucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogcm90YXRlWSgwKSBzY2FsZSgxKTsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGZsaXBpbmZyb21yaWdodDsKfQoKLmZsaXAub3V0LnJldmVyc2UgewoJLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7Cgktd2Via2l0LWFuaW1hdGlvbi1uYW1lOiBmbGlwb3V0dG9yaWdodDsKfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBpbmZyb21yaWdodCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoLTE4MGRlZykgc2NhbGUoLjgpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOyB9Cn0KCkAtd2Via2l0LWtleWZyYW1lcyBmbGlwaW5mcm9tbGVmdCB7CiAgICBmcm9tIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMTgwZGVnKSBzY2FsZSguOCk7IH0KICAgIHRvIHsgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZVkoMCkgc2NhbGUoMSk7IH0KfQoKQC13ZWJraXQta2V5ZnJhbWVzIGZsaXBvdXR0b2xlZnQgewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KTsgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgZmxpcG91dHRvcmlnaHQgewogICAgZnJvbSB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDApIHNjYWxlKDEpOyB9CiAgICB0byB7IC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGVZKDE4MGRlZykgc2NhbGUoLjgpOyB9Cn0KCgovKiBIYWNraXNoLCBidXQgcmVsaWFibGUuICovCgpALXdlYmtpdC1rZXlmcmFtZXMgZG9udG1vdmUgewogICAgZnJvbSB7IG9wYWNpdHk6IDE7IH0KICAgIHRvIHsgb3BhY2l0eTogMTsgfQp9CgoucG9wIHsKCS13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogNTAlIDUwJTsKfQoKLnBvcC5pbiB7Cgktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7CiAgICBvcGFjaXR5OiAxOwoJLXdlYmtpdC1hbmltYXRpb24tbmFtZTogcG9waW47Cgl6LWluZGV4OiAxMDsKfQoKLnBvcC5vdXQucmV2ZXJzZSB7Cgktd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoLjIpOwoJb3BhY2l0eTogMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IHBvcG91dDsKCXotaW5kZXg6IDEwOwp9CgoucG9wLmluLnJldmVyc2UgewoJei1pbmRleDogMDsKCS13ZWJraXQtYW5pbWF0aW9uLW5hbWU6IGRvbnRtb3ZlOwp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcG9waW4gewogICAgZnJvbSB7CiAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKC4yKTsKICAgICAgICBvcGFjaXR5OiAwOwogICAgfQogICAgdG8gewogICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgICAgICBvcGFjaXR5OiAxOwogICAgfQp9CgpALXdlYmtpdC1rZXlmcmFtZXMgcG9wb3V0IHsKICAgIGZyb20gewogICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgxKTsKICAgICAgICBvcGFjaXR5OiAxOwogICAgfQogICAgdG8gewogICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSguMik7CiAgICAgICAgb3BhY2l0eTogMDsKICAgIH0KfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KCi8qIGNvbnRlbnQgY29uZmlndXJhdGlvbnMuICovCi51aS1ncmlkLWEsIC51aS1ncmlkLWIsIC51aS1ncmlkLWMsIC51aS1ncmlkLWQgeyBvdmVyZmxvdzogaGlkZGVuOyB9Ci51aS1ibG9jay1hLCAudWktYmxvY2stYiwgLnVpLWJsb2NrLWMsIC51aS1ibG9jay1kLCAudWktYmxvY2stZSB7IG1hcmdpbjogMDsgcGFkZGluZzogMDsgYm9yZGVyOiAwOyBmbG9hdDogbGVmdDsgbWluLWhlaWdodDoxcHg7fQoKLyogZ3JpZCBzb2xvOiAxMDAgLSBzaW5nbGUgaXRlbSBmYWxsYmFjayAqLwoudWktZ3JpZC1zb2xvIC51aS1ibG9jay1hIHsgd2lkdGg6IDEwMCU7IGZsb2F0OiBub25lOyB9CgovKiBncmlkIGE6IDUwLzUwICovCi51aS1ncmlkLWEgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWEgLnVpLWJsb2NrLWIgeyB3aWR0aDogNTAlOyB9Ci51aS1ncmlkLWEgLnVpLWJsb2NrLWEgeyBjbGVhcjogbGVmdDsgfQoKLyogZ3JpZCBiOiAzMy8zMy8zMyAqLwoudWktZ3JpZC1iIC51aS1ibG9jay1hLCAudWktZ3JpZC1iIC51aS1ibG9jay1iLCAudWktZ3JpZC1iIC51aS1ibG9jay1jIHsgd2lkdGg6IDMzLjMzMyU7IH0KLnVpLWdyaWQtYiAudWktYmxvY2stYSB7IGNsZWFyOiBsZWZ0OyB9CgovKiBncmlkIGM6IDI1LzI1LzI1LzI1ICovCi51aS1ncmlkLWMgLnVpLWJsb2NrLWEsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWIsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWMsIC51aS1ncmlkLWMgLnVpLWJsb2NrLWQgeyB3aWR0aDogMjUlOyB9Ci51aS1ncmlkLWMgLnVpLWJsb2NrLWEgeyBjbGVhcjogbGVmdDsgfQoKLyogZ3JpZCBkOiAyMC8yMC8yMC8yMC8yMCAqLwoudWktZ3JpZC1kIC51aS1ibG9jay1hLCAudWktZ3JpZC1kIC51aS1ibG9jay1iLCAudWktZ3JpZC1kIC51aS1ibG9jay1jLCAudWktZ3JpZC1kIC51aS1ibG9jay1kLCAudWktZ3JpZC1kIC51aS1ibG9jay1lIHsgd2lkdGg6IDIwJTsgfQoudWktZ3JpZC1kIC51aS1ibG9jay1hIHsgY2xlYXI6IGxlZnQ7IH0KLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwovKiBmaXhlZCBwYWdlIGhlYWRlciAmIGZvb3RlciBjb25maWd1cmF0aW9uICovCi51aS1oZWFkZXIsIC51aS1mb290ZXIsIC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWhlYWRlciwgLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZm9vdGVyICB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgIG92ZXJmbG93OiBoaWRkZW47IHdpZHRoOiAxMDAlOyBib3JkZXItbGVmdC13aWR0aDogMDsgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwOyB9Ci51aS1oZWFkZXItZml4ZWQsIC51aS1mb290ZXItZml4ZWQgewoJei1pbmRleDogMTAwMDsKCS13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApOyAvKiBGb3JjZSBoZWFkZXIvZm9vdGVyIHJlbmRlcmluZyB0byBnbyB0aHJvdWdoIHRoZSBzYW1lIHJlbmRlcmluZyBwaXBlbGluZSBhcyBuYXRpdmUgcGFnZSBzY3JvbGxpbmcuICovCn0KLnVpLWZvb3Rlci1kdXBsaWNhdGUsIC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZpeGVkLWlubGluZSB7IGRpc3BsYXk6IG5vbmU7IH0KLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktaGVhZGVyLCAudWktcGFnZS1mdWxsc2NyZWVuIC51aS1mb290ZXIgeyBvcGFjaXR5OiAuOTsgfQovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi51aS1uYXZiYXIgeyBvdmVyZmxvdzogaGlkZGVuOyAgfQoudWktbmF2YmFyIHVsLCAudWktbmF2YmFyLWV4cGFuZGVkIHVsIHsgbGlzdC1zdHlsZTpub25lOyBwYWRkaW5nOiAwOyBtYXJnaW46IDA7IHBvc2l0aW9uOiByZWxhdGl2ZTsgZGlzcGxheTogYmxvY2s7IGJvcmRlcjogMDt9Ci51aS1uYXZiYXItY29sbGFwc2VkIHVsIHsgZmxvYXQ6IGxlZnQ7IHdpZHRoOiA3NSU7IG1hcmdpbi1yaWdodDogLTJweDsgfQoudWktbmF2YmFyLWNvbGxhcHNlZCAudWktbmF2YmFyLXRvZ2dsZSB7IGZsb2F0OiBsZWZ0OyB3aWR0aDogMjUlOyB9Ci51aS1uYXZiYXIgbGkudWktbmF2YmFyLXRydW5jYXRlIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtOTk5OXB4OyB0b3A6IC05OTk5cHg7IH0KLnVpLW5hdmJhciBsaSAudWktYnRuLCAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4geyBkaXNwbGF5OiBibG9jazsgZm9udC1zaXplOiAxMnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbjogMDsgYm9yZGVyLXJpZ2h0LXdpZHRoOiAwOyB9Ci51aS1uYXZiYXIgbGkgLnVpLWJ0biB7ICBtYXJnaW4tcmlnaHQ6IC0xcHg7IH0KLnVpLW5hdmJhciBsaSAudWktYnRuOmxhc3QtY2hpbGQgeyBtYXJnaW4tcmlnaHQ6IDA7IH0KLnVpLWhlYWRlciAudWktbmF2YmFyIGxpIC51aS1idG4sIC51aS1oZWFkZXIgLnVpLW5hdmJhciAudWktbmF2YmFyLXRvZ2dsZSAudWktYnRuLAoudWktZm9vdGVyIC51aS1uYXZiYXIgbGkgLnVpLWJ0biwgLnVpLWZvb3RlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4geyBib3JkZXItdG9wLXdpZHRoOiAwOyBib3JkZXItYm90dG9tLXdpZHRoOiAwOyB9Ci51aS1uYXZiYXIgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogMnB4OyBwYWRkaW5nLXJpZ2h0OiAycHg7IH0KLnVpLW5hdmJhci1ub2ljb25zIGxpIC51aS1idG4gLnVpLWJ0bi1pbm5lciwgLnVpLW5hdmJhci1ub2ljb25zIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXRvcDogLjhlbTsgcGFkZGluZy1ib3R0b206IC45ZW07IH0KLypleHBhbmRlZCBwYWdlIHN0eWxlcyovCi51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0biB7IG1hcmdpbjogMDsgZm9udC1zaXplOiAxNHB4OyB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogNXB4OyBwYWRkaW5nLXJpZ2h0OiA1cHg7ICB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLXRvcCAudWktYnRuLWlubmVyIHsgcGFkZGluZzogNDVweCA1cHggMTVweDsgdGV4dC1hbGlnbjogY2VudGVyOyB9Ci51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiB7IHRvcDogMTVweDsgfQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IDE1cHggNXB4IDQ1cHg7IHRleHQtYWxpZ246IGNlbnRlcjsgfQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb24geyBib3R0b206IDE1cHg7IH0KLnVpLW5hdmJhci1leHBhbmRlZCBsaSAudWktYnRuIC51aS1idG4taW5uZXIgeyBtaW4taGVpZ2h0OiAyLjVlbTsgfQoudWktbmF2YmFyLWV4cGFuZGVkIC51aS1uYXZiYXItbm9pY29ucyAudWktYnRuIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXRvcDogMS44ZW07IHBhZGRpbmctYm90dG9tOiAxLjllbTsgfQovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi51aS1idG4geyBkaXNwbGF5OiBibG9jazsgdGV4dC1hbGlnbjogY2VudGVyOyBjdXJzb3I6cG9pbnRlcjsgIHBvc2l0aW9uOiByZWxhdGl2ZTsgbWFyZ2luOiAuNWVtIDVweDsgcGFkZGluZzogMDsgfQoudWktYnRuOmZvY3VzLCAudWktYnRuOmFjdGl2ZSB7IG91dGxpbmU6IG5vbmU7IH0KLnVpLWhlYWRlciAudWktYnRuLCAudWktZm9vdGVyIC51aS1idG4sIC51aS1iYXIgLnVpLWJ0biB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgZm9udC1zaXplOiAxM3B4OyBtYXJnaW46IDA7IH0KLnVpLWJ0bi1pbmxpbmUgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0KLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IC42ZW0gMjVweDsgZGlzcGxheTogYmxvY2s7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBwb3NpdGlvbjogcmVsYXRpdmU7IHpvb206IDE7IH0KLnVpLWhlYWRlciAudWktYnRuLWlubmVyLCAudWktZm9vdGVyIC51aS1idG4taW5uZXIsIC51aS1iYXIgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IC40ZW0gOHB4IC41ZW07IH0KLnVpLWJ0bi1pY29uLW5vdGV4dCB7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDIwcHg7IGhlaWdodDogMjBweDsgcGFkZGluZzogMnB4IDFweCAycHggM3B4OyB0ZXh0LWluZGVudDogLTk5OTlweDsgfQoudWktYnRuLWljb24tbm90ZXh0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nOiAwOyB9Ci51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi10ZXh0IHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiAtOTk5cHg7IH0KLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogMzNweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXIsCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciwKLnVpLWJhciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiAyN3B4OyB9Ci51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1yaWdodDogMzNweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyLAoudWktZm9vdGVyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyLAoudWktYmFyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1yaWdodDogMjdweDsgfQoudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXRvcDogMzNweDsgfQoudWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwKLnVpLWZvb3RlciAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXIsCi51aS1iYXIgLnVpLWJ0bi1pY29uLXRvcCAudWktYnRuLWlubmVyIHsgcGFkZGluZy10b3A6IDI3cHg7IH0KLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyIHsgcGFkZGluZy1ib3R0b206IDMzcHg7IH0KLnVpLWhlYWRlciAudWktYnRuLWljb24tYm90dG9tIC51aS1idG4taW5uZXIsCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLAoudWktYmFyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctYm90dG9tOiAyN3B4OyB9CgovKmJ0biBpY29uIHBvc2l0aW9uaW5nKi8KLnVpLWJ0bi1pY29uLW5vdGV4dCAudWktaWNvbiB7IGRpc3BsYXk6IGJsb2NrOyB9Ci51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLCAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtOXB4OyB9Ci51aS1idG4taWNvbi10b3AgLnVpLWljb24sIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb24geyBwb3NpdGlvbjogYWJzb2x1dGU7IGxlZnQ6IDUwJTsgIG1hcmdpbi1sZWZ0OiAtOXB4OyB9Ci51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uIHsgbGVmdDogMTBweDsgfQoudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24ge3JpZ2h0OiAxMHB4OyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24sCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24sCi51aS1iYXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24geyBsZWZ0OiA0cHg7IH0KLnVpLWhlYWRlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sCi51aS1mb290ZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29uLAoudWktYmFyIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7IHJpZ2h0OiA0cHg7IH0KLnVpLWhlYWRlciAudWktYnRuLWljb24tdG9wIC51aS1pY29uLAoudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sCi51aS1iYXIgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiB7IHRvcDogNHB4OyB9Ci51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiwKLnVpLWZvb3RlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLAoudWktYmFyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb24geyBib3R0b206IDRweDsgfQoudWktYnRuLWljb24tdG9wIC51aS1pY29uIHsgdG9wOiA1cHg7IH0KLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiB7IGJvdHRvbTogNXB4OyB9Ci8qaGlkaW5nIG5hdGl2ZSBidXR0b24saW5wdXRzICovCi51aS1idG4taGlkZGVuIHsgIHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAtd2Via2l0LWFwcGVhcmFuY2U6IGJ1dHRvbjsgb3BhY2l0eTogMDsgY3Vyc29yOiBwb2ludGVyOyAtbXMtZmlsdGVyOiAicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9MCkiOyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OyB9Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4geyBtYXJnaW46IC41ZW0gMDsgfQoudWktY29sbGFwc2libGUtaGVhZGluZyB7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogYmxvY2s7IG1hcmdpbjogMCAtOHB4OyBwYWRkaW5nOiAwOyBib3JkZXItd2lkdGg6IDAgMCAxcHggMDsgcG9zaXRpb246IHJlbGF0aXZlOyB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgeyB0ZXh0LWFsaWduOiBsZWZ0OyBtYXJnaW46IDA7ICB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogNDBweDsgfQoudWktY29sbGFwc2libGUtaGVhZGluZyBhIHNwYW4udWktYnRuIHsgcG9zaXRpb246IGFic29sdXRlOyBsZWZ0OiA2cHg7IHRvcDogNTAlOyBtYXJnaW46IC0xMnB4IDAgMCAwOyB3aWR0aDogMjBweDsgaGVpZ2h0OiAyMHB4OyBwYWRkaW5nOiAxcHggMHB4IDFweCAycHg7IHRleHQtaW5kZW50OiAtOTk5OXB4OyB9Ci51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG4gLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmc6IDEwcHggMDsgfQoudWktY29sbGFwc2libGUtaGVhZGluZyBhIHNwYW4udWktYnRuIC51aS1pY29uIHsgbGVmdDogMDsgbWFyZ2luLXRvcDogLTEwcHg7IH0KLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIHsgcG9zaXRpb246YWJzb2x1dGU7IGxlZnQ6LTk5OTlweDsgfQoudWktY29sbGFwc2libGUtY29udGVudCB7ICBkaXNwbGF5OiBibG9jazsgcGFkZGluZzogMTBweCAwIDEwcHggOHB4OyB9Ci51aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCB7IGRpc3BsYXk6IG5vbmU7IH0KCi51aS1jb2xsYXBzaWJsZS1zZXQgeyBtYXJnaW46IC41ZW0gMDsgfQoudWktY29sbGFwc2libGUtc2V0IC51aS1jb2xsYXBzaWJsZS1jb250YWluIHsgbWFyZ2luOiAtMXB4IDAgMDsgfQovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCi51aS1jb250cm9sZ3JvdXAsIGZpZWxkc2V0LnVpLWNvbnRyb2xncm91cCB7IHBhZGRpbmc6IDA7IG1hcmdpbjogLjVlbSAwIDFlbTsgfQoudWktYmFyIC51aS1jb250cm9sZ3JvdXAgeyBtYXJnaW46IDAgLjNlbTsgfQoudWktY29udHJvbGdyb3VwLWxhYmVsIHsgZm9udC1zaXplOiAxNnB4OyBsaW5lLWhlaWdodDogMS40OyBmb250LXdlaWdodDogbm9ybWFsOyBtYXJnaW46IDAgMCAuM2VtOyB9Ci51aS1jb250cm9sZ3JvdXAtY29udHJvbHMgeyBkaXNwbGF5OiBibG9jazsgd2lkdGg6IDk1JTt9Ci51aS1jb250cm9sZ3JvdXAgbGkgeyBsaXN0LXN0eWxlOiBub25lOyB9Ci51aS1jb250cm9sZ3JvdXAtdmVydGljYWwgLnVpLWJ0biwKLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktY2hlY2tib3gsIC51aS1jb250cm9sZ3JvdXAtdmVydGljYWwgLnVpLXJhZGlvIHsgbWFyZ2luOiAwOyBib3JkZXItYm90dG9tLXdpZHRoOiAwOyAgfQoudWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1jb250cm9sZ3JvdXAtbGFzdCB7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgfQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgeyBwYWRkaW5nOiAwOyB9Ci51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktYnRuLAoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94LCAudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlvIHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBtYXJnaW46IDAgLTVweCAwIDA7IH0KLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jaGVja2JveCwgLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpbyB7IGRpc3BsYXk6IGlubGluZTsgfQoudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94IC51aS1idG4sIC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktcmFkaW8gLnVpLWJ0biwKLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jaGVja2JveDpsYXN0LWNoaWxkLCAudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlvOmxhc3QtY2hpbGQgeyBtYXJnaW4tcmlnaHQ6IDA7IH0KLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jb250cm9sZ3JvdXAtbGFzdCB7IG1hcmdpbi1yaWdodDogMDsgfQoudWktY29udHJvbGdyb3VwIC51aS1jaGVja2JveCBsYWJlbCwgLnVpLWNvbnRyb2xncm91cCAudWktcmFkaW8gbGFiZWwgeyBmb250LXNpemU6IDE2cHg7ICB9Ci8qIGNvbmZsaWN0cyB3aXRoIGxpc3R2aWV3Li4KLnVpLWNvbnRyb2xncm91cCAudWktYnRuLWljb24tbm90ZXh0IHsgd2lkdGg6IDMwcHg7IGhlaWdodDogMzBweDsgdGV4dC1pbmRlbnQ6IC05OTk5cHg7IH0KLnVpLWNvbnRyb2xncm91cCAudWktYnRuLWljb24tbm90ZXh0IC51aS1idG4taW5uZXIgeyAgcGFkZGluZzogNXB4IDZweCA1cHggNXB4OyB9CiovCgpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0NTBweCl7CgkudWktY29udHJvbGdyb3VwLWxhYmVsIHsgdmVydGljYWwtYWxpZ246IHRvcDsgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgd2lkdGg6IDIwJTsgIG1hcmdpbjogMCAyJSAwIDA7ICB9CgkudWktY29udHJvbGdyb3VwLWNvbnRyb2xzIHsgd2lkdGg6IDYwJTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyB9IAp9CS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWRpYWxvZyB7IG1pbi1oZWlnaHQ6IDQ4MHB4OyB9Ci51aS1kaWFsb2cgLnVpLWhlYWRlciwgLnVpLWRpYWxvZyAudWktY29udGVudCwgIC51aS1kaWFsb2cgLnVpLWZvb3RlciB7IG1hcmdpbjogMTVweDsgcG9zaXRpb246IHJlbGF0aXZlOyB9Ci51aS1kaWFsb2cgLnVpLWhlYWRlciwgLnVpLWRpYWxvZyAudWktZm9vdGVyIHsgei1pbmRleDogMTA7IHdpZHRoOiBhdXRvOyB9Ci51aS1kaWFsb2cgLnVpLWNvbnRlbnQsIC51aS1kaWFsb2cgLnVpLWZvb3RlciB7IG1hcmdpbi10b3A6IC0xNXB4OyAgfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWNoZWNrYm94LCAudWktcmFkaW8geyBwb3NpdGlvbjpyZWxhdGl2ZTsgIG1hcmdpbjogLjJlbSAwIC41ZW07IHotaW5kZXg6IDE7ICB9Ci51aS1jaGVja2JveCAudWktYnRuLCAudWktcmFkaW8gLnVpLWJ0biB7IG1hcmdpbjogMDsgdGV4dC1hbGlnbjogbGVmdDsgei1pbmRleDogMjsgfQoudWktY2hlY2tib3ggLnVpLWJ0bi1pbm5lciwgLnVpLXJhZGlvIC51aS1idG4taW5uZXIgeyB3aGl0ZS1zcGFjZTogbm9ybWFsOyB9Ci51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLC51aS1yYWRpbyAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1sZWZ0OiA0NXB4OyB9Ci51aS1jaGVja2JveCAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciwgLnVpLXJhZGlvIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVyIHsgcGFkZGluZy1yaWdodDogNDVweDsgfQoudWktY2hlY2tib3ggLnVpLWljb24sIC51aS1yYWRpbyAudWktaWNvbiB7IHRvcDogMS4xZW07IH0KLnVpLWNoZWNrYm94IC51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLCAudWktcmFkaW8gLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb24ge2xlZnQ6IDE1cHg7IH0KLnVpLWNoZWNrYm94IC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiwgLnVpLXJhZGlvIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7cmlnaHQ6IDE1cHg7IH0KLyogaW5wdXQsIGxhYmVsIHBvc2l0aW9uaW5nICovCi51aS1jaGVja2JveCBpbnB1dCwudWktcmFkaW8gaW5wdXQgeyBwb3NpdGlvbjphYnNvbHV0ZTsgbGVmdDoyMHB4OyB0b3A6NTAlOyB3aWR0aDogMTBweDsgaGVpZ2h0OiAxMHB4OyAgbWFyZ2luOi01cHggMCAwIDA7IG91dGxpbmU6IDAgIWltcG9ydGFudDsgei1pbmRleDogMTsgfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWZpZWxkLWNvbnRhaW4geyBwYWRkaW5nOiAxLjVlbSAwOyBtYXJnaW46IDA7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgb3ZlcmZsb3c6IHZpc2libGU7IH0KLnVpLWZpZWxkLWNvbnRhaW46Zmlyc3QtY2hpbGQgeyBib3JkZXItdG9wLXdpZHRoOiAwOyB9CkBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6IDQ1MHB4KXsKCS51aS1maWVsZC1jb250YWluIHsgYm9yZGVyLXdpZHRoOiAwOyBwYWRkaW5nOiAwOyBtYXJnaW46IDFlbSAwOyB9Cn0JLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yawoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgb3IgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoudWktc2VsZWN0IHsgZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiByZWxhdGl2ZTsgfQoudWktc2VsZWN0IHNlbGVjdCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogLTk5OTlweDsgdG9wOiAtOTk5OXB4OyB9Ci51aS1zZWxlY3QgLnVpLWJ0biB7IG92ZXJmbG93OiBoaWRkZW47IH0KLnVpLXNlbGVjdCAudWktYnRuIHNlbGVjdCB7IGN1cnNvcjogcG9pbnRlcjsgLXdlYmtpdC1hcHBlYXJhbmNlOiBidXR0b247IGxlZnQ6IDA7IHRvcDowOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBvcGFjaXR5OiAwOyAtbXMtZmlsdGVyOiAicHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0LkFscGhhKE9wYWNpdHk9MCkiOyBmaWx0ZXI6IGFscGhhKG9wYWNpdHk9MCk7IH0KQC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpIHsudWktc2VsZWN0IC51aS1idG4gc2VsZWN0IHsgb3BhY2l0eTogMC4wMDAxOyB9fQoudWktc2VsZWN0IC51aS1idG4gc2VsZWN0LnVpLXNlbGVjdC1uYXRpdmVvbmx5IHsgb3BhY2l0eTogMTsgdGV4dC1pbmRlbnQ6IDA7IH0KCi51aS1zZWxlY3QgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nLXJpZ2h0OiA0NXB4OyB9IAoudWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbiB7IHJpZ2h0OiAxNXB4OyAgfQoKLyogbGFiZWxzICovCmxhYmVsLnVpLXNlbGVjdCB7IGZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNDsgIGZvbnQtd2VpZ2h0OiBub3JtYWw7IG1hcmdpbjogMCAwIC4zZW07IGRpc3BsYXk6IGJsb2NrOyB9CgovKmxpc3Rib3gqLwoudWktc2VsZWN0IC51aS1idG4tdGV4dCwgLnVpLXNlbGVjdG1lbnUgLnVpLWJ0bi10ZXh0IHsgZGlzcGxheTogYmxvY2s7IG1pbi1oZWlnaHQ6IDFlbTsgfQoudWktc2VsZWN0IC51aS1idG4tdGV4dCB7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuO30KCi51aS1zZWxlY3RtZW51IHsgcG9zaXRpb246IGFic29sdXRlOyBwYWRkaW5nOiAwOyB6LWluZGV4OiAxMDAgIWltcG9ydGFudDsgd2lkdGg6IDgwJTsgbWF4LXdpZHRoOiAzNTBweDsgcGFkZGluZzogNnB4OyB9Ci51aS1zZWxlY3RtZW51IC51aS1saXN0dmlldyB7IG1hcmdpbjogMDsgfQoudWktc2VsZWN0bWVudSAudWktYnRuLnVpLWxpLWRpdmlkZXIgeyBjdXJzb3I6IGRlZmF1bHQ7IH0KLnVpLXNlbGVjdG1lbnUtaGlkZGVuIHsgdG9wOiAtOTk5OXB4OyBsZWZ0OiAtOTk5OXB4OyB9Ci51aS1zZWxlY3RtZW51LXNjcmVlbiB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyAgei1pbmRleDogOTk7IH0KLnVpLXNjcmVlbi1oaWRkZW4sIC51aS1zZWxlY3RtZW51LWxpc3QgLnVpLWxpIC51aS1pY29uIHsgZGlzcGxheTogbm9uZTsgfQoudWktc2VsZWN0bWVudS1saXN0IC51aS1saSAudWktaWNvbiB7IGRpc3BsYXk6IGJsb2NrOyB9Ci51aS1saS51aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIHsgZGlzcGxheTogbm9uZTsgfQoudWktc2VsZWN0bWVudSAudWktaGVhZGVyIC51aS10aXRsZSB7IG1hcmdpbjogMC42ZW0gNDZweCAwLjhlbTsgfQoKQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDUwcHgpewoJbGFiZWwudWktc2VsZWN0IHsgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgd2lkdGg6IDIwJTsgIG1hcmdpbjogMCAyJSAwIDA7IH0KCS51aS1zZWxlY3QgeyB3aWR0aDogNjAlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IH0KfQkKCi8qIHdoZW4gbm8gcGxhY2Vob2xkZXIgaXMgZGVmaW5lZCBpbiBhIG11bHRpcGxlIHNlbGVjdCwgdGhlIGhlYWRlciBoZWlnaHQgZG9lc24ndCBldmVuIGV4dGVuZCBwYXN0IHRoZSBjbG9zZSBidXR0b24uICB0aGlzIHNoaW0ncyBjb250ZW50IGluIHRoZXJlICovCi51aS1zZWxlY3RtZW51IC51aS1oZWFkZXIgaDE6YWZ0ZXIgeyBjb250ZW50OiAnLic7IHZpc2liaWxpdHk6IGhpZGRlbjsgfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KbGFiZWwudWktaW5wdXQtdGV4dCB7IGZvbnQtc2l6ZTogMTZweDsgbGluZS1oZWlnaHQ6IDEuNDsgZGlzcGxheTogYmxvY2s7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IG1hcmdpbjogMCAwIC4zZW07IH0KaW5wdXQudWktaW5wdXQtdGV4dCwgdGV4dGFyZWEudWktaW5wdXQtdGV4dCB7IGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7IHBhZGRpbmc6IC40ZW07IGxpbmUtaGVpZ2h0OiAxLjQ7IGZvbnQtc2l6ZTogMTZweDsgZGlzcGxheTogYmxvY2s7IHdpZHRoOiA5NSU7IH0KaW5wdXQudWktaW5wdXQtdGV4dCB7IC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsgfQp0ZXh0YXJlYS51aS1pbnB1dC10ZXh0IHsgaGVpZ2h0OiA1MHB4OyAtd2Via2l0LXRyYW5zaXRpb246IGhlaWdodCAyMDBtcyBsaW5lYXI7IC1tb3otdHJhbnNpdGlvbjogaGVpZ2h0IDIwMG1zIGxpbmVhcjsgLW8tdHJhbnNpdGlvbjogaGVpZ2h0IDIwMG1zIGxpbmVhcjsgdHJhbnNpdGlvbjogaGVpZ2h0IDIwMG1zIGxpbmVhcjsgfQoudWktaW5wdXQtc2VhcmNoIHsgcGFkZGluZzogMCAzMHB4OyB3aWR0aDogNzclOyBiYWNrZ3JvdW5kLXBvc2l0aW9uOiA4cHggNTAlOyBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OyBwb3NpdGlvbjogcmVsYXRpdmU7IH0KLnVpLWlucHV0LXNlYXJjaCBpbnB1dC51aS1pbnB1dC10ZXh0IHsgYm9yZGVyOiBub25lOyB3aWR0aDogOTglOyBwYWRkaW5nOiAuNGVtIDA7IG1hcmdpbjogMDsgZGlzcGxheTogYmxvY2s7IGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IG5vbmU7IG91dGxpbmU6IDAgIWltcG9ydGFudDsgfQoudWktaW5wdXQtc2VhcmNoIC51aS1pbnB1dC1jbGVhciB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgcmlnaHQ6IDA7IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtMTRweDsgfQoudWktaW5wdXQtc2VhcmNoIC51aS1pbnB1dC1jbGVhci1oaWRkZW4geyBkaXNwbGF5OiBub25lOyB9CgovKiBvcmllbnRhdGlvbiBhZGp1c3RtZW50cyAtIGluY29tcGxldGUhKi8KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDUwcHgpewoJbGFiZWwudWktaW5wdXQtdGV4dCAgeyB2ZXJ0aWNhbC1hbGlnbjogdG9wOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMCB9CglpbnB1dC51aS1pbnB1dC10ZXh0LCAKCXRleHRhcmVhLnVpLWlucHV0LXRleHQsIAoJLnVpLWlucHV0LXNlYXJjaCB7IHdpZHRoOiA2MCU7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgfSAKCS51aS1pbnB1dC1zZWFyY2ggeyB3aWR0aDogNTAlOyB9CgkudWktaW5wdXQtc2VhcmNoIGlucHV0LnVpLWlucHV0LXRleHQgeyB3aWR0aDogOTglOyAvKmVjaG9zIHJ1bGUgZnJvbSBhYm92ZSovIH0KfS8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIChNSVQtTElDRU5TRS50eHQpIG9yIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KLnVpLWxpc3R2aWV3IHsgbWFyZ2luOiAwOyBjb3VudGVyLXJlc2V0OiBsaXN0bnVtYmVyaW5nOyB9Ci51aS1jb250ZW50IC51aS1saXN0dmlldyB7IG1hcmdpbjogLTE1cHg7IH0KLnVpLWNvbnRlbnQgLnVpLWxpc3R2aWV3LWluc2V0IHsgbWFyZ2luOiAxZW0gMDsgIH0KLnVpLWxpc3R2aWV3LCAudWktbGkgeyBsaXN0LXN0eWxlOm5vbmU7IHBhZGRpbmc6MDsgfQoudWktbGksIC51aS1saS51aS1maWVsZC1jb250YWluIHsgZGlzcGxheTogYmxvY2s7IG1hcmdpbjowOyBwb3NpdGlvbjogcmVsYXRpdmU7IG92ZXJmbG93OiB2aXNpYmxlOyB0ZXh0LWFsaWduOiBsZWZ0OyBib3JkZXItd2lkdGg6IDA7IGJvcmRlci10b3Atd2lkdGg6IDFweDsgfQoudWktbGkgLnVpLWJ0bi10ZXh0IGEudWktbGluay1pbmhlcml0IHsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7ICB9Ci51aS1saS1kaXZpZGVyLCAudWktbGktc3RhdGljIHsgcGFkZGluZzogLjVlbSAxNXB4OyBmb250LXNpemU6IDE0cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyAgfQoudWktbGktZGl2aWRlciB7IGNvdW50ZXItcmVzZXQ6IGxpc3RudW1iZXJpbmc7ICB9Cm9sLnVpLWxpc3R2aWV3IC51aS1saW5rLWluaGVyaXQ6YmVmb3JlLCBvbC51aS1saXN0dmlldyAudWktbGktc3RhdGljOmJlZm9yZSwgLnVpLWxpLWRlYyB7IGZvbnQtc2l6ZTogLjhlbTsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nLXJpZ2h0OiAuM2VtOyBmb250LXdlaWdodDogbm9ybWFsO2NvdW50ZXItaW5jcmVtZW50OiBsaXN0bnVtYmVyaW5nOyBjb250ZW50OiBjb3VudGVyKGxpc3RudW1iZXJpbmcpICIuICI7IH0Kb2wudWktbGlzdHZpZXcgLnVpLWxpLWpzbnVtYmVyaW5nOmJlZm9yZSB7IGNvbnRlbnQ6ICIiICFpbXBvcnRhbnQ7IH0gLyogdG8gYXZvaWQgY2hhbmNlIG9mIGR1cGxpY2F0aW9uICovCi51aS1saXN0dmlldy1pbnNldCAudWktbGkgeyBib3JkZXItcmlnaHQtd2lkdGg6IDFweDsgYm9yZGVyLWxlZnQtd2lkdGg6IDFweDsgfQoudWktbGk6bGFzdC1jaGlsZCwgLnVpLWxpLnVpLWZpZWxkLWNvbnRhaW46bGFzdC1jaGlsZCB7IGJvcmRlci1ib3R0b20td2lkdGg6IDFweDsgfQoudWktbGk+LnVpLWJ0bi1pbm5lciB7IGRpc3BsYXk6IGJsb2NrOyBwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmc6IDA7IH0KLnVpLWxpIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGkgeyBwYWRkaW5nOiAuN2VtIDE1cHggLjdlbSAxNXB4OyBkaXNwbGF5OiBibG9jazsgfQoudWktbGktaGFzLXRodW1iIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLXRodW1iICB7IG1pbi1oZWlnaHQ6IDYwcHg7IHBhZGRpbmctbGVmdDogMTAwcHg7IH0KLnVpLWxpLWhhcy1pY29uIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLWljb24geyAgbWluLWhlaWdodDogMjBweDsgcGFkZGluZy1sZWZ0OiA0MHB4OyB9Ci51aS1saS1oYXMtY291bnQgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtY291bnQgeyBwYWRkaW5nLXJpZ2h0OiA0NXB4OyB9Ci51aS1saS1oYXMtYXJyb3cgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwgLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtYXJyb3cgeyBwYWRkaW5nLXJpZ2h0OiAzMHB4OyB9Ci51aS1saS1oYXMtYXJyb3cudWktbGktaGFzLWNvdW50IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLWFycm93LnVpLWxpLWhhcy1jb3VudCB7IHBhZGRpbmctcmlnaHQ6IDc1cHg7IH0KLnVpLWxpLWhlYWRpbmcgeyBmb250LXNpemU6IDE2cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBkaXNwbGF5OiBibG9jazsgbWFyZ2luOiAuNmVtIDA7IHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzOyBvdmVyZmxvdzogaGlkZGVuOyB3aGl0ZS1zcGFjZTogbm93cmFwOyAgfQoudWktbGktZGVzYyB7ICBmb250LXNpemU6IDEycHg7IGZvbnQtd2VpZ2h0OiBub3JtYWw7IGRpc3BsYXk6IGJsb2NrOyBtYXJnaW46IC0uNWVtIDAgLjZlbTsgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7IG92ZXJmbG93OiBoaWRkZW47IHdoaXRlLXNwYWNlOiBub3dyYXA7IH0KLnVpLWxpLXRodW1iLCAudWktbGktaWNvbiB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogMXB4OyB0b3A6IDA7IG1heC1oZWlnaHQ6IDgwcHg7IG1heC13aWR0aDogODBweDsgfQoudWktbGktaWNvbiB7IG1heC1oZWlnaHQ6IDQwcHg7IG1heC13aWR0aDogNDBweDsgbGVmdDogMTBweDsgdG9wOiAuOWVtOyB9Ci51aS1saS10aHVtYiwgLnVpLWxpLWljb24sIC51aS1saS1jb250ZW50IHsgZmxvYXQ6IGxlZnQ7IG1hcmdpbi1yaWdodDogMTBweDsgfQoKLnVpLWxpLWFzaWRlIHsgZmxvYXQ6IHJpZ2h0OyB3aWR0aDogNTAlOyB0ZXh0LWFsaWduOiByaWdodDsgbWFyZ2luOiAuM2VtIDA7IH0KQG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDogNDgwcHgpewoJIC51aS1saS1hc2lkZSB7IHdpZHRoOiA0NSU7IH0KfQkgCi51aS1saS1kaXZpZGVyIHsgY3Vyc29yOiBkZWZhdWx0OyB9Ci51aS1saS1oYXMtYWx0IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsIC51aS1saS1zdGF0aWMudWktbGktaGFzLWFsdCB7IHBhZGRpbmctcmlnaHQ6IDk1cHg7IH0KLnVpLWxpLWNvdW50IHsgcG9zaXRpb246IGFic29sdXRlOyBmb250LXNpemU6IDExcHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBwYWRkaW5nOiAuMmVtIC41ZW07IHRvcDogNTAlOyBtYXJnaW4tdG9wOiAtLjllbTsgcmlnaHQ6IDM4cHg7IH0KLnVpLWxpLWRpdmlkZXIgLnVpLWxpLWNvdW50LCAudWktbGktc3RhdGljIC51aS1saS1jb3VudCB7IHJpZ2h0OiAxMHB4OyB9Ci51aS1saS1oYXMtYWx0IC51aS1saS1jb3VudCB7IHJpZ2h0OiA1NXB4OyB9Ci51aS1saS1saW5rLWFsdCB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDQwcHg7IGhlaWdodDogMTAwJTsgYm9yZGVyLXdpZHRoOiAwOyBib3JkZXItbGVmdC13aWR0aDogMXB4OyB0b3A6IDA7IHJpZ2h0OiAwOyBtYXJnaW46IDA7IHBhZGRpbmc6IDA7IH0KLnVpLWxpLWxpbmstYWx0IC51aS1idG4geyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogYWJzb2x1dGU7IHJpZ2h0OiA4cHg7IHRvcDogNTAlOyBtYXJnaW46IC0xMXB4IDAgMCAwOyBib3JkZXItYm90dG9tLXdpZHRoOiAxcHg7IH0KLnVpLWxpLWxpbmstYWx0IC51aS1idG4taW5uZXIgeyBwYWRkaW5nOiAwOyBwb3NpdGlvbjogc3RhdGljOyB9Ci51aS1saS1saW5rLWFsdCAudWktYnRuIC51aS1pY29uIHsgcmlnaHQ6IDUwJTsgbWFyZ2luLXJpZ2h0OiAtOXB4OyAgfQoKLnVpLWxpc3R2aWV3LWZpbHRlciB7IGJvcmRlci13aWR0aDogMDsgb3ZlcmZsb3c6IGhpZGRlbjsgbWFyZ2luOiAtMTVweCAtMTVweCAxNXB4IC0xNXB4IH0KLnVpLWxpc3R2aWV3LWZpbHRlciAudWktaW5wdXQtc2VhcmNoIHsgbWFyZ2luOiA1cHg7IHdpZHRoOiBhdXRvOyBkaXNwbGF5OiBibG9jazsgfQoKLnVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCB7IG1hcmdpbjogLTE1cHggLTVweCAtMTVweCAtNXB4OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgfQoudWktbGkudWktc2NyZWVuLWhpZGRlbntkaXNwbGF5Om5vbmU7fQovKiBPZGQgaVBhZCBwb3NpdGlvbmluZyBpc3N1ZS4gKi8KQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS13aWR0aDogNzY4cHgpIGFuZCAobWF4LWRldmljZS13aWR0aDogMTAyNHB4KSB7CiAgICAudWktbGkgLnVpLWJ0bi10ZXh0IHsgb3ZlcmZsb3c6ICB2aXNpYmxlOyB9Cn0vKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBvciBHUEwgKEdQTC1MSUNFTlNFLnR4dCkgbGljZW5zZXMuCiovCmxhYmVsLnVpLXNsaWRlciB7IGRpc3BsYXk6IGJsb2NrOyB9CmlucHV0LnVpLXNsaWRlci1pbnB1dCAgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA1MHB4OyB9CnNlbGVjdC51aS1zbGlkZXItc3dpdGNoIHsgZGlzcGxheTogbm9uZTsgfQpkaXYudWktc2xpZGVyIHsgcG9zaXRpb246IHJlbGF0aXZlOyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IG92ZXJmbG93OiB2aXNpYmxlOyBoZWlnaHQ6IDE1cHg7IHBhZGRpbmc6IDA7IG1hcmdpbjogMCAyJSAwIDIwcHg7IHRvcDogNHB4OyB3aWR0aDogNjYlOyB9CmEudWktc2xpZGVyLWhhbmRsZSB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgei1pbmRleDogMTA7ICB0b3A6IDUwJTsgd2lkdGg6IDI4cHg7IGhlaWdodDogMjhweDsgbWFyZ2luLXRvcDogLTE1cHg7IG1hcmdpbi1sZWZ0OiAtMTVweDsgfQphLnVpLXNsaWRlci1oYW5kbGUgLnVpLWJ0bi1pbm5lciB7IHBhZGRpbmctbGVmdDogMDsgcGFkZGluZy1yaWdodDogMDsgfQpAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOiA0ODBweCl7CglsYWJlbC51aS1zbGlkZXIgeyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7ICB3aWR0aDogMjAlOyAgbWFyZ2luOiAwIDIlIDAgMDsgfQoJZGl2LnVpLXNsaWRlciB7IHdpZHRoOiA0NSU7IH0KfQkKCmRpdi51aS1zbGlkZXItc3dpdGNoIHsgaGVpZ2h0OiAzMnB4OyAgb3ZlcmZsb3c6IGhpZGRlbjsgbWFyZ2luLWxlZnQ6IDA7IH0KZGl2LnVpLXNsaWRlci1pbm5lcm9mZnNldCB7IG1hcmdpbi1sZWZ0OiA1MCU7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAxcHg7IGhlaWdodDogMTAwJTsgd2lkdGg6IDUwJTsgfQphLnVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmcgeyAtd2Via2l0LXRyYW5zaXRpb246IGxlZnQgMTAwbXMgbGluZWFyOyB9CmRpdi51aS1zbGlkZXItbGFiZWxiZyB7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOjA7IG1hcmdpbjogMDsgYm9yZGVyLXdpZHRoOiAwOyB9CmRpdi51aS1zbGlkZXItc3dpdGNoIGRpdi51aS1zbGlkZXItbGFiZWxiZy1hIHsgd2lkdGg6IDYwJTsgaGVpZ2h0OiAxMDAlOyBsZWZ0OiAwOyB9CmRpdi51aS1zbGlkZXItc3dpdGNoIGRpdi51aS1zbGlkZXItbGFiZWxiZy1iIHsgd2lkdGg6IDYwJTsgaGVpZ2h0OiAxMDAlOyByaWdodDogMDsgfQoudWktc2xpZGVyLXN3aXRjaC1hIGRpdi51aS1zbGlkZXItbGFiZWxiZy1hLCAudWktc2xpZGVyLXN3aXRjaC1iIGRpdi51aS1zbGlkZXItbGFiZWxiZy1iIHsgei1pbmRleDogLTE7IH0KLnVpLXNsaWRlci1zd2l0Y2gtYSBkaXYudWktc2xpZGVyLWxhYmVsYmctYiwgLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYSB7IHotaW5kZXg6IDA7IH0KCmRpdi51aS1zbGlkZXItc3dpdGNoIGEudWktc2xpZGVyLWhhbmRsZSB7IHotaW5kZXg6IDIwOyAgd2lkdGg6IDEwMSU7IGhlaWdodDogMzJweDsgbWFyZ2luLXRvcDogLTE4cHg7IG1hcmdpbi1sZWZ0OiAtMTAxJTsgfQpzcGFuLnVpLXNsaWRlci1sYWJlbCB7IHdpZHRoOiAxMDAlOyBwb3NpdGlvbjogYWJzb2x1dGU7aGVpZ2h0OiAzMnB4OyAgZm9udC1zaXplOiAxNnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IGxpbmUtaGVpZ2h0OiAyOyBiYWNrZ3JvdW5kOiBub25lOyBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50OyB9CnNwYW4udWktc2xpZGVyLWxhYmVsLWEgeyBsZWZ0OiAtMTAwJTsgIG1hcmdpbi1yaWdodDogLTFweCB9CnNwYW4udWktc2xpZGVyLWxhYmVsLWIgeyByaWdodDogLTEwMCU7ICBtYXJnaW4tbGVmdDogLTFweCB9Cg==", "content_type": "text/css"}, "js-libraries/jquery-mobile/jquery.mobile-1.0b2.js": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIyCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCi8qIQogKiBqUXVlcnkgVUkgV2lkZ2V0IEBWRVJTSU9OCiAqCiAqIENvcHlyaWdodCAyMDEwLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9XaWRnZXQKICovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKLy8galF1ZXJ5IDEuNCsKaWYgKCAkLmNsZWFuRGF0YSApIHsKCXZhciBfY2xlYW5EYXRhID0gJC5jbGVhbkRhdGE7CgkkLmNsZWFuRGF0YSA9IGZ1bmN0aW9uKCBlbGVtcyApIHsKCQlmb3IgKCB2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHsKCQkJJCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCAicmVtb3ZlIiApOwoJCX0KCQlfY2xlYW5EYXRhKCBlbGVtcyApOwoJfTsKfSBlbHNlIHsKCXZhciBfcmVtb3ZlID0gJC5mbi5yZW1vdmU7CgkkLmZuLnJlbW92ZSA9IGZ1bmN0aW9uKCBzZWxlY3Rvciwga2VlcERhdGEgKSB7CgkJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJaWYgKCAha2VlcERhdGEgKSB7CgkJCQlpZiAoICFzZWxlY3RvciB8fCAkLmZpbHRlciggc2VsZWN0b3IsIFsgdGhpcyBdICkubGVuZ3RoICkgewoJCQkJCSQoICIqIiwgdGhpcyApLmFkZCggWyB0aGlzIF0gKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkkKCB0aGlzICkudHJpZ2dlckhhbmRsZXIoICJyZW1vdmUiICk7CgkJCQkJfSk7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIF9yZW1vdmUuY2FsbCggJCh0aGlzKSwgc2VsZWN0b3IsIGtlZXBEYXRhICk7CgkJfSk7Cgl9Owp9CgokLndpZGdldCA9IGZ1bmN0aW9uKCBuYW1lLCBiYXNlLCBwcm90b3R5cGUgKSB7Cgl2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggIi4iIClbIDAgXSwKCQlmdWxsTmFtZTsKCW5hbWUgPSBuYW1lLnNwbGl0KCAiLiIgKVsgMSBdOwoJZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyAiLSIgKyBuYW1lOwoKCWlmICggIXByb3RvdHlwZSApIHsKCQlwcm90b3R5cGUgPSBiYXNlOwoJCWJhc2UgPSAkLldpZGdldDsKCX0KCgkvLyBjcmVhdGUgc2VsZWN0b3IgZm9yIHBsdWdpbgoJJC5leHByWyAiOiIgXVsgZnVsbE5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiAhISQuZGF0YSggZWxlbSwgbmFtZSApOwoJfTsKCgkkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9OwoJJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkgewoJCS8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCApIHsKCQkJdGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7CgkJfQoJfTsKCgl2YXIgYmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7CgkvLyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2UKCS8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmUKCS8vIGluaGVyaXRpbmcgZnJvbQovLwkkLmVhY2goIGJhc2VQcm90b3R5cGUsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHsKLy8JCWlmICggJC5pc1BsYWluT2JqZWN0KHZhbCkgKSB7Ci8vCQkJYmFzZVByb3RvdHlwZVsga2V5IF0gPSAkLmV4dGVuZCgge30sIHZhbCApOwovLwkJfQovLwl9KTsKCWJhc2VQcm90b3R5cGUub3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7CgkkWyBuYW1lc3BhY2UgXVsgbmFtZSBdLnByb3RvdHlwZSA9ICQuZXh0ZW5kKCB0cnVlLCBiYXNlUHJvdG90eXBlLCB7CgkJbmFtZXNwYWNlOiBuYW1lc3BhY2UsCgkJd2lkZ2V0TmFtZTogbmFtZSwKCQl3aWRnZXRFdmVudFByZWZpeDogJFsgbmFtZXNwYWNlIF1bIG5hbWUgXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXggfHwgbmFtZSwKCQl3aWRnZXRCYXNlQ2xhc3M6IGZ1bGxOYW1lCgl9LCBwcm90b3R5cGUgKTsKCgkkLndpZGdldC5icmlkZ2UoIG5hbWUsICRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gKTsKfTsKCiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7CgkkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciLAoJCQlhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApLAoJCQlyZXR1cm5WYWx1ZSA9IHRoaXM7CgoJCS8vIGFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdAoJCW9wdGlvbnMgPSAhaXNNZXRob2RDYWxsICYmIGFyZ3MubGVuZ3RoID8KCQkJJC5leHRlbmQuYXBwbHkoIG51bGwsIFsgdHJ1ZSwgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApIDoKCQkJb3B0aW9uczsKCgkJLy8gcHJldmVudCBjYWxscyB0byBpbnRlcm5hbCBtZXRob2RzCgkJaWYgKCBpc01ldGhvZENhbGwgJiYgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gIl8iICkgewoJCQlyZXR1cm4gcmV0dXJuVmFsdWU7CgkJfQoKCQlpZiAoIGlzTWV0aG9kQ2FsbCApIHsKCQkJdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJdmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBuYW1lICk7CgkJCQlpZiAoICFpbnN0YW5jZSApIHsKCQkJCQl0aHJvdyAiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiICsgbmFtZSArICIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIgKwoJCQkJCQkiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciICsgb3B0aW9ucyArICInIjsKCQkJCX0KCQkJCWlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSApIHsKCQkJCQl0aHJvdyAibm8gc3VjaCBtZXRob2QgJyIgKyBvcHRpb25zICsgIicgZm9yICIgKyBuYW1lICsgIiB3aWRnZXQgaW5zdGFuY2UiOwoJCQkJfQoJCQkJdmFyIG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTsKCQkJCWlmICggbWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJCQkJcmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCX0gZWxzZSB7CgkJCXRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgbmFtZSApOwoJCQkJaWYgKCBpbnN0YW5jZSApIHsKCQkJCQlpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgfHwge30gKS5faW5pdCgpOwoJCQkJfSBlbHNlIHsKCQkJCQkkLmRhdGEoIHRoaXMsIG5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApOwoJCQkJfQoJCQl9KTsKCQl9CgoJCXJldHVybiByZXR1cm5WYWx1ZTsKCX07Cn07CgokLldpZGdldCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkgewoJLy8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlCglpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7CgkJdGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7Cgl9Cn07CgokLldpZGdldC5wcm90b3R5cGUgPSB7Cgl3aWRnZXROYW1lOiAid2lkZ2V0IiwKCXdpZGdldEV2ZW50UHJlZml4OiAiIiwKCW9wdGlvbnM6IHsKCQlkaXNhYmxlZDogZmFsc2UKCX0sCglfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHsKCQkvLyAkLndpZGdldC5icmlkZ2Ugc3RvcmVzIHRoZSBwbHVnaW4gaW5zdGFuY2UsIGJ1dCB3ZSBkbyBpdCBhbnl3YXkKCQkvLyBzbyB0aGF0IGl0J3Mgc3RvcmVkIGV2ZW4gYmVmb3JlIHRoZSBfY3JlYXRlIGZ1bmN0aW9uIHJ1bnMKCQkkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0TmFtZSwgdGhpcyApOwoJCXRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTsKCQl0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCggdHJ1ZSwge30sCgkJCXRoaXMub3B0aW9ucywKCQkJdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLAoJCQlvcHRpb25zICk7CgoJCXZhciBzZWxmID0gdGhpczsKCQl0aGlzLmVsZW1lbnQuYmluZCggInJlbW92ZS4iICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbigpIHsKCQkJc2VsZi5kZXN0cm95KCk7CgkJfSk7CgoJCXRoaXMuX2NyZWF0ZSgpOwoJCXRoaXMuX3RyaWdnZXIoICJjcmVhdGUiICk7CgkJdGhpcy5faW5pdCgpOwoJfSwKCV9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHsKCQl2YXIgb3B0aW9ucyA9IHt9OwoJCWlmICggJC5tZXRhZGF0YSApIHsKCQkJb3B0aW9ucyA9ICQubWV0YWRhdGEuZ2V0KCBlbGVtZW50IClbIHRoaXMud2lkZ2V0TmFtZSBdOwoJCX0KCQlyZXR1cm4gb3B0aW9uczsKCX0sCglfY3JlYXRlOiBmdW5jdGlvbigpIHt9LAoJX2luaXQ6IGZ1bmN0aW9uKCkge30sCgoJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50CgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVEYXRhKCB0aGlzLndpZGdldE5hbWUgKTsKCQl0aGlzLndpZGdldCgpCgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1kaXNhYmxlZCIgKQoJCQkucmVtb3ZlQ2xhc3MoCgkJCQl0aGlzLndpZGdldEJhc2VDbGFzcyArICItZGlzYWJsZWQgIiArCgkJCQkidWktc3RhdGUtZGlzYWJsZWQiICk7Cgl9LAoKCXdpZGdldDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuZWxlbWVudDsKCX0sCgoJb3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQl2YXIgb3B0aW9ucyA9IGtleTsKCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkgewoJCQkvLyBkb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2gKCQkJcmV0dXJuICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7CgkJfQoKCQlpZiAgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciICkgewoJCQlpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gdGhpcy5vcHRpb25zWyBrZXkgXTsKCQkJfQoJCQlvcHRpb25zID0ge307CgkJCW9wdGlvbnNbIGtleSBdID0gdmFsdWU7CgkJfQoKCQl0aGlzLl9zZXRPcHRpb25zKCBvcHRpb25zICk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgc2VsZiA9IHRoaXM7CgkJJC5lYWNoKCBvcHRpb25zLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQkJc2VsZi5fc2V0T3B0aW9uKCBrZXksIHZhbHVlICk7CgkJfSk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgewoJCXRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTsKCgkJaWYgKCBrZXkgPT09ICJkaXNhYmxlZCIgKSB7CgkJCXRoaXMud2lkZ2V0KCkKCQkJCVsgdmFsdWUgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oCgkJCQkJdGhpcy53aWRnZXRCYXNlQ2xhc3MgKyAiLWRpc2FibGVkIiArICIgIiArCgkJCQkJInVpLXN0YXRlLWRpc2FibGVkIiApCgkJCQkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB2YWx1ZSApOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsKCX0sCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCB0cnVlICk7Cgl9LAoKCV90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7CgkJdmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07CgoJCWV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTsKCQlldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID8KCQkJdHlwZSA6CgkJCXRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTsKCQlkYXRhID0gZGF0YSB8fCB7fTsKCgkJLy8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudAoJCS8vIHRoaXMgd291bGQgaGFwcGVuIGlmIHdlIGNvdWxkIGNhbGwgJC5ldmVudC5maXggaW5zdGVhZCBvZiAkLkV2ZW50CgkJLy8gYnV0IHdlIGRvbid0IGhhdmUgYSB3YXkgdG8gZm9yY2UgYW4gZXZlbnQgdG8gYmUgZml4ZWQgbXVsdGlwbGUgdGltZXMKCQlpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7CgkJCWZvciAoIHZhciBpID0gJC5ldmVudC5wcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgewoJCQkJcHJvcCA9ICQuZXZlbnQucHJvcHNbIC0taSBdOwoJCQkJZXZlbnRbIHByb3AgXSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnRbIHByb3AgXTsKCQkJfQoJCX0KCgkJdGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7CgoJCXJldHVybiAhKCAkLmlzRnVuY3Rpb24oY2FsbGJhY2spICYmCgkJCWNhbGxiYWNrLmNhbGwoIHRoaXMuZWxlbWVudFswXSwgZXZlbnQsIGRhdGEgKSA9PT0gZmFsc2UgfHwKCQkJZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTsKCX0KfTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6IHdpZGdldCBmYWN0b3J5IGV4dGVudGlvbnMgZm9yIG1vYmlsZQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQud2lkZ2V0KCAibW9iaWxlLndpZGdldCIsIHsKCV9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHsKCgkJdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnQsCgkJCW9wdGlvbnMgPSB7fTsKCgkJJC5lYWNoKCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uKCBvcHRpb24gKSB7CgoJCQl2YXIgdmFsdWUgPSBlbGVtLmpxbURhdGEoIG9wdGlvbi5yZXBsYWNlKCAvW0EtWl0vZywgZnVuY3Rpb24oIGMgKSB7CgkJCQkJCQlyZXR1cm4gIi0iICsgYy50b0xvd2VyQ2FzZSgpOwoJCQkJCQl9KQoJCQkJCSk7CgoJCQlpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJCQlvcHRpb25zWyBvcHRpb24gXSA9IHZhbHVlOwoJCQl9CgkJfSk7CgoJCXJldHVybiBvcHRpb25zOwoJfQp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6IHJlc29sdXRpb24gYW5kIENTUyBtZWRpYSBxdWVyeSByZWxhdGVkIGhlbHBlcnMgYW5kIGJlaGF2aW9yCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLAoJJGh0bWwgPSAkKCAiaHRtbCIgKTsKCi8qICQubW9iaWxlLm1lZGlhIG1ldGhvZDogcGFzcyBhIENTUyBtZWRpYSB0eXBlIG9yIHF1ZXJ5IGFuZCBnZXQgYSBib29sIHJldHVybgoJbm90ZTogdGhpcyBmZWF0dXJlIHJlbGllcyBvbiBhY3R1YWwgbWVkaWEgcXVlcnkgc3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcywgdGhvdWdoIHR5cGVzIHdpbGwgd29yayBtb3N0IGFueXdoZXJlCglleGFtcGxlczoKCQkkLm1vYmlsZS5tZWRpYSgnc2NyZWVuJykgLy8+PiB0ZXN0cyBmb3Igc2NyZWVuIG1lZGlhIHR5cGUKCQkkLm1vYmlsZS5tZWRpYSgnc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0ODBweCknKSAvLz4+IHRlc3RzIGZvciBzY3JlZW4gbWVkaWEgdHlwZSB3aXRoIHdpbmRvdyB3aWR0aCA+IDQ4MHB4CgkJJC5tb2JpbGUubWVkaWEoJ0BtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpJykgLy8+PiB0ZXN0cyBmb3Igd2Via2l0IDJ4IHBpeGVsIHJhdGlvIChpUGhvbmUgNCkKKi8KJC5tb2JpbGUubWVkaWEgPSAoZnVuY3Rpb24oKSB7CgkvLyBUT0RPOiB1c2Ugd2luZG93Lm1hdGNoTWVkaWEgb25jZSBhdCBsZWFzdCBvbmUgVUEgaW1wbGVtZW50cyBpdAoJdmFyIGNhY2hlID0ge30sCgkJdGVzdERpdiA9ICQoICI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz4iICksCgkJZmFrZUJvZHkgPSAkKCAiPGJvZHk+IiApLmFwcGVuZCggdGVzdERpdiApOwoKCXJldHVybiBmdW5jdGlvbiggcXVlcnkgKSB7CgkJaWYgKCAhKCBxdWVyeSBpbiBjYWNoZSApICkgewoJCQl2YXIgc3R5bGVCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJzdHlsZSIgKSwKCQkJCWNzc3J1bGUgPSAiQG1lZGlhICIgKyBxdWVyeSArICIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iOwoKCQkJLy9tdXN0IHNldCB0eXBlIGZvciBJRSEKCQkJc3R5bGVCbG9jay50eXBlID0gInRleHQvY3NzIjsKCgkJCWlmICggc3R5bGVCbG9jay5zdHlsZVNoZWV0ICApewoJCQkJc3R5bGVCbG9jay5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3NydWxlOwoJCQl9IGVsc2UgewoJCQkJc3R5bGVCbG9jay5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzcnVsZSkgKTsKCQkJfQoKCQkJJGh0bWwucHJlcGVuZCggZmFrZUJvZHkgKS5wcmVwZW5kKCBzdHlsZUJsb2NrICk7CgkJCWNhY2hlWyBxdWVyeSBdID0gdGVzdERpdi5jc3MoICJwb3NpdGlvbiIgKSA9PT0gImFic29sdXRlIjsKCQkJZmFrZUJvZHkuYWRkKCBzdHlsZUJsb2NrICkucmVtb3ZlKCk7CgkJfQoJCXJldHVybiBjYWNoZVsgcXVlcnkgXTsKCX07Cn0pKCk7Cgp9KShqUXVlcnkpOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBzdXBwb3J0IHRlc3RzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgZmFrZUJvZHkgPSAkKCAiPGJvZHk+IiApLnByZXBlbmRUbyggImh0bWwiICksCglmYkNTUyA9IGZha2VCb2R5WyAwIF0uc3R5bGUsCgl2ZW5kb3JzID0gWyAid2Via2l0IiwgIm1veiIsICJvIiBdLAoJd2Vib3MgPSAicGFsbUdldFJlc291cmNlIiBpbiB3aW5kb3csIC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IHNjcm9sbFRvcAoJYmIgPSB3aW5kb3cuYmxhY2tiZXJyeTsgLy9vbmx5IHVzZWQgdG8gcnVsZSBvdXQgYm94IHNoYWRvdywgYXMgaXQncyBmaWxsZWQgb3BhcXVlIG9uIEJCCgovLyB0aHggTW9kZXJuaXpyCmZ1bmN0aW9uIHByb3BFeGlzdHMoIHByb3AgKSB7Cgl2YXIgdWNfcHJvcCA9IHByb3AuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKCAxICksCgkJcHJvcHMgPSAoIHByb3AgKyAiICIgKyB2ZW5kb3JzLmpvaW4oIHVjX3Byb3AgKyAiICIgKSArIHVjX3Byb3AgKS5zcGxpdCggIiAiICk7CgoJZm9yICggdmFyIHYgaW4gcHJvcHMgKXsKCQlpZiAoIGZiQ1NTWyB2IF0gIT09IHVuZGVmaW5lZCApIHsKCQkJcmV0dXJuIHRydWU7CgkJfQoJfQp9CgovLyBUZXN0IGZvciBkeW5hbWljLXVwZGF0aW5nIGJhc2UgdGFnIHN1cHBvcnQgKCBhbGxvd3MgdXMgdG8gYXZvaWQgaHJlZixzcmMgYXR0ciByZXdyaXRpbmcgKQpmdW5jdGlvbiBiYXNlVGFnVGVzdCgpIHsKCXZhciBmYXV4QmFzZSA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSArICJ1aS1kaXIvIiwKCQliYXNlID0gJCggImhlYWQgYmFzZSIgKSwKCQlmYXV4RWxlID0gbnVsbCwKCQlocmVmID0gIiIsCgkJbGluaywgcmViYXNlOwoKCWlmICggIWJhc2UubGVuZ3RoICkgewoJCWJhc2UgPSBmYXV4RWxlID0gJCggIjxiYXNlPiIsIHsgImhyZWYiOiBmYXV4QmFzZSB9KS5hcHBlbmRUbyggImhlYWQiICk7Cgl9IGVsc2UgewoJCWhyZWYgPSBiYXNlLmF0dHIoICJocmVmIiApOwoJfQoKCWxpbmsgPSAkKCAiPGEgaHJlZj0ndGVzdHVybCc+PC9hPiIgKS5wcmVwZW5kVG8oIGZha2VCb2R5ICk7CglyZWJhc2UgPSBsaW5rWyAwIF0uaHJlZjsKCWJhc2VbIDAgXS5ocmVmID0gaHJlZiA/IGhyZWYgOiBsb2NhdGlvbi5wYXRobmFtZTsKCglpZiAoIGZhdXhFbGUgKSB7CgkJZmF1eEVsZS5yZW1vdmUoKTsKCX0KCXJldHVybiByZWJhc2UuaW5kZXhPZiggZmF1eEJhc2UgKSA9PT0gMDsKfQoKCi8vIG5vbi1VQS1iYXNlZCBJRSB2ZXJzaW9uIGNoZWNrIGJ5IEphbWVzIFBhZG9sc2V5LCBtb2RpZmllZCBieSBqZGFsdG9uIC0gZnJvbSBodHRwOi8vZ2lzdC5naXRodWIuY29tLzUyNzY4MwovLyBhbGxvd3MgZm9yIGluY2x1c2lvbiBvZiBJRSA2KywgaW5jbHVkaW5nIFdpbmRvd3MgTW9iaWxlIDcKJC5tb2JpbGUuYnJvd3NlciA9IHt9OwokLm1vYmlsZS5icm93c2VyLmllID0gKGZ1bmN0aW9uKCkgewoJdmFyIHYgPSAzLAoJZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKSwKCWEgPSBkaXYuYWxsIHx8IFtdOwoKCXdoaWxlICggZGl2LmlubmVySFRNTCA9ICI8IS0tW2lmIGd0IElFICIgKyAoICsrdiApICsgIl0+PGJyPjwhW2VuZGlmXS0tPiIsIGFbIDAgXSApOwoKCXJldHVybiB2ID4gNCA/IHYgOiAhdjsKfSkoKTsKCgokLmV4dGVuZCggJC5zdXBwb3J0LCB7CglvcmllbnRhdGlvbjogIm9yaWVudGF0aW9uIiBpbiB3aW5kb3csCgl0b3VjaDogIm9udG91Y2hlbmQiIGluIGRvY3VtZW50LAoJY3NzVHJhbnNpdGlvbnM6ICJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiIGluIHdpbmRvdywKCXB1c2hTdGF0ZTogISFoaXN0b3J5LnB1c2hTdGF0ZSwKCW1lZGlhcXVlcnk6ICQubW9iaWxlLm1lZGlhKCAib25seSBhbGwiICksCgljc3NQc2V1ZG9FbGVtZW50OiAhIXByb3BFeGlzdHMoICJjb250ZW50IiApLAoJYm94U2hhZG93OiAhIXByb3BFeGlzdHMoICJib3hTaGFkb3ciICkgJiYgIWJiLAoJc2Nyb2xsVG9wOiAoICJwYWdlWE9mZnNldCIgaW4gd2luZG93IHx8ICJzY3JvbGxUb3AiIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCAic2Nyb2xsVG9wIiBpbiBmYWtlQm9keVsgMCBdICkgJiYgIXdlYm9zLAoJZHluYW1pY0Jhc2VUYWc6IGJhc2VUYWdUZXN0KCksCgkvLyBUT0RPOiBUaGlzIGlzIGEgd2VhayB0ZXN0LiBXZSBtYXkgd2FudCB0byBiZWVmIHRoaXMgdXAgbGF0ZXIuCglldmVudENhcHR1cmU6ICJhZGRFdmVudExpc3RlbmVyIiBpbiBkb2N1bWVudAp9KTsKCmZha2VCb2R5LnJlbW92ZSgpOwoKCi8vICQubW9iaWxlLmFqYXhCbGFja2xpc3QgaXMgdXNlZCB0byBvdmVycmlkZSBhamF4RW5hYmxlZCBvbiBwbGF0Zm9ybXMgdGhhdCBoYXZlIGtub3duIGNvbmZsaWN0cyB3aXRoIGhhc2ggaGlzdG9yeSB1cGRhdGVzIChCQjUsIFN5bWJpYW4pCi8vIG9yIHRoYXQgZ2VuZXJhbGx5IHdvcmsgYmV0dGVyIGJyb3dzaW5nIGluIHJlZ3VsYXIgaHR0cCBmb3IgZnVsbCBwYWdlIHJlZnJlc2hlcyAoT3BlcmEgTWluaSkKLy8gTm90ZTogVGhpcyBkZXRlY3Rpb24gYmVsb3cgaXMgdXNlZCBhcyBhIGxhc3QgcmVzb3J0LgovLyBXZSByZWNvbW1lbmQgb25seSB1c2luZyB0aGVzZSBkZXRlY3Rpb24gbWV0aG9kcyB3aGVuIGFsbCBvdGhlciBtb3JlIHJlbGlhYmxlL2ZvcndhcmQtbG9va2luZyBhcHByb2FjaGVzIGFyZSBub3QgcG9zc2libGUKdmFyIG5va2lhTFRFN18zID0gKGZ1bmN0aW9uKCl7CgoJdmFyIHVhID0gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7CgoJLy9UaGUgZm9sbG93aW5nIGlzIGFuIGF0dGVtcHQgdG8gbWF0Y2ggTm9raWEgYnJvd3NlcnMgdGhhdCBhcmUgcnVubmluZyBTeW1iaWFuL3M2MCwgd2l0aCB3ZWJraXQsIHZlcnNpb24gNy4zIG9yIG9sZGVyCglyZXR1cm4gdWEuaW5kZXhPZiggIk5va2lhIiApID4gLTEgJiYKCQkJKCB1YS5pbmRleE9mKCAiU3ltYmlhbi8zIiApID4gLTEgfHwgdWEuaW5kZXhPZiggIlNlcmllczYwLzUiICkgPiAtMSApICYmCgkJCXVhLmluZGV4T2YoICJBcHBsZVdlYktpdCIgKSA+IC0xICYmCgkJCXVhLm1hdGNoKCAvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8gKTsKfSkoKTsKCiQubW9iaWxlLmFqYXhCbGFja2xpc3QgPQoJCQkvLyBCbGFja0JlcnJ5IGJyb3dzZXJzLCBwcmUtd2Via2l0CgkJCXdpbmRvdy5ibGFja2JlcnJ5ICYmICF3aW5kb3cuV2ViS2l0UG9pbnQgfHwKCQkJLy8gT3BlcmEgTWluaQoJCQl3aW5kb3cub3BlcmFtaW5pICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggd2luZG93Lm9wZXJhbWluaSApID09PSAiW29iamVjdCBPcGVyYU1pbmldIiB8fAoJCQkvLyBTeW1iaWFuIHdlYmtpdHMgcHJlIDcuMwoJCQlub2tpYUxURTdfMzsKCi8vIExhc3RseSwgdGhpcyB3b3JrYXJvdW5kIGlzIHRoZSBvbmx5IHdheSB3ZSd2ZSBmb3VuZCBzbyBmYXIgdG8gZ2V0IHByZSA3LjMgU3ltYmlhbiB3ZWJraXQgZGV2aWNlcwovLyB0byByZW5kZXIgdGhlIHN0eWxlc2hlZXRzIHdoZW4gdGhleSdyZSByZWZlcmVuY2VkIGJlZm9yZSB0aGlzIHNjcmlwdCwgYXMgd2UnZCByZWNvbW1lbmQgZG9pbmcuCi8vIFRoaXMgc2ltcGx5IHJlYXBwZW5kcyB0aGUgQ1NTIGluIHBsYWNlLCB3aGljaCBmb3Igc29tZSByZWFzb24gbWFrZXMgaXQgYXBwbHkKaWYgKCBub2tpYUxURTdfMyApIHsKCSQoZnVuY3Rpb24oKSB7CgkJJCggImhlYWQgbGlua1tyZWw9c3R5bGVzaGVldF0iICkuYXR0ciggInJlbCIsICJhbHRlcm5hdGUgc3R5bGVzaGVldCIgKS5hdHRyKCAicmVsIiwgInN0eWxlc2hlZXQiICk7Cgl9KTsKfQoKLy8gRm9yIHJ1bGluZyBvdXQgc2hhZG93cyB2aWEgY3NzCmlmICggISQuc3VwcG9ydC5ib3hTaGFkb3cgKSB7CgkkKCAiaHRtbCIgKS5hZGRDbGFzcyggInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93IiApOwp9Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJtb3VzZSIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCi8vIFRoaXMgcGx1Z2luIGlzIGFuIGV4cGVyaW1lbnQgZm9yIGFic3RyYWN0aW5nIGF3YXkgdGhlIHRvdWNoIGFuZCBtb3VzZQovLyBldmVudHMgc28gdGhhdCBkZXZlbG9wZXJzIGRvbid0IGhhdmUgdG8gd29ycnkgYWJvdXQgd2hpY2ggbWV0aG9kIG9mIGlucHV0Ci8vIHRoZSBkZXZpY2UgdGhlaXIgZG9jdW1lbnQgaXMgbG9hZGVkIG9uIHN1cHBvcnRzLgovLwovLyBUaGUgaWRlYSBoZXJlIGlzIHRvIGFsbG93IHRoZSBkZXZlbG9wZXIgdG8gcmVnaXN0ZXIgbGlzdGVuZXJzIGZvciB0aGUKLy8gYmFzaWMgbW91c2UgZXZlbnRzLCBzdWNoIGFzIG1vdXNlZG93biwgbW91c2Vtb3ZlLCBtb3VzZXVwLCBhbmQgY2xpY2ssCi8vIGFuZCB0aGUgcGx1Z2luIHdpbGwgdGFrZSBjYXJlIG9mIHJlZ2lzdGVyaW5nIHRoZSBjb3JyZWN0IGxpc3RlbmVycwovLyBiZWhpbmQgdGhlIHNjZW5lcyB0byBpbnZva2UgdGhlIGxpc3RlbmVyIGF0IHRoZSBmYXN0ZXN0IHBvc3NpYmxlIHRpbWUKLy8gZm9yIHRoYXQgZGV2aWNlLCB3aGlsZSBzdGlsbCByZXRhaW5pbmcgdGhlIG9yZGVyIG9mIGV2ZW50IGZpcmluZyBpbgovLyB0aGUgdHJhZGl0aW9uYWwgbW91c2UgZW52aXJvbm1lbnQsIHNob3VsZCBtdWx0aXBsZSBoYW5kbGVycyBiZSByZWdpc3RlcmVkCi8vIG9uIHRoZSBzYW1lIGVsZW1lbnQgZm9yIGRpZmZlcmVudCBldmVudHMuCi8vCi8vIFRoZSBjdXJyZW50IHZlcnNpb24gZXhwb3NlcyB0aGUgZm9sbG93aW5nIHZpcnR1YWwgZXZlbnRzIHRvIGpRdWVyeSBiaW5kIG1ldGhvZHM6Ci8vICJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIKCihmdW5jdGlvbiggJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkgewoKdmFyIGRhdGFQcm9wZXJ0eU5hbWUgPSAidmlydHVhbE1vdXNlQmluZGluZ3MiLAoJdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgPSAidmlydHVhbFRvdWNoSUQiLAoJdmlydHVhbEV2ZW50TmFtZXMgPSAidm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCAiICIgKSwKCXRvdWNoRXZlbnRQcm9wcyA9ICJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCggIiAiICksCglhY3RpdmVEb2NIYW5kbGVycyA9IHt9LAoJcmVzZXRUaW1lcklEID0gMCwKCXN0YXJ0WCA9IDAsCglzdGFydFkgPSAwLAoJZGlkU2Nyb2xsID0gZmFsc2UsCgljbGlja0Jsb2NrTGlzdCA9IFtdLAoJYmxvY2tNb3VzZVRyaWdnZXJzID0gZmFsc2UsCglibG9ja1RvdWNoVHJpZ2dlcnMgPSBmYWxzZSwKCWV2ZW50Q2FwdHVyZVN1cHBvcnRlZCA9ICQuc3VwcG9ydC5ldmVudENhcHR1cmUsCgkkZG9jdW1lbnQgPSAkKCBkb2N1bWVudCApLAoJbmV4dFRvdWNoSUQgPSAxLAoJbGFzdFRvdWNoSUQgPSAwOwoKJC52bW91c2UgPSB7Cgltb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6IDEwLAoJY2xpY2tEaXN0YW5jZVRocmVzaG9sZDogMTAsCglyZXNldFRpbWVyRHVyYXRpb246IDE1MDAKfTsKCmZ1bmN0aW9uIGdldE5hdGl2ZUV2ZW50KCBldmVudCApIHsKCgl3aGlsZSAoIGV2ZW50ICYmIHR5cGVvZiBldmVudC5vcmlnaW5hbEV2ZW50ICE9PSAidW5kZWZpbmVkIiApIHsKCQlldmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7Cgl9CglyZXR1cm4gZXZlbnQ7Cn0KCmZ1bmN0aW9uIGNyZWF0ZVZpcnR1YWxFdmVudCggZXZlbnQsIGV2ZW50VHlwZSApIHsKCgl2YXIgdCA9IGV2ZW50LnR5cGUsCgkJb2UsIHByb3BzLCBuZSwgcHJvcCwgY3QsIHRvdWNoLCBpLCBqOwoKCWV2ZW50ID0gJC5FdmVudChldmVudCk7CglldmVudC50eXBlID0gZXZlbnRUeXBlOwoKCW9lID0gZXZlbnQub3JpZ2luYWxFdmVudDsKCXByb3BzID0gJC5ldmVudC5wcm9wczsKCgkvLyBjb3B5IG9yaWdpbmFsIGV2ZW50IHByb3BlcnRpZXMgb3ZlciB0byB0aGUgbmV3IGV2ZW50CgkvLyB0aGlzIHdvdWxkIGhhcHBlbiBpZiB3ZSBjb3VsZCBjYWxsICQuZXZlbnQuZml4IGluc3RlYWQgb2YgJC5FdmVudAoJLy8gYnV0IHdlIGRvbid0IGhhdmUgYSB3YXkgdG8gZm9yY2UgYW4gZXZlbnQgdG8gYmUgZml4ZWQgbXVsdGlwbGUgdGltZXMKCWlmICggb2UgKSB7CgkJZm9yICggaSA9IHByb3BzLmxlbmd0aCwgcHJvcDsgaTsgKSB7CgkJCXByb3AgPSBwcm9wc1sgLS1pIF07CgkJCWV2ZW50WyBwcm9wIF0gPSBvZVsgcHJvcCBdOwoJCX0KCX0KCglpZiAoIHQuc2VhcmNoKC9edG91Y2gvKSAhPT0gLTEgKSB7CgkJbmUgPSBnZXROYXRpdmVFdmVudCggb2UgKTsKCQl0ID0gbmUudG91Y2hlczsKCQljdCA9IG5lLmNoYW5nZWRUb3VjaGVzOwoJCXRvdWNoID0gKCB0ICYmIHQubGVuZ3RoICkgPyB0WzBdIDogKCAoY3QgJiYgY3QubGVuZ3RoKSA/IGN0WyAwIF0gOiB1bmRlZmluZWQgKTsKCgkJaWYgKCB0b3VjaCApIHsKCQkJZm9yICggaiA9IDAsIGxlbiA9IHRvdWNoRXZlbnRQcm9wcy5sZW5ndGg7IGogPCBsZW47IGorKyl7CgkJCQlwcm9wID0gdG91Y2hFdmVudFByb3BzWyBqIF07CgkJCQlldmVudFsgcHJvcCBdID0gdG91Y2hbIHByb3AgXTsKCQkJfQoJCX0KCX0KCglyZXR1cm4gZXZlbnQ7Cn0KCmZ1bmN0aW9uIGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIGVsZW1lbnQgKSB7CgoJdmFyIGZsYWdzID0ge30sCgkJYiwgazsKCgl3aGlsZSAoIGVsZW1lbnQgKSB7CgoJCWIgPSAkLmRhdGEoIGVsZW1lbnQsIGRhdGFQcm9wZXJ0eU5hbWUgKTsKCgkJZm9yICggIGsgaW4gYiApIHsKCQkJaWYgKCBiWyBrIF0gKSB7CgkJCQlmbGFnc1sgayBdID0gZmxhZ3MuaGFzVmlydHVhbEJpbmRpbmcgPSB0cnVlOwoJCQl9CgkJfQoJCWVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGU7Cgl9CglyZXR1cm4gZmxhZ3M7Cn0KCmZ1bmN0aW9uIGdldENsb3Nlc3RFbGVtZW50V2l0aFZpcnR1YWxCaW5kaW5nKCBlbGVtZW50LCBldmVudFR5cGUgKSB7Cgl2YXIgYjsKCXdoaWxlICggZWxlbWVudCApIHsKCgkJYiA9ICQuZGF0YSggZWxlbWVudCwgZGF0YVByb3BlcnR5TmFtZSApOwoKCQlpZiAoIGIgJiYgKCAhZXZlbnRUeXBlIHx8IGJbIGV2ZW50VHlwZSBdICkgKSB7CgkJCXJldHVybiBlbGVtZW50OwoJCX0KCQllbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwoJfQoJcmV0dXJuIG51bGw7Cn0KCmZ1bmN0aW9uIGVuYWJsZVRvdWNoQmluZGluZ3MoKSB7CglibG9ja1RvdWNoVHJpZ2dlcnMgPSBmYWxzZTsKfQoKZnVuY3Rpb24gZGlzYWJsZVRvdWNoQmluZGluZ3MoKSB7CglibG9ja1RvdWNoVHJpZ2dlcnMgPSB0cnVlOwp9CgpmdW5jdGlvbiBlbmFibGVNb3VzZUJpbmRpbmdzKCkgewoJbGFzdFRvdWNoSUQgPSAwOwoJY2xpY2tCbG9ja0xpc3QubGVuZ3RoID0gMDsKCWJsb2NrTW91c2VUcmlnZ2VycyA9IGZhbHNlOwoKCS8vIFdoZW4gbW91c2UgYmluZGluZ3MgYXJlIGVuYWJsZWQsIG91cgoJLy8gdG91Y2ggYmluZGluZ3MgYXJlIGRpc2FibGVkLgoJZGlzYWJsZVRvdWNoQmluZGluZ3MoKTsKfQoKZnVuY3Rpb24gZGlzYWJsZU1vdXNlQmluZGluZ3MoKSB7CgkvLyBXaGVuIG1vdXNlIGJpbmRpbmdzIGFyZSBkaXNhYmxlZCwgb3VyCgkvLyB0b3VjaCBiaW5kaW5ncyBhcmUgZW5hYmxlZC4KCWVuYWJsZVRvdWNoQmluZGluZ3MoKTsKfQoKZnVuY3Rpb24gc3RhcnRSZXNldFRpbWVyKCkgewoJY2xlYXJSZXNldFRpbWVyKCk7CglyZXNldFRpbWVySUQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7CgkJcmVzZXRUaW1lcklEID0gMDsKCQllbmFibGVNb3VzZUJpbmRpbmdzKCk7Cgl9LCAkLnZtb3VzZS5yZXNldFRpbWVyRHVyYXRpb24gKTsKfQoKZnVuY3Rpb24gY2xlYXJSZXNldFRpbWVyKCkgewoJaWYgKCByZXNldFRpbWVySUQgKXsKCQljbGVhclRpbWVvdXQoIHJlc2V0VGltZXJJRCApOwoJCXJlc2V0VGltZXJJRCA9IDA7Cgl9Cn0KCmZ1bmN0aW9uIHRyaWdnZXJWaXJ0dWFsRXZlbnQoIGV2ZW50VHlwZSwgZXZlbnQsIGZsYWdzICkgewoJdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSBmYWxzZSwKCQl2ZTsKCglpZiAoICggZmxhZ3MgJiYgZmxhZ3NbIGV2ZW50VHlwZSBdICkgfHwKCQkJCSggIWZsYWdzICYmIGdldENsb3Nlc3RFbGVtZW50V2l0aFZpcnR1YWxCaW5kaW5nKCBldmVudC50YXJnZXQsIGV2ZW50VHlwZSApICkgKSB7CgoJCXZlID0gY3JlYXRlVmlydHVhbEV2ZW50KCBldmVudCwgZXZlbnRUeXBlICk7CgoJCSQoIGV2ZW50LnRhcmdldCkudHJpZ2dlciggdmUgKTsKCgkJZGVmYXVsdFByZXZlbnRlZCA9IHZlLmlzRGVmYXVsdFByZXZlbnRlZCgpOwoJfQoKCXJldHVybiBkZWZhdWx0UHJldmVudGVkOwp9CgpmdW5jdGlvbiBtb3VzZUV2ZW50Q2FsbGJhY2soIGV2ZW50ICkgewoJdmFyIHRvdWNoSUQgPSAkLmRhdGEoZXZlbnQudGFyZ2V0LCB0b3VjaFRhcmdldFByb3BlcnR5TmFtZSk7CgoJaWYgKCAhYmxvY2tNb3VzZVRyaWdnZXJzICYmICggIWxhc3RUb3VjaElEIHx8IGxhc3RUb3VjaElEICE9PSB0b3VjaElEICkgKXsKCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidiIgKyBldmVudC50eXBlLCBldmVudCApOwoJfQp9CgpmdW5jdGlvbiBoYW5kbGVUb3VjaFN0YXJ0KCBldmVudCApIHsKCgl2YXIgdG91Y2hlcyA9IGdldE5hdGl2ZUV2ZW50KCBldmVudCApLnRvdWNoZXMsCgkJdGFyZ2V0LCBmbGFnczsKCglpZiAoIHRvdWNoZXMgJiYgdG91Y2hlcy5sZW5ndGggPT09IDEgKSB7CgoJCXRhcmdldCA9IGV2ZW50LnRhcmdldDsKCQlmbGFncyA9IGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIHRhcmdldCApOwoKCQlpZiAoIGZsYWdzLmhhc1ZpcnR1YWxCaW5kaW5nICkgewoKCQkJbGFzdFRvdWNoSUQgPSBuZXh0VG91Y2hJRCsrOwoJCQkkLmRhdGEoIHRhcmdldCwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUsIGxhc3RUb3VjaElEICk7CgoJCQljbGVhclJlc2V0VGltZXIoKTsKCgkJCWRpc2FibGVNb3VzZUJpbmRpbmdzKCk7CgkJCWRpZFNjcm9sbCA9IGZhbHNlOwoKCQkJdmFyIHQgPSBnZXROYXRpdmVFdmVudCggZXZlbnQgKS50b3VjaGVzWyAwIF07CgkJCXN0YXJ0WCA9IHQucGFnZVg7CgkJCXN0YXJ0WSA9IHQucGFnZVk7CgoJCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlb3ZlciIsIGV2ZW50LCBmbGFncyApOwoJCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlZG93biIsIGV2ZW50LCBmbGFncyApOwoJCX0KCX0KfQoKZnVuY3Rpb24gaGFuZGxlU2Nyb2xsKCBldmVudCApIHsKCWlmICggYmxvY2tUb3VjaFRyaWdnZXJzICkgewoJCXJldHVybjsKCX0KCglpZiAoICFkaWRTY3JvbGwgKSB7CgkJdHJpZ2dlclZpcnR1YWxFdmVudCggInZtb3VzZWNhbmNlbCIsIGV2ZW50LCBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBldmVudC50YXJnZXQgKSApOwoJfQoKCWRpZFNjcm9sbCA9IHRydWU7CglzdGFydFJlc2V0VGltZXIoKTsKfQoKZnVuY3Rpb24gaGFuZGxlVG91Y2hNb3ZlKCBldmVudCApIHsKCWlmICggYmxvY2tUb3VjaFRyaWdnZXJzICkgewoJCXJldHVybjsKCX0KCgl2YXIgdCA9IGdldE5hdGl2ZUV2ZW50KCBldmVudCApLnRvdWNoZXNbIDAgXSwKCQlkaWRDYW5jZWwgPSBkaWRTY3JvbGwsCgkJbW92ZVRocmVzaG9sZCA9ICQudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDsKCQlkaWRTY3JvbGwgPSBkaWRTY3JvbGwgfHwKCQkJKCBNYXRoLmFicyh0LnBhZ2VYIC0gc3RhcnRYKSA+IG1vdmVUaHJlc2hvbGQgfHwKCQkJCU1hdGguYWJzKHQucGFnZVkgLSBzdGFydFkpID4gbW92ZVRocmVzaG9sZCApLAoJCWZsYWdzID0gZ2V0VmlydHVhbEJpbmRpbmdGbGFncyggZXZlbnQudGFyZ2V0ICk7CgoJaWYgKCBkaWRTY3JvbGwgJiYgIWRpZENhbmNlbCApIHsKCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlY2FuY2VsIiwgZXZlbnQsIGZsYWdzICk7Cgl9CgoJdHJpZ2dlclZpcnR1YWxFdmVudCggInZtb3VzZW1vdmUiLCBldmVudCwgZmxhZ3MgKTsKCXN0YXJ0UmVzZXRUaW1lcigpOwp9CgpmdW5jdGlvbiBoYW5kbGVUb3VjaEVuZCggZXZlbnQgKSB7CglpZiAoIGJsb2NrVG91Y2hUcmlnZ2VycyApIHsKCQlyZXR1cm47Cgl9CgoJZGlzYWJsZVRvdWNoQmluZGluZ3MoKTsKCgl2YXIgZmxhZ3MgPSBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBldmVudC50YXJnZXQgKSwKCQl0OwoJdHJpZ2dlclZpcnR1YWxFdmVudCggInZtb3VzZXVwIiwgZXZlbnQsIGZsYWdzICk7CgoJaWYgKCAhZGlkU2Nyb2xsICkgewoJCWlmICggdHJpZ2dlclZpcnR1YWxFdmVudCggInZjbGljayIsIGV2ZW50LCBmbGFncyApICkgewoJCQkvLyBUaGUgdGFyZ2V0IG9mIHRoZSBtb3VzZSBldmVudHMgdGhhdCBmb2xsb3cgdGhlIHRvdWNoZW5kCgkJCS8vIGV2ZW50IGRvbid0IG5lY2Vzc2FyaWx5IG1hdGNoIHRoZSB0YXJnZXQgdXNlZCBkdXJpbmcgdGhlCgkJCS8vIHRvdWNoLiBUaGlzIG1lYW5zIHdlIG5lZWQgdG8gcmVseSBvbiBjb29yZGluYXRlcyBmb3IgYmxvY2tpbmcKCQkJLy8gYW55IGNsaWNrIHRoYXQgaXMgZ2VuZXJhdGVkLgoJCQl0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkuY2hhbmdlZFRvdWNoZXNbIDAgXTsKCQkJY2xpY2tCbG9ja0xpc3QucHVzaCh7CgkJCQl0b3VjaElEOiBsYXN0VG91Y2hJRCwKCQkJCXg6IHQuY2xpZW50WCwKCQkJCXk6IHQuY2xpZW50WQoJCQl9KTsKCgkJCS8vIFByZXZlbnQgYW55IG1vdXNlIGV2ZW50cyB0aGF0IGZvbGxvdyBmcm9tIHRyaWdnZXJpbmcKCQkJLy8gdmlydHVhbCBldmVudCBub3RpZmljYXRpb25zLgoJCQlibG9ja01vdXNlVHJpZ2dlcnMgPSB0cnVlOwoJCX0KCX0KCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VvdXQiLCBldmVudCwgZmxhZ3MpOwoJZGlkU2Nyb2xsID0gZmFsc2U7CgoJc3RhcnRSZXNldFRpbWVyKCk7Cn0KCmZ1bmN0aW9uIGhhc1ZpcnR1YWxCaW5kaW5ncyggZWxlICkgewoJdmFyIGJpbmRpbmdzID0gJC5kYXRhKCBlbGUsIGRhdGFQcm9wZXJ0eU5hbWUgKSwKCQlrOwoKCWlmICggYmluZGluZ3MgKSB7CgkJZm9yICggayBpbiBiaW5kaW5ncyApIHsKCQkJaWYgKCBiaW5kaW5nc1sgayBdICkgewoJCQkJcmV0dXJuIHRydWU7CgkJCX0KCQl9Cgl9CglyZXR1cm4gZmFsc2U7Cn0KCmZ1bmN0aW9uIGR1bW15TW91c2VIYW5kbGVyKCl7fQoKZnVuY3Rpb24gZ2V0U3BlY2lhbEV2ZW50T2JqZWN0KCBldmVudFR5cGUgKSB7Cgl2YXIgcmVhbFR5cGUgPSBldmVudFR5cGUuc3Vic3RyKCAxICk7CgoJcmV0dXJuIHsKCQlzZXR1cDogZnVuY3Rpb24oIGRhdGEsIG5hbWVzcGFjZSApIHsKCQkJLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGZvciB0aGlzIGVsZW1lbnQsCgkJCS8vIGFkZCBhIGJpbmRpbmdzIG9iamVjdCB0byBpdHMgZGF0YS4KCgkJCWlmICggIWhhc1ZpcnR1YWxCaW5kaW5ncyggdGhpcyApICkgewoJCQkJJC5kYXRhKCB0aGlzLCBkYXRhUHJvcGVydHlOYW1lLCB7fSk7CgkJCX0KCgkJCS8vIElmIHNldHVwIGlzIGNhbGxlZCwgd2Uga25vdyBpdCBpcyB0aGUgZmlyc3QgYmluZGluZyBmb3IgdGhpcwoJCQkvLyBldmVudFR5cGUsIHNvIGluaXRpYWxpemUgdGhlIGNvdW50IGZvciB0aGUgZXZlbnRUeXBlIHRvIHplcm8uCgkJCXZhciBiaW5kaW5ncyA9ICQuZGF0YSggdGhpcywgZGF0YVByb3BlcnR5TmFtZSApOwoJCQliaW5kaW5nc1sgZXZlbnRUeXBlIF0gPSB0cnVlOwoKCQkJLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBldmVudCBmb3IgdGhpcyB0eXBlLAoJCQkvLyByZWdpc3RlciBhIGdsb2JhbCBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudC4KCgkJCWFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXSA9ICggYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdIHx8IDAgKSArIDE7CgoJCQlpZiAoIGFjdGl2ZURvY0hhbmRsZXJzWyBldmVudFR5cGUgXSA9PT0gMSApIHsKCQkJCSRkb2N1bWVudC5iaW5kKCByZWFsVHlwZSwgbW91c2VFdmVudENhbGxiYWNrICk7CgkJCX0KCgkJCS8vIFNvbWUgYnJvd3NlcnMsIGxpa2UgT3BlcmEgTWluaSwgd29uJ3QgZGlzcGF0Y2ggbW91c2UvY2xpY2sgZXZlbnRzCgkJCS8vIGZvciBlbGVtZW50cyB1bmxlc3MgdGhleSBhY3R1YWxseSBoYXZlIGhhbmRsZXJzIHJlZ2lzdGVyZWQgb24gdGhlbS4KCQkJLy8gVG8gZ2V0IGFyb3VuZCB0aGlzLCB3ZSByZWdpc3RlciBkdW1teSBoYW5kbGVycyBvbiB0aGUgZWxlbWVudHMuCgoJCQkkKCB0aGlzICkuYmluZCggcmVhbFR5cGUsIGR1bW15TW91c2VIYW5kbGVyICk7CgoJCQkvLyBGb3Igbm93LCBpZiBldmVudCBjYXB0dXJlIGlzIG5vdCBzdXBwb3J0ZWQsIHdlIHJlbHkgb24gbW91c2UgaGFuZGxlcnMuCgkJCWlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkgewoJCQkJLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGZvciB0aGUgZG9jdW1lbnQsCgkJCQkvLyByZWdpc3RlciBvdXIgdG91Y2hzdGFydCBoYW5kbGVyIG9uIHRoZSBkb2N1bWVudC4KCgkJCQlhY3RpdmVEb2NIYW5kbGVyc1sgInRvdWNoc3RhcnQiIF0gPSAoIGFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXSB8fCAwKSArIDE7CgoJCQkJaWYgKGFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXSA9PT0gMSkgewoJCQkJCSRkb2N1bWVudC5iaW5kKCAidG91Y2hzdGFydCIsIGhhbmRsZVRvdWNoU3RhcnQgKQoJCQkJCQkuYmluZCggInRvdWNoZW5kIiwgaGFuZGxlVG91Y2hFbmQgKQoKCQkJCQkJLy8gT24gdG91Y2ggcGxhdGZvcm1zLCB0b3VjaGluZyB0aGUgc2NyZWVuIGFuZCB0aGVuIGRyYWdnaW5nIHlvdXIgZmluZ2VyCgkJCQkJCS8vIGNhdXNlcyB0aGUgd2luZG93IGNvbnRlbnQgdG8gc2Nyb2xsIGFmdGVyIHNvbWUgZGlzdGFuY2UgdGhyZXNob2xkIGlzCgkJCQkJCS8vIGV4Y2VlZGVkLiBPbiB0aGVzZSBwbGF0Zm9ybXMsIGEgc2Nyb2xsIHByZXZlbnRzIGEgY2xpY2sgZXZlbnQgZnJvbSBiZWluZwoJCQkJCQkvLyBkaXNwYXRjaGVkLCBhbmQgb24gc29tZSBwbGF0Zm9ybXMsIGV2ZW4gdGhlIHRvdWNoZW5kIGlzIHN1cHByZXNzZWQuIFRvCgkJCQkJCS8vIG1pbWljIHRoZSBzdXBwcmVzc2lvbiBvZiB0aGUgY2xpY2sgZXZlbnQsIHdlIG5lZWQgdG8gd2F0Y2ggZm9yIGEgc2Nyb2xsCgkJCQkJCS8vIGV2ZW50LiBVbmZvcnR1bmF0ZWx5LCBzb21lIHBsYXRmb3JtcyBsaWtlIGlPUyBkb24ndCBkaXNwYXRjaCBzY3JvbGwKCQkJCQkJLy8gZXZlbnRzIHVudGlsICpBRlRFUiogdGhlIHVzZXIgbGlmdHMgdGhlaXIgZmluZ2VyICh0b3VjaGVuZCkuIFRoaXMgbWVhbnMKCQkJCQkJLy8gd2UgbmVlZCB0byB3YXRjaCBib3RoIHNjcm9sbCBhbmQgdG91Y2htb3ZlIGV2ZW50cyB0byBmaWd1cmUgb3V0IHdoZXRoZXIKCQkJCQkJLy8gb3Igbm90IGEgc2Nyb2xsIGhhcHBlbmVucyBiZWZvcmUgdGhlIHRvdWNoZW5kIGV2ZW50IGlzIGZpcmVkLgoKCQkJCQkJLmJpbmQoICJ0b3VjaG1vdmUiLCBoYW5kbGVUb3VjaE1vdmUgKQoJCQkJCQkuYmluZCggInNjcm9sbCIsIGhhbmRsZVNjcm9sbCApOwoJCQkJfQoJCQl9CgkJfSwKCgkJdGVhcmRvd246IGZ1bmN0aW9uKCBkYXRhLCBuYW1lc3BhY2UgKSB7CgkJCS8vIElmIHRoaXMgaXMgdGhlIGxhc3QgdmlydHVhbCBiaW5kaW5nIGZvciB0aGlzIGV2ZW50VHlwZSwKCQkJLy8gcmVtb3ZlIGl0cyBnbG9iYWwgaGFuZGxlciBmcm9tIHRoZSBkb2N1bWVudC4KCgkJCS0tYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdOwoKCQkJaWYgKCAhYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdICkgewoJCQkJJGRvY3VtZW50LnVuYmluZCggcmVhbFR5cGUsIG1vdXNlRXZlbnRDYWxsYmFjayApOwoJCQl9CgoJCQlpZiAoIGV2ZW50Q2FwdHVyZVN1cHBvcnRlZCApIHsKCQkJCS8vIElmIHRoaXMgaXMgdGhlIGxhc3QgdmlydHVhbCBtb3VzZSBiaW5kaW5nIGluIGV4aXN0ZW5jZSwKCQkJCS8vIHJlbW92ZSBvdXIgZG9jdW1lbnQgdG91Y2hzdGFydCBsaXN0ZW5lci4KCgkJCQktLWFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXTsKCgkJCQlpZiAoICFhY3RpdmVEb2NIYW5kbGVyc1sgInRvdWNoc3RhcnQiIF0gKSB7CgkJCQkJJGRvY3VtZW50LnVuYmluZCggInRvdWNoc3RhcnQiLCBoYW5kbGVUb3VjaFN0YXJ0ICkKCQkJCQkJLnVuYmluZCggInRvdWNobW92ZSIsIGhhbmRsZVRvdWNoTW92ZSApCgkJCQkJCS51bmJpbmQoICJ0b3VjaGVuZCIsIGhhbmRsZVRvdWNoRW5kICkKCQkJCQkJLnVuYmluZCggInNjcm9sbCIsIGhhbmRsZVNjcm9sbCApOwoJCQkJfQoJCQl9CgoJCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksCgkJCQliaW5kaW5ncyA9ICQuZGF0YSggdGhpcywgZGF0YVByb3BlcnR5TmFtZSApOwoKCQkJLy8gdGVhcmRvd24gbWF5IGJlIGNhbGxlZCB3aGVuIGFuIGVsZW1lbnQgd2FzCgkJCS8vIHJlbW92ZWQgZnJvbSB0aGUgRE9NLiBJZiB0aGlzIGlzIHRoZSBjYXNlLAoJCQkvLyBqUXVlcnkgY29yZSBtYXkgaGF2ZSBhbHJlYWR5IHN0cmlwcGVkIHRoZSBlbGVtZW50CgkJCS8vIG9mIGFueSBkYXRhIGJpbmRpbmdzIHNvIHdlIG5lZWQgdG8gY2hlY2sgaXQgYmVmb3JlCgkJCS8vIHVzaW5nIGl0LgoJCQlpZiAoIGJpbmRpbmdzICkgewoJCQkJYmluZGluZ3NbIGV2ZW50VHlwZSBdID0gZmFsc2U7CgkJCX0KCgkJCS8vIFVucmVnaXN0ZXIgdGhlIGR1bW15IGV2ZW50IGhhbmRsZXIuCgoJCQkkdGhpcy51bmJpbmQoIHJlYWxUeXBlLCBkdW1teU1vdXNlSGFuZGxlciApOwoKCQkJLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgb24gdGhlCgkJCS8vIGVsZW1lbnQsIHJlbW92ZSB0aGUgYmluZGluZyBkYXRhIGZyb20gdGhlIGVsZW1lbnQuCgoJCQlpZiAoICFoYXNWaXJ0dWFsQmluZGluZ3MoIHRoaXMgKSApIHsKCQkJCSR0aGlzLnJlbW92ZURhdGEoIGRhdGFQcm9wZXJ0eU5hbWUgKTsKCQkJfQoJCX0KCX07Cn0KCi8vIEV4cG9zZSBvdXIgY3VzdG9tIGV2ZW50cyB0byB0aGUgalF1ZXJ5IGJpbmQvdW5iaW5kIG1lY2hhbmlzbS4KCmZvciAoIHZhciBpID0gMDsgaSA8IHZpcnR1YWxFdmVudE5hbWVzLmxlbmd0aDsgaSsrICl7CgkkLmV2ZW50LnNwZWNpYWxbIHZpcnR1YWxFdmVudE5hbWVzWyBpIF0gXSA9IGdldFNwZWNpYWxFdmVudE9iamVjdCggdmlydHVhbEV2ZW50TmFtZXNbIGkgXSApOwp9CgovLyBBZGQgYSBjYXB0dXJlIGNsaWNrIGhhbmRsZXIgdG8gYmxvY2sgY2xpY2tzLgovLyBOb3RlIHRoYXQgd2UgcmVxdWlyZSBldmVudCBjYXB0dXJlIHN1cHBvcnQgZm9yIHRoaXMgc28gaWYgdGhlIGRldmljZQovLyBkb2Vzbid0IHN1cHBvcnQgaXQsIHdlIHB1bnQgZm9yIG5vdyBhbmQgcmVseSBzb2xlbHkgb24gbW91c2UgZXZlbnRzLgppZiAoIGV2ZW50Q2FwdHVyZVN1cHBvcnRlZCApIHsKCWRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoICJjbGljayIsIGZ1bmN0aW9uKCBlICl7CgkJdmFyIGNudCA9IGNsaWNrQmxvY2tMaXN0Lmxlbmd0aCwKCQkJdGFyZ2V0ID0gZS50YXJnZXQsCgkJCXgsIHksIGVsZSwgaSwgbywgdG91Y2hJRDsKCgkJaWYgKCBjbnQgKSB7CgkJCXggPSBlLmNsaWVudFg7CgkJCXkgPSBlLmNsaWVudFk7CgkJCXRocmVzaG9sZCA9ICQudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7CgoJCQkvLyBUaGUgaWRlYSBoZXJlIGlzIHRvIHJ1biB0aHJvdWdoIHRoZSBjbGlja0Jsb2NrTGlzdCB0byBzZWUgaWYKCQkJLy8gdGhlIGN1cnJlbnQgY2xpY2sgZXZlbnQgaXMgaW4gdGhlIHByb3hpbWl0eSBvZiBvbmUgb2Ygb3VyCgkJCS8vIHZjbGljayBldmVudHMgdGhhdCBoYWQgcHJldmVudERlZmF1bHQoKSBjYWxsZWQgb24gaXQuIElmIHdlIGZpbmQKCQkJLy8gb25lLCB0aGVuIHdlIGJsb2NrIHRoZSBjbGljay4KCQkJLy8KCQkJLy8gV2h5IGRvIHdlIGhhdmUgdG8gcmVseSBvbiBwcm94aW1pdHk/CgkJCS8vCgkJCS8vIEJlY2F1c2UgdGhlIHRhcmdldCBvZiB0aGUgdG91Y2ggZXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHZjbGljawoJCQkvLyBjYW4gYmUgZGlmZmVyZW50IGZyb20gdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgZXZlbnQgc3ludGhlc2l6ZWQKCQkJLy8gYnkgdGhlIGJyb3dzZXIuIFRoZSB0YXJnZXQgb2YgYSBtb3VzZS9jbGljayBldmVudCB0aGF0IGlzIHN5bnRlaHNpemVkCgkJCS8vIGZyb20gYSB0b3VjaCBldmVudCBzZWVtcyB0byBiZSBpbXBsZW1lbnRhdGlvbiBzcGVjaWZpYy4gRm9yIGV4YW1wbGUsCgkJCS8vIHNvbWUgYnJvd3NlcnMgd2lsbCBmaXJlIG1vdXNlL2NsaWNrIGV2ZW50cyBmb3IgYSBsaW5rIHRoYXQgaXMgbmVhcgoJCQkvLyBhIHRvdWNoIGV2ZW50LCBldmVuIHRob3VnaCB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaHN0YXJ0L3RvdWNoZW5kIGV2ZW50CgkJCS8vIHNheXMgdGhlIHVzZXIgdG91Y2hlZCBvdXRzaWRlIHRoZSBsaW5rLiBBbHNvLCBpdCBzZWVtcyB0aGF0IHdpdGggbW9zdAoJCQkvLyBicm93c2VycywgdGhlIHRhcmdldCBvZiB0aGUgbW91c2UvY2xpY2sgZXZlbnQgaXMgbm90IGNhbGN1bGF0ZWQgdW50aWwgdGhlCgkJCS8vIHRpbWUgaXQgaXMgZGlzcGF0Y2hlZCwgc28gaWYgeW91IHJlcGxhY2UgYW4gZWxlbWVudCB0aGF0IHlvdSB0b3VjaGVkCgkJCS8vIHdpdGggYW5vdGhlciBlbGVtZW50LCB0aGUgdGFyZ2V0IG9mIHRoZSBtb3VzZS9jbGljayB3aWxsIGJlIHRoZSBuZXcKCQkJLy8gZWxlbWVudCB1bmRlcm5lYXRoIHRoYXQgcG9pbnQuCgkJCS8vCgkJCS8vIEFzaWRlIGZyb20gcHJveGltaXR5LCB3ZSBhbHNvIGNoZWNrIHRvIHNlZSBpZiB0aGUgdGFyZ2V0IGFuZCBhbnkKCQkJLy8gb2YgaXRzIGFuY2VzdG9ycyB3ZXJlIHRoZSBvbmVzIHRoYXQgYmxvY2tlZCBhIGNsaWNrLiBUaGlzIGlzIG5lY2Vzc2FyeQoJCQkvLyBiZWNhdXNlIG9mIHRoZSBzdHJhbmdlIG1vdXNlL2NsaWNrIHRhcmdldCBjYWxjdWxhdGlvbiBkb25lIGluIHRoZQoJCQkvLyBBbmRyb2lkIDIuMSBicm93c2VyLCB3aGVyZSBpZiB5b3UgY2xpY2sgb24gYW4gZWxlbWVudCwgYW5kIHRoZXJlIGlzIGEKCQkJLy8gbW91c2UvY2xpY2sgaGFuZGxlciBvbiBvbmUgb2YgaXRzIGFuY2VzdG9ycywgdGhlIHRhcmdldCB3aWxsIGJlIHRoZQoJCQkvLyBpbm5lcm1vc3QgY2hpbGQgb2YgdGhlIHRvdWNoZWQgZWxlbWVudCwgZXZlbiBpZiB0aGF0IGNoaWxkIGlzIG5vIHdoZXJlCgkJCS8vIG5lYXIgdGhlIHBvaW50IG9mIHRvdWNoLgoKCQkJZWxlID0gdGFyZ2V0OwoKCQkJd2hpbGUgKCBlbGUgKSB7CgkJCQlmb3IgKCBpID0gMDsgaSA8IGNudDsgaSsrICkgewoJCQkJCW8gPSBjbGlja0Jsb2NrTGlzdFsgaSBdOwoJCQkJCXRvdWNoSUQgPSAwOwoKCQkJCQlpZiAoICggZWxlID09PSB0YXJnZXQgJiYgTWF0aC5hYnMoIG8ueCAtIHggKSA8IHRocmVzaG9sZCAmJiBNYXRoLmFicyggby55IC0geSApIDwgdGhyZXNob2xkICkgfHwKCQkJCQkJCQkkLmRhdGEoIGVsZSwgdG91Y2hUYXJnZXRQcm9wZXJ0eU5hbWUgKSA9PT0gby50b3VjaElEICkgewoJCQkJCQkvLyBYWFg6IFdlIG1heSB3YW50IHRvIGNvbnNpZGVyIHJlbW92aW5nIG1hdGNoZXMgZnJvbSB0aGUgYmxvY2sgbGlzdAoJCQkJCQkvLyAgICAgIGluc3RlYWQgb2Ygd2FpdGluZyBmb3IgdGhlIHJlc2V0IHRpbWVyIHRvIGZpcmUuCgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJZS5zdG9wUHJvcGFnYXRpb24oKTsKCQkJCQkJcmV0dXJuOwoJCQkJCX0KCQkJCX0KCQkJCWVsZSA9IGVsZS5wYXJlbnROb2RlOwoJCQl9CgkJfQoJfSwgdHJ1ZSk7Cn0KfSkoIGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogZXZlbnRzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsKCi8vIGFkZCBuZXcgZXZlbnQgc2hvcnRjdXRzCiQuZWFjaCggKCAidG91Y2hzdGFydCB0b3VjaG1vdmUgdG91Y2hlbmQgb3JpZW50YXRpb25jaGFuZ2UgdGhyb3R0bGVkcmVzaXplICIgKwoJCQkJCSJ0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIiApLnNwbGl0KCAiICIgKSwgZnVuY3Rpb24oIGksIG5hbWUgKSB7CgoJJC5mblsgbmFtZSBdID0gZnVuY3Rpb24oIGZuICkgewoJCXJldHVybiBmbiA/IHRoaXMuYmluZCggbmFtZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggbmFtZSApOwoJfTsKCgkkLmF0dHJGblsgbmFtZSBdID0gdHJ1ZTsKfSk7Cgp2YXIgc3VwcG9ydFRvdWNoID0gJC5zdXBwb3J0LnRvdWNoLAoJc2Nyb2xsRXZlbnQgPSAidG91Y2htb3ZlIHNjcm9sbCIsCgl0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hzdGFydCIgOiAibW91c2Vkb3duIiwKCXRvdWNoU3RvcEV2ZW50ID0gc3VwcG9ydFRvdWNoID8gInRvdWNoZW5kIiA6ICJtb3VzZXVwIiwKCXRvdWNoTW92ZUV2ZW50ID0gc3VwcG9ydFRvdWNoID8gInRvdWNobW92ZSIgOiAibW91c2Vtb3ZlIjsKCmZ1bmN0aW9uIHRyaWdnZXJDdXN0b21FdmVudCggb2JqLCBldmVudFR5cGUsIGV2ZW50ICkgewoJdmFyIG9yaWdpbmFsVHlwZSA9IGV2ZW50LnR5cGU7CglldmVudC50eXBlID0gZXZlbnRUeXBlOwoJJC5ldmVudC5oYW5kbGUuY2FsbCggb2JqLCBldmVudCApOwoJZXZlbnQudHlwZSA9IG9yaWdpbmFsVHlwZTsKfQoKLy8gYWxzbyBoYW5kbGVzIHNjcm9sbHN0b3AKJC5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0ID0gewoKCWVuYWJsZWQ6IHRydWUsCgoJc2V0dXA6IGZ1bmN0aW9uKCkgewoKCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsCgkJCSR0aGlzID0gJCggdGhpc09iamVjdCApLAoJCQlzY3JvbGxpbmcsCgkJCXRpbWVyOwoKCQlmdW5jdGlvbiB0cmlnZ2VyKCBldmVudCwgc3RhdGUgKSB7CgkJCXNjcm9sbGluZyA9IHN0YXRlOwoJCQl0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsIHNjcm9sbGluZyA/ICJzY3JvbGxzdGFydCIgOiAic2Nyb2xsc3RvcCIsIGV2ZW50ICk7CgkJfQoKCQkvLyBpUGhvbmUgdHJpZ2dlcnMgc2Nyb2xsIGFmdGVyIGEgc21hbGwgZGVsYXk7IHVzZSB0b3VjaG1vdmUgaW5zdGVhZAoJCSR0aGlzLmJpbmQoIHNjcm9sbEV2ZW50LCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCQlpZiAoICEkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCApIHsKCQkJCXJldHVybjsKCQkJfQoKCQkJaWYgKCAhc2Nyb2xsaW5nICkgewoJCQkJdHJpZ2dlciggZXZlbnQsIHRydWUgKTsKCQkJfQoKCQkJY2xlYXJUaW1lb3V0KCB0aW1lciApOwoJCQl0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQl0cmlnZ2VyKCBldmVudCwgZmFsc2UgKTsKCQkJfSwgNTAgKTsKCQl9KTsKCX0KfTsKCi8vIGFsc28gaGFuZGxlcyB0YXBob2xkCiQuZXZlbnQuc3BlY2lhbC50YXAgPSB7CglzZXR1cDogZnVuY3Rpb24oKSB7CgkJdmFyIHRoaXNPYmplY3QgPSB0aGlzLAoJCQkkdGhpcyA9ICQoIHRoaXNPYmplY3QgKTsKCgkJJHRoaXMuYmluZCggInZtb3VzZWRvd24iLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCQlpZiAoIGV2ZW50LndoaWNoICYmIGV2ZW50LndoaWNoICE9PSAxICkgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQl2YXIgdG91Y2hpbmcgPSB0cnVlLAoJCQkJb3JpZ1RhcmdldCA9IGV2ZW50LnRhcmdldCwKCQkJCW9yaWdFdmVudCA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQsCgkJCQl0aW1lcjsKCgkJCWZ1bmN0aW9uIGNsZWFyVGFwSGFuZGxlcnMoKSB7CgkJCQl0b3VjaGluZyA9IGZhbHNlOwoJCQkJY2xlYXJUaW1lb3V0KHRpbWVyKTsKCgkJCQkkdGhpcy51bmJpbmQoICJ2Y2xpY2siLCBjbGlja0hhbmRsZXIgKQoJCQkJCS51bmJpbmQoICJ2bW91c2VjYW5jZWwiLCBjbGVhclRhcEhhbmRsZXJzICk7CgkJCX0KCgkJCWZ1bmN0aW9uIGNsaWNrSGFuZGxlcihldmVudCkgewoJCQkJY2xlYXJUYXBIYW5kbGVycygpOwoKCQkJCS8vIE9OTFkgdHJpZ2dlciBhICd0YXAnIGV2ZW50IGlmIHRoZSBzdGFydCB0YXJnZXQgaXMKCQkJCS8vIHRoZSBzYW1lIGFzIHRoZSBzdG9wIHRhcmdldC4KCQkJCWlmICggb3JpZ1RhcmdldCA9PSBldmVudC50YXJnZXQgKSB7CgkJCQkJdHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCAidGFwIiwgZXZlbnQgKTsKCQkJCX0KCQkJfQoKCQkJJHRoaXMuYmluZCggInZtb3VzZWNhbmNlbCIsIGNsZWFyVGFwSGFuZGxlcnMgKQoJCQkJLmJpbmQoICJ2Y2xpY2siLCBjbGlja0hhbmRsZXIgKTsKCgkJCXRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCWlmICggdG91Y2hpbmcgKSB7CgkJCQkJdHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCAidGFwaG9sZCIsIGV2ZW50ICk7CgkJCQl9CgkJCX0sIDc1MCApOwoJCX0pOwoJfQp9OwoKLy8gYWxzbyBoYW5kbGVzIHN3aXBlbGVmdCwgc3dpcGVyaWdodAokLmV2ZW50LnNwZWNpYWwuc3dpcGUgPSB7CglzY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkOiAxMCwgLy8gTW9yZSB0aGFuIHRoaXMgaG9yaXpvbnRhbCBkaXNwbGFjZW1lbnQsIGFuZCB3ZSB3aWxsIHN1cHByZXNzIHNjcm9sbGluZy4KCQoJZHVyYXRpb25UaHJlc2hvbGQ6IDEwMDAsIC8vIE1vcmUgdGltZSB0aGFuIHRoaXMsIGFuZCBpdCBpc24ndCBhIHN3aXBlLgoJCglob3Jpem9udGFsRGlzdGFuY2VUaHJlc2hvbGQ6IDMwLCAgLy8gU3dpcGUgaG9yaXpvbnRhbCBkaXNwbGFjZW1lbnQgbXVzdCBiZSBtb3JlIHRoYW4gdGhpcy4KCQoJdmVydGljYWxEaXN0YW5jZVRocmVzaG9sZDogNzUsICAvLyBTd2lwZSB2ZXJ0aWNhbCBkaXNwbGFjZW1lbnQgbXVzdCBiZSBsZXNzIHRoYW4gdGhpcy4KCglzZXR1cDogZnVuY3Rpb24oKSB7CgkJdmFyIHRoaXNPYmplY3QgPSB0aGlzLAoJCQkkdGhpcyA9ICQoIHRoaXNPYmplY3QgKTsKCgkJJHRoaXMuYmluZCggdG91Y2hTdGFydEV2ZW50LCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID8KCQkJCQkJCQlldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50LAoJCQkJc3RhcnQgPSB7CgkJCQkJdGltZTogKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpLAoJCQkJCWNvb3JkczogWyBkYXRhLnBhZ2VYLCBkYXRhLnBhZ2VZIF0sCgkJCQkJb3JpZ2luOiAkKCBldmVudC50YXJnZXQgKQoJCQkJfSwKCQkJCXN0b3A7CgoJCQlmdW5jdGlvbiBtb3ZlSGFuZGxlciggZXZlbnQgKSB7CgoJCQkJaWYgKCAhc3RhcnQgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXZhciBkYXRhID0gZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzID8KCQkJCQkJZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWyAwIF0gOiBldmVudDsKCgkJCQlzdG9wID0gewoJCQkJCXRpbWU6ICggbmV3IERhdGUoKSApLmdldFRpbWUoKSwKCQkJCQljb29yZHM6IFsgZGF0YS5wYWdlWCwgZGF0YS5wYWdlWSBdCgkJCQl9OwoKCQkJCS8vIHByZXZlbnQgc2Nyb2xsaW5nCgkJCQlpZiAoIE1hdGguYWJzKCBzdGFydC5jb29yZHNbIDAgXSAtIHN0b3AuY29vcmRzWyAwIF0gKSA+ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkICkgewoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQl9CgkJCX0KCgkJCSR0aGlzLmJpbmQoIHRvdWNoTW92ZUV2ZW50LCBtb3ZlSGFuZGxlciApCgkJCQkub25lKCB0b3VjaFN0b3BFdmVudCwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJCSR0aGlzLnVuYmluZCggdG91Y2hNb3ZlRXZlbnQsIG1vdmVIYW5kbGVyICk7CgoJCQkJCWlmICggc3RhcnQgJiYgc3RvcCApIHsKCQkJCQkJaWYgKCBzdG9wLnRpbWUgLSBzdGFydC50aW1lIDwgJC5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkICYmCgkJCQkJCQkJTWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMCBdIC0gc3RvcC5jb29yZHNbIDAgXSApID4gJC5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCAmJgoJCQkJCQkJCU1hdGguYWJzKCBzdGFydC5jb29yZHNbIDEgXSAtIHN0b3AuY29vcmRzWyAxIF0gKSA8ICQuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkICkgewoKCQkJCQkJCXN0YXJ0Lm9yaWdpbi50cmlnZ2VyKCAic3dpcGUiICkKCQkJCQkJCQkudHJpZ2dlciggc3RhcnQuY29vcmRzWzBdID4gc3RvcC5jb29yZHNbIDAgXSA/ICJzd2lwZWxlZnQiIDogInN3aXBlcmlnaHQiICk7CgkJCQkJCX0KCQkJCQl9CgkJCQkJc3RhcnQgPSBzdG9wID0gdW5kZWZpbmVkOwoJCQkJfSk7CgkJfSk7Cgl9Cn07CgooZnVuY3Rpb24oICQsIHdpbmRvdyApIHsKCS8vICJDb3dib3kiIEJlbiBBbG1hbgoKCXZhciB3aW4gPSAkKCB3aW5kb3cgKSwKCQlzcGVjaWFsX2V2ZW50LAoJCWdldF9vcmllbnRhdGlvbiwKCQlsYXN0X29yaWVudGF0aW9uOwoKCSQuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZSA9IHNwZWNpYWxfZXZlbnQgPSB7CgkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkvLyBJZiB0aGUgZXZlbnQgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCByZXR1cm4gZmFsc2Ugc28gdGhhdCBqUXVlcnkKCQkJLy8gd2lsbCBiaW5kIHRvIHRoZSBldmVudCB1c2luZyBET00gbWV0aG9kcy4KCQkJaWYgKCAkLnN1cHBvcnQub3JpZW50YXRpb24gKSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCS8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbiB0byBhdm9pZCBpbml0aWFsIGRvdWJsZS10cmlnZ2VyaW5nLgoJCQlsYXN0X29yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uKCk7CgoJCQkvLyBCZWNhdXNlIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudCBkb2Vzbid0IGV4aXN0LCBzaW11bGF0ZSB0aGUKCQkJLy8gZXZlbnQgYnkgdGVzdGluZyB3aW5kb3cgZGltZW5zaW9ucyBvbiByZXNpemUuCgkJCXdpbi5iaW5kKCAidGhyb3R0bGVkcmVzaXplIiwgaGFuZGxlciApOwoJCX0sCgkJdGVhcmRvd246IGZ1bmN0aW9uKCl7CgkJCS8vIElmIHRoZSBldmVudCBpcyBub3Qgc3VwcG9ydGVkIG5hdGl2ZWx5LCByZXR1cm4gZmFsc2Ugc28gdGhhdAoJCQkvLyBqUXVlcnkgd2lsbCB1bmJpbmQgdGhlIGV2ZW50IHVzaW5nIERPTSBtZXRob2RzLgoJCQlpZiAoICQuc3VwcG9ydC5vcmllbnRhdGlvbiApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJLy8gQmVjYXVzZSB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQgZG9lc24ndCBleGlzdCwgdW5iaW5kIHRoZQoJCQkvLyByZXNpemUgZXZlbnQgaGFuZGxlci4KCQkJd2luLnVuYmluZCggInRocm90dGxlZHJlc2l6ZSIsIGhhbmRsZXIgKTsKCQl9LAoJCWFkZDogZnVuY3Rpb24oIGhhbmRsZU9iaiApIHsKCQkJLy8gU2F2ZSBhIHJlZmVyZW5jZSB0byB0aGUgYm91bmQgZXZlbnQgaGFuZGxlci4KCQkJdmFyIG9sZF9oYW5kbGVyID0gaGFuZGxlT2JqLmhhbmRsZXI7CgoJCQloYW5kbGVPYmouaGFuZGxlciA9IGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCS8vIE1vZGlmeSBldmVudCBvYmplY3QsIGFkZGluZyB0aGUgLm9yaWVudGF0aW9uIHByb3BlcnR5LgoJCQkJZXZlbnQub3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTsKCgkJCQkvLyBDYWxsIHRoZSBvcmlnaW5hbGx5LWJvdW5kIGV2ZW50IGhhbmRsZXIgYW5kIHJldHVybiBpdHMgcmVzdWx0LgoJCQkJcmV0dXJuIG9sZF9oYW5kbGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTsKCQkJfTsKCQl9Cgl9OwoKCS8vIElmIHRoZSBldmVudCBpcyBub3Qgc3VwcG9ydGVkIG5hdGl2ZWx5LCB0aGlzIGhhbmRsZXIgd2lsbCBiZSBib3VuZCB0bwoJLy8gdGhlIHdpbmRvdyByZXNpemUgZXZlbnQgdG8gc2ltdWxhdGUgdGhlIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50LgoJZnVuY3Rpb24gaGFuZGxlcigpIHsKCQkvLyBHZXQgdGhlIGN1cnJlbnQgb3JpZW50YXRpb24uCgkJdmFyIG9yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uKCk7CgoJCWlmICggb3JpZW50YXRpb24gIT09IGxhc3Rfb3JpZW50YXRpb24gKSB7CgkJCS8vIFRoZSBvcmllbnRhdGlvbiBoYXMgY2hhbmdlZCwgc28gdHJpZ2dlciB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuCgkJCWxhc3Rfb3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjsKCQkJd2luLnRyaWdnZXIoICJvcmllbnRhdGlvbmNoYW5nZSIgKTsKCQl9Cgl9OwoKCS8vIEdldCB0aGUgY3VycmVudCBwYWdlIG9yaWVudGF0aW9uLiBUaGlzIG1ldGhvZCBpcyBleHBvc2VkIHB1YmxpY2x5LCBzaG91bGQgaXQKCS8vIGJlIG5lZWRlZCwgYXMgalF1ZXJ5LmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKQoJJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uID0gZ2V0X29yaWVudGF0aW9uID0gZnVuY3Rpb24oKSB7CgkJdmFyIGVsZW0gPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CgkJcmV0dXJuIGVsZW0gJiYgZWxlbS5jbGllbnRXaWR0aCAvIGVsZW0uY2xpZW50SGVpZ2h0IDwgMS4xID8gInBvcnRyYWl0IiA6ICJsYW5kc2NhcGUiOwoJfTsKCn0pKCBqUXVlcnksIHdpbmRvdyApOwoKCi8vIHRocm90dGxlZCByZXNpemUgZXZlbnQKKGZ1bmN0aW9uKCkgewoKCSQuZXZlbnQuc3BlY2lhbC50aHJvdHRsZWRyZXNpemUgPSB7CgkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkkKCB0aGlzICkuYmluZCggInJlc2l6ZSIsIGhhbmRsZXIgKTsKCQl9LAoJCXRlYXJkb3duOiBmdW5jdGlvbigpewoJCQkkKCB0aGlzICkudW5iaW5kKCAicmVzaXplIiwgaGFuZGxlciApOwoJCX0KCX07CgoJdmFyIHRocm90dGxlID0gMjUwLAoJCWhhbmRsZXIgPSBmdW5jdGlvbigpIHsKCQkJY3VyciA9ICggbmV3IERhdGUoKSApLmdldFRpbWUoKTsKCQkJZGlmZiA9IGN1cnIgLSBsYXN0Q2FsbDsKCgkJCWlmICggZGlmZiA+PSB0aHJvdHRsZSApIHsKCgkJCQlsYXN0Q2FsbCA9IGN1cnI7CgkJCQkkKCB0aGlzICkudHJpZ2dlciggInRocm90dGxlZHJlc2l6ZSIgKTsKCgkJCX0gZWxzZSB7CgoJCQkJaWYgKCBoZWxkQ2FsbCApIHsKCQkJCQljbGVhclRpbWVvdXQoIGhlbGRDYWxsICk7CgkJCQl9CgoJCQkJLy8gUHJvbWlzZSBhIGhlbGQgY2FsbCB3aWxsIHN0aWxsIGV4ZWN1dGUKCQkJCWhlbGRDYWxsID0gc2V0VGltZW91dCggaGFuZGxlciwgdGhyb3R0bGUgLSBkaWZmICk7CgkJCX0KCQl9LAoJCWxhc3RDYWxsID0gMCwKCQloZWxkQ2FsbCwKCQljdXJyLAoJCWRpZmY7Cn0pKCk7CgoKJC5lYWNoKHsKCXNjcm9sbHN0b3A6ICJzY3JvbGxzdGFydCIsCgl0YXBob2xkOiAidGFwIiwKCXN3aXBlbGVmdDogInN3aXBlIiwKCXN3aXBlcmlnaHQ6ICJzd2lwZSIKfSwgZnVuY3Rpb24oIGV2ZW50LCBzb3VyY2VFdmVudCApIHsKCgkkLmV2ZW50LnNwZWNpYWxbIGV2ZW50IF0gPSB7CgkJc2V0dXA6IGZ1bmN0aW9uKCkgewoJCQkkKCB0aGlzICkuYmluZCggc291cmNlRXZlbnQsICQubm9vcCApOwoJCX0KCX07Cn0pOwoKfSkoIGpRdWVyeSwgdGhpcyApOwovKiEKICogalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQgLSB2MS4zIC0gNy8yMS8yMDEwCiAqIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UtcGx1Z2luLwogKiAKICogQ29weXJpZ2h0IChjKSAyMDEwICJDb3dib3kiIEJlbiBBbG1hbgogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy4KICogaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlLwogKi8KCi8vIFNjcmlwdDogalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQKLy8KLy8gKlZlcnNpb246IDEuMywgTGFzdCB1cGRhdGVkOiA3LzIxLzIwMTAqCi8vIAovLyBQcm9qZWN0IEhvbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlLXBsdWdpbi8KLy8gR2l0SHViICAgICAgIC0gaHR0cDovL2dpdGh1Yi5jb20vY293Ym95L2pxdWVyeS1oYXNoY2hhbmdlLwovLyBTb3VyY2UgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtaGFzaGNoYW5nZS5qcwovLyAoTWluaWZpZWQpICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvcmF3L21hc3Rlci9qcXVlcnkuYmEtaGFzaGNoYW5nZS5taW4uanMgKDAuOGtiIGd6aXBwZWQpCi8vIAovLyBBYm91dDogTGljZW5zZQovLyAKLy8gQ29weXJpZ2h0IChjKSAyMDEwICJDb3dib3kiIEJlbiBBbG1hbiwKLy8gRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGFuZCBHUEwgbGljZW5zZXMuCi8vIGh0dHA6Ly9iZW5hbG1hbi5jb20vYWJvdXQvbGljZW5zZS8KLy8gCi8vIEFib3V0OiBFeGFtcGxlcwovLyAKLy8gVGhlc2Ugd29ya2luZyBleGFtcGxlcywgY29tcGxldGUgd2l0aCBmdWxseSBjb21tZW50ZWQgY29kZSwgaWxsdXN0cmF0ZSBhIGZldwovLyB3YXlzIGluIHdoaWNoIHRoaXMgcGx1Z2luIGNhbiBiZSB1c2VkLgovLyAKLy8gaGFzaGNoYW5nZSBldmVudCAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9oYXNoY2hhbmdlLwovLyBkb2N1bWVudC5kb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvZG9jdW1lbnRfZG9tYWluLwovLyAKLy8gQWJvdXQ6IFN1cHBvcnQgYW5kIFRlc3RpbmcKLy8gCi8vIEluZm9ybWF0aW9uIGFib3V0IHdoYXQgdmVyc2lvbiBvciB2ZXJzaW9ucyBvZiBqUXVlcnkgdGhpcyBwbHVnaW4gaGFzIGJlZW4KLy8gdGVzdGVkIHdpdGgsIHdoYXQgYnJvd3NlcnMgaXQgaGFzIGJlZW4gdGVzdGVkIGluLCBhbmQgd2hlcmUgdGhlIHVuaXQgdGVzdHMKLy8gcmVzaWRlIChzbyB5b3UgY2FuIHRlc3QgaXQgeW91cnNlbGYpLgovLyAKLy8galF1ZXJ5IFZlcnNpb25zIC0gMS4yLjYsIDEuMy4yLCAxLjQuMSwgMS40LjIKLy8gQnJvd3NlcnMgVGVzdGVkIC0gSW50ZXJuZXQgRXhwbG9yZXIgNi04LCBGaXJlZm94IDItNCwgQ2hyb21lIDUtNiwgU2FmYXJpIDMuMi01LAovLyAgICAgICAgICAgICAgICAgICBPcGVyYSA5LjYtMTAuNjAsIGlQaG9uZSAzLjEsIEFuZHJvaWQgMS42LTIuMiwgQmxhY2tCZXJyeSA0LjYtNS4KLy8gVW5pdCBUZXN0cyAgICAgIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL3VuaXQvCi8vIAovLyBBYm91dDogS25vd24gaXNzdWVzCi8vIAovLyBXaGlsZSB0aGlzIGpRdWVyeSBoYXNoY2hhbmdlIGV2ZW50IGltcGxlbWVudGF0aW9uIGlzIHF1aXRlIHN0YWJsZSBhbmQKLy8gcm9idXN0LCB0aGVyZSBhcmUgYSBmZXcgdW5mb3J0dW5hdGUgYnJvd3NlciBidWdzIHN1cnJvdW5kaW5nIGV4cGVjdGVkCi8vIGhhc2hjaGFuZ2UgZXZlbnQtYmFzZWQgYmVoYXZpb3JzLCBpbmRlcGVuZGVudCBvZiBhbnkgSmF2YVNjcmlwdAovLyB3aW5kb3cub25oYXNoY2hhbmdlIGFic3RyYWN0aW9uLiBTZWUgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBmb3IgbW9yZQovLyBpbmZvcm1hdGlvbjoKLy8gCi8vIENocm9tZTogQmFjayBCdXR0b24gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLWNocm9tZS1iYWNrLWJ1dHRvbi8KLy8gRmlyZWZveDogUmVtb3RlIFhNTEh0dHBSZXF1ZXN0IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2J1Zy1maXJlZm94LXJlbW90ZS14aHIvCi8vIFdlYktpdDogQmFjayBCdXR0b24gaW4gYW4gSWZyYW1lIC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2J1Zy13ZWJraXQtaGFzaC1pZnJhbWUvCi8vIFNhZmFyaTogQmFjayBCdXR0b24gZnJvbSBhIGRpZmZlcmVudCBkb21haW4gLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXNhZmFyaS1iYWNrLWZyb20tZGlmZi1kb21haW4vCi8vIAovLyBBbHNvIG5vdGUgdGhhdCBzaG91bGQgYSBicm93c2VyIG5hdGl2ZWx5IHN1cHBvcnQgdGhlIHdpbmRvdy5vbmhhc2hjaGFuZ2UgCi8vIGV2ZW50LCBidXQgbm90IHJlcG9ydCB0aGF0IGl0IGRvZXMsIHRoZSBmYWxsYmFjayBwb2xsaW5nIGxvb3Agd2lsbCBiZSB1c2VkLgovLyAKLy8gQWJvdXQ6IFJlbGVhc2UgSGlzdG9yeQovLyAKLy8gMS4zICAgLSAoNy8yMS8yMDEwKSBSZW9yZ2FuaXplZCBJRTYvNyBJZnJhbWUgY29kZSB0byBtYWtlIGl0IG1vcmUKLy8gICAgICAgICAicmVtb3ZhYmxlIiBmb3IgbW9iaWxlLW9ubHkgZGV2ZWxvcG1lbnQuIEFkZGVkIElFNi83IGRvY3VtZW50LnRpdGxlCi8vICAgICAgICAgc3VwcG9ydC4gQXR0ZW1wdGVkIHRvIG1ha2UgSWZyYW1lIGFzIGhpZGRlbiBhcyBwb3NzaWJsZSBieSB1c2luZwovLyAgICAgICAgIHRlY2huaXF1ZXMgZnJvbSBodHRwOi8vd3d3LnBhY2llbGxvZ3JvdXAuY29tL2Jsb2cvP3A9NjA0LiBBZGRlZCAKLy8gICAgICAgICBzdXBwb3J0IGZvciB0aGUgInNob3J0Y3V0IiBmb3JtYXQgJCh3aW5kb3cpLmhhc2hjaGFuZ2UoIGZuICkgYW5kCi8vICAgICAgICAgJCh3aW5kb3cpLmhhc2hjaGFuZ2UoKSBsaWtlIGpRdWVyeSBwcm92aWRlcyBmb3IgYnVpbHQtaW4gZXZlbnRzLgovLyAgICAgICAgIFJlbmFtZWQgalF1ZXJ5Lmhhc2hjaGFuZ2VEZWxheSB0byA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZGVsYXk+IGFuZAovLyAgICAgICAgIGxvd2VyZWQgaXRzIGRlZmF1bHQgdmFsdWUgdG8gNTAuIEFkZGVkIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4+Ci8vICAgICAgICAgYW5kIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmM+IHByb3BlcnRpZXMgcGx1cyBkb2N1bWVudC1kb21haW4uaHRtbAovLyAgICAgICAgIGZpbGUgdG8gYWRkcmVzcyBhY2Nlc3MgZGVuaWVkIGlzc3VlcyB3aGVuIHNldHRpbmcgZG9jdW1lbnQuZG9tYWluIGluCi8vICAgICAgICAgSUU2LzcuCi8vIDEuMiAgIC0gKDIvMTEvMjAxMCkgRml4ZWQgYSBidWcgd2hlcmUgY29taW5nIGJhY2sgdG8gYSBwYWdlIHVzaW5nIHRoaXMgcGx1Z2luCi8vICAgICAgICAgZnJvbSBhIHBhZ2Ugb24gYW5vdGhlciBkb21haW4gd291bGQgY2F1c2UgYW4gZXJyb3IgaW4gU2FmYXJpIDQuIEFsc28sCi8vICAgICAgICAgSUU2LzcgSWZyYW1lIGlzIG5vdyBpbnNlcnRlZCBhZnRlciB0aGUgYm9keSAodGhpcyBhY3R1YWxseSB3b3JrcyksCi8vICAgICAgICAgd2hpY2ggcHJldmVudHMgdGhlIHBhZ2UgZnJvbSBzY3JvbGxpbmcgd2hlbiB0aGUgZXZlbnQgaXMgZmlyc3QgYm91bmQuCi8vICAgICAgICAgRXZlbnQgY2FuIGFsc28gbm93IGJlIGJvdW5kIGJlZm9yZSBET00gcmVhZHksIGJ1dCBpdCB3b24ndCBiZSB1c2FibGUKLy8gICAgICAgICBiZWZvcmUgdGhlbiBpbiBJRTYvNy4KLy8gMS4xICAgLSAoMS8yMS8yMDEwKSBJbmNvcnBvcmF0ZWQgZG9jdW1lbnQuZG9jdW1lbnRNb2RlIHRlc3QgdG8gZml4IElFOCBidWcKLy8gICAgICAgICB3aGVyZSBicm93c2VyIHZlcnNpb24gaXMgaW5jb3JyZWN0bHkgcmVwb3J0ZWQgYXMgOC4wLCBkZXNwaXRlCi8vICAgICAgICAgaW5jbHVzaW9uIG9mIHRoZSBYLVVBLUNvbXBhdGlibGUgSUU9RW11bGF0ZUlFNyBtZXRhIHRhZy4KLy8gMS4wICAgLSAoMS85LzIwMTApIEluaXRpYWwgUmVsZWFzZS4gQnJva2Ugb3V0IHRoZSBqUXVlcnkgQkJRIGV2ZW50LnNwZWNpYWwKLy8gICAgICAgICB3aW5kb3cub25oYXNoY2hhbmdlIGZ1bmN0aW9uYWxpdHkgaW50byBhIHNlcGFyYXRlIHBsdWdpbiBmb3IgdXNlcnMKLy8gICAgICAgICB3aG8gd2FudCBqdXN0IHRoZSBiYXNpYyBldmVudCAmIGJhY2sgYnV0dG9uIHN1cHBvcnQsIHdpdGhvdXQgYWxsIHRoZQovLyAgICAgICAgIGV4dHJhIGF3ZXNvbWVuZXNzIHRoYXQgQkJRIHByb3ZpZGVzLiBUaGlzIHBsdWdpbiB3aWxsIGJlIGluY2x1ZGVkIGFzCi8vICAgICAgICAgcGFydCBvZiBqUXVlcnkgQkJRLCBidXQgYWxzbyBiZSBhdmFpbGFibGUgc2VwYXJhdGVseS4KCihmdW5jdGlvbigkLHdpbmRvdyx1bmRlZmluZWQpewogICckOm5vbXVuZ2UnOyAvLyBVc2VkIGJ5IFlVSSBjb21wcmVzc29yLgogIAogIC8vIFJldXNlZCBzdHJpbmcuCiAgdmFyIHN0cl9oYXNoY2hhbmdlID0gJ2hhc2hjaGFuZ2UnLAogICAgCiAgICAvLyBNZXRob2QgLyBvYmplY3QgcmVmZXJlbmNlcy4KICAgIGRvYyA9IGRvY3VtZW50LAogICAgZmFrZV9vbmhhc2hjaGFuZ2UsCiAgICBzcGVjaWFsID0gJC5ldmVudC5zcGVjaWFsLAogICAgCiAgICAvLyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgd2luZG93Lm9uaGFzaGNoYW5nZT8gTm90ZSB0aGF0IElFOCBydW5uaW5nIGluCiAgICAvLyBJRTcgY29tcGF0aWJpbGl0eSBtb2RlIHJlcG9ydHMgdHJ1ZSBmb3IgJ29uaGFzaGNoYW5nZScgaW4gd2luZG93LCBldmVuCiAgICAvLyB0aG91Z2ggdGhlIGV2ZW50IGlzbid0IHN1cHBvcnRlZCwgc28gYWxzbyB0ZXN0IGRvY3VtZW50LmRvY3VtZW50TW9kZS4KICAgIGRvY19tb2RlID0gZG9jLmRvY3VtZW50TW9kZSwKICAgIHN1cHBvcnRzX29uaGFzaGNoYW5nZSA9ICdvbicgKyBzdHJfaGFzaGNoYW5nZSBpbiB3aW5kb3cgJiYgKCBkb2NfbW9kZSA9PT0gdW5kZWZpbmVkIHx8IGRvY19tb2RlID4gNyApOwogIAogIC8vIEdldCBsb2NhdGlvbi5oYXNoIChvciB3aGF0IHlvdSdkIGV4cGVjdCBsb2NhdGlvbi5oYXNoIHRvIGJlKSBzYW5zIGFueQogIC8vIGxlYWRpbmcgIy4gVGhhbmtzIGZvciBtYWtpbmcgdGhpcyBuZWNlc3NhcnksIEZpcmVmb3ghCiAgZnVuY3Rpb24gZ2V0X2ZyYWdtZW50KCB1cmwgKSB7CiAgICB1cmwgPSB1cmwgfHwgbG9jYXRpb24uaHJlZjsKICAgIHJldHVybiAnIycgKyB1cmwucmVwbGFjZSggL15bXiNdKiM/KC4qKSQvLCAnJDEnICk7CiAgfTsKICAKICAvLyBNZXRob2Q6IGpRdWVyeS5mbi5oYXNoY2hhbmdlCiAgLy8gCiAgLy8gQmluZCBhIGhhbmRsZXIgdG8gdGhlIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgb3IgdHJpZ2dlciBhbGwgYm91bmQKICAvLyB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzLiBUaGlzIGJlaGF2aW9yIGlzIGNvbnNpc3RlbnQgd2l0aAogIC8vIGpRdWVyeSdzIGJ1aWx0LWluIGV2ZW50IGhhbmRsZXJzLgogIC8vIAogIC8vIFVzYWdlOgogIC8vIAogIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSggWyBoYW5kbGVyIF0gKTsKICAvLyAKICAvLyBBcmd1bWVudHM6CiAgLy8gCiAgLy8gIGhhbmRsZXIgLSAoRnVuY3Rpb24pIE9wdGlvbmFsIGhhbmRsZXIgdG8gYmUgYm91bmQgdG8gdGhlIGhhc2hjaGFuZ2UKICAvLyAgICBldmVudC4gVGhpcyBpcyBhICJzaG9ydGN1dCIgZm9yIHRoZSBtb3JlIHZlcmJvc2UgZm9ybToKICAvLyAgICBqUXVlcnkod2luZG93KS5iaW5kKCAnaGFzaGNoYW5nZScsIGhhbmRsZXIgKS4gSWYgaGFuZGxlciBpcyBvbWl0dGVkLAogIC8vICAgIGFsbCBib3VuZCB3aW5kb3cub25oYXNoY2hhbmdlIGV2ZW50IGhhbmRsZXJzIHdpbGwgYmUgdHJpZ2dlcmVkLiBUaGlzCiAgLy8gICAgaXMgYSBzaG9ydGN1dCBmb3IgdGhlIG1vcmUgdmVyYm9zZQogIC8vICAgIGpRdWVyeSh3aW5kb3cpLnRyaWdnZXIoICdoYXNoY2hhbmdlJyApLiBUaGVzZSBmb3JtcyBhcmUgZGVzY3JpYmVkIGluCiAgLy8gICAgdGhlIDxoYXNoY2hhbmdlIGV2ZW50PiBzZWN0aW9uLgogIC8vIAogIC8vIFJldHVybnM6CiAgLy8gCiAgLy8gIChqUXVlcnkpIFRoZSBpbml0aWFsIGpRdWVyeSBjb2xsZWN0aW9uIG9mIGVsZW1lbnRzLgogIAogIC8vIEFsbG93IHRoZSAic2hvcnRjdXQiIGZvcm1hdCAkKGVsZW0pLmhhc2hjaGFuZ2UoIGZuICkgZm9yIGJpbmRpbmcgYW5kCiAgLy8gJChlbGVtKS5oYXNoY2hhbmdlKCkgZm9yIHRyaWdnZXJpbmcsIGxpa2UgalF1ZXJ5IGRvZXMgZm9yIGJ1aWx0LWluIGV2ZW50cy4KICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdID0gZnVuY3Rpb24oIGZuICkgewogICAgcmV0dXJuIGZuID8gdGhpcy5iaW5kKCBzdHJfaGFzaGNoYW5nZSwgZm4gKSA6IHRoaXMudHJpZ2dlciggc3RyX2hhc2hjaGFuZ2UgKTsKICB9OwogIAogIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kZWxheQogIC8vIAogIC8vIFRoZSBudW1lcmljIGludGVydmFsIChpbiBtaWxsaXNlY29uZHMpIGF0IHdoaWNoIHRoZSA8aGFzaGNoYW5nZSBldmVudD4KICAvLyBwb2xsaW5nIGxvb3AgZXhlY3V0ZXMuIERlZmF1bHRzIHRvIDUwLgogIAogIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4KICAvLyAKICAvLyBJZiB5b3UncmUgc2V0dGluZyBkb2N1bWVudC5kb21haW4gaW4geW91ciBKYXZhU2NyaXB0LCBhbmQgeW91IHdhbnQgaGFzaAogIC8vIGhpc3RvcnkgdG8gd29yayBpbiBJRTYvNywgbm90IG9ubHkgbXVzdCB0aGlzIHByb3BlcnR5IGJlIHNldCwgYnV0IHlvdSBtdXN0CiAgLy8gYWxzbyBzZXQgZG9jdW1lbnQuZG9tYWluIEJFRk9SRSBqUXVlcnkgaXMgbG9hZGVkIGludG8gdGhlIHBhZ2UuIFRoaXMKICAvLyBwcm9wZXJ0eSBpcyBvbmx5IGFwcGxpY2FibGUgaWYgeW91IGFyZSBzdXBwb3J0aW5nIElFNi83IChvciBJRTggb3BlcmF0aW5nCiAgLy8gaW4gIklFNyBjb21wYXRpYmlsaXR5IiBtb2RlKS4KICAvLyAKICAvLyBJbiBhZGRpdGlvbiwgdGhlIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmM+IHByb3BlcnR5IG11c3QgYmUgc2V0IHRvIHRoZQogIC8vIHBhdGggb2YgdGhlIGluY2x1ZGVkICJkb2N1bWVudC1kb21haW4uaHRtbCIgZmlsZSwgd2hpY2ggY2FuIGJlIHJlbmFtZWQgb3IKICAvLyBtb2RpZmllZCBpZiBuZWNlc3NhcnkgKG5vdGUgdGhhdCB0aGUgZG9jdW1lbnQuZG9tYWluIHNwZWNpZmllZCBtdXN0IGJlIHRoZQogIC8vIHNhbWUgaW4gYm90aCB5b3VyIG1haW4gSmF2YVNjcmlwdCBhcyB3ZWxsIGFzIGluIHRoaXMgZmlsZSkuCiAgLy8gCiAgLy8gVXNhZ2U6CiAgLy8gCiAgLy8galF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluID0gZG9jdW1lbnQuZG9tYWluOwogIAogIC8vIFByb3BlcnR5OiBqUXVlcnkuZm4uaGFzaGNoYW5nZS5zcmMKICAvLyAKICAvLyBJZiwgZm9yIHNvbWUgcmVhc29uLCB5b3UgbmVlZCB0byBzcGVjaWZ5IGFuIElmcmFtZSBzcmMgZmlsZSAoZm9yIGV4YW1wbGUsCiAgLy8gd2hlbiBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBhcyBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZG9tYWluPiksIHlvdSBjYW4KICAvLyBkbyBzbyB1c2luZyB0aGlzIHByb3BlcnR5LiBOb3RlIHRoYXQgd2hlbiB1c2luZyB0aGlzIHByb3BlcnR5LCBoaXN0b3J5CiAgLy8gd29uJ3QgYmUgcmVjb3JkZWQgaW4gSUU2LzcgdW50aWwgdGhlIElmcmFtZSBzcmMgZmlsZSBsb2Fkcy4gVGhpcyBwcm9wZXJ0eQogIC8vIGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmcgaW4gIklFNwogIC8vIGNvbXBhdGliaWxpdHkiIG1vZGUpLgogIC8vIAogIC8vIFVzYWdlOgogIC8vIAogIC8vIGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYyA9ICdwYXRoL3RvL2ZpbGUuaHRtbCc7CiAgCiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kZWxheSA9IDUwOwogIC8qCiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kb21haW4gPSBudWxsOwogICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uc3JjID0gbnVsbDsKICAqLwogIAogIC8vIEV2ZW50OiBoYXNoY2hhbmdlIGV2ZW50CiAgLy8gCiAgLy8gRmlyZWQgd2hlbiBsb2NhdGlvbi5oYXNoIGNoYW5nZXMuIEluIGJyb3dzZXJzIHRoYXQgc3VwcG9ydCBpdCwgdGhlIG5hdGl2ZQogIC8vIEhUTUw1IHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgaXMgdXNlZCwgb3RoZXJ3aXNlIGEgcG9sbGluZyBsb29wIGlzCiAgLy8gaW5pdGlhbGl6ZWQsIHJ1bm5pbmcgZXZlcnkgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5PiBtaWxsaXNlY29uZHMgdG8KICAvLyBzZWUgaWYgdGhlIGhhc2ggaGFzIGNoYW5nZWQuIEluIElFNi83IChhbmQgSUU4IG9wZXJhdGluZyBpbiAiSUU3CiAgLy8gY29tcGF0aWJpbGl0eSIgbW9kZSksIGEgaGlkZGVuIElmcmFtZSBpcyBjcmVhdGVkIHRvIGFsbG93IHRoZSBiYWNrIGJ1dHRvbgogIC8vIGFuZCBoYXNoLWJhc2VkIGhpc3RvcnkgdG8gd29yay4KICAvLyAKICAvLyBVc2FnZSBhcyBkZXNjcmliZWQgaW4gPGpRdWVyeS5mbi5oYXNoY2hhbmdlPjoKICAvLyAKICAvLyA+IC8vIEJpbmQgYW4gZXZlbnQgaGFuZGxlci4KICAvLyA+IGpRdWVyeSh3aW5kb3cpLmhhc2hjaGFuZ2UoIGZ1bmN0aW9uKGUpIHsKICAvLyA+ICAgdmFyIGhhc2ggPSBsb2NhdGlvbi5oYXNoOwogIC8vID4gICAuLi4KICAvLyA+IH0pOwogIC8vID4gCiAgLy8gPiAvLyBNYW51YWxseSB0cmlnZ2VyIHRoZSBldmVudCBoYW5kbGVyLgogIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSgpOwogIC8vIAogIC8vIEEgbW9yZSB2ZXJib3NlIHVzYWdlIHRoYXQgYWxsb3dzIGZvciBldmVudCBuYW1lc3BhY2luZzoKICAvLyAKICAvLyA+IC8vIEJpbmQgYW4gZXZlbnQgaGFuZGxlci4KICAvLyA+IGpRdWVyeSh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgZnVuY3Rpb24oZSkgewogIC8vID4gICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgLy8gPiAgIC4uLgogIC8vID4gfSk7CiAgLy8gPiAKICAvLyA+IC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIuCiAgLy8gPiBqUXVlcnkod2luZG93KS50cmlnZ2VyKCAnaGFzaGNoYW5nZScgKTsKICAvLyAKICAvLyBBZGRpdGlvbmFsIE5vdGVzOgogIC8vIAogIC8vICogVGhlIHBvbGxpbmcgbG9vcCBhbmQgSWZyYW1lIGFyZSBub3QgY3JlYXRlZCB1bnRpbCBhdCBsZWFzdCBvbmUgaGFuZGxlcgogIC8vICAgaXMgYWN0dWFsbHkgYm91bmQgdG8gdGhlICdoYXNoY2hhbmdlJyBldmVudC4KICAvLyAqIElmIHlvdSBuZWVkIHRoZSBib3VuZCBoYW5kbGVyKHMpIHRvIGV4ZWN1dGUgaW1tZWRpYXRlbHksIGluIGNhc2VzIHdoZXJlCiAgLy8gICBhIGxvY2F0aW9uLmhhc2ggZXhpc3RzIG9uIHBhZ2UgbG9hZCwgdmlhIGJvb2ttYXJrIG9yIHBhZ2UgcmVmcmVzaCBmb3IKICAvLyAgIGV4YW1wbGUsIHVzZSBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCkgb3IgdGhlIG1vcmUgdmVyYm9zZSAKICAvLyAgIGpRdWVyeSh3aW5kb3cpLnRyaWdnZXIoICdoYXNoY2hhbmdlJyApLgogIC8vICogVGhlIGV2ZW50IGNhbiBiZSBib3VuZCBiZWZvcmUgRE9NIHJlYWR5LCBidXQgc2luY2UgaXQgd29uJ3QgYmUgdXNhYmxlCiAgLy8gICBiZWZvcmUgdGhlbiBpbiBJRTYvNyAoZHVlIHRvIHRoZSBuZWNlc3NhcnkgSWZyYW1lKSwgcmVjb21tZW5kZWQgdXNhZ2UgaXMKICAvLyAgIHRvIGJpbmQgaXQgaW5zaWRlIGEgRE9NIHJlYWR5IGhhbmRsZXIuCiAgCiAgLy8gT3ZlcnJpZGUgZXhpc3RpbmcgJC5ldmVudC5zcGVjaWFsLmhhc2hjaGFuZ2UgbWV0aG9kcyAoYWxsb3dpbmcgdGhpcyBwbHVnaW4KICAvLyB0byBiZSBkZWZpbmVkIGFmdGVyIGpRdWVyeSBCQlEgaW4gQkJRJ3Mgc291cmNlIGNvZGUpLgogIHNwZWNpYWxbIHN0cl9oYXNoY2hhbmdlIF0gPSAkLmV4dGVuZCggc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSwgewogICAgCiAgICAvLyBDYWxsZWQgb25seSB3aGVuIHRoZSBmaXJzdCAnaGFzaGNoYW5nZScgZXZlbnQgaXMgYm91bmQgdG8gd2luZG93LgogICAgc2V0dXA6IGZ1bmN0aW9uKCkgewogICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi4KICAgICAgaWYgKCBzdXBwb3J0c19vbmhhc2hjaGFuZ2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAKICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIGNyZWF0ZSBvdXIgb3duLiBBbmQgd2UgZG9uJ3Qgd2FudCB0byBjYWxsIHRoaXMKICAgICAgLy8gdW50aWwgdGhlIHVzZXIgYmluZHMgdG8gdGhlIGV2ZW50LCBqdXN0IGluIGNhc2UgdGhleSBuZXZlciBkbywgc2luY2UgaXQKICAgICAgLy8gd2lsbCBjcmVhdGUgYSBwb2xsaW5nIGxvb3AgYW5kIHBvc3NpYmx5IGV2ZW4gYSBoaWRkZW4gSWZyYW1lLgogICAgICAkKCBmYWtlX29uaGFzaGNoYW5nZS5zdGFydCApOwogICAgfSwKICAgIAogICAgLy8gQ2FsbGVkIG9ubHkgd2hlbiB0aGUgbGFzdCAnaGFzaGNoYW5nZScgZXZlbnQgaXMgdW5ib3VuZCBmcm9tIHdpbmRvdy4KICAgIHRlYXJkb3duOiBmdW5jdGlvbigpIHsKICAgICAgLy8gSWYgd2luZG93Lm9uaGFzaGNoYW5nZSBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIHRoZXJlJ3Mgbm90aGluZyB0byBkby4uCiAgICAgIGlmICggc3VwcG9ydHNfb25oYXNoY2hhbmdlICkgeyByZXR1cm4gZmFsc2U7IH0KICAgICAgCiAgICAgIC8vIE90aGVyd2lzZSwgd2UgbmVlZCB0byBzdG9wIG91cnMgKGlmIHBvc3NpYmxlKS4KICAgICAgJCggZmFrZV9vbmhhc2hjaGFuZ2Uuc3RvcCApOwogICAgfQogICAgCiAgfSk7CiAgCiAgLy8gZmFrZV9vbmhhc2hjaGFuZ2UgZG9lcyBhbGwgdGhlIHdvcmsgb2YgdHJpZ2dlcmluZyB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZQogIC8vIGV2ZW50IGZvciBicm93c2VycyB0aGF0IGRvbid0IG5hdGl2ZWx5IHN1cHBvcnQgaXQsIGluY2x1ZGluZyBjcmVhdGluZyBhCiAgLy8gcG9sbGluZyBsb29wIHRvIHdhdGNoIGZvciBoYXNoIGNoYW5nZXMgYW5kIGluIElFIDYvNyBjcmVhdGluZyBhIGhpZGRlbgogIC8vIElmcmFtZSB0byBlbmFibGUgYmFjayBhbmQgZm9yd2FyZC4KICBmYWtlX29uaGFzaGNoYW5nZSA9IChmdW5jdGlvbigpewogICAgdmFyIHNlbGYgPSB7fSwKICAgICAgdGltZW91dF9pZCwKICAgICAgCiAgICAgIC8vIFJlbWVtYmVyIHRoZSBpbml0aWFsIGhhc2ggc28gaXQgZG9lc24ndCBnZXQgdHJpZ2dlcmVkIGltbWVkaWF0ZWx5LgogICAgICBsYXN0X2hhc2ggPSBnZXRfZnJhZ21lbnQoKSwKICAgICAgCiAgICAgIGZuX3JldHZhbCA9IGZ1bmN0aW9uKHZhbCl7IHJldHVybiB2YWw7IH0sCiAgICAgIGhpc3Rvcnlfc2V0ID0gZm5fcmV0dmFsLAogICAgICBoaXN0b3J5X2dldCA9IGZuX3JldHZhbDsKICAgIAogICAgLy8gU3RhcnQgdGhlIHBvbGxpbmcgbG9vcC4KICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbigpIHsKICAgICAgdGltZW91dF9pZCB8fCBwb2xsKCk7CiAgICB9OwogICAgCiAgICAvLyBTdG9wIHRoZSBwb2xsaW5nIGxvb3AuCiAgICBzZWxmLnN0b3AgPSBmdW5jdGlvbigpIHsKICAgICAgdGltZW91dF9pZCAmJiBjbGVhclRpbWVvdXQoIHRpbWVvdXRfaWQgKTsKICAgICAgdGltZW91dF9pZCA9IHVuZGVmaW5lZDsKICAgIH07CiAgICAKICAgIC8vIFRoaXMgcG9sbGluZyBsb29wIGNoZWNrcyBldmVyeSAkLmZuLmhhc2hjaGFuZ2UuZGVsYXkgbWlsbGlzZWNvbmRzIHRvIHNlZQogICAgLy8gaWYgbG9jYXRpb24uaGFzaCBoYXMgY2hhbmdlZCwgYW5kIHRyaWdnZXJzIHRoZSAnaGFzaGNoYW5nZScgZXZlbnQgb24KICAgIC8vIHdpbmRvdyB3aGVuIG5lY2Vzc2FyeS4KICAgIGZ1bmN0aW9uIHBvbGwoKSB7CiAgICAgIHZhciBoYXNoID0gZ2V0X2ZyYWdtZW50KCksCiAgICAgICAgaGlzdG9yeV9oYXNoID0gaGlzdG9yeV9nZXQoIGxhc3RfaGFzaCApOwogICAgICAKICAgICAgaWYgKCBoYXNoICE9PSBsYXN0X2hhc2ggKSB7CiAgICAgICAgaGlzdG9yeV9zZXQoIGxhc3RfaGFzaCA9IGhhc2gsIGhpc3RvcnlfaGFzaCApOwogICAgICAgIAogICAgICAgICQod2luZG93KS50cmlnZ2VyKCBzdHJfaGFzaGNoYW5nZSApOwogICAgICAgIAogICAgICB9IGVsc2UgaWYgKCBoaXN0b3J5X2hhc2ggIT09IGxhc3RfaGFzaCApIHsKICAgICAgICBsb2NhdGlvbi5ocmVmID0gbG9jYXRpb24uaHJlZi5yZXBsYWNlKCAvIy4qLywgJycgKSArIGhpc3RvcnlfaGFzaDsKICAgICAgfQogICAgICAKICAgICAgdGltZW91dF9pZCA9IHNldFRpbWVvdXQoIHBvbGwsICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uZGVsYXkgKTsKICAgIH07CiAgICAKICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dgogICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2diBSRU1PVkUgSUYgTk9UIFNVUFBPUlRJTkcgSUU2LzcvOCB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2CiAgICAvLyB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYKICAgICQuYnJvd3Nlci5tc2llICYmICFzdXBwb3J0c19vbmhhc2hjaGFuZ2UgJiYgKGZ1bmN0aW9uKCl7CiAgICAgIC8vIE5vdCBvbmx5IGRvIElFNi83IG5lZWQgdGhlICJtYWdpY2FsIiBJZnJhbWUgdHJlYXRtZW50LCBidXQgc28gZG9lcyBJRTgKICAgICAgLy8gd2hlbiBydW5uaW5nIGluICJJRTcgY29tcGF0aWJpbGl0eSIgbW9kZS4KICAgICAgCiAgICAgIHZhciBpZnJhbWUsCiAgICAgICAgaWZyYW1lX3NyYzsKICAgICAgCiAgICAgIC8vIFdoZW4gdGhlIGV2ZW50IGlzIGJvdW5kIGFuZCBwb2xsaW5nIHN0YXJ0cyBpbiBJRSA2LzcsIGNyZWF0ZSBhIGhpZGRlbgogICAgICAvLyBJZnJhbWUgZm9yIGhpc3RvcnkgaGFuZGxpbmcuCiAgICAgIHNlbGYuc3RhcnQgPSBmdW5jdGlvbigpewogICAgICAgIGlmICggIWlmcmFtZSApIHsKICAgICAgICAgIGlmcmFtZV9zcmMgPSAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLnNyYzsKICAgICAgICAgIGlmcmFtZV9zcmMgPSBpZnJhbWVfc3JjICYmIGlmcmFtZV9zcmMgKyBnZXRfZnJhZ21lbnQoKTsKICAgICAgICAgIAogICAgICAgICAgLy8gQ3JlYXRlIGhpZGRlbiBJZnJhbWUuIEF0dGVtcHQgdG8gbWFrZSBJZnJhbWUgYXMgaGlkZGVuIGFzIHBvc3NpYmxlCiAgICAgICAgICAvLyBieSB1c2luZyB0ZWNobmlxdWVzIGZyb20gaHR0cDovL3d3dy5wYWNpZWxsb2dyb3VwLmNvbS9ibG9nLz9wPTYwNC4KICAgICAgICAgIGlmcmFtZSA9ICQoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIFdoZW4gSWZyYW1lIGhhcyBjb21wbGV0ZWx5IGxvYWRlZCwgaW5pdGlhbGl6ZSB0aGUgaGlzdG9yeSBhbmQKICAgICAgICAgICAgLy8gc3RhcnQgcG9sbGluZy4KICAgICAgICAgICAgLm9uZSggJ2xvYWQnLCBmdW5jdGlvbigpewogICAgICAgICAgICAgIGlmcmFtZV9zcmMgfHwgaGlzdG9yeV9zZXQoIGdldF9mcmFnbWVudCgpICk7CiAgICAgICAgICAgICAgcG9sbCgpOwogICAgICAgICAgICB9KQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gTG9hZCBJZnJhbWUgc3JjIGlmIHNwZWNpZmllZCwgb3RoZXJ3aXNlIG5vdGhpbmcuCiAgICAgICAgICAgIC5hdHRyKCAnc3JjJywgaWZyYW1lX3NyYyB8fCAnamF2YXNjcmlwdDowJyApCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBBcHBlbmQgSWZyYW1lIGFmdGVyIHRoZSBlbmQgb2YgdGhlIGJvZHkgdG8gcHJldmVudCB1bm5lY2Vzc2FyeQogICAgICAgICAgICAvLyBpbml0aWFsIHBhZ2Ugc2Nyb2xsaW5nICh5ZXMsIHRoaXMgd29ya3MpLgogICAgICAgICAgICAuaW5zZXJ0QWZ0ZXIoICdib2R5JyApWzBdLmNvbnRlbnRXaW5kb3c7CiAgICAgICAgICAKICAgICAgICAgIC8vIFdoZW5ldmVyIGBkb2N1bWVudC50aXRsZWAgY2hhbmdlcywgdXBkYXRlIHRoZSBJZnJhbWUncyB0aXRsZSB0bwogICAgICAgICAgLy8gcHJldHRpZnkgdGhlIGJhY2svbmV4dCBoaXN0b3J5IG1lbnUgZW50cmllcy4gU2luY2UgSUUgc29tZXRpbWVzCiAgICAgICAgICAvLyBlcnJvcnMgd2l0aCAiVW5zcGVjaWZpZWQgZXJyb3IiIHRoZSB2ZXJ5IGZpcnN0IHRpbWUgdGhpcyBpcyBzZXQKICAgICAgICAgIC8vICh5ZXMsIHZlcnkgdXNlZnVsKSB3cmFwIHRoaXMgd2l0aCBhIHRyeS9jYXRjaCBibG9jay4KICAgICAgICAgIGRvYy5vbnByb3BlcnR5Y2hhbmdlID0gZnVuY3Rpb24oKXsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICBpZiAoIGV2ZW50LnByb3BlcnR5TmFtZSA9PT0gJ3RpdGxlJyApIHsKICAgICAgICAgICAgICAgIGlmcmFtZS5kb2N1bWVudC50aXRsZSA9IGRvYy50aXRsZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2goZSkge30KICAgICAgICAgIH07CiAgICAgICAgICAKICAgICAgICB9CiAgICAgIH07CiAgICAgIAogICAgICAvLyBPdmVycmlkZSB0aGUgInN0b3AiIG1ldGhvZCBzaW5jZSBhbiBJRTYvNyBJZnJhbWUgd2FzIGNyZWF0ZWQuIEV2ZW4KICAgICAgLy8gaWYgdGhlcmUgYXJlIG5vIGxvbmdlciBhbnkgYm91bmQgZXZlbnQgaGFuZGxlcnMsIHRoZSBwb2xsaW5nIGxvb3AKICAgICAgLy8gaXMgc3RpbGwgbmVjZXNzYXJ5IGZvciBiYWNrL25leHQgdG8gd29yayBhdCBhbGwhCiAgICAgIHNlbGYuc3RvcCA9IGZuX3JldHZhbDsKICAgICAgCiAgICAgIC8vIEdldCBoaXN0b3J5IGJ5IGxvb2tpbmcgYXQgdGhlIGhpZGRlbiBJZnJhbWUncyBsb2NhdGlvbi5oYXNoLgogICAgICBoaXN0b3J5X2dldCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBnZXRfZnJhZ21lbnQoIGlmcmFtZS5sb2NhdGlvbi5ocmVmICk7CiAgICAgIH07CiAgICAgIAogICAgICAvLyBTZXQgYSBuZXcgaGlzdG9yeSBpdGVtIGJ5IG9wZW5pbmcgYW5kIHRoZW4gY2xvc2luZyB0aGUgSWZyYW1lCiAgICAgIC8vIGRvY3VtZW50LCAqdGhlbiogc2V0dGluZyBpdHMgbG9jYXRpb24uaGFzaC4gSWYgZG9jdW1lbnQuZG9tYWluIGhhcwogICAgICAvLyBiZWVuIHNldCwgdXBkYXRlIHRoYXQgYXMgd2VsbC4KICAgICAgaGlzdG9yeV9zZXQgPSBmdW5jdGlvbiggaGFzaCwgaGlzdG9yeV9oYXNoICkgewogICAgICAgIHZhciBpZnJhbWVfZG9jID0gaWZyYW1lLmRvY3VtZW50LAogICAgICAgICAgZG9tYWluID0gJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kb21haW47CiAgICAgICAgCiAgICAgICAgaWYgKCBoYXNoICE9PSBoaXN0b3J5X2hhc2ggKSB7CiAgICAgICAgICAvLyBVcGRhdGUgSWZyYW1lIHdpdGggYW55IGluaXRpYWwgYGRvY3VtZW50LnRpdGxlYCB0aGF0IG1pZ2h0IGJlIHNldC4KICAgICAgICAgIGlmcmFtZV9kb2MudGl0bGUgPSBkb2MudGl0bGU7CiAgICAgICAgICAKICAgICAgICAgIC8vIE9wZW5pbmcgdGhlIElmcmFtZSdzIGRvY3VtZW50IGFmdGVyIGl0IGhhcyBiZWVuIGNsb3NlZCBpcyB3aGF0CiAgICAgICAgICAvLyBhY3R1YWxseSBhZGRzIGEgaGlzdG9yeSBlbnRyeS4KICAgICAgICAgIGlmcmFtZV9kb2Mub3BlbigpOwogICAgICAgICAgCiAgICAgICAgICAvLyBTZXQgZG9jdW1lbnQuZG9tYWluIGZvciB0aGUgSWZyYW1lIGRvY3VtZW50IGFzIHdlbGwsIGlmIG5lY2Vzc2FyeS4KICAgICAgICAgIGRvbWFpbiAmJiBpZnJhbWVfZG9jLndyaXRlKCAnPHNjcmlwdD5kb2N1bWVudC5kb21haW49IicgKyBkb21haW4gKyAnIjwvc2NyaXB0PicgKTsKICAgICAgICAgIAogICAgICAgICAgaWZyYW1lX2RvYy5jbG9zZSgpOwogICAgICAgICAgCiAgICAgICAgICAvLyBVcGRhdGUgdGhlIElmcmFtZSdzIGhhc2gsIGZvciBncmVhdCBqdXN0aWNlLgogICAgICAgICAgaWZyYW1lLmxvY2F0aW9uLmhhc2ggPSBoYXNoOwogICAgICAgIH0KICAgICAgfTsKICAgICAgCiAgICB9KSgpOwogICAgLy8gXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eCiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eIFJFTU9WRSBJRiBOT1QgU1VQUE9SVElORyBJRTYvNy84IF5eXl5eXl5eXl5eXl5eXl5eXl4KICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXgogICAgCiAgICByZXR1cm4gc2VsZjsKICB9KSgpOwogIAp9KShqUXVlcnksdGhpcyk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAicGFnZSIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUucGFnZSIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCXRoZW1lOiAiYyIsCgkJZG9tQ2FjaGU6IGZhbHNlCgl9LAoKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciAkZWxlbSA9IHRoaXMuZWxlbWVudCwKCQkJbyA9IHRoaXMub3B0aW9uczsKCgkJaWYgKCB0aGlzLl90cmlnZ2VyKCAiYmVmb3JlQ3JlYXRlIiApID09PSBmYWxzZSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJJGVsZW0uYWRkQ2xhc3MoICJ1aS1wYWdlIHVpLWJvZHktIiArIG8udGhlbWUgKTsKCX0KfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qIQogKiBqUXVlcnkgTW9iaWxlIHZAVkVSU0lPTgogKiBodHRwOi8vanF1ZXJ5bW9iaWxlLmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTAsIGpRdWVyeSBQcm9qZWN0CiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqLwoKKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsKCgkvLyBqUXVlcnkubW9iaWxlIGNvbmZpZ3VyYWJsZSBvcHRpb25zCgkkLmV4dGVuZCggJC5tb2JpbGUsIHsKCgkJLy8gTmFtZXNwYWNlIHVzZWQgZnJhbWV3b3JrLXdpZGUgZm9yIGRhdGEtYXR0cnMuIERlZmF1bHQgaXMgbm8gbmFtZXNwYWNlCgkJbnM6ICIiLAoKCQkvLyBEZWZpbmUgdGhlIHVybCBwYXJhbWV0ZXIgdXNlZCBmb3IgcmVmZXJlbmNpbmcgd2lkZ2V0LWdlbmVyYXRlZCBzdWItcGFnZXMuCgkJLy8gVHJhbnNsYXRlcyB0byB0byBleGFtcGxlLmh0bWwmdWktcGFnZT1zdWJwYWdlSWRlbnRpZmllcgoJCS8vIGhhc2ggc2VnbWVudCBiZWZvcmUgJnVpLXBhZ2U9IGlzIHVzZWQgdG8gbWFrZSBBamF4IHJlcXVlc3QKCQlzdWJQYWdlVXJsS2V5OiAidWktcGFnZSIsCgoJCS8vIENsYXNzIGFzc2lnbmVkIHRvIHBhZ2UgY3VycmVudGx5IGluIHZpZXcsIGFuZCBkdXJpbmcgdHJhbnNpdGlvbnMKCQlhY3RpdmVQYWdlQ2xhc3M6ICJ1aS1wYWdlLWFjdGl2ZSIsCgoJCS8vIENsYXNzIHVzZWQgZm9yICJhY3RpdmUiIGJ1dHRvbiBzdGF0ZSwgZnJvbSBDU1MgZnJhbWV3b3JrCgkJYWN0aXZlQnRuQ2xhc3M6ICJ1aS1idG4tYWN0aXZlIiwKCgkJLy8gQXV0b21hdGljYWxseSBoYW5kbGUgY2xpY2tzIGFuZCBmb3JtIHN1Ym1pc3Npb25zIHRocm91Z2ggQWpheCwgd2hlbiBzYW1lLWRvbWFpbgoJCWFqYXhFbmFibGVkOiB0cnVlLAoKCQkvLyBBdXRvbWF0aWNhbGx5IGxvYWQgYW5kIHNob3cgcGFnZXMgYmFzZWQgb24gbG9jYXRpb24uaGFzaAoJCWhhc2hMaXN0ZW5pbmdFbmFibGVkOiB0cnVlLAoKCQkvLyBTZXQgZGVmYXVsdCBwYWdlIHRyYW5zaXRpb24gLSAnbm9uZScgZm9yIG5vIHRyYW5zaXRpb25zCgkJZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiAic2xpZGUiLAoKCQkvLyBNaW5pbXVtIHNjcm9sbCBkaXN0YW5jZSB0aGF0IHdpbGwgYmUgcmVtZW1iZXJlZCB3aGVuIHJldHVybmluZyB0byBhIHBhZ2UKCQltaW5TY3JvbGxCYWNrOiBzY3JlZW4uaGVpZ2h0IC8gMiwKCgkJLy8gU2V0IGRlZmF1bHQgZGlhbG9nIHRyYW5zaXRpb24gLSAnbm9uZScgZm9yIG5vIHRyYW5zaXRpb25zCgkJZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246ICJwb3AiLAoKCQkvLyBTaG93IGxvYWRpbmcgbWVzc2FnZSBkdXJpbmcgQWpheCByZXF1ZXN0cwoJCS8vIGlmIGZhbHNlLCBtZXNzYWdlIHdpbGwgbm90IGFwcGVhciwgYnV0IGxvYWRpbmcgY2xhc3NlcyB3aWxsIHN0aWxsIGJlIHRvZ2dsZWQgb24gaHRtbCBlbAoJCWxvYWRpbmdNZXNzYWdlOiAibG9hZGluZyIsCgoJCS8vIEVycm9yIHJlc3BvbnNlIG1lc3NhZ2UgLSBhcHBlYXJzIHdoZW4gYW4gQWpheCBwYWdlIHJlcXVlc3QgZmFpbHMKCQlwYWdlTG9hZEVycm9yTWVzc2FnZTogIkVycm9yIExvYWRpbmcgUGFnZSIsCgkJCgkJLy9hdXRvbWF0aWNhbGx5IGluaXRpYWxpemUgdGhlIERPTSB3aGVuIGl0J3MgcmVhZHkKCQlhdXRvSW5pdGlhbGl6ZVBhZ2U6IHRydWUsCgoJCS8vIFN1cHBvcnQgY29uZGl0aW9ucyB0aGF0IG11c3QgYmUgbWV0IGluIG9yZGVyIHRvIHByb2NlZWQKCQkvLyBkZWZhdWx0IGVuaGFuY2VkIHF1YWxpZmljYXRpb25zIGFyZSBtZWRpYSBxdWVyeSBzdXBwb3J0IE9SIElFIDcrCgkJZ3JhZGVBOiBmdW5jdGlvbigpewoJCQlyZXR1cm4gJC5zdXBwb3J0Lm1lZGlhcXVlcnkgfHwgJC5tb2JpbGUuYnJvd3Nlci5pZSAmJiAkLm1vYmlsZS5icm93c2VyLmllID49IDc7CgkJfSwKCgkJLy8gVE9ETyBtaWdodCBiZSB1c2VmdWwgdXBzdHJlYW0gaW4ganF1ZXJ5IGl0c2VsZiA/CgkJa2V5Q29kZTogewoJCQlBTFQ6IDE4LAoJCQlCQUNLU1BBQ0U6IDgsCgkJCUNBUFNfTE9DSzogMjAsCgkJCUNPTU1BOiAxODgsCgkJCUNPTU1BTkQ6IDkxLAoJCQlDT01NQU5EX0xFRlQ6IDkxLCAvLyBDT01NQU5ECgkJCUNPTU1BTkRfUklHSFQ6IDkzLAoJCQlDT05UUk9MOiAxNywKCQkJREVMRVRFOiA0NiwKCQkJRE9XTjogNDAsCgkJCUVORDogMzUsCgkJCUVOVEVSOiAxMywKCQkJRVNDQVBFOiAyNywKCQkJSE9NRTogMzYsCgkJCUlOU0VSVDogNDUsCgkJCUxFRlQ6IDM3LAoJCQlNRU5VOiA5MywgLy8gQ09NTUFORF9SSUdIVAoJCQlOVU1QQURfQUREOiAxMDcsCgkJCU5VTVBBRF9ERUNJTUFMOiAxMTAsCgkJCU5VTVBBRF9ESVZJREU6IDExMSwKCQkJTlVNUEFEX0VOVEVSOiAxMDgsCgkJCU5VTVBBRF9NVUxUSVBMWTogMTA2LAoJCQlOVU1QQURfU1VCVFJBQ1Q6IDEwOSwKCQkJUEFHRV9ET1dOOiAzNCwKCQkJUEFHRV9VUDogMzMsCgkJCVBFUklPRDogMTkwLAoJCQlSSUdIVDogMzksCgkJCVNISUZUOiAxNiwKCQkJU1BBQ0U6IDMyLAoJCQlUQUI6IDksCgkJCVVQOiAzOCwKCQkJV0lORE9XUzogOTEgLy8gQ09NTUFORAoJCX0sCgoJCS8vIFNjcm9sbCBwYWdlIHZlcnRpY2FsbHk6IHNjcm9sbCB0byAwIHRvIGhpZGUgaU9TIGFkZHJlc3MgYmFyLCBvciBwYXNzIGEgWSB2YWx1ZQoJCXNpbGVudFNjcm9sbDogZnVuY3Rpb24oIHlwb3MgKSB7CgkJCWlmICggJC50eXBlKCB5cG9zICkgIT09ICJudW1iZXIiICkgewoJCQkJeXBvcyA9ICQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsOwoJCQl9CgoJCQkvLyBwcmV2ZW50IHNjcm9sbHN0YXJ0IGFuZCBzY3JvbGxzdG9wIGV2ZW50cwoJCQkkLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCA9IGZhbHNlOwoKCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCXdpbmRvdy5zY3JvbGxUbyggMCwgeXBvcyApOwoJCQkJJCggZG9jdW1lbnQgKS50cmlnZ2VyKCAic2lsZW50c2Nyb2xsIiwgeyB4OiAwLCB5OiB5cG9zIH0pOwoJCQl9LCAyMCApOwoKCQkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCSQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkID0gdHJ1ZTsKCQkJfSwgMTUwICk7CgkJfSwKCgkJLy8gVGFrZSBhIGRhdGEgYXR0cmlidXRlIHByb3BlcnR5LCBwcmVwZW5kIHRoZSBuYW1lc3BhY2UKCQkvLyBhbmQgdGhlbiBjYW1lbCBjYXNlIHRoZSBhdHRyaWJ1dGUgc3RyaW5nCgkJbnNOb3JtYWxpemU6IGZ1bmN0aW9uKCBwcm9wICkgewoJCQlpZiAoICFwcm9wICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQlyZXR1cm4gJC5jYW1lbENhc2UoICQubW9iaWxlLm5zICsgcHJvcCApOwoJCX0KCX0pOwoKCS8vIE1vYmlsZSB2ZXJzaW9uIG9mIGRhdGEgYW5kIHJlbW92ZURhdGEgYW5kIGhhc0RhdGEgbWV0aG9kcwoJLy8gZW5zdXJlcyBhbGwgZGF0YSBpcyBzZXQgYW5kIHJldHJpZXZlZCB1c2luZyBqUXVlcnkgTW9iaWxlJ3MgZGF0YSBuYW1lc3BhY2UKCSQuZm4uanFtRGF0YSA9IGZ1bmN0aW9uKCBwcm9wLCB2YWx1ZSApIHsKCQlyZXR1cm4gdGhpcy5kYXRhKCBwcm9wID8gJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSA6IHByb3AsIHZhbHVlICk7Cgl9OwoKCSQuanFtRGF0YSA9IGZ1bmN0aW9uKCBlbGVtLCBwcm9wLCB2YWx1ZSApIHsKCQlyZXR1cm4gJC5kYXRhKCBlbGVtLCAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApLCB2YWx1ZSApOwoJfTsKCgkkLmZuLmpxbVJlbW92ZURhdGEgPSBmdW5jdGlvbiggcHJvcCApIHsKCQlyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKCAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApICk7Cgl9OwoKCSQuanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBlbGVtLCBwcm9wICkgewoJCXJldHVybiAkLnJlbW92ZURhdGEoIGVsZW0sICQubW9iaWxlLm5zTm9ybWFsaXplKCBwcm9wICkgKTsKCX07CgoJJC5qcW1IYXNEYXRhID0gZnVuY3Rpb24oIGVsZW0sIHByb3AgKSB7CgkJcmV0dXJuICQuaGFzRGF0YSggZWxlbSwgJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSApOwoJfTsKCgkvLyBNb25rZXktcGF0Y2hpbmcgU2l6emxlIHRvIGZpbHRlciB0aGUgOmpxbURhdGEgc2VsZWN0b3IKCXZhciBvbGRGaW5kID0gJC5maW5kOwoKCSQuZmluZCA9IGZ1bmN0aW9uKCBzZWxlY3RvciwgY29udGV4dCwgcmV0LCBleHRyYSApIHsKCQlzZWxlY3RvciA9IHNlbGVjdG9yLnJlcGxhY2UoLzpqcW1EYXRhXCgoW14pXSopXCkvZywgIltkYXRhLSIgKyAoICQubW9iaWxlLm5zIHx8ICIiICkgKyAiJDFdIik7CgoJCXJldHVybiBvbGRGaW5kLmNhbGwoIHRoaXMsIHNlbGVjdG9yLCBjb250ZXh0LCByZXQsIGV4dHJhICk7Cgl9OwoKCSQuZXh0ZW5kKCAkLmZpbmQsIG9sZEZpbmQgKTsKCgkkLmZpbmQubWF0Y2hlcyA9IGZ1bmN0aW9uKCBleHByLCBzZXQgKSB7CgkJcmV0dXJuICQuZmluZCggZXhwciwgbnVsbCwgbnVsbCwgc2V0ICk7Cgl9OwoKCSQuZmluZC5tYXRjaGVzU2VsZWN0b3IgPSBmdW5jdGlvbiggbm9kZSwgZXhwciApIHsKCQlyZXR1cm4gJC5maW5kKCBleHByLCBudWxsLCBudWxsLCBbIG5vZGUgXSApLmxlbmd0aCA+IDA7Cgl9Owp9KSggalF1ZXJ5LCB0aGlzICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBjb3JlIHV0aWxpdGllcyBmb3IgYXV0byBhamF4IG5hdmlnYXRpb24sIGJhc2UgdGFnIG1nbXQsCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKCS8vZGVmaW5lIHZhcnMgZm9yIGludGVyYWwgdXNlCgl2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLAoJCSRodG1sID0gJCggJ2h0bWwnICksCgkJJGhlYWQgPSAkKCAnaGVhZCcgKSwKCgkJLy91cmwgcGF0aCBoZWxwZXJzIGZvciB1c2UgaW4gcmVsYXRpdmUgdXJsIG1hbmFnZW1lbnQKCQlwYXRoID0gewoKCQkJLy8gVGhpcyBzY2FyeSBsb29raW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXJzZXMgYW4gYWJzb2x1dGUgVVJMIG9yIGl0cyByZWxhdGl2ZQoJCQkvLyB2YXJpYW50cyAocHJvdG9jb2wsIHNpdGUsIGRvY3VtZW50LCBxdWVyeSwgYW5kIGhhc2gpLCBpbnRvIHRoZSB2YXJpb3VzCgkJCS8vIGNvbXBvbmVudHMgKHByb3RvY29sLCBob3N0LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQsIGV0YyB0aGF0IG1ha2UgdXAgdGhlCgkJCS8vIFVSTCBhcyB3ZWxsIGFzIHNvbWUgb3RoZXIgY29tbW9ubHkgdXNlZCBzdWItcGFydHMuIFdoZW4gdXNlZCB3aXRoIFJlZ0V4cC5leGVjKCkKCQkJLy8gb3IgU3RyaW5nLm1hdGNoLCBpdCBwYXJzZXMgdGhlIFVSTCBpbnRvIGEgcmVzdWx0cyBhcnJheSB0aGF0IGxvb2tzIGxpa2UgdGhpczoKCQkJLy8KCQkJLy8gICAgIFswXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MC9tYWlsL2luYm94P21zZz0xMjM0JnR5cGU9dW5yZWFkI21zZy1jb250ZW50CgkJCS8vICAgICBbMV06IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAvbWFpbC9pbmJveD9tc2c9MTIzNCZ0eXBlPXVucmVhZAoJCQkvLyAgICAgWzJdOiBodHRwOi8vamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwL21haWwvaW5ib3gKCQkJLy8gICAgIFszXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MAoJCQkvLyAgICAgWzRdOiBodHRwOgoJCQkvLyAgICAgWzVdOiBqYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAKCQkJLy8gICAgIFs2XTogamJsYXM6cGFzc3dvcmQKCQkJLy8gICAgIFs3XTogamJsYXMKCQkJLy8gICAgIFs4XTogcGFzc3dvcmQKCQkJLy8gICAgIFs5XTogbXljb21wYW55LmNvbTo4MDgwCgkJCS8vICAgIFsxMF06IG15Y29tcGFueS5jb20KCQkJLy8gICAgWzExXTogODA4MAoJCQkvLyAgICBbMTJdOiAvbWFpbC9pbmJveAoJCQkvLyAgICBbMTNdOiAvbWFpbC8KCQkJLy8gICAgWzE0XTogaW5ib3gKCQkJLy8gICAgWzE1XTogP21zZz0xMjM0JnR5cGU9dW5yZWFkCgkJCS8vICAgIFsxNl06ICNtc2ctY29udGVudAoJCQkvLwoJCQl1cmxQYXJzZVJFOiAvXigoKChbXjpcLyNcP10rOik/KD86XC9cLygoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9dKykoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8sCgoJCQkvL1BhcnNlIGEgVVJMIGludG8gYSBzdHJ1Y3R1cmUgdGhhdCBhbGxvd3MgZWFzeSBhY2Nlc3MgdG8KCQkJLy9hbGwgb2YgdGhlIFVSTCBjb21wb25lbnRzIGJ5IG5hbWUuCgkJCXBhcnNlVXJsOiBmdW5jdGlvbiggdXJsICkgewoJCQkJLy8gSWYgd2UncmUgcGFzc2VkIGFuIG9iamVjdCwgd2UnbGwgYXNzdW1lIHRoYXQgaXQgaXMKCQkJCS8vIGEgcGFyc2VkIHVybCBvYmplY3QgYW5kIGp1c3QgcmV0dXJuIGl0IGJhY2sgdG8gdGhlIGNhbGxlci4KCQkJCWlmICggJC50eXBlKCB1cmwgKSA9PT0gIm9iamVjdCIgKSB7CgkJCQkJcmV0dXJuIHVybDsKCQkJCX0KCgkJCQl2YXIgdSA9IHVybCB8fCAiIiwKCQkJCQltYXRjaGVzID0gcGF0aC51cmxQYXJzZVJFLmV4ZWMoIHVybCApLAoJCQkJCXJlc3VsdHM7CgkJCQlpZiAoIG1hdGNoZXMgKSB7CgkJCQkJLy8gQ3JlYXRlIGFuIG9iamVjdCB0aGF0IGFsbG93cyB0aGUgY2FsbGVyIHRvIGFjY2VzcyB0aGUgc3ViLW1hdGNoZXMKCQkJCQkvLyBieSBuYW1lLiBOb3RlIHRoYXQgSUUgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcgaW5zdGVhZCBvZiB1bmRlZmluZWQsCgkJCQkJLy8gbGlrZSBhbGwgb3RoZXIgYnJvd3NlcnMgZG8sIHNvIHdlIG5vcm1hbGl6ZSBldmVyeXRoaW5nIHNvIGl0cyBjb25zaXN0ZW50CgkJCQkJLy8gbm8gbWF0dGVyIHdoYXQgYnJvd3NlciB3ZSdyZSBydW5uaW5nIG9uLgoJCQkJCXJlc3VsdHMgPSB7CgkJCQkJCWhyZWY6ICAgICAgICAgbWF0Y2hlc1swXSB8fCAiIiwKCQkJCQkJaHJlZk5vSGFzaDogICBtYXRjaGVzWzFdIHx8ICIiLAoJCQkJCQlocmVmTm9TZWFyY2g6IG1hdGNoZXNbMl0gfHwgIiIsCgkJCQkJCWRvbWFpbjogICAgICAgbWF0Y2hlc1szXSB8fCAiIiwKCQkJCQkJcHJvdG9jb2w6ICAgICBtYXRjaGVzWzRdIHx8ICIiLAoJCQkJCQlhdXRob3JpdHk6ICAgIG1hdGNoZXNbNV0gfHwgIiIsCgkJCQkJCXVzZXJuYW1lOiAgICAgbWF0Y2hlc1s3XSB8fCAiIiwKCQkJCQkJcGFzc3dvcmQ6ICAgICBtYXRjaGVzWzhdIHx8ICIiLAoJCQkJCQlob3N0OiAgICAgICAgIG1hdGNoZXNbOV0gfHwgIiIsCgkJCQkJCWhvc3RuYW1lOiAgICAgbWF0Y2hlc1sxMF0gfHwgIiIsCgkJCQkJCXBvcnQ6ICAgICAgICAgbWF0Y2hlc1sxMV0gfHwgIiIsCgkJCQkJCXBhdGhuYW1lOiAgICAgbWF0Y2hlc1sxMl0gfHwgIiIsCgkJCQkJCWRpcmVjdG9yeTogICAgbWF0Y2hlc1sxM10gfHwgIiIsCgkJCQkJCWZpbGVuYW1lOiAgICAgbWF0Y2hlc1sxNF0gfHwgIiIsCgkJCQkJCXNlYXJjaDogICAgICAgbWF0Y2hlc1sxNV0gfHwgIiIsCgkJCQkJCWhhc2g6ICAgICAgICAgbWF0Y2hlc1sxNl0gfHwgIiIKCQkJCQl9OwoJCQkJfQoJCQkJcmV0dXJuIHJlc3VsdHMgfHwge307CgkJCX0sCgoJCQkvL1R1cm4gcmVsUGF0aCBpbnRvIGFuIGFzYm9sdXRlIHBhdGguIGFic1BhdGggaXMKCQkJLy9hbiBvcHRpb25hbCBhYnNvbHV0ZSBwYXRoIHdoaWNoIGRlc2NyaWJlcyB3aGF0CgkJCS8vcmVsUGF0aCBpcyByZWxhdGl2ZSB0by4KCQkJbWFrZVBhdGhBYnNvbHV0ZTogZnVuY3Rpb24oIHJlbFBhdGgsIGFic1BhdGggKSB7CgkJCQlpZiAoIHJlbFBhdGggJiYgcmVsUGF0aC5jaGFyQXQoIDAgKSA9PT0gIi8iICkgewoJCQkJCXJldHVybiByZWxQYXRoOwoJCQkJfQoKCQkJCXJlbFBhdGggPSByZWxQYXRoIHx8ICIiOwoJCQkJYWJzUGF0aCA9IGFic1BhdGggPyBhYnNQYXRoLnJlcGxhY2UoIC9eXC98KFwvW15cL10qfFteXC9dKykkL2csICIiICkgOiAiIjsKCgkJCQl2YXIgYWJzU3RhY2sgPSBhYnNQYXRoID8gYWJzUGF0aC5zcGxpdCggIi8iICkgOiBbXSwKCQkJCQlyZWxTdGFjayA9IHJlbFBhdGguc3BsaXQoICIvIiApOwoJCQkJZm9yICggdmFyIGkgPSAwOyBpIDwgcmVsU3RhY2subGVuZ3RoOyBpKysgKSB7CgkJCQkJdmFyIGQgPSByZWxTdGFja1sgaSBdOwoJCQkJCXN3aXRjaCAoIGQgKSB7CgkJCQkJCWNhc2UgIi4iOgoJCQkJCQkJYnJlYWs7CgkJCQkJCWNhc2UgIi4uIjoKCQkJCQkJCWlmICggYWJzU3RhY2subGVuZ3RoICkgewoJCQkJCQkJCWFic1N0YWNrLnBvcCgpOwoJCQkJCQkJfQoJCQkJCQkJYnJlYWs7CgkJCQkJCWRlZmF1bHQ6CgkJCQkJCQlhYnNTdGFjay5wdXNoKCBkICk7CgkJCQkJCQlicmVhazsKCQkJCQl9CgkJCQl9CgkJCQlyZXR1cm4gIi8iICsgYWJzU3RhY2suam9pbiggIi8iICk7CgkJCX0sCgoJCQkvL1JldHVybnMgdHJ1ZSBpZiBib3RoIHVybHMgaGF2ZSB0aGUgc2FtZSBkb21haW4uCgkJCWlzU2FtZURvbWFpbjogZnVuY3Rpb24oIGFic1VybDEsIGFic1VybDIgKSB7CgkJCQlyZXR1cm4gcGF0aC5wYXJzZVVybCggYWJzVXJsMSApLmRvbWFpbiA9PT0gcGF0aC5wYXJzZVVybCggYWJzVXJsMiApLmRvbWFpbjsKCQkJfSwKCgkJCS8vUmV0dXJucyB0cnVlIGZvciBhbnkgcmVsYXRpdmUgdmFyaWFudC4KCQkJaXNSZWxhdGl2ZVVybDogZnVuY3Rpb24oIHVybCApIHsKCQkJCS8vIEFsbCByZWxhdGl2ZSBVcmwgdmFyaWFudHMgaGF2ZSBvbmUgdGhpbmcgaW4gY29tbW9uLCBubyBwcm90b2NvbC4KCQkJCXJldHVybiBwYXRoLnBhcnNlVXJsKCB1cmwgKS5wcm90b2NvbCA9PT0gIiI7CgkJCX0sCgoJCQkvL1JldHVybnMgdHJ1ZSBmb3IgYW4gYWJzb2x1dGUgdXJsLgoJCQlpc0Fic29sdXRlVXJsOiBmdW5jdGlvbiggdXJsICkgewoJCQkJcmV0dXJuIHBhdGgucGFyc2VVcmwoIHVybCApLnByb3RvY29sICE9PSAiIjsKCQkJfSwKCgkJCS8vVHVybiB0aGUgc3BlY2lmaWVkIHJlYWx0aXZlIFVSTCBpbnRvIGFuIGFic29sdXRlIG9uZS4gVGhpcyBmdW5jdGlvbgoJCQkvL2NhbiBoYW5kbGUgYWxsIHJlbGF0aXZlIHZhcmlhbnRzIChwcm90b2NvbCwgc2l0ZSwgZG9jdW1lbnQsIHF1ZXJ5LCBmcmFnbWVudCkuCgkJCW1ha2VVcmxBYnNvbHV0ZTogZnVuY3Rpb24oIHJlbFVybCwgYWJzVXJsICkgewoJCQkJaWYgKCAhcGF0aC5pc1JlbGF0aXZlVXJsKCByZWxVcmwgKSApIHsKCQkJCQlyZXR1cm4gcmVsVXJsOwoJCQkJfQoKCQkJCXZhciByZWxPYmogPSBwYXRoLnBhcnNlVXJsKCByZWxVcmwgKSwKCQkJCQlhYnNPYmogPSBwYXRoLnBhcnNlVXJsKCBhYnNVcmwgKSwKCQkJCQlwcm90b2NvbCA9IHJlbE9iai5wcm90b2NvbCB8fCBhYnNPYmoucHJvdG9jb2wsCgkJCQkJYXV0aG9yaXR5ID0gcmVsT2JqLmF1dGhvcml0eSB8fCBhYnNPYmouYXV0aG9yaXR5LAoJCQkJCWhhc1BhdGggPSByZWxPYmoucGF0aG5hbWUgIT09ICIiLAoJCQkJCXBhdGhuYW1lID0gcGF0aC5tYWtlUGF0aEFic29sdXRlKCByZWxPYmoucGF0aG5hbWUgfHwgYWJzT2JqLmZpbGVuYW1lLCBhYnNPYmoucGF0aG5hbWUgKSwKCQkJCQlzZWFyY2ggPSByZWxPYmouc2VhcmNoIHx8ICggIWhhc1BhdGggJiYgYWJzT2JqLnNlYXJjaCApIHx8ICIiLAoJCQkJCWhhc2ggPSByZWxPYmouaGFzaDsKCgkJCQlyZXR1cm4gcHJvdG9jb2wgKyAiLy8iICsgYXV0aG9yaXR5ICsgcGF0aG5hbWUgKyBzZWFyY2ggKyBoYXNoOwoJCQl9LAoKCQkJLy9BZGQgc2VhcmNoIChha2EgcXVlcnkpIHBhcmFtcyB0byB0aGUgc3BlY2lmaWVkIHVybC4KCQkJYWRkU2VhcmNoUGFyYW1zOiBmdW5jdGlvbiggdXJsLCBwYXJhbXMgKSB7CgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIHVybCApLAoJCQkJCXAgPSAoIHR5cGVvZiBwYXJhbXMgPT09ICJvYmplY3QiICkgPyAkLnBhcmFtKCBwYXJhbXMgKSA6IHBhcmFtcywKCQkJCQlzID0gdS5zZWFyY2ggfHwgIj8iOwoJCQkJcmV0dXJuIHUuaHJlZk5vU2VhcmNoICsgcyArICggcy5jaGFyQXQoIHMubGVuZ3RoIC0gMSApICE9PSAiPyIgPyAiJiIgOiAiIiApICsgcCArICggdS5oYXNoIHx8ICIiICk7CgkJCX0sCgoJCQljb252ZXJ0VXJsVG9EYXRhVXJsOiBmdW5jdGlvbiggYWJzVXJsICkgewoJCQkJdmFyIHUgPSBwYXRoLnBhcnNlVXJsKCBhYnNVcmwgKTsKCQkJCWlmICggcGF0aC5pc0VtYmVkZGVkUGFnZSggdSApICkgewoJCQkJICAgIC8vIEZvciBlbWJlZGRlZCBwYWdlcywgcmVtb3ZlIHRoZSBkaWFsb2cgaGFzaCBrZXkgYXMgaW4gZ2V0RmlsZVBhdGgoKSwKCQkJCSAgICAvLyBvdGhlcndpc2UgdGhlIERhdGEgVXJsIHdvbid0IG1hdGNoIHRoZSBpZCBvZiB0aGUgZW1iZWRkZWQgUGFnZS4KCQkJCQlyZXR1cm4gdS5oYXNoLnNwbGl0KCBkaWFsb2dIYXNoS2V5IClbMF0ucmVwbGFjZSggL14jLywgIiIgKTsKCQkJCX0gZWxzZSBpZiAoIHBhdGguaXNTYW1lRG9tYWluKCB1LCBkb2N1bWVudEJhc2UgKSApIHsKCQkJCQlyZXR1cm4gdS5ocmVmTm9IYXNoLnJlcGxhY2UoIGRvY3VtZW50QmFzZS5kb21haW4sICIiICk7CgkJCQl9CgkJCQlyZXR1cm4gYWJzVXJsOwoJCQl9LAoKCQkJLy9nZXQgcGF0aCBmcm9tIGN1cnJlbnQgaGFzaCwgb3IgZnJvbSBhIGZpbGUgcGF0aAoJCQlnZXQ6IGZ1bmN0aW9uKCBuZXdQYXRoICkgewoJCQkJaWYoIG5ld1BhdGggPT09IHVuZGVmaW5lZCApIHsKCQkJCQluZXdQYXRoID0gbG9jYXRpb24uaGFzaDsKCQkJCX0KCQkJCXJldHVybiBwYXRoLnN0cmlwSGFzaCggbmV3UGF0aCApLnJlcGxhY2UoIC9bXlwvXSpcLlteXC8qXSskLywgJycgKTsKCQkJfSwKCgkJCS8vcmV0dXJuIHRoZSBzdWJzdHJpbmcgb2YgYSBmaWxlcGF0aCBiZWZvcmUgdGhlIHN1Yi1wYWdlIGtleSwgZm9yIG1ha2luZyBhIHNlcnZlciByZXF1ZXN0CgkJCWdldEZpbGVQYXRoOiBmdW5jdGlvbiggcGF0aCApIHsKCQkJCXZhciBzcGxpdGtleSA9ICcmJyArICQubW9iaWxlLnN1YlBhZ2VVcmxLZXk7CgkJCQlyZXR1cm4gcGF0aCAmJiBwYXRoLnNwbGl0KCBzcGxpdGtleSApWzBdLnNwbGl0KCBkaWFsb2dIYXNoS2V5IClbMF07CgkJCX0sCgoJCQkvL3NldCBsb2NhdGlvbiBoYXNoIHRvIHBhdGgKCQkJc2V0OiBmdW5jdGlvbiggcGF0aCApIHsKCQkJCWxvY2F0aW9uLmhhc2ggPSBwYXRoOwoJCQl9LAoKCQkJLy90ZXN0IGlmIGEgZ2l2ZW4gdXJsIChzdHJpbmcpIGlzIGEgcGF0aAoJCQkvL05PVEUgbWlnaHQgYmUgZXhjZXB0aW9uYWxseSBuYWl2ZQoJCQlpc1BhdGg6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQlyZXR1cm4gKCAvXC8vICkudGVzdCggdXJsICk7CgkJCX0sCgoJCQkvL3JldHVybiBhIHVybCBwYXRoIHdpdGggdGhlIHdpbmRvdydzIGxvY2F0aW9uIHByb3RvY29sL2hvc3RuYW1lL3BhdGhuYW1lIHJlbW92ZWQKCQkJY2xlYW46IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQlyZXR1cm4gdXJsLnJlcGxhY2UoIGRvY3VtZW50QmFzZS5kb21haW4sICIiICk7CgkJCX0sCgoJCQkvL2p1c3QgcmV0dXJuIHRoZSB1cmwgd2l0aG91dCBhbiBpbml0aWFsICMKCQkJc3RyaXBIYXNoOiBmdW5jdGlvbiggdXJsICkgewoJCQkJcmV0dXJuIHVybC5yZXBsYWNlKCAvXiMvLCAiIiApOwoJCQl9LAoKCQkJLy9yZW1vdmUgdGhlIHByZWNlZGluZyBoYXNoLCBhbnkgcXVlcnkgcGFyYW1zLCBhbmQgZGlhbG9nIG5vdGF0aW9ucwoJCQljbGVhbkhhc2g6IGZ1bmN0aW9uKCBoYXNoICkgewoJCQkJcmV0dXJuIHBhdGguc3RyaXBIYXNoKCBoYXNoLnJlcGxhY2UoIC9cPy4qJC8sICIiICkucmVwbGFjZSggZGlhbG9nSGFzaEtleSwgIiIgKSApOwoJCQl9LAoKCQkJLy9jaGVjayB3aGV0aGVyIGEgdXJsIGlzIHJlZmVyZW5jaW5nIHRoZSBzYW1lIGRvbWFpbiwgb3IgYW4gZXh0ZXJuYWwgZG9tYWluIG9yIGRpZmZlcmVudCBwcm90b2NvbAoJCQkvL2NvdWxkIGJlIG1haWx0bywgZXRjCgkJCWlzRXh0ZXJuYWw6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIHVybCApOwoJCQkJcmV0dXJuIHUucHJvdG9jb2wgJiYgdS5kb21haW4gIT09IGRvY3VtZW50VXJsLmRvbWFpbiA/IHRydWUgOiBmYWxzZTsKCQkJfSwKCgkJCWhhc1Byb3RvY29sOiBmdW5jdGlvbiggdXJsICkgewoJCQkJcmV0dXJuICggL14oOj9cdys6KS8gKS50ZXN0KCB1cmwgKTsKCQkJfSwKCgkJCWlzRW1iZWRkZWRQYWdlOiBmdW5jdGlvbiggdXJsICkgewoJCQkJdmFyIHUgPSBwYXRoLnBhcnNlVXJsKCB1cmwgKTsKCgkJCQkvL2lmIHRoZSBwYXRoIGlzIGFic29sdXRlLCB0aGVuIHdlIG5lZWQgdG8gY29tcGFyZSB0aGUgdXJsIGFnYWluc3QKCQkJCS8vYm90aCB0aGUgZG9jdW1lbnRVcmwgYW5kIHRoZSBkb2N1bWVudEJhc2UuIFRoZSBtYWluIHJlYXNvbiBmb3IgdGhpcwoJCQkJLy9pcyB0aGF0IGxpbmtzIGVtYmVkZGVkIHdpdGhpbiBleHRlcm5hbCBkb2N1bWVudHMgd2lsbCByZWZlciB0byB0aGUKCQkJCS8vYXBwbGljYXRpb24gZG9jdW1lbnQsIHdoZXJlYXMgbGlua3MgZW1iZWRkZWQgd2l0aGluIHRoZSBhcHBsaWNhdGlvbgoJCQkJLy9kb2N1bWVudCB3aWxsIGJlIHJlc29sdmVkIGFnYWluc3QgdGhlIGRvY3VtZW50IGJhc2UuCgkJCQlpZiAoIHUucHJvdG9jb2wgIT09ICIiICkgewoJCQkJCXJldHVybiAoIHUuaGFzaCAmJiAoIHUuaHJlZk5vSGFzaCA9PT0gZG9jdW1lbnRVcmwuaHJlZk5vSGFzaCB8fCAoIGRvY3VtZW50QmFzZURpZmZlcnMgJiYgdS5ocmVmTm9IYXNoID09PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApICkgKTsKCQkJCX0KCQkJCXJldHVybiAoL14jLykudGVzdCggdS5ocmVmICk7CgkJCX0KCQl9LAoKCQkvL3dpbGwgYmUgZGVmaW5lZCB3aGVuIGEgbGluayBpcyBjbGlja2VkIGFuZCBnaXZlbiBhbiBhY3RpdmUgY2xhc3MKCQkkYWN0aXZlQ2xpY2tlZExpbmsgPSBudWxsLAoKCQkvL3VybEhpc3RvcnkgaXMgcHVyZWx5IGhlcmUgdG8gbWFrZSBndWVzc2VzIGF0IHdoZXRoZXIgdGhlIGJhY2sgb3IgZm9yd2FyZCBidXR0b24gd2FzIGNsaWNrZWQKCQkvL2FuZCBwcm92aWRlIGFuIGFwcHJvcHJpYXRlIHRyYW5zaXRpb24KCQl1cmxIaXN0b3J5ID0gewoJCQkvLyBBcnJheSBvZiBwYWdlcyB0aGF0IGFyZSB2aXNpdGVkIGR1cmluZyBhIHNpbmdsZSBwYWdlIGxvYWQuIAoJCQkvLyBFYWNoIGhhcyBhIHVybCBhbmQgb3B0aW9uYWwgdHJhbnNpdGlvbiwgdGl0bGUsIGFuZCBwYWdlVXJsICh3aGljaCByZXByZXNlbnRzIHRoZSBmaWxlIHBhdGgsIGluIGNhc2VzIHdoZXJlIFVSTCBpcyBvYnNjdXJlZCwgc3VjaCBhcyBkaWFsb2dzKQoJCQlzdGFjazogW10sCgoJCQkvL21haW50YWluIGFuIGluZGV4IG51bWJlciBmb3IgdGhlIGFjdGl2ZSBwYWdlIGluIHRoZSBzdGFjawoJCQlhY3RpdmVJbmRleDogMCwKCgkJCS8vZ2V0IGFjdGl2ZQoJCQlnZXRBY3RpdmU6IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuIHVybEhpc3Rvcnkuc3RhY2tbIHVybEhpc3RvcnkuYWN0aXZlSW5kZXggXTsKCQkJfSwKCgkJCWdldFByZXY6IGZ1bmN0aW9uKCkgewoJCQkJcmV0dXJuIHVybEhpc3Rvcnkuc3RhY2tbIHVybEhpc3RvcnkuYWN0aXZlSW5kZXggLSAxIF07CgkJCX0sCgoJCQlnZXROZXh0OiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiB1cmxIaXN0b3J5LnN0YWNrWyB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ICsgMSBdOwoJCQl9LAoKCQkJLy8gYWRkTmV3IGlzIHVzZWQgd2hlbmV2ZXIgYSBuZXcgcGFnZSBpcyBhZGRlZAoJCQlhZGROZXc6IGZ1bmN0aW9uKCB1cmwsIHRyYW5zaXRpb24sIHRpdGxlLCBwYWdlVXJsICkgewoJCQkJLy9pZiB0aGVyZSdzIGZvcndhcmQgaGlzdG9yeSwgd2lwZSBpdAoJCQkJaWYoIHVybEhpc3RvcnkuZ2V0TmV4dCgpICkgewoJCQkJCXVybEhpc3RvcnkuY2xlYXJGb3J3YXJkKCk7CgkJCQl9CgoJCQkJdXJsSGlzdG9yeS5zdGFjay5wdXNoKCB7dXJsIDogdXJsLCB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLCB0aXRsZTogdGl0bGUsIHBhZ2VVcmw6IHBhZ2VVcmwgfSApOwoKCQkJCXVybEhpc3RvcnkuYWN0aXZlSW5kZXggPSB1cmxIaXN0b3J5LnN0YWNrLmxlbmd0aCAtIDE7CgkJCX0sCgoJCQkvL3dpcGUgdXJscyBhaGVhZCBvZiBhY3RpdmUgaW5kZXgKCQkJY2xlYXJGb3J3YXJkOiBmdW5jdGlvbigpIHsKCQkJCXVybEhpc3Rvcnkuc3RhY2sgPSB1cmxIaXN0b3J5LnN0YWNrLnNsaWNlKCAwLCB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ICsgMSApOwoJCQl9LAoKCQkJZGlyZWN0SGFzaENoYW5nZTogZnVuY3Rpb24oIG9wdHMgKSB7CgkJCQl2YXIgYmFjayAsIGZvcndhcmQsIG5ld0FjdGl2ZUluZGV4OwoKCQkJCS8vIGNoZWNrIGlmIHVybCBpc3AgaW4gaGlzdG9yeSBhbmQgaWYgaXQncyBhaGVhZCBvciBiZWhpbmQgY3VycmVudCBwYWdlCgkJCQkkLmVhY2goIHVybEhpc3Rvcnkuc3RhY2ssIGZ1bmN0aW9uKCBpLCBoaXN0b3J5RW50cnkgKSB7CgoJCQkJCS8vaWYgdGhlIHVybCBpcyBpbiB0aGUgc3RhY2ssIGl0J3MgYSBmb3J3YXJkIG9yIGEgYmFjawoJCQkJCWlmKCBvcHRzLmN1cnJlbnRVcmwgPT09IGhpc3RvcnlFbnRyeS51cmwgKSB7CgkJCQkJCS8vZGVmaW5lIGJhY2sgYW5kIGZvcndhcmQgYnkgd2hldGhlciB1cmwgaXMgb2xkZXIgb3IgbmV3ZXIgdGhhbiBjdXJyZW50IHBhZ2UKCQkJCQkJYmFjayA9IGkgPCB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4OwoJCQkJCQlmb3J3YXJkID0gIWJhY2s7CgkJCQkJCW5ld0FjdGl2ZUluZGV4ID0gaTsKCQkJCQl9CgkJCQl9KTsKCgkJCQkvLyBzYXZlIG5ldyBwYWdlIGluZGV4LCBudWxsIGNoZWNrIHRvIHByZXZlbnQgZmFsc2V5IDAgcmVzdWx0CgkJCQl0aGlzLmFjdGl2ZUluZGV4ID0gbmV3QWN0aXZlSW5kZXggIT09IHVuZGVmaW5lZCA/IG5ld0FjdGl2ZUluZGV4IDogdGhpcy5hY3RpdmVJbmRleDsKCgkJCQlpZiggYmFjayApIHsKCQkJCQlvcHRzLmlzQmFjaygpOwoJCQkJfSBlbHNlIGlmKCBmb3J3YXJkICkgewoJCQkJCW9wdHMuaXNGb3J3YXJkKCk7CgkJCQl9CgkJCX0sCgoJCQkvL2Rpc2FibGUgaGFzaGNoYW5nZSBldmVudCBsaXN0ZW5lciBpbnRlcm5hbGx5IHRvIGlnbm9yZSBvbmUgY2hhbmdlCgkJCS8vdG9nZ2xlZCBpbnRlcm5hbGx5IHdoZW4gbG9jYXRpb24uaGFzaCBpcyB1cGRhdGVkIHRvIG1hdGNoIHRoZSB1cmwgb2YgYSBzdWNjZXNzZnVsIHBhZ2UgbG9hZAoJCQlpZ25vcmVOZXh0SGFzaENoYW5nZTogZmFsc2UKCQl9LAoKCQkvL2RlZmluZSBmaXJzdCBzZWxlY3RvciB0byByZWNlaXZlIGZvY3VzIHdoZW4gYSBwYWdlIGlzIHNob3duCgkJZm9jdXNhYmxlID0gIlt0YWJpbmRleF0sYSxidXR0b246dmlzaWJsZSxzZWxlY3Q6dmlzaWJsZSxpbnB1dCIsCgoJCS8vcXVldWUgdG8gaG9sZCBzaW11bHRhbmlvdXMgcGFnZSB0cmFuc2l0aW9ucwoJCXBhZ2VUcmFuc2l0aW9uUXVldWUgPSBbXSwKCgkJLy9pbmRpY2F0ZXMgd2hldGhlciBvciBub3QgcGFnZSBpcyBpbiBwcm9jZXNzIG9mIHRyYW5zaXRpb25pbmcKCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gZmFsc2UsCgoJCS8vbm9uc2Vuc2UgaGFzaCBjaGFuZ2Uga2V5IGZvciBkaWFsb2dzLCBzbyB0aGV5IGNyZWF0ZSBhIGhpc3RvcnkgZW50cnkKCQlkaWFsb2dIYXNoS2V5ID0gIiZ1aS1zdGF0ZT1kaWFsb2ciLAoKCQkvL2V4aXN0aW5nIGJhc2UgdGFnPwoJCSRiYXNlID0gJGhlYWQuY2hpbGRyZW4oICJiYXNlIiApLAoKCQkvL3R1Y2sgYXdheSB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgVVJMIG1pbnVzIGFueSBmcmFnbWVudC4KCQlkb2N1bWVudFVybCA9IHBhdGgucGFyc2VVcmwoIGxvY2F0aW9uLmhyZWYgKSwKCgkJLy9pZiB0aGUgZG9jdW1lbnQgaGFzIGFuIGVtYmVkZGVkIGJhc2UgdGFnLCBkb2N1bWVudEJhc2UgaXMgc2V0IHRvIGl0cwoJCS8vaW5pdGlhbCB2YWx1ZS4gSWYgYSBiYXNlIHRhZyBkb2VzIG5vdCBleGlzdCwgdGhlbiB3ZSBkZWZhdWx0IHRvIHRoZSBkb2N1bWVudFVybC4KCQlkb2N1bWVudEJhc2UgPSAkYmFzZS5sZW5ndGggPyBwYXRoLnBhcnNlVXJsKCBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggJGJhc2UuYXR0ciggImhyZWYiICksIGRvY3VtZW50VXJsLmhyZWYgKSApIDogZG9jdW1lbnRVcmwsCgoJCS8vY2FjaGUgdGhlIGNvbXBhcmlzb24gb25jZS4KCQlkb2N1bWVudEJhc2VEaWZmZXJzID0gKCBkb2N1bWVudFVybC5ocmVmTm9IYXNoICE9PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApOwoKCQkvL2Jhc2UgZWxlbWVudCBtYW5hZ2VtZW50LCBkZWZpbmVkIGRlcGVuZGluZyBvbiBkeW5hbWljIGJhc2UgdGFnIHN1cHBvcnQKCQl2YXIgYmFzZSA9ICQuc3VwcG9ydC5keW5hbWljQmFzZVRhZyA/IHsKCgkJCS8vZGVmaW5lIGJhc2UgZWxlbWVudCwgZm9yIHVzZSBpbiByb3V0aW5nIGFzc2V0IHVybHMgdGhhdCBhcmUgcmVmZXJlbmNlZCBpbiBBamF4LXJlcXVlc3RlZCBtYXJrdXAKCQkJZWxlbWVudDogKCAkYmFzZS5sZW5ndGggPyAkYmFzZSA6ICQoICI8YmFzZT4iLCB7IGhyZWY6IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoIH0gKS5wcmVwZW5kVG8oICRoZWFkICkgKSwKCgkJCS8vc2V0IHRoZSBnZW5lcmF0ZWQgQkFTRSBlbGVtZW50J3MgaHJlZiBhdHRyaWJ1dGUgdG8gYSBuZXcgcGFnZSdzIGJhc2UgcGF0aAoJCQlzZXQ6IGZ1bmN0aW9uKCBocmVmICkgewoJCQkJYmFzZS5lbGVtZW50LmF0dHIoICJocmVmIiwgcGF0aC5tYWtlVXJsQWJzb2x1dGUoIGhyZWYsIGRvY3VtZW50QmFzZSApICk7CgkJCX0sCgoJCQkvL3NldCB0aGUgZ2VuZXJhdGVkIEJBU0UgZWxlbWVudCdzIGhyZWYgYXR0cmlidXRlIHRvIGEgbmV3IHBhZ2UncyBiYXNlIHBhdGgKCQkJcmVzZXQ6IGZ1bmN0aW9uKCkgewoJCQkJYmFzZS5lbGVtZW50LmF0dHIoICJocmVmIiwgZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggKTsKCQkJfQoKCQl9IDogdW5kZWZpbmVkOwoKLyoKCWludGVybmFsIHV0aWxpdHkgZnVuY3Rpb25zCi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8KCgoJLy9kaXJlY3QgZm9jdXMgdG8gdGhlIHBhZ2UgdGl0bGUsIG9yIG90aGVyd2lzZSBmaXJzdCBmb2N1c2FibGUgZWxlbWVudAoJZnVuY3Rpb24gcmVGb2N1cyggcGFnZSApIHsKCQl2YXIgbGFzdENsaWNrZWQgPSBwYWdlLmpxbURhdGEoICJsYXN0Q2xpY2tlZCIgKTsKCgkJaWYoIGxhc3RDbGlja2VkICYmIGxhc3RDbGlja2VkLmxlbmd0aCApIHsKCQkJbGFzdENsaWNrZWQuZm9jdXMoKTsKCQl9CgkJZWxzZSB7CgkJCXZhciBwYWdlVGl0bGUgPSBwYWdlLmZpbmQoICIudWktdGl0bGU6ZXEoMCkiICk7CgoJCQlpZiggcGFnZVRpdGxlLmxlbmd0aCApIHsKCQkJCXBhZ2VUaXRsZS5mb2N1cygpOwoJCQl9CgkJCWVsc2V7CgkJCQlwYWdlLmZpbmQoIGZvY3VzYWJsZSApLmVxKCAwICkuZm9jdXMoKTsKCQkJfQoJCX0KCX0KCgkvL3JlbW92ZSBhY3RpdmUgY2xhc3NlcyBhZnRlciBwYWdlIHRyYW5zaXRpb24gb3IgZXJyb3IKCWZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUxpbmtDbGFzcyggZm9yY2VSZW1vdmFsICkgewoJCWlmKCAhISRhY3RpdmVDbGlja2VkTGluayAmJiAoICEkYWN0aXZlQ2xpY2tlZExpbmsuY2xvc2VzdCggJy51aS1wYWdlLWFjdGl2ZScgKS5sZW5ndGggfHwgZm9yY2VSZW1vdmFsICkgKSB7CgkJCSRhY3RpdmVDbGlja2VkTGluay5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQl9CgkJJGFjdGl2ZUNsaWNrZWRMaW5rID0gbnVsbDsKCX0KCglmdW5jdGlvbiByZWxlYXNlUGFnZVRyYW5zaXRpb25Mb2NrKCkgewoJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZTsKCQlpZiggcGFnZVRyYW5zaXRpb25RdWV1ZS5sZW5ndGggPiAwICkgewoJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KCBudWxsLCBwYWdlVHJhbnNpdGlvblF1ZXVlLnBvcCgpICk7CgkJfQoJfQoKCS8vZnVuY3Rpb24gZm9yIHRyYW5zaXRpb25pbmcgYmV0d2VlbiB0d28gZXhpc3RpbmcgcGFnZXMKCWZ1bmN0aW9uIHRyYW5zaXRpb25QYWdlcyggdG9QYWdlLCBmcm9tUGFnZSwgdHJhbnNpdGlvbiwgcmV2ZXJzZSApIHsKCgkJLy9nZXQgY3VycmVudCBzY3JvbGwgZGlzdGFuY2UKCQl2YXIgY3VyclNjcm9sbCA9ICQuc3VwcG9ydC5zY3JvbGxUb3AgPyAkd2luZG93LnNjcm9sbFRvcCgpIDogdHJ1ZSwKCQkJdG9TY3JvbGwJPSB0b1BhZ2UuZGF0YSggImxhc3RTY3JvbGwiICkgfHwgJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwsCgkJCXNjcmVlbkhlaWdodCA9IGdldFNjcmVlbkhlaWdodCgpOwoKCQkvL2lmIHNjcm9sbGVkIGRvd24sIHNjcm9sbCB0byB0b3AKCQlpZiggY3VyclNjcm9sbCApewoJCQl3aW5kb3cuc2Nyb2xsVG8oIDAsICQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsICk7CgkJfQoKCQkvL2lmIHRoZSBZIGxvY2F0aW9uIHdlJ3JlIHNjcm9sbGluZyB0byBpcyBsZXNzIHRoYW4gMTBweCwgbGV0IGl0IGdvIGZvciBzYWtlIG9mIHNtb290aG5lc3MKCQlpZiggdG9TY3JvbGwgPCAkLm1vYmlsZS5taW5TY3JvbGxCYWNrICl7CgkJCXRvU2Nyb2xsID0gMDsKCQl9CgoJCWlmKCBmcm9tUGFnZSApIHsKCQkJLy9zZXQgYXMgZGF0YSBmb3IgcmV0dXJuaW5nIHRvIHRoYXQgc3BvdAoJCQlmcm9tUGFnZQoJCQkJLmhlaWdodCggc2NyZWVuSGVpZ2h0ICsgY3VyclNjcm9sbCApCgkJCQkuanFtRGF0YSggImxhc3RTY3JvbGwiLCBjdXJyU2Nyb2xsICkKCQkJCS5qcW1EYXRhKCAibGFzdENsaWNrZWQiLCAkYWN0aXZlQ2xpY2tlZExpbmsgKTsKCgkJCS8vdHJpZ2dlciBiZWZvcmUgc2hvdy9oaWRlIGV2ZW50cwoJCQlmcm9tUGFnZS5kYXRhKCAicGFnZSIgKS5fdHJpZ2dlciggImJlZm9yZWhpZGUiLCBudWxsLCB7IG5leHRQYWdlOiB0b1BhZ2UgfSApOwoJCX0KCQl0b1BhZ2UKCQkJLmhlaWdodCggc2NyZWVuSGVpZ2h0ICsgdG9TY3JvbGwgKQoJCQkuZGF0YSggInBhZ2UiICkuX3RyaWdnZXIoICJiZWZvcmVzaG93IiwgbnVsbCwgeyBwcmV2UGFnZTogZnJvbVBhZ2UgfHwgJCggIiIgKSB9ICk7CgoJCS8vY2xlYXIgcGFnZSBsb2FkZXIKCQkkLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTsKCgkJLy9maW5kIHRoZSB0cmFuc2l0aW9uIGhhbmRsZXIgZm9yIHRoZSBzcGVjaWZpZWQgdHJhbnNpdGlvbi4gSWYgdGhlcmUKCQkvL2lzbid0IG9uZSBpbiBvdXIgdHJhbnNpdGlvbkhhbmRsZXJzIGRpY3Rpb25hcnksIHVzZSB0aGUgZGVmYXVsdCBvbmUuCgkJLy9jYWxsIHRoZSBoYW5kbGVyIGltbWVkaWF0ZWx5IHRvIGtpY2stb2ZmIHRoZSB0cmFuc2l0aW9uLgoJCXZhciB0aCA9ICQubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1t0cmFuc2l0aW9uIHx8ICJub25lIl0gfHwgJC5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyLAoJCQlwcm9taXNlID0gdGgoIHRyYW5zaXRpb24sIHJldmVyc2UsIHRvUGFnZSwgZnJvbVBhZ2UgKTsKCgkJcHJvbWlzZS5kb25lKGZ1bmN0aW9uKCkgewoJCQkvL3Jlc2V0IHRvUGFnZSBoZWlnaHQgYmFjCgkJCXRvUGFnZS5oZWlnaHQoICIiICk7CgoJCQkvL2p1bXAgdG8gdG9wIG9yIHByZXYgc2Nyb2xsLCBzb21ldGltZXMgb24gaU9TIHRoZSBwYWdlIGhhcyBub3QgcmVuZGVyZWQgeWV0LgoJCQlpZiggdG9TY3JvbGwgKXsKCQkJCSQubW9iaWxlLnNpbGVudFNjcm9sbCggdG9TY3JvbGwgKTsKCQkJCSQoIGRvY3VtZW50ICkub25lKCAic2lsZW50c2Nyb2xsIiwgZnVuY3Rpb24oKSB7IHJlRm9jdXMoIHRvUGFnZSApOyB9ICk7CgkJCX0KCQkJZWxzZXsKCQkJCXJlRm9jdXMoIHRvUGFnZSApOwoJCQl9CgoJCQkvL3RyaWdnZXIgc2hvdy9oaWRlIGV2ZW50cwoJCQlpZiggZnJvbVBhZ2UgKSB7CgkJCQlmcm9tUGFnZS5oZWlnaHQoIiIpLmRhdGEoICJwYWdlIiApLl90cmlnZ2VyKCAiaGlkZSIsIG51bGwsIHsgbmV4dFBhZ2U6IHRvUGFnZSB9ICk7CgkJCX0KCgkJCS8vdHJpZ2dlciBwYWdlc2hvdywgZGVmaW5lIHByZXZQYWdlIGFzIGVpdGhlciBmcm9tUGFnZSBvciBlbXB0eSBqUXVlcnkgb2JqCgkJCXRvUGFnZS5kYXRhKCAicGFnZSIgKS5fdHJpZ2dlciggInNob3ciLCBudWxsLCB7IHByZXZQYWdlOiBmcm9tUGFnZSB8fCAkKCAiIiApIH0gKTsKCQl9KTsKCgkJcmV0dXJuIHByb21pc2U7Cgl9CgoJLy9zaW1wbHkgc2V0IHRoZSBhY3RpdmUgcGFnZSdzIG1pbmltdW0gaGVpZ2h0IHRvIHNjcmVlbiBoZWlnaHQsIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvbgoJZnVuY3Rpb24gZ2V0U2NyZWVuSGVpZ2h0KCl7CgkJdmFyIG9yaWVudGF0aW9uIAk9IGpRdWVyeS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uKCksCgkJCXBvcnQJCQk9IG9yaWVudGF0aW9uID09PSAicG9ydHJhaXQiLAoJCQl3aW5NaW4JCQk9IHBvcnQgPyA0ODAgOiAzMjAsCgkJCXNjcmVlbkhlaWdodAk9IHBvcnQgPyBzY3JlZW4uYXZhaWxIZWlnaHQgOiBzY3JlZW4uYXZhaWxXaWR0aCwKCQkJd2luSGVpZ2h0CQk9IE1hdGgubWF4KCB3aW5NaW4sICQoIHdpbmRvdyApLmhlaWdodCgpICksCgkJCXBhZ2VNaW4JCQk9IE1hdGgubWluKCBzY3JlZW5IZWlnaHQsIHdpbkhlaWdodCApOwoKCQlyZXR1cm4gcGFnZU1pbjsKCX0KCgkvL3NpbXBseSBzZXQgdGhlIGFjdGl2ZSBwYWdlJ3MgbWluaW11bSBoZWlnaHQgdG8gc2NyZWVuIGhlaWdodCwgZGVwZW5kaW5nIG9uIG9yaWVudGF0aW9uCglmdW5jdGlvbiByZXNldEFjdGl2ZVBhZ2VIZWlnaHQoKXsKCQkkKCAiLiIgKyAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKS5jc3MoICJtaW4taGVpZ2h0IiwgZ2V0U2NyZWVuSGVpZ2h0KCkgKTsKCX0KCgkvL3NoYXJlZCBwYWdlIGVuaGFuY2VtZW50cwoJZnVuY3Rpb24gZW5oYW5jZVBhZ2UoICRwYWdlLCByb2xlICkgewoJCS8vIElmIGEgcm9sZSB3YXMgc3BlY2lmaWVkLCBtYWtlIHN1cmUgdGhlIGRhdGEtcm9sZSBhdHRyaWJ1dGUKCQkvLyBvbiB0aGUgcGFnZSBlbGVtZW50IGlzIGluIHN5bmMuCgkJaWYoIHJvbGUgKSB7CgkJCSRwYWdlLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlIiwgcm9sZSApOwoJCX0KCgkJLy9ydW4gcGFnZSBwbHVnaW4KCQkkcGFnZS5wYWdlKCk7Cgl9CgovKiBleHBvc2VkICQubW9iaWxlIG1ldGhvZHMJICovCgoJLy9hbmltYXRpb24gY29tcGxldGUgY2FsbGJhY2sKCSQuZm4uYW5pbWF0aW9uQ29tcGxldGUgPSBmdW5jdGlvbiggY2FsbGJhY2sgKSB7CgkJaWYoICQuc3VwcG9ydC5jc3NUcmFuc2l0aW9ucyApIHsKCQkJcmV0dXJuICQoIHRoaXMgKS5vbmUoICd3ZWJraXRBbmltYXRpb25FbmQnLCBjYWxsYmFjayApOwoJCX0KCQllbHNlewoJCQkvLyBkZWZlciBleGVjdXRpb24gZm9yIGNvbnNpc3RlbmN5IGJldHdlZW4gd2Via2l0L25vbiB3ZWJraXQKCQkJc2V0VGltZW91dCggY2FsbGJhY2ssIDAgKTsKCQkJcmV0dXJuICQoIHRoaXMgKTsKCQl9Cgl9OwoKCS8vdXBkYXRlIGxvY2F0aW9uLmhhc2gsIHdpdGggb3Igd2l0aG91dCB0cmlnZ2VyaW5nIGhhc2hjaGFuZ2UgZXZlbnQKCS8vVE9ETyAtIGRlcHJlY2F0ZSB0aGlzIG9uZSBhdCAxLjAKCSQubW9iaWxlLnVwZGF0ZUhhc2ggPSBwYXRoLnNldDsKCgkvL2V4cG9zZSBwYXRoIG9iamVjdCBvbiAkLm1vYmlsZQoJJC5tb2JpbGUucGF0aCA9IHBhdGg7CgoJLy9leHBvc2UgYmFzZSBvYmplY3Qgb24gJC5tb2JpbGUKCSQubW9iaWxlLmJhc2UgPSBiYXNlOwoKCS8vdXJsIHN0YWNrLCB1c2VmdWwgd2hlbiBwbHVnaW5zIG5lZWQgdG8gYmUgYXdhcmUgb2YgcHJldmlvdXMgcGFnZXMgdmlld2VkCgkvL1RPRE86IGRlcHJlY2F0ZSB0aGlzIG9uZSBhdCAxLjAKCSQubW9iaWxlLnVybHN0YWNrID0gdXJsSGlzdG9yeS5zdGFjazsKCgkvL2hpc3Rvcnkgc3RhY2sKCSQubW9iaWxlLnVybEhpc3RvcnkgPSB1cmxIaXN0b3J5OwoKCS8vZGVmYXVsdCBub24tYW5pbWF0aW9uIHRyYW5zaXRpb24gaGFuZGxlcgoJJC5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyID0gZnVuY3Rpb24oIG5hbWUsIHJldmVyc2UsICR0b1BhZ2UsICRmcm9tUGFnZSApIHsKCQlpZiAoICRmcm9tUGFnZSApIHsKCQkJJGZyb21QYWdlLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTsKCQl9CgkJJHRvUGFnZS5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICk7CgoJCXJldHVybiAkLkRlZmVycmVkKCkucmVzb2x2ZSggbmFtZSwgcmV2ZXJzZSwgJHRvUGFnZSwgJGZyb21QYWdlICkucHJvbWlzZSgpOwoJfTsKCgkvL2RlZmF1bHQgaGFuZGxlciBmb3IgdW5rbm93biB0cmFuc2l0aW9ucwoJJC5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyID0gJC5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyOwoKCS8vdHJhbnNpdGlvbiBoYW5kbGVyIGRpY3Rpb25hcnkgZm9yIDNyZCBwYXJ0eSB0cmFuc2l0aW9ucwoJJC5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzID0gewoJCW5vbmU6ICQubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcgoJfTsKCgkvL2VuYWJsZSBjcm9zcy1kb21haW4gcGFnZSBzdXBwb3J0CgkkLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMgPSBmYWxzZTsKCgkvL3JldHVybiB0aGUgb3JpZ2luYWwgZG9jdW1lbnQgdXJsCgkkLm1vYmlsZS5nZXREb2N1bWVudFVybCA9IGZ1bmN0aW9uKGFzUGFyc2VkT2JqZWN0KSB7CgkJcmV0dXJuIGFzUGFyc2VkT2JqZWN0ID8gJC5leHRlbmQoIHt9LCBkb2N1bWVudFVybCApIDogZG9jdW1lbnRVcmwuaHJlZjsKCX07CgoJLy9yZXR1cm4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IGJhc2UgdXJsCgkkLm1vYmlsZS5nZXREb2N1bWVudEJhc2UgPSBmdW5jdGlvbihhc1BhcnNlZE9iamVjdCkgewoJCXJldHVybiBhc1BhcnNlZE9iamVjdCA/ICQuZXh0ZW5kKCB7fSwgZG9jdW1lbnRCYXNlICkgOiBkb2N1bWVudEJhc2UuaHJlZjsKCX07CgoJLy8gTG9hZCBhIHBhZ2UgaW50byB0aGUgRE9NLgoJJC5tb2JpbGUubG9hZFBhZ2UgPSBmdW5jdGlvbiggdXJsLCBvcHRpb25zICkgewoJCS8vIFRoaXMgZnVuY3Rpb24gdXNlcyBkZWZlcnJlZCBub3RpZmljYXRpb25zIHRvIGxldCBjYWxsZXJzCgkJLy8ga25vdyB3aGVuIHRoZSBwYWdlIGlzIGRvbmUgbG9hZGluZywgb3IgaWYgYW4gZXJyb3IgaGFzIG9jY3VycmVkLgoJCXZhciBkZWZlcnJlZCA9ICQuRGVmZXJyZWQoKSwKCgkJCS8vIFRoZSBkZWZhdWx0IGxvYWRQYWdlIG9wdGlvbnMgd2l0aCBvdmVycmlkZXMgc3BlY2lmaWVkIGJ5CgkJCS8vIHRoZSBjYWxsZXIuCgkJCXNldHRpbmdzID0gJC5leHRlbmQoIHt9LCAkLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cywgb3B0aW9ucyApLAoKCQkJLy8gVGhlIERPTSBlbGVtZW50IGZvciB0aGUgcGFnZSBhZnRlciBpdCBoYXMgYmVlbiBsb2FkZWQuCgkJCXBhZ2UgPSBudWxsLAoKCQkJLy8gSWYgdGhlIHJlbG9hZFBhZ2Ugb3B0aW9uIGlzIHRydWUsIGFuZCB0aGUgcGFnZSBpcyBhbHJlYWR5CgkJCS8vIGluIHRoZSBET00sIGR1cENhY2hlZFBhZ2Ugd2lsbCBiZSBzZXQgdG8gdGhlIHBhZ2UgZWxlbWVudAoJCQkvLyBzbyB0aGF0IGl0IGNhbiBiZSByZW1vdmVkIGFmdGVyIHRoZSBuZXcgdmVyc2lvbiBvZiB0aGUKCQkJLy8gcGFnZSBpcyBsb2FkZWQgb2ZmIHRoZSBuZXR3b3JrLgoJCQlkdXBDYWNoZWRQYWdlID0gbnVsbCwKCgkJCS8vIGRldGVybWluZSB0aGUgY3VycmVudCBiYXNlIHVybAoJCQlmaW5kQmFzZVdpdGhEZWZhdWx0ID0gZnVuY3Rpb24oKXsKCQkJCXZhciBjbG9zZXN0QmFzZSA9ICggJC5tb2JpbGUuYWN0aXZlUGFnZSAmJiBnZXRDbG9zZXN0QmFzZVVybCggJC5tb2JpbGUuYWN0aXZlUGFnZSApICk7CgkJCQlyZXR1cm4gY2xvc2VzdEJhc2UgfHwgZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7CgkJCX0sCgoJCQkvLyBUaGUgYWJzb2x1dGUgdmVyc2lvbiBvZiB0aGUgVVJMIHBhc3NlZCBpbnRvIHRoZSBmdW5jdGlvbi4gVGhpcwoJCQkvLyB2ZXJzaW9uIG9mIHRoZSBVUkwgbWF5IGNvbnRhaW4gZGlhbG9nL3N1YnBhZ2UgcGFyYW1zIGluIGl0LgoJCQlhYnNVcmwgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggdXJsLCBmaW5kQmFzZVdpdGhEZWZhdWx0KCkgKTsKCgoJCS8vIElmIHRoZSBjYWxsZXIgcHJvdmlkZWQgZGF0YSwgYW5kIHdlJ3JlIHVzaW5nICJnZXQiIHJlcXVlc3QsCgkJLy8gYXBwZW5kIHRoZSBkYXRhIHRvIHRoZSBVUkwuCgkJaWYgKCBzZXR0aW5ncy5kYXRhICYmIHNldHRpbmdzLnR5cGUgPT09ICJnZXQiICkgewoJCQlhYnNVcmwgPSBwYXRoLmFkZFNlYXJjaFBhcmFtcyggYWJzVXJsLCBzZXR0aW5ncy5kYXRhICk7CgkJCXNldHRpbmdzLmRhdGEgPSB1bmRlZmluZWQ7CgkJfQoKCQkJLy8gVGhlIGFic29sdXRlIHZlcnNpb24gb2YgdGhlIFVSTCBtaW51cyBhbnkgZGlhbG9nL3N1YnBhZ2UgcGFyYW1zLgoJCQkvLyBJbiBvdGhlcndvcmRzIHRoZSByZWFsIFVSTCBvZiB0aGUgcGFnZSB0byBiZSBsb2FkZWQuCgkJdmFyIGZpbGVVcmwgPSBwYXRoLmdldEZpbGVQYXRoKCBhYnNVcmwgKSwKCgkJCS8vIFRoZSB2ZXJzaW9uIG9mIHRoZSBVcmwgYWN0dWFsbHkgc3RvcmVkIGluIHRoZSBkYXRhLXVybCBhdHRyaWJ1dGUgb2YKCQkJLy8gdGhlIHBhZ2UuIEZvciBlbWJlZGRlZCBwYWdlcywgaXQgaXMganVzdCB0aGUgaWQgb2YgdGhlIHBhZ2UuIEZvciBwYWdlcwoJCQkvLyB3aXRoaW4gdGhlIHNhbWUgZG9tYWluIGFzIHRoZSBkb2N1bWVudCBiYXNlLCBpdCBpcyB0aGUgc2l0ZSByZWxhdGl2ZQoJCQkvLyBwYXRoLiBGb3IgY3Jvc3MtZG9tYWluIHBhZ2VzIChQaG9uZSBHYXAgb25seSkgdGhlIGVudGlyZSBhYnNvbHV0ZSBVcmwKCQkJLy8gdXNlZCB0byBsb2FkIHRoZSBwYWdlLgoJCQlkYXRhVXJsID0gcGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKCBhYnNVcmwgKTsKCgkJLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwYWdlQ29udGFpbmVyIHRvIHdvcmsgd2l0aC4KCQlzZXR0aW5ncy5wYWdlQ29udGFpbmVyID0gc2V0dGluZ3MucGFnZUNvbnRhaW5lciB8fCAkLm1vYmlsZS5wYWdlQ29udGFpbmVyOwoKCQkvLyBDaGVjayB0byBzZWUgaWYgdGhlIHBhZ2UgYWxyZWFkeSBleGlzdHMgaW4gdGhlIERPTS4KCQlwYWdlID0gc2V0dGluZ3MucGFnZUNvbnRhaW5lci5jaGlsZHJlbiggIjpqcW1EYXRhKHVybD0nIiArIGRhdGFVcmwgKyAiJykiICk7CgoJCS8vIFJlc2V0IGJhc2UgdG8gdGhlIGRlZmF1bHQgZG9jdW1lbnQgYmFzZS4KCQlpZiAoIGJhc2UgKSB7CgkJCWJhc2UucmVzZXQoKTsKCQl9CgoJCS8vIElmIHRoZSBwYWdlIHdlIGFyZSBpbnRlcmVzdGVkIGluIGlzIGFscmVhZHkgaW4gdGhlIERPTSwKCQkvLyBhbmQgdGhlIGNhbGxlciBkaWQgbm90IGluZGljYXRlIHRoYXQgd2Ugc2hvdWxkIGZvcmNlIGEKCQkvLyByZWxvYWQgb2YgdGhlIGZpbGUsIHdlIGFyZSBkb25lLiBPdGhlcndpc2UsIHRyYWNrIHRoZQoJCS8vIGV4aXN0aW5nIHBhZ2UgYXMgYSBkdXBsaWNhdGVkLgoJCWlmICggcGFnZS5sZW5ndGggKSB7CgkJCWlmICggIXNldHRpbmdzLnJlbG9hZFBhZ2UgKSB7CgkJCQllbmhhbmNlUGFnZSggcGFnZSwgc2V0dGluZ3Mucm9sZSApOwoJCQkJZGVmZXJyZWQucmVzb2x2ZSggYWJzVXJsLCBvcHRpb25zLCBwYWdlICk7CgkJCQlyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpOwoJCQl9CgkJCWR1cENhY2hlZFBhZ2UgPSBwYWdlOwoJCX0KCgkJaWYgKCBzZXR0aW5ncy5zaG93TG9hZE1zZyApIHsKCQkJCgkJCS8vIFRoaXMgY29uZmlndXJhYmxlIHRpbWVvdXQgYWxsb3dzIGNhY2hlZCBwYWdlcyBhIGJyaWVmIGRlbGF5IHRvIGxvYWQgd2l0aG91dCBzaG93aW5nIGEgbWVzc2FnZQoJCQl2YXIgbG9hZE1zZ0RlbGF5ID0gc2V0VGltZW91dChmdW5jdGlvbigpewoJCQkJCSQubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOwoJCQkJfSwgc2V0dGluZ3MubG9hZE1zZ0RlbGF5ICksCgkJCQkKCQkJCS8vIFNoYXJlZCBsb2dpYyBmb3IgY2xlYXJpbmcgdGltZW91dCBhbmQgcmVtb3ZpbmcgbWVzc2FnZS4KCQkJCWhpZGVNc2cgPSBmdW5jdGlvbigpewoJCQkJCQoJCQkJCS8vIFN0b3AgbWVzc2FnZSBzaG93IHRpbWVyCgkJCQkJY2xlYXJUaW1lb3V0KCBsb2FkTXNnRGVsYXkgKTsKCQkJCQkKCQkJCQkvLyBIaWRlIGxvYWRpbmcgbWVzc2FnZQoJCQkJCSQubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOwoJCQkJfTsKCQl9CgoJCWlmICggISggJC5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzIHx8IHBhdGguaXNTYW1lRG9tYWluKCBkb2N1bWVudFVybCwgYWJzVXJsICkgKSApIHsKCQkJZGVmZXJyZWQucmVqZWN0KCBhYnNVcmwsIG9wdGlvbnMgKTsKCQl9IGVsc2UgewoJCQkvLyBMb2FkIHRoZSBuZXcgcGFnZS4KCQkJJC5hamF4KHsKCQkJCXVybDogZmlsZVVybCwKCQkJCXR5cGU6IHNldHRpbmdzLnR5cGUsCgkJCQlkYXRhOiBzZXR0aW5ncy5kYXRhLAoJCQkJZGF0YVR5cGU6ICJodG1sIiwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCBodG1sICkgewoJCQkJCS8vcHJlLXBhcnNlIGh0bWwgdG8gY2hlY2sgZm9yIGEgZGF0YS11cmwsCgkJCQkJLy91c2UgaXQgYXMgdGhlIG5ldyBmaWxlVXJsLCBiYXNlIHBhdGgsIGV0YwoJCQkJCXZhciBhbGwgPSAkKCAiPGRpdj48L2Rpdj4iICksCgoJCQkJCQkvL3BhZ2UgdGl0bGUgcmVnZXhwCgkJCQkJCW5ld1BhZ2VUaXRsZSA9IGh0bWwubWF0Y2goIC88dGl0bGVbXj5dKj4oW148XSopLyApICYmIFJlZ0V4cC4kMSwKCgkJCQkJCS8vIFRPRE8gaGFuZGxlIGRpYWxvZ3MgYWdhaW4KCQkJCQkJcGFnZUVsZW1SZWdleCA9IG5ldyBSZWdFeHAoICIuKig8W14+XStcXGJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pLioiICksCgkJCQkJCWRhdGFVcmxSZWdleCA9IG5ldyBSZWdFeHAoICJcXGJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIgKTsKCgoJCQkJCS8vIGRhdGEtdXJsIG11c3QgYmUgcHJvdmlkZWQgZm9yIHRoZSBiYXNlIHRhZyBzbyByZXNvdXJjZSByZXF1ZXN0cyBjYW4gYmUgZGlyZWN0ZWQgdG8gdGhlCgkJCQkJLy8gY29ycmVjdCB1cmwuIGxvYWRpbmcgaW50byBhIHRlbXByb3JhcnkgZWxlbWVudCBtYWtlcyB0aGVzZSByZXF1ZXN0cyBpbW1lZGlhdGVseQoJCQkJCWlmKCBwYWdlRWxlbVJlZ2V4LnRlc3QoIGh0bWwgKQoJCQkJCQkJJiYgUmVnRXhwLiQxCgkJCQkJCQkmJiBkYXRhVXJsUmVnZXgudGVzdCggUmVnRXhwLiQxICkKCQkJCQkJCSYmIFJlZ0V4cC4kMSApIHsKCQkJCQkJdXJsID0gZmlsZVVybCA9IHBhdGguZ2V0RmlsZVBhdGgoIFJlZ0V4cC4kMSApOwoJCQkJCX0KCQkJCQllbHNlewoKCQkJCQl9CgoJCQkJCWlmICggYmFzZSApIHsKCQkJCQkJYmFzZS5zZXQoIGZpbGVVcmwgKTsKCQkJCQl9CgoJCQkJCS8vd29ya2Fyb3VuZCB0byBhbGxvdyBzY3JpcHRzIHRvIGV4ZWN1dGUgd2hlbiBpbmNsdWRlZCBpbiBwYWdlIGRpdnMKCQkJCQlhbGwuZ2V0KCAwICkuaW5uZXJIVE1MID0gaHRtbDsKCQkJCQlwYWdlID0gYWxsLmZpbmQoICI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiApLmZpcnN0KCk7CgoJCQkJCS8vaWYgcGFnZSBlbGVtIGNvdWxkbid0IGJlIGZvdW5kLCBjcmVhdGUgb25lIGFuZCBpbnNlcnQgdGhlIGJvZHkgZWxlbWVudCdzIGNvbnRlbnRzCgkJCQkJaWYoICFwYWdlLmxlbmd0aCApewoJCQkJCQlwYWdlID0gJCggIjxkaXYgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0ncGFnZSc+IiArIGh0bWwuc3BsaXQoIC88XC8/Ym9keVtePl0qPi9nbWkgKVsxXSArICI8L2Rpdj4iICk7CgkJCQkJfQoKCQkJCQlpZiAoIG5ld1BhZ2VUaXRsZSAmJiAhcGFnZS5qcW1EYXRhKCAidGl0bGUiICkgKSB7CgkJCQkJCXBhZ2UuanFtRGF0YSggInRpdGxlIiwgbmV3UGFnZVRpdGxlICk7CgkJCQkJfQoKCQkJCQkvL3Jld3JpdGUgc3JjIGFuZCBocmVmIGF0dHJzIHRvIHVzZSBhIGJhc2UgdXJsCgkJCQkJaWYoICEkLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcgKSB7CgkJCQkJCXZhciBuZXdQYXRoID0gcGF0aC5nZXQoIGZpbGVVcmwgKTsKCQkJCQkJcGFnZS5maW5kKCAiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iICkuZWFjaChmdW5jdGlvbigpIHsKCQkJCQkJCXZhciB0aGlzQXR0ciA9ICQoIHRoaXMgKS5pcyggJ1tocmVmXScgKSA/ICdocmVmJyA6CgkJCQkJCQkJCSQodGhpcykuaXMoJ1tzcmNdJykgPyAnc3JjJyA6ICdhY3Rpb24nLAoJCQkJCQkJCXRoaXNVcmwgPSAkKCB0aGlzICkuYXR0ciggdGhpc0F0dHIgKTsKCgkJCQkJCQkvLyBYWFhfamJsYXM6IFdlIG5lZWQgdG8gZml4IHRoaXMgc28gdGhhdCBpdCByZW1vdmVzIHRoZSBkb2N1bWVudAoJCQkJCQkJLy8gICAgICAgICAgICBiYXNlIFVSTCwgYW5kIHRoZW4gcHJlcGVuZHMgd2l0aCB0aGUgbmV3IHBhZ2UgVVJMLgoJCQkJCQkJLy9pZiBmdWxsIHBhdGggZXhpc3RzIGFuZCBpcyBzYW1lLCBjaG9wIGl0IC0gaGVscHMgSUUgb3V0CgkJCQkJCQl0aGlzVXJsID0gdGhpc1VybC5yZXBsYWNlKCBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUsICcnICk7CgoJCQkJCQkJaWYoICEvXihcdys6fCN8XC8pLy50ZXN0KCB0aGlzVXJsICkgKSB7CgkJCQkJCQkJJCggdGhpcyApLmF0dHIoIHRoaXNBdHRyLCBuZXdQYXRoICsgdGhpc1VybCApOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9CgoJCQkJCS8vYXBwZW5kIHRvIHBhZ2UgYW5kIGVuaGFuY2UKCQkJCQlwYWdlCgkJCQkJCS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidXJsIiwgcGF0aC5jb252ZXJ0VXJsVG9EYXRhVXJsKCBmaWxlVXJsICkgKQoJCQkJCQkuYXBwZW5kVG8oIHNldHRpbmdzLnBhZ2VDb250YWluZXIgKTsKCgkJCQkJLy8gd2FpdCBmb3IgcGFnZSBjcmVhdGlvbiB0byBsZXZlcmFnZSBvcHRpb25zIGRlZmluZWQgb24gd2lkZ2V0CgkJCQkJcGFnZS5vbmUoJ3BhZ2VjcmVhdGUnLCBmdW5jdGlvbigpewoKCQkJCQkJLy8gd2hlbiBkb20gY2FjaGluZyBpcyBub3QgZW5hYmxlZCBiaW5kIHRvIHJlbW92ZSB0aGUgcGFnZSBvbiBoaWRlCgkJCQkJCWlmKCAhcGFnZS5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZSApewoJCQkJCQkJcGFnZS5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiwgZnVuY3Rpb24oKXsKCQkJCQkJCQkkKHRoaXMpLnJlbW92ZSgpOwoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQl9KTsKCgkJCQkJZW5oYW5jZVBhZ2UoIHBhZ2UsIHNldHRpbmdzLnJvbGUgKTsKCgkJCQkJLy8gRW5oYW5jaW5nIHRoZSBwYWdlIG1heSByZXN1bHQgaW4gbmV3IGRpYWxvZ3Mvc3ViIHBhZ2VzIGJlaW5nIGluc2VydGVkCgkJCQkJLy8gaW50byB0aGUgRE9NLiBJZiB0aGUgb3JpZ2luYWwgYWJzVXJsIHJlZmVycyB0byBhIHN1Yi1wYWdlLCB0aGF0IGlzIHRoZQoJCQkJCS8vIHJlYWwgcGFnZSB3ZSBhcmUgaW50ZXJlc3RlZCBpbi4KCQkJCQlpZiAoIGFic1VybC5pbmRleE9mKCAiJiIgKyAkLm1vYmlsZS5zdWJQYWdlVXJsS2V5ICkgPiAtMSApIHsKCQkJCQkJcGFnZSA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oICI6anFtRGF0YSh1cmw9JyIgKyBkYXRhVXJsICsgIicpIiApOwoJCQkJCX0KCgkJCQkJLy9iaW5kIHBhZ2VIaWRlIHRvIHJlbW92ZVBhZ2UgYWZ0ZXIgaXQncyBoaWRkZW4sIGlmIHRoZSBwYWdlIG9wdGlvbnMgc3BlY2lmeSB0byBkbyBzbwoKCQkJCQkvLyBSZW1vdmUgbG9hZGluZyBtZXNzYWdlLgoJCQkJCWlmICggc2V0dGluZ3Muc2hvd0xvYWRNc2cgKSB7CgkJCQkJCWhpZGVNc2coKTsKCQkJCQl9CgoJCQkJCWRlZmVycmVkLnJlc29sdmUoIGFic1VybCwgb3B0aW9ucywgcGFnZSwgZHVwQ2FjaGVkUGFnZSApOwoJCQkJfSwKCQkJCWVycm9yOiBmdW5jdGlvbigpIHsKCQkJCQkvL3NldCBiYXNlIGJhY2sgdG8gY3VycmVudCBwYXRoCgkJCQkJaWYoIGJhc2UgKSB7CgkJCQkJCWJhc2Uuc2V0KCBwYXRoLmdldCgpICk7CgkJCQkJfQoKCQkJCQkvLyBSZW1vdmUgbG9hZGluZyBtZXNzYWdlLgoJCQkJCWlmICggc2V0dGluZ3Muc2hvd0xvYWRNc2cgKSB7CgkJCQkJCQoJCQkJCQkvLyBSZW1vdmUgbG9hZGluZyBtZXNzYWdlLgoJCQkJCQloaWRlTXNnKCk7CgoJCQkJCQkvL3Nob3cgZXJyb3IgbWVzc2FnZQoJCQkJCQkkKCAiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IisgJC5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UgKyI8L2gxPjwvZGl2PiIgKQoJCQkJCQkJLmNzcyh7ICJkaXNwbGF5IjogImJsb2NrIiwgIm9wYWNpdHkiOiAwLjk2LCAidG9wIjogJHdpbmRvdy5zY3JvbGxUb3AoKSArIDEwMCB9KQoJCQkJCQkJLmFwcGVuZFRvKCBzZXR0aW5ncy5wYWdlQ29udGFpbmVyICkKCQkJCQkJCS5kZWxheSggODAwICkKCQkJCQkJCS5mYWRlT3V0KCA0MDAsIGZ1bmN0aW9uKCkgewoJCQkJCQkJCSQoIHRoaXMgKS5yZW1vdmUoKTsKCQkJCQkJCX0pOwoJCQkJCX0KCgkJCQkJZGVmZXJyZWQucmVqZWN0KCBhYnNVcmwsIG9wdGlvbnMgKTsKCQkJCX0KCQkJfSk7CgkJfQoKCQlyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpOwoJfTsKCgkkLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyA9IHsKCQl0eXBlOiAiZ2V0IiwKCQlkYXRhOiB1bmRlZmluZWQsCgkJcmVsb2FkUGFnZTogZmFsc2UsCgkJcm9sZTogdW5kZWZpbmVkLCAvLyBCeSBkZWZhdWx0IHdlIHJlbHkgb24gdGhlIHJvbGUgZGVmaW5lZCBieSB0aGUgQGRhdGEtcm9sZSBhdHRyaWJ1dGUuCgkJc2hvd0xvYWRNc2c6IGZhbHNlLAoJCXBhZ2VDb250YWluZXI6IHVuZGVmaW5lZCwKCQlsb2FkTXNnRGVsYXk6IDUwIC8vIFRoaXMgZGVsYXkgYWxsb3dzIGxvYWRzIHRoYXQgcHVsbCBmcm9tIGJyb3dzZXIgY2FjaGUgdG8gb2NjdXIgd2l0aG91dCBzaG93aW5nIHRoZSBsb2FkaW5nIG1lc3NhZ2UuCgl9OwoKCS8vIFNob3cgYSBzcGVjaWZpYyBwYWdlIGluIHRoZSBwYWdlIGNvbnRhaW5lci4KCSQubW9iaWxlLmNoYW5nZVBhZ2UgPSBmdW5jdGlvbiggdG9QYWdlLCBvcHRpb25zICkgewoJCS8vIFhYWDogUkVNT1ZFX0JFRk9SRV9TSElQUElOR18xLjAKCQkvLyBUaGlzIGlzIHRlbXBvcmFyeSBjb2RlIHRoYXQgbWFrZXMgY2hhbmdlUGFnZSgpIGNvbXBhdGlibGUgd2l0aCBwcmV2aW91cyBhbHBoYSB2ZXJzaW9ucy4KCQlpZiAoIHR5cGVvZiBvcHRpb25zICE9PSAib2JqZWN0IiApIHsKCQkJdmFyIG9wdHMgPSBudWxsOwoKCQkJLy8gTWFwIG9sZC1zdHlsZSBjYWxsIHNpZ25hdHVyZSBmb3IgZm9ybSBzdWJtaXQgdG8gdGhlIG5ldyBvcHRpb25zIG9iamVjdCBmb3JtYXQuCgkJCWlmICggdHlwZW9mIHRvUGFnZSA9PT0gIm9iamVjdCIgJiYgdG9QYWdlLnVybCAmJiB0b1BhZ2UudHlwZSApIHsKCQkJCW9wdHMgPSB7CgkJCQkJdHlwZTogdG9QYWdlLnR5cGUsCgkJCQkJZGF0YTogdG9QYWdlLmRhdGEsCgkJCQkJZm9yY2VQYWdlTG9hZDogdHJ1ZQoJCQkJfTsKCQkJCXRvUGFnZSA9IHRvUGFnZS51cmw7CgkJCX0KCgkJCS8vIFRoZSBhcmd1bWVudHMgcGFzc2VkIGludG8gdGhlIGZ1bmN0aW9uIG5lZWQgdG8gYmUgcmUtbWFwcGVkCgkJCS8vIHRvIHRoZSBuZXcgb3B0aW9ucyBvYmplY3QgZm9ybWF0LgoJCQl2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDsKCQkJaWYgKCBsZW4gPiAxICkgewoJCQkJdmFyIGFyZ05hbWVzID0gWyAidHJhbnNpdGlvbiIsICJyZXZlcnNlIiwgImNoYW5nZUhhc2giLCAiZnJvbUhhc2hDaGFuZ2UiIF0sIGk7CgkJCQlmb3IgKCBpID0gMTsgaSA8IGxlbjsgaSsrICkgewoJCQkJCXZhciBhID0gYXJndW1lbnRzWyBpIF07CgkJCQkJaWYgKCB0eXBlb2YgYSAhPT0gInVuZGVmaW5lZCIgKSB7CgkJCQkJCW9wdHMgPSBvcHRzIHx8IHt9OwoJCQkJCQlvcHRzWyBhcmdOYW1lc1sgaSAtIDEgXSBdID0gYTsKCQkJCQl9CgkJCQl9CgkJCX0KCgkJCS8vIElmIGFuIG9wdGlvbnMgb2JqZWN0IHdhcyBjcmVhdGVkLCB0aGVuIHdlIGtub3cgY2hhbmdlUGFnZSgpIHdhcyBjYWxsZWQKCQkJLy8gd2l0aCBhbiBvbGQgc2lnbmF0dXJlLgoJCQlpZiAoIG9wdHMgKSB7CgkJCQlyZXR1cm4gJC5tb2JpbGUuY2hhbmdlUGFnZSggdG9QYWdlLCBvcHRzICk7CgkJCX0KCQl9CgkJLy8gWFhYOiBSRU1PVkVfQkVGT1JFX1NISVBQSU5HXzEuMAoKCQkvLyBJZiB3ZSBhcmUgaW4gdGhlIG1pZHN0IG9mIGEgdHJhbnNpdGlvbiwgcXVldWUgdGhlIGN1cnJlbnQgcmVxdWVzdC4KCQkvLyBXZSdsbCBjYWxsIGNoYW5nZVBhZ2UoKSBvbmNlIHdlJ3JlIGRvbmUgd2l0aCB0aGUgY3VycmVudCB0cmFuc2l0aW9uIHRvCgkJLy8gc2VydmljZSB0aGUgcmVxdWVzdC4KCQlpZiggaXNQYWdlVHJhbnNpdGlvbmluZyApIHsKCQkJcGFnZVRyYW5zaXRpb25RdWV1ZS51bnNoaWZ0KCBhcmd1bWVudHMgKTsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gU2V0IHRoZSBpc1BhZ2VUcmFuc2l0aW9uaW5nIGZsYWcgdG8gcHJldmVudCBhbnkgcmVxdWVzdHMgZnJvbQoJCS8vIGVudGVyaW5nIHRoaXMgbWV0aG9kIHdoaWxlIHdlIGFyZSBpbiB0aGUgbWlkc3Qgb2YgbG9hZGluZyBhIHBhZ2UKCQkvLyBvciB0cmFuc2l0aW9uaW5nLgoKCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gdHJ1ZTsKCgkJdmFyIHNldHRpbmdzID0gJC5leHRlbmQoIHt9LCAkLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLCBvcHRpb25zICk7CgoJCS8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcGFnZUNvbnRhaW5lciB0byB3b3JrIHdpdGguCgkJc2V0dGluZ3MucGFnZUNvbnRhaW5lciA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIgfHwgJC5tb2JpbGUucGFnZUNvbnRhaW5lcjsKCgkJLy8gSWYgdGhlIGNhbGxlciBwYXNzZWQgdXMgYSB1cmwsIGNhbGwgbG9hZFBhZ2UoKQoJCS8vIHRvIG1ha2Ugc3VyZSBpdCBpcyBsb2FkZWQgaW50byB0aGUgRE9NLiBXZSdsbCBsaXN0ZW4KCQkvLyB0byB0aGUgcHJvbWlzZSBvYmplY3QgaXQgcmV0dXJucyBzbyB3ZSBrbm93IHdoZW4KCQkvLyBpdCBpcyBkb25lIGxvYWRpbmcgb3IgaWYgYW4gZXJyb3Igb2N1cnJlZC4KCQlpZiAoIHR5cGVvZiB0b1BhZ2UgPT0gInN0cmluZyIgKSB7CgkJCSQubW9iaWxlLmxvYWRQYWdlKCB0b1BhZ2UsIHNldHRpbmdzICkKCQkJCS5kb25lKGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIG5ld1BhZ2UsIGR1cENhY2hlZFBhZ2UgKSB7CgkJCQkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlOwoJCQkJCW9wdGlvbnMuZHVwbGljYXRlQ2FjaGVkUGFnZSA9IGR1cENhY2hlZFBhZ2U7CgkJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggbmV3UGFnZSwgb3B0aW9ucyApOwoJCQkJfSkKCQkJCS5mYWlsKGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7CgkJCQkJLy8gWFhYX2pibGFzOiBGaXJlIG9mZiBjaGFuZ2VwYWdlZmFpbGVkIG5vdGlmaWNhaXRvbi4KCQkJCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gZmFsc2U7CgoJCQkJCS8vY2xlYXIgb3V0IHRoZSBhY3RpdmUgYnV0dG9uIHN0YXRlCgkJCQkJcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCB0cnVlICk7CgoJCQkJCS8vcmVsZWFzZSB0cmFuc2l0aW9uIGxvY2sgc28gbmF2aWdhdGlvbiBpcyBmcmVlIGFnYWluCgkJCQkJcmVsZWFzZVBhZ2VUcmFuc2l0aW9uTG9jaygpOwoJCQkJCXNldHRpbmdzLnBhZ2VDb250YWluZXIudHJpZ2dlcigiY2hhbmdlcGFnZWZhaWxlZCIpOwoJCQkJfSk7CgkJCXJldHVybjsKCQl9CgoJCS8vIFRoZSBjYWxsZXIgcGFzc2VkIHVzIGEgcmVhbCBwYWdlIERPTSBlbGVtZW50LiBVcGRhdGUgb3VyCgkJLy8gaW50ZXJuYWwgc3RhdGUgYW5kIHRoZW4gdHJpZ2dlciBhIHRyYW5zaXRpb24gdG8gdGhlIHBhZ2UuCgkJdmFyIG1wYyA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIsCgkJCWZyb21QYWdlID0gJC5tb2JpbGUuYWN0aXZlUGFnZSwKCQkJdXJsID0gdG9QYWdlLmpxbURhdGEoICJ1cmwiICksCgkJCS8vIFRoZSBwYWdlVXJsIHZhciBpcyB1c3VhbGx5IHRoZSBzYW1lIGFzIHVybCwgZXhjZXB0IHdoZW4gdXJsIGlzIG9ic2N1cmVkIGFzIGEgZGlhbG9nIHVybC4gcGFnZVVybCBhbHdheXMgY29udGFpbnMgdGhlIGZpbGUgcGF0aAoJCQlwYWdlVXJsID0gdXJsLAoJCQlmaWxlVXJsID0gcGF0aC5nZXRGaWxlUGF0aCggdXJsICksCgkJCWFjdGl2ZSA9IHVybEhpc3RvcnkuZ2V0QWN0aXZlKCksCgkJCWFjdGl2ZUlzSW5pdGlhbFBhZ2UgPSB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ID09PSAwLAoJCQloaXN0b3J5RGlyID0gMCwKCQkJcGFnZVRpdGxlID0gZG9jdW1lbnQudGl0bGUsCgkJCWlzRGlhbG9nID0gc2V0dGluZ3Mucm9sZSA9PT0gImRpYWxvZyIgfHwgdG9QYWdlLmpxbURhdGEoICJyb2xlIiApID09PSAiZGlhbG9nIjsKCgkJLy8gTGV0IGxpc3RlbmVycyBrbm93IHdlJ3JlIGFib3V0IHRvIGNoYW5nZSB0aGUgY3VycmVudCBwYWdlLgoJCW1wYy50cmlnZ2VyKCAiYmVmb3JlY2hhbmdlcGFnZSIgKTsKCgkJLy8gSWYgd2UgYXJlIHRyeWluZyB0byB0cmFuc2l0aW9uIHRvIHRoZSBzYW1lIHBhZ2UgdGhhdCB3ZSBhcmUgY3VycmVudGx5IG9uIGlnbm9yZSB0aGUgcmVxdWVzdC4KCQkvLyBhbiBpbGxlZ2FsIHNhbWUgcGFnZSByZXF1ZXN0IGlzIGRlZmluZWQgYnkgdGhlIGN1cnJlbnQgcGFnZSBiZWluZyB0aGUgc2FtZSBhcyB0aGUgdXJsLCBhcyBsb25nIGFzIHRoZXJlJ3MgaGlzdG9yeQoJCS8vIGFuZCB0b1BhZ2UgaXMgbm90IGFuIGFycmF5IG9yIG9iamVjdCAodGhvc2UgYXJlIGFsbG93ZWQgdG8gYmUgInNhbWUiKQoJCS8vCgkJLy8gWFhYX2pibGFzOiBXZSBuZWVkIHRvIHJlbW92ZSB0aGlzIGF0IHNvbWUgcG9pbnQgd2hlbiB3ZSBhbGxvdyBmb3IgdHJhbnNpdGlvbnMKCQkvLyAgICAgICAgICAgIHRvIHRoZSBzYW1lIHBhZ2UuCgkJaWYoIGZyb21QYWdlICYmIGZyb21QYWdlWzBdID09PSB0b1BhZ2VbMF0gKSB7CgkJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZTsKCQkJbXBjLnRyaWdnZXIoICJjaGFuZ2VwYWdlIiApOwoJCQlyZXR1cm47CgkJfQoKCQkvLyBXZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGUgcGFnZSB3ZSBhcmUgZ2l2ZW4gaGFzIGFscmVhZHkgYmVlbiBlbmhhbmNlZC4KCQllbmhhbmNlUGFnZSggdG9QYWdlLCBzZXR0aW5ncy5yb2xlICk7CgoJCS8vIElmIHRoZSBjaGFuZ2VQYWdlIHJlcXVlc3Qgd2FzIHNlbnQgZnJvbSBhIGhhc2hDaGFuZ2UgZXZlbnQsIGNoZWNrIHRvIHNlZSBpZiB0aGUKCQkvLyBwYWdlIGlzIGFscmVhZHkgd2l0aGluIHRoZSB1cmxIaXN0b3J5IHN0YWNrLiBJZiBzbywgd2UnbGwgYXNzdW1lIHRoZSB1c2VyIGhpdAoJCS8vIHRoZSBmb3J3YXJkL2JhY2sgYnV0dG9uIGFuZCB3aWxsIHRyeSB0byBtYXRjaCB0aGUgdHJhbnNpdGlvbiBhY2NvcmRpbmdseS4KCQlpZiggc2V0dGluZ3MuZnJvbUhhc2hDaGFuZ2UgKSB7CgkJCXVybEhpc3RvcnkuZGlyZWN0SGFzaENoYW5nZSh7CgkJCQljdXJyZW50VXJsOgl1cmwsCgkJCQlpc0JhY2s6CQlmdW5jdGlvbigpIHsgaGlzdG9yeURpciA9IC0xOyB9LAoJCQkJaXNGb3J3YXJkOglmdW5jdGlvbigpIHsgaGlzdG9yeURpciA9IDE7IH0KCQkJfSk7CgkJfQoKCQkvLyBLaWxsIHRoZSBrZXlib2FyZC4KCQkvLyBYWFhfamJsYXM6IFdlIG5lZWQgdG8gc3RvcCBjcmF3bGluZyB0aGUgZW50aXJlIGRvY3VtZW50IHRvIGtpbGwgZm9jdXMuIEluc3RlYWQsCgkJLy8gICAgICAgICAgICB3ZSBzaG91bGQgYmUgdHJhY2tpbmcgZm9jdXMgd2l0aCBhIGxpdmUoKSBoYW5kbGVyIHNvIHdlIGFscmVhZHkgaGF2ZQoJCS8vICAgICAgICAgICAgdGhlIGVsZW1lbnQgaW4gaGFuZCBhdCB0aGlzIHBvaW50LgoJCS8vIFdyYXAgdGhpcyBpbiBhIHRyeS9jYXRjaCBibG9jayBzaW5jZSBJRTkgdGhyb3cgIlVuc3BlY2lmaWVkIGVycm9yIiBpZiBkb2N1bWVudC5hY3RpdmVFbGVtZW50CgkJLy8gaXMgdW5kZWZpbmVkIHdoZW4gd2UgYXJlIGluIGFuIElGcmFtZS4KCQl0cnkgewoJCQkkKCBkb2N1bWVudC5hY3RpdmVFbGVtZW50IHx8ICIiICkuYWRkKCAiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiICkuYmx1cigpOwoJCX0gY2F0Y2goZSkge30KCgkJLy8gSWYgd2UncmUgZGlzcGxheWluZyB0aGUgcGFnZSBhcyBhIGRpYWxvZywgd2UgZG9uJ3Qgd2FudCB0aGUgdXJsCgkJLy8gZm9yIHRoZSBkaWFsb2cgY29udGVudCB0byBiZSB1c2VkIGluIHRoZSBoYXNoLiBJbnN0ZWFkLCB3ZSB3YW50CgkJLy8gdG8gYXBwZW5kIHRoZSBkaWFsb2dIYXNoS2V5IHRvIHRoZSB1cmwgb2YgdGhlIGN1cnJlbnQgcGFnZS4KCQlpZiAoIGlzRGlhbG9nICYmIGFjdGl2ZSApIHsKCQkJdXJsID0gYWN0aXZlLnVybCArIGRpYWxvZ0hhc2hLZXk7CgkJfQoKCQkvLyBTZXQgdGhlIGxvY2F0aW9uIGhhc2guCgkJaWYoIHNldHRpbmdzLmNoYW5nZUhhc2ggIT09IGZhbHNlICYmIHVybCApIHsKCQkJLy9kaXNhYmxlIGhhc2ggbGlzdGVuaW5nIHRlbXBvcmFyaWx5CgkJCXVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2UgPSB0cnVlOwoJCQkvL3VwZGF0ZSBoYXNoIGFuZCBoaXN0b3J5CgkJCXBhdGguc2V0KCB1cmwgKTsKCQl9CgoJCS8vaWYgdGl0bGUgZWxlbWVudCB3YXNuJ3QgZm91bmQsIHRyeSB0aGUgcGFnZSBkaXYgZGF0YSBhdHRyIHRvbwoJCXZhciBuZXdQYWdlVGl0bGUgPSB0b1BhZ2UuanFtRGF0YSggInRpdGxlIiApIHx8IHRvUGFnZS5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiICkudGV4dCgpOwoJCWlmKCAhIW5ld1BhZ2VUaXRsZSAmJiBwYWdlVGl0bGUgPT0gZG9jdW1lbnQudGl0bGUgKSB7CgkJCXBhZ2VUaXRsZSA9IG5ld1BhZ2VUaXRsZTsKCQl9CgoJCS8vYWRkIHBhZ2UgdG8gaGlzdG9yeSBzdGFjayBpZiBpdCdzIG5vdCBiYWNrIG9yIGZvcndhcmQKCQlpZiggIWhpc3RvcnlEaXIgKSB7CgkJCXVybEhpc3RvcnkuYWRkTmV3KCB1cmwsIHNldHRpbmdzLnRyYW5zaXRpb24sIHBhZ2VUaXRsZSwgcGFnZVVybCApOwoJCX0KCgkJLy9zZXQgcGFnZSB0aXRsZQoJCWRvY3VtZW50LnRpdGxlID0gdXJsSGlzdG9yeS5nZXRBY3RpdmUoKS50aXRsZTsKCgkJLy9zZXQgInRvUGFnZSIgYXMgYWN0aXZlUGFnZQoJCSQubW9iaWxlLmFjdGl2ZVBhZ2UgPSB0b1BhZ2U7CgoJCS8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgdHJhbnNpdGlvbiBkZWZpbmVkLgoJCXNldHRpbmdzLnRyYW5zaXRpb24gPSBzZXR0aW5ncy50cmFuc2l0aW9uCgkJCXx8ICggKCBoaXN0b3J5RGlyICYmICFhY3RpdmVJc0luaXRpYWxQYWdlICkgPyBhY3RpdmUudHJhbnNpdGlvbiA6IHVuZGVmaW5lZCApCgkJCXx8ICggaXNEaWFsb2cgPyAkLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbiA6ICQubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbiApOwoKCQkvLyBJZiB3ZSdyZSBuYXZpZ2F0aW5nIGJhY2sgaW4gdGhlIFVSTCBoaXN0b3J5LCBzZXQgcmV2ZXJzZSBhY2NvcmRpbmdseS4KCQlzZXR0aW5ncy5yZXZlcnNlID0gc2V0dGluZ3MucmV2ZXJzZSB8fCBoaXN0b3J5RGlyIDwgMDsKCgkJdHJhbnNpdGlvblBhZ2VzKCB0b1BhZ2UsIGZyb21QYWdlLCBzZXR0aW5ncy50cmFuc2l0aW9uLCBzZXR0aW5ncy5yZXZlcnNlICkKCQkJLmRvbmUoZnVuY3Rpb24oKSB7CgkJCQlyZW1vdmVBY3RpdmVMaW5rQ2xhc3MoKTsKCgkJCQkvL2lmIHRoZXJlJ3MgYSBkdXBsaWNhdGVDYWNoZWRQYWdlLCByZW1vdmUgaXQgZnJvbSB0aGUgRE9NIG5vdyB0aGF0IGl0J3MgaGlkZGVuCgkJCQlpZiAoIHNldHRpbmdzLmR1cGxpY2F0ZUNhY2hlZFBhZ2UgKSB7CgkJCQkJc2V0dGluZ3MuZHVwbGljYXRlQ2FjaGVkUGFnZS5yZW1vdmUoKTsKCQkJCX0KCgkJCQkvL3JlbW92ZSBpbml0aWFsIGJ1aWxkIGNsYXNzIChvbmx5IHByZXNlbnQgb24gZmlyc3QgcGFnZXNob3cpCgkJCQkkaHRtbC5yZW1vdmVDbGFzcyggInVpLW1vYmlsZS1yZW5kZXJpbmciICk7CgoJCQkJcmVsZWFzZVBhZ2VUcmFuc2l0aW9uTG9jaygpOwoKCQkJCS8vIExldCBsaXN0ZW5lcnMga25vdyB3ZSdyZSBhbGwgZG9uZSBjaGFuZ2luZyB0aGUgY3VycmVudCBwYWdlLgoJCQkJbXBjLnRyaWdnZXIoICJjaGFuZ2VwYWdlIiApOwoJCQl9KTsKCX07CgoJJC5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyA9IHsKCQl0cmFuc2l0aW9uOiB1bmRlZmluZWQsCgkJcmV2ZXJzZTogZmFsc2UsCgkJY2hhbmdlSGFzaDogdHJ1ZSwKCQlmcm9tSGFzaENoYW5nZTogZmFsc2UsCgkJcm9sZTogdW5kZWZpbmVkLCAvLyBCeSBkZWZhdWx0IHdlIHJlbHkgb24gdGhlIHJvbGUgZGVmaW5lZCBieSB0aGUgQGRhdGEtcm9sZSBhdHRyaWJ1dGUuCgkJZHVwbGljYXRlQ2FjaGVkUGFnZTogdW5kZWZpbmVkLAoJCXBhZ2VDb250YWluZXI6IHVuZGVmaW5lZCwKCQlzaG93TG9hZE1zZzogdHJ1ZSAvL2xvYWRpbmcgbWVzc2FnZSBzaG93cyBieSBkZWZhdWx0IHdoZW4gcGFnZXMgYXJlIGJlaW5nIGZldGNoZWQgZHVyaW5nIGNoYW5nZVBhZ2UKCX07CgovKiBFdmVudCBCaW5kaW5ncyAtIGhhc2hjaGFuZ2UsIHN1Ym1pdCwgYW5kIGNsaWNrICovCglmdW5jdGlvbiBmaW5kQ2xvc2VzdExpbmsoIGVsZSApCgl7CgkJd2hpbGUgKCBlbGUgKSB7CgkJCWlmICggZWxlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gImEiICkgewoJCQkJYnJlYWs7CgkJCX0KCQkJZWxlID0gZWxlLnBhcmVudE5vZGU7CgkJfQoJCXJldHVybiBlbGU7Cgl9CgoJLy8gVGhlIGJhc2UgVVJMIGZvciBhbnkgZ2l2ZW4gZWxlbWVudCBkZXBlbmRzIG9uIHRoZSBwYWdlIGl0IHJlc2lkZXMgaW4uCglmdW5jdGlvbiBnZXRDbG9zZXN0QmFzZVVybCggZWxlICkKCXsKCQkvLyBGaW5kIHRoZSBjbG9zZXN0IHBhZ2UgYW5kIGV4dHJhY3Qgb3V0IGl0cyB1cmwuCgkJdmFyIHVybCA9ICQoIGVsZSApLmNsb3Nlc3QoICIudWktcGFnZSIgKS5qcW1EYXRhKCAidXJsIiApLAoJCQliYXNlID0gZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2g7CgoJCWlmICggIXVybCB8fCAhcGF0aC5pc1BhdGgoIHVybCApICkgewoJCQl1cmwgPSBiYXNlOwoJCX0KCgkJcmV0dXJuIHBhdGgubWFrZVVybEFic29sdXRlKCB1cmwsIGJhc2UpOwoJfQoKCgkvL1RoZSBmb2xsb3dpbmcgZXZlbnQgYmluZGluZ3Mgc2hvdWxkIGJlIGJvdW5kIGFmdGVyIG1vYmlsZWluaXQgaGFzIGJlZW4gdHJpZ2dlcmVkCgkvL3RoZSBmb2xsb3dpbmcgZnVuY3Rpb24gaXMgY2FsbGVkIGluIHRoZSBpbml0IGZpbGUKCSQubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzID0gZnVuY3Rpb24oKXsKCgkJLy9iaW5kIHRvIGZvcm0gc3VibWl0IGV2ZW50cywgaGFuZGxlIHdpdGggQWpheAoJCSQoICJmb3JtIiApLmxpdmUoJ3N1Ym1pdCcsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyICR0aGlzID0gJCggdGhpcyApOwoJCQlpZiggISQubW9iaWxlLmFqYXhFbmFibGVkIHx8CgkJCQkkdGhpcy5pcyggIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiICkgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJdmFyIHR5cGUgPSAkdGhpcy5hdHRyKCAibWV0aG9kIiApLAoJCQkJdGFyZ2V0ID0gJHRoaXMuYXR0ciggInRhcmdldCIgKSwKCQkJCXVybCA9ICR0aGlzLmF0dHIoICJhY3Rpb24iICk7CgoJCQkvLyBJZiBubyBhY3Rpb24gaXMgc3BlY2lmaWVkLCBicm93c2VycyBkZWZhdWx0IHRvIHVzaW5nIHRoZQoJCQkvLyBVUkwgb2YgdGhlIGRvY3VtZW50IGNvbnRhaW5pbmcgdGhlIGZvcm0uIFNpbmNlIHdlIGR5bmFtaWNhbGx5CgkJCS8vIHB1bGwgaW4gcGFnZXMgZnJvbSBleHRlcm5hbCBkb2N1bWVudHMsIHRoZSBmb3JtIHNob3VsZCBzdWJtaXQKCQkJLy8gdG8gdGhlIFVSTCBmb3IgdGhlIHNvdXJjZSBkb2N1bWVudCBvZiB0aGUgcGFnZSBjb250YWluaW5nCgkJCS8vIHRoZSBmb3JtLgoJCQlpZiAoICF1cmwgKSB7CgkJCQkvLyBHZXQgdGhlIEBkYXRhLXVybCBmb3IgdGhlIHBhZ2UgY29udGFpbmluZyB0aGUgZm9ybS4KCQkJCXVybCA9IGdldENsb3Nlc3RCYXNlVXJsKCAkdGhpcyApOwoJCQkJaWYgKCB1cmwgPT09IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoICkgewoJCQkJCS8vIFRoZSB1cmwgd2UgZ290IGJhY2sgbWF0Y2hlcyB0aGUgZG9jdW1lbnQgYmFzZSwKCQkJCQkvLyB3aGljaCBtZWFucyB0aGUgcGFnZSBtdXN0IGJlIGFuIGludGVybmFsL2VtYmVkZGVkIHBhZ2UsCgkJCQkJLy8gc28gZGVmYXVsdCB0byB1c2luZyB0aGUgYWN0dWFsIGRvY3VtZW50IHVybCBhcyBhIGJyb3dzZXIKCQkJCQkvLyB3b3VsZC4KCQkJCQl1cmwgPSBkb2N1bWVudFVybC5ocmVmTm9TZWFyY2g7CgkJCQl9CgkJCX0KCgkJCXVybCA9IHBhdGgubWFrZVVybEFic29sdXRlKCAgdXJsLCBnZXRDbG9zZXN0QmFzZVVybCgkdGhpcykgKTsKCgkJCS8vZXh0ZXJuYWwgc3VibWl0cyB1c2UgcmVndWxhciBIVFRQCgkJCWlmKCBwYXRoLmlzRXh0ZXJuYWwoIHVybCApIHx8IHRhcmdldCApIHsKCQkJCXJldHVybjsKCQkJfQoKCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSgKCQkJCXVybCwKCQkJCXsKCQkJCQl0eXBlOgkJdHlwZSAmJiB0eXBlLmxlbmd0aCAmJiB0eXBlLnRvTG93ZXJDYXNlKCkgfHwgImdldCIsCgkJCQkJZGF0YToJCSR0aGlzLnNlcmlhbGl6ZSgpLAoJCQkJCXRyYW5zaXRpb246CSR0aGlzLmpxbURhdGEoICJ0cmFuc2l0aW9uIiApLAoJCQkJCWRpcmVjdGlvbjoJJHRoaXMuanFtRGF0YSggImRpcmVjdGlvbiIgKSwKCQkJCQlyZWxvYWRQYWdlOgl0cnVlCgkJCQl9CgkJCSk7CgkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJfSk7CgoJCS8vYWRkIGFjdGl2ZSBzdGF0ZSBvbiB2Y2xpY2sKCQkkKCBkb2N1bWVudCApLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciBsaW5rID0gZmluZENsb3Nlc3RMaW5rKCBldmVudC50YXJnZXQgKTsKCQkJaWYgKCBsaW5rICkgewoJCQkJaWYgKCBwYXRoLnBhcnNlVXJsKCBsaW5rLmdldEF0dHJpYnV0ZSggImhyZWYiICkgfHwgIiMiICkuaGFzaCAhPT0gIiMiICkgewoJCQkJCSQoIGxpbmsgKS5jbG9zZXN0KCAiLnVpLWJ0biIgKS5ub3QoICIudWktZGlzYWJsZWQiICkuYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJCQkJJCggIi4iICsgJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICsgIiAudWktYnRuIiApLm5vdCggbGluayApLmJsdXIoKTsKCQkJCX0KCQkJfQoJCX0pOwoKCQkvLyBjbGljayByb3V0aW5nIC0gZGlyZWN0IHRvIEhUVFAgb3IgQWpheCwgYWNjb3JkaW5nbHkKCQkkKCBkb2N1bWVudCApLmJpbmQoICJjbGljayIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyIGxpbmsgPSBmaW5kQ2xvc2VzdExpbmsoIGV2ZW50LnRhcmdldCApOwoJCQlpZiAoICFsaW5rICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQl2YXIgJGxpbmsgPSAkKCBsaW5rICksCgkJCQkvL3JlbW92ZSBhY3RpdmUgbGluayBjbGFzcyBpZiBleHRlcm5hbCAodGhlbiBpdCB3b24ndCBiZSB0aGVyZSBpZiB5b3UgY29tZSBiYWNrKQoJCQkJaHR0cENsZWFudXAgPSBmdW5jdGlvbigpewoJCQkJCXdpbmRvdy5zZXRUaW1lb3V0KCBmdW5jdGlvbigpIHsgcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCB0cnVlICk7IH0sIDIwMCApOwoJCQkJfTsKCgkJCS8vaWYgdGhlcmUncyBhIGRhdGEtcmVsPWJhY2sgYXR0ciwgZ28gYmFjayBpbiBoaXN0b3J5CgkJCWlmKCAkbGluay5pcyggIjpqcW1EYXRhKHJlbD0nYmFjaycpIiApICkgewoJCQkJd2luZG93Lmhpc3RvcnkuYmFjaygpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQkvL2lmIGFqYXggaXMgZGlzYWJsZWQsIGV4aXQgZWFybHkKCQkJaWYoICEkLm1vYmlsZS5hamF4RW5hYmxlZCApewoJCQkJaHR0cENsZWFudXAoKTsKCQkJCS8vdXNlIGRlZmF1bHQgY2xpY2sgaGFuZGxpbmcKCQkJCXJldHVybjsKCQkJfQoKCQkJdmFyIGJhc2VVcmwgPSBnZXRDbG9zZXN0QmFzZVVybCggJGxpbmsgKSwKCgkJCQkvL2dldCBocmVmLCBpZiBkZWZpbmVkLCBvdGhlcndpc2UgZGVmYXVsdCB0byBlbXB0eSBoYXNoCgkJCQlocmVmID0gcGF0aC5tYWtlVXJsQWJzb2x1dGUoICRsaW5rLmF0dHIoICJocmVmIiApIHx8ICIjIiwgYmFzZVVybCApOwoKCQkJLy8gWFhYX2pibGFzOiBJZGVhbGx5IGxpbmtzIHRvIGFwcGxpY2F0aW9uIHBhZ2VzIHNob3VsZCBiZSBzcGVjaWZpZWQgYXMKCQkJLy8gICAgICAgICAgICBhbiB1cmwgdG8gdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50IHdpdGggYSBoYXNoIHRoYXQgaXMgZWl0aGVyCgkJCS8vICAgICAgICAgICAgdGhlIHNpdGUgcmVsYXRpdmUgcGF0aCBvciBpZCB0byB0aGUgcGFnZS4gQnV0IHNvbWUgb2YgdGhlCgkJCS8vICAgICAgICAgICAgaW50ZXJuYWwgY29kZSB0aGF0IGR5bmFtaWNhbGx5IGdlbmVyYXRlcyBzdWItcGFnZXMgZm9yIG5lc3RlZAoJCQkvLyAgICAgICAgICAgIGxpc3RzIGFuZCBzZWxlY3QgZGlhbG9ncywganVzdCB3cml0ZSBhIGhhc2ggaW4gdGhlIGxpbmsgdGhleQoJCQkvLyAgICAgICAgICAgIGNyZWF0ZS4gVGhpcyBtZWFucyB0aGUgYWN0dWFsIFVSTCBwYXRoIGlzIGJhc2VkIG9uIHdoYXRldmVyCgkJCS8vICAgICAgICAgICAgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGJhc2UgdGFnIGlzIGF0IHRoZSB0aW1lIHRoaXMgY29kZQoJCQkvLyAgICAgICAgICAgIGlzIGNhbGxlZC4gRm9yIG5vdyB3ZSBhcmUganVzdCBhc3N1bWluZyB0aGF0IGFueSB1cmwgd2l0aCBhCgkJCS8vICAgICAgICAgICAgaGFzaCBpbiBpdCBpcyBhbiBhcHBsaWNhdGlvbiBwYWdlIHJlZmVyZW5jZS4KCQkJaWYgKCBocmVmLnNlYXJjaCggIiMiICkgIT0gLTEgKSB7CgkJCQlocmVmID0gaHJlZi5yZXBsYWNlKCAvW14jXSojLywgIiIgKTsKCQkJCWlmICggIWhyZWYgKSB7CgkJCQkJLy9saW5rIHdhcyBhbiBlbXB0eSBoYXNoIG1lYW50IHB1cmVseQoJCQkJCS8vZm9yIGludGVyYWN0aW9uLCBzbyB3ZSBpZ25vcmUgaXQuCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQlyZXR1cm47CgkJCQl9IGVsc2UgaWYgKCBwYXRoLmlzUGF0aCggaHJlZiApICkgewoJCQkJCS8vd2UgaGF2ZSBhcGF0aCBzbyBtYWtlIGl0IHRoZSBocmVmIHdlIHdhbnQgdG8gbG9hZC4KCQkJCQlocmVmID0gcGF0aC5tYWtlVXJsQWJzb2x1dGUoIGhyZWYsIGJhc2VVcmwgKTsKCQkJCX0gZWxzZSB7CgkJCQkJLy93ZSBoYXZlIGEgc2ltcGxlIGlkIHNvIHVzZSB0aGUgZG9jdW1lbnRVcmwgYXMgaXRzIGJhc2UuCgkJCQkJaHJlZiA9IHBhdGgubWFrZVVybEFic29sdXRlKCAiIyIgKyBocmVmLCBkb2N1bWVudFVybC5ocmVmTm9IYXNoICk7CgkJCQl9CgkJCX0KCgkJCQkvLyBTaG91bGQgd2UgaGFuZGxlIHRoaXMgbGluaywgb3IgbGV0IHRoZSBicm93c2VyIGRlYWwgd2l0aCBpdD8KCQkJdmFyIHVzZURlZmF1bHRVcmxIYW5kbGluZyA9ICRsaW5rLmlzKCAiW3JlbD0nZXh0ZXJuYWwnXSIgKSB8fCAkbGluay5pcyggIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiICkgfHwgJGxpbmsuaXMoICJbdGFyZ2V0XSIgKSwKCgkJCQkvLyBTb21lIGVtYmVkZGVkIGJyb3dzZXJzLCBsaWtlIHRoZSB3ZWIgdmlldyBpbiBQaG9uZSBHYXAsIGFsbG93IGNyb3NzLWRvbWFpbiBYSFIKCQkJCS8vIHJlcXVlc3RzIGlmIHRoZSBkb2N1bWVudCBkb2luZyB0aGUgcmVxdWVzdCB3YXMgbG9hZGVkIHZpYSB0aGUgZmlsZTovLyBwcm90b2NvbC4KCQkJCS8vIFRoaXMgaXMgdXN1YWxseSB0byBhbGxvdyB0aGUgYXBwbGljYXRpb24gdG8gInBob25lIGhvbWUiIGFuZCBmZXRjaCBhcHAgc3BlY2lmaWMKCQkJCS8vIGRhdGEuIFdlIG5vcm1hbGx5IGxldCB0aGUgYnJvd3NlciBoYW5kbGUgZXh0ZXJuYWwvY3Jvc3MtZG9tYWluIHVybHMsIGJ1dCBpZiB0aGUKCQkJCS8vIGFsbG93Q3Jvc3NEb21haW5QYWdlcyBvcHRpb24gaXMgdHJ1ZSwgd2Ugd2lsbCBhbGxvdyBjcm9zcy1kb21haW4gaHR0cC9odHRwcwoJCQkJLy8gcmVxdWVzdHMgdG8gZ28gdGhyb3VnaCBvdXIgcGFnZSBsb2FkaW5nIGxvZ2ljLgoJCQkJaXNDcm9zc0RvbWFpblBhZ2VMb2FkID0gKCAkLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMgJiYgZG9jdW1lbnRVcmwucHJvdG9jb2wgPT09ICJmaWxlOiIgJiYgaHJlZi5zZWFyY2goIC9eaHR0cHM/Oi8gKSAhPSAtMSApLAoKCQkJCS8vY2hlY2sgZm9yIHByb3RvY29sIG9yIHJlbCBhbmQgaXRzIG5vdCBhbiBlbWJlZGRlZCBwYWdlCgkJCQkvL1RPRE8gb3ZlcmxhcCBpbiBsb2dpYyBmcm9tIGlzRXh0ZXJuYWwsIHJlbD1leHRlcm5hbCBjaGVjayBzaG91bGQgYmUKCQkJCS8vICAgICBtb3ZlZCBpbnRvIG1vcmUgY29tcHJlaGVuc2l2ZSBpc0V4dGVybmFsTGluawoJCQkJaXNFeHRlcm5hbCA9IHVzZURlZmF1bHRVcmxIYW5kbGluZyB8fCAoIHBhdGguaXNFeHRlcm5hbCggaHJlZiApICYmICFpc0Nyb3NzRG9tYWluUGFnZUxvYWQgKTsKCgkJCSRhY3RpdmVDbGlja2VkTGluayA9ICRsaW5rLmNsb3Nlc3QoICIudWktYnRuIiApOwoKCQkJaWYoIGlzRXh0ZXJuYWwgKSB7CgkJCQlodHRwQ2xlYW51cCgpOwoJCQkJLy91c2UgZGVmYXVsdCBjbGljayBoYW5kbGluZwoJCQkJcmV0dXJuOwoJCQl9CgoJCQkvL3VzZSBhamF4CgkJCXZhciB0cmFuc2l0aW9uID0gJGxpbmsuanFtRGF0YSggInRyYW5zaXRpb24iICksCgkJCQlkaXJlY3Rpb24gPSAkbGluay5qcW1EYXRhKCAiZGlyZWN0aW9uIiApLAoJCQkJcmV2ZXJzZSA9ICggZGlyZWN0aW9uICYmIGRpcmVjdGlvbiA9PT0gInJldmVyc2UiICkgfHwKCQkJCQkJCS8vIGRlcHJlY2F0ZWQgLSByZW1vdmUgYnkgMS4wCgkJCQkJCQkkbGluay5qcW1EYXRhKCAiYmFjayIgKSwKCgkJCQkvL3RoaXMgbWF5IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpYyBhcyB3ZSB1c2UgZGF0YS1yZWwgbW9yZQoJCQkJcm9sZSA9ICRsaW5rLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyZWwiICkgfHwgdW5kZWZpbmVkOwoKCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggaHJlZiwgeyB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLCByZXZlcnNlOiByZXZlcnNlLCByb2xlOiByb2xlIH0gKTsKCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQl9KTsKCgkJLy9wcmVmZXRjaCBwYWdlcyB3aGVuIGFuY2hvcnMgd2l0aCBkYXRhLXByZWZldGNoIGFyZSBlbmNvdW50ZXJlZAoJCSQoICIudWktcGFnZSIgKS5saXZlKCAicGFnZXNob3cucHJlZmV0Y2giLCBmdW5jdGlvbigpewoJCQl2YXIgdXJscyA9IFtdOwoJCQkkKCB0aGlzICkuZmluZCggImE6anFtRGF0YShwcmVmZXRjaCkiICkuZWFjaChmdW5jdGlvbigpewoJCQkJdmFyIHVybCA9ICQoIHRoaXMgKS5hdHRyKCAiaHJlZiIgKTsKCQkJCWlmICggdXJsICYmICQuaW5BcnJheSggdXJsLCB1cmxzICkgPT09IC0xICkgewoJCQkJCXVybHMucHVzaCggdXJsICk7CgkJCQkJJC5tb2JpbGUubG9hZFBhZ2UoIHVybCApOwoJCQkJfQoJCQl9KTsKCQl9ICk7CgoJCS8vaGFzaGNoYW5nZSBldmVudCBoYW5kbGVyCgkJJHdpbmRvdy5iaW5kKCAiaGFzaGNoYW5nZSIsIGZ1bmN0aW9uKCBlLCB0cmlnZ2VyZWQgKSB7CgkJCS8vZmluZCBmaXJzdCBwYWdlIHZpYSBoYXNoCgkJCXZhciB0byA9IHBhdGguc3RyaXBIYXNoKCBsb2NhdGlvbi5oYXNoICksCgkJCQkvL3RyYW5zaXRpb24gaXMgZmFsc2UgaWYgaXQncyB0aGUgZmlyc3QgcGFnZSwgdW5kZWZpbmVkIG90aGVyd2lzZSAoYW5kIG1heSBiZSBvdmVycmlkZGVuIGJ5IGRlZmF1bHQpCgkJCQl0cmFuc2l0aW9uID0gJC5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGggPT09IDAgPyAibm9uZSIgOiB1bmRlZmluZWQ7CgoJCQkvL2lmIGxpc3RlbmluZyBpcyBkaXNhYmxlZCAoZWl0aGVyIGdsb2JhbGx5IG9yIHRlbXBvcmFyaWx5KSwgb3IgaXQncyBhIGRpYWxvZyBoYXNoCgkJCWlmKCAhJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgfHwgdXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZSApIHsKCQkJCXVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2UgPSBmYWxzZTsKCQkJCXJldHVybjsKCQkJfQoKCQkJLy8gc3BlY2lhbCBjYXNlIGZvciBkaWFsb2dzCgkJCWlmKCB1cmxIaXN0b3J5LnN0YWNrLmxlbmd0aCA+IDEgJiYKCQkJCQl0by5pbmRleE9mKCBkaWFsb2dIYXNoS2V5ICkgPiAtMSApIHsKCgkJCQkvLyBJZiBjdXJyZW50IGFjdGl2ZSBwYWdlIGlzIG5vdCBhIGRpYWxvZyBza2lwIHRoZSBkaWFsb2cgYW5kIGNvbnRpbnVlCgkJCQkvLyBpbiB0aGUgc2FtZSBkaXJlY3Rpb24KCQkJCWlmKCEkLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCAiLnVpLWRpYWxvZyIgKSkgewoJCQkJCS8vZGV0ZXJtaW5lIGlmIHdlJ3JlIGhlYWRpbmcgZm9yd2FyZCBvciBiYWNrd2FyZCBhbmQgY29udGludWUgYWNjb3JkaW5nbHkgcGFzdAoJCQkJCS8vdGhlIGN1cnJlbnQgZGlhbG9nCgkJCQkJdXJsSGlzdG9yeS5kaXJlY3RIYXNoQ2hhbmdlKHsKCQkJCQkJY3VycmVudFVybDogdG8sCgkJCQkJCWlzQmFjazogZnVuY3Rpb24oKSB7IHdpbmRvdy5oaXN0b3J5LmJhY2soKTsgfSwKCQkJCQkJaXNGb3J3YXJkOiBmdW5jdGlvbigpIHsgd2luZG93Lmhpc3RvcnkuZm9yd2FyZCgpOyB9CgkJCQkJfSk7CgoJCQkJCS8vIHByZXZlbnQgY2hhbmdlcGFnZQoJCQkJCXJldHVybjsKCQkJCX0gZWxzZSB7CgkJCQkJdmFyIHNldFRvID0gZnVuY3Rpb24oKSB7IHRvID0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS5wYWdlVXJsOyB9OwoJCQkJCS8vIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBwYWdlIGlzIGEgZGlhbG9nIGFuZCB3ZSdyZSBuYXZpZ2F0aW5nCgkJCQkJLy8gdG8gYSBkaWFsb2cgdXNlIHRoZSBkaWFsb2cgb2JqZWN0ZWQgc2F2ZWQgaW4gdGhlIHN0YWNrCgkJCQkJdXJsSGlzdG9yeS5kaXJlY3RIYXNoQ2hhbmdlKHsJY3VycmVudFVybDogdG8sIGlzQmFjazogc2V0VG8sIGlzRm9yd2FyZDogc2V0VG8JfSk7CgkJCQl9CgkJCX0KCQkJCgkJCS8vaWYgdG8gaXMgZGVmaW5lZCwgbG9hZCBpdAoJCQlpZiAoIHRvICkgewoJCQkJdG8gPSAoIHR5cGVvZiB0byA9PT0gInN0cmluZyIgJiYgIXBhdGguaXNQYXRoKCB0byApICkgPyAoICcjJyArIHRvICkgOiB0bzsKCQkJCSQubW9iaWxlLmNoYW5nZVBhZ2UoIHRvLCB7IHRyYW5zaXRpb246IHRyYW5zaXRpb24sIGNoYW5nZUhhc2g6IGZhbHNlLCBmcm9tSGFzaENoYW5nZTogdHJ1ZSB9ICk7CgkJCX0KCQkJLy90aGVyZSdzIG5vIGhhc2gsIGdvIHRvIHRoZSBmaXJzdCBwYWdlIGluIHRoZSBkb20KCQkJZWxzZSB7CgkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCAkLm1vYmlsZS5maXJzdFBhZ2UsIHsgdHJhbnNpdGlvbjogdHJhbnNpdGlvbiwgY2hhbmdlSGFzaDogZmFsc2UsIGZyb21IYXNoQ2hhbmdlOiB0cnVlIH0gKTsKCQkJfQoJCX0pOwoKCQkvL3NldCBwYWdlIG1pbi1oZWlnaHRzIHRvIGJlIGRldmljZSBzcGVjaWZpYwoJCSQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VzaG93IiwgcmVzZXRBY3RpdmVQYWdlSGVpZ2h0ICk7CgkJJCggd2luZG93ICkuYmluZCggInRocm90dGxlZHJlc2l6ZSIsIHJlc2V0QWN0aXZlUGFnZUhlaWdodCApOwoKCX07Ly9fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cyBjYWxsYmFjawoKfSkoIGpRdWVyeSApOwovKiEKICogalF1ZXJ5IE1vYmlsZSB2QFZFUlNJT04KICogaHR0cDovL2pxdWVyeW1vYmlsZS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEwLCBqUXVlcnkgUHJvamVjdAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKi8KCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7CgpmdW5jdGlvbiBjc3MzVHJhbnNpdGlvbkhhbmRsZXIoIG5hbWUsIHJldmVyc2UsICR0bywgJGZyb20gKSB7CgoJdmFyIGRlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKSwKCQlyZXZlcnNlQ2xhc3MgPSByZXZlcnNlID8gIiByZXZlcnNlIiA6ICIiLAoJCXZpZXdwb3J0Q2xhc3MgPSAidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIiArIG5hbWUsCgkJZG9uZUZ1bmMgPSBmdW5jdGlvbigpIHsKCgkJCSR0by5hZGQoICRmcm9tICkucmVtb3ZlQ2xhc3MoICJvdXQgaW4gcmV2ZXJzZSAiICsgbmFtZSApOwoKCQkJaWYgKCAkZnJvbSApIHsKCQkJCSRmcm9tLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTsKCQkJfQoKCQkJJHRvLnBhcmVudCgpLnJlbW92ZUNsYXNzKCB2aWV3cG9ydENsYXNzICk7CgoJCQlkZWZlcnJlZC5yZXNvbHZlKCBuYW1lLCByZXZlcnNlLCAkdG8sICRmcm9tICk7CgkJfTsKCgkkdG8uYW5pbWF0aW9uQ29tcGxldGUoIGRvbmVGdW5jICk7CgoJJHRvLnBhcmVudCgpLmFkZENsYXNzKCB2aWV3cG9ydENsYXNzICk7CgoJaWYgKCAkZnJvbSApIHsKCQkkZnJvbS5hZGRDbGFzcyggbmFtZSArICIgb3V0IiArIHJldmVyc2VDbGFzcyApOwoJfQoJJHRvLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKyAiICIgKyBuYW1lICsgIiBpbiIgKyByZXZlcnNlQ2xhc3MgKTsKCglyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpOwp9CgovLyBNYWtlIG91ciB0cmFuc2l0aW9uIGhhbmRsZXIgcHVibGljLgokLm1vYmlsZS5jc3MzVHJhbnNpdGlvbkhhbmRsZXIgPSBjc3MzVHJhbnNpdGlvbkhhbmRsZXI7CgovLyBJZiB0aGUgZGVmYXVsdCB0cmFuc2l0aW9uIGhhbmRsZXIgaXMgdGhlICdub25lJyBoYW5kbGVyLCByZXBsYWNlIGl0IHdpdGggb3VyIGhhbmRsZXIuCmlmICggJC5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyID09PSAkLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXIgKSB7CgkkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPSBjc3MzVHJhbnNpdGlvbkhhbmRsZXI7Cn0KCn0pKCBqUXVlcnksIHRoaXMgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJkZWdyYWRlSW5wdXRzIiBwbHVnaW4gLSBkZWdyYWRlcyBpbnB1dHMgdG8gYW5vdGhlciB0eXBlIGFmdGVyIGN1c3RvbSBlbmhhbmNlbWVudHMgYXJlIG1hZGUuCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzID0gewoJY29sb3I6IGZhbHNlLAoJZGF0ZTogZmFsc2UsCglkYXRldGltZTogZmFsc2UsCgkiZGF0ZXRpbWUtbG9jYWwiOiBmYWxzZSwKCWVtYWlsOiBmYWxzZSwKCW1vbnRoOiBmYWxzZSwKCW51bWJlcjogZmFsc2UsCglyYW5nZTogIm51bWJlciIsCglzZWFyY2g6IHRydWUsCgl0ZWw6IGZhbHNlLAoJdGltZTogZmFsc2UsCgl1cmw6IGZhbHNlLAoJd2VlazogZmFsc2UKfTsKCiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMua2VlcE5hdGl2ZSA9ICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSI7CgoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgZW5oYW5jZSIsIGZ1bmN0aW9uKCBlICl7CgkKCXZhciBwYWdlID0gJCggZS50YXJnZXQgKS5kYXRhKCAicGFnZSIgKSwKCQlvID0gcGFnZS5vcHRpb25zOwoJCgkvLyBkZWdyYWRlIGlucHV0cyB0byBhdm9pZCBwb29ybHkgaW1wbGVtZW50ZWQgbmF0aXZlIGZ1bmN0aW9uYWxpdHkKCSQoIGUudGFyZ2V0ICkuZmluZCggImlucHV0IiApLm5vdCggby5rZWVwTmF0aXZlICkuZWFjaChmdW5jdGlvbigpIHsKCQl2YXIgJHRoaXMgPSAkKCB0aGlzICksCgkJCXR5cGUgPSB0aGlzLmdldEF0dHJpYnV0ZSggInR5cGUiICksCgkJCW9wdFR5cGUgPSBvLmRlZ3JhZGVJbnB1dHNbIHR5cGUgXSB8fCAidGV4dCI7CgoJCWlmICggby5kZWdyYWRlSW5wdXRzWyB0eXBlIF0gKSB7CgkJCSR0aGlzLnJlcGxhY2VXaXRoKAoJCQkJJCggIjxkaXY+IiApLmh0bWwoICR0aGlzLmNsb25lKCkgKS5odG1sKCkKCQkJCQkucmVwbGFjZSggL1xzK3R5cGU9WyInXT9cdytbJyJdPy8sICIgdHlwZT1cIiIgKyBvcHRUeXBlICsgIlwiIGRhdGEtIiArICQubW9iaWxlLm5zICsgInR5cGU9XCIiICsgdHlwZSArICJcIiAiICkKCQkJKTsKCQl9Cgl9KTsKCQp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImRpYWxvZyIgcGx1Z2luLgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKE1JVC1MSUNFTlNFLnR4dCkgYW5kIEdQTCAoR1BMLUxJQ0VOU0UudHh0KSBsaWNlbnNlcy4KKi8KCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5kaWFsb2ciLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQljbG9zZUJ0blRleHQgCTogIkNsb3NlIiwKCQl0aGVtZQkJCTogImEiLAoJCWluaXRTZWxlY3Rvcgk6ICI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIKCX0sCglfY3JlYXRlOiBmdW5jdGlvbigpIHsKCQl2YXIgJGVsID0gdGhpcy5lbGVtZW50LAoJCQlwYWdlVGhlbWUgPSAkZWwuYXR0ciggImNsYXNzIiApLm1hdGNoKCAvdWktYm9keS1bYS16XS8gKTsKCQkJCgkJaWYoIHBhZ2VUaGVtZS5sZW5ndGggKXsKCQkJJGVsLnJlbW92ZUNsYXNzKCBwYWdlVGhlbWVbIDAgXSApOwoJCX0JCgkJCgkJJGVsLmFkZENsYXNzKCAidWktYm9keS0iICsgdGhpcy5vcHRpb25zLnRoZW1lICk7CgkJCgkJLy8gQ2xhc3MgdGhlIG1hcmt1cCBmb3IgZGlhbG9nIHN0eWxpbmcKCQkvLyBTZXQgYXJpYSByb2xlCgkJJGVsLmF0dHIoICJyb2xlIiwgImRpYWxvZyIgKQoJCQkuYWRkQ2xhc3MoICJ1aS1kaWFsb2ciICkKCQkJLmZpbmQoICI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIgKQoJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IiApCgkJCQkucHJlcGVuZCggIjxhIGhyZWY9JyMnIGRhdGEtIiArICQubW9iaWxlLm5zICsgImljb249J2RlbGV0ZScgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicmVsPSdiYWNrJyBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJpY29ucG9zPSdub3RleHQnPiIrIHRoaXMub3B0aW9ucy5jbG9zZUJ0blRleHQgKyAiPC9hPiIgKQoJCQkuZW5kKCkKCQkJLmZpbmQoICI6anFtRGF0YShyb2xlPSdjb250ZW50JyksOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkKCQkJCS5sYXN0KCkKCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20gdWktb3ZlcmxheS1zaGFkb3ciICk7CgoJCS8qIGJpbmQgZXZlbnRzCgkJCS0gY2xpY2tzIGFuZCBzdWJtaXRzIHNob3VsZCB1c2UgdGhlIGNsb3NpbmcgdHJhbnNpdGlvbiB0aGF0IHRoZSBkaWFsb2cgb3BlbmVkIHdpdGgKCQkJICB1bmxlc3MgYSBkYXRhLXRyYW5zaXRpb24gaXMgc3BlY2lmaWVkIG9uIHRoZSBsaW5rL2Zvcm0KCQkJLSBpZiB0aGUgY2xpY2sgd2FzIG9uIHRoZSBjbG9zZSBidXR0b24sIG9yIHRoZSBsaW5rIGhhcyBhIGRhdGEtcmVsPSJiYWNrIiBpdCdsbCBnbyBiYWNrIGluIGhpc3RvcnkgbmF0dXJhbGx5CgkJKi8KCQkkZWwuYmluZCggInZjbGljayBzdWJtaXQiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciAkdGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggZXZlbnQudHlwZSA9PT0gInZjbGljayIgPyAiYSIgOiAiZm9ybSIgKSwKCQkJCWFjdGl2ZTsKCgkJCWlmICggJHRhcmdldC5sZW5ndGggJiYgISR0YXJnZXQuanFtRGF0YSggInRyYW5zaXRpb24iICkgKSB7CgoJCQkJYWN0aXZlID0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSB8fCB7fTsKCgkJCQkkdGFyZ2V0LmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0cmFuc2l0aW9uIiwgKCBhY3RpdmUudHJhbnNpdGlvbiB8fCAkLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbiApICkKCQkJCQkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgImRpcmVjdGlvbiIsICJyZXZlcnNlIiApOwoJCQl9CgkJfSkKCQkuYmluZCggInBhZ2VoaWRlIiwgZnVuY3Rpb24oKSB7CgkJCSQoIHRoaXMgKS5maW5kKCAiLiIgKyAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCX0pOwoJfSwKCgkvLyBDbG9zZSBtZXRob2QgZ29lcyBiYWNrIGluIGhpc3RvcnkKCWNsb3NlOiBmdW5jdGlvbigpIHsKCQl3aW5kb3cuaGlzdG9yeS5iYWNrKCk7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoICQubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IgKS5saXZlKCAicGFnZWNyZWF0ZSIsIGZ1bmN0aW9uKCl7CgkkKCB0aGlzICkuZGlhbG9nKCk7Cn0pOwoKfSkoIGpRdWVyeSwgdGhpcyApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogVGhpcyBwbHVnaW4gaGFuZGxlcyB0aGVtaW5nIGFuZCBsYXlvdXQgb2YgaGVhZGVycywgZm9vdGVycywgYW5kIGNvbnRlbnQgYXJlYXMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0CQk9ICJCYWNrIjsKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuCQk9IGZhbHNlOwokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UaGVtZQk9IG51bGw7CiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuaGVhZGVyVGhlbWUJCT0gImEiOwokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lCQk9ICJhIjsKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWUJPSBudWxsOwoKJCggIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiICkubGl2ZSggInBhZ2VjcmVhdGUiLCBmdW5jdGlvbiggZSApIHsKCQoJdmFyICRwYWdlCQk9ICQoIHRoaXMgKSwKCQlvCQkJPSAkcGFnZS5kYXRhKCAicGFnZSIgKS5vcHRpb25zLAoJCXBhZ2VUaGVtZQk9IG8udGhlbWU7CgkKCSQoICI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsIHRoaXMgKS5lYWNoKGZ1bmN0aW9uKCkgewoJCXZhciAkdGhpcwk9ICQoIHRoaXMgKSwKCQkJcm9sZQk9ICR0aGlzLmpxbURhdGEoICJyb2xlIiApLAoJCQl0aGVtZQk9ICR0aGlzLmpxbURhdGEoICJ0aGVtZSIgKSwKCQkJJGhlYWRlcmFuY2hvcnMsCgkJCWxlZnRidG4sCgkJCXJpZ2h0YnRuLAoJCQliYWNrQnRuOwoJCQkKCQkkdGhpcy5hZGRDbGFzcyggInVpLSIgKyByb2xlICk7CQoKCQkvL2FwcGx5IHRoZW1pbmcgYW5kIG1hcmt1cCBtb2RpZmljYXRpb25zIHRvIHBhZ2UsaGVhZGVyLGNvbnRlbnQsZm9vdGVyCgkJaWYgKCByb2xlID09PSAiaGVhZGVyIiB8fCByb2xlID09PSAiZm9vdGVyIiApIHsKCQkJCgkJCXZhciB0aGlzVGhlbWUgPSB0aGVtZSB8fCAoIHJvbGUgPT09ICJoZWFkZXIiID8gby5oZWFkZXJUaGVtZSA6IG8uZm9vdGVyVGhlbWUgKSB8fCBwYWdlVGhlbWU7CgoJCQkvL2FkZCB0aGVtZSBjbGFzcwoJCQkkdGhpcy5hZGRDbGFzcyggInVpLWJhci0iICsgdGhpc1RoZW1lICk7CgoJCQkvLyBBZGQgQVJJQSByb2xlCgkJCSR0aGlzLmF0dHIoICJyb2xlIiwgcm9sZSA9PT0gImhlYWRlciIgPyAiYmFubmVyIiA6ICJjb250ZW50aW5mbyIgKTsKCgkJCS8vIFJpZ2h0LGxlZnQgYnV0dG9ucwoJCQkkaGVhZGVyYW5jaG9ycwk9ICR0aGlzLmNoaWxkcmVuKCAiYSIgKTsKCQkJbGVmdGJ0bgkJCT0gJGhlYWRlcmFuY2hvcnMuaGFzQ2xhc3MoICJ1aS1idG4tbGVmdCIgKTsKCQkJcmlnaHRidG4JCT0gJGhlYWRlcmFuY2hvcnMuaGFzQ2xhc3MoICJ1aS1idG4tcmlnaHQiICk7CgoJCQlpZiAoICFsZWZ0YnRuICkgewoJCQkJbGVmdGJ0biA9ICRoZWFkZXJhbmNob3JzLmVxKCAwICkubm90KCAiLnVpLWJ0bi1yaWdodCIgKS5hZGRDbGFzcyggInVpLWJ0bi1sZWZ0IiApLmxlbmd0aDsKCQkJfQoKCQkJaWYgKCAhcmlnaHRidG4gKSB7CgkJCQlyaWdodGJ0biA9ICRoZWFkZXJhbmNob3JzLmVxKCAxICkuYWRkQ2xhc3MoICJ1aS1idG4tcmlnaHQiICkubGVuZ3RoOwoJCQl9CgoJCQkvLyBBdXRvLWFkZCBiYWNrIGJ0biBvbiBwYWdlcyBiZXlvbmQgZmlyc3QgdmlldwoJCQlpZiAoIG8uYWRkQmFja0J0biAmJiByb2xlID09PSAiaGVhZGVyIiAmJgoJCQkJCSQoICIudWktcGFnZSIgKS5sZW5ndGggPiAxICYmCgkJCQkJJHRoaXMuanFtRGF0YSggInVybCIgKSAhPT0gJC5tb2JpbGUucGF0aC5zdHJpcEhhc2goIGxvY2F0aW9uLmhhc2ggKSAmJgoJCQkJCSFsZWZ0YnRuICkgewoKCQkJCWJhY2tCdG4gPSAkKCAiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi1sZWZ0JyBkYXRhLSIrICQubW9iaWxlLm5zICsicmVsPSdiYWNrJyBkYXRhLSIrICQubW9iaWxlLm5zICsiaWNvbj0nYXJyb3ctbCc+Iisgby5iYWNrQnRuVGV4dCArIjwvYT4iICkucHJlcGVuZFRvKCAkdGhpcyApOwoKCQkJCS8vIElmIHRoZW1lIGlzIHByb3ZpZGVkLCBvdmVycmlkZSBkZWZhdWx0IGluaGVyaXRhbmNlCgkJCQliYWNrQnRuLmF0dHIoICJkYXRhLSIrICQubW9iaWxlLm5zICsidGhlbWUiLCBvLmJhY2tCdG5UaGVtZSB8fCB0aGlzVGhlbWUgKTsKCQkJfQoKCQkJLy8gUGFnZSB0aXRsZQoJCQkkdGhpcy5jaGlsZHJlbiggImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiICkKCQkJCS5hZGRDbGFzcyggInVpLXRpdGxlIiApCgkJCQkvLyBSZWdhcmRsZXNzIG9mIGggZWxlbWVudCBudW1iZXIgaW4gc3JjLCBpdCBiZWNvbWVzIGgxIGZvciB0aGUgZW5oYW5jZWQgcGFnZQoJCQkJLmF0dHIoewoJCQkJCSJ0YWJpbmRleCI6ICIwIiwKCQkJCQkicm9sZSI6ICJoZWFkaW5nIiwKCQkJCQkiYXJpYS1sZXZlbCI6ICIxIgoJCQkJfSk7CgoJCX0gZWxzZSBpZiAoIHJvbGUgPT09ICJjb250ZW50IiApIHsKCgkJCSR0aGlzLmFkZENsYXNzKCAidWktYm9keS0iICsgKCB0aGVtZSB8fCBwYWdlVGhlbWUgfHwgby5jb250ZW50VGhlbWUgKSApOwoKCQkJLy8gQWRkIEFSSUEgcm9sZQoJCQkkdGhpcy5hdHRyKCAicm9sZSIsICJtYWluIiApOwoKCQl9Cgl9KTsKfSk7Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJjb2xsYXBzaWJsZSIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5jb2xsYXBzaWJsZSIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCWV4cGFuZEN1ZVRleHQ6ICIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIiwKCQljb2xsYXBzZUN1ZVRleHQ6ICIgY2xpY2sgdG8gY29sbGFwc2UgY29udGVudHMiLAoJCWNvbGxhcHNlZDogZmFsc2UsCgkJaGVhZGluZzogIj46aGVhZGVyLD5sZWdlbmQiLAoJCXRoZW1lOiBudWxsLAoJCWljb25UaGVtZTogImQiLAoJCWluaXRTZWxlY3RvcjogIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiCgl9LAoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCXZhciAkZWwgPSB0aGlzLmVsZW1lbnQsCgkJCW8gPSB0aGlzLm9wdGlvbnMsCgkJCWNvbGxhcHNpYmxlQ29udGFpbiA9ICRlbC5hZGRDbGFzcyggInVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iICksCgkJCWNvbGxhcHNpYmxlSGVhZGluZyA9ICRlbC5maW5kKCBvLmhlYWRpbmcgKS5lcSggMCApLAoJCQljb2xsYXBzaWJsZUNvbnRlbnQgPSBjb2xsYXBzaWJsZUNvbnRhaW4ud3JhcElubmVyKCAiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IiApLmZpbmQoICIudWktY29sbGFwc2libGUtY29udGVudCIgKSwKCQkJY29sbGFwc2libGVQYXJlbnQgPSAkZWwuY2xvc2VzdCggIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlLXNldCcpIiApLmFkZENsYXNzKCAidWktY29sbGFwc2libGUtc2V0IiApOwoKCQkvLyBSZXBsYWNlIGNvbGxhcHNpYmxlSGVhZGluZyBpZiBpdCdzIGEgbGVnZW5kCgkJaWYgKCBjb2xsYXBzaWJsZUhlYWRpbmcuaXMoICJsZWdlbmQiICkgKSB7CgkJCWNvbGxhcHNpYmxlSGVhZGluZyA9ICQoICI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrIGNvbGxhcHNpYmxlSGVhZGluZy5odG1sKCkgKyI8L2Rpdj4iICkuaW5zZXJ0QmVmb3JlKCBjb2xsYXBzaWJsZUhlYWRpbmcgKTsKCQkJY29sbGFwc2libGVIZWFkaW5nLm5leHQoKS5yZW1vdmUoKTsKCQl9CgoJCWNvbGxhcHNpYmxlSGVhZGluZwoJCQkvL2Ryb3AgaGVhZGluZyBpbiBiZWZvcmUgY29udGVudAoJCQkuaW5zZXJ0QmVmb3JlKCBjb2xsYXBzaWJsZUNvbnRlbnQgKQoJCQkvL21vZGlmeSBtYXJrdXAgJiBhdHRyaWJ1dGVzCgkJCS5hZGRDbGFzcyggInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciICkKCQkJLmFwcGVuZCggIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIgKQoJCQkud3JhcElubmVyKCAiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IiApCgkJCS5maW5kKCAiYTplcSgwKSIgKQoJCQkJLmJ1dHRvbk1hcmt1cCh7CgkJCQkJc2hhZG93OiAhY29sbGFwc2libGVQYXJlbnQubGVuZ3RoLAoJCQkJCWNvcm5lcnM6IGZhbHNlLAoJCQkJCWljb25Qb3M6ICJsZWZ0IiwKCQkJCQlpY29uOiAicGx1cyIsCgkJCQkJdGhlbWU6IG8udGhlbWUKCQkJCX0pCgkJCQkuZmluZCggIi51aS1pY29uIiApCgkJCQkJLnJlbW92ZUF0dHIoICJjbGFzcyIgKQoJCQkJCS5idXR0b25NYXJrdXAoewoJCQkJCQlzaGFkb3c6IHRydWUsCgkJCQkJCWNvcm5lcnM6IHRydWUsCgkJCQkJCWljb25Qb3M6ICJub3RleHQiLAoJCQkJCQlpY29uOiAicGx1cyIsCgkJCQkJCXRoZW1lOiBvLmljb25UaGVtZQoJCQkJCX0pOwoKCQkJaWYgKCAhY29sbGFwc2libGVQYXJlbnQubGVuZ3RoICkgewoJCQkJY29sbGFwc2libGVIZWFkaW5nCgkJCQkJLmZpbmQoICJhOmVxKDApIiApCgkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1hbGwiICkKCQkJCQkJLmZpbmQoICIudWktYnRuLWlubmVyIiApCgkJCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYWxsIiApOwoJCQl9IGVsc2UgewoJCQkJaWYgKCBjb2xsYXBzaWJsZUNvbnRhaW4uanFtRGF0YSggImNvbGxhcHNpYmxlLWxhc3QiICkgKSB7CgkJCQkJY29sbGFwc2libGVIZWFkaW5nCgkJCQkJCS5maW5kKCAiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIgKQoJCQkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJvdHRvbSIgKTsKCQkJCX0KCQkJfQoKCQkvL2V2ZW50cwoJCWNvbGxhcHNpYmxlQ29udGFpbgoJCQkuYmluZCggImNvbGxhcHNlIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCAhIGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICYmCgkJCQkJCQkkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCAiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iICkuaXMoIGNvbGxhcHNpYmxlQ29udGFpbiApICkgewoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJCQkJLmFkZENsYXNzKCAidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiICkKCQkJCQkJLmZpbmQoICIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiICkKCQkJCQkJCS50ZXh0KCBvLmV4cGFuZEN1ZVRleHQgKQoJCQkJCQkuZW5kKCkKCQkJCQkJLmZpbmQoICIudWktaWNvbiIgKQoJCQkJCQkJLnJlbW92ZUNsYXNzKCAidWktaWNvbi1taW51cyIgKQoJCQkJCQkJLmFkZENsYXNzKCAidWktaWNvbi1wbHVzIiApOwoKCQkJCQljb2xsYXBzaWJsZUNvbnRlbnQuYWRkQ2xhc3MoICJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIgKS5hdHRyKCAiYXJpYS1oaWRkZW4iLCB0cnVlICk7CgoJCQkJCWlmICggY29sbGFwc2libGVDb250YWluLmpxbURhdGEoICJjb2xsYXBzaWJsZS1sYXN0IiApICkgewoJCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJCQkJCS5maW5kKCAiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIgKQoJCQkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJvdHRvbSIgKTsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAiZXhwYW5kIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7CgoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgoJCQkJCWNvbGxhcHNpYmxlSGVhZGluZwoJCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIgKQoJCQkJCQkuZmluZCggIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIgKS50ZXh0KCBvLmNvbGxhcHNlQ3VlVGV4dCApOwoKCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcuZmluZCggIi51aS1pY29uIiApLnJlbW92ZUNsYXNzKCAidWktaWNvbi1wbHVzIiApLmFkZENsYXNzKCAidWktaWNvbi1taW51cyIgKTsKCgkJCQkJY29sbGFwc2libGVDb250ZW50LnJlbW92ZUNsYXNzKCAidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiICkuYXR0ciggImFyaWEtaGlkZGVuIiwgZmFsc2UgKTsKCgkJCQkJaWYgKCBjb2xsYXBzaWJsZUNvbnRhaW4uanFtRGF0YSggImNvbGxhcHNpYmxlLWxhc3QiICkgKSB7CgoJCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJCQkJCS5maW5kKCAiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIgKQoJCQkJCQkJLnJlbW92ZUNsYXNzKCAidWktY29ybmVyLWJvdHRvbSIgKTsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS50cmlnZ2VyKCBvLmNvbGxhcHNlZCA/ICJjb2xsYXBzZSIgOiAiZXhwYW5kIiApOwoKCQkvLyBDbG9zZSBvdGhlcnMgaW4gYSBzZXQKCQlpZiAoIGNvbGxhcHNpYmxlUGFyZW50Lmxlbmd0aCAmJiAhY29sbGFwc2libGVQYXJlbnQuanFtRGF0YSggImNvbGxhcHNpYmxlYm91bmQiICkgKSB7CgoJCQljb2xsYXBzaWJsZVBhcmVudAoJCQkJLmpxbURhdGEoICJjb2xsYXBzaWJsZWJvdW5kIiwgdHJ1ZSApCgkJCQkuYmluZCggImV4cGFuZCIsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQkJJCggZXZlbnQudGFyZ2V0ICkKCQkJCQkJLmNsb3Nlc3QoICIudWktY29sbGFwc2libGUtY29udGFpbiIgKQoJCQkJCQkuc2libGluZ3MoICIudWktY29sbGFwc2libGUtY29udGFpbiIgKQoJCQkJCQkudHJpZ2dlciggImNvbGxhcHNlIiApOwoKCQkJCX0pOwoKCQkJdmFyIHNldCA9IGNvbGxhcHNpYmxlUGFyZW50LmNoaWxkcmVuKCAiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSIgKTsKCgkJCXNldC5maXJzdCgpCgkJCQkuZmluZCggImE6ZXEoMCkiICkKCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdG9wIiApCgkJCQkJCS5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKQoJCQkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCIgKTsKCgkJCXNldC5sYXN0KCkuanFtRGF0YSggImNvbGxhcHNpYmxlLWxhc3QiLCB0cnVlICk7CgkJfQoKCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCQkJdmFyIHR5cGUgPSBjb2xsYXBzaWJsZUhlYWRpbmcuaXMoICIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiICkgPwoJCQkJCQkJCQkJImV4cGFuZCIgOiAiY29sbGFwc2UiOwoKCQkJCWNvbGxhcHNpYmxlQ29udGFpbi50cmlnZ2VyKCB0eXBlICk7CgoJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJfSk7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCSQoICQubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKS5jb2xsYXBzaWJsZSgpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJmaWVsZGNvbnRhaW4iIHBsdWdpbiAtIHNpbXBsZSBjbGFzcyBhZGRpdGlvbnMgdG8gbWFrZSBmb3JtIHJvdyBzZXBhcmF0b3JzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC5mbi5maWVsZGNvbnRhaW4gPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCXJldHVybiB0aGlzLmFkZENsYXNzKCAidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIiApOwp9OwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCSQoICI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsIGUudGFyZ2V0ICkuZmllbGRjb250YWluKCk7Cn0pOwoKfSkoIGpRdWVyeSApOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBwbHVnaW4gZm9yIGNyZWF0aW5nIENTUyBncmlkcwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQuZm4uZ3JpZCA9IGZ1bmN0aW9uKCBvcHRpb25zICkgewoJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCgkJdmFyICR0aGlzID0gJCggdGhpcyApLAoJCQlvID0gJC5leHRlbmQoewoJCQkJZ3JpZDogbnVsbAoJCQl9LG9wdGlvbnMpLAoJCQkka2lkcyA9ICR0aGlzLmNoaWxkcmVuKCksCgkJCWdyaWRDb2xzID0ge3NvbG86MSwgYToyLCBiOjMsIGM6NCwgZDo1fSwKCQkJZ3JpZCA9IG8uZ3JpZCwKCQkJaXRlcmF0b3I7CgoJCQlpZiAoICFncmlkICkgewoJCQkJaWYgKCAka2lkcy5sZW5ndGggPD0gNSApIHsKCQkJCQlmb3IgKCB2YXIgbGV0dGVyIGluIGdyaWRDb2xzICkgewoJCQkJCQlpZiAoIGdyaWRDb2xzWyBsZXR0ZXIgXSA9PT0gJGtpZHMubGVuZ3RoICkgewoJCQkJCQkJZ3JpZCA9IGxldHRlcjsKCQkJCQkJfQoJCQkJCX0KCQkJCX0gZWxzZSB7CgkJCQkJZ3JpZCA9ICJhIjsKCQkJCX0KCQkJfQoJCQlpdGVyYXRvciA9IGdyaWRDb2xzW2dyaWRdOwoKCQkkdGhpcy5hZGRDbGFzcyggInVpLWdyaWQtIiArIGdyaWQgKTsKCgkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCgiICsgaXRlcmF0b3IgKyAibisxKSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWEiICk7CgoJCWlmICggaXRlcmF0b3IgPiAxICkgewoJCQkka2lkcy5maWx0ZXIoICI6bnRoLWNoaWxkKCIgKyBpdGVyYXRvciArICJuKzIpIiApLmFkZENsYXNzKCAidWktYmxvY2stYiIgKTsKCQl9CgkJaWYgKCBpdGVyYXRvciA+IDIgKSB7CgkJCSRraWRzLmZpbHRlciggIjpudGgtY2hpbGQoM24rMykiICkuYWRkQ2xhc3MoICJ1aS1ibG9jay1jIiApOwoJCX0KCQlpZiAoIGl0ZXJhdG9yID4gMyApIHsKCQkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCg0bis0KSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWQiICk7CgkJfQoJCWlmICggaXRlcmF0b3IgPiA0ICkgewoJCQkka2lkcy5maWx0ZXIoICI6bnRoLWNoaWxkKDVuKzUpIiApLmFkZENsYXNzKCAidWktYmxvY2stZSIgKTsKCQl9Cgl9KTsKfTsKfSkoIGpRdWVyeSApOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAibmF2YmFyIiBwbHVnaW4KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5uYXZiYXIiLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQlpY29ucG9zOiAidG9wIiwKCQlncmlkOiBudWxsLAoJCWluaXRTZWxlY3RvcjogIjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIgoJfSwKCglfY3JlYXRlOiBmdW5jdGlvbigpewoKCQl2YXIgJG5hdmJhciA9IHRoaXMuZWxlbWVudCwKCQkJJG5hdmJ0bnMgPSAkbmF2YmFyLmZpbmQoICJhIiApLAoJCQlpY29ucG9zID0gJG5hdmJ0bnMuZmlsdGVyKCAiOmpxbURhdGEoaWNvbikiICkubGVuZ3RoID8KCQkJCQkJCQkJdGhpcy5vcHRpb25zLmljb25wb3MgOiB1bmRlZmluZWQ7CgoJCSRuYXZiYXIuYWRkQ2xhc3MoICJ1aS1uYXZiYXIiICkKCQkJLmF0dHIoICJyb2xlIiwibmF2aWdhdGlvbiIgKQoJCQkuZmluZCggInVsIiApCgkJCQkuZ3JpZCh7IGdyaWQ6IHRoaXMub3B0aW9ucy5ncmlkIH0pOwoKCQlpZiAoICFpY29ucG9zICkgewoJCQkkbmF2YmFyLmFkZENsYXNzKCAidWktbmF2YmFyLW5vaWNvbnMiICk7CgkJfQoKCQkkbmF2YnRucy5idXR0b25NYXJrdXAoewoJCQljb3JuZXJzOglmYWxzZSwKCQkJc2hhZG93OgkJZmFsc2UsCgkJCWljb25wb3M6CWljb25wb3MKCQl9KTsKCgkJJG5hdmJhci5kZWxlZ2F0ZSggImEiLCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkkbmF2YnRucy5ub3QoICIudWktc3RhdGUtcGVyc2lzdCIgKS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQkJJCggdGhpcyApLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCX0pOwoJfQp9KTsKCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cwokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAkLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCBlLnRhcmdldCApLm5hdmJhcigpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJsaXN0dmlldyIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKLy9LZWVwcyB0cmFjayBvZiB0aGUgbnVtYmVyIG9mIGxpc3RzIHBlciBwYWdlIFVJRAovL1RoaXMgYWxsb3dzIHN1cHBvcnQgZm9yIG11bHRpcGxlIG5lc3RlZCBsaXN0IGluIHRoZSBzYW1lIHBhZ2UKLy9odHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS1tb2JpbGUvaXNzdWVzLzE2MTcKdmFyIGxpc3RDb3VudFBlclBhZ2UgPSB7fTsKCiQud2lkZ2V0KCAibW9iaWxlLmxpc3R2aWV3IiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6ICJjIiwKCQljb3VudFRoZW1lOiAiYyIsCgkJaGVhZGVyVGhlbWU6ICJiIiwKCQlkaXZpZGVyVGhlbWU6ICJiIiwKCQlzcGxpdEljb246ICJhcnJvdy1yIiwKCQlzcGxpdFRoZW1lOiAiYiIsCgkJaW5zZXQ6IGZhbHNlLAoJCWluaXRTZWxlY3RvcjogIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiCgl9LAoKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciB0ID0gdGhpczsKCgkJLy8gY3JlYXRlIGxpc3R2aWV3IG1hcmt1cAoJCXQuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbiggaSwgb3JpZyApIHsKCQkJcmV0dXJuIG9yaWcgKyAiIHVpLWxpc3R2aWV3ICIgKyAoIHQub3B0aW9ucy5pbnNldCA/ICIgdWktbGlzdHZpZXctaW5zZXQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgIiA6ICIiICk7CgkJfSk7CgoJCXQucmVmcmVzaCgpOwoJfSwKCglfaXRlbUFwcGx5OiBmdW5jdGlvbiggJGxpc3QsIGl0ZW0gKSB7CgkJLy8gVE9ETyBjbGFzcyBoYXMgdG8gYmUgZGVmaW5lZCBpbiBtYXJrdXAKCQlpdGVtLmZpbmQoICIudWktbGktY291bnQiICkKCQkJLmFkZENsYXNzKCAidWktYnRuLXVwLSIgKyAoICRsaXN0LmpxbURhdGEoICJjb3VudHRoZW1lIiApIHx8IHRoaXMub3B0aW9ucy5jb3VudFRoZW1lICkgKyAiIHVpLWJ0bi1jb3JuZXItYWxsIiApLmVuZCgpCgkJLmZpbmQoICJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IiApLmFkZENsYXNzKCAidWktbGktaGVhZGluZyIgKS5lbmQoKQoJCS5maW5kKCAicCwgZGwiICkuYWRkQ2xhc3MoICJ1aS1saS1kZXNjIiApLmVuZCgpCgkJLmZpbmQoICI+aW1nOmVxKDApLCAudWktbGluay1pbmhlcml0PmltZzplcSgwKSIgKS5hZGRDbGFzcyggInVpLWxpLXRodW1iIiApLmVhY2goZnVuY3Rpb24oKSB7CgkJCWl0ZW0uYWRkQ2xhc3MoICQodGhpcykuaXMoICIudWktbGktaWNvbiIgKSA/ICJ1aS1saS1oYXMtaWNvbiIgOiAidWktbGktaGFzLXRodW1iIiApOwoJCX0pLmVuZCgpCgkJLmZpbmQoICIudWktbGktYXNpZGUiICkuZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyICR0aGlzID0gJCh0aGlzKTsKCQkJJHRoaXMucHJlcGVuZFRvKCAkdGhpcy5wYXJlbnQoKSApOyAvL3NoaWZ0IGFzaWRlIHRvIGZyb250IGZvciBjc3MgZmxvYXQKCQl9KTsKCX0sCgoJX3JlbW92ZUNvcm5lcnM6IGZ1bmN0aW9uKCBsaSwgd2hpY2ggKSB7CgkJdmFyIHRvcCA9ICJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiLAoJCQlib3QgPSAidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIjsKCgkJbGkgPSBsaS5hZGQoIGxpLmZpbmQoICIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIgKSApOwoKCQlpZiAoIHdoaWNoID09PSAidG9wIiApIHsKCQkJbGkucmVtb3ZlQ2xhc3MoIHRvcCApOwoJCX0gZWxzZSBpZiAoIHdoaWNoID09PSAiYm90dG9tIiApIHsKCQkJbGkucmVtb3ZlQ2xhc3MoIGJvdCApOwoJCX0gZWxzZSB7CgkJCWxpLnJlbW92ZUNsYXNzKCB0b3AgKyAiICIgKyBib3QgKTsKCQl9Cgl9LAoKCXJlZnJlc2g6IGZ1bmN0aW9uKCBjcmVhdGUgKSB7CgkJdGhpcy5wYXJlbnRQYWdlID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoICIudWktcGFnZSIgKTsKCQl0aGlzLl9jcmVhdGVTdWJQYWdlcygpOwoKCQl2YXIgbyA9IHRoaXMub3B0aW9ucywKCQkJJGxpc3QgPSB0aGlzLmVsZW1lbnQsCgkJCXNlbGYgPSB0aGlzLAoJCQlkaXZpZGVydGhlbWUgPSAkbGlzdC5qcW1EYXRhKCAiZGl2aWRlcnRoZW1lIiApIHx8IG8uZGl2aWRlclRoZW1lLAoJCQlsaXN0c3BsaXR0aGVtZSA9ICRsaXN0LmpxbURhdGEoICJzcGxpdHRoZW1lIiApLAoJCQlsaXN0c3BsaXRpY29uID0gJGxpc3QuanFtRGF0YSggInNwbGl0aWNvbiIgKSwKCQkJbGkgPSAkbGlzdC5jaGlsZHJlbiggImxpIiApLAoJCQljb3VudGVyID0gJC5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnQgfHwgISQubm9kZU5hbWUoICRsaXN0WyAwIF0sICJvbCIgKSA/IDAgOiAxLAoJCQlpdGVtLCBpdGVtQ2xhc3MsIGl0ZW1UaGVtZSwKCQkJYSwgbGFzdCwgc3BsaXR0aGVtZSwgY291bnRQYXJlbnQsIGljb247CgoJCWlmICggY291bnRlciApIHsKCQkJJGxpc3QuZmluZCggIi51aS1saS1kZWMiICkucmVtb3ZlKCk7CgkJfQoKCQlmb3IgKCB2YXIgcG9zID0gMCwgbnVtbGkgPSBsaS5sZW5ndGg7IHBvcyA8IG51bWxpOyBwb3MrKyApIHsKCQkJaXRlbSA9IGxpLmVxKCBwb3MgKTsKCQkJaXRlbUNsYXNzID0gInVpLWxpIjsKCgkJCS8vIElmIHdlJ3JlIGNyZWF0aW5nIHRoZSBlbGVtZW50LCB3ZSB1cGRhdGUgaXQgcmVnYXJkbGVzcwoJCQlpZiAoIGNyZWF0ZSB8fCAhaXRlbS5oYXNDbGFzcyggInVpLWxpIiApICkgewoJCQkJaXRlbVRoZW1lID0gaXRlbS5qcW1EYXRhKCJ0aGVtZSIpIHx8IG8udGhlbWU7CgkJCQlhID0gaXRlbS5jaGlsZHJlbiggImEiICk7CgoJCQkJaWYgKCBhLmxlbmd0aCApIHsKCQkJCQlpY29uID0gaXRlbS5qcW1EYXRhKCJpY29uIik7CgoJCQkJCWl0ZW0uYnV0dG9uTWFya3VwKHsKCQkJCQkJd3JhcHBlckVsczogImRpdiIsCgkJCQkJCXNoYWRvdzogZmFsc2UsCgkJCQkJCWNvcm5lcnM6IGZhbHNlLAoJCQkJCQlpY29ucG9zOiAicmlnaHQiLAoJCQkJCQlpY29uOiBhLmxlbmd0aCA+IDEgfHwgaWNvbiA9PT0gZmFsc2UgPyBmYWxzZSA6IGljb24gfHwgImFycm93LXIiLAoJCQkJCQl0aGVtZTogaXRlbVRoZW1lCgkJCQkJfSk7CgoJCQkJCWEuZmlyc3QoKS5hZGRDbGFzcyggInVpLWxpbmstaW5oZXJpdCIgKTsKCgkJCQkJaWYgKCBhLmxlbmd0aCA+IDEgKSB7CgkJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLWhhcy1hbHQiOwoKCQkJCQkJbGFzdCA9IGEubGFzdCgpOwoJCQkJCQlzcGxpdHRoZW1lID0gbGlzdHNwbGl0dGhlbWUgfHwgbGFzdC5qcW1EYXRhKCAidGhlbWUiICkgfHwgby5zcGxpdFRoZW1lOwoKCQkJCQkJbGFzdC5hcHBlbmRUbyhpdGVtKQoJCQkJCQkJLmF0dHIoICJ0aXRsZSIsIGxhc3QudGV4dCgpICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWxpLWxpbmstYWx0IiApCgkJCQkJCQkuZW1wdHkoKQoJCQkJCQkJLmJ1dHRvbk1hcmt1cCh7CgkJCQkJCQkJc2hhZG93OiBmYWxzZSwKCQkJCQkJCQljb3JuZXJzOiBmYWxzZSwKCQkJCQkJCQl0aGVtZTogaXRlbVRoZW1lLAoJCQkJCQkJCWljb246IGZhbHNlLAoJCQkJCQkJCWljb25wb3M6IGZhbHNlCgkJCQkJCQl9KQoJCQkJCQkJLmZpbmQoICIudWktYnRuLWlubmVyIiApCgkJCQkJCQkJLmFwcGVuZCgKCQkJCQkJCQkJJCggIjxzcGFuIC8+IiApLmJ1dHRvbk1hcmt1cCh7CgkJCQkJCQkJCQlzaGFkb3c6IHRydWUsCgkJCQkJCQkJCQljb3JuZXJzOiB0cnVlLAoJCQkJCQkJCQkJdGhlbWU6IHNwbGl0dGhlbWUsCgkJCQkJCQkJCQlpY29ucG9zOiAibm90ZXh0IiwKCQkJCQkJCQkJCWljb246IGxpc3RzcGxpdGljb24gfHwgbGFzdC5qcW1EYXRhKCAiaWNvbiIgKSB8fCBvLnNwbGl0SWNvbgoJCQkJCQkJCQl9KQoJCQkJCQkJCSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmICggaXRlbS5qcW1EYXRhKCAicm9sZSIgKSA9PT0gImxpc3QtZGl2aWRlciIgKSB7CgoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iICsgZGl2aWRlcnRoZW1lOwoJCQkJCWl0ZW0uYXR0ciggInJvbGUiLCAiaGVhZGluZyIgKTsKCgkJCQkJLy9yZXNldCBjb3VudGVyIHdoZW4gYSBkaXZpZGVyIGhlYWRpbmcgaXMgZW5jb3VudGVyZWQKCQkJCQlpZiAoIGNvdW50ZXIgKSB7CgkJCQkJCWNvdW50ZXIgPSAxOwoJCQkJCX0KCgkJCQl9IGVsc2UgewoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIgKyBpdGVtVGhlbWU7CgkJCQl9CgkJCX0KCgkJCWlmICggby5pbnNldCApIHsKCQkJCWlmICggcG9zID09PSAwICkgewoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWNvcm5lci10b3AiOwoKCQkJCQlpdGVtLmFkZCggaXRlbS5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKSApCgkJCQkJCS5maW5kKCAiLnVpLWxpLWxpbmstYWx0IiApCgkJCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdHIiICkKCQkJCQkJLmVuZCgpCgkJCQkJCS5maW5kKCAiLnVpLWxpLXRodW1iIiApCgkJCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdGwiICk7CgoJCQkJCWlmICggaXRlbS5uZXh0KCkubmV4dCgpLmxlbmd0aCApIHsKCQkJCQkJc2VsZi5fcmVtb3ZlQ29ybmVycyggaXRlbS5uZXh0KCkgKTsKCQkJCQl9CgkJCQl9CgoJCQkJaWYgKCBwb3MgPT09IGxpLmxlbmd0aCAtIDEgKSB7CgkJCQkJaXRlbUNsYXNzICs9ICIgdWktY29ybmVyLWJvdHRvbSI7CgoJCQkJCWl0ZW0uYWRkKCBpdGVtLmZpbmQoICIudWktYnRuLWlubmVyIiApICkKCQkJCQkJLmZpbmQoICIudWktbGktbGluay1hbHQiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1iciIgKQoJCQkJCQkuZW5kKCkKCQkJCQkJLmZpbmQoICIudWktbGktdGh1bWIiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ibCIgKTsKCgkJCQkJaWYgKCBpdGVtLnByZXYoKS5wcmV2KCkubGVuZ3RoICkgewoJCQkJCQlzZWxmLl9yZW1vdmVDb3JuZXJzKCBpdGVtLnByZXYoKSApOwoJCQkJCX0gZWxzZSBpZiAoIGl0ZW0ucHJldigpLmxlbmd0aCApIHsKCQkJCQkJc2VsZi5fcmVtb3ZlQ29ybmVycyggaXRlbS5wcmV2KCksICJib3R0b20iICk7CgkJCQkJfQoJCQkJfQoJCQl9CgoJCQlpZiAoIGNvdW50ZXIgJiYgaXRlbUNsYXNzLmluZGV4T2YoICJ1aS1saS1kaXZpZGVyIiApIDwgMCApIHsKCQkJCWNvdW50UGFyZW50ID0gaXRlbS5pcyggIi51aS1saS1zdGF0aWM6Zmlyc3QiICkgPyBpdGVtIDogaXRlbS5maW5kKCAiLnVpLWxpbmstaW5oZXJpdCIgKTsKCgkJCQljb3VudFBhcmVudC5hZGRDbGFzcyggInVpLWxpLWpzbnVtYmVyaW5nIiApCgkJCQkJLnByZXBlbmQoICI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iICsgKGNvdW50ZXIrKykgKyAiLiA8L3NwYW4+IiApOwoJCQl9CgoJCQlpdGVtLmFkZCggaXRlbS5jaGlsZHJlbiggIi51aS1idG4taW5uZXIiICkgKS5hZGRDbGFzcyggaXRlbUNsYXNzICk7CgoJCQlpZiAoICFjcmVhdGUgKSB7CgkJCQlzZWxmLl9pdGVtQXBwbHkoICRsaXN0LCBpdGVtICk7CgkJCX0KCQl9Cgl9LAoKCS8vY3JlYXRlIGEgc3RyaW5nIGZvciBJRC9zdWJwYWdlIHVybCBjcmVhdGlvbgoJX2lkU3RyaW5nRXNjYXBlOiBmdW5jdGlvbiggc3RyICkgewoJCXJldHVybiBzdHIucmVwbGFjZSgvW15hLXpBLVowLTldL2csICctJyk7Cgl9LAoKCV9jcmVhdGVTdWJQYWdlczogZnVuY3Rpb24oKSB7CgkJdmFyIHBhcmVudExpc3QgPSB0aGlzLmVsZW1lbnQsCgkJCXBhcmVudFBhZ2UgPSBwYXJlbnRMaXN0LmNsb3Nlc3QoICIudWktcGFnZSIgKSwKCQkJcGFyZW50VXJsID0gcGFyZW50UGFnZS5qcW1EYXRhKCAidXJsIiApLAoJCQlwYXJlbnRJZCA9IHBhcmVudFVybCB8fCBwYXJlbnRQYWdlWyAwIF1bICQuZXhwYW5kbyBdLAoJCQlwYXJlbnRMaXN0SWQgPSBwYXJlbnRMaXN0LmF0dHIoICJpZCIgKSwKCQkJbyA9IHRoaXMub3B0aW9ucywKCQkJZG5zID0gImRhdGEtIiArICQubW9iaWxlLm5zLAoJCQlzZWxmID0gdGhpcywKCQkJcGVyc2lzdGVudEZvb3RlcklEID0gcGFyZW50UGFnZS5maW5kKCAiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkuanFtRGF0YSggImlkIiApLAoJCQloYXNTdWJQYWdlczsKCgkJaWYgKCB0eXBlb2YgbGlzdENvdW50UGVyUGFnZVsgcGFyZW50SWQgXSA9PT0gInVuZGVmaW5lZCIgKSB7CgkJCWxpc3RDb3VudFBlclBhZ2VbIHBhcmVudElkIF0gPSAtMTsKCQl9CgoJCXBhcmVudExpc3RJZCA9IHBhcmVudExpc3RJZCB8fCArK2xpc3RDb3VudFBlclBhZ2VbIHBhcmVudElkIF07CgoJCSQoIHBhcmVudExpc3QuZmluZCggImxpPnVsLCBsaT5vbCIgKS50b0FycmF5KCkucmV2ZXJzZSgpICkuZWFjaChmdW5jdGlvbiggaSApIHsKCQkJdmFyIHNlbGYgPSB0aGlzLAoJCQkJbGlzdCA9ICQoIHRoaXMgKSwKCQkJCWxpc3RJZCA9IGxpc3QuYXR0ciggImlkIiApIHx8IHBhcmVudExpc3RJZCArICItIiArIGksCgkJCQlwYXJlbnQgPSBsaXN0LnBhcmVudCgpLAoJCQkJbm9kZUVscyA9ICQoIGxpc3QucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkgKSwKCQkJCW5vZGVFbHMgPSBub2RlRWxzLmxlbmd0aCA/IG5vZGVFbHMgOiAkKCAiPHNwYW4+IiArICQudHJpbShwYXJlbnQuY29udGVudHMoKVsgMCBdLm5vZGVWYWx1ZSkgKyAiPC9zcGFuPiIgKSwKCQkJCXRpdGxlID0gbm9kZUVscy5maXJzdCgpLnRleHQoKSwvL3VybCBsaW1pdHMgdG8gZmlyc3QgMzAgY2hhcnMgb2YgdGV4dAoJCQkJaWQgPSAoIHBhcmVudFVybCB8fCAiIiApICsgIiYiICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleSArICI9IiArIGxpc3RJZCwKCQkJCXRoZW1lID0gbGlzdC5qcW1EYXRhKCAidGhlbWUiICkgfHwgby50aGVtZSwKCQkJCWNvdW50VGhlbWUgPSBsaXN0LmpxbURhdGEoICJjb3VudHRoZW1lIiApIHx8IHBhcmVudExpc3QuanFtRGF0YSggImNvdW50dGhlbWUiICkgfHwgby5jb3VudFRoZW1lLAoJCQkJbmV3UGFnZSwgYW5jaG9yOwoKCQkJLy9kZWZpbmUgaGFzU3ViUGFnZXMgZm9yIHVzZSBpbiBsYXRlciByZW1vdmFsCgkJCWhhc1N1YlBhZ2VzID0gdHJ1ZTsKCgkJCW5ld1BhZ2UgPSBsaXN0LmRldGFjaCgpCgkJCQkJCS53cmFwKCAiPGRpdiAiICsgZG5zICsgInJvbGU9J3BhZ2UnICIgKwlkbnMgKyAidXJsPSciICsgaWQgKyAiJyAiICsgZG5zICsgInRoZW1lPSciICsgdGhlbWUgKyAiJyAiICsgZG5zICsgImNvdW50LXRoZW1lPSciICsgY291bnRUaGVtZSArICInPjxkaXYgIiArIGRucyArICJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iICkKCQkJCQkJLnBhcmVudCgpCgkJCQkJCQkuYmVmb3JlKCAiPGRpdiAiICsgZG5zICsgInJvbGU9J2hlYWRlcicgIiArIGRucyArICJ0aGVtZT0nIiArIG8uaGVhZGVyVGhlbWUgKyAiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IiArIHRpdGxlICsgIjwvZGl2PjwvZGl2PiIgKQoJCQkJCQkJLmFmdGVyKCBwZXJzaXN0ZW50Rm9vdGVySUQgPyAkKCAiPGRpdiAiICsgZG5zICsgInJvbGU9J2Zvb3RlcicgIiArIGRucyArICJpZD0nIisgcGVyc2lzdGVudEZvb3RlcklEICsiJz4iKSA6ICIiICkKCQkJCQkJCS5wYXJlbnQoKQoJCQkJCQkJCS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApOwoKCQkJbmV3UGFnZS5wYWdlKCk7CgoJCQlhbmNob3IgPSBwYXJlbnQuZmluZCgnYTpmaXJzdCcpOwoKCQkJaWYgKCAhYW5jaG9yLmxlbmd0aCApIHsKCQkJCWFuY2hvciA9ICQoICI8YS8+IiApLmh0bWwoIG5vZGVFbHMgfHwgdGl0bGUgKS5wcmVwZW5kVG8oIHBhcmVudC5lbXB0eSgpICk7CgkJCX0KCgkJCWFuY2hvci5hdHRyKCAiaHJlZiIsICIjIiArIGlkICk7CgoJCX0pLmxpc3R2aWV3KCk7CgoJCS8vb24gcGFnZWhpZGUsIHJlbW92ZSBhbnkgbmVzdGVkIHBhZ2VzIGFsb25nIHdpdGggdGhlIHBhcmVudCBwYWdlLCBhcyBsb25nIGFzIHRoZXkgYXJlbid0IGFjdGl2ZQoJCWlmKCBoYXNTdWJQYWdlcyAmJiBwYXJlbnRQYWdlLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlID09PSBmYWxzZSApewoJCQl2YXIgbmV3UmVtb3ZlID0gZnVuY3Rpb24oIGUsIHVpICl7CgkJCQl2YXIgbmV4dFBhZ2UgPSB1aS5uZXh0UGFnZSwgbnBVUkw7CgoJCQkJaWYoIHVpLm5leHRQYWdlICl7CgkJCQkJbnBVUkwgPSBuZXh0UGFnZS5qcW1EYXRhKCAidXJsIiApOwoJCQkJCWlmKCBucFVSTC5pbmRleE9mKCBwYXJlbnRVcmwgKyAiJiIgKyAkLm1vYmlsZS5zdWJQYWdlVXJsS2V5ICkgIT09IDAgKXsKCQkJCQkJc2VsZi5jaGlsZFBhZ2VzKCkucmVtb3ZlKCk7CgkJCQkJCXBhcmVudFBhZ2UucmVtb3ZlKCk7CgkJCQkJfQoJCQkJfQoJCQl9OwoKCQkJLy8gdW5iaW5kIHRoZSBvcmlnaW5hbCBwYWdlIHJlbW92ZSBhbmQgcmVwbGFjZSB3aXRoIG91ciBzcGVjaWFsaXplZCB2ZXJzaW9uCgkJCXBhcmVudFBhZ2UKCQkJCS51bmJpbmQoICJwYWdlaGlkZS5yZW1vdmUiICkKCQkJCS5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiwgbmV3UmVtb3ZlKTsKCQl9Cgl9LAoKCS8vIFRPRE8gc29ydCBvdXQgYSBiZXR0ZXIgd2F5IHRvIHRyYWNrIHN1YiBwYWdlcyBvZiB0aGUgbGlzdHZpZXcgdGhpcyBpcyBicml0dGxlCgljaGlsZFBhZ2VzOiBmdW5jdGlvbigpewoJCXZhciBwYXJlbnRVcmwgPSB0aGlzLnBhcmVudFBhZ2UuanFtRGF0YSggInVybCIgKTsKCgkJcmV0dXJuICQoICI6anFtRGF0YSh1cmxePSciKyAgcGFyZW50VXJsICsgIiYiICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleSArIicpIik7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCSQoICQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKS5saXN0dmlldygpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJsaXN0dmlldyIgZmlsdGVyIGV4dGVuc2lvbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlciA9IGZhbHNlOwokLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlciA9ICJGaWx0ZXIgaXRlbXMuLi4iOwokLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJUaGVtZSA9ICJjIjsKCiQoICI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIiApLmxpdmUoICJsaXN0dmlld2NyZWF0ZSIsIGZ1bmN0aW9uKCkgewoKCXZhciBsaXN0ID0gJCggdGhpcyApLAoJCWxpc3R2aWV3ID0gbGlzdC5kYXRhKCAibGlzdHZpZXciICk7CgoJaWYgKCAhbGlzdHZpZXcub3B0aW9ucy5maWx0ZXIgKSB7CgkJcmV0dXJuOwoJfQoKCXZhciB3cmFwcGVyID0gJCggIjxmb3JtPiIsIHsKCQkJImNsYXNzIjogInVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIiArIGxpc3R2aWV3Lm9wdGlvbnMuZmlsdGVyVGhlbWUsCgkJCSJyb2xlIjogInNlYXJjaCIKCQl9KSwKCQlzZWFyY2ggPSAkKCAiPGlucHV0PiIsIHsKCQkJcGxhY2Vob2xkZXI6IGxpc3R2aWV3Lm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIKCQl9KQoJCS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidHlwZSIsICJzZWFyY2giICkKCQkuanFtRGF0YSggImxhc3R2YWwiLCAiIiApCgkJLmJpbmQoICJrZXl1cCBjaGFuZ2UiLCBmdW5jdGlvbigpIHsKCgkJCXZhciAkdGhpcyA9ICQodGhpcyksCgkJCQl2YWwgPSB0aGlzLnZhbHVlLnRvTG93ZXJDYXNlKCksCgkJCQlsaXN0SXRlbXMgPSBudWxsLAoJCQkJbGFzdHZhbCA9ICR0aGlzLmpxbURhdGEoICJsYXN0dmFsIiApICsgIiIsCgkJCQljaGlsZEl0ZW1zID0gZmFsc2UsCgkJCQlpdGVtdGV4dCA9ICIiLAoJCQkJaXRlbTsKCgkJCS8vIENoYW5nZSB2YWwgYXMgbGFzdHZhbCBmb3IgbmV4dCBleGVjdXRpb24KCQkJJHRoaXMuanFtRGF0YSggImxhc3R2YWwiICwgdmFsICk7CgoJCQljaGFuZ2UgPSB2YWwucmVwbGFjZSggbmV3IFJlZ0V4cCggIl4iICsgbGFzdHZhbCApICwgIiIgKTsKCgkJCWlmICggdmFsLmxlbmd0aCA8IGxhc3R2YWwubGVuZ3RoIHx8IGNoYW5nZS5sZW5ndGggIT0gKCB2YWwubGVuZ3RoIC0gbGFzdHZhbC5sZW5ndGggKSApIHsKCgkJCQkvLyBSZW1vdmVkIGNoYXJzIG9yIHBhc3RlZCBzb21ldGhpbmcgdG90YWx5IGRpZmZlcmVudCwgY2hlY2sgYWxsIGl0ZW1zCgkJCQlsaXN0SXRlbXMgPSBsaXN0LmNoaWxkcmVuKCk7CgkJCX0gZWxzZSB7CgoJCQkJLy8gT25seSBjaGFycyBhZGRlZCwgbm90IHJlbW92ZWQsIG9ubHkgdXNlIHZpc2libGUgc3Vic2V0CgkJCQlsaXN0SXRlbXMgPSBsaXN0LmNoaWxkcmVuKCAiOm5vdCgudWktc2NyZWVuLWhpZGRlbikiICk7CgkJCX0KCgkJCWlmICggdmFsICkgewoKCQkJCS8vIFRoaXMgaGFuZGxlcyBoaWRpbmcgcmVndWxhciByb3dzIHdpdGhvdXQgdGhlIHRleHQgd2Ugc2VhcmNoIGZvcgoJCQkJLy8gYW5kIGFueSBsaXN0IGRpdmlkZXJzIHdpdGhvdXQgcmVndWxhciByb3dzIHNob3duIHVuZGVyIGl0CgoJCQkJZm9yICggdmFyIGkgPSBsaXN0SXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7CgkJCQkJaXRlbSA9ICQoIGxpc3RJdGVtc1sgaSBdICk7CgkJCQkJaXRlbXRleHQgPSBpdGVtLmpxbURhdGEoICJmaWx0ZXJ0ZXh0IiApIHx8IGl0ZW0udGV4dCgpOwoKCQkJCQlpZiAoIGl0ZW0uaXMoICJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIgKSApIHsKCgkJCQkJCWl0ZW0udG9nZ2xlQ2xhc3MoICJ1aS1maWx0ZXItaGlkZXF1ZXVlIiAsICFjaGlsZEl0ZW1zICk7CgoJCQkJCQkvLyBOZXcgYnVja2V0IQoJCQkJCQljaGlsZEl0ZW1zID0gZmFsc2U7CgoJCQkJCX0gZWxzZSBpZiAoIGl0ZW10ZXh0LnRvTG93ZXJDYXNlKCkuaW5kZXhPZiggdmFsICkgPT09IC0xICkgewoKCQkJCQkJLy9tYXJrIHRvIGJlIGhpZGRlbgoJCQkJCQlpdGVtLnRvZ2dsZUNsYXNzKCAidWktZmlsdGVyLWhpZGVxdWV1ZSIgLCB0cnVlICk7CgkJCQkJfSBlbHNlIHsKCgkJCQkJCS8vIFRoZXJlInMgYSBzaG93biBpdGVtIGluIHRoZSBidWNrZXQKCQkJCQkJY2hpbGRJdGVtcyA9IHRydWU7CgkJCQkJfQoJCQkJfQoKCQkJCS8vIFNob3cgaXRlbXMsIG5vdCBtYXJrZWQgdG8gYmUgaGlkZGVuCgkJCQlsaXN0SXRlbXMKCQkJCQkuZmlsdGVyKCAiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiICkKCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiwgZmFsc2UgKTsKCgkJCQkvLyBIaWRlIGl0ZW1zLCBtYXJrZWQgdG8gYmUgaGlkZGVuCgkJCQlsaXN0SXRlbXMKCQkJCQkuZmlsdGVyKCAiLnVpLWZpbHRlci1oaWRlcXVldWUiICkKCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiwgdHJ1ZSApCgkJCQkJLnRvZ2dsZUNsYXNzKCAidWktZmlsdGVyLWhpZGVxdWV1ZSIsIGZhbHNlICk7CgoJCQl9IGVsc2UgewoKCQkJCS8vZmlsdGVydmFsdWUgaXMgZW1wdHkgPT4gc2hvdyBhbGwKCQkJCWxpc3RJdGVtcy50b2dnbGVDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iLCBmYWxzZSApOwoJCQl9CgkJfSkKCQkuYXBwZW5kVG8oIHdyYXBwZXIgKQoJCS50ZXh0aW5wdXQoKTsKCglpZiAoICQoIHRoaXMgKS5qcW1EYXRhKCAiaW5zZXQiICkgKSB7CgkJd3JhcHBlci5hZGRDbGFzcyggInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIgKTsKCX0KCgl3cmFwcGVyLmJpbmQoICJzdWJtaXQiLCBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9KQoJLmluc2VydEJlZm9yZSggbGlzdCApOwp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImZpZWxkY29udGFpbiIgcGx1Z2luIC0gc2ltcGxlIGNsYXNzIGFkZGl0aW9ucyB0byBtYWtlIGZvcm0gcm93IHNlcGFyYXRvcnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAiOmpxbURhdGEocm9sZT0nbm9qcycpIiwgZS50YXJnZXQgKS5hZGRDbGFzcyggInVpLW5vanMiICk7CgkKfSk7Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJjaGVja2JveHJhZGlvIiBwbHVnaW4KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5jaGVja2JveHJhZGlvIiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6IG51bGwsCgkJaW5pdFNlbGVjdG9yOiAiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpcywKCQkJaW5wdXQgPSB0aGlzLmVsZW1lbnQsCgkJCS8vIE5PVEU6IFdpbmRvd3MgUGhvbmUgY291bGQgbm90IGZpbmQgdGhlIGxhYmVsIHRocm91Z2ggYSBzZWxlY3RvcgoJCQkvLyBmaWx0ZXIgd29ya3MgdGhvdWdoLgoJCQlsYWJlbCA9IGlucHV0LmNsb3Nlc3QoICJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIgKS5maW5kKCAibGFiZWwiICkuZmlsdGVyKCAiW2Zvcj0nIiArIGlucHV0WyAwIF0uaWQgKyAiJ10iKSwKCQkJaW5wdXR0eXBlID0gaW5wdXQuYXR0ciggInR5cGUiICksCgkJCWNoZWNrZWRTdGF0ZSA9IGlucHV0dHlwZSArICItb24iLAoJCQl1bmNoZWNrZWRTdGF0ZSA9IGlucHV0dHlwZSArICItb2ZmIiwKCQkJaWNvbiA9IGlucHV0LnBhcmVudHMoICI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiICkubGVuZ3RoID8gdW5kZWZpbmVkIDogdW5jaGVja2VkU3RhdGUsCgkJCWFjdGl2ZUJ0biA9IGljb24gPyAiIiA6ICIgIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLAoJCQljaGVja2VkQ2xhc3MgPSAidWktIiArIGNoZWNrZWRTdGF0ZSArIGFjdGl2ZUJ0biwKCQkJdW5jaGVja2VkQ2xhc3MgPSAidWktIiArIHVuY2hlY2tlZFN0YXRlLAoJCQljaGVja2VkaWNvbiA9ICJ1aS1pY29uLSIgKyBjaGVja2VkU3RhdGUsCgkJCXVuY2hlY2tlZGljb24gPSAidWktaWNvbi0iICsgdW5jaGVja2VkU3RhdGU7CgoJCWlmICggaW5wdXR0eXBlICE9PSAiY2hlY2tib3giICYmIGlucHV0dHlwZSAhPT0gInJhZGlvIiApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gRXhwb3NlIGZvciBvdGhlciBtZXRob2RzCgkJJC5leHRlbmQoIHRoaXMsIHsKCQkJbGFiZWw6IGxhYmVsLAoJCQlpbnB1dHR5cGU6IGlucHV0dHlwZSwKCQkJY2hlY2tlZENsYXNzOiBjaGVja2VkQ2xhc3MsCgkJCXVuY2hlY2tlZENsYXNzOiB1bmNoZWNrZWRDbGFzcywKCQkJY2hlY2tlZGljb246IGNoZWNrZWRpY29uLAoJCQl1bmNoZWNrZWRpY29uOiB1bmNoZWNrZWRpY29uCgkJfSk7CgoJCS8vIElmIHRoZXJlJ3Mgbm8gc2VsZWN0ZWQgdGhlbWUuLi4KCQlpZiggIXRoaXMub3B0aW9ucy50aGVtZSApIHsKCQkJdGhpcy5vcHRpb25zLnRoZW1lID0gdGhpcy5lbGVtZW50LmpxbURhdGEoICJ0aGVtZSIgKTsKCQl9CgoJCWxhYmVsLmJ1dHRvbk1hcmt1cCh7CgkJCXRoZW1lOiB0aGlzLm9wdGlvbnMudGhlbWUsCgkJCWljb246IGljb24sCgkJCXNoYWRvdzogZmFsc2UKCQl9KTsKCgkJLy8gV3JhcCB0aGUgaW5wdXQgKyBsYWJlbCBpbiBhIGRpdgoJCWlucHV0LmFkZCggbGFiZWwgKQoJCQkud3JhcEFsbCggIjxkaXYgY2xhc3M9J3VpLSIgKyBpbnB1dHR5cGUgKyAiJz48L2Rpdj4iICk7CgoJCWxhYmVsLmJpbmQoewoJCQl2bW91c2VvdmVyOiBmdW5jdGlvbigpIHsKCQkJCWlmICggJCggdGhpcyApLnBhcmVudCgpLmlzKCAiLnVpLWRpc2FibGVkIiApICkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfSwKCgkJCXZjbGljazogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCBpbnB1dC5pcyggIjpkaXNhYmxlZCIgKSApIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQlzZWxmLl9jYWNoZVZhbHMoKTsKCgkJCQlpbnB1dC5wcm9wKCAiY2hlY2tlZCIsIGlucHV0dHlwZSA9PT0gInJhZGlvIiAmJiB0cnVlIHx8ICFpbnB1dC5wcm9wKCAiY2hlY2tlZCIgKSApOwoKCQkJCS8vIElucHV0IHNldCBmb3IgY29tbW9uIHJhZGlvIGJ1dHRvbnMgd2lsbCBjb250YWluIGFsbCB0aGUgcmFkaW8KCQkJCS8vIGJ1dHRvbnMsIGJ1dCB3aWxsIG5vdCBmb3IgY2hlY2tib3hlcy4gY2xlYXJpbmcgdGhlIGNoZWNrZWQgc3RhdHVzCgkJCQkvLyBvZiBvdGhlciByYWRpb3MgZW5zdXJlcyB0aGUgYWN0aXZlIGJ1dHRvbiBzdGF0ZSBpcyBhcHBsaWVkIHByb3Blcmx5CgkJCQlzZWxmLl9nZXRJbnB1dFNldCgpLm5vdCggaW5wdXQgKS5wcm9wKCAiY2hlY2tlZCIsIGZhbHNlICk7CgoJCQkJc2VsZi5fdXBkYXRlQWxsKCk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJfSk7CgoJCWlucHV0CgkJCS5iaW5kKHsKCQkJCXZtb3VzZWRvd246IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuX2NhY2hlVmFscygpOwoJCQkJfSwKCgkJCQl2Y2xpY2s6IGZ1bmN0aW9uKCkgewoKCQkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJCQkvLyBBZGRzIGNoZWNrZWQgYXR0cmlidXRlIHRvIGNoZWNrZWQgaW5wdXQgd2hlbiBrZXlib2FyZCBpcyB1c2VkCgkJCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApICkgewoKCQkJCQkJJHRoaXMucHJvcCggImNoZWNrZWQiLCB0cnVlKTsKCQkJCQkJc2VsZi5fZ2V0SW5wdXRTZXQoKS5ub3QoJHRoaXMpLnByb3AoICJjaGVja2VkIiwgZmFsc2UgKTsKCQkJCQl9IGVsc2UgewoKCQkJCQkJJHRoaXMucHJvcCggImNoZWNrZWQiLCBmYWxzZSApOwoJCQkJCX0KCgkJCQkJc2VsZi5fdXBkYXRlQWxsKCk7CgkJCQl9LAoKCQkJCWZvY3VzOiBmdW5jdGlvbigpIHsKCQkJCQlsYWJlbC5hZGRDbGFzcyggInVpLWZvY3VzIiApOwoJCQkJfSwKCgkJCQlibHVyOiBmdW5jdGlvbigpIHsKCQkJCQlsYWJlbC5yZW1vdmVDbGFzcyggInVpLWZvY3VzIiApOwoJCQkJfQoJCQl9KTsKCgkJdGhpcy5yZWZyZXNoKCk7Cgl9LAoKCV9jYWNoZVZhbHM6IGZ1bmN0aW9uKCkgewoJCXRoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyICR0aGlzID0gJCh0aGlzKTsKCgkJCSR0aGlzLmpxbURhdGEoICJjYWNoZVZhbCIsICR0aGlzLmlzKCAiOmNoZWNrZWQiICkgKTsKCQl9KTsKCX0sCgoJLy9yZXR1cm5zIGVpdGhlciBhIHNldCBvZiByYWRpb3Mgd2l0aCB0aGUgc2FtZSBuYW1lIGF0dHJpYnV0ZSwgb3IgYSBzaW5nbGUgY2hlY2tib3gKCV9nZXRJbnB1dFNldDogZnVuY3Rpb24oKXsKICAgICAgICBpZih0aGlzLmlucHV0dHlwZSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xvc2VzdCggImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIiApCgkJCQkuZmluZCggImlucHV0W25hbWU9JyIrIHRoaXMuZWxlbWVudC5hdHRyKCAibmFtZSIgKSArIiddW3R5cGU9JyIrIHRoaXMuaW5wdXR0eXBlICsiJ10iICk7Cgl9LAoKCV91cGRhdGVBbGw6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpczsKCgkJdGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApIHx8IHNlbGYuaW5wdXR0eXBlID09PSAiY2hlY2tib3giICkgewoJCQkJJHRoaXMudHJpZ2dlciggImNoYW5nZSIgKTsKCQkJfQoJCX0pCgkJLmNoZWNrYm94cmFkaW8oICJyZWZyZXNoIiApOwoJfSwKCglyZWZyZXNoOiBmdW5jdGlvbigpIHsKCQl2YXIgaW5wdXQgPSB0aGlzLmVsZW1lbnQsCgkJCWxhYmVsID0gdGhpcy5sYWJlbCwKCQkJaWNvbiA9IGxhYmVsLmZpbmQoICIudWktaWNvbiIgKTsKCgkJLy8gaW5wdXRbMF0uY2hlY2tlZCBleHBhbmRvIGRvZXNuJ3QgYWx3YXlzIHJlcG9ydCB0aGUgcHJvcGVyIHZhbHVlCgkJLy8gZm9yIGNoZWNrZWQ9J2NoZWNrZWQnCgkJaWYgKCAkKCBpbnB1dFsgMCBdICkucHJvcCggImNoZWNrZWQiICkgKSB7CgoJCQlsYWJlbC5hZGRDbGFzcyggdGhpcy5jaGVja2VkQ2xhc3MgKS5yZW1vdmVDbGFzcyggdGhpcy51bmNoZWNrZWRDbGFzcyApOwoJCQlpY29uLmFkZENsYXNzKCB0aGlzLmNoZWNrZWRpY29uICkucmVtb3ZlQ2xhc3MoIHRoaXMudW5jaGVja2VkaWNvbiApOwoKCQl9IGVsc2UgewoKCQkJbGFiZWwucmVtb3ZlQ2xhc3MoIHRoaXMuY2hlY2tlZENsYXNzICkuYWRkQ2xhc3MoIHRoaXMudW5jaGVja2VkQ2xhc3MgKTsKCQkJaWNvbi5yZW1vdmVDbGFzcyggdGhpcy5jaGVja2VkaWNvbiApLmFkZENsYXNzKCB0aGlzLnVuY2hlY2tlZGljb24gKTsKCQl9CgoJCWlmICggaW5wdXQuaXMoICI6ZGlzYWJsZWQiICkgKSB7CgkJCXRoaXMuZGlzYWJsZSgpOwoJCX0gZWxzZSB7CgkJCXRoaXMuZW5hYmxlKCk7CgkJfQoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLmVsZW1lbnQucHJvcCggImRpc2FibGVkIiwgdHJ1ZSApLnBhcmVudCgpLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICk7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LnByb3AoICJkaXNhYmxlZCIsIGZhbHNlICkucGFyZW50KCkucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsKCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkKCQkubm90KCAiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiICkKCQkuY2hlY2tib3hyYWRpbygpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJidXR0b24iIHBsdWdpbiAtIGxpbmtzIHRoYXQgcHJveHkgdG8gbmF0aXZlIGlucHV0L2J1dHRvbnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5idXR0b24iLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQl0aGVtZTogbnVsbCwKCQlpY29uOiBudWxsLAoJCWljb25wb3M6IG51bGwsCgkJaW5saW5lOiBudWxsLAoJCWNvcm5lcnM6IHRydWUsCgkJc2hhZG93OiB0cnVlLAoJCWljb25zaGFkb3c6IHRydWUsCgkJaW5pdFNlbGVjdG9yOiAiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciAkZWwgPSB0aGlzLmVsZW1lbnQsCgkJCW8gPSB0aGlzLm9wdGlvbnMsCgkJCXR5cGU7CgoJCS8vIEFkZCBBUklBIHJvbGUKCQl0aGlzLmJ1dHRvbiA9ICQoICI8ZGl2PjwvZGl2PiIgKQoJCQkudGV4dCggJGVsLnRleHQoKSB8fCAkZWwudmFsKCkgKQoJCQkuYnV0dG9uTWFya3VwKHsKCQkJCXRoZW1lOiBvLnRoZW1lLAoJCQkJaWNvbjogby5pY29uLAoJCQkJaWNvbnBvczogby5pY29ucG9zLAoJCQkJaW5saW5lOiBvLmlubGluZSwKCQkJCWNvcm5lcnM6IG8uY29ybmVycywKCQkJCXNoYWRvdzogby5zaGFkb3csCgkJCQlpY29uc2hhZG93OiBvLmljb25zaGFkb3cKCQkJfSkKCQkJLmluc2VydEJlZm9yZSggJGVsICkKCQkJLmFwcGVuZCggJGVsLmFkZENsYXNzKCAidWktYnRuLWhpZGRlbiIgKSApOwoKCQkvLyBBZGQgaGlkZGVuIGlucHV0IGR1cmluZyBzdWJtaXQKCQl0eXBlID0gJGVsLmF0dHIoICJ0eXBlIiApOwoKCQlpZiAoIHR5cGUgIT09ICJidXR0b24iICYmIHR5cGUgIT09ICJyZXNldCIgKSB7CgoJCQkkZWwuYmluZCggInZjbGljayIsIGZ1bmN0aW9uKCkgewoKCQkJCXZhciAkYnV0dG9uUGxhY2Vob2xkZXIgPSAkKCAiPGlucHV0PiIsIHsKCQkJCQkJCXR5cGU6ICJoaWRkZW4iLAoJCQkJCQkJbmFtZTogJGVsLmF0dHIoICJuYW1lIiApLAoJCQkJCQkJdmFsdWU6ICRlbC5hdHRyKCAidmFsdWUiICkKCQkJCQkJfSkKCQkJCQkJLmluc2VydEJlZm9yZSggJGVsICk7CgoJCQkJLy8gQmluZCB0byBkb2MgdG8gcmVtb3ZlIGFmdGVyIHN1Ym1pdCBoYW5kbGluZwoJCQkJJCggZG9jdW1lbnQgKS5zdWJtaXQoZnVuY3Rpb24oKXsKCQkJCQkgJGJ1dHRvblBsYWNlaG9sZGVyLnJlbW92ZSgpOwoJCQkJfSk7CgkJCX0pOwoJCX0KCgkJdGhpcy5yZWZyZXNoKCk7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIGZhbHNlICk7CgkJdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKS5hdHRyKCAiYXJpYS1kaXNhYmxlZCIsIGZhbHNlICk7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsKCX0sCgoJZGlzYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIHRydWUgKTsKCQl0aGlzLmJ1dHRvbi5hZGRDbGFzcyggInVpLWRpc2FibGVkIiApLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgdHJ1ZSApOwoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHRydWUgKTsKCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oKSB7CgkJaWYgKCB0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiApICkgewoJCQl0aGlzLmRpc2FibGUoKTsKCQl9IGVsc2UgewoJCQl0aGlzLmVuYWJsZSgpOwoJCX0KCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKQoJCS5ub3QoICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS5idXR0b24oKTsKfSk7Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJzbGlkZXIiIHBsdWdpbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5zbGlkZXIiLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQl0aGVtZTogbnVsbCwKCQl0cmFja1RoZW1lOiBudWxsLAoJCWRpc2FibGVkOiBmYWxzZSwKCQlpbml0U2VsZWN0b3I6ICJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCS8vIFRPRE86IEVhY2ggb2YgdGhlc2Ugc2hvdWxkIGhhdmUgY29tbWVudHMgZXhwbGFpbiB3aGF0IHRoZXkncmUgZm9yCgkJdmFyIHNlbGYgPSB0aGlzLAoKCQkJY29udHJvbCA9IHRoaXMuZWxlbWVudCwKCgkJCXBhcmVudFRoZW1lID0gY29udHJvbC5wYXJlbnRzKCAiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iICkuZXEoIDAgKSwKCgkJCXBhcmVudFRoZW1lID0gcGFyZW50VGhlbWUubGVuZ3RoID8gcGFyZW50VGhlbWUuYXR0ciggImNsYXNzIiApLm1hdGNoKCAvdWktKGJhcnxib2R5KS0oW2Etel0pLyApWyAyIF0gOiAiYyIsCgoJCQl0aGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSA/IHRoaXMub3B0aW9ucy50aGVtZSA6IHBhcmVudFRoZW1lLAoKCQkJdHJhY2tUaGVtZSA9IHRoaXMub3B0aW9ucy50cmFja1RoZW1lID8gdGhpcy5vcHRpb25zLnRyYWNrVGhlbWUgOiBwYXJlbnRUaGVtZSwKCgkJCWNUeXBlID0gY29udHJvbFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgoJCQlzZWxlY3RDbGFzcyA9ICggY1R5cGUgPT0gInNlbGVjdCIgKSA/ICJ1aS1zbGlkZXItc3dpdGNoIiA6ICIiLAoKCQkJY29udHJvbElEID0gY29udHJvbC5hdHRyKCAiaWQiICksCgoJCQlsYWJlbElEID0gY29udHJvbElEICsgIi1sYWJlbCIsCgoJCQlsYWJlbCA9ICQoICJbZm9yPSciKyBjb250cm9sSUQgKyInXSIgKS5hdHRyKCAiaWQiLCBsYWJlbElEICksCgoJCQl2YWwgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAgY1R5cGUgPT0gImlucHV0IiAgPyBwYXJzZUZsb2F0KCBjb250cm9sLnZhbCgpICkgOiBjb250cm9sWzBdLnNlbGVjdGVkSW5kZXg7CgkJCX0sCgoJCQltaW4gPSAgY1R5cGUgPT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggIm1pbiIgKSApIDogMCwKCgkJCW1heCA9ICBjVHlwZSA9PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC5hdHRyKCAibWF4IiApICkgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkubGVuZ3RoLTEsCgoJCQlzdGVwID0gd2luZG93LnBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggInN0ZXAiICkgfHwgMSApLAoKCQkJc2xpZGVyID0gJCggIjxkaXYgY2xhc3M9J3VpLXNsaWRlciAiICsgc2VsZWN0Q2xhc3MgKyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lICsKCQkJCQkJCQkJIiB1aS1idG4tY29ybmVyLWFsbCcgcm9sZT0nYXBwbGljYXRpb24nPjwvZGl2PiIgKSwKCgkJCWhhbmRsZSA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSc+PC9hPiIgKQoJCQkJLmFwcGVuZFRvKCBzbGlkZXIgKQoJCQkJLmJ1dHRvbk1hcmt1cCh7IGNvcm5lcnM6IHRydWUsIHRoZW1lOiB0aGVtZSwgc2hhZG93OiB0cnVlIH0pCgkJCQkuYXR0cih7CgkJCQkJInJvbGUiOiAic2xpZGVyIiwKCQkJCQkiYXJpYS12YWx1ZW1pbiI6IG1pbiwKCQkJCQkiYXJpYS12YWx1ZW1heCI6IG1heCwKCQkJCQkiYXJpYS12YWx1ZW5vdyI6IHZhbCgpLAoJCQkJCSJhcmlhLXZhbHVldGV4dCI6IHZhbCgpLAoJCQkJCSJ0aXRsZSI6IHZhbCgpLAoJCQkJCSJhcmlhLWxhYmVsbGVkYnkiOiBsYWJlbElECgkJCQl9KSwKCQkJb3B0aW9uczsKCgkJJC5leHRlbmQoIHRoaXMsIHsKCQkJc2xpZGVyOiBzbGlkZXIsCgkJCWhhbmRsZTogaGFuZGxlLAoJCQlkcmFnZ2luZzogZmFsc2UsCgkJCWJlZm9yZVN0YXJ0OiBudWxsCgkJfSk7CgoJCWlmICggY1R5cGUgPT0gInNlbGVjdCIgKSB7CgoJCQlzbGlkZXIud3JhcElubmVyKCAiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWlubmVyb2Zmc2V0Jz48L2Rpdj4iICk7CgoJCQlvcHRpb25zID0gY29udHJvbC5maW5kKCAib3B0aW9uIiApOwoKCQkJY29udHJvbC5maW5kKCAib3B0aW9uIiApLmVhY2goZnVuY3Rpb24oIGkgKSB7CgoJCQkJdmFyIHNpZGUgPSAhaSA/ICJiIjoiYSIsCgkJCQkJY29ybmVycyA9ICFpID8gInJpZ2h0IiA6ImxlZnQiLAoJCQkJCXRoZW1lID0gIWkgPyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lIDoiIHVpLWJ0bi1hY3RpdmUiOwoKCQkJCSQoICI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItbGFiZWxiZyB1aS1zbGlkZXItbGFiZWxiZy0iICsgc2lkZSArIHRoZW1lICsgIiB1aS1idG4tY29ybmVyLSIgKyBjb3JuZXJzICsgIic+PC9kaXY+IiApCgkJCQkJLnByZXBlbmRUbyggc2xpZGVyICk7CgoJCQkJJCggIjxzcGFuIGNsYXNzPSd1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIgKyBzaWRlICsgdGhlbWUgKyAiIHVpLWJ0bi1jb3JuZXItIiArIGNvcm5lcnMgKyAiJyByb2xlPSdpbWcnPiIgKyAkKCB0aGlzICkudGV4dCgpICsgIjwvc3Bhbj4iICkKCQkJCQkucHJlcGVuZFRvKCBoYW5kbGUgKTsKCQkJfSk7CgoJCX0KCgkJbGFiZWwuYWRkQ2xhc3MoICJ1aS1zbGlkZXIiICk7CgoJCS8vIG1vbml0b3IgdGhlIGlucHV0IGZvciB1cGRhdGVkIHZhbHVlcwoJCWNvbnRyb2wuYWRkQ2xhc3MoIGNUeXBlID09PSAiaW5wdXQiID8gInVpLXNsaWRlci1pbnB1dCIgOiAidWktc2xpZGVyLXN3aXRjaCIgKQoJCQkuY2hhbmdlKCBmdW5jdGlvbigpIHsKCQkJCXNlbGYucmVmcmVzaCggdmFsKCksIHRydWUgKTsKCQkJfSkKCQkJLmtleXVwKCBmdW5jdGlvbigpIHsgLy8gbmVjZXNzYXJ5PwoJCQkJc2VsZi5yZWZyZXNoKCB2YWwoKSwgdHJ1ZSwgdHJ1ZSApOwoJCQl9KQoJCQkuYmx1ciggZnVuY3Rpb24oKSB7CgkJCQlzZWxmLnJlZnJlc2goIHZhbCgpLCB0cnVlICk7CgkJCX0pOwoKCQkvLyBwcmV2ZW50IHNjcmVlbiBkcmFnIHdoZW4gc2xpZGVyIGFjdGl2YXRlZAoJCSQoIGRvY3VtZW50ICkuYmluZCggInZtb3VzZW1vdmUiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCWlmICggc2VsZi5kcmFnZ2luZyApIHsKCQkJCXNlbGYucmVmcmVzaCggZXZlbnQgKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoJCX0pOwoKCQlzbGlkZXIuYmluZCggInZtb3VzZWRvd24iLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXNlbGYuZHJhZ2dpbmcgPSB0cnVlOwoKCQkJaWYgKCBjVHlwZSA9PT0gInNlbGVjdCIgKSB7CgkJCQlzZWxmLmJlZm9yZVN0YXJ0ID0gY29udHJvbFswXS5zZWxlY3RlZEluZGV4OwoJCQl9CgkJCXNlbGYucmVmcmVzaCggZXZlbnQgKTsKCQkJcmV0dXJuIGZhbHNlOwoJCX0pOwoKCQlzbGlkZXIuYWRkKCBkb2N1bWVudCApCgkJCS5iaW5kKCAidm1vdXNldXAiLCBmdW5jdGlvbigpIHsKCQkJCWlmICggc2VsZi5kcmFnZ2luZyApIHsKCgkJCQkJc2VsZi5kcmFnZ2luZyA9IGZhbHNlOwoKCQkJCQlpZiAoIGNUeXBlID09PSAic2VsZWN0IiApIHsKCgkJCQkJCWlmICggc2VsZi5iZWZvcmVTdGFydCA9PT0gY29udHJvbFsgMCBdLnNlbGVjdGVkSW5kZXggKSB7CgkJCQkJCQkvL3RhcCBvY2N1cnJlZCwgYnV0IHZhbHVlIGRpZG4ndCBjaGFuZ2UuIGZsaXAgaXQhCgkJCQkJCQlzZWxmLnJlZnJlc2goICFzZWxmLmJlZm9yZVN0YXJ0ID8gMSA6IDAgKTsKCQkJCQkJfQoJCQkJCQl2YXIgY3VydmFsID0gdmFsKCk7CgkJCQkJCXZhciBzbmFwcGVkID0gTWF0aC5yb3VuZCggY3VydmFsIC8gKCBtYXggLSBtaW4gKSAqIDEwMCApOwoJCQkJCQloYW5kbGUKCQkJCQkJCS5hZGRDbGFzcyggInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciICkKCQkJCQkJCS5jc3MoICJsZWZ0Iiwgc25hcHBlZCArICIlIiApCgkJCQkJCQkuYW5pbWF0aW9uQ29tcGxldGUoIGZ1bmN0aW9uKCkgewoJCQkJCQkJCWhhbmRsZS5yZW1vdmVDbGFzcyggInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciICk7CgkJCQkJCQl9KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfQoJCQl9KTsKCgkJc2xpZGVyLmluc2VydEFmdGVyKCBjb250cm9sICk7CgoJCS8vIE5PVEUgZm9yY2UgZm9jdXMgb24gaGFuZGxlCgkJdGhpcy5oYW5kbGUKCQkJLmJpbmQoICJ2bW91c2Vkb3duIiwgZnVuY3Rpb24oKSB7CgkJCQkkKCB0aGlzICkuZm9jdXMoKTsKCQkJfSkKCQkJLmJpbmQoICJ2Y2xpY2siLCBmYWxzZSApOwoKCQl0aGlzLmhhbmRsZQoJCQkuYmluZCggImtleWRvd24iLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQl2YXIgaW5kZXggPSB2YWwoKTsKCgkJCQlpZiAoIHNlbGYub3B0aW9ucy5kaXNhYmxlZCApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJLy8gSW4gYWxsIGNhc2VzIHByZXZlbnQgdGhlIGRlZmF1bHQgYW5kIG1hcmsgdGhlIGhhbmRsZSBhcyBhY3RpdmUKCQkJCXN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkhPTUU6CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkVORDoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9VUDoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOgoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5VUDoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUklHSFQ6CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkRPV046CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkxFRlQ6CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCgkJCQkJaWYgKCAhc2VsZi5fa2V5U2xpZGluZyApIHsKCQkJCQkJc2VsZi5fa2V5U2xpZGluZyA9IHRydWU7CgkJCQkJCSQoIHRoaXMgKS5hZGRDbGFzcyggInVpLXN0YXRlLWFjdGl2ZSIgKTsKCQkJCQl9CgkJCQkJYnJlYWs7CgkJCQl9CgoJCQkJLy8gbW92ZSB0aGUgc2xpZGVyIGFjY29yZGluZyB0byB0aGUga2V5cHJlc3MKCQkJCXN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkhPTUU6CgkJCQkJc2VsZi5yZWZyZXNoKCBtaW4gKTsKCQkJCQlicmVhazsKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRU5EOgoJCQkJCXNlbGYucmVmcmVzaCggbWF4ICk7CgkJCQkJYnJlYWs7CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlVQOgoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5SSUdIVDoKCQkJCQlzZWxmLnJlZnJlc2goIGluZGV4ICsgc3RlcCApOwoJCQkJCWJyZWFrOwoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkRPV046CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLkxFRlQ6CgkJCQkJc2VsZi5yZWZyZXNoKCBpbmRleCAtIHN0ZXAgKTsKCQkJCQlicmVhazsKCQkJCX0KCQkJfSkgLy8gcmVtb3ZlIGFjdGl2ZSBtYXJrCgkJCS5rZXl1cCggZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCBzZWxmLl9rZXlTbGlkaW5nICkgewoJCQkJCXNlbGYuX2tleVNsaWRpbmcgPSBmYWxzZTsKCQkJCQkkKCB0aGlzICkucmVtb3ZlQ2xhc3MoICJ1aS1zdGF0ZS1hY3RpdmUiICk7CgkJCQl9CgkJCX0pOwoKCQl0aGlzLnJlZnJlc2godW5kZWZpbmVkLCB1bmRlZmluZWQsIHRydWUpOwoJfSwKCglyZWZyZXNoOiBmdW5jdGlvbiggdmFsLCBpc2Zyb21Db250cm9sLCBwcmV2ZW50SW5wdXRVcGRhdGUgKSB7CgkJaWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7IHJldHVybjsgfQoKCQl2YXIgY29udHJvbCA9IHRoaXMuZWxlbWVudCwgcGVyY2VudCwKCQkJY1R5cGUgPSBjb250cm9sWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgkJCW1pbiA9IGNUeXBlID09PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC5hdHRyKCAibWluIiApICkgOiAwLAoJCQltYXggPSBjVHlwZSA9PT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggIm1heCIgKSApIDogY29udHJvbC5maW5kKCAib3B0aW9uIiApLmxlbmd0aCAtIDE7CgoJCWlmICggdHlwZW9mIHZhbCA9PT0gIm9iamVjdCIgKSB7CgkJCXZhciBkYXRhID0gdmFsLAoJCQkJLy8gYSBzbGlnaHQgdG9sZXJhbmNlIGhlbHBlZCBnZXQgdG8gdGhlIGVuZHMgb2YgdGhlIHNsaWRlcgoJCQkJdG9sID0gODsKCQkJaWYgKCAhdGhpcy5kcmFnZ2luZyB8fAoJCQkJCWRhdGEucGFnZVggPCB0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0IC0gdG9sIHx8CgkJCQkJZGF0YS5wYWdlWCA+IHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQgKyB0aGlzLnNsaWRlci53aWR0aCgpICsgdG9sICkgewoJCQkJcmV0dXJuOwoJCQl9CgkJCXBlcmNlbnQgPSBNYXRoLnJvdW5kKCAoICggZGF0YS5wYWdlWCAtIHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQgKSAvIHRoaXMuc2xpZGVyLndpZHRoKCkgKSAqIDEwMCApOwoJCX0gZWxzZSB7CgkJCWlmICggdmFsID09IG51bGwgKSB7CgkJCQl2YWwgPSBjVHlwZSA9PT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wudmFsKCkgKSA6IGNvbnRyb2xbMF0uc2VsZWN0ZWRJbmRleDsKCQkJfQoJCQlwZXJjZW50ID0gKCBwYXJzZUZsb2F0KCB2YWwgKSAtIG1pbiApIC8gKCBtYXggLSBtaW4gKSAqIDEwMDsKCQl9CgoJCWlmICggaXNOYU4oIHBlcmNlbnQgKSApIHsKCQkJcmV0dXJuOwoJCX0KCgkJaWYgKCBwZXJjZW50IDwgMCApIHsKCQkJcGVyY2VudCA9IDA7CgkJfQoKCQlpZiAoIHBlcmNlbnQgPiAxMDAgKSB7CgkJCXBlcmNlbnQgPSAxMDA7CgkJfQoKCQl2YXIgbmV3dmFsID0gTWF0aC5yb3VuZCggKCBwZXJjZW50IC8gMTAwICkgKiAoIG1heCAtIG1pbiApICkgKyBtaW47CgoJCWlmICggbmV3dmFsIDwgbWluICkgewoJCQluZXd2YWwgPSBtaW47CgkJfQoKCQlpZiAoIG5ld3ZhbCA+IG1heCApIHsKCQkJbmV3dmFsID0gbWF4OwoJCX0KCgkJLy8gRmxpcCB0aGUgc3RhY2sgb2YgdGhlIGJnIGNvbG9ycwoJCWlmICggcGVyY2VudCA+IDYwICYmIGNUeXBlID09PSAic2VsZWN0IiApIHsKCQkJLy8gVE9ETzogRGVhZCBwYXRoPwoJCX0KCQl0aGlzLmhhbmRsZS5jc3MoICJsZWZ0IiwgcGVyY2VudCArICIlIiApOwoJCXRoaXMuaGFuZGxlLmF0dHIoIHsKCQkJCSJhcmlhLXZhbHVlbm93IjogY1R5cGUgPT09ICJpbnB1dCIgPyBuZXd2YWwgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkuZXEoIG5ld3ZhbCApLmF0dHIoICJ2YWx1ZSIgKSwKCQkJCSJhcmlhLXZhbHVldGV4dCI6IGNUeXBlID09PSAiaW5wdXQiID8gbmV3dmFsIDogY29udHJvbC5maW5kKCAib3B0aW9uIiApLmVxKCBuZXd2YWwgKS50ZXh0KCksCgkJCQl0aXRsZTogbmV3dmFsCgkJCX0pOwoKCQkvLyBhZGQvcmVtb3ZlIGNsYXNzZXMgZm9yIGZsaXAgdG9nZ2xlIHN3aXRjaAoJCWlmICggY1R5cGUgPT09ICJzZWxlY3QiICkgewoJCQlpZiAoIG5ld3ZhbCA9PT0gMCApIHsKCQkJCXRoaXMuc2xpZGVyLmFkZENsYXNzKCAidWktc2xpZGVyLXN3aXRjaC1hIiApCgkJCQkJLnJlbW92ZUNsYXNzKCAidWktc2xpZGVyLXN3aXRjaC1iIiApOwoJCQl9IGVsc2UgewoJCQkJdGhpcy5zbGlkZXIuYWRkQ2xhc3MoICJ1aS1zbGlkZXItc3dpdGNoLWIiICkKCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zbGlkZXItc3dpdGNoLWEiICk7CgkJCX0KCQl9CgoJCWlmICggIXByZXZlbnRJbnB1dFVwZGF0ZSApIHsKCQkJLy8gdXBkYXRlIGNvbnRyb2wicyB2YWx1ZQoJCQlpZiAoIGNUeXBlID09PSAiaW5wdXQiICkgewoJCQkJY29udHJvbC52YWwoIG5ld3ZhbCApOwoJCQl9IGVsc2UgewoJCQkJY29udHJvbFsgMCBdLnNlbGVjdGVkSW5kZXggPSBuZXd2YWw7CgkJCX0KCQkJaWYgKCAhaXNmcm9tQ29udHJvbCApIHsKCQkJCWNvbnRyb2wudHJpZ2dlciggImNoYW5nZSIgKTsKCQkJfQoJCX0KCX0sCgoJZW5hYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiwgZmFsc2UgKTsKCQl0aGlzLnNsaWRlci5yZW1vdmVDbGFzcyggInVpLWRpc2FibGVkIiApLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgZmFsc2UgKTsKCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCBmYWxzZSApOwoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiwgdHJ1ZSApOwoJCXRoaXMuc2xpZGVyLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB0cnVlICk7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgdHJ1ZSApOwoJfQoKfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoKCSQoICQubW9iaWxlLnNsaWRlci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkKCQkubm90KCAiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiICkKCQkuc2xpZGVyKCk7Cgp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogInRleHRpbnB1dCIgcGx1Z2luIGZvciB0ZXh0IGlucHV0cywgdGV4dGFyZWFzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUudGV4dGlucHV0IiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6IG51bGwsCgkJaW5pdFNlbGVjdG9yOiAiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSIKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCXZhciBpbnB1dCA9IHRoaXMuZWxlbWVudCwKCQkJbyA9IHRoaXMub3B0aW9ucywKCQkJdGhlbWUgPSBvLnRoZW1lLAoJCQl0aGVtZWRQYXJlbnQsIHRoZW1lY2xhc3MsIHRoZW1lTGV0dGVyLCBmb2N1c2VkRWwsIGNsZWFyYnRuOwoKCQlpZiAoICF0aGVtZSApIHsKCQkJdGhlbWVkUGFyZW50ID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoICJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIgKTsKCQkJdGhlbWVMZXR0ZXIgPSB0aGVtZWRQYXJlbnQubGVuZ3RoICYmIC91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoIHRoZW1lZFBhcmVudC5hdHRyKCAiY2xhc3MiICkgKTsKCQkJdGhlbWUgPSB0aGVtZUxldHRlciAmJiB0aGVtZUxldHRlclsyXSB8fCAiYyI7CgkJfQoKCQl0aGVtZWNsYXNzID0gIiB1aS1ib2R5LSIgKyB0aGVtZTsKCgkJJCggImxhYmVsW2Zvcj0nIiArIGlucHV0LmF0dHIoICJpZCIgKSArICInXSIgKS5hZGRDbGFzcyggInVpLWlucHV0LXRleHQiICk7CgoJCWlucHV0LmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIisgby50aGVtZSApOwoKCQlmb2N1c2VkRWwgPSBpbnB1dDsKCQkKCQkvLyBYWFg6IFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBpc3N1ZSA3ODUuIFR1cm4gb2ZmIGF1dG9jb3JyZWN0IGFuZAoJCS8vICAgICAgYXV0b2NvbXBsZXRlIHNpbmNlIHRoZSBwb3B1cCB0aGV5IHVzZSBjYW4ndCBiZSBkaXNtaXNzZWQgYnkKCQkvLyAgICAgIHRoZSB1c2VyLiBOb3RlIHRoYXQgd2UgdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBmZWF0dXJlCgkJLy8gICAgICBieSBsb29raW5nIGZvciB0aGUgYXV0b2NvcnJlY3QgcHJvcGVydHkgb24gdGhlIGlucHV0IGVsZW1lbnQuCgkJaWYgKCB0eXBlb2YgaW5wdXRbMF0uYXV0b2NvcnJlY3QgIT09ICJ1bmRlZmluZWQiICkgewoJCQkvLyBTZXQgdGhlIGF0dHJpYnV0ZSBpbnN0ZWFkIG9mIHRoZSBwcm9wZXJ0eSBqdXN0IGluIGNhc2UgdGhlcmUKCQkJLy8gaXMgY29kZSB0aGF0IGF0dGVtcHRzIHRvIG1ha2UgbW9kaWZpY2F0aW9ucyB2aWEgSFRNTC4KCQkJaW5wdXRbMF0uc2V0QXR0cmlidXRlKCAiYXV0b2NvcnJlY3QiLCAib2ZmIiApOwoJCQlpbnB1dFswXS5zZXRBdHRyaWJ1dGUoICJhdXRvY29tcGxldGUiLCAib2ZmIiApOwoJCX0KCQkKCgkJLy8ic2VhcmNoIiBpbnB1dCB3aWRnZXQKCQlpZiAoIGlucHV0LmlzKCAiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiApICkgewoKCQkJZm9jdXNlZEVsID0gaW5wdXQud3JhcCggIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIiArIHRoZW1lY2xhc3MgKyAiJz48L2Rpdj4iICkucGFyZW50KCk7CgkJCWNsZWFyYnRuID0gJCggIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9J2NsZWFyIHRleHQnPmNsZWFyIHRleHQ8L2E+IiApCgkJCQkudGFwKGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCQlpbnB1dC52YWwoICIiICkuZm9jdXMoKTsKCQkJCQlpbnB1dC50cmlnZ2VyKCAiY2hhbmdlIiApOwoJCQkJCWNsZWFyYnRuLmFkZENsYXNzKCAidWktaW5wdXQtY2xlYXItaGlkZGVuIiApOwoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQl9KQoJCQkJLmFwcGVuZFRvKCBmb2N1c2VkRWwgKQoJCQkJLmJ1dHRvbk1hcmt1cCh7CgkJCQkJaWNvbjogImRlbGV0ZSIsCgkJCQkJaWNvbnBvczogIm5vdGV4dCIsCgkJCQkJY29ybmVyczogdHJ1ZSwKCQkJCQlzaGFkb3c6IHRydWUKCQkJCX0pOwoKCQkJZnVuY3Rpb24gdG9nZ2xlQ2xlYXIoKSB7CgkJCQlpZiAoICFpbnB1dC52YWwoKSApIHsKCQkJCQljbGVhcmJ0bi5hZGRDbGFzcyggInVpLWlucHV0LWNsZWFyLWhpZGRlbiIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJY2xlYXJidG4ucmVtb3ZlQ2xhc3MoICJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iICk7CgkJCQl9CgkJCX0KCgkJCXRvZ2dsZUNsZWFyKCk7CgoJCQlpbnB1dC5rZXl1cCggdG9nZ2xlQ2xlYXIgKQoJCQkJLmZvY3VzKCB0b2dnbGVDbGVhciApOwoKCQl9IGVsc2UgewoJCQlpbnB1dC5hZGRDbGFzcyggInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IiArIHRoZW1lY2xhc3MgKTsKCQl9CgoJCWlucHV0LmZvY3VzKGZ1bmN0aW9uKCkgewoJCQkJZm9jdXNlZEVsLmFkZENsYXNzKCAidWktZm9jdXMiICk7CgkJCX0pCgkJCS5ibHVyKGZ1bmN0aW9uKCl7CgkJCQlmb2N1c2VkRWwucmVtb3ZlQ2xhc3MoICJ1aS1mb2N1cyIgKTsKCQkJfSk7CgoJCS8vIEF1dG9ncm93CgkJaWYgKCBpbnB1dC5pcyggInRleHRhcmVhIiApICkgewoJCQl2YXIgZXh0cmFMaW5lSGVpZ2h0ID0gMTUsCgkJCQlrZXl1cFRpbWVvdXRCdWZmZXIgPSAxMDAsCgkJCQlrZXl1cCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBzY3JvbGxIZWlnaHQgPSBpbnB1dFsgMCBdLnNjcm9sbEhlaWdodCwKCQkJCQkJY2xpZW50SGVpZ2h0ID0gaW5wdXRbIDAgXS5jbGllbnRIZWlnaHQ7CgoJCQkJCWlmICggY2xpZW50SGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICkgewoJCQkJCQlpbnB1dC5jc3MoewoJCQkJCQkJaGVpZ2h0OiAoc2Nyb2xsSGVpZ2h0ICsgZXh0cmFMaW5lSGVpZ2h0KQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9LAoJCQkJa2V5dXBUaW1lb3V0OwoKCQkJaW5wdXQua2V5dXAoZnVuY3Rpb24oKSB7CgkJCQljbGVhclRpbWVvdXQoIGtleXVwVGltZW91dCApOwoJCQkJa2V5dXBUaW1lb3V0ID0gc2V0VGltZW91dCgga2V5dXAsIGtleXVwVGltZW91dEJ1ZmZlciApOwoJCQl9KTsKCQl9Cgl9LAoKCWRpc2FibGU6IGZ1bmN0aW9uKCl7CgkJKCB0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiwgdHJ1ZSApLmlzKCAiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiApID8KCQkJdGhpcy5lbGVtZW50LnBhcmVudCgpIDogdGhpcy5lbGVtZW50ICkuYWRkQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsKCX0sCgoJZW5hYmxlOiBmdW5jdGlvbigpewoJCSggdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIGZhbHNlKS5pcyggIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIgKSA/CgkJCXRoaXMuZWxlbWVudC5wYXJlbnQoKSA6IHRoaXMuZWxlbWVudCApLnJlbW92ZUNsYXNzKCAidWktZGlzYWJsZWQiICk7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCQoJJCggJC5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKQoJCS5ub3QoICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS50ZXh0aW5wdXQoKTsKCQkKfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAic2VsZWN0bWVudSIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUuc2VsZWN0bWVudSIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCXRoZW1lOiBudWxsLAoJCWRpc2FibGVkOiBmYWxzZSwKCQlpY29uOiAiYXJyb3ctZCIsCgkJaWNvbnBvczogInJpZ2h0IiwKCQlpbmxpbmU6IG51bGwsCgkJY29ybmVyczogdHJ1ZSwKCQlzaGFkb3c6IHRydWUsCgkJaWNvbnNoYWRvdzogdHJ1ZSwKCQltZW51UGFnZVRoZW1lOiAiYiIsCgkJb3ZlcmxheVRoZW1lOiAiYSIsCgkJaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiB0cnVlLAoJCWNsb3NlVGV4dDogIkNsb3NlIiwKCQluYXRpdmVNZW51OiB0cnVlLAoJCWluaXRTZWxlY3RvcjogInNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoKCQl2YXIgc2VsZiA9IHRoaXMsCgoJCQlvID0gdGhpcy5vcHRpb25zLAoKCQkJc2VsZWN0ID0gdGhpcy5lbGVtZW50CgkJCQkJCS53cmFwKCAiPGRpdiBjbGFzcz0ndWktc2VsZWN0Jz4iICksCgoJCQlzZWxlY3RJRCA9IHNlbGVjdC5hdHRyKCAiaWQiICksCgoJCQlsYWJlbCA9ICQoICJsYWJlbFtmb3I9JyIrIHNlbGVjdElEICsiJ10iICkuYWRkQ2xhc3MoICJ1aS1zZWxlY3QiICksCgoJCQkvLyBJRSB0aHJvd3MgYW4gZXhjZXB0aW9uIGF0IG9wdGlvbnMuaXRlbSgpIGZ1bmN0aW9uIHdoZW4KCQkJLy8gdGhlcmUgaXMgbm8gc2VsZWN0ZWQgaXRlbQoJCQkvLyBzZWxlY3QgZmlyc3QgaW4gdGhpcyBjYXNlCgkJCXNlbGVjdGVkSW5kZXggPSBzZWxlY3RbIDAgXS5zZWxlY3RlZEluZGV4ID09IC0xID8gMCA6IHNlbGVjdFsgMCBdLnNlbGVjdGVkSW5kZXgsCgoJCQlidXR0b24gPSAoIHNlbGYub3B0aW9ucy5uYXRpdmVNZW51ID8gJCggIjxkaXYvPiIgKSA6ICQoICI8YT4iLCB7CgkJCQkJImhyZWYiOiAiIyIsCgkJCQkJInJvbGUiOiAiYnV0dG9uIiwKCQkJCQkiaWQiOiBidXR0b25JZCwKCQkJCQkiYXJpYS1oYXNwb3B1cCI6ICJ0cnVlIiwKCQkJCQkiYXJpYS1vd25zIjogbWVudUlkCgkJCQl9KSApCgkJCQkudGV4dCggJCggc2VsZWN0WyAwIF0ub3B0aW9ucy5pdGVtKCBzZWxlY3RlZEluZGV4ICkgKS50ZXh0KCkgKQoJCQkJLmluc2VydEJlZm9yZSggc2VsZWN0ICkKCQkJCS5idXR0b25NYXJrdXAoewoJCQkJCXRoZW1lOiBvLnRoZW1lLAoJCQkJCWljb246IG8uaWNvbiwKCQkJCQlpY29ucG9zOiBvLmljb25wb3MsCgkJCQkJaW5saW5lOiBvLmlubGluZSwKCQkJCQljb3JuZXJzOiBvLmNvcm5lcnMsCgkJCQkJc2hhZG93OiBvLnNoYWRvdywKCQkJCQlpY29uc2hhZG93OiBvLmljb25zaGFkb3cKCQkJCX0pLAoKCQkJLy8gTXVsdGkgc2VsZWN0IG9yIG5vdAoJCQlpc011bHRpcGxlID0gc2VsZi5pc011bHRpcGxlID0gc2VsZWN0WyAwIF0ubXVsdGlwbGU7CgoJCS8vIE9wZXJhIGRvZXMgbm90IHByb3Blcmx5IHN1cHBvcnQgb3BhY2l0eSBvbiBzZWxlY3QgZWxlbWVudHMKCQkvLyBJbiBNaW5pLCBpdCBoaWRlcyB0aGUgZWxlbWVudCwgYnV0IG5vdCBpdHMgdGV4dAoJCS8vIE9uIHRoZSBkZXNrdG9wLGl0IHNlZW1zIHRvIGRvIHRoZSBvcHBvc2l0ZQoJCS8vIGZvciB0aGVzZSByZWFzb25zLCB1c2luZyB0aGUgbmF0aXZlTWVudSBvcHRpb24gcmVzdWx0cyBpbiBhIGZ1bGwgbmF0aXZlIHNlbGVjdCBpbiBPcGVyYQoJCWlmICggby5uYXRpdmVNZW51ICYmIHdpbmRvdy5vcGVyYSAmJiB3aW5kb3cub3BlcmEudmVyc2lvbiApIHsKCQkJc2VsZWN0LmFkZENsYXNzKCAidWktc2VsZWN0LW5hdGl2ZW9ubHkiICk7CgkJfQoKCQkvL3ZhcnMgZm9yIG5vbi1uYXRpdmUgbWVudXMKCQlpZiAoICFvLm5hdGl2ZU1lbnUgKSB7CgkJCXZhciBvcHRpb25zID0gc2VsZWN0LmZpbmQoIm9wdGlvbiIpLAoKCQkJCWJ1dHRvbklkID0gc2VsZWN0SUQgKyAiLWJ1dHRvbiIsCgoJCQkJbWVudUlkID0gc2VsZWN0SUQgKyAiLW1lbnUiLAoKCQkJCXRoaXNQYWdlID0gc2VsZWN0LmNsb3Nlc3QoICIudWktcGFnZSIgKSwKCgkJCQkvL2J1dHRvbiB0aGVtZQoJCQkJdGhlbWUgPSAvdWktYnRuLXVwLShbYS16XSkvLmV4ZWMoIGJ1dHRvbi5hdHRyKCAiY2xhc3MiICkgKVsxXSwKCgkJCQltZW51UGFnZSA9ICQoICI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2RpYWxvZycgZGF0YS0iICskLm1vYmlsZS5ucyArICJ0aGVtZT0nIisgby5tZW51UGFnZVRoZW1lICsiJz4iICsKCQkJCQkJCSI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2hlYWRlcic+IiArCgkJCQkJCQkJIjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iICsgbGFiZWwudGV4dCgpICsgIjwvZGl2PiIrCgkJCQkJCQkiPC9kaXY+IisKCQkJCQkJCSI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2NvbnRlbnQnPjwvZGl2PiIrCgkJCQkJCSI8L2Rpdj4iICkKCQkJCQkJLmFwcGVuZFRvKCAkLm1vYmlsZS5wYWdlQ29udGFpbmVyICkKCQkJCQkJLnBhZ2UoKSwKCgkJCQltZW51UGFnZUNvbnRlbnQgPSBtZW51UGFnZS5maW5kKCAiLnVpLWNvbnRlbnQiICksCgoJCQkJbWVudVBhZ2VDbG9zZSA9IG1lbnVQYWdlLmZpbmQoICIudWktaGVhZGVyIGEiICksCgoJCQkJc2NyZWVuID0gJCggIjxkaXY+IiwgeyJjbGFzcyI6ICJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuIn0pCgkJCQkJCQkuYXBwZW5kVG8oIHRoaXNQYWdlICksCgoJCQkJbGlzdGJveCA9ICQoIjxkaXY+IiwgeyAiY2xhc3MiOiAidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktIiArIG8ub3ZlcmxheVRoZW1lICsgIiAiICsgJC5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24gfSkKCQkJCQkJLmluc2VydEFmdGVyKHNjcmVlbiksCgoJCQkJbGlzdCA9ICQoICI8dWw+IiwgewoJCQkJCQkiY2xhc3MiOiAidWktc2VsZWN0bWVudS1saXN0IiwKCQkJCQkJImlkIjogbWVudUlkLAoJCQkJCQkicm9sZSI6ICJsaXN0Ym94IiwKCQkJCQkJImFyaWEtbGFiZWxsZWRieSI6IGJ1dHRvbklkCgkJCQkJfSkKCQkJCQkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRoZW1lIiwgdGhlbWUgKQoJCQkJCS5hcHBlbmRUbyggbGlzdGJveCApLAoKCQkJCWhlYWRlciA9ICQoICI8ZGl2PiIsIHsKCQkJCQkJImNsYXNzIjogInVpLWhlYWRlciB1aS1iYXItIiArIHRoZW1lCgkJCQkJfSkKCQkJCQkucHJlcGVuZFRvKCBsaXN0Ym94ICksCgoJCQkJaGVhZGVyVGl0bGUgPSAkKCAiPGgxPiIsIHsKCQkJCQkJImNsYXNzIjogInVpLXRpdGxlIgoJCQkJCX0pCgkJCQkJLmFwcGVuZFRvKCBoZWFkZXIgKSwKCgkJCQloZWFkZXJDbG9zZSA9ICQoICI8YT4iLCB7CgkJCQkJCSJ0ZXh0Ijogby5jbG9zZVRleHQsCgkJCQkJCSJocmVmIjogIiMiLAoJCQkJCQkiY2xhc3MiOiAidWktYnRuLWxlZnQiCgkJCQkJfSkKCQkJCQkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgImljb25wb3MiLCAibm90ZXh0IiApCgkJCQkJLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJpY29uIiwgImRlbGV0ZSIgKQoJCQkJCS5hcHBlbmRUbyggaGVhZGVyICkKCQkJCQkuYnV0dG9uTWFya3VwKCksCgoJCQkJbWVudVR5cGU7CgkJfSAvLyBFbmQgbm9uIG5hdGl2ZSB2YXJzCgoJCS8vIEFkZCBjb3VudGVyIGZvciBtdWx0aSBzZWxlY3RzCgkJaWYgKCBpc011bHRpcGxlICkgewoJCQlzZWxmLmJ1dHRvbkNvdW50ID0gJCggIjxzcGFuPiIgKQoJCQkJLmFkZENsYXNzKCAidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiICkKCQkJCS5oaWRlKCkKCQkJCS5hcHBlbmRUbyggYnV0dG9uICk7CgkJfQoKCQkvLyBEaXNhYmxlIGlmIHNwZWNpZmllZAoJCWlmICggby5kaXNhYmxlZCApIHsKCQkJdGhpcy5kaXNhYmxlKCk7CgkJfQoKCQkvLyBFdmVudHMgb24gbmF0aXZlIHNlbGVjdAoJCXNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKSB7CgkJCXNlbGYucmVmcmVzaCgpOwoJCX0pOwoKCQkvLyBFeHBvc2UgdG8gb3RoZXIgbWV0aG9kcwoJCSQuZXh0ZW5kKCBzZWxmLCB7CgkJCXNlbGVjdDogc2VsZWN0LAoJCQlvcHRpb25FbGVtczogb3B0aW9ucywKCQkJc2VsZWN0SUQ6IHNlbGVjdElELAoJCQlsYWJlbDogbGFiZWwsCgkJCWJ1dHRvbklkOiBidXR0b25JZCwKCQkJbWVudUlkOiBtZW51SWQsCgkJCXRoaXNQYWdlOiB0aGlzUGFnZSwKCQkJYnV0dG9uOiBidXR0b24sCgkJCW1lbnVQYWdlOiBtZW51UGFnZSwKCQkJbWVudVBhZ2VDb250ZW50OiBtZW51UGFnZUNvbnRlbnQsCgkJCXNjcmVlbjogc2NyZWVuLAoJCQlsaXN0Ym94OiBsaXN0Ym94LAoJCQlsaXN0OiBsaXN0LAoJCQltZW51VHlwZTogbWVudVR5cGUsCgkJCWhlYWRlcjogaGVhZGVyLAoJCQloZWFkZXJDbG9zZTogaGVhZGVyQ2xvc2UsCgkJCWhlYWRlclRpdGxlOiBoZWFkZXJUaXRsZSwKCQkJcGxhY2Vob2xkZXI6ICIiCgkJfSk7CgoJCS8vIFN1cHBvcnQgZm9yIHVzaW5nIHRoZSBuYXRpdmUgc2VsZWN0IG1lbnUgd2l0aCBhIGN1c3RvbSBidXR0b24KCQlpZiAoIG8ubmF0aXZlTWVudSApIHsKCgkJCXNlbGVjdC5hcHBlbmRUbyggYnV0dG9uICkKCQkJCS5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCkgewoJCQkJCS8vIEFkZCBhY3RpdmUgY2xhc3MgdG8gYnV0dG9uCgkJCQkJYnV0dG9uLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCQkJfSkKCQkJCS5iaW5kKCAiZm9jdXMgdm1vdXNlb3ZlciIsIGZ1bmN0aW9uKCkgewoJCQkJCWJ1dHRvbi50cmlnZ2VyKCAidm1vdXNlb3ZlciIgKTsKCQkJCX0pCgkJCQkuYmluZCggInZtb3VzZW1vdmUiLCBmdW5jdGlvbigpIHsKCQkJCQkvLyBSZW1vdmUgYWN0aXZlIGNsYXNzIG9uIHNjcm9sbC90b3VjaG1vdmUKCQkJCQlidXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJCQl9KQoJCQkJLmJpbmQoICJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLCBmdW5jdGlvbigpIHsKCgkJCQkJYnV0dG9uLnRyaWdnZXIoICJ2bW91c2VvdXQiICkKCQkJCQkJLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCQkJfSk7CgoKCQl9IGVsc2UgewoKCQkJLy8gQ3JlYXRlIGxpc3QgZnJvbSBzZWxlY3QsIHVwZGF0ZSBzdGF0ZQoJCQlzZWxmLnJlZnJlc2goKTsKCgkJCXNlbGVjdC5hdHRyKCAidGFiaW5kZXgiLCAiLTEiICkKCQkJCS5mb2N1cyhmdW5jdGlvbigpIHsKCQkJCQkkKHRoaXMpLmJsdXIoKTsKCQkJCQlidXR0b24uZm9jdXMoKTsKCQkJCX0pOwoKCQkJLy8gQnV0dG9uIGV2ZW50cwoJCQlidXR0b24uYmluZCggInZjbGljayBrZXlkb3duIiAsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCWlmICggZXZlbnQudHlwZSA9PSAidmNsaWNrIiB8fAoJCQkJCQkJZXZlbnQua2V5Q29kZSAmJiAoIGV2ZW50LmtleUNvZGUgPT09ICQubW9iaWxlLmtleUNvZGUuRU5URVIgfHwKCQkJCQkJCQkJCQkJCQkJCQkJZXZlbnQua2V5Q29kZSA9PT0gJC5tb2JpbGUua2V5Q29kZS5TUEFDRSApICkgewoKCQkJCQlzZWxmLm9wZW4oKTsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJfQoJCQl9KTsKCgkJCS8vIEV2ZW50cyBmb3IgbGlzdCBpdGVtcwoJCQlsaXN0LmF0dHIoICJyb2xlIiwgImxpc3Rib3giICkKCQkJCS5kZWxlZ2F0ZSggIi51aS1saT5hIiwgImZvY3VzaW4iLCBmdW5jdGlvbigpIHsKCQkJCQkkKCB0aGlzICkuYXR0ciggInRhYmluZGV4IiwgIjAiICk7CgkJCQl9KQoJCQkJLmRlbGVnYXRlKCAiLnVpLWxpPmEiLCAiZm9jdXNvdXQiLCBmdW5jdGlvbigpIHsKCQkJCQkkKCB0aGlzICkuYXR0ciggInRhYmluZGV4IiwgIi0xIiApOwoJCQkJfSkKCQkJCS5kZWxlZ2F0ZSggImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCQkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwKCQkJCQkJLy8gaW5kZXggb2Ygb3B0aW9uIHRhZyB0byBiZSBzZWxlY3RlZAoJCQkJCQlvbGRJbmRleCA9IHNlbGVjdFsgMCBdLnNlbGVjdGVkSW5kZXgsCgkJCQkJCW5ld0luZGV4ID0gJHRoaXMuanFtRGF0YSggIm9wdGlvbi1pbmRleCIgKSwKCQkJCQkJb3B0aW9uID0gc2VsZi5vcHRpb25FbGVtc1sgbmV3SW5kZXggXTsKCgkJCQkJLy8gdG9nZ2xlIHNlbGVjdGVkIHN0YXR1cyBvbiB0aGUgdGFnIGZvciBtdWx0aSBzZWxlY3RzCgkJCQkJb3B0aW9uLnNlbGVjdGVkID0gaXNNdWx0aXBsZSA/ICFvcHRpb24uc2VsZWN0ZWQgOiB0cnVlOwoKCQkJCQkvLyB0b2dnbGUgY2hlY2tib3ggY2xhc3MgZm9yIG11bHRpcGxlIHNlbGVjdHMKCQkJCQlpZiAoIGlzTXVsdGlwbGUgKSB7CgkJCQkJCSR0aGlzLmZpbmQoICIudWktaWNvbiIgKQoJCQkJCQkJLnRvZ2dsZUNsYXNzKCAidWktaWNvbi1jaGVja2JveC1vbiIsIG9wdGlvbi5zZWxlY3RlZCApCgkJCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1pY29uLWNoZWNrYm94LW9mZiIsICFvcHRpb24uc2VsZWN0ZWQgKTsKCQkJCQl9CgoJCQkJCS8vIHRyaWdnZXIgY2hhbmdlIGlmIHZhbHVlIGNoYW5nZWQKCQkJCQlpZiAoIGlzTXVsdGlwbGUgfHwgb2xkSW5kZXggIT09IG5ld0luZGV4ICkgewoJCQkJCQlzZWxlY3QudHJpZ2dlciggImNoYW5nZSIgKTsKCQkJCQl9CgoJCQkJCS8vaGlkZSBjdXN0b20gc2VsZWN0IGZvciBzaW5nbGUgc2VsZWN0cyBvbmx5CgkJCQkJaWYgKCAhaXNNdWx0aXBsZSApIHsKCQkJCQkJc2VsZi5jbG9zZSgpOwoJCQkJCX0KCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJfSkKCQkJLy9rZXlib2FyZCBldmVudHMgZm9yIG1lbnUgaXRlbXMKCQkJLmtleWRvd24oZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJdmFyIHRhcmdldCA9ICQoIGV2ZW50LnRhcmdldCApLAoJCQkJCWxpID0gdGFyZ2V0LmNsb3Nlc3QoICJsaSIgKSwKCQkJCQlwcmV2LCBuZXh0OwoKCQkJCS8vIHN3aXRjaCBsb2dpYyBiYXNlZCBvbiB3aGljaCBrZXkgd2FzIHByZXNzZWQKCQkJCXN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7CgkJCQkJLy8gdXAgb3IgbGVmdCBhcnJvdyBrZXlzCgkJCQkJY2FzZSAzODoKCQkJCQkJcHJldiA9IGxpLnByZXYoKTsKCgkJCQkJCS8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cyBvcHRpb24sIGZvY3VzIGl0CgkJCQkJCWlmICggcHJldi5sZW5ndGggKSB7CgkJCQkJCQl0YXJnZXQKCQkJCQkJCQkuYmx1cigpCgkJCQkJCQkJLmF0dHIoICJ0YWJpbmRleCIsICItMSIgKTsKCgkJCQkJCQlwcmV2LmZpbmQoICJhIiApLmZpcnN0KCkuZm9jdXMoKTsKCQkJCQkJfQoKCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCWJyZWFrOwoKCQkJCQkvLyBkb3duIG9yIHJpZ2h0IGFycm93IGtleXMKCQkJCQljYXNlIDQwOgoJCQkJCQluZXh0ID0gbGkubmV4dCgpOwoKCQkJCQkJLy8gaWYgdGhlcmUncyBhIG5leHQgb3B0aW9uLCBmb2N1cyBpdAoJCQkJCQlpZiAoIG5leHQubGVuZ3RoICkgewoJCQkJCQkJdGFyZ2V0CgkJCQkJCQkJLmJsdXIoKQoJCQkJCQkJCS5hdHRyKCAidGFiaW5kZXgiLCAiLTEiICk7CgoJCQkJCQkJbmV4dC5maW5kKCAiYSIgKS5maXJzdCgpLmZvY3VzKCk7CgkJCQkJCX0KCgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQlicmVhazsKCgkJCQkJLy8gSWYgZW50ZXIgb3Igc3BhY2UgaXMgcHJlc3NlZCwgdHJpZ2dlciBjbGljawoJCQkJCWNhc2UgMTM6CgkJCQkJY2FzZSAzMjoKCQkJCQkJIHRhcmdldC50cmlnZ2VyKCAidmNsaWNrIiApOwoKCQkJCQkJIHJldHVybiBmYWxzZTsKCQkJCQlicmVhazsKCQkJCX0KCQkJfSk7CgoJCQkvLyBidXR0b24gcmVmb2N1cyBlbnN1cmVzIHByb3BlciBoZWlnaHQgY2FsY3VsYXRpb24KCQkJLy8gYnkgcmVtb3ZpbmcgdGhlIGlubGluZSBzdHlsZSBhbmQgZW5zdXJpbmcgcGFnZSBpbmNsdXNpb24KCQkJc2VsZi5tZW51UGFnZS5iaW5kKCAicGFnZWhpZGUiLCBmdW5jdGlvbigpewoJCQkJc2VsZi5saXN0LmFwcGVuZFRvKCBzZWxmLmxpc3Rib3ggKTsKCQkJCXNlbGYuX2ZvY3VzQnV0dG9uKCk7CgkJCX0pOwoKCQkJLy8gRXZlbnRzIG9uICJzY3JlZW4iIG92ZXJsYXkKCQkJc2NyZWVuLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQlzZWxmLmNsb3NlKCk7CgkJCX0pOwoKCQkJLy8gQ2xvc2UgYnV0dG9uIG9uIHNtYWxsIG92ZXJsYXlzCgkJCXNlbGYuaGVhZGVyQ2xvc2UuY2xpY2soZnVuY3Rpb24oKSB7CgkJCQlpZiAoIHNlbGYubWVudVR5cGUgPT0gIm92ZXJsYXkiICkgewoJCQkJCXNlbGYuY2xvc2UoKTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCX0KCX0sCgoJX2J1aWxkTGlzdDogZnVuY3Rpb24oKSB7CgkJdmFyIHNlbGYgPSB0aGlzLAoJCQlvID0gdGhpcy5vcHRpb25zLAoJCQlwbGFjZWhvbGRlciA9IHRoaXMucGxhY2Vob2xkZXIsCgkJCW9wdGdyb3VwcyA9IFtdLAoJCQlsaXMgPSBbXSwKCQkJZGF0YUljb24gPSBzZWxmLmlzTXVsdGlwbGUgPyAiY2hlY2tib3gtb2ZmIiA6ICJmYWxzZSI7CgoJCXNlbGYubGlzdC5lbXB0eSgpLmZpbHRlciggIi51aS1saXN0dmlldyIgKS5saXN0dmlldyggImRlc3Ryb3kiICk7CgoJCS8vIFBvcHVsYXRlIG1lbnUgd2l0aCBvcHRpb25zIGZyb20gc2VsZWN0IGVsZW1lbnQKCQlzZWxmLnNlbGVjdC5maW5kKCAib3B0aW9uIiApLmVhY2goZnVuY3Rpb24oIGkgKSB7CgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwKCQkJCSRwYXJlbnQgPSAkdGhpcy5wYXJlbnQoKSwKCQkJCXRleHQgPSAkdGhpcy50ZXh0KCksCgkJCQlhbmNob3IgPSAiPGEgaHJlZj0nIyc+IisgdGV4dCArIjwvYT4iLAoJCQkJY2xhc3NlcyA9IFtdLAoJCQkJZXh0cmFBdHRycyA9IFtdOwoKCQkJLy8gQXJlIHdlIGluc2lkZSBhbiBvcHRncm91cD8KCQkJaWYgKCAkcGFyZW50LmlzKCAib3B0Z3JvdXAiICkgKSB7CgkJCQl2YXIgb3B0TGFiZWwgPSAkcGFyZW50LmF0dHIoICJsYWJlbCIgKTsKCgkJCQkvLyBoYXMgdGhpcyBvcHRncm91cCBhbHJlYWR5IGJlZW4gYnVpbHQgeWV0PwoJCQkJaWYgKCAkLmluQXJyYXkoIG9wdExhYmVsLCBvcHRncm91cHMgKSA9PT0gLTEgKSB7CgkJCQkJbGlzLnB1c2goICI8bGkgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0nbGlzdC1kaXZpZGVyJz4iKyBvcHRMYWJlbCArIjwvbGk+IiApOwoJCQkJCW9wdGdyb3Vwcy5wdXNoKCBvcHRMYWJlbCApOwoJCQkJfQoJCQl9CgoJCQkvLyBGaW5kIHBsYWNlaG9sZGVyIHRleHQKCQkJLy8gVE9ETzogQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIHVzZSBnZXRBdHRyaWJ1dGU/IF5SVwoJCQlpZiAoICF0aGlzLmdldEF0dHJpYnV0ZSggInZhbHVlIiApIHx8IHRleHQubGVuZ3RoID09IDAgfHwgJHRoaXMuanFtRGF0YSggInBsYWNlaG9sZGVyIiApICkgewoJCQkJaWYgKCBvLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyApIHsKCQkJCQljbGFzc2VzLnB1c2goICJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiApOwoJCQkJfQoJCQkJcGxhY2Vob2xkZXIgPSBzZWxmLnBsYWNlaG9sZGVyID0gdGV4dDsKCQkJfQoKCQkJLy8gc3VwcG9ydCBkaXNhYmxlZCBvcHRpb24gdGFncwoJCQlpZiAoIHRoaXMuZGlzYWJsZWQgKSB7CgkJCQljbGFzc2VzLnB1c2goICJ1aS1kaXNhYmxlZCIgKTsKCQkJCWV4dHJhQXR0cnMucHVzaCggImFyaWEtZGlzYWJsZWQ9J3RydWUnIiApOwoJCQl9CgoJCQlsaXMucHVzaCggIjxsaSBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJvcHRpb24taW5kZXg9JyIgKyBpICsgIicgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiaWNvbj0nIisgZGF0YUljb24gKyInIGNsYXNzPSciKyBjbGFzc2VzLmpvaW4oIiAiKSArICInICIgKyBleHRyYUF0dHJzLmpvaW4oIiAiKSArIj4iKyBhbmNob3IgKyI8L2xpPiIgKQoJCX0pOwoKCQlzZWxmLmxpc3QuaHRtbCggbGlzLmpvaW4oIiAiKSApOwoKCQlzZWxmLmxpc3QuZmluZCggImxpIiApCgkJCS5hdHRyKHsgInJvbGUiOiAib3B0aW9uIiwgInRhYmluZGV4IjogIi0xIiB9KQoJCQkuZmlyc3QoKS5hdHRyKCAidGFiaW5kZXgiLCAiMCIgKTsKCgkJLy8gSGlkZSBoZWFkZXIgY2xvc2UgbGluayBmb3Igc2luZ2xlIHNlbGVjdHMKCQlpZiAoICF0aGlzLmlzTXVsdGlwbGUgKSB7CgkJCXRoaXMuaGVhZGVyQ2xvc2UuaGlkZSgpOwoJCX0KCgkJLy8gSGlkZSBoZWFkZXIgaWYgaXQncyBub3QgYSBtdWx0aXNlbGVjdCBhbmQgdGhlcmUncyBubyBwbGFjZWhvbGRlcgoJCWlmICggIXRoaXMuaXNNdWx0aXBsZSAmJiAhcGxhY2Vob2xkZXIubGVuZ3RoICkgewoJCQl0aGlzLmhlYWRlci5oaWRlKCk7CgkJfSBlbHNlIHsKCQkJdGhpcy5oZWFkZXJUaXRsZS50ZXh0KCB0aGlzLnBsYWNlaG9sZGVyICk7CgkJfQoKCQkvLyBOb3cgcG9wdWxhdGVkLCBjcmVhdGUgbGlzdHZpZXcKCQlzZWxmLmxpc3QubGlzdHZpZXcoKTsKCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oIGZvcmNlUmVidWlsZCApIHsKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCXNlbGVjdCA9IHRoaXMuZWxlbWVudCwKCQkJaXNNdWx0aXBsZSA9IHRoaXMuaXNNdWx0aXBsZSwKCQkJb3B0aW9ucyA9IHRoaXMub3B0aW9uRWxlbXMgPSBzZWxlY3QuZmluZCggIm9wdGlvbiIgKSwKCQkJc2VsZWN0ZWQgPSBvcHRpb25zLmZpbHRlciggIjpzZWxlY3RlZCIgKSwKCgkJCS8vIHJldHVybiBhbiBhcnJheSBvZiBhbGwgc2VsZWN0ZWQgaW5kZXgncwoJCQlpbmRpY2llcyA9IHNlbGVjdGVkLm1hcChmdW5jdGlvbigpIHsKCQkJCXJldHVybiBvcHRpb25zLmluZGV4KCB0aGlzICk7CgkJCX0pLmdldCgpOwoKCQlpZiAoICFzZWxmLm9wdGlvbnMubmF0aXZlTWVudSAmJgoJCQkJCSggZm9yY2VSZWJ1aWxkIHx8IHNlbGVjdFswXS5vcHRpb25zLmxlbmd0aCAhPSBzZWxmLmxpc3QuZmluZCggImxpIiApLmxlbmd0aCApICkgewoKCQkJc2VsZi5fYnVpbGRMaXN0KCk7CgkJfQoKCQlzZWxmLmJ1dHRvbi5maW5kKCAiLnVpLWJ0bi10ZXh0IiApCgkJCS50ZXh0KGZ1bmN0aW9uKCkgewoKCQkJCWlmICggIWlzTXVsdGlwbGUgKSB7CgkJCQkJcmV0dXJuIHNlbGVjdGVkLnRleHQoKTsKCQkJCX0KCgkJCQlyZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWQubWFwKGZ1bmN0aW9uKCkgewoJCQkJCQkJCXJldHVybiAkKCB0aGlzICkudGV4dCgpOwoJCQkJCQkJfSkuZ2V0KCkuam9pbiggIiwgIiApIDogc2VsZi5wbGFjZWhvbGRlcjsKCQkJfSk7CgoJCS8vIG11bHRpcGxlIGNvdW50IGluc2lkZSBidXR0b24KCQlpZiAoIGlzTXVsdGlwbGUgKSB7CgkJCXNlbGYuYnV0dG9uQ291bnRbIHNlbGVjdGVkLmxlbmd0aCA+IDEgPyAic2hvdyIgOiAiaGlkZSIgXSgpLnRleHQoIHNlbGVjdGVkLmxlbmd0aCApOwoJCX0KCgkJaWYgKCAhc2VsZi5vcHRpb25zLm5hdGl2ZU1lbnUgKSB7CgoJCQlzZWxmLmxpc3QuZmluZCggImxpOm5vdCgudWktbGktZGl2aWRlcikiICkKCQkJCS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKQoJCQkJLmF0dHIoICJhcmlhLXNlbGVjdGVkIiwgZmFsc2UgKQoJCQkJLmVhY2goZnVuY3Rpb24oIGkgKSB7CgoJCQkJCWlmICggJC5pbkFycmF5KCBpLCBpbmRpY2llcyApID4gLTEgKSB7CgkJCQkJCXZhciBpdGVtID0gJCggdGhpcyApLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoKCQkJCQkJLy8gQXJpYSBzZWxlY3RlZCBhdHRyCgkJCQkJCWl0ZW0uZmluZCggImEiICkuYXR0ciggImFyaWEtc2VsZWN0ZWQiLCB0cnVlICk7CgoJCQkJCQkvLyBNdWx0aXBsZSBzZWxlY3RzOiBhZGQgdGhlICJvbiIgY2hlY2tib3ggc3RhdGUgdG8gdGhlIGljb24KCQkJCQkJaWYgKCBpc011bHRpcGxlICkgewoJCQkJCQkJaXRlbS5maW5kKCAiLnVpLWljb24iICkucmVtb3ZlQ2xhc3MoICJ1aS1pY29uLWNoZWNrYm94LW9mZiIgKS5hZGRDbGFzcyggInVpLWljb24tY2hlY2tib3gtb24iICk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KTsKCQl9Cgl9LAoKCW9wZW46IGZ1bmN0aW9uKCkgewoJCWlmICggdGhpcy5vcHRpb25zLmRpc2FibGVkIHx8IHRoaXMub3B0aW9ucy5uYXRpdmVNZW51ICkgewoJCQlyZXR1cm47CgkJfQoKCQl2YXIgc2VsZiA9IHRoaXMsCgkJCW1lbnVIZWlnaHQgPSBzZWxmLmxpc3QucGFyZW50KCkub3V0ZXJIZWlnaHQoKSwKCQkJbWVudVdpZHRoID0gc2VsZi5saXN0LnBhcmVudCgpLm91dGVyV2lkdGgoKSwKCQkJc2Nyb2xsVG9wID0gJCggd2luZG93ICkuc2Nyb2xsVG9wKCksCgkJCWJ0bk9mZnNldCA9IHNlbGYuYnV0dG9uLm9mZnNldCgpLnRvcCwKCQkJc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LAoJCQlzY3JlZW5XaWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoOwoKCQkvL2FkZCBhY3RpdmUgY2xhc3MgdG8gYnV0dG9uCgkJc2VsZi5idXR0b24uYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgoJCS8vcmVtb3ZlIGFmdGVyIGRlbGF5CgkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJfSwgMzAwKTsKCgkJZnVuY3Rpb24gZm9jdXNNZW51SXRlbSgpIHsKCQkJc2VsZi5saXN0LmZpbmQoICIudWktYnRuLWFjdGl2ZSIgKS5mb2N1cygpOwoJCX0KCgkJaWYgKCBtZW51SGVpZ2h0ID4gc2NyZWVuSGVpZ2h0IC0gODAgfHwgISQuc3VwcG9ydC5zY3JvbGxUb3AgKSB7CgkJCS8vIHByZXZlbnQgdGhlIHBhcmVudCBwYWdlIGZyb20gYmVpbmcgcmVtb3ZlZCBmcm9tIHRoZSBET00sCgkJCS8vIG90aGVyd2lzZSB0aGUgcmVzdWx0cyBvZiBzZWxlY3RpbmcgYSBsaXN0IGl0ZW0gaW4gdGhlIGRpYWxvZwoJCQkvLyBmYWxsIGludG8gYSBibGFjayBob2xlCgkJCXNlbGYudGhpc1BhZ2UudW5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiApOwoKCQkJLy9mb3Igd2Vib3MgKHNldCBsYXN0c2Nyb2xsIHVzaW5nIGJ1dHRvbiBvZmZzZXQpCgkJCWlmICggc2Nyb2xsVG9wID09IDAgJiYgYnRuT2Zmc2V0ID4gc2NyZWVuSGVpZ2h0ICkgewoJCQkJc2VsZi50aGlzUGFnZS5vbmUoICJwYWdlaGlkZSIsIGZ1bmN0aW9uKCkgewoJCQkJCSQoIHRoaXMgKS5qcW1EYXRhKCAibGFzdFNjcm9sbCIsIGJ0bk9mZnNldCApOwoJCQkJfSk7CgkJCX0KCgkJCXNlbGYubWVudVBhZ2Uub25lKCAicGFnZXNob3ciLCBmdW5jdGlvbigpIHsKCQkJCS8vIHNpbGVudFNjcm9sbCgpIGlzIGNhbGxlZCB3aGVuZXZlciBhIHBhZ2UgaXMgc2hvd24gdG8gcmVzdG9yZQoJCQkJLy8gYW55IHByZXZpb3VzIHNjcm9sbCBwb3NpdGlvbiB0aGUgcGFnZSBtYXkgaGF2ZSBoYWQuIFdlIG5lZWQgdG8KCQkJCS8vIHdhaXQgZm9yIHRoZSAic2lsZW50c2Nyb2xsIiBldmVudCBiZWZvcmUgc2V0dGluZyBmb2N1cyB0byBhdm9pZAoJCQkJLy8gdGhlIGJyb3dzZXIicyAiZmVhdHVyZSIgd2hpY2ggb2Zmc2V0cyByZW5kZXJpbmcgdG8gbWFrZSBzdXJlCgkJCQkvLyB3aGF0ZXZlciBoYXMgZm9jdXMgaXMgaW4gdmlldy4KCQkJCSQoIHdpbmRvdyApLm9uZSggInNpbGVudHNjcm9sbCIsIGZ1bmN0aW9uKCkgewoJCQkJCWZvY3VzTWVudUl0ZW0oKTsKCQkJCX0pOwoKCQkJCXNlbGYuaXNPcGVuID0gdHJ1ZTsKCQkJfSk7CgoJCQlzZWxmLm1lbnVUeXBlID0gInBhZ2UiOwoJCQlzZWxmLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoIHNlbGYubGlzdCApOwoJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCBzZWxmLm1lbnVQYWdlLCB7CgkJCSAgIHRyYW5zaXRpb246ICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uCgkJCX0pOwoJCX0gZWxzZSB7CgoJCQlzZWxmLm1lbnVUeXBlID0gIm92ZXJsYXkiOwoKCQkJc2VsZi5zY3JlZW4uaGVpZ2h0KCAkKGRvY3VtZW50KS5oZWlnaHQoKSApCgkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiApOwoKCQkJLy8gVHJ5IGFuZCBjZW50ZXIgdGhlIG92ZXJsYXkgb3ZlciB0aGUgYnV0dG9uCgkJCXZhciByb29tdG9wID0gYnRuT2Zmc2V0IC0gc2Nyb2xsVG9wLAoJCQkJcm9vbWJvdCA9IHNjcm9sbFRvcCArIHNjcmVlbkhlaWdodCAtIGJ0bk9mZnNldCwKCQkJCWhhbGZoZWlnaHQgPSBtZW51SGVpZ2h0IC8gMiwKCQkJCW1heHdpZHRoID0gcGFyc2VGbG9hdCggc2VsZi5saXN0LnBhcmVudCgpLmNzcyggIm1heC13aWR0aCIgKSApLAoJCQkJbmV3dG9wLCBuZXdsZWZ0OwoKCQkJaWYgKCByb29tdG9wID4gbWVudUhlaWdodCAvIDIgJiYgcm9vbWJvdCA+IG1lbnVIZWlnaHQgLyAyICkgewoJCQkJbmV3dG9wID0gYnRuT2Zmc2V0ICsgKCBzZWxmLmJ1dHRvbi5vdXRlckhlaWdodCgpIC8gMiApIC0gaGFsZmhlaWdodDsKCQkJfSBlbHNlIHsKCQkJCS8vIDMwcHggdG9sZXJhbmNlIG9mZiB0aGUgZWRnZXMKCQkJCW5ld3RvcCA9IHJvb210b3AgPiByb29tYm90ID8gc2Nyb2xsVG9wICsgc2NyZWVuSGVpZ2h0IC0gbWVudUhlaWdodCAtIDMwIDogc2Nyb2xsVG9wICsgMzA7CgkJCX0KCgkJCS8vIElmIHRoZSBtZW51d2lkdGggaXMgc21hbGxlciB0aGFuIHRoZSBzY3JlZW4gY2VudGVyIGlzCgkJCWlmICggbWVudVdpZHRoIDwgbWF4d2lkdGggKSB7CgkJCQluZXdsZWZ0ID0gKCBzY3JlZW5XaWR0aCAtIG1lbnVXaWR0aCApIC8gMjsKCQkJfSBlbHNlIHsKCgkJCQkvL290aGVyd2lzZSBpbnN1cmUgYSA+PSAzMHB4IG9mZnNldCBmcm9tIHRoZSBsZWZ0CgkJCQluZXdsZWZ0ID0gc2VsZi5idXR0b24ub2Zmc2V0KCkubGVmdCArIHNlbGYuYnV0dG9uLm91dGVyV2lkdGgoKSAvIDIgLSBtZW51V2lkdGggLyAyOwoKCQkJCS8vIDMwcHggdG9sZXJhbmNlIG9mZiB0aGUgZWRnZXMKCQkJCWlmICggbmV3bGVmdCA8IDMwICkgewoJCQkJCW5ld2xlZnQgPSAzMDsKCQkJCX0gZWxzZSBpZiAoICggbmV3bGVmdCArIG1lbnVXaWR0aCApID4gc2NyZWVuV2lkdGggKSB7CgkJCQkJbmV3bGVmdCA9IHNjcmVlbldpZHRoIC0gbWVudVdpZHRoIC0gMzA7CgkJCQl9CgkJCX0KCgkJCXNlbGYubGlzdGJveC5hcHBlbmQoIHNlbGYubGlzdCApCgkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zZWxlY3RtZW51LWhpZGRlbiIgKQoJCQkJLmNzcyh7CgkJCQkJdG9wOiBuZXd0b3AsCgkJCQkJbGVmdDogbmV3bGVmdAoJCQkJfSkKCQkJCS5hZGRDbGFzcyggImluIiApOwoKCQkJZm9jdXNNZW51SXRlbSgpOwoKCQkJLy8gZHVwbGljYXRlIHdpdGggdmFsdWUgc2V0IGluIHBhZ2Ugc2hvdyBmb3IgZGlhbG9nIHNpemVkIHNlbGVjdHMKCQkJc2VsZi5pc09wZW4gPSB0cnVlOwoJCX0KCX0sCgoJX2ZvY3VzQnV0dG9uIDogZnVuY3Rpb24oKXsKCQl2YXIgc2VsZiA9IHRoaXM7CgkJc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJc2VsZi5idXR0b24uZm9jdXMoKTsKCQl9LCA0MCk7Cgl9LAoKCWNsb3NlOiBmdW5jdGlvbigpIHsKCQlpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCB8fCAhdGhpcy5pc09wZW4gfHwgdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUgKSB7CgkJCXJldHVybjsKCQl9CgoJCXZhciBzZWxmID0gdGhpczsKCgkJaWYgKCBzZWxmLm1lbnVUeXBlID09ICJwYWdlIiApIHsKCQkJLy8gcmViaW5kIHRoZSBwYWdlIHJlbW92ZSB0aGF0IHdhcyB1bmJvdW5kIGluIHRoZSBvcGVuIGZ1bmN0aW9uCgkJCS8vIHRvIGFsbG93IGZvciB0aGUgcGFyZW50IHBhZ2UgcmVtb3ZhbCBmcm9tIGFjdGlvbnMgb3RoZXIgdGhhbiB0aGUgdXNlCgkJCS8vIG9mIGEgZGlhbG9nIHNpemVkIGN1c3RvbSBzZWxlY3QKCQkJc2VsZi50aGlzUGFnZS5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiwgZnVuY3Rpb24oKXsKCQkJCSQodGhpcykucmVtb3ZlKCk7CgkJCX0pOwoKCQkJLy8gZG9lc24ndCBzb2x2ZSB0aGUgcG9zc2libGUgaXNzdWUgd2l0aCBjYWxsaW5nIGNoYW5nZSBwYWdlCgkJCS8vIHdoZXJlIHRoZSBvYmplY3RzIGRvbid0IGRlZmluZSBkYXRhIHVybHMgd2hpY2ggcHJldmVudHMgZGlhbG9nIGtleQoJCQkvLyBzdHJpcHBpbmcgLSBjaGFuZ2VQYWdlIGhhcyBpbmNvbWluZyByZWZhY3RvcgoJCQl3aW5kb3cuaGlzdG9yeS5iYWNrKCk7CgkJfSBlbHNlewoJCQlzZWxmLnNjcmVlbi5hZGRDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iICk7CgkJCXNlbGYubGlzdGJveC5hZGRDbGFzcyggInVpLXNlbGVjdG1lbnUtaGlkZGVuIiApLnJlbW92ZUF0dHIoICJzdHlsZSIgKS5yZW1vdmVDbGFzcyggImluIiApOwoJCQlzZWxmLmxpc3QuYXBwZW5kVG8oIHNlbGYubGlzdGJveCApOwoJCQlzZWxmLl9mb2N1c0J1dHRvbigpOwoJCX0KCgkJLy8gYWxsb3cgdGhlIGRpYWxvZyB0byBiZSBjbG9zZWQgYWdhaW4KCQl0aGlzLmlzT3BlbiA9IGZhbHNlOwoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiwgdHJ1ZSApOwoJCXRoaXMuYnV0dG9uLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB0cnVlICk7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgdHJ1ZSApOwoJfSwKCgllbmFibGU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCBmYWxzZSApOwoJCXRoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCBmYWxzZSApOwoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIGZhbHNlICk7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCSQoICQubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLCBlLnRhcmdldCApCgkJLm5vdCggIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIiApCgkJLnNlbGVjdG1lbnUoKTsKfSk7Cgp9KSggalF1ZXJ5ICk7CgovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogcGx1Z2luIGZvciBtYWtpbmcgYnV0dG9uLWxpa2UgbGlua3MKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwooIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLmZuLmJ1dHRvbk1hcmt1cCA9IGZ1bmN0aW9uKCBvcHRpb25zICkgewoJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJdmFyIGVsID0gJCggdGhpcyApLAoJCQlvID0gJC5leHRlbmQoIHt9LCAkLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cywgZWwuanFtRGF0YSgpLCBvcHRpb25zICksCgoJCQkvLyBDbGFzc2VzIERlZmluZWQKCQkJaW5uZXJDbGFzcyA9ICJ1aS1idG4taW5uZXIiLAoJCQlidXR0b25DbGFzcywgaWNvbkNsYXNzLAoJCQl0aGVtZWRQYXJlbnQsIHdyYXA7CgoJCWlmICggYXR0YWNoRXZlbnRzICkgewoJCQlhdHRhY2hFdmVudHMoKTsKCQl9CgoJCS8vIGlmIG5vdCwgdHJ5IHRvIGZpbmQgY2xvc2VzdCB0aGVtZSBjb250YWluZXIKCQlpZiAoICFvLnRoZW1lICkgewoJCQl0aGVtZWRQYXJlbnQgPSBlbC5jbG9zZXN0KCAiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iICk7CgkJCW8udGhlbWUgPSB0aGVtZWRQYXJlbnQubGVuZ3RoID8KCQkJCS91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoIHRoZW1lZFBhcmVudC5hdHRyKCAiY2xhc3MiICkgKVsyXSA6CgkJCQkiYyI7CgkJfQoKCQlidXR0b25DbGFzcyA9ICJ1aS1idG4gdWktYnRuLXVwLSIgKyBvLnRoZW1lOwoKCQlpZiAoIG8uaW5saW5lICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1pbmxpbmUiOwoJCX0KCgkJaWYgKCBvLmljb24gKSB7CgkJCW8uaWNvbiA9ICJ1aS1pY29uLSIgKyBvLmljb247CgkJCW8uaWNvbnBvcyA9IG8uaWNvbnBvcyB8fCAibGVmdCI7CgoJCQlpY29uQ2xhc3MgPSAidWktaWNvbiAiICsgby5pY29uOwoKCQkJaWYgKCBvLmljb25zaGFkb3cgKSB7CgkJCQlpY29uQ2xhc3MgKz0gIiB1aS1pY29uLXNoYWRvdyI7CgkJCX0KCQl9CgoJCWlmICggby5pY29ucG9zICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1pY29uLSIgKyBvLmljb25wb3M7CgoJCQlpZiAoIG8uaWNvbnBvcyA9PSAibm90ZXh0IiAmJiAhZWwuYXR0ciggInRpdGxlIiApICkgewoJCQkJZWwuYXR0ciggInRpdGxlIiwgZWwudGV4dCgpICk7CgkJCX0KCQl9CgoJCWlmICggby5jb3JuZXJzICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1jb3JuZXItYWxsIjsKCQkJaW5uZXJDbGFzcyArPSAiIHVpLWJ0bi1jb3JuZXItYWxsIjsKCQl9CgoJCWlmICggby5zaGFkb3cgKSB7CgkJCWJ1dHRvbkNsYXNzICs9ICIgdWktc2hhZG93IjsKCQl9CgoJCWVsLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0aGVtZSIsIG8udGhlbWUgKQoJCQkuYWRkQ2xhc3MoIGJ1dHRvbkNsYXNzICk7CgoJCXdyYXAgPSAoICI8RCBjbGFzcz0nIiArIGlubmVyQ2xhc3MgKyAiJz48RCBjbGFzcz0ndWktYnRuLXRleHQnPjwvRD4iICsKCQkJKCBvLmljb24gPyAiPHNwYW4gY2xhc3M9JyIgKyBpY29uQ2xhc3MgKyAiJz48L3NwYW4+IiA6ICIiICkgKwoJCQkiPC9EPiIgKS5yZXBsYWNlKCAvRC9nLCBvLndyYXBwZXJFbHMgKTsKCgkJZWwud3JhcElubmVyKCB3cmFwICk7Cgl9KTsKfTsKCiQuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzID0gewoJY29ybmVyczogdHJ1ZSwKCXNoYWRvdzogdHJ1ZSwKCWljb25zaGFkb3c6IHRydWUsCgl3cmFwcGVyRWxzOiAic3BhbiIKfTsKCmZ1bmN0aW9uIGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBlbGVtZW50ICkgewoJd2hpbGUgKCBlbGVtZW50ICkgewoJCXZhciAkZWxlID0gJCggZWxlbWVudCApOwoJCWlmICggJGVsZS5oYXNDbGFzcyggInVpLWJ0biIgKSAmJiAhJGVsZS5oYXNDbGFzcyggInVpLWRpc2FibGVkIiApICkgewoJCQlicmVhazsKCQl9CgkJZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKCX0KCXJldHVybiBlbGVtZW50Owp9Cgp2YXIgYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24oKSB7CgkkKCBkb2N1bWVudCApLmJpbmQoIHsKCQkidm1vdXNlZG93biI6IGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyIGJ0biA9IGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBldmVudC50YXJnZXQgKSwKCQkJCSRidG4sIHRoZW1lOwoKCQkJaWYgKCBidG4gKSB7CgkJCQkkYnRuID0gJCggYnRuICk7CgkJCQl0aGVtZSA9ICRidG4uYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRoZW1lIiApOwoJCQkJJGJ0bi5yZW1vdmVDbGFzcyggInVpLWJ0bi11cC0iICsgdGhlbWUgKS5hZGRDbGFzcyggInVpLWJ0bi1kb3duLSIgKyB0aGVtZSApOwoJCQl9CgkJfSwKCQkidm1vdXNlY2FuY2VsIHZtb3VzZXVwIjogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgYnRuID0gY2xvc2VzdEVuYWJsZWRCdXR0b24oIGV2ZW50LnRhcmdldCApLAoJCQkJJGJ0biwgdGhlbWU7CgoJCQlpZiAoIGJ0biApIHsKCQkJCSRidG4gPSAkKCBidG4gKTsKCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7CgkJCQkkYnRuLnJlbW92ZUNsYXNzKCAidWktYnRuLWRvd24tIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICk7CgkJCX0KCQl9LAoJCSJ2bW91c2VvdmVyIGZvY3VzIjogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgYnRuID0gY2xvc2VzdEVuYWJsZWRCdXR0b24oIGV2ZW50LnRhcmdldCApLAoJCQkJJGJ0biwgdGhlbWU7CgoJCQlpZiAoIGJ0biApIHsKCQkJCSRidG4gPSAkKCBidG4gKTsKCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7CgkJCQkkYnRuLnJlbW92ZUNsYXNzKCAidWktYnRuLXVwLSIgKyB0aGVtZSApLmFkZENsYXNzKCAidWktYnRuLWhvdmVyLSIgKyB0aGVtZSApOwoJCQl9CgkJfSwKCQkidm1vdXNlb3V0IGJsdXIiOiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciBidG4gPSBjbG9zZXN0RW5hYmxlZEJ1dHRvbiggZXZlbnQudGFyZ2V0ICksCgkJCQkkYnRuLCB0aGVtZTsKCgkJCWlmICggYnRuICkgewoJCQkJJGJ0biA9ICQoIGJ0biApOwoJCQkJdGhlbWUgPSAkYnRuLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0aGVtZSIgKTsKCQkJCSRidG4ucmVtb3ZlQ2xhc3MoICJ1aS1idG4taG92ZXItIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICk7CgkJCX0KCQl9Cgl9KTsKCglhdHRhY2hFdmVudHMgPSBudWxsOwp9OwoKLy9saW5rcyBpbiBiYXJzLCBvciB0aG9zZSB3aXRoICBkYXRhLXJvbGUgYmVjb21lIGJ1dHRvbnMKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCgkkKCAiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLCBlLnRhcmdldCApCgkJLm5vdCggIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIiApCgkJLmJ1dHRvbk1hcmt1cCgpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yazogImNvbnRyb2xncm91cCIgcGx1Z2luIC0gY29ybmVyLXJvdW5kaW5nIGZvciBncm91cHMgb2YgYnV0dG9ucywgY2hlY2tzLCByYWRpb3MsIGV0YwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC5mbi5jb250cm9sZ3JvdXAgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCglyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoKCQl2YXIgJGVsID0gJCggdGhpcyApLAoJCQlvID0gJC5leHRlbmQoewoJCQkJCQlkaXJlY3Rpb246ICRlbC5qcW1EYXRhKCAidHlwZSIgKSB8fCAidmVydGljYWwiLAoJCQkJCQlzaGFkb3c6IGZhbHNlLAoJCQkJCQlleGNsdWRlSW52aXNpYmxlOiB0cnVlCgkJCQkJfSwgb3B0aW9ucyApLAoJCQlncm91cGhlYWRpbmcgPSAkZWwuZmluZCggIj5sZWdlbmQiICksCgkJCWZsQ29ybmVycyA9IG8uZGlyZWN0aW9uID09ICJob3Jpem9udGFsIiA/IFsgInVpLWNvcm5lci1sZWZ0IiwgInVpLWNvcm5lci1yaWdodCIgXSA6IFsgInVpLWNvcm5lci10b3AiLCAidWktY29ybmVyLWJvdHRvbSIgXSwKCQkJdHlwZSA9ICRlbC5maW5kKCAiaW5wdXQ6ZXEoMCkiICkuYXR0ciggInR5cGUiICk7CgoJCS8vIFJlcGxhY2UgbGVnZW5kIHdpdGggbW9yZSBzdHlsYWJsZSByZXBsYWNlbWVudCBkaXYKCQlpZiAoIGdyb3VwaGVhZGluZy5sZW5ndGggKSB7CgkJCSRlbC53cmFwSW5uZXIoICI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIgKTsKCQkJJCggIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IiArIGdyb3VwaGVhZGluZy5odG1sKCkgKyAiPC9kaXY+IiApLmluc2VydEJlZm9yZSggJGVsLmNoaWxkcmVuKDApICk7CgkJCWdyb3VwaGVhZGluZy5yZW1vdmUoKTsKCQl9CgoJCSRlbC5hZGRDbGFzcyggInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iICsgby5kaXJlY3Rpb24gKTsKCgkJLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgbW92ZWQgb3V0IHRvIHRoZSBjbG9zdXJlCgkJLy8gb3RoZXJ3aXNlIGl0IGlzIHJlZGVmaW5lZCBlYWNoIHRpbWUgY29udHJvbGdyb3VwKCkgaXMgY2FsbGVkCgkJZnVuY3Rpb24gZmxpcENsYXNzZXMoIGVscyApIHsKCQkJZWxzLnJlbW92ZUNsYXNzKCAidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IiApCgkJCQkuZXEoIDAgKS5hZGRDbGFzcyggZmxDb3JuZXJzWyAwIF0gKQoJCQkJLmVuZCgpCgkJCQkuZmlsdGVyKCAiOmxhc3QiICkuYWRkQ2xhc3MoIGZsQ29ybmVyc1sgMSBdICkuYWRkQ2xhc3MoICJ1aS1jb250cm9sZ3JvdXAtbGFzdCIgKTsKCQl9CgoJCWZsaXBDbGFzc2VzKCAkZWwuZmluZCggIi51aS1idG4iICsgKCBvLmV4Y2x1ZGVJbnZpc2libGUgPyAiOnZpc2libGUiIDogIiIgKSApICk7CgkJZmxpcENsYXNzZXMoICRlbC5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKSApOwoKCQlpZiAoIG8uc2hhZG93ICkgewoJCQkkZWwuYWRkQ2xhc3MoICJ1aS1zaGFkb3ciICk7CgkJfQoJfSk7Cn07CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIiwgZS50YXJnZXQgKS5jb250cm9sZ3JvdXAoeyBleGNsdWRlSW52aXNpYmxlOiBmYWxzZSB9KTsKfSk7Cgp9KShqUXVlcnkpOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAiZmllbGRjb250YWluIiBwbHVnaW4gLSBzaW1wbGUgY2xhc3MgYWRkaXRpb25zIHRvIG1ha2UgZm9ybSByb3cgc2VwYXJhdG9ycwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCQoJLy9saW5rcyB3aXRoaW4gY29udGVudCBhcmVhcwoJJCggZS50YXJnZXQgKQoJCS5maW5kKCAiYSIgKQoJCS5ub3QoICIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS5hZGRDbGFzcyggInVpLWxpbmsiICk7Cgp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImZpeEhlYWRlckZvb3RlciIgcGx1Z2luIC0gb24tZGVtYW5kIHBvc2l0aW9uaW5nIGZvciBoZWFkZXJzLGZvb3RlcnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgc2xpZGVEb3duQ2xhc3MgPSAidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIiwKCXNsaWRlVXBDbGFzcyA9ICJ1aS1mb290ZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiLAoKCXNsaWRlRG93blNlbGVjdG9yID0gIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIsCglzbGlkZVVwU2VsZWN0b3IgPSAiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIjsKCiQuZm4uZml4SGVhZGVyRm9vdGVyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CgoJaWYgKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCApIHsKCQlyZXR1cm4gdGhpczsKCX0KCglyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsKCgkJaWYgKCAkdGhpcy5qcW1EYXRhKCAiZnVsbHNjcmVlbiIgKSApIHsKCQkJJHRoaXMuYWRkQ2xhc3MoICJ1aS1wYWdlLWZ1bGxzY3JlZW4iICk7CgkJfQoKCQkvLyBTaG91bGQgYmUgc2xpZGVkb3duCgkJJHRoaXMuZmluZCggc2xpZGVEb3duU2VsZWN0b3IgKS5hZGRDbGFzcyggc2xpZGVEb3duQ2xhc3MgKTsKCgkJLy8gU2hvdWxkIGJlIHNsaWRldXAKCQkkdGhpcy5maW5kKCBzbGlkZVVwU2VsZWN0b3IgKS5hZGRDbGFzcyggc2xpZGVVcENsYXNzICk7Cgl9KTsKfTsKCi8vIHNpbmdsZSBjb250cm9sbGVyIGZvciBhbGwgc2hvd2luZyxoaWRpbmcsdG9nZ2xpbmcKJC5tb2JpbGUuZml4ZWRUb29sYmFycyA9IChmdW5jdGlvbigpIHsKCglpZiAoICEkLnN1cHBvcnQuc2Nyb2xsVG9wICkgewoJCXJldHVybjsKCX0KCgl2YXIgc3RpY2t5Rm9vdGVyLCBkZWxheVRpbWVyLAoJCWN1cnJlbnRzdGF0ZSA9ICJpbmxpbmUiLAoJCWF1dG9IaWRlTW9kZSA9IGZhbHNlLAoJCXNob3dEZWxheSA9IDEwMCwKCQlpZ25vcmVUYXJnZXRzID0gImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiLAoJCXRvb2xiYXJTZWxlY3RvciA9ICIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIsCgkJLy8gZm9yIHN0b3JpbmcgcXVpY2sgcmVmZXJlbmNlcyB0byBkdXBsaWNhdGUgZm9vdGVycwoJCXN1cHBvcnRUb3VjaCA9ICQuc3VwcG9ydC50b3VjaCwKCQl0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hzdGFydCIgOiAibW91c2Vkb3duIiwKCQl0b3VjaFN0b3BFdmVudCA9IHN1cHBvcnRUb3VjaCA/ICJ0b3VjaGVuZCIgOiAibW91c2V1cCIsCgkJc3RhdGVCZWZvcmUgPSBudWxsLAoJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlLAoJCXRvdWNoVG9nZ2xlRW5hYmxlZCA9IHRydWU7CgoJZnVuY3Rpb24gc2hvd0V2ZW50Q2FsbGJhY2soIGV2ZW50ICkgewoJCS8vIEFuIGV2ZW50IHRoYXQgYWZmZWN0cyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlzdWFsIHZpZXdwb3J0IGhhcwoJCS8vIGJlZW4gdHJpZ2dlcmVkLiBJZiB0aGUgaGVhZGVyIGFuZC9vciBmb290ZXIgZm9yIHRoZSBjdXJyZW50IHBhZ2UgYXJlIGluIG92ZXJsYXkKCQkvLyBtb2RlLCB3ZSB3YW50IHRvIGhpZGUgdGhlbSwgYW5kIHRoZW4gZmlyZSBvZmYgYSB0aW1lciB0byBzaG93IHRoZW0gYXQgYSBsYXRlcgoJCS8vIHBvaW50LiBFdmVudHMgbGlrZSBhIHJlc2l6ZSBjYW4gYmUgdHJpZ2dlcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgYSBzY3JvbGwsIG9uCgkJLy8gc29tZSBwbGF0Zm9ybXMsIHNvIHRoZSB0aW1lciBpcyB1c2VkIHRvIGRlbGF5IHRoZSBhY3R1YWwgcG9zaXRpb25pbmcgdW50aWwgdGhlCgkJLy8gZmxvb2Qgb2YgZXZlbnRzIGhhdmUgc3Vic2lkZWQuCgkJLy8KCQkvLyBJZiB3ZSBhcmUgaW4gYXV0b0hpZGVNb2RlLCB3ZSBkb24ndCBkbyBhbnl0aGluZyBiZWNhdXNlIHdlIGtub3cgdGhlIHNjcm9sbAoJCS8vIGNhbGxiYWNrcyBmb3IgdGhlIHBsdWdpbiB3aWxsIGZpcmUgb2ZmIGEgc2hvdyB3aGVuIHRoZSBzY3JvbGxpbmcgaGFzIHN0b3BwZWQuCgkJaWYgKCAhYXV0b0hpZGVNb2RlICYmIGN1cnJlbnRzdGF0ZSA9PT0gIm92ZXJsYXkiICkgewoJCQlpZiAoICFkZWxheVRpbWVyICkgewoJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCB0cnVlICk7CgkJCX0KCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsKCQl9Cgl9CgoJJChmdW5jdGlvbigpIHsKCQl2YXIgJGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSwKCQkJJHdpbmRvdyA9ICQoIHdpbmRvdyApOwoKCQkkZG9jdW1lbnQKCQkJLmJpbmQoICJ2bW91c2Vkb3duIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCB0b3VjaFRvZ2dsZUVuYWJsZWQgKSB7CgkJCQkJc3RhdGVCZWZvcmUgPSBjdXJyZW50c3RhdGU7CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCB0b3VjaFRvZ2dsZUVuYWJsZWQgKSB7CgoJCQkJCWlmICggJChldmVudC50YXJnZXQpLmNsb3Nlc3QoIGlnbm9yZVRhcmdldHMgKS5sZW5ndGggKSB7CgkJCQkJCXJldHVybjsKCQkJCQl9CgoJCQkJCWlmICggIXNjcm9sbFRyaWdnZXJlZCApIHsKCQkJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy50b2dnbGUoIHN0YXRlQmVmb3JlICk7CgkJCQkJCXN0YXRlQmVmb3JlID0gbnVsbDsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAic2lsZW50c2Nyb2xsIiwgc2hvd0V2ZW50Q2FsbGJhY2sgKTsKCgoJCS8vIFRoZSBiZWxvdyBjaGVja3MgZmlyc3QgZm9yIGEgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgdmFsdWUsIGFuZCBpZiB6ZXJvLCBiaW5kcyBzY3JvbGwgZXZlbnRzIHRvICQod2luZG93KSBpbnN0ZWFkLgoJCS8vIElmIHRoZSBzY3JvbGxUb3AgdmFsdWUgaXMgYWN0dWFsbHkgemVybywgYm90aCB3aWxsIHJldHVybiB6ZXJvIGFueXdheS4KCQkvLwoJCS8vIFdvcmtzIHdpdGggJChkb2N1bWVudCksIG5vdCAkKHdpbmRvdykgOiBPcGVyYSBNb2JpbGUgKFdpbk1PIHBob25lOyBraW5kYSBicm9rZW4gYW55d2F5KQoJCS8vIFdvcmtzIHdpdGggJCh3aW5kb3cpLCBub3QgJChkb2N1bWVudCkgOiBJRSA3LzgKCQkvLyBXb3JrcyB3aXRoIGVpdGhlciAkKHdpbmRvdykgb3IgJChkb2N1bWVudCkgOiBDaHJvbWUsIEZGIDMuNi80LCBBbmRyb2lkIDEuNi8yLjEsIGlPUwoJCS8vIE5lZWRzIHdvcmsgZWl0aGVyIHdheSA6IEJCNSwgT3BlcmEgTW9iaWxlIChpT1MpCgoJCSggKCAkZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPT09IDAgKSA/ICR3aW5kb3cgOiAkZG9jdW1lbnQgKQoJCQkuYmluZCggInNjcm9sbHN0YXJ0IiwgZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkJCXNjcm9sbFRyaWdnZXJlZCA9IHRydWU7CgoJCQkJaWYgKCBzdGF0ZUJlZm9yZSA9PT0gbnVsbCApIHsKCQkJCQlzdGF0ZUJlZm9yZSA9IGN1cnJlbnRzdGF0ZTsKCQkJCX0KCgkJCQkvLyBXZSBvbmx5IGVudGVyIGF1dG9IaWRlTW9kZSBpZiB0aGUgaGVhZGVycy9mb290ZXJzIGFyZSBpbgoJCQkJLy8gYW4gb3ZlcmxheSBzdGF0ZSBvciB0aGUgc2hvdyB0aW1lciB3YXMgc3RhcnRlZC4gSWYgdGhlCgkJCQkvLyBzaG93IHRpbWVyIGlzIHNldCwgY2xlYXIgaXQgc28gdGhlIGhlYWRlcnMvZm9vdGVycyBkb24ndAoJCQkJLy8gc2hvdyB1cCB1bnRpbCBhZnRlciB3ZSdyZSBkb25lIHNjcm9sbGluZy4KCQkJCXZhciBpc092ZXJsYXlTdGF0ZSA9IHN0YXRlQmVmb3JlID09ICJvdmVybGF5IjsKCgkJCQlhdXRvSGlkZU1vZGUgPSBpc092ZXJsYXlTdGF0ZSB8fCAhIWRlbGF5VGltZXI7CgoJCQkJaWYgKCBhdXRvSGlkZU1vZGUgKSB7CgkJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpOwoKCQkJCQlpZiAoIGlzT3ZlcmxheVN0YXRlICkgewoJCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoIHRydWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAic2Nyb2xsc3RvcCIsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQlpZiAoICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIGlnbm9yZVRhcmdldHMgKS5sZW5ndGggKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlOwoKCQkJCWlmICggYXV0b0hpZGVNb2RlICkgewoJCQkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsKCQkJCQlhdXRvSGlkZU1vZGUgPSBmYWxzZTsKCQkJCX0KCQkJCXN0YXRlQmVmb3JlID0gbnVsbDsKCQkJfSk7CgoJCQkkd2luZG93LmJpbmQoICJyZXNpemUiLCBzaG93RXZlbnRDYWxsYmFjayApOwoJfSk7CgoJLy8gMS4gQmVmb3JlIHBhZ2UgaXMgc2hvd24sIGNoZWNrIGZvciBkdXBsaWNhdGUgZm9vdGVyCgkvLyAyLiBBZnRlciBwYWdlIGlzIHNob3duLCBhcHBlbmQgZm9vdGVyIHRvIG5ldyBwYWdlCgkkKCAiLnVpLXBhZ2UiICkKCQkubGl2ZSggInBhZ2ViZWZvcmVzaG93IiwgZnVuY3Rpb24oIGV2ZW50LCB1aSApIHsKCgkJCXZhciBwYWdlID0gJCggZXZlbnQudGFyZ2V0ICksCgkJCQlmb290ZXIgPSBwYWdlLmZpbmQoICI6anFtRGF0YShyb2xlPSdmb290ZXInKSIgKSwKCQkJCWlkID0gZm9vdGVyLmRhdGEoICJpZCIgKSwKCQkJCXByZXZQYWdlID0gdWkucHJldlBhZ2UsCgkJCQlwcmV2Rm9vdGVyID0gcHJldlBhZ2UgJiYgcHJldlBhZ2UuZmluZCggIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiApLAoJCQkJcHJldkZvb3Rlck1hdGNoZXMgPSBwcmV2Rm9vdGVyLmxlbmd0aCAmJiBwcmV2Rm9vdGVyLmpxbURhdGEoICJpZCIgKSA9PT0gaWQ7CgoJCQlpZiAoIGlkICYmIHByZXZGb290ZXJNYXRjaGVzICkgewoJCQkJc3RpY2t5Rm9vdGVyID0gZm9vdGVyOwoJCQkJc2V0VG9wKCBzdGlja3lGb290ZXIucmVtb3ZlQ2xhc3MoICJmYWRlIGluIG91dCIgKS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApICk7CgkJCX0KCQl9KQoJCS5saXZlKCAicGFnZXNob3ciLCBmdW5jdGlvbiggZXZlbnQsIHVpICkgewoKCQkJdmFyICR0aGlzID0gJCggdGhpcyApOwoKCQkJaWYgKCBzdGlja3lGb290ZXIgJiYgc3RpY2t5Rm9vdGVyLmxlbmd0aCApIHsKCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXNldFRvcCggc3RpY2t5Rm9vdGVyLmFwcGVuZFRvKCAkdGhpcyApLmFkZENsYXNzKCAiZmFkZSIgKSApOwoJCQkJCXN0aWNreUZvb3RlciA9IG51bGw7CgkJCQl9LCA1MDApOwoJCQl9CgoJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coIHRydWUsIHRoaXMgKTsKCQl9KTsKCgkvLyBXaGVuIGEgY29sbGFwc2lhYmxlIGlzIGhpZGRlbiBvciBzaG93biB3ZSBuZWVkIHRvIHRyaWdnZXIgdGhlIGZpeGVkIHRvb2xiYXIgdG8gcmVwb3NpdGlvbiBpdHNlbGYgKCMxNjM1KQoJJCggIi51aS1jb2xsYXBzaWJsZS1jb250YWluIiApLmxpdmUoICJjb2xsYXBzZSBleHBhbmQiLCBzaG93RXZlbnRDYWxsYmFjayApOwoKCS8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgaXMgYnJva2VuIGluIGlPUyAzLjIuMSBvbiB0aGUgaVBhZC4gVGhlCgkvLyBjb29yZGluYXRlcyBpbnNpZGUgb2YgdGhlIHJlY3QgaXQgcmV0dXJucyBkb24ndCBoYXZlIHRoZSBwYWdlIHNjcm9sbCBwb3NpdGlvbgoJLy8gZmFjdG9yZWQgb3V0IG9mIGl0IGxpa2UgdGhlIG90aGVyIHBsYXRmb3JtcyBkby4gVG8gZ2V0IGFyb3VuZCB0aGlzLAoJLy8gd2UnbGwganVzdCBjYWxjdWxhdGUgdGhlIHRvcCBvZmZzZXQgdGhlIG9sZCBmYXNoaW9uZWQgd2F5IHVudGlsIGNvcmUgaGFzCgkvLyBhIGNoYW5jZSB0byBmaWd1cmUgb3V0IGhvdyB0byBoYW5kbGUgdGhpcyBzaXR1YXRpb24uCgkvLwoJLy8gVE9ETzogV2UnbGwgbmVlZCB0byBnZXQgcmlkIG9mIGdldE9mZnNldFRvcCgpIG9uY2UgYSBmaXggZ2V0cyBmb2xkZWQgaW50byBjb3JlLgoKCWZ1bmN0aW9uIGdldE9mZnNldFRvcCggZWxlICkgewoJCXZhciB0b3AgPSAwLAoJCQlvcCwgYm9keTsKCgkJaWYgKCBlbGUgKSB7CgkJCWJvZHkgPSBkb2N1bWVudC5ib2R5OwoJCQlvcCA9IGVsZS5vZmZzZXRQYXJlbnQ7CgkJCXRvcCA9IGVsZS5vZmZzZXRUb3A7CgoJCQl3aGlsZSAoIGVsZSAmJiBlbGUgIT0gYm9keSApIHsKCQkJCXRvcCArPSBlbGUuc2Nyb2xsVG9wIHx8IDA7CgoJCQkJaWYgKCBlbGUgPT0gb3AgKSB7CgkJCQkJdG9wICs9IG9wLm9mZnNldFRvcDsKCQkJCQlvcCA9IGVsZS5vZmZzZXRQYXJlbnQ7CgkJCQl9CgoJCQkJZWxlID0gZWxlLnBhcmVudE5vZGU7CgkJCX0KCQl9CgkJcmV0dXJuIHRvcDsKCX0KCglmdW5jdGlvbiBzZXRUb3AoIGVsICkgewoJCXZhciBmcm9tVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLAoJCQl0aGlzVG9wID0gZ2V0T2Zmc2V0VG9wKCBlbFsgMCBdICksIC8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLgoJCQl0aGlzQ1NTdG9wID0gZWwuY3NzKCAidG9wIiApID09ICJhdXRvIiA/IDAgOiBwYXJzZUZsb2F0KGVsLmNzcyggInRvcCIgKSksCgkJCXNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCwKCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksCgkJCXVzZVJlbGF0aXZlID0gZWwucGFyZW50cyggIi51aS1wYWdlOm5vdCgudWktcGFnZS1mdWxsc2NyZWVuKSIgKS5sZW5ndGgsCgkJCXJlbHZhbDsKCgkJaWYgKCBlbC5pcyggIi51aS1oZWFkZXItZml4ZWQiICkgKSB7CgoJCQlyZWx2YWwgPSBmcm9tVG9wIC0gdGhpc1RvcCArIHRoaXNDU1N0b3A7CgoJCQlpZiAoIHJlbHZhbCA8IHRoaXNUb3AgKSB7CgkJCQlyZWx2YWwgPSAwOwoJCQl9CgoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICk7CgkJfSBlbHNlIHsKCQkJLy8gcmVsdmFsID0gLTEgKiAodGhpc1RvcCAtIChmcm9tVG9wICsgc2NyZWVuSGVpZ2h0KSArIHRoaXNDU1N0b3AgKyB0aGlzSGVpZ2h0KTsKCQkJLy8gaWYgKCByZWx2YWwgPiB0aGlzVG9wICkgeyByZWx2YWwgPSAwOyB9CgkJCXJlbHZhbCA9IGZyb21Ub3AgKyBzY3JlZW5IZWlnaHQgLSB0aGlzSGVpZ2h0IC0gKHRoaXNUb3AgLSB0aGlzQ1NTdG9wICk7CgoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICsgc2NyZWVuSGVpZ2h0IC0gdGhpc0hlaWdodCApOwoJCX0KCX0KCgkvLyBFeHBvc2VkIG1ldGhvZHMKCXJldHVybiB7CgoJCXNob3c6IGZ1bmN0aW9uKCBpbW1lZGlhdGVseSwgcGFnZSApIHsKCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTsKCgkJCWN1cnJlbnRzdGF0ZSA9ICJvdmVybGF5IjsKCgkJCXZhciAkYXAgPSBwYWdlID8gJCggcGFnZSApIDoKCQkJCQkoICQubW9iaWxlLmFjdGl2ZVBhZ2UgPyAkLm1vYmlsZS5hY3RpdmVQYWdlIDoKCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKSApOwoKCQkJcmV0dXJuICRhcC5jaGlsZHJlbiggdG9vbGJhclNlbGVjdG9yICkuZWFjaChmdW5jdGlvbigpIHsKCgkJCQl2YXIgZWwgPSAkKCB0aGlzICksCgkJCQkJZnJvbVRvcCA9ICQoIHdpbmRvdyApLnNjcm9sbFRvcCgpLAoJCQkJCS8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLgoJCQkJCXRoaXNUb3AgPSBnZXRPZmZzZXRUb3AoIGVsWyAwIF0gKSwKCQkJCQlzY3JlZW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsCgkJCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksCgkJCQkJYWxyZWFkeVZpc2libGUgPSAoIGVsLmlzKCAiLnVpLWhlYWRlci1maXhlZCIgKSAmJiBmcm9tVG9wIDw9IHRoaXNUb3AgKyB0aGlzSGVpZ2h0ICkgfHwKCQkJCQkJCQkJCQkJCQkoIGVsLmlzKCAiLnVpLWZvb3Rlci1maXhlZCIgKSAmJiB0aGlzVG9wIDw9IGZyb21Ub3AgKyBzY3JlZW5IZWlnaHQgKTsKCgkJCQkvLyBBZGQgc3RhdGUgY2xhc3MKCQkJCWVsLmFkZENsYXNzKCAidWktZml4ZWQtb3ZlcmxheSIgKS5yZW1vdmVDbGFzcyggInVpLWZpeGVkLWlubGluZSIgKTsKCgkJCQlpZiAoICFhbHJlYWR5VmlzaWJsZSAmJiAhaW1tZWRpYXRlbHkgKSB7CgkJCQkJZWwuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKSB7CgkJCQkJCWVsLnJlbW92ZUNsYXNzKCAiaW4iICk7CgkJCQkJfSkuYWRkQ2xhc3MoICJpbiIgKTsKCQkJCX0KCQkJCXNldFRvcChlbCk7CgkJCX0pOwoJCX0sCgoJCWhpZGU6IGZ1bmN0aW9uKCBpbW1lZGlhdGVseSApIHsKCgkJCWN1cnJlbnRzdGF0ZSA9ICJpbmxpbmUiOwoKCQkJdmFyICRhcCA9ICQubW9iaWxlLmFjdGl2ZVBhZ2UgPyAkLm1vYmlsZS5hY3RpdmVQYWdlIDoKCQkJCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKTsKCgkJCXJldHVybiAkYXAuY2hpbGRyZW4oIHRvb2xiYXJTZWxlY3RvciApLmVhY2goZnVuY3Rpb24oKSB7CgoJCQkJdmFyIGVsID0gJCh0aGlzKSwKCQkJCQl0aGlzQ1NTdG9wID0gZWwuY3NzKCAidG9wIiApLAoJCQkJCWNsYXNzZXM7CgoJCQkJdGhpc0NTU3RvcCA9IHRoaXNDU1N0b3AgPT0gImF1dG8iID8gMCA6CgkJCQkJCQkJCQkJcGFyc2VGbG9hdCh0aGlzQ1NTdG9wKTsKCgkJCQkvLyBBZGQgc3RhdGUgY2xhc3MKCQkJCWVsLmFkZENsYXNzKCAidWktZml4ZWQtaW5saW5lIiApLnJlbW92ZUNsYXNzKCAidWktZml4ZWQtb3ZlcmxheSIgKTsKCgkJCQlpZiAoIHRoaXNDU1N0b3AgPCAwIHx8ICggZWwuaXMoICIudWktaGVhZGVyLWZpeGVkIiApICYmIHRoaXNDU1N0b3AgIT09IDAgKSApIHsKCgkJCQkJaWYgKCBpbW1lZGlhdGVseSApIHsKCQkJCQkJZWwuY3NzKCAidG9wIiwgMCk7CgkJCQkJfSBlbHNlIHsKCgkJCQkJCWlmICggZWwuY3NzKCAidG9wIiApICE9PSAiYXV0byIgJiYgcGFyc2VGbG9hdCggZWwuY3NzKCAidG9wIiApICkgIT09IDAgKSB7CgoJCQkJCQkJY2xhc3NlcyA9ICJvdXQgcmV2ZXJzZSI7CgoJCQkJCQkJZWwuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKSB7CgkJCQkJCQkJZWwucmVtb3ZlQ2xhc3MoIGNsYXNzZXMgKS5jc3MoICJ0b3AiLCAwICk7CgkJCQkJCQl9KS5hZGRDbGFzcyggY2xhc3NlcyApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9LAoKCQlzdGFydFNob3dUaW1lcjogZnVuY3Rpb24oKSB7CgoJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7CgoJCQl2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoIGFyZ3VtZW50cyApOwoKCQkJZGVsYXlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQlkZWxheVRpbWVyID0gdW5kZWZpbmVkOwoJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93LmFwcGx5KCBudWxsLCBhcmdzICk7CgkJCX0sIHNob3dEZWxheSk7CgkJfSwKCgkJY2xlYXJTaG93VGltZXI6IGZ1bmN0aW9uKCkgewoJCQlpZiAoIGRlbGF5VGltZXIgKSB7CgkJCQljbGVhclRpbWVvdXQoIGRlbGF5VGltZXIgKTsKCQkJfQoJCQlkZWxheVRpbWVyID0gdW5kZWZpbmVkOwoJCX0sCgoJCXRvZ2dsZTogZnVuY3Rpb24oIGZyb20gKSB7CgkJCWlmICggZnJvbSApIHsKCQkJCWN1cnJlbnRzdGF0ZSA9IGZyb207CgkJCX0KCQkJcmV0dXJuICggY3VycmVudHN0YXRlID09PSAib3ZlcmxheSIgKSA/ICQubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSgpIDoKCQkJCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coKTsKCQl9LAoKCQlzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkgewoJCQl0b3VjaFRvZ2dsZUVuYWJsZWQgPSBlbmFibGVkOwoJCX0KCX07Cn0pKCk7CgovLyBUT0RPIC0gRGVwcmVjYXRlZCBuYW1lcGFjZSBvbiAkLiBSZW1vdmUgaW4gYSBsYXRlciByZWxlYXNlCiQuZml4ZWRUb29sYmFycyA9ICQubW9iaWxlLmZpeGVkVG9vbGJhcnM7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJaWYgKCAkKCAiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLCBldmVudC50YXJnZXQgKS5sZW5ndGggKSB7CgoJCSQoIGV2ZW50LnRhcmdldCApLmVhY2goZnVuY3Rpb24oKSB7CgoJCQlpZiAoICEkLnN1cHBvcnQuc2Nyb2xsVG9wICkgewoJCQkJcmV0dXJuIHRoaXM7CgkJCX0KCgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsKCgkJCWlmICggJHRoaXMuanFtRGF0YSggImZ1bGxzY3JlZW4iICkgKSB7CgkJCQkkdGhpcy5hZGRDbGFzcyggInVpLXBhZ2UtZnVsbHNjcmVlbiIgKTsKCQkJfQoKCQkJLy8gU2hvdWxkIGJlIHNsaWRlZG93bgoJCQkkdGhpcy5maW5kKCBzbGlkZURvd25TZWxlY3RvciApLmFkZENsYXNzKCBzbGlkZURvd25DbGFzcyApOwoKCQkJLy8gU2hvdWxkIGJlIHNsaWRldXAKCQkJJHRoaXMuZmluZCggc2xpZGVVcFNlbGVjdG9yICkuYWRkQ2xhc3MoIHNsaWRlVXBDbGFzcyApOwoKCQl9KQoKCX0KfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiByZXNvbHV0aW9uIGFuZCBDU1MgbWVkaWEgcXVlcnkgcmVsYXRlZCBoZWxwZXJzIGFuZCBiZWhhdmlvcgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKdmFyICR3aW5kb3cgPSAkKCB3aW5kb3cgKSwKCSRodG1sID0gJCggImh0bWwiICksCgoJLy9tZWRpYS1xdWVyeS1saWtlIHdpZHRoIGJyZWFrcG9pbnRzLCB3aGljaCBhcmUgdHJhbnNsYXRlZCB0byBjbGFzc2VzIG9uIHRoZSBodG1sIGVsZW1lbnQKCXJlc29sdXRpb25CcmVha3BvaW50cyA9IFsgMzIwLCA0ODAsIDc2OCwgMTAyNCBdOwoKLyoKCXByaXZhdGUgZnVuY3Rpb24gZm9yIGFkZGluZy9yZW1vdmluZyBicmVha3BvaW50IGNsYXNzZXMgdG8gSFRNTCBlbGVtZW50IGZvciBmYXV4IG1lZGlhLXF1ZXJ5IHN1cHBvcnQKCUl0IGRvZXMgbm90IHJlcXVpcmUgbWVkaWEgcXVlcnkgc3VwcG9ydCwgaW5zdGVhZCB1c2luZyBKUyB0byBkZXRlY3Qgc2NyZWVuIHdpZHRoID4gY3Jvc3MtYnJvd3NlciBzdXBwb3J0CglUaGlzIGZ1bmN0aW9uIGlzIGNhbGxlZCBvbiBvcmllbnRhdGlvbmNoYW5nZSwgcmVzaXplLCBhbmQgbW9iaWxlaW5pdCwgYW5kIGlzIGJvdW5kIHZpYSB0aGUgJ2h0bWxjbGFzcycgZXZlbnQgbmFtZXNwYWNlCiovCmZ1bmN0aW9uIGRldGVjdFJlc29sdXRpb25CcmVha3BvaW50cygpIHsKCXZhciBjdXJyV2lkdGggPSAkd2luZG93LndpZHRoKCksCgkJbWluUHJlZml4ID0gIm1pbi13aWR0aC0iLAoJCW1heFByZWZpeCA9ICJtYXgtd2lkdGgtIiwKCQltaW5CcmVha3BvaW50cyA9IFtdLAoJCW1heEJyZWFrcG9pbnRzID0gW10sCgkJdW5pdCA9ICJweCIsCgkJYnJlYWtwb2ludENsYXNzZXM7CgoJJGh0bWwucmVtb3ZlQ2xhc3MoIG1pblByZWZpeCArIHJlc29sdXRpb25CcmVha3BvaW50cy5qb2luKHVuaXQgKyAiICIgKyBtaW5QcmVmaXgpICsgdW5pdCArICIgIiArCgkJbWF4UHJlZml4ICsgcmVzb2x1dGlvbkJyZWFrcG9pbnRzLmpvaW4oIHVuaXQgKyAiICIgKyBtYXhQcmVmaXgpICsgdW5pdCApOwoKCSQuZWFjaCggcmVzb2x1dGlvbkJyZWFrcG9pbnRzLCBmdW5jdGlvbiggaSwgYnJlYWtQb2ludCApIHsKCQlpZiggY3VycldpZHRoID49IGJyZWFrUG9pbnQgKSB7CgkJCW1pbkJyZWFrcG9pbnRzLnB1c2goIG1pblByZWZpeCArIGJyZWFrUG9pbnQgKyB1bml0ICk7CgkJfQoJCWlmKCBjdXJyV2lkdGggPD0gYnJlYWtQb2ludCApIHsKCQkJbWF4QnJlYWtwb2ludHMucHVzaCggbWF4UHJlZml4ICsgYnJlYWtQb2ludCArIHVuaXQgKTsKCQl9Cgl9KTsKCglpZiAoIG1pbkJyZWFrcG9pbnRzLmxlbmd0aCApIHsKCQlicmVha3BvaW50Q2xhc3NlcyA9IG1pbkJyZWFrcG9pbnRzLmpvaW4oIiAiKTsKCX0KCWlmICggbWF4QnJlYWtwb2ludHMubGVuZ3RoICkgewoJCWJyZWFrcG9pbnRDbGFzc2VzICs9ICIgIiArICBtYXhCcmVha3BvaW50cy5qb2luKCIgIik7Cgl9CgoJJGh0bWwuYWRkQ2xhc3MoIGJyZWFrcG9pbnRDbGFzc2VzICk7Cn07CgovKiAkLm1vYmlsZS5hZGRSZXNvbHV0aW9uQnJlYWtwb2ludHMgbWV0aG9kOgoJcGFzcyBlaXRoZXIgYSBudW1iZXIgb3IgYW4gYXJyYXkgb2YgbnVtYmVycyBhbmQgdGhleSdsbCBiZSBhZGRlZCB0byB0aGUgbWluL21heCBicmVha3BvaW50IGNsYXNzZXMKCUV4YW1wbGVzOgoJCSQubW9iaWxlLmFkZFJlc29sdXRpb25CcmVha3BvaW50cyggNTAwICk7CgkJJC5tb2JpbGUuYWRkUmVzb2x1dGlvbkJyZWFrcG9pbnRzKCBbNTAwLCAxMjAwXSApOwoqLwokLm1vYmlsZS5hZGRSZXNvbHV0aW9uQnJlYWtwb2ludHMgPSBmdW5jdGlvbiggbmV3YnBzICkgewoJaWYoICQudHlwZSggbmV3YnBzICkgPT09ICJhcnJheSIgKXsKCQlyZXNvbHV0aW9uQnJlYWtwb2ludHMgPSByZXNvbHV0aW9uQnJlYWtwb2ludHMuY29uY2F0KCBuZXdicHMgKTsKCX0gZWxzZSB7CgkJcmVzb2x1dGlvbkJyZWFrcG9pbnRzLnB1c2goIG5ld2JwcyApOwoJfQoKCXJlc29sdXRpb25CcmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uKCBhLCBiICkgewoJCXJldHVybiBhIC0gYjsKCX0pOwoKCWRldGVjdFJlc29sdXRpb25CcmVha3BvaW50cygpOwp9OwoKLyogb24gbW9iaWxlaW5pdCwgYWRkIGNsYXNzZXMgdG8gSFRNTCBlbGVtZW50CglhbmQgc2V0IGhhbmRsZXJzIHRvIHVwZGF0ZSB0aG9zZSBvbiBvcmllbnRhdGlvbmNoYW5nZSBhbmQgcmVzaXplCiovCiQoIGRvY3VtZW50ICkuYmluZCggIm1vYmlsZWluaXQuaHRtbGNsYXNzIiwgZnVuY3Rpb24oKSB7CgkvLyBiaW5kIHRvIG9yaWVudGF0aW9uY2hhbmdlIGFuZCByZXNpemUKCS8vIHRvIGFkZCBjbGFzc2VzIHRvIEhUTUwgZWxlbWVudCBmb3IgbWluL21heCBicmVha3BvaW50cyBhbmQgb3JpZW50YXRpb24KCgl2YXIgZXYgPSAkLnN1cHBvcnQub3JpZW50YXRpb247CgoJJHdpbmRvdy5iaW5kKCAib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIHRocm90dGxlZFJlc2l6ZS5odG1sY2xhc3MiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCS8vIGFkZCBvcmllbnRhdGlvbiBjbGFzcyB0byBIVE1MIGVsZW1lbnQgb24gZmxpcC9yZXNpemUuCgkJaWYgKCBldmVudC5vcmllbnRhdGlvbiApIHsKCQkJJGh0bWwucmVtb3ZlQ2xhc3MoICJwb3J0cmFpdCBsYW5kc2NhcGUiICkuYWRkQ2xhc3MoIGV2ZW50Lm9yaWVudGF0aW9uICk7CgkJfQoKCQkvLyBhZGQgY2xhc3NlcyB0byBIVE1MIGVsZW1lbnQgZm9yIG1pbi9tYXggYnJlYWtwb2ludHMKCQlkZXRlY3RSZXNvbHV0aW9uQnJlYWtwb2ludHMoKTsKCX0pOwp9KTsKCi8qIE1hbnVhbGx5IHRyaWdnZXIgYW4gb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQgd2hlbiB0aGUgZG9tIHJlYWR5IGV2ZW50IGZpcmVzLgoJVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGFueSB2aWV3cG9ydCBtZXRhIHRhZyB0aGF0IG1heSBoYXZlIGJlZW4gaW5qZWN0ZWQKCWhhcyB0YWtlbiBlZmZlY3QgYWxyZWFkeSwgYWxsb3dpbmcgdXMgdG8gcHJvcGVybHkgY2FsY3VsYXRlIHRoZSB3aWR0aCBvZiB0aGUKCWRvY3VtZW50LgoqLwokKGZ1bmN0aW9uKCkgewoJLy90cmlnZ2VyIGV2ZW50IG1hbnVhbGx5Cgkkd2luZG93LnRyaWdnZXIoICJvcmllbnRhdGlvbmNoYW5nZS5odG1sY2xhc3MiICk7Cn0pOwoKfSkoalF1ZXJ5KTsvKiEKICogalF1ZXJ5IE1vYmlsZSB2QFZFUlNJT04KICogaHR0cDovL2pxdWVyeW1vYmlsZS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEwLCBqUXVlcnkgUHJvamVjdAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKi8KCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7Cgl2YXIJJGh0bWwgPSAkKCAiaHRtbCIgKSwKCQkJJGhlYWQgPSAkKCAiaGVhZCIgKSwKCQkJJHdpbmRvdyA9ICQoIHdpbmRvdyApOwoKIAkvL3RyaWdnZXIgbW9iaWxlaW5pdCBldmVudCAtIHVzZWZ1bCBob29rIGZvciBjb25maWd1cmluZyAkLm1vYmlsZSBzZXR0aW5ncyBiZWZvcmUgdGhleSdyZSB1c2VkCgkkKCB3aW5kb3cuZG9jdW1lbnQgKS50cmlnZ2VyKCAibW9iaWxlaW5pdCIgKTsKCgkvL3N1cHBvcnQgY29uZGl0aW9ucwoJLy9pZiBkZXZpY2Ugc3VwcG9ydCBjb25kaXRpb24ocykgYXJlbid0IG1ldCwgbGVhdmUgdGhpbmdzIGFzIHRoZXkgYXJlIC0+IGEgYmFzaWMsIHVzYWJsZSBleHBlcmllbmNlLAoJLy9vdGhlcndpc2UsIHByb2NlZWQgd2l0aCB0aGUgZW5oYW5jZW1lbnRzCglpZiAoICEkLm1vYmlsZS5ncmFkZUEoKSApIHsKCQlyZXR1cm47Cgl9CgkKCS8vIG92ZXJyaWRlIGFqYXhFbmFibGVkIG9uIHBsYXRmb3JtcyB0aGF0IGhhdmUga25vd24gY29uZmxpY3RzIHdpdGggaGFzaCBoaXN0b3J5IHVwZGF0ZXMgCgkvLyBvciBnZW5lcmFsbHkgd29yayBiZXR0ZXIgYnJvd3NpbmcgaW4gcmVndWxhciBodHRwIGZvciBmdWxsIHBhZ2UgcmVmcmVzaGVzIChCQjUsIE9wZXJhIE1pbmkpCglpZiggJC5tb2JpbGUuYWpheEJsYWNrbGlzdCApewoJCSQubW9iaWxlLmFqYXhFbmFibGVkID0gZmFsc2U7Cgl9CgoJLy9hZGQgbW9iaWxlLCBpbml0aWFsIGxvYWQgInJlbmRlcmluZyIgY2xhc3NlcyB0byBkb2NFbAoJJGh0bWwuYWRkQ2xhc3MoICJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIgKTsKCgkvL2xvYWRpbmcgZGl2IHdoaWNoIGFwcGVhcnMgZHVyaW5nIEFqYXggcmVxdWVzdHMKCS8vd2lsbCBub3QgYXBwZWFyIGlmICQubW9iaWxlLmxvYWRpbmdNZXNzYWdlIGlzIGZhbHNlCgl2YXIgJGxvYWRlciA9ICQoICI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktYm9keS1hIHVpLWNvcm5lci1hbGwnPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyBzcGluJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+IiApOwoKCSQuZXh0ZW5kKCQubW9iaWxlLCB7CgkJLy8gdHVybiBvbi9vZmYgcGFnZSBsb2FkaW5nIG1lc3NhZ2UuCgkJc2hvd1BhZ2VMb2FkaW5nTXNnOiBmdW5jdGlvbigpIHsKCQkJaWYoICQubW9iaWxlLmxvYWRpbmdNZXNzYWdlICl7CgkJCQl2YXIgYWN0aXZlQnRuID0gJCggIi4iICsgJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKS5maXJzdCgpOwoJCQkKCQkJCSRsb2FkZXIKCQkJCQkuZmluZCggImgxIiApCgkJCQkJCS50ZXh0KCAkLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSApCgkJCQkJCS5lbmQoKQoJCQkJCS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApCgkJCQkJLy9wb3NpdGlvbiBhdCB5IGNlbnRlciAoaWYgc2Nyb2xsVG9wIHN1cHBvcnRlZCksIGFib3ZlIHRoZSBhY3RpdmVCdG4gKGlmIGRlZmluZWQpLCBvciBqdXN0IDEwMHB4IGZyb20gdG9wCgkJCQkJLmNzcyggewoJCQkJCQl0b3A6ICQuc3VwcG9ydC5zY3JvbGxUb3AgJiYgJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmhlaWdodCgpIC8gMiB8fAoJCQkJCQlhY3RpdmVCdG4ubGVuZ3RoICYmIGFjdGl2ZUJ0bi5vZmZzZXQoKS50b3AgfHwgMTAwCgkJCQkJfSApOwoJCQl9CgkJCQoJCQkkaHRtbC5hZGRDbGFzcyggInVpLWxvYWRpbmciICk7CgkJfSwKCgkJaGlkZVBhZ2VMb2FkaW5nTXNnOiBmdW5jdGlvbigpIHsKCQkJJGh0bWwucmVtb3ZlQ2xhc3MoICJ1aS1sb2FkaW5nIiApOwoJCX0sCgoJCS8vIFhYWDogZGVwcmVjYXRlIGZvciAxLjAKCQlwYWdlTG9hZGluZzogZnVuY3Rpb24gKCBkb25lICkgewoJCQlpZiAoIGRvbmUgKSB7CgkJCQkkLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTsKCQkJfSBlbHNlIHsKCQkJCSQubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOwoJCQl9CgkJfSwKCgkJLy8gZmluZCBhbmQgZW5oYW5jZSB0aGUgcGFnZXMgaW4gdGhlIGRvbSBhbmQgdHJhbnNpdGlvbiB0byB0aGUgZmlyc3QgcGFnZS4KCQlpbml0aWFsaXplUGFnZTogZnVuY3Rpb24oKXsKCQkJLy9maW5kIHByZXNlbnQgcGFnZXMKCQkJdmFyICRwYWdlcyA9ICQoICI6anFtRGF0YShyb2xlPSdwYWdlJykiICk7CgkJCQoJCQkvL2lmIG5vIHBhZ2VzIGFyZSBmb3VuZCwgY3JlYXRlIG9uZSB3aXRoIGJvZHkncyBpbm5lciBodG1sCgkJCWlmKCAhJHBhZ2VzLmxlbmd0aCApewoJCQkJJHBhZ2VzID0gJCggImJvZHkiICkud3JhcElubmVyKCAiPGRpdiBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPSdwYWdlJz48L2Rpdj4iICkuY2hpbGRyZW4oIDAgKTsKCQkJfQoKCQkJLy9hZGQgZGlhbG9ncywgc2V0IGRhdGEtdXJsIGF0dHJzCgkJCSRwYWdlcy5hZGQoICI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIgKS5lYWNoKGZ1bmN0aW9uKCl7CgkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJCS8vIHVubGVzcyB0aGUgZGF0YSB1cmwgaXMgYWxyZWFkeSBzZXQgc2V0IGl0IHRvIHRoZSBpZAoJCQkJaWYoICEkdGhpcy5qcW1EYXRhKCd1cmwnKSApewoJCQkJCSR0aGlzLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ1cmwiLCAkdGhpcy5hdHRyKCAiaWQiICkgKTsKCQkJCX0KCQkJfSk7CgoJCQkvL2RlZmluZSBmaXJzdCBwYWdlIGluIGRvbSBjYXNlIG9uZSBiYWNrcyBvdXQgdG8gdGhlIGRpcmVjdG9yeSByb290IChub3QgYWx3YXlzIHRoZSBmaXJzdCBwYWdlIHZpc2l0ZWQsIGJ1dCBkZWZpbmVkIGFzIGZhbGxiYWNrKQoJCQkkLm1vYmlsZS5maXJzdFBhZ2UgPSAkcGFnZXMuZmlyc3QoKTsKCgkJCS8vZGVmaW5lIHBhZ2UgY29udGFpbmVyCgkJCSQubW9iaWxlLnBhZ2VDb250YWluZXIgPSAkcGFnZXMuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcyggInVpLW1vYmlsZS12aWV3cG9ydCIgKTsKCgkJCS8vY3VlIHBhZ2UgbG9hZGluZyBtZXNzYWdlCgkJCSQubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOwoKCQkJLy8gaWYgaGFzaGNoYW5nZSBsaXN0ZW5pbmcgaXMgZGlzYWJsZWQgb3IgdGhlcmUncyBubyBoYXNoIGRlZXBsaW5rLCBjaGFuZ2UgdG8gdGhlIGZpcnN0IHBhZ2UgaW4gdGhlIERPTQoJCQlpZiggISQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkIHx8ICEkLm1vYmlsZS5wYXRoLnN0cmlwSGFzaCggbG9jYXRpb24uaGFzaCApICl7CgkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCAkLm1vYmlsZS5maXJzdFBhZ2UsIHsgdHJhbnNpdGlvbjogIm5vbmUiLCByZXZlcnNlOiB0cnVlLCBjaGFuZ2VIYXNoOiBmYWxzZSwgZnJvbUhhc2hDaGFuZ2U6IHRydWUgfSApOwoJCQl9CgkJCS8vIG90aGVyd2lzZSwgdHJpZ2dlciBhIGhhc2hjaGFuZ2UgdG8gbG9hZCBhIGRlZXBsaW5rCgkJCWVsc2UgewoJCQkJJHdpbmRvdy50cmlnZ2VyKCAiaGFzaGNoYW5nZSIsIFsgdHJ1ZSBdICk7CgkJCX0KCQl9Cgl9KTsKCQoJLy9pbml0aWFsaXplIGV2ZW50cyBub3csIGFmdGVyIG1vYmlsZWluaXQgaGFzIG9jY3VycmVkCgkkLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cygpOwoJCgkvL2NoZWNrIHdoaWNoIHNjcm9sbFRvcCB2YWx1ZSBzaG91bGQgYmUgdXNlZCBieSBzY3JvbGxpbmcgdG8gMSBpbW1lZGlhdGVseSBhdCBkb21yZWFkeQoJLy90aGVuIGNoZWNrIHdoYXQgdGhlIHNjcm9sbCB0b3AgaXMuIEFuZHJvaWQgd2lsbCByZXBvcnQgMC4uLiBvdGhlcnMgMQoJLy9ub3RlIHRoYXQgdGhpcyBpbml0aWFsIHNjcm9sbCB3b24ndCBoaWRlIHRoZSBhZGRyZXNzIGJhci4gSXQncyBqdXN0IGZvciB0aGUgY2hlY2suCgkkKGZ1bmN0aW9uKCl7CgkJd2luZG93LnNjcm9sbFRvKCAwLCAxICk7CgoJCS8vaWYgZGVmYXVsdEhvbWVTY3JvbGwgaGFzbid0IGJlZW4gc2V0IHlldCwgc2VlIGlmIHNjcm9sbFRvcCBpcyAxCgkJLy9pdCBzaG91bGQgYmUgMSBpbiBtb3N0IGJyb3dzZXJzLCBidXQgYW5kcm9pZCB0cmVhdHMgMSBhcyAwIChmb3IgaGlkaW5nIGFkZHIgYmFyKQoJCS8vc28gaWYgaXQncyAxLCB1c2UgMCBmcm9tIG5vdyBvbgoJCSQubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsID0gKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCB8fCAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPT09IDEgKSA/IDAgOiAxOwoJCgkJLy9kb20tcmVhZHkgaW5pdHMKCQlpZiggJC5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlICl7CgkJCSQoICQubW9iaWxlLmluaXRpYWxpemVQYWdlICk7CgkJfQoJCQoJCS8vd2luZG93IGxvYWQgZXZlbnQKCQkvL2hpZGUgaU9TIGJyb3dzZXIgY2hyb21lIG9uIGxvYWQKCQkkd2luZG93LmxvYWQoICQubW9iaWxlLnNpbGVudFNjcm9sbCApOwoJfSk7Cn0pKCBqUXVlcnksIHRoaXMgKTsK", "content_type": "application/javascript"}, "combined-javascript/egra.js": {"data": "LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNi4yCiAqIGh0dHA6Ly9qcXVlcnkuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMSwgSm9obiBSZXNpZwogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBJbmNsdWRlcyBTaXp6bGUuanMKICogaHR0cDovL3NpenpsZWpzLmNvbS8KICogQ29weXJpZ2h0IDIwMTEsIFRoZSBEb2pvIEZvdW5kYXRpb24KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLgogKgogKiBEYXRlOiBUaHUgSnVuIDMwIDE0OjE2OjU2IDIwMTEgLTA0MDAKICovCihmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGN2KGEpe3JldHVybiBmLmlzV2luZG93KGEpP2E6YS5ub2RlVHlwZT09PTk/YS5kZWZhdWx0Vmlld3x8YS5wYXJlbnRXaW5kb3c6ITF9ZnVuY3Rpb24gY3MoYSl7aWYoIWNnW2FdKXt2YXIgYj1jLmJvZHksZD1mKCI8IithKyI+IikuYXBwZW5kVG8oYiksZT1kLmNzcygiZGlzcGxheSIpO2QucmVtb3ZlKCk7aWYoZT09PSJub25lInx8ZT09PSIiKXtjaHx8KGNoPWMuY3JlYXRlRWxlbWVudCgiaWZyYW1lIiksY2guZnJhbWVCb3JkZXI9Y2gud2lkdGg9Y2guaGVpZ2h0PTApLGIuYXBwZW5kQ2hpbGQoY2gpO2lmKCFjaXx8IWNoLmNyZWF0ZUVsZW1lbnQpY2k9KGNoLmNvbnRlbnRXaW5kb3d8fGNoLmNvbnRlbnREb2N1bWVudCkuZG9jdW1lbnQsY2kud3JpdGUoKGMuY29tcGF0TW9kZT09PSJDU1MxQ29tcGF0Ij8iPCFkb2N0eXBlIGh0bWw+IjoiIikrIjxodG1sPjxib2R5PiIpLGNpLmNsb3NlKCk7ZD1jaS5jcmVhdGVFbGVtZW50KGEpLGNpLmJvZHkuYXBwZW5kQ2hpbGQoZCksZT1mLmNzcyhkLCJkaXNwbGF5IiksYi5yZW1vdmVDaGlsZChjaCl9Y2dbYV09ZX1yZXR1cm4gY2dbYV19ZnVuY3Rpb24gY3IoYSxiKXt2YXIgYz17fTtmLmVhY2goY20uY29uY2F0LmFwcGx5KFtdLGNtLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7Y1t0aGlzXT1hfSk7cmV0dXJuIGN9ZnVuY3Rpb24gY3EoKXtjbj1ifWZ1bmN0aW9uIGNwKCl7c2V0VGltZW91dChjcSwwKTtyZXR1cm4gY249Zi5ub3coKX1mdW5jdGlvbiBjZigpe3RyeXtyZXR1cm4gbmV3IGEuQWN0aXZlWE9iamVjdCgiTWljcm9zb2Z0LlhNTEhUVFAiKX1jYXRjaChiKXt9fWZ1bmN0aW9uIGNlKCl7dHJ5e3JldHVybiBuZXcgYS5YTUxIdHRwUmVxdWVzdH1jYXRjaChiKXt9fWZ1bmN0aW9uIGIkKGEsYyl7YS5kYXRhRmlsdGVyJiYoYz1hLmRhdGFGaWx0ZXIoYyxhLmRhdGFUeXBlKSk7dmFyIGQ9YS5kYXRhVHlwZXMsZT17fSxnLGgsaT1kLmxlbmd0aCxqLGs9ZFswXSxsLG0sbixvLHA7Zm9yKGc9MTtnPGk7ZysrKXtpZihnPT09MSlmb3IoaCBpbiBhLmNvbnZlcnRlcnMpdHlwZW9mIGg9PSJzdHJpbmciJiYoZVtoLnRvTG93ZXJDYXNlKCldPWEuY29udmVydGVyc1toXSk7bD1rLGs9ZFtnXTtpZihrPT09IioiKWs9bDtlbHNlIGlmKGwhPT0iKiImJmwhPT1rKXttPWwrIiAiK2ssbj1lW21dfHxlWyIqICIra107aWYoIW4pe3A9Yjtmb3IobyBpbiBlKXtqPW8uc3BsaXQoIiAiKTtpZihqWzBdPT09bHx8alswXT09PSIqIil7cD1lW2pbMV0rIiAiK2tdO2lmKHApe289ZVtvXSxvPT09ITA/bj1wOnA9PT0hMCYmKG49byk7YnJlYWt9fX19IW4mJiFwJiZmLmVycm9yKCJObyBjb252ZXJzaW9uIGZyb20gIittLnJlcGxhY2UoIiAiLCIgdG8gIikpLG4hPT0hMCYmKGM9bj9uKGMpOnAobyhjKSkpfX1yZXR1cm4gY31mdW5jdGlvbiBiWihhLGMsZCl7dmFyIGU9YS5jb250ZW50cyxmPWEuZGF0YVR5cGVzLGc9YS5yZXNwb25zZUZpZWxkcyxoLGksaixrO2ZvcihpIGluIGcpaSBpbiBkJiYoY1tnW2ldXT1kW2ldKTt3aGlsZShmWzBdPT09IioiKWYuc2hpZnQoKSxoPT09YiYmKGg9YS5taW1lVHlwZXx8Yy5nZXRSZXNwb25zZUhlYWRlcigiY29udGVudC10eXBlIikpO2lmKGgpZm9yKGkgaW4gZSlpZihlW2ldJiZlW2ldLnRlc3QoaCkpe2YudW5zaGlmdChpKTticmVha31pZihmWzBdaW4gZClqPWZbMF07ZWxzZXtmb3IoaSBpbiBkKXtpZighZlswXXx8YS5jb252ZXJ0ZXJzW2krIiAiK2ZbMF1dKXtqPWk7YnJlYWt9a3x8KGs9aSl9aj1qfHxrfWlmKGope2ohPT1mWzBdJiZmLnVuc2hpZnQoaik7cmV0dXJuIGRbal19fWZ1bmN0aW9uIGJZKGEsYixjLGQpe2lmKGYuaXNBcnJheShiKSlmLmVhY2goYixmdW5jdGlvbihiLGUpe2N8fGJDLnRlc3QoYSk/ZChhLGUpOmJZKGErIlsiKyh0eXBlb2YgZT09Im9iamVjdCJ8fGYuaXNBcnJheShlKT9iOiIiKSsiXSIsZSxjLGQpfSk7ZWxzZSBpZighYyYmYiE9bnVsbCYmdHlwZW9mIGI9PSJvYmplY3QiKWZvcih2YXIgZSBpbiBiKWJZKGErIlsiK2UrIl0iLGJbZV0sYyxkKTtlbHNlIGQoYSxiKX1mdW5jdGlvbiBiWChhLGMsZCxlLGYsZyl7Zj1mfHxjLmRhdGFUeXBlc1swXSxnPWd8fHt9LGdbZl09ITA7dmFyIGg9YVtmXSxpPTAsaj1oP2gubGVuZ3RoOjAsaz1hPT09YlIsbDtmb3IoO2k8aiYmKGt8fCFsKTtpKyspbD1oW2ldKGMsZCxlKSx0eXBlb2YgbD09InN0cmluZyImJigha3x8Z1tsXT9sPWI6KGMuZGF0YVR5cGVzLnVuc2hpZnQobCksbD1iWChhLGMsZCxlLGwsZykpKTsoa3x8IWwpJiYhZ1siKiJdJiYobD1iWChhLGMsZCxlLCIqIixnKSk7cmV0dXJuIGx9ZnVuY3Rpb24gYlcoYSl7cmV0dXJuIGZ1bmN0aW9uKGIsYyl7dHlwZW9mIGIhPSJzdHJpbmciJiYoYz1iLGI9IioiKTtpZihmLmlzRnVuY3Rpb24oYykpe3ZhciBkPWIudG9Mb3dlckNhc2UoKS5zcGxpdChiTiksZT0wLGc9ZC5sZW5ndGgsaCxpLGo7Zm9yKDtlPGc7ZSsrKWg9ZFtlXSxqPS9eXCsvLnRlc3QoaCksaiYmKGg9aC5zdWJzdHIoMSl8fCIqIiksaT1hW2hdPWFbaF18fFtdLGlbaj8idW5zaGlmdCI6InB1c2giXShjKX19fWZ1bmN0aW9uIGJBKGEsYixjKXt2YXIgZD1iPT09IndpZHRoIj9hLm9mZnNldFdpZHRoOmEub2Zmc2V0SGVpZ2h0LGU9Yj09PSJ3aWR0aCI/YnY6Ync7aWYoZD4wKXtjIT09ImJvcmRlciImJmYuZWFjaChlLGZ1bmN0aW9uKCl7Y3x8KGQtPXBhcnNlRmxvYXQoZi5jc3MoYSwicGFkZGluZyIrdGhpcykpfHwwKSxjPT09Im1hcmdpbiI/ZCs9cGFyc2VGbG9hdChmLmNzcyhhLGMrdGhpcykpfHwwOmQtPXBhcnNlRmxvYXQoZi5jc3MoYSwiYm9yZGVyIit0aGlzKyJXaWR0aCIpKXx8MH0pO3JldHVybiBkKyJweCJ9ZD1ieChhLGIsYik7aWYoZDwwfHxkPT1udWxsKWQ9YS5zdHlsZVtiXXx8MDtkPXBhcnNlRmxvYXQoZCl8fDAsYyYmZi5lYWNoKGUsZnVuY3Rpb24oKXtkKz1wYXJzZUZsb2F0KGYuY3NzKGEsInBhZGRpbmciK3RoaXMpKXx8MCxjIT09InBhZGRpbmciJiYoZCs9cGFyc2VGbG9hdChmLmNzcyhhLCJib3JkZXIiK3RoaXMrIldpZHRoIikpfHwwKSxjPT09Im1hcmdpbiImJihkKz1wYXJzZUZsb2F0KGYuY3NzKGEsYyt0aGlzKSl8fDApfSk7cmV0dXJuIGQrInB4In1mdW5jdGlvbiBibShhLGIpe2Iuc3JjP2YuYWpheCh7dXJsOmIuc3JjLGFzeW5jOiExLGRhdGFUeXBlOiJzY3JpcHQifSk6Zi5nbG9iYWxFdmFsKChiLnRleHR8fGIudGV4dENvbnRlbnR8fGIuaW5uZXJIVE1MfHwiIikucmVwbGFjZShiZSwiLyokMCovIikpLGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGIpfWZ1bmN0aW9uIGJsKGEpe2Yubm9kZU5hbWUoYSwiaW5wdXQiKT9iayhhKToiZ2V0RWxlbWVudHNCeVRhZ05hbWUiaW4gYSYmZi5ncmVwKGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IiksYmspfWZ1bmN0aW9uIGJrKGEpe2lmKGEudHlwZT09PSJjaGVja2JveCJ8fGEudHlwZT09PSJyYWRpbyIpYS5kZWZhdWx0Q2hlY2tlZD1hLmNoZWNrZWR9ZnVuY3Rpb24gYmooYSl7cmV0dXJuImdldEVsZW1lbnRzQnlUYWdOYW1lImluIGE/YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpOiJxdWVyeVNlbGVjdG9yQWxsImluIGE/YS5xdWVyeVNlbGVjdG9yQWxsKCIqIik6W119ZnVuY3Rpb24gYmkoYSxiKXt2YXIgYztpZihiLm5vZGVUeXBlPT09MSl7Yi5jbGVhckF0dHJpYnV0ZXMmJmIuY2xlYXJBdHRyaWJ1dGVzKCksYi5tZXJnZUF0dHJpYnV0ZXMmJmIubWVyZ2VBdHRyaWJ1dGVzKGEpLGM9Yi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO2lmKGM9PT0ib2JqZWN0IiliLm91dGVySFRNTD1hLm91dGVySFRNTDtlbHNlIGlmKGMhPT0iaW5wdXQifHxhLnR5cGUhPT0iY2hlY2tib3giJiZhLnR5cGUhPT0icmFkaW8iKXtpZihjPT09Im9wdGlvbiIpYi5zZWxlY3RlZD1hLmRlZmF1bHRTZWxlY3RlZDtlbHNlIGlmKGM9PT0iaW5wdXQifHxjPT09InRleHRhcmVhIiliLmRlZmF1bHRWYWx1ZT1hLmRlZmF1bHRWYWx1ZX1lbHNlIGEuY2hlY2tlZCYmKGIuZGVmYXVsdENoZWNrZWQ9Yi5jaGVja2VkPWEuY2hlY2tlZCksYi52YWx1ZSE9PWEudmFsdWUmJihiLnZhbHVlPWEudmFsdWUpO2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyl9fWZ1bmN0aW9uIGJoKGEsYil7aWYoYi5ub2RlVHlwZT09PTEmJiEhZi5oYXNEYXRhKGEpKXt2YXIgYz1mLmV4cGFuZG8sZD1mLmRhdGEoYSksZT1mLmRhdGEoYixkKTtpZihkPWRbY10pe3ZhciBnPWQuZXZlbnRzO2U9ZVtjXT1mLmV4dGVuZCh7fSxkKTtpZihnKXtkZWxldGUgZS5oYW5kbGUsZS5ldmVudHM9e307Zm9yKHZhciBoIGluIGcpZm9yKHZhciBpPTAsaj1nW2hdLmxlbmd0aDtpPGo7aSsrKWYuZXZlbnQuYWRkKGIsaCsoZ1toXVtpXS5uYW1lc3BhY2U/Ii4iOiIiKStnW2hdW2ldLm5hbWVzcGFjZSxnW2hdW2ldLGdbaF1baV0uZGF0YSl9fX19ZnVuY3Rpb24gYmcoYSxiKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJ0YWJsZSIpP2EuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IilbMF18fGEuYXBwZW5kQ2hpbGQoYS5vd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInRib2R5IikpOmF9ZnVuY3Rpb24gVyhhLGIsYyl7Yj1ifHwwO2lmKGYuaXNGdW5jdGlvbihiKSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXt2YXIgZT0hIWIuY2FsbChhLGQsYSk7cmV0dXJuIGU9PT1jfSk7aWYoYi5ub2RlVHlwZSlyZXR1cm4gZi5ncmVwKGEsZnVuY3Rpb24oYSxkKXtyZXR1cm4gYT09PWI9PT1jfSk7aWYodHlwZW9mIGI9PSJzdHJpbmciKXt2YXIgZD1mLmdyZXAoYSxmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlVHlwZT09PTF9KTtpZihSLnRlc3QoYikpcmV0dXJuIGYuZmlsdGVyKGIsZCwhYyk7Yj1mLmZpbHRlcihiLGQpfXJldHVybiBmLmdyZXAoYSxmdW5jdGlvbihhLGQpe3JldHVybiBmLmluQXJyYXkoYSxiKT49MD09PWN9KX1mdW5jdGlvbiBWKGEpe3JldHVybiFhfHwhYS5wYXJlbnROb2RlfHxhLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMX1mdW5jdGlvbiBOKGEsYil7cmV0dXJuKGEmJmEhPT0iKiI/YSsiLiI6IiIpK2IucmVwbGFjZSh6LCJgIikucmVwbGFjZShBLCImIil9ZnVuY3Rpb24gTShhKXt2YXIgYixjLGQsZSxnLGgsaSxqLGssbCxtLG4sbyxwPVtdLHE9W10scj1mLl9kYXRhKHRoaXMsImV2ZW50cyIpO2lmKCEoYS5saXZlRmlyZWQ9PT10aGlzfHwhcnx8IXIubGl2ZXx8YS50YXJnZXQuZGlzYWJsZWR8fGEuYnV0dG9uJiZhLnR5cGU9PT0iY2xpY2siKSl7YS5uYW1lc3BhY2UmJihuPW5ldyBSZWdFeHAoIihefFxcLikiK2EubmFtZXNwYWNlLnNwbGl0KCIuIikuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIikpLGEubGl2ZUZpcmVkPXRoaXM7dmFyIHM9ci5saXZlLnNsaWNlKDApO2ZvcihpPTA7aTxzLmxlbmd0aDtpKyspZz1zW2ldLGcub3JpZ1R5cGUucmVwbGFjZSh4LCIiKT09PWEudHlwZT9xLnB1c2goZy5zZWxlY3Rvcik6cy5zcGxpY2UoaS0tLDEpO2U9ZihhLnRhcmdldCkuY2xvc2VzdChxLGEuY3VycmVudFRhcmdldCk7Zm9yKGo9MCxrPWUubGVuZ3RoO2o8aztqKyspe209ZVtqXTtmb3IoaT0wO2k8cy5sZW5ndGg7aSsrKXtnPXNbaV07aWYobS5zZWxlY3Rvcj09PWcuc2VsZWN0b3ImJighbnx8bi50ZXN0KGcubmFtZXNwYWNlKSkmJiFtLmVsZW0uZGlzYWJsZWQpe2g9bS5lbGVtLGQ9bnVsbDtpZihnLnByZVR5cGU9PT0ibW91c2VlbnRlciJ8fGcucHJlVHlwZT09PSJtb3VzZWxlYXZlIilhLnR5cGU9Zy5wcmVUeXBlLGQ9ZihhLnJlbGF0ZWRUYXJnZXQpLmNsb3Nlc3QoZy5zZWxlY3RvcilbMF0sZCYmZi5jb250YWlucyhoLGQpJiYoZD1oKTsoIWR8fGQhPT1oKSYmcC5wdXNoKHtlbGVtOmgsaGFuZGxlT2JqOmcsbGV2ZWw6bS5sZXZlbH0pfX19Zm9yKGo9MCxrPXAubGVuZ3RoO2o8aztqKyspe2U9cFtqXTtpZihjJiZlLmxldmVsPmMpYnJlYWs7YS5jdXJyZW50VGFyZ2V0PWUuZWxlbSxhLmRhdGE9ZS5oYW5kbGVPYmouZGF0YSxhLmhhbmRsZU9iaj1lLmhhbmRsZU9iaixvPWUuaGFuZGxlT2JqLm9yaWdIYW5kbGVyLmFwcGx5KGUuZWxlbSxhcmd1bWVudHMpO2lmKG89PT0hMXx8YS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpKXtjPWUubGV2ZWwsbz09PSExJiYoYj0hMSk7aWYoYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX1yZXR1cm4gYn19ZnVuY3Rpb24gSyhhLGMsZCl7dmFyIGU9Zi5leHRlbmQoe30sZFswXSk7ZS50eXBlPWEsZS5vcmlnaW5hbEV2ZW50PXt9LGUubGl2ZUZpcmVkPWIsZi5ldmVudC5oYW5kbGUuY2FsbChjLGUpLGUuaXNEZWZhdWx0UHJldmVudGVkKCkmJmRbMF0ucHJldmVudERlZmF1bHQoKX1mdW5jdGlvbiBFKCl7cmV0dXJuITB9ZnVuY3Rpb24gRCgpe3JldHVybiExfWZ1bmN0aW9uIG0oYSxjLGQpe3ZhciBlPWMrImRlZmVyIixnPWMrInF1ZXVlIixoPWMrIm1hcmsiLGk9Zi5kYXRhKGEsZSxiLCEwKTtpJiYoZD09PSJxdWV1ZSJ8fCFmLmRhdGEoYSxnLGIsITApKSYmKGQ9PT0ibWFyayJ8fCFmLmRhdGEoYSxoLGIsITApKSYmc2V0VGltZW91dChmdW5jdGlvbigpeyFmLmRhdGEoYSxnLGIsITApJiYhZi5kYXRhKGEsaCxiLCEwKSYmKGYucmVtb3ZlRGF0YShhLGUsITApLGkucmVzb2x2ZSgpKX0sMCl9ZnVuY3Rpb24gbChhKXtmb3IodmFyIGIgaW4gYSlpZihiIT09InRvSlNPTiIpcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gayhhLGMsZCl7aWYoZD09PWImJmEubm9kZVR5cGU9PT0xKXt2YXIgZT0iZGF0YS0iK2MucmVwbGFjZShqLCIkMS0kMiIpLnRvTG93ZXJDYXNlKCk7ZD1hLmdldEF0dHJpYnV0ZShlKTtpZih0eXBlb2YgZD09InN0cmluZyIpe3RyeXtkPWQ9PT0idHJ1ZSI/ITA6ZD09PSJmYWxzZSI/ITE6ZD09PSJudWxsIj9udWxsOmYuaXNOYU4oZCk/aS50ZXN0KGQpP2YucGFyc2VKU09OKGQpOmQ6cGFyc2VGbG9hdChkKX1jYXRjaChnKXt9Zi5kYXRhKGEsYyxkKX1lbHNlIGQ9Yn1yZXR1cm4gZH12YXIgYz1hLmRvY3VtZW50LGQ9YS5uYXZpZ2F0b3IsZT1hLmxvY2F0aW9uLGY9ZnVuY3Rpb24oKXtmdW5jdGlvbiBKKCl7aWYoIWUuaXNSZWFkeSl7dHJ5e2MuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCJsZWZ0Iil9Y2F0Y2goYSl7c2V0VGltZW91dChKLDEpO3JldHVybn1lLnJlYWR5KCl9fXZhciBlPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBlLmZuLmluaXQoYSxiLGgpfSxmPWEualF1ZXJ5LGc9YS4kLGgsaT0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0qKSQpLyxqPS9cUy8saz0vXlxzKy8sbD0vXHMrJC8sbT0vXGQvLG49L148KFx3KylccypcLz8+KD86PFwvXDE+KT8kLyxvPS9eW1xdLDp7fVxzXSokLyxwPS9cXCg/OlsiXFxcL2JmbnJ0XXx1WzAtOWEtZkEtRl17NH0pL2cscT0vIlteIlxcXG5ccl0qInx0cnVlfGZhbHNlfG51bGx8LT9cZCsoPzpcLlxkKik/KD86W2VFXVsrXC1dP1xkKyk/L2cscj0vKD86Xnw6fCwpKD86XHMqXFspKy9nLHM9Lyh3ZWJraXQpWyBcL10oW1x3Ll0rKS8sdD0vKG9wZXJhKSg/Oi4qdmVyc2lvbik/WyBcL10oW1x3Ll0rKS8sdT0vKG1zaWUpIChbXHcuXSspLyx2PS8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKykpPy8sdz0vLShbYS16XSkvaWcseD1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9LHk9ZC51c2VyQWdlbnQseixBLEIsQz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEQ9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxFPUFycmF5LnByb3RvdHlwZS5wdXNoLEY9QXJyYXkucHJvdG90eXBlLnNsaWNlLEc9U3RyaW5nLnByb3RvdHlwZS50cmltLEg9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsST17fTtlLmZuPWUucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjplLGluaXQ6ZnVuY3Rpb24oYSxkLGYpe3ZhciBnLGgsaixrO2lmKCFhKXJldHVybiB0aGlzO2lmKGEubm9kZVR5cGUpe3RoaXMuY29udGV4dD10aGlzWzBdPWEsdGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZihhPT09ImJvZHkiJiYhZCYmYy5ib2R5KXt0aGlzLmNvbnRleHQ9Yyx0aGlzWzBdPWMuYm9keSx0aGlzLnNlbGVjdG9yPWEsdGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZih0eXBlb2YgYT09InN0cmluZyIpe2EuY2hhckF0KDApIT09IjwifHxhLmNoYXJBdChhLmxlbmd0aC0xKSE9PSI+Inx8YS5sZW5ndGg8Mz9nPWkuZXhlYyhhKTpnPVtudWxsLGEsbnVsbF07aWYoZyYmKGdbMV18fCFkKSl7aWYoZ1sxXSl7ZD1kIGluc3RhbmNlb2YgZT9kWzBdOmQsaz1kP2Qub3duZXJEb2N1bWVudHx8ZDpjLGo9bi5leGVjKGEpLGo/ZS5pc1BsYWluT2JqZWN0KGQpPyhhPVtjLmNyZWF0ZUVsZW1lbnQoalsxXSldLGUuZm4uYXR0ci5jYWxsKGEsZCwhMCkpOmE9W2suY3JlYXRlRWxlbWVudChqWzFdKV06KGo9ZS5idWlsZEZyYWdtZW50KFtnWzFdXSxba10pLGE9KGouY2FjaGVhYmxlP2UuY2xvbmUoai5mcmFnbWVudCk6ai5mcmFnbWVudCkuY2hpbGROb2Rlcyk7cmV0dXJuIGUubWVyZ2UodGhpcyxhKX1oPWMuZ2V0RWxlbWVudEJ5SWQoZ1syXSk7aWYoaCYmaC5wYXJlbnROb2RlKXtpZihoLmlkIT09Z1syXSlyZXR1cm4gZi5maW5kKGEpO3RoaXMubGVuZ3RoPTEsdGhpc1swXT1ofXRoaXMuY29udGV4dD1jLHRoaXMuc2VsZWN0b3I9YTtyZXR1cm4gdGhpc31yZXR1cm4hZHx8ZC5qcXVlcnk/KGR8fGYpLmZpbmQoYSk6dGhpcy5jb25zdHJ1Y3RvcihkKS5maW5kKGEpfWlmKGUuaXNGdW5jdGlvbihhKSlyZXR1cm4gZi5yZWFkeShhKTthLnNlbGVjdG9yIT09YiYmKHRoaXMuc2VsZWN0b3I9YS5zZWxlY3Rvcix0aGlzLmNvbnRleHQ9YS5jb250ZXh0KTtyZXR1cm4gZS5tYWtlQXJyYXkoYSx0aGlzKX0sc2VsZWN0b3I6IiIsanF1ZXJ5OiIxLjYuMiIsbGVuZ3RoOjAsc2l6ZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aH0sdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBGLmNhbGwodGhpcywwKX0sZ2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsP3RoaXMudG9BcnJheSgpOmE8MD90aGlzW3RoaXMubGVuZ3RoK2FdOnRoaXNbYV19LHB1c2hTdGFjazpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dGhpcy5jb25zdHJ1Y3RvcigpO2UuaXNBcnJheShhKT9FLmFwcGx5KGQsYSk6ZS5tZXJnZShkLGEpLGQucHJldk9iamVjdD10aGlzLGQuY29udGV4dD10aGlzLmNvbnRleHQsYj09PSJmaW5kIj9kLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrKHRoaXMuc2VsZWN0b3I/IiAiOiIiKStjOmImJihkLnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK2IrIigiK2MrIikiKTtyZXR1cm4gZH0sZWFjaDpmdW5jdGlvbihhLGIpe3JldHVybiBlLmVhY2godGhpcyxhLGIpfSxyZWFkeTpmdW5jdGlvbihhKXtlLmJpbmRSZWFkeSgpLEEuZG9uZShhKTtyZXR1cm4gdGhpc30sZXE6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT0tMT90aGlzLnNsaWNlKGEpOnRoaXMuc2xpY2UoYSwrYSsxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soRi5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixGLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUubWFwKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5jYWxsKGIsYyxiKX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8dGhpcy5jb25zdHJ1Y3RvcihudWxsKX0scHVzaDpFLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfSxlLmZuLmluaXQucHJvdG90eXBlPWUuZm4sZS5leHRlbmQ9ZS5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgYSxjLGQsZixnLGgsaT1hcmd1bWVudHNbMF18fHt9LGo9MSxrPWFyZ3VtZW50cy5sZW5ndGgsbD0hMTt0eXBlb2YgaT09ImJvb2xlYW4iJiYobD1pLGk9YXJndW1lbnRzWzFdfHx7fSxqPTIpLHR5cGVvZiBpIT0ib2JqZWN0IiYmIWUuaXNGdW5jdGlvbihpKSYmKGk9e30pLGs9PT1qJiYoaT10aGlzLC0taik7Zm9yKDtqPGs7aisrKWlmKChhPWFyZ3VtZW50c1tqXSkhPW51bGwpZm9yKGMgaW4gYSl7ZD1pW2NdLGY9YVtjXTtpZihpPT09Ziljb250aW51ZTtsJiZmJiYoZS5pc1BsYWluT2JqZWN0KGYpfHwoZz1lLmlzQXJyYXkoZikpKT8oZz8oZz0hMSxoPWQmJmUuaXNBcnJheShkKT9kOltdKTpoPWQmJmUuaXNQbGFpbk9iamVjdChkKT9kOnt9LGlbY109ZS5leHRlbmQobCxoLGYpKTpmIT09YiYmKGlbY109Zil9cmV0dXJuIGl9LGUuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKGIpe2EuJD09PWUmJihhLiQ9ZyksYiYmYS5qUXVlcnk9PT1lJiYoYS5qUXVlcnk9Zik7cmV0dXJuIGV9LGlzUmVhZHk6ITEscmVhZHlXYWl0OjEsaG9sZFJlYWR5OmZ1bmN0aW9uKGEpe2E/ZS5yZWFkeVdhaXQrKzplLnJlYWR5KCEwKX0scmVhZHk6ZnVuY3Rpb24oYSl7aWYoYT09PSEwJiYhLS1lLnJlYWR5V2FpdHx8YSE9PSEwJiYhZS5pc1JlYWR5KXtpZighYy5ib2R5KXJldHVybiBzZXRUaW1lb3V0KGUucmVhZHksMSk7ZS5pc1JlYWR5PSEwO2lmKGEhPT0hMCYmLS1lLnJlYWR5V2FpdD4wKXJldHVybjtBLnJlc29sdmVXaXRoKGMsW2VdKSxlLmZuLnRyaWdnZXImJmUoYykudHJpZ2dlcigicmVhZHkiKS51bmJpbmQoInJlYWR5Iil9fSxiaW5kUmVhZHk6ZnVuY3Rpb24oKXtpZighQSl7QT1lLl9EZWZlcnJlZCgpO2lmKGMucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpcmV0dXJuIHNldFRpbWVvdXQoZS5yZWFkeSwxKTtpZihjLmFkZEV2ZW50TGlzdGVuZXIpYy5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCLCExKSxhLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGUucmVhZHksITEpO2Vsc2UgaWYoYy5hdHRhY2hFdmVudCl7Yy5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIixCKSxhLmF0dGFjaEV2ZW50KCJvbmxvYWQiLGUucmVhZHkpO3ZhciBiPSExO3RyeXtiPWEuZnJhbWVFbGVtZW50PT1udWxsfWNhdGNoKGQpe31jLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCYmYiYmSigpfX19LGlzRnVuY3Rpb246ZnVuY3Rpb24oYSl7cmV0dXJuIGUudHlwZShhKT09PSJmdW5jdGlvbiJ9LGlzQXJyYXk6QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oYSl7cmV0dXJuIGUudHlwZShhKT09PSJhcnJheSJ9LGlzV2luZG93OmZ1bmN0aW9uKGEpe3JldHVybiBhJiZ0eXBlb2YgYT09Im9iamVjdCImJiJzZXRJbnRlcnZhbCJpbiBhfSxpc05hTjpmdW5jdGlvbihhKXtyZXR1cm4gYT09bnVsbHx8IW0udGVzdChhKXx8aXNOYU4oYSl9LHR5cGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/U3RyaW5nKGEpOklbQy5jYWxsKGEpXXx8Im9iamVjdCJ9LGlzUGxhaW5PYmplY3Q6ZnVuY3Rpb24oYSl7aWYoIWF8fGUudHlwZShhKSE9PSJvYmplY3QifHxhLm5vZGVUeXBlfHxlLmlzV2luZG93KGEpKXJldHVybiExO2lmKGEuY29uc3RydWN0b3ImJiFELmNhbGwoYSwiY29uc3RydWN0b3IiKSYmIUQuY2FsbChhLmNvbnN0cnVjdG9yLnByb3RvdHlwZSwiaXNQcm90b3R5cGVPZiIpKXJldHVybiExO3ZhciBjO2ZvcihjIGluIGEpO3JldHVybiBjPT09Ynx8RC5jYWxsKGEsYyl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiIGluIGEpcmV0dXJuITE7cmV0dXJuITB9LGVycm9yOmZ1bmN0aW9uKGEpe3Rocm93IGF9LHBhcnNlSlNPTjpmdW5jdGlvbihiKXtpZih0eXBlb2YgYiE9InN0cmluZyJ8fCFiKXJldHVybiBudWxsO2I9ZS50cmltKGIpO2lmKGEuSlNPTiYmYS5KU09OLnBhcnNlKXJldHVybiBhLkpTT04ucGFyc2UoYik7aWYoby50ZXN0KGIucmVwbGFjZShwLCJAIikucmVwbGFjZShxLCJdIikucmVwbGFjZShyLCIiKSkpcmV0dXJuKG5ldyBGdW5jdGlvbigicmV0dXJuICIrYikpKCk7ZS5lcnJvcigiSW52YWxpZCBKU09OOiAiK2IpfSxwYXJzZVhNTDpmdW5jdGlvbihiLGMsZCl7YS5ET01QYXJzZXI/KGQ9bmV3IERPTVBhcnNlcixjPWQucGFyc2VGcm9tU3RyaW5nKGIsInRleHQveG1sIikpOihjPW5ldyBBY3RpdmVYT2JqZWN0KCJNaWNyb3NvZnQuWE1MRE9NIiksYy5hc3luYz0iZmFsc2UiLGMubG9hZFhNTChiKSksZD1jLmRvY3VtZW50RWxlbWVudCwoIWR8fCFkLm5vZGVOYW1lfHxkLm5vZGVOYW1lPT09InBhcnNlcmVycm9yIikmJmUuZXJyb3IoIkludmFsaWQgWE1MOiAiK2IpO3JldHVybiBjfSxub29wOmZ1bmN0aW9uKCl7fSxnbG9iYWxFdmFsOmZ1bmN0aW9uKGIpe2ImJmoudGVzdChiKSYmKGEuZXhlY1NjcmlwdHx8ZnVuY3Rpb24oYil7YS5ldmFsLmNhbGwoYSxiKX0pKGIpfSxjYW1lbENhc2U6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSh3LHgpfSxub2RlTmFtZTpmdW5jdGlvbihhLGIpe3JldHVybiBhLm5vZGVOYW1lJiZhLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk9PT1iLnRvVXBwZXJDYXNlKCl9LGVhY2g6ZnVuY3Rpb24oYSxjLGQpe3ZhciBmLGc9MCxoPWEubGVuZ3RoLGk9aD09PWJ8fGUuaXNGdW5jdGlvbihhKTtpZihkKXtpZihpKXtmb3IoZiBpbiBhKWlmKGMuYXBwbHkoYVtmXSxkKT09PSExKWJyZWFrfWVsc2UgZm9yKDtnPGg7KWlmKGMuYXBwbHkoYVtnKytdLGQpPT09ITEpYnJlYWt9ZWxzZSBpZihpKXtmb3IoZiBpbiBhKWlmKGMuY2FsbChhW2ZdLGYsYVtmXSk9PT0hMSlicmVha31lbHNlIGZvcig7ZzxoOylpZihjLmNhbGwoYVtnXSxnLGFbZysrXSk9PT0hMSlicmVhaztyZXR1cm4gYX0sdHJpbTpHP2Z1bmN0aW9uKGEpe3JldHVybiBhPT1udWxsPyIiOkcuY2FsbChhKX06ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6KGErIiIpLnJlcGxhY2UoaywiIikucmVwbGFjZShsLCIiKX0sbWFrZUFycmF5OmZ1bmN0aW9uKGEsYil7dmFyIGM9Ynx8W107aWYoYSE9bnVsbCl7dmFyIGQ9ZS50eXBlKGEpO2EubGVuZ3RoPT1udWxsfHxkPT09InN0cmluZyJ8fGQ9PT0iZnVuY3Rpb24ifHxkPT09InJlZ2V4cCJ8fGUuaXNXaW5kb3coYSk/RS5jYWxsKGMsYSk6ZS5tZXJnZShjLGEpfXJldHVybiBjfSxpbkFycmF5OmZ1bmN0aW9uKGEsYil7aWYoSClyZXR1cm4gSC5jYWxsKGIsYSk7Zm9yKHZhciBjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGJbY109PT1hKXJldHVybiBjO3JldHVybi0xfSxtZXJnZTpmdW5jdGlvbihhLGMpe3ZhciBkPWEubGVuZ3RoLGU9MDtpZih0eXBlb2YgYy5sZW5ndGg9PSJudW1iZXIiKWZvcih2YXIgZj1jLmxlbmd0aDtlPGY7ZSsrKWFbZCsrXT1jW2VdO2Vsc2Ugd2hpbGUoY1tlXSE9PWIpYVtkKytdPWNbZSsrXTthLmxlbmd0aD1kO3JldHVybiBhfSxncmVwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD1bXSxlO2M9ISFjO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGg7ZjxnO2YrKyllPSEhYihhW2ZdLGYpLGMhPT1lJiZkLnB1c2goYVtmXSk7cmV0dXJuIGR9LG1hcDpmdW5jdGlvbihhLGMsZCl7dmFyIGYsZyxoPVtdLGk9MCxqPWEubGVuZ3RoLGs9YSBpbnN0YW5jZW9mIGV8fGohPT1iJiZ0eXBlb2Ygaj09Im51bWJlciImJihqPjAmJmFbMF0mJmFbai0xXXx8aj09PTB8fGUuaXNBcnJheShhKSk7aWYoaylmb3IoO2k8ajtpKyspZj1jKGFbaV0saSxkKSxmIT1udWxsJiYoaFtoLmxlbmd0aF09Zik7ZWxzZSBmb3IoZyBpbiBhKWY9YyhhW2ddLGcsZCksZiE9bnVsbCYmKGhbaC5sZW5ndGhdPWYpO3JldHVybiBoLmNvbmNhdC5hcHBseShbXSxoKX0sZ3VpZDoxLHByb3h5OmZ1bmN0aW9uKGEsYyl7aWYodHlwZW9mIGM9PSJzdHJpbmciKXt2YXIgZD1hW2NdO2M9YSxhPWR9aWYoIWUuaXNGdW5jdGlvbihhKSlyZXR1cm4gYjt2YXIgZj1GLmNhbGwoYXJndW1lbnRzLDIpLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShjLGYuY29uY2F0KEYuY2FsbChhcmd1bWVudHMpKSl9O2cuZ3VpZD1hLmd1aWQ9YS5ndWlkfHxnLmd1aWR8fGUuZ3VpZCsrO3JldHVybiBnfSxhY2Nlc3M6ZnVuY3Rpb24oYSxjLGQsZixnLGgpe3ZhciBpPWEubGVuZ3RoO2lmKHR5cGVvZiBjPT0ib2JqZWN0Iil7Zm9yKHZhciBqIGluIGMpZS5hY2Nlc3MoYSxqLGNbal0sZixnLGQpO3JldHVybiBhfWlmKGQhPT1iKXtmPSFoJiZmJiZlLmlzRnVuY3Rpb24oZCk7Zm9yKHZhciBrPTA7azxpO2srKylnKGFba10sYyxmP2QuY2FsbChhW2tdLGssZyhhW2tdLGMpKTpkLGgpO3JldHVybiBhfXJldHVybiBpP2coYVswXSxjKTpifSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihhKXthPWEudG9Mb3dlckNhc2UoKTt2YXIgYj1zLmV4ZWMoYSl8fHQuZXhlYyhhKXx8dS5leGVjKGEpfHxhLmluZGV4T2YoImNvbXBhdGlibGUiKTwwJiZ2LmV4ZWMoYSl8fFtdO3JldHVybnticm93c2VyOmJbMV18fCIiLHZlcnNpb246YlsyXXx8IjAifX0sc3ViOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMpe3JldHVybiBuZXcgYS5mbi5pbml0KGIsYyl9ZS5leHRlbmQoITAsYSx0aGlzKSxhLnN1cGVyY2xhc3M9dGhpcyxhLmZuPWEucHJvdG90eXBlPXRoaXMoKSxhLmZuLmNvbnN0cnVjdG9yPWEsYS5zdWI9dGhpcy5zdWIsYS5mbi5pbml0PWZ1bmN0aW9uKGQsZil7ZiYmZiBpbnN0YW5jZW9mIGUmJiEoZiBpbnN0YW5jZW9mIGEpJiYoZj1hKGYpKTtyZXR1cm4gZS5mbi5pbml0LmNhbGwodGhpcyxkLGYsYil9LGEuZm4uaW5pdC5wcm90b3R5cGU9YS5mbjt2YXIgYj1hKGMpO3JldHVybiBhfSxicm93c2VyOnt9fSksZS5lYWNoKCJCb29sZWFuIE51bWJlciBTdHJpbmcgRnVuY3Rpb24gQXJyYXkgRGF0ZSBSZWdFeHAgT2JqZWN0Ii5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7SVsiW29iamVjdCAiK2IrIl0iXT1iLnRvTG93ZXJDYXNlKCl9KSx6PWUudWFNYXRjaCh5KSx6LmJyb3dzZXImJihlLmJyb3dzZXJbei5icm93c2VyXT0hMCxlLmJyb3dzZXIudmVyc2lvbj16LnZlcnNpb24pLGUuYnJvd3Nlci53ZWJraXQmJihlLmJyb3dzZXIuc2FmYXJpPSEwKSxqLnRlc3QoIsKgIikmJihrPS9eW1xzXHhBMF0rLyxsPS9bXHNceEEwXSskLyksaD1lKGMpLGMuYWRkRXZlbnRMaXN0ZW5lcj9CPWZ1bmN0aW9uKCl7Yy5yZW1vdmVFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIixCLCExKSxlLnJlYWR5KCl9OmMuYXR0YWNoRXZlbnQmJihCPWZ1bmN0aW9uKCl7Yy5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIiYmKGMuZGV0YWNoRXZlbnQoIm9ucmVhZHlzdGF0ZWNoYW5nZSIsQiksZS5yZWFkeSgpKX0pO3JldHVybiBlfSgpLGc9ImRvbmUgZmFpbCBpc1Jlc29sdmVkIGlzUmVqZWN0ZWQgcHJvbWlzZSB0aGVuIGFsd2F5cyBwaXBlIi5zcGxpdCgiICIpLGg9W10uc2xpY2U7Zi5leHRlbmQoe19EZWZlcnJlZDpmdW5jdGlvbigpe3ZhciBhPVtdLGIsYyxkLGU9e2RvbmU6ZnVuY3Rpb24oKXtpZighZCl7dmFyIGM9YXJndW1lbnRzLGcsaCxpLGosaztiJiYoaz1iLGI9MCk7Zm9yKGc9MCxoPWMubGVuZ3RoO2c8aDtnKyspaT1jW2ddLGo9Zi50eXBlKGkpLGo9PT0iYXJyYXkiP2UuZG9uZS5hcHBseShlLGkpOmo9PT0iZnVuY3Rpb24iJiZhLnB1c2goaSk7ayYmZS5yZXNvbHZlV2l0aChrWzBdLGtbMV0pfXJldHVybiB0aGlzfSxyZXNvbHZlV2l0aDpmdW5jdGlvbihlLGYpe2lmKCFkJiYhYiYmIWMpe2Y9Znx8W10sYz0xO3RyeXt3aGlsZShhWzBdKWEuc2hpZnQoKS5hcHBseShlLGYpfWZpbmFsbHl7Yj1bZSxmXSxjPTB9fXJldHVybiB0aGlzfSxyZXNvbHZlOmZ1bmN0aW9uKCl7ZS5yZXNvbHZlV2l0aCh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXN9LGlzUmVzb2x2ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hIWN8fCEhYn0sY2FuY2VsOmZ1bmN0aW9uKCl7ZD0xLGE9W107cmV0dXJuIHRoaXN9fTtyZXR1cm4gZX0sRGVmZXJyZWQ6ZnVuY3Rpb24oYSl7dmFyIGI9Zi5fRGVmZXJyZWQoKSxjPWYuX0RlZmVycmVkKCksZDtmLmV4dGVuZChiLHt0aGVuOmZ1bmN0aW9uKGEsYyl7Yi5kb25lKGEpLmZhaWwoYyk7cmV0dXJuIHRoaXN9LGFsd2F5czpmdW5jdGlvbigpe3JldHVybiBiLmRvbmUuYXBwbHkoYixhcmd1bWVudHMpLmZhaWwuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxmYWlsOmMuZG9uZSxyZWplY3RXaXRoOmMucmVzb2x2ZVdpdGgscmVqZWN0OmMucmVzb2x2ZSxpc1JlamVjdGVkOmMuaXNSZXNvbHZlZCxwaXBlOmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuRGVmZXJyZWQoZnVuY3Rpb24oZCl7Zi5lYWNoKHtkb25lOlthLCJyZXNvbHZlIl0sZmFpbDpbYywicmVqZWN0Il19LGZ1bmN0aW9uKGEsYyl7dmFyIGU9Y1swXSxnPWNbMV0saDtmLmlzRnVuY3Rpb24oZSk/YlthXShmdW5jdGlvbigpe2g9ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksaCYmZi5pc0Z1bmN0aW9uKGgucHJvbWlzZSk/aC5wcm9taXNlKCkudGhlbihkLnJlc29sdmUsZC5yZWplY3QpOmRbZ10oaCl9KTpiW2FdKGRbZ10pfSl9KS5wcm9taXNlKCl9LHByb21pc2U6ZnVuY3Rpb24oYSl7aWYoYT09bnVsbCl7aWYoZClyZXR1cm4gZDtkPWE9e319dmFyIGM9Zy5sZW5ndGg7d2hpbGUoYy0tKWFbZ1tjXV09YltnW2NdXTtyZXR1cm4gYX19KSxiLmRvbmUoYy5jYW5jZWwpLmZhaWwoYi5jYW5jZWwpLGRlbGV0ZSBiLmNhbmNlbCxhJiZhLmNhbGwoYixiKTtyZXR1cm4gYn0sd2hlbjpmdW5jdGlvbihhKXtmdW5jdGlvbiBpKGEpe3JldHVybiBmdW5jdGlvbihjKXtiW2FdPWFyZ3VtZW50cy5sZW5ndGg+MT9oLmNhbGwoYXJndW1lbnRzLDApOmMsLS1lfHxnLnJlc29sdmVXaXRoKGcsaC5jYWxsKGIsMCkpfX12YXIgYj1hcmd1bWVudHMsYz0wLGQ9Yi5sZW5ndGgsZT1kLGc9ZDw9MSYmYSYmZi5pc0Z1bmN0aW9uKGEucHJvbWlzZSk/YTpmLkRlZmVycmVkKCk7aWYoZD4xKXtmb3IoO2M8ZDtjKyspYltjXSYmZi5pc0Z1bmN0aW9uKGJbY10ucHJvbWlzZSk/YltjXS5wcm9taXNlKCkudGhlbihpKGMpLGcucmVqZWN0KTotLWU7ZXx8Zy5yZXNvbHZlV2l0aChnLGIpfWVsc2UgZyE9PWEmJmcucmVzb2x2ZVdpdGgoZyxkP1thXTpbXSk7cmV0dXJuIGcucHJvbWlzZSgpfX0pLGYuc3VwcG9ydD1mdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2IiksYj1jLmRvY3VtZW50RWxlbWVudCxkLGUsZyxoLGksaixrLGwsbSxuLG8scCxxLHIscyx0LHU7YS5zZXRBdHRyaWJ1dGUoImNsYXNzTmFtZSIsInQiKSxhLmlubmVySFRNTD0iICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJyBzdHlsZT0ndG9wOjFweDtmbG9hdDpsZWZ0O29wYWNpdHk6LjU1Oyc+YTwvYT48aW5wdXQgdHlwZT0nY2hlY2tib3gnLz4iLGQ9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGU9YS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdO2lmKCFkfHwhZC5sZW5ndGh8fCFlKXJldHVybnt9O2c9Yy5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSxoPWcuYXBwZW5kQ2hpbGQoYy5jcmVhdGVFbGVtZW50KCJvcHRpb24iKSksaT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpWzBdLGs9e2xlYWRpbmdXaGl0ZXNwYWNlOmEuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IWEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFhLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi90b3AvLnRlc3QoZS5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmUuZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjU1JC8udGVzdChlLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhZS5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmkudmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmguc2VsZWN0ZWQsZ2V0U2V0QXR0cmlidXRlOmEuY2xhc3NOYW1lIT09InQiLHN1Ym1pdEJ1YmJsZXM6ITAsY2hhbmdlQnViYmxlczohMCxmb2N1c2luQnViYmxlczohMSxkZWxldGVFeHBhbmRvOiEwLG5vQ2xvbmVFdmVudDohMCxpbmxpbmVCbG9ja05lZWRzTGF5b3V0OiExLHNocmlua1dyYXBCbG9ja3M6ITEscmVsaWFibGVNYXJnaW5SaWdodDohMH0saS5jaGVja2VkPSEwLGsubm9DbG9uZUNoZWNrZWQ9aS5jbG9uZU5vZGUoITApLmNoZWNrZWQsZy5kaXNhYmxlZD0hMCxrLm9wdERpc2FibGVkPSFoLmRpc2FibGVkO3RyeXtkZWxldGUgYS50ZXN0fWNhdGNoKHYpe2suZGVsZXRlRXhwYW5kbz0hMX0hYS5hZGRFdmVudExpc3RlbmVyJiZhLmF0dGFjaEV2ZW50JiZhLmZpcmVFdmVudCYmKGEuYXR0YWNoRXZlbnQoIm9uY2xpY2siLGZ1bmN0aW9uKCl7ay5ub0Nsb25lRXZlbnQ9ITF9KSxhLmNsb25lTm9kZSghMCkuZmlyZUV2ZW50KCJvbmNsaWNrIikpLGk9Yy5jcmVhdGVFbGVtZW50KCJpbnB1dCIpLGkudmFsdWU9InQiLGkuc2V0QXR0cmlidXRlKCJ0eXBlIiwicmFkaW8iKSxrLnJhZGlvVmFsdWU9aS52YWx1ZT09PSJ0IixpLnNldEF0dHJpYnV0ZSgiY2hlY2tlZCIsImNoZWNrZWQiKSxhLmFwcGVuZENoaWxkKGkpLGw9Yy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksbC5hcHBlbmRDaGlsZChhLmZpcnN0Q2hpbGQpLGsuY2hlY2tDbG9uZT1sLmNsb25lTm9kZSghMCkuY2xvbmVOb2RlKCEwKS5sYXN0Q2hpbGQuY2hlY2tlZCxhLmlubmVySFRNTD0iIixhLnN0eWxlLndpZHRoPWEuc3R5bGUucGFkZGluZ0xlZnQ9IjFweCIsbT1jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJib2R5IilbMF0sbz1jLmNyZWF0ZUVsZW1lbnQobT8iZGl2IjoiYm9keSIpLHA9e3Zpc2liaWxpdHk6ImhpZGRlbiIsd2lkdGg6MCxoZWlnaHQ6MCxib3JkZXI6MCxtYXJnaW46MH0sbSYmZi5leHRlbmQocCx7cG9zaXRpb246ImFic29sdXRlIixsZWZ0Oi0xZTMsdG9wOi0xZTN9KTtmb3IodCBpbiBwKW8uc3R5bGVbdF09cFt0XTtvLmFwcGVuZENoaWxkKGEpLG49bXx8YixuLmluc2VydEJlZm9yZShvLG4uZmlyc3RDaGlsZCksay5hcHBlbmRDaGVja2VkPWkuY2hlY2tlZCxrLmJveE1vZGVsPWEub2Zmc2V0V2lkdGg9PT0yLCJ6b29tImluIGEuc3R5bGUmJihhLnN0eWxlLmRpc3BsYXk9ImlubGluZSIsYS5zdHlsZS56b29tPTEsay5pbmxpbmVCbG9ja05lZWRzTGF5b3V0PWEub2Zmc2V0V2lkdGg9PT0yLGEuc3R5bGUuZGlzcGxheT0iIixhLmlubmVySFRNTD0iPGRpdiBzdHlsZT0nd2lkdGg6NHB4Oyc+PC9kaXY+IixrLnNocmlua1dyYXBCbG9ja3M9YS5vZmZzZXRXaWR0aCE9PTIpLGEuaW5uZXJIVE1MPSI8dGFibGU+PHRyPjx0ZCBzdHlsZT0ncGFkZGluZzowO2JvcmRlcjowO2Rpc3BsYXk6bm9uZSc+PC90ZD48dGQ+dDwvdGQ+PC90cj48L3RhYmxlPiIscT1hLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpLHU9cVswXS5vZmZzZXRIZWlnaHQ9PT0wLHFbMF0uc3R5bGUuZGlzcGxheT0iIixxWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiLGsucmVsaWFibGVIaWRkZW5PZmZzZXRzPXUmJnFbMF0ub2Zmc2V0SGVpZ2h0PT09MCxhLmlubmVySFRNTD0iIixjLmRlZmF1bHRWaWV3JiZjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUmJihqPWMuY3JlYXRlRWxlbWVudCgiZGl2Iiksai5zdHlsZS53aWR0aD0iMCIsai5zdHlsZS5tYXJnaW5SaWdodD0iMCIsYS5hcHBlbmRDaGlsZChqKSxrLnJlbGlhYmxlTWFyZ2luUmlnaHQ9KHBhcnNlSW50KChjLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoaixudWxsKXx8e21hcmdpblJpZ2h0OjB9KS5tYXJnaW5SaWdodCwxMCl8fDApPT09MCksby5pbm5lckhUTUw9IiIsbi5yZW1vdmVDaGlsZChvKTtpZihhLmF0dGFjaEV2ZW50KWZvcih0IGlue3N1Ym1pdDoxLGNoYW5nZToxLGZvY3VzaW46MX0pcz0ib24iK3QsdT1zIGluIGEsdXx8KGEuc2V0QXR0cmlidXRlKHMsInJldHVybjsiKSx1PXR5cGVvZiBhW3NdPT0iZnVuY3Rpb24iKSxrW3QrIkJ1YmJsZXMiXT11O289bD1nPWg9bT1qPWE9aT1udWxsO3JldHVybiBrfSgpLGYuYm94TW9kZWw9Zi5zdXBwb3J0LmJveE1vZGVsO3ZhciBpPS9eKD86XHsuKlx9fFxbLipcXSkkLyxqPS8oW2Etel0pKFtBLVpdKS9nO2YuZXh0ZW5kKHtjYWNoZTp7fSx1dWlkOjAsZXhwYW5kbzoialF1ZXJ5IisoZi5mbi5qcXVlcnkrTWF0aC5yYW5kb20oKSkucmVwbGFjZSgvXEQvZywiIiksbm9EYXRhOntlbWJlZDohMCxvYmplY3Q6ImNsc2lkOkQyN0NEQjZFLUFFNkQtMTFjZi05NkI4LTQ0NDU1MzU0MDAwMCIsYXBwbGV0OiEwfSxoYXNEYXRhOmZ1bmN0aW9uKGEpe2E9YS5ub2RlVHlwZT9mLmNhY2hlW2FbZi5leHBhbmRvXV06YVtmLmV4cGFuZG9dO3JldHVybiEhYSYmIWwoYSl9LGRhdGE6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoISFmLmFjY2VwdERhdGEoYSkpe3ZhciBnPWYuZXhwYW5kbyxoPXR5cGVvZiBjPT0ic3RyaW5nIixpLGo9YS5ub2RlVHlwZSxrPWo/Zi5jYWNoZTphLGw9aj9hW2YuZXhwYW5kb106YVtmLmV4cGFuZG9dJiZmLmV4cGFuZG87aWYoKCFsfHxlJiZsJiYha1tsXVtnXSkmJmgmJmQ9PT1iKXJldHVybjtsfHwoaj9hW2YuZXhwYW5kb109bD0rK2YudXVpZDpsPWYuZXhwYW5kbyksa1tsXXx8KGtbbF09e30sanx8KGtbbF0udG9KU09OPWYubm9vcCkpO2lmKHR5cGVvZiBjPT0ib2JqZWN0Inx8dHlwZW9mIGM9PSJmdW5jdGlvbiIpZT9rW2xdW2ddPWYuZXh0ZW5kKGtbbF1bZ10sYyk6a1tsXT1mLmV4dGVuZChrW2xdLGMpO2k9a1tsXSxlJiYoaVtnXXx8KGlbZ109e30pLGk9aVtnXSksZCE9PWImJihpW2YuY2FtZWxDYXNlKGMpXT1kKTtpZihjPT09ImV2ZW50cyImJiFpW2NdKXJldHVybiBpW2ddJiZpW2ddLmV2ZW50cztyZXR1cm4gaD9pW2YuY2FtZWxDYXNlKGMpXXx8aVtjXTppfX0scmVtb3ZlRGF0YTpmdW5jdGlvbihiLGMsZCl7aWYoISFmLmFjY2VwdERhdGEoYikpe3ZhciBlPWYuZXhwYW5kbyxnPWIubm9kZVR5cGUsaD1nP2YuY2FjaGU6YixpPWc/YltmLmV4cGFuZG9dOmYuZXhwYW5kbztpZighaFtpXSlyZXR1cm47aWYoYyl7dmFyIGo9ZD9oW2ldW2VdOmhbaV07aWYoail7ZGVsZXRlIGpbY107aWYoIWwoaikpcmV0dXJufX1pZihkKXtkZWxldGUgaFtpXVtlXTtpZighbChoW2ldKSlyZXR1cm59dmFyIGs9aFtpXVtlXTtmLnN1cHBvcnQuZGVsZXRlRXhwYW5kb3x8aCE9YT9kZWxldGUgaFtpXTpoW2ldPW51bGwsaz8oaFtpXT17fSxnfHwoaFtpXS50b0pTT049Zi5ub29wKSxoW2ldW2VdPWspOmcmJihmLnN1cHBvcnQuZGVsZXRlRXhwYW5kbz9kZWxldGUgYltmLmV4cGFuZG9dOmIucmVtb3ZlQXR0cmlidXRlP2IucmVtb3ZlQXR0cmlidXRlKGYuZXhwYW5kbyk6YltmLmV4cGFuZG9dPW51bGwpfX0sX2RhdGE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBmLmRhdGEoYSxiLGMsITApfSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWYubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4gYiE9PSEwJiZhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpPT09Yn1yZXR1cm4hMH19KSxmLmZuLmV4dGVuZCh7ZGF0YTpmdW5jdGlvbihhLGMpe3ZhciBkPW51bGw7aWYodHlwZW9mIGE9PSJ1bmRlZmluZWQiKXtpZih0aGlzLmxlbmd0aCl7ZD1mLmRhdGEodGhpc1swXSk7aWYodGhpc1swXS5ub2RlVHlwZT09PTEpe3ZhciBlPXRoaXNbMF0uYXR0cmlidXRlcyxnO2Zvcih2YXIgaD0wLGk9ZS5sZW5ndGg7aDxpO2grKylnPWVbaF0ubmFtZSxnLmluZGV4T2YoImRhdGEtIik9PT0wJiYoZz1mLmNhbWVsQ2FzZShnLnN1YnN0cmluZyg1KSksayh0aGlzWzBdLGcsZFtnXSkpfX1yZXR1cm4gZH1pZih0eXBlb2YgYT09Im9iamVjdCIpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YuZGF0YSh0aGlzLGEpfSk7dmFyIGo9YS5zcGxpdCgiLiIpO2pbMV09alsxXT8iLiIralsxXToiIjtpZihjPT09Yil7ZD10aGlzLnRyaWdnZXJIYW5kbGVyKCJnZXREYXRhIitqWzFdKyIhIixbalswXV0pLGQ9PT1iJiZ0aGlzLmxlbmd0aCYmKGQ9Zi5kYXRhKHRoaXNbMF0sYSksZD1rKHRoaXNbMF0sYSxkKSk7cmV0dXJuIGQ9PT1iJiZqWzFdP3RoaXMuZGF0YShqWzBdKTpkfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1mKHRoaXMpLGQ9W2pbMF0sY107Yi50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIralsxXSsiISIsZCksZi5kYXRhKHRoaXMsYSxjKSxiLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitqWzFdKyIhIixkKX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pLGYuZXh0ZW5kKHtfbWFyazpmdW5jdGlvbihhLGMpe2EmJihjPShjfHwiZngiKSsibWFyayIsZi5kYXRhKGEsYywoZi5kYXRhKGEsYyxiLCEwKXx8MCkrMSwhMCkpfSxfdW5tYXJrOmZ1bmN0aW9uKGEsYyxkKXthIT09ITAmJihkPWMsYz1hLGE9ITEpO2lmKGMpe2Q9ZHx8ImZ4Ijt2YXIgZT1kKyJtYXJrIixnPWE/MDooZi5kYXRhKGMsZSxiLCEwKXx8MSktMTtnP2YuZGF0YShjLGUsZywhMCk6KGYucmVtb3ZlRGF0YShjLGUsITApLG0oYyxkLCJtYXJrIikpfX0scXVldWU6ZnVuY3Rpb24oYSxjLGQpe2lmKGEpe2M9KGN8fCJmeCIpKyJxdWV1ZSI7dmFyIGU9Zi5kYXRhKGEsYyxiLCEwKTtkJiYoIWV8fGYuaXNBcnJheShkKT9lPWYuZGF0YShhLGMsZi5tYWtlQXJyYXkoZCksITApOmUucHVzaChkKSk7cmV0dXJuIGV8fFtdfX0sZGVxdWV1ZTpmdW5jdGlvbihhLGIpe2I9Ynx8ImZ4Ijt2YXIgYz1mLnF1ZXVlKGEsYiksZD1jLnNoaWZ0KCksZTtkPT09ImlucHJvZ3Jlc3MiJiYoZD1jLnNoaWZ0KCkpLGQmJihiPT09ImZ4IiYmYy51bnNoaWZ0KCJpbnByb2dyZXNzIiksZC5jYWxsKGEsZnVuY3Rpb24oKXtmLmRlcXVldWUoYSxiKX0pKSxjLmxlbmd0aHx8KGYucmVtb3ZlRGF0YShhLGIrInF1ZXVlIiwhMCksbShhLGIsInF1ZXVlIikpfX0pLGYuZm4uZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGMpe3R5cGVvZiBhIT0ic3RyaW5nIiYmKGM9YSxhPSJmeCIpO2lmKGM9PT1iKXJldHVybiBmLnF1ZXVlKHRoaXNbMF0sYSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWYucXVldWUodGhpcyxhLGMpO2E9PT0iZngiJiZiWzBdIT09ImlucHJvZ3Jlc3MiJiZmLmRlcXVldWUodGhpcyxhKX0pfSxkZXF1ZXVlOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmLmRlcXVldWUodGhpcyxhKX0pfSxkZWxheTpmdW5jdGlvbihhLGIpe2E9Zi5meD9mLmZ4LnNwZWVkc1thXXx8YTphLGI9Ynx8ImZ4IjtyZXR1cm4gdGhpcy5xdWV1ZShiLGZ1bmN0aW9uKCl7dmFyIGM9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zi5kZXF1ZXVlKGMsYil9LGEpfSl9LGNsZWFyUXVldWU6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucXVldWUoYXx8ImZ4IixbXSl9LHByb21pc2U6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiBtKCl7LS1ofHxkLnJlc29sdmVXaXRoKGUsW2VdKX10eXBlb2YgYSE9InN0cmluZyImJihjPWEsYT1iKSxhPWF8fCJmeCI7dmFyIGQ9Zi5EZWZlcnJlZCgpLGU9dGhpcyxnPWUubGVuZ3RoLGg9MSxpPWErImRlZmVyIixqPWErInF1ZXVlIixrPWErIm1hcmsiLGw7d2hpbGUoZy0tKWlmKGw9Zi5kYXRhKGVbZ10saSxiLCEwKXx8KGYuZGF0YShlW2ddLGosYiwhMCl8fGYuZGF0YShlW2ddLGssYiwhMCkpJiZmLmRhdGEoZVtnXSxpLGYuX0RlZmVycmVkKCksITApKWgrKyxsLmRvbmUobSk7bSgpO3JldHVybiBkLnByb21pc2UoKX19KTt2YXIgbj0vW1xuXHRccl0vZyxvPS9ccysvLHA9L1xyL2cscT0vXig/OmJ1dHRvbnxpbnB1dCkkL2kscj0vXig/OmJ1dHRvbnxpbnB1dHxvYmplY3R8c2VsZWN0fHRleHRhcmVhKSQvaSxzPS9eYSg/OnJlYSk/JC9pLHQ9L14oPzphdXRvZm9jdXN8YXV0b3BsYXl8YXN5bmN8Y2hlY2tlZHxjb250cm9sc3xkZWZlcnxkaXNhYmxlZHxoaWRkZW58bG9vcHxtdWx0aXBsZXxvcGVufHJlYWRvbmx5fHJlcXVpcmVkfHNjb3BlZHxzZWxlY3RlZCkkL2ksdT0vXDp8Xm9uLyx2LHc7Zi5mbi5leHRlbmQoe2F0dHI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGIsITAsZi5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5yZW1vdmVBdHRyKHRoaXMsYSl9KX0scHJvcDpmdW5jdGlvbihhLGIpe3JldHVybiBmLmFjY2Vzcyh0aGlzLGEsYiwhMCxmLnByb3ApfSxyZW1vdmVQcm9wOmZ1bmN0aW9uKGEpe2E9Zi5wcm9wRml4W2FdfHxhO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt0cnl7dGhpc1thXT1iLGRlbGV0ZSB0aGlzW2FdfWNhdGNoKGMpe319KX0sYWRkQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZyxoLGk7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS5hZGRDbGFzcyhhLmNhbGwodGhpcyxiLHRoaXMuY2xhc3NOYW1lKSl9KTtpZihhJiZ0eXBlb2YgYT09InN0cmluZyIpe2I9YS5zcGxpdChvKTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7ZT10aGlzW2NdO2lmKGUubm9kZVR5cGU9PT0xKWlmKCFlLmNsYXNzTmFtZSYmYi5sZW5ndGg9PT0xKWUuY2xhc3NOYW1lPWE7ZWxzZXtnPSIgIitlLmNsYXNzTmFtZSsiICI7Zm9yKGg9MCxpPWIubGVuZ3RoO2g8aTtoKyspfmcuaW5kZXhPZigiICIrYltoXSsiICIpfHwoZys9YltoXSsiICIpO2UuY2xhc3NOYW1lPWYudHJpbShnKX19fXJldHVybiB0aGlzfSxyZW1vdmVDbGFzczpmdW5jdGlvbihhKXt2YXIgYyxkLGUsZyxoLGksajtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLnJlbW92ZUNsYXNzKGEuY2FsbCh0aGlzLGIsdGhpcy5jbGFzc05hbWUpKX0pO2lmKGEmJnR5cGVvZiBhPT0ic3RyaW5nInx8YT09PWIpe2M9KGF8fCIiKS5zcGxpdChvKTtmb3IoZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7Zz10aGlzW2RdO2lmKGcubm9kZVR5cGU9PT0xJiZnLmNsYXNzTmFtZSlpZihhKXtoPSgiICIrZy5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKG4sIiAiKTtmb3IoaT0wLGo9Yy5sZW5ndGg7aTxqO2krKyloPWgucmVwbGFjZSgiICIrY1tpXSsiICIsIiAiKTtnLmNsYXNzTmFtZT1mLnRyaW0oaCl9ZWxzZSBnLmNsYXNzTmFtZT0iIn19cmV0dXJuIHRoaXN9LHRvZ2dsZUNsYXNzOmZ1bmN0aW9uKGEsYil7dmFyIGM9dHlwZW9mIGEsZD10eXBlb2YgYj09ImJvb2xlYW4iO2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGMpe2YodGhpcykudG9nZ2xlQ2xhc3MoYS5jYWxsKHRoaXMsYyx0aGlzLmNsYXNzTmFtZSxiKSxiKX0pO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtpZihjPT09InN0cmluZyIpe3ZhciBlLGc9MCxoPWYodGhpcyksaT1iLGo9YS5zcGxpdChvKTt3aGlsZShlPWpbZysrXSlpPWQ/aTohaC5oYXNDbGFzcyhlKSxoW2k/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXShlKX1lbHNlIGlmKGM9PT0idW5kZWZpbmVkInx8Yz09PSJib29sZWFuIil0aGlzLmNsYXNzTmFtZSYmZi5fZGF0YSh0aGlzLCJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSksdGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT0hMT8iIjpmLl9kYXRhKHRoaXMsIl9fY2xhc3NOYW1lX18iKXx8IiJ9KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7dmFyIGI9IiAiK2ErIiAiO2Zvcih2YXIgYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKylpZigoIiAiK3RoaXNbY10uY2xhc3NOYW1lKyIgIikucmVwbGFjZShuLCIgIikuaW5kZXhPZihiKT4tMSlyZXR1cm4hMDtyZXR1cm4hMX0sdmFsOmZ1bmN0aW9uKGEpe3ZhciBjLGQsZT10aGlzWzBdO2lmKCFhcmd1bWVudHMubGVuZ3RoKXtpZihlKXtjPWYudmFsSG9va3NbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1tlLnR5cGVdO2lmKGMmJiJnZXQiaW4gYyYmKGQ9Yy5nZXQoZSwidmFsdWUiKSkhPT1iKXJldHVybiBkO2Q9ZS52YWx1ZTtyZXR1cm4gdHlwZW9mIGQ9PSJzdHJpbmciP2QucmVwbGFjZShwLCIiKTpkPT1udWxsPyIiOmR9cmV0dXJuIGJ9dmFyIGc9Zi5pc0Z1bmN0aW9uKGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZCl7dmFyIGU9Zih0aGlzKSxoO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtnP2g9YS5jYWxsKHRoaXMsZCxlLnZhbCgpKTpoPWEsaD09bnVsbD9oPSIiOnR5cGVvZiBoPT0ibnVtYmVyIj9oKz0iIjpmLmlzQXJyYXkoaCkmJihoPWYubWFwKGgsZnVuY3Rpb24oYSl7cmV0dXJuIGE9PW51bGw/IiI6YSsiIn0pKSxjPWYudmFsSG9va3NbdGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXXx8Zi52YWxIb29rc1t0aGlzLnR5cGVdO2lmKCFjfHwhKCJzZXQiaW4gYyl8fGMuc2V0KHRoaXMsaCwidmFsdWUiKT09PWIpdGhpcy52YWx1ZT1ofX0pfX0pLGYuZXh0ZW5kKHt2YWxIb29rczp7b3B0aW9uOntnZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5hdHRyaWJ1dGVzLnZhbHVlO3JldHVybiFifHxiLnNwZWNpZmllZD9hLnZhbHVlOmEudGV4dH19LHNlbGVjdDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiLGM9YS5zZWxlY3RlZEluZGV4LGQ9W10sZT1hLm9wdGlvbnMsZz1hLnR5cGU9PT0ic2VsZWN0LW9uZSI7aWYoYzwwKXJldHVybiBudWxsO2Zvcih2YXIgaD1nP2M6MCxpPWc/YysxOmUubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWVbaF07aWYoai5zZWxlY3RlZCYmKGYuc3VwcG9ydC5vcHREaXNhYmxlZD8hai5kaXNhYmxlZDpqLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWoucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWYubm9kZU5hbWUoai5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7Yj1mKGopLnZhbCgpO2lmKGcpcmV0dXJuIGI7ZC5wdXNoKGIpfX1pZihnJiYhZC5sZW5ndGgmJmUubGVuZ3RoKXJldHVybiBmKGVbY10pLnZhbCgpO3JldHVybiBkfSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1mLm1ha2VBcnJheShiKTtmKGEpLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oKXt0aGlzLnNlbGVjdGVkPWYuaW5BcnJheShmKHRoaXMpLnZhbCgpLGMpPj0wfSksYy5sZW5ndGh8fChhLnNlbGVjdGVkSW5kZXg9LTEpO3JldHVybiBjfX19LGF0dHJGbjp7dmFsOiEwLGNzczohMCxodG1sOiEwLHRleHQ6ITAsZGF0YTohMCx3aWR0aDohMCxoZWlnaHQ6ITAsb2Zmc2V0OiEwfSxhdHRyRml4Ont0YWJpbmRleDoidGFiSW5kZXgifSxhdHRyOmZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBnPWEubm9kZVR5cGU7aWYoIWF8fGc9PT0zfHxnPT09OHx8Zz09PTIpcmV0dXJuIGI7aWYoZSYmYyBpbiBmLmF0dHJGbilyZXR1cm4gZihhKVtjXShkKTtpZighKCJnZXRBdHRyaWJ1dGUiaW4gYSkpcmV0dXJuIGYucHJvcChhLGMsZCk7dmFyIGgsaSxqPWchPT0xfHwhZi5pc1hNTERvYyhhKTtqJiYoYz1mLmF0dHJGaXhbY118fGMsaT1mLmF0dHJIb29rc1tjXSxpfHwodC50ZXN0KGMpP2k9dzp2JiZjIT09ImNsYXNzTmFtZSImJihmLm5vZGVOYW1lKGEsImZvcm0iKXx8dS50ZXN0KGMpKSYmKGk9dikpKTtpZihkIT09Yil7aWYoZD09PW51bGwpe2YucmVtb3ZlQXR0cihhLGMpO3JldHVybiBifWlmKGkmJiJzZXQiaW4gaSYmaiYmKGg9aS5zZXQoYSxkLGMpKSE9PWIpcmV0dXJuIGg7YS5zZXRBdHRyaWJ1dGUoYywiIitkKTtyZXR1cm4gZH1pZihpJiYiZ2V0ImluIGkmJmomJihoPWkuZ2V0KGEsYykpIT09bnVsbClyZXR1cm4gaDtoPWEuZ2V0QXR0cmlidXRlKGMpO3JldHVybiBoPT09bnVsbD9iOmh9LHJlbW92ZUF0dHI6ZnVuY3Rpb24oYSxiKXt2YXIgYzthLm5vZGVUeXBlPT09MSYmKGI9Zi5hdHRyRml4W2JdfHxiLGYuc3VwcG9ydC5nZXRTZXRBdHRyaWJ1dGU/YS5yZW1vdmVBdHRyaWJ1dGUoYik6KGYuYXR0cihhLGIsIiIpLGEucmVtb3ZlQXR0cmlidXRlTm9kZShhLmdldEF0dHJpYnV0ZU5vZGUoYikpKSx0LnRlc3QoYikmJihjPWYucHJvcEZpeFtiXXx8YilpbiBhJiYoYVtjXT0hMSkpfSxhdHRySG9va3M6e3R5cGU6e3NldDpmdW5jdGlvbihhLGIpe2lmKHEudGVzdChhLm5vZGVOYW1lKSYmYS5wYXJlbnROb2RlKWYuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2Vsc2UgaWYoIWYuc3VwcG9ydC5yYWRpb1ZhbHVlJiZiPT09InJhZGlvIiYmZi5ub2RlTmFtZShhLCJpbnB1dCIpKXt2YXIgYz1hLnZhbHVlO2Euc2V0QXR0cmlidXRlKCJ0eXBlIixiKSxjJiYoYS52YWx1ZT1jKTtyZXR1cm4gYn19fSx0YWJJbmRleDp7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBjPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiSW5kZXgiKTtyZXR1cm4gYyYmYy5zcGVjaWZpZWQ/cGFyc2VJbnQoYy52YWx1ZSwxMCk6ci50ZXN0KGEubm9kZU5hbWUpfHxzLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOmJ9fSx2YWx1ZTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYodiYmZi5ub2RlTmFtZShhLCJidXR0b24iKSlyZXR1cm4gdi5nZXQoYSxiKTtyZXR1cm4gYiBpbiBhP2EudmFsdWU6bnVsbH0sc2V0OmZ1bmN0aW9uKGEsYixjKXtpZih2JiZmLm5vZGVOYW1lKGEsImJ1dHRvbiIpKXJldHVybiB2LnNldChhLGIsYyk7YS52YWx1ZT1ifX19LHByb3BGaXg6e3RhYmluZGV4OiJ0YWJJbmRleCIscmVhZG9ubHk6InJlYWRPbmx5IiwiZm9yIjoiaHRtbEZvciIsImNsYXNzIjoiY2xhc3NOYW1lIixtYXhsZW5ndGg6Im1heExlbmd0aCIsY2VsbHNwYWNpbmc6ImNlbGxTcGFjaW5nIixjZWxscGFkZGluZzoiY2VsbFBhZGRpbmciLHJvd3NwYW46InJvd1NwYW4iLGNvbHNwYW46ImNvbFNwYW4iLHVzZW1hcDoidXNlTWFwIixmcmFtZWJvcmRlcjoiZnJhbWVCb3JkZXIiLGNvbnRlbnRlZGl0YWJsZToiY29udGVudEVkaXRhYmxlIn0scHJvcDpmdW5jdGlvbihhLGMsZCl7dmFyIGU9YS5ub2RlVHlwZTtpZighYXx8ZT09PTN8fGU9PT04fHxlPT09MilyZXR1cm4gYjt2YXIgZyxoLGk9ZSE9PTF8fCFmLmlzWE1MRG9jKGEpO2kmJihjPWYucHJvcEZpeFtjXXx8YyxoPWYucHJvcEhvb2tzW2NdKTtyZXR1cm4gZCE9PWI/aCYmInNldCJpbiBoJiYoZz1oLnNldChhLGQsYykpIT09Yj9nOmFbY109ZDpoJiYiZ2V0ImluIGgmJihnPWguZ2V0KGEsYykpIT09Yj9nOmFbY119LHByb3BIb29rczp7fX0pLHc9e2dldDpmdW5jdGlvbihhLGMpe3JldHVybiBmLnByb3AoYSxjKT9jLnRvTG93ZXJDYXNlKCk6Yn0sc2V0OmZ1bmN0aW9uKGEsYixjKXt2YXIgZDtiPT09ITE/Zi5yZW1vdmVBdHRyKGEsYyk6KGQ9Zi5wcm9wRml4W2NdfHxjLGQgaW4gYSYmKGFbZF09ITApLGEuc2V0QXR0cmlidXRlKGMsYy50b0xvd2VyQ2FzZSgpKSk7cmV0dXJuIGN9fSxmLnN1cHBvcnQuZ2V0U2V0QXR0cmlidXRlfHwoZi5hdHRyRml4PWYucHJvcEZpeCx2PWYuYXR0ckhvb2tzLm5hbWU9Zi5hdHRySG9va3MudGl0bGU9Zi52YWxIb29rcy5idXR0b249e2dldDpmdW5jdGlvbihhLGMpe3ZhciBkO2Q9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO3JldHVybiBkJiZkLm5vZGVWYWx1ZSE9PSIiP2Qubm9kZVZhbHVlOmJ9LHNldDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGVOb2RlKGMpO2lmKGQpe2Qubm9kZVZhbHVlPWI7cmV0dXJuIGJ9fX0sZi5lYWNoKFsid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGIpe2YuYXR0ckhvb2tzW2JdPWYuZXh0ZW5kKGYuYXR0ckhvb2tzW2JdLHtzZXQ6ZnVuY3Rpb24oYSxjKXtpZihjPT09IiIpe2Euc2V0QXR0cmlidXRlKGIsImF1dG8iKTtyZXR1cm4gY319fSl9KSksZi5zdXBwb3J0LmhyZWZOb3JtYWxpemVkfHxmLmVhY2goWyJocmVmIiwic3JjIiwid2lkdGgiLCJoZWlnaHQiXSxmdW5jdGlvbihhLGMpe2YuYXR0ckhvb2tzW2NdPWYuZXh0ZW5kKGYuYXR0ckhvb2tzW2NdLHtnZXQ6ZnVuY3Rpb24oYSl7dmFyIGQ9YS5nZXRBdHRyaWJ1dGUoYywyKTtyZXR1cm4gZD09PW51bGw/YjpkfX0pfSksZi5zdXBwb3J0LnN0eWxlfHwoZi5hdHRySG9va3Muc3R5bGU9e2dldDpmdW5jdGlvbihhKXtyZXR1cm4gYS5zdHlsZS5jc3NUZXh0LnRvTG93ZXJDYXNlKCl8fGJ9LHNldDpmdW5jdGlvbihhLGIpe3JldHVybiBhLnN0eWxlLmNzc1RleHQ9IiIrYn19KSxmLnN1cHBvcnQub3B0U2VsZWN0ZWR8fChmLnByb3BIb29rcy5zZWxlY3RlZD1mLmV4dGVuZChmLnByb3BIb29rcy5zZWxlY3RlZCx7Z2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEucGFyZW50Tm9kZTtiJiYoYi5zZWxlY3RlZEluZGV4LGIucGFyZW50Tm9kZSYmYi5wYXJlbnROb2RlLnNlbGVjdGVkSW5kZXgpfX0pKSxmLnN1cHBvcnQuY2hlY2tPbnx8Zi5lYWNoKFsicmFkaW8iLCJjaGVja2JveCJdLGZ1bmN0aW9uKCl7Zi52YWxIb29rc1t0aGlzXT17Z2V0OmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidmFsdWUiKT09PW51bGw/Im9uIjphLnZhbHVlfX19KSxmLmVhY2goWyJyYWRpbyIsImNoZWNrYm94Il0sZnVuY3Rpb24oKXtmLnZhbEhvb2tzW3RoaXNdPWYuZXh0ZW5kKGYudmFsSG9va3NbdGhpc10se3NldDpmdW5jdGlvbihhLGIpe2lmKGYuaXNBcnJheShiKSlyZXR1cm4gYS5jaGVja2VkPWYuaW5BcnJheShmKGEpLnZhbCgpLGIpPj0wfX0pfSk7dmFyIHg9L1wuKC4qKSQvLHk9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLHo9L1wuL2csQT0vIC9nLEI9L1teXHdccy58YF0vZyxDPWZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoQiwiXFwkJiIpfTtmLmV2ZW50PXthZGQ6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtpZihkPT09ITEpZD1EO2Vsc2UgaWYoIWQpcmV0dXJuO3ZhciBnLGg7ZC5oYW5kbGVyJiYoZz1kLGQ9Zy5oYW5kbGVyKSxkLmd1aWR8fChkLmd1aWQ9Zi5ndWlkKyspO3ZhciBpPWYuX2RhdGEoYSk7aWYoIWkpcmV0dXJuO3ZhciBqPWkuZXZlbnRzLGs9aS5oYW5kbGU7anx8KGkuZXZlbnRzPWo9e30pLGt8fChpLmhhbmRsZT1rPWZ1bmN0aW9uKGEpe3JldHVybiB0eXBlb2YgZiE9InVuZGVmaW5lZCImJighYXx8Zi5ldmVudC50cmlnZ2VyZWQhPT1hLnR5cGUpP2YuZXZlbnQuaGFuZGxlLmFwcGx5KGsuZWxlbSxhcmd1bWVudHMpOmJ9KSxrLmVsZW09YSxjPWMuc3BsaXQoIiAiKTt2YXIgbCxtPTAsbjt3aGlsZShsPWNbbSsrXSl7aD1nP2YuZXh0ZW5kKHt9LGcpOntoYW5kbGVyOmQsZGF0YTplfSxsLmluZGV4T2YoIi4iKT4tMT8obj1sLnNwbGl0KCIuIiksbD1uLnNoaWZ0KCksaC5uYW1lc3BhY2U9bi5zbGljZSgwKS5zb3J0KCkuam9pbigiLiIpKToobj1bXSxoLm5hbWVzcGFjZT0iIiksaC50eXBlPWwsaC5ndWlkfHwoaC5ndWlkPWQuZ3VpZCk7dmFyIG89altsXSxwPWYuZXZlbnQuc3BlY2lhbFtsXXx8e307aWYoIW8pe289altsXT1bXTtpZighcC5zZXR1cHx8cC5zZXR1cC5jYWxsKGEsZSxuLGspPT09ITEpYS5hZGRFdmVudExpc3RlbmVyP2EuYWRkRXZlbnRMaXN0ZW5lcihsLGssITEpOmEuYXR0YWNoRXZlbnQmJmEuYXR0YWNoRXZlbnQoIm9uIitsLGspfXAuYWRkJiYocC5hZGQuY2FsbChhLGgpLGguaGFuZGxlci5ndWlkfHwoaC5oYW5kbGVyLmd1aWQ9ZC5ndWlkKSksby5wdXNoKGgpLGYuZXZlbnQuZ2xvYmFsW2xdPSEwfWE9bnVsbH19LGdsb2JhbDp7fSxyZW1vdmU6ZnVuY3Rpb24oYSxjLGQsZSl7aWYoYS5ub2RlVHlwZSE9PTMmJmEubm9kZVR5cGUhPT04KXtkPT09ITEmJihkPUQpO3ZhciBnLGgsaSxqLGs9MCxsLG0sbixvLHAscSxyLHM9Zi5oYXNEYXRhKGEpJiZmLl9kYXRhKGEpLHQ9cyYmcy5ldmVudHM7aWYoIXN8fCF0KXJldHVybjtjJiZjLnR5cGUmJihkPWMuaGFuZGxlcixjPWMudHlwZSk7aWYoIWN8fHR5cGVvZiBjPT0ic3RyaW5nIiYmYy5jaGFyQXQoMCk9PT0iLiIpe2M9Y3x8IiI7Zm9yKGggaW4gdClmLmV2ZW50LnJlbW92ZShhLGgrYyk7cmV0dXJufWM9Yy5zcGxpdCgiICIpO3doaWxlKGg9Y1trKytdKXtyPWgscT1udWxsLGw9aC5pbmRleE9mKCIuIik8MCxtPVtdLGx8fChtPWguc3BsaXQoIi4iKSxoPW0uc2hpZnQoKSxuPW5ldyBSZWdFeHAoIihefFxcLikiK2YubWFwKG0uc2xpY2UoMCkuc29ydCgpLEMpLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpKSxwPXRbaF07aWYoIXApY29udGludWU7aWYoIWQpe2ZvcihqPTA7ajxwLmxlbmd0aDtqKyspe3E9cFtqXTtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWYuZXZlbnQucmVtb3ZlKGEscixxLmhhbmRsZXIsaikscC5zcGxpY2Uoai0tLDEpfWNvbnRpbnVlfW89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtmb3Ioaj1lfHwwO2o8cC5sZW5ndGg7aisrKXtxPXBbal07aWYoZC5ndWlkPT09cS5ndWlkKXtpZihsfHxuLnRlc3QocS5uYW1lc3BhY2UpKWU9PW51bGwmJnAuc3BsaWNlKGotLSwxKSxvLnJlbW92ZSYmby5yZW1vdmUuY2FsbChhLHEpO2lmKGUhPW51bGwpYnJlYWt9fWlmKHAubGVuZ3RoPT09MHx8ZSE9bnVsbCYmcC5sZW5ndGg9PT0xKSghby50ZWFyZG93bnx8by50ZWFyZG93bi5jYWxsKGEsbSk9PT0hMSkmJmYucmVtb3ZlRXZlbnQoYSxoLHMuaGFuZGxlKSxnPW51bGwsZGVsZXRlIHRbaF19aWYoZi5pc0VtcHR5T2JqZWN0KHQpKXt2YXIgdT1zLmhhbmRsZTt1JiYodS5lbGVtPW51bGwpLGRlbGV0ZSBzLmV2ZW50cyxkZWxldGUgcy5oYW5kbGUsZi5pc0VtcHR5T2JqZWN0KHMpJiZmLnJlbW92ZURhdGEoYSxiLCEwKX19fSxjdXN0b21FdmVudDp7Z2V0RGF0YTohMCxzZXREYXRhOiEwLGNoYW5nZURhdGE6ITB9LHRyaWdnZXI6ZnVuY3Rpb24oYyxkLGUsZyl7dmFyIGg9Yy50eXBlfHxjLGk9W10sajtoLmluZGV4T2YoIiEiKT49MCYmKGg9aC5zbGljZSgwLC0xKSxqPSEwKSxoLmluZGV4T2YoIi4iKT49MCYmKGk9aC5zcGxpdCgiLiIpLGg9aS4Kc2hpZnQoKSxpLnNvcnQoKSk7aWYoISFlJiYhZi5ldmVudC5jdXN0b21FdmVudFtoXXx8ISFmLmV2ZW50Lmdsb2JhbFtoXSl7Yz10eXBlb2YgYz09Im9iamVjdCI/Y1tmLmV4cGFuZG9dP2M6bmV3IGYuRXZlbnQoaCxjKTpuZXcgZi5FdmVudChoKSxjLnR5cGU9aCxjLmV4Y2x1c2l2ZT1qLGMubmFtZXNwYWNlPWkuam9pbigiLiIpLGMubmFtZXNwYWNlX3JlPW5ldyBSZWdFeHAoIihefFxcLikiK2kuam9pbigiXFwuKD86LipcXC4pPyIpKyIoXFwufCQpIik7aWYoZ3x8IWUpYy5wcmV2ZW50RGVmYXVsdCgpLGMuc3RvcFByb3BhZ2F0aW9uKCk7aWYoIWUpe2YuZWFjaChmLmNhY2hlLGZ1bmN0aW9uKCl7dmFyIGE9Zi5leHBhbmRvLGI9dGhpc1thXTtiJiZiLmV2ZW50cyYmYi5ldmVudHNbaF0mJmYuZXZlbnQudHJpZ2dlcihjLGQsYi5oYW5kbGUuZWxlbSl9KTtyZXR1cm59aWYoZS5ub2RlVHlwZT09PTN8fGUubm9kZVR5cGU9PT04KXJldHVybjtjLnJlc3VsdD1iLGMudGFyZ2V0PWUsZD1kIT1udWxsP2YubWFrZUFycmF5KGQpOltdLGQudW5zaGlmdChjKTt2YXIgaz1lLGw9aC5pbmRleE9mKCI6Iik8MD8ib24iK2g6IiI7ZG97dmFyIG09Zi5fZGF0YShrLCJoYW5kbGUiKTtjLmN1cnJlbnRUYXJnZXQ9ayxtJiZtLmFwcGx5KGssZCksbCYmZi5hY2NlcHREYXRhKGspJiZrW2xdJiZrW2xdLmFwcGx5KGssZCk9PT0hMSYmKGMucmVzdWx0PSExLGMucHJldmVudERlZmF1bHQoKSksaz1rLnBhcmVudE5vZGV8fGsub3duZXJEb2N1bWVudHx8az09PWMudGFyZ2V0Lm93bmVyRG9jdW1lbnQmJmF9d2hpbGUoayYmIWMuaXNQcm9wYWdhdGlvblN0b3BwZWQoKSk7aWYoIWMuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBuLG89Zi5ldmVudC5zcGVjaWFsW2hdfHx7fTtpZigoIW8uX2RlZmF1bHR8fG8uX2RlZmF1bHQuY2FsbChlLm93bmVyRG9jdW1lbnQsYyk9PT0hMSkmJihoIT09ImNsaWNrInx8IWYubm9kZU5hbWUoZSwiYSIpKSYmZi5hY2NlcHREYXRhKGUpKXt0cnl7bCYmZVtoXSYmKG49ZVtsXSxuJiYoZVtsXT1udWxsKSxmLmV2ZW50LnRyaWdnZXJlZD1oLGVbaF0oKSl9Y2F0Y2gocCl7fW4mJihlW2xdPW4pLGYuZXZlbnQudHJpZ2dlcmVkPWJ9fXJldHVybiBjLnJlc3VsdH19LGhhbmRsZTpmdW5jdGlvbihjKXtjPWYuZXZlbnQuZml4KGN8fGEuZXZlbnQpO3ZhciBkPSgoZi5fZGF0YSh0aGlzLCJldmVudHMiKXx8e30pW2MudHlwZV18fFtdKS5zbGljZSgwKSxlPSFjLmV4Y2x1c2l2ZSYmIWMubmFtZXNwYWNlLGc9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDApO2dbMF09YyxjLmN1cnJlbnRUYXJnZXQ9dGhpcztmb3IodmFyIGg9MCxpPWQubGVuZ3RoO2g8aTtoKyspe3ZhciBqPWRbaF07aWYoZXx8Yy5uYW1lc3BhY2VfcmUudGVzdChqLm5hbWVzcGFjZSkpe2MuaGFuZGxlcj1qLmhhbmRsZXIsYy5kYXRhPWouZGF0YSxjLmhhbmRsZU9iaj1qO3ZhciBrPWouaGFuZGxlci5hcHBseSh0aGlzLGcpO2shPT1iJiYoYy5yZXN1bHQ9ayxrPT09ITEmJihjLnByZXZlbnREZWZhdWx0KCksYy5zdG9wUHJvcGFnYXRpb24oKSkpO2lmKGMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSlicmVha319cmV0dXJuIGMucmVzdWx0fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIGxheWVyWCBsYXllclkgbWV0YUtleSBuZXdWYWx1ZSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksZml4OmZ1bmN0aW9uKGEpe2lmKGFbZi5leHBhbmRvXSlyZXR1cm4gYTt2YXIgZD1hO2E9Zi5FdmVudChkKTtmb3IodmFyIGU9dGhpcy5wcm9wcy5sZW5ndGgsZztlOylnPXRoaXMucHJvcHNbLS1lXSxhW2ddPWRbZ107YS50YXJnZXR8fChhLnRhcmdldD1hLnNyY0VsZW1lbnR8fGMpLGEudGFyZ2V0Lm5vZGVUeXBlPT09MyYmKGEudGFyZ2V0PWEudGFyZ2V0LnBhcmVudE5vZGUpLCFhLnJlbGF0ZWRUYXJnZXQmJmEuZnJvbUVsZW1lbnQmJihhLnJlbGF0ZWRUYXJnZXQ9YS5mcm9tRWxlbWVudD09PWEudGFyZ2V0P2EudG9FbGVtZW50OmEuZnJvbUVsZW1lbnQpO2lmKGEucGFnZVg9PW51bGwmJmEuY2xpZW50WCE9bnVsbCl7dmFyIGg9YS50YXJnZXQub3duZXJEb2N1bWVudHx8YyxpPWguZG9jdW1lbnRFbGVtZW50LGo9aC5ib2R5O2EucGFnZVg9YS5jbGllbnRYKyhpJiZpLnNjcm9sbExlZnR8fGomJmouc2Nyb2xsTGVmdHx8MCktKGkmJmkuY2xpZW50TGVmdHx8aiYmai5jbGllbnRMZWZ0fHwwKSxhLnBhZ2VZPWEuY2xpZW50WSsoaSYmaS5zY3JvbGxUb3B8fGomJmouc2Nyb2xsVG9wfHwwKS0oaSYmaS5jbGllbnRUb3B8fGomJmouY2xpZW50VG9wfHwwKX1hLndoaWNoPT1udWxsJiYoYS5jaGFyQ29kZSE9bnVsbHx8YS5rZXlDb2RlIT1udWxsKSYmKGEud2hpY2g9YS5jaGFyQ29kZSE9bnVsbD9hLmNoYXJDb2RlOmEua2V5Q29kZSksIWEubWV0YUtleSYmYS5jdHJsS2V5JiYoYS5tZXRhS2V5PWEuY3RybEtleSksIWEud2hpY2gmJmEuYnV0dG9uIT09YiYmKGEud2hpY2g9YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MCk7cmV0dXJuIGF9LGd1aWQ6MWU4LHByb3h5OmYucHJveHksc3BlY2lhbDp7cmVhZHk6e3NldHVwOmYuYmluZFJlYWR5LHRlYXJkb3duOmYubm9vcH0sbGl2ZTp7YWRkOmZ1bmN0aW9uKGEpe2YuZXZlbnQuYWRkKHRoaXMsTihhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGYuZXh0ZW5kKHt9LGEse2hhbmRsZXI6TSxndWlkOmEuaGFuZGxlci5ndWlkfSkpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxOKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksYSl9fSxiZWZvcmV1bmxvYWQ6e3NldHVwOmZ1bmN0aW9uKGEsYixjKXtmLmlzV2luZG93KHRoaXMpJiYodGhpcy5vbmJlZm9yZXVubG9hZD1jKX0sdGVhcmRvd246ZnVuY3Rpb24oYSxiKXt0aGlzLm9uYmVmb3JldW5sb2FkPT09YiYmKHRoaXMub25iZWZvcmV1bmxvYWQ9bnVsbCl9fX19LGYucmVtb3ZlRXZlbnQ9Yy5yZW1vdmVFdmVudExpc3RlbmVyP2Z1bmN0aW9uKGEsYixjKXthLnJlbW92ZUV2ZW50TGlzdGVuZXImJmEucmVtb3ZlRXZlbnRMaXN0ZW5lcihiLGMsITEpfTpmdW5jdGlvbihhLGIsYyl7YS5kZXRhY2hFdmVudCYmYS5kZXRhY2hFdmVudCgib24iK2IsYyl9LGYuRXZlbnQ9ZnVuY3Rpb24oYSxiKXtpZighdGhpcy5wcmV2ZW50RGVmYXVsdClyZXR1cm4gbmV3IGYuRXZlbnQoYSxiKTthJiZhLnR5cGU/KHRoaXMub3JpZ2luYWxFdmVudD1hLHRoaXMudHlwZT1hLnR5cGUsdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9YS5kZWZhdWx0UHJldmVudGVkfHxhLnJldHVyblZhbHVlPT09ITF8fGEuZ2V0UHJldmVudERlZmF1bHQmJmEuZ2V0UHJldmVudERlZmF1bHQoKT9FOkQpOnRoaXMudHlwZT1hLGImJmYuZXh0ZW5kKHRoaXMsYiksdGhpcy50aW1lU3RhbXA9Zi5ub3coKSx0aGlzW2YuZXhwYW5kb109ITB9LGYuRXZlbnQucHJvdG90eXBlPXtwcmV2ZW50RGVmYXVsdDpmdW5jdGlvbigpe3RoaXMuaXNEZWZhdWx0UHJldmVudGVkPUU7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50OyFhfHwoYS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMSl9LHN0b3BQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNQcm9wYWdhdGlvblN0b3BwZWQ9RTt2YXIgYT10aGlzLm9yaWdpbmFsRXZlbnQ7IWF8fChhLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKSxhLmNhbmNlbEJ1YmJsZT0hMCl9LHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjpmdW5jdGlvbigpe3RoaXMuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQ9RSx0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6RCxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpELGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOkR9O3ZhciBGPWZ1bmN0aW9uKGEpe3ZhciBiPWEucmVsYXRlZFRhcmdldCxjPSExLGQ9YS50eXBlO2EudHlwZT1hLmRhdGEsYiE9PXRoaXMmJihiJiYoYz1mLmNvbnRhaW5zKHRoaXMsYikpLGN8fChmLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyksYS50eXBlPWQpKX0sRz1mdW5jdGlvbihhKXthLnR5cGU9YS5kYXRhLGYuZXZlbnQuaGFuZGxlLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07Zi5lYWNoKHttb3VzZWVudGVyOiJtb3VzZW92ZXIiLG1vdXNlbGVhdmU6Im1vdXNlb3V0In0sZnVuY3Rpb24oYSxiKXtmLmV2ZW50LnNwZWNpYWxbYV09e3NldHVwOmZ1bmN0aW9uKGMpe2YuZXZlbnQuYWRkKHRoaXMsYixjJiZjLnNlbGVjdG9yP0c6RixhKX0sdGVhcmRvd246ZnVuY3Rpb24oYSl7Zi5ldmVudC5yZW1vdmUodGhpcyxiLGEmJmEuc2VsZWN0b3I/RzpGKX19fSksZi5zdXBwb3J0LnN1Ym1pdEJ1YmJsZXN8fChmLmV2ZW50LnNwZWNpYWwuc3VibWl0PXtzZXR1cDpmdW5jdGlvbihhLGIpe2lmKCFmLm5vZGVOYW1lKHRoaXMsImZvcm0iKSlmLmV2ZW50LmFkZCh0aGlzLCJjbGljay5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJzdWJtaXQifHxjPT09ImltYWdlIikmJmYoYikuY2xvc2VzdCgiZm9ybSIpLmxlbmd0aCYmSygic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9KSxmLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWIudHlwZTsoYz09PSJ0ZXh0Inx8Yz09PSJwYXNzd29yZCIpJiZmKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzJiZLKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX0pO2Vsc2UgcmV0dXJuITF9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsU3VibWl0Iil9fSk7aWYoIWYuc3VwcG9ydC5jaGFuZ2VCdWJibGVzKXt2YXIgSCxJPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxjPWEudmFsdWU7Yj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giP2M9YS5jaGVja2VkOmI9PT0ic2VsZWN0LW11bHRpcGxlIj9jPWEuc2VsZWN0ZWRJbmRleD4tMT9mLm1hcChhLm9wdGlvbnMsZnVuY3Rpb24oYSl7cmV0dXJuIGEuc2VsZWN0ZWR9KS5qb2luKCItIik6IiI6Zi5ub2RlTmFtZShhLCJzZWxlY3QiKSYmKGM9YS5zZWxlY3RlZEluZGV4KTtyZXR1cm4gY30sSj1mdW5jdGlvbihjKXt2YXIgZD1jLnRhcmdldCxlLGc7aWYoISF5LnRlc3QoZC5ub2RlTmFtZSkmJiFkLnJlYWRPbmx5KXtlPWYuX2RhdGEoZCwiX2NoYW5nZV9kYXRhIiksZz1JKGQpLChjLnR5cGUhPT0iZm9jdXNvdXQifHxkLnR5cGUhPT0icmFkaW8iKSYmZi5fZGF0YShkLCJfY2hhbmdlX2RhdGEiLGcpO2lmKGU9PT1ifHxnPT09ZSlyZXR1cm47aWYoZSE9bnVsbHx8ZyljLnR5cGU9ImNoYW5nZSIsYy5saXZlRmlyZWQ9YixmLmV2ZW50LnRyaWdnZXIoYyxhcmd1bWVudHNbMV0sZCl9fTtmLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtmaWx0ZXJzOntmb2N1c291dDpKLGJlZm9yZWRlYWN0aXZhdGU6SixjbGljazpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxjPWYubm9kZU5hbWUoYiwiaW5wdXQiKT9iLnR5cGU6IiI7KGM9PT0icmFkaW8ifHxjPT09ImNoZWNrYm94Inx8Zi5ub2RlTmFtZShiLCJzZWxlY3QiKSkmJkouY2FsbCh0aGlzLGEpfSxrZXlkb3duOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0LGM9Zi5ub2RlTmFtZShiLCJpbnB1dCIpP2IudHlwZToiIjsoYS5rZXlDb2RlPT09MTMmJiFmLm5vZGVOYW1lKGIsInRleHRhcmVhIil8fGEua2V5Q29kZT09PTMyJiYoYz09PSJjaGVja2JveCJ8fGM9PT0icmFkaW8iKXx8Yz09PSJzZWxlY3QtbXVsdGlwbGUiKSYmSi5jYWxsKHRoaXMsYSl9LGJlZm9yZWFjdGl2YXRlOmZ1bmN0aW9uKGEpe3ZhciBiPWEudGFyZ2V0O2YuX2RhdGEoYiwiX2NoYW5nZV9kYXRhIixJKGIpKX19LHNldHVwOmZ1bmN0aW9uKGEsYil7aWYodGhpcy50eXBlPT09ImZpbGUiKXJldHVybiExO2Zvcih2YXIgYyBpbiBIKWYuZXZlbnQuYWRkKHRoaXMsYysiLnNwZWNpYWxDaGFuZ2UiLEhbY10pO3JldHVybiB5LnRlc3QodGhpcy5ub2RlTmFtZSl9LHRlYXJkb3duOmZ1bmN0aW9uKGEpe2YuZXZlbnQucmVtb3ZlKHRoaXMsIi5zcGVjaWFsQ2hhbmdlIik7cmV0dXJuIHkudGVzdCh0aGlzLm5vZGVOYW1lKX19LEg9Zi5ldmVudC5zcGVjaWFsLmNoYW5nZS5maWx0ZXJzLEguZm9jdXM9SC5iZWZvcmVhY3RpdmF0ZX1mLnN1cHBvcnQuZm9jdXNpbkJ1YmJsZXN8fGYuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBlKGEpe3ZhciBjPWYuZXZlbnQuZml4KGEpO2MudHlwZT1iLGMub3JpZ2luYWxFdmVudD17fSxmLmV2ZW50LnRyaWdnZXIoYyxudWxsLGMudGFyZ2V0KSxjLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZhLnByZXZlbnREZWZhdWx0KCl9dmFyIGQ9MDtmLmV2ZW50LnNwZWNpYWxbYl09e3NldHVwOmZ1bmN0aW9uKCl7ZCsrPT09MCYmYy5hZGRFdmVudExpc3RlbmVyKGEsZSwhMCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1kPT09MCYmYy5yZW1vdmVFdmVudExpc3RlbmVyKGEsZSwhMCl9fX0pLGYuZWFjaChbImJpbmQiLCJvbmUiXSxmdW5jdGlvbihhLGMpe2YuZm5bY109ZnVuY3Rpb24oYSxkLGUpe3ZhciBnO2lmKHR5cGVvZiBhPT0ib2JqZWN0Iil7Zm9yKHZhciBoIGluIGEpdGhpc1tjXShoLGQsYVtoXSxlKTtyZXR1cm4gdGhpc31pZihhcmd1bWVudHMubGVuZ3RoPT09Mnx8ZD09PSExKWU9ZCxkPWI7Yz09PSJvbmUiPyhnPWZ1bmN0aW9uKGEpe2YodGhpcykudW5iaW5kKGEsZyk7cmV0dXJuIGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxnLmd1aWQ9ZS5ndWlkfHxmLmd1aWQrKyk6Zz1lO2lmKGE9PT0idW5sb2FkIiYmYyE9PSJvbmUiKXRoaXMub25lKGEsZCxlKTtlbHNlIGZvcih2YXIgaT0wLGo9dGhpcy5sZW5ndGg7aTxqO2krKylmLmV2ZW50LmFkZCh0aGlzW2ldLGEsZyxkKTtyZXR1cm4gdGhpc319KSxmLmZuLmV4dGVuZCh7dW5iaW5kOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGE9PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdClmb3IodmFyIGMgaW4gYSl0aGlzLnVuYmluZChjLGFbY10pO2Vsc2UgZm9yKHZhciBkPTAsZT10aGlzLmxlbmd0aDtkPGU7ZCsrKWYuZXZlbnQucmVtb3ZlKHRoaXNbZF0sYSxiKTtyZXR1cm4gdGhpc30sZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMubGl2ZShiLGMsZCxhKX0sdW5kZWxlZ2F0ZTpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGg9PT0wP3RoaXMudW5iaW5kKCJsaXZlIik6dGhpcy5kaWUoYixudWxsLGMsYSl9LHRyaWdnZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zi5ldmVudC50cmlnZ2VyKGEsYix0aGlzKX0pfSx0cmlnZ2VySGFuZGxlcjpmdW5jdGlvbihhLGIpe2lmKHRoaXNbMF0pcmV0dXJuIGYuZXZlbnQudHJpZ2dlcihhLGIsdGhpc1swXSwhMCl9LHRvZ2dsZTpmdW5jdGlvbihhKXt2YXIgYj1hcmd1bWVudHMsYz1hLmd1aWR8fGYuZ3VpZCsrLGQ9MCxlPWZ1bmN0aW9uKGMpe3ZhciBlPShmLmRhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkKXx8MCklZDtmLmRhdGEodGhpcywibGFzdFRvZ2dsZSIrYS5ndWlkLGUrMSksYy5wcmV2ZW50RGVmYXVsdCgpO3JldHVybiBiW2VdLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8ITF9O2UuZ3VpZD1jO3doaWxlKGQ8Yi5sZW5ndGgpYltkKytdLmd1aWQ9YztyZXR1cm4gdGhpcy5jbGljayhlKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIEw9e2ZvY3VzOiJmb2N1c2luIixibHVyOiJmb2N1c291dCIsbW91c2VlbnRlcjoibW91c2VvdmVyIixtb3VzZWxlYXZlOiJtb3VzZW91dCJ9O2YuZWFjaChbImxpdmUiLCJkaWUiXSxmdW5jdGlvbihhLGMpe2YuZm5bY109ZnVuY3Rpb24oYSxkLGUsZyl7dmFyIGgsaT0wLGosayxsLG09Z3x8dGhpcy5zZWxlY3RvcixuPWc/dGhpczpmKHRoaXMuY29udGV4dCk7aWYodHlwZW9mIGE9PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdCl7Zm9yKHZhciBvIGluIGEpbltjXShvLGQsYVtvXSxtKTtyZXR1cm4gdGhpc31pZihjPT09ImRpZSImJiFhJiZnJiZnLmNoYXJBdCgwKT09PSIuIil7bi51bmJpbmQoZyk7cmV0dXJuIHRoaXN9aWYoZD09PSExfHxmLmlzRnVuY3Rpb24oZCkpZT1kfHxELGQ9YjthPShhfHwiIikuc3BsaXQoIiAiKTt3aGlsZSgoaD1hW2krK10pIT1udWxsKXtqPXguZXhlYyhoKSxrPSIiLGomJihrPWpbMF0saD1oLnJlcGxhY2UoeCwiIikpO2lmKGg9PT0iaG92ZXIiKXthLnB1c2goIm1vdXNlZW50ZXIiK2ssIm1vdXNlbGVhdmUiK2spO2NvbnRpbnVlfWw9aCxMW2hdPyhhLnB1c2goTFtoXStrKSxoPWgrayk6aD0oTFtoXXx8aCkraztpZihjPT09ImxpdmUiKWZvcih2YXIgcD0wLHE9bi5sZW5ndGg7cDxxO3ArKylmLmV2ZW50LmFkZChuW3BdLCJsaXZlLiIrTihoLG0pLHtkYXRhOmQsc2VsZWN0b3I6bSxoYW5kbGVyOmUsb3JpZ1R5cGU6aCxvcmlnSGFuZGxlcjplLHByZVR5cGU6bH0pO2Vsc2Ugbi51bmJpbmQoImxpdmUuIitOKGgsbSksZSl9cmV0dXJuIHRoaXN9fSksZi5lYWNoKCJibHVyIGZvY3VzIGZvY3VzaW4gZm9jdXNvdXQgbG9hZCByZXNpemUgc2Nyb2xsIHVubG9hZCBjbGljayBkYmxjbGljayBtb3VzZWRvd24gbW91c2V1cCBtb3VzZW1vdmUgbW91c2VvdmVyIG1vdXNlb3V0IG1vdXNlZW50ZXIgbW91c2VsZWF2ZSBjaGFuZ2Ugc2VsZWN0IHN1Ym1pdCBrZXlkb3duIGtleXByZXNzIGtleXVwIGVycm9yIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Zi5mbltiXT1mdW5jdGlvbihhLGMpe2M9PW51bGwmJihjPWEsYT1udWxsKTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMuYmluZChiLGEsYyk6dGhpcy50cmlnZ2VyKGIpfSxmLmF0dHJGbiYmKGYuYXR0ckZuW2JdPSEwKX0pLGZ1bmN0aW9uKCl7ZnVuY3Rpb24gdShhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pZihpLm5vZGVUeXBlPT09MSl7Znx8KGkuc2l6Y2FjaGU9YyxpLnNpenNldD1nKTtpZih0eXBlb2YgYiE9InN0cmluZyIpe2lmKGk9PT1iKXtqPSEwO2JyZWFrfX1lbHNlIGlmKGsuZmlsdGVyKGIsW2ldKS5sZW5ndGg+MCl7aj1pO2JyZWFrfX1pPWlbYV19ZFtnXT1qfX19ZnVuY3Rpb24gdChhLGIsYyxkLGUsZil7Zm9yKHZhciBnPTAsaD1kLmxlbmd0aDtnPGg7ZysrKXt2YXIgaT1kW2ddO2lmKGkpe3ZhciBqPSExO2k9aVthXTt3aGlsZShpKXtpZihpLnNpemNhY2hlPT09Yyl7aj1kW2kuc2l6c2V0XTticmVha31pLm5vZGVUeXBlPT09MSYmIWYmJihpLnNpemNhY2hlPWMsaS5zaXpzZXQ9Zyk7aWYoaS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yil7aj1pO2JyZWFrfWk9aVthXX1kW2ddPWp9fX12YXIgYT0vKCg/OlwoKD86XChbXigpXStcKXxbXigpXSspK1wpfFxbKD86XFtbXlxbXF1dKlxdfFsnIl1bXiciXSpbJyJdfFteXFtcXSciXSspK1xdfFxcLnxbXiA+K34sKFxbXFxdKykrfFs+K35dKShccyosXHMqKT8oKD86LnxccnxcbikqKS9nLGQ9MCxlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsZz0hMSxoPSEwLGk9L1xcL2csaj0vXFcvO1swLDBdLnNvcnQoZnVuY3Rpb24oKXtoPSExO3JldHVybiAwfSk7dmFyIGs9ZnVuY3Rpb24oYixkLGYsZyl7Zj1mfHxbXSxkPWR8fGM7dmFyIGg9ZDtpZihkLm5vZGVUeXBlIT09MSYmZC5ub2RlVHlwZSE9PTkpcmV0dXJuW107aWYoIWJ8fHR5cGVvZiBiIT0ic3RyaW5nIilyZXR1cm4gZjt2YXIgaSxqLG4sbyxxLHIscyx0LHU9ITAsdz1rLmlzWE1MKGQpLHg9W10seT1iO2Rve2EuZXhlYygiIiksaT1hLmV4ZWMoeSk7aWYoaSl7eT1pWzNdLHgucHVzaChpWzFdKTtpZihpWzJdKXtvPWlbM107YnJlYWt9fX13aGlsZShpKTtpZih4Lmxlbmd0aD4xJiZtLmV4ZWMoYikpaWYoeC5sZW5ndGg9PT0yJiZsLnJlbGF0aXZlW3hbMF1dKWo9dih4WzBdK3hbMV0sZCk7ZWxzZXtqPWwucmVsYXRpdmVbeFswXV0/W2RdOmsoeC5zaGlmdCgpLGQpO3doaWxlKHgubGVuZ3RoKWI9eC5zaGlmdCgpLGwucmVsYXRpdmVbYl0mJihiKz14LnNoaWZ0KCkpLGo9dihiLGopfWVsc2V7IWcmJngubGVuZ3RoPjEmJmQubm9kZVR5cGU9PT05JiYhdyYmbC5tYXRjaC5JRC50ZXN0KHhbMF0pJiYhbC5tYXRjaC5JRC50ZXN0KHhbeC5sZW5ndGgtMV0pJiYocT1rLmZpbmQoeC5zaGlmdCgpLGQsdyksZD1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KVswXTpxLnNldFswXSk7aWYoZCl7cT1nP3tleHByOngucG9wKCksc2V0OnAoZyl9OmsuZmluZCh4LnBvcCgpLHgubGVuZ3RoPT09MSYmKHhbMF09PT0ifiJ8fHhbMF09PT0iKyIpJiZkLnBhcmVudE5vZGU/ZC5wYXJlbnROb2RlOmQsdyksaj1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KTpxLnNldCx4Lmxlbmd0aD4wP249cChqKTp1PSExO3doaWxlKHgubGVuZ3RoKXI9eC5wb3AoKSxzPXIsbC5yZWxhdGl2ZVtyXT9zPXgucG9wKCk6cj0iIixzPT1udWxsJiYocz1kKSxsLnJlbGF0aXZlW3JdKG4scyx3KX1lbHNlIG49eD1bXX1ufHwobj1qKSxufHxrLmVycm9yKHJ8fGIpO2lmKGUuY2FsbChuKT09PSJbb2JqZWN0IEFycmF5XSIpaWYoIXUpZi5wdXNoLmFwcGx5KGYsbik7ZWxzZSBpZihkJiZkLm5vZGVUeXBlPT09MSlmb3IodD0wO25bdF0hPW51bGw7dCsrKW5bdF0mJihuW3RdPT09ITB8fG5bdF0ubm9kZVR5cGU9PT0xJiZrLmNvbnRhaW5zKGQsblt0XSkpJiZmLnB1c2goalt0XSk7ZWxzZSBmb3IodD0wO25bdF0hPW51bGw7dCsrKW5bdF0mJm5bdF0ubm9kZVR5cGU9PT0xJiZmLnB1c2goalt0XSk7ZWxzZSBwKG4sZik7byYmKGsobyxoLGYsZyksay51bmlxdWVTb3J0KGYpKTtyZXR1cm4gZn07ay51bmlxdWVTb3J0PWZ1bmN0aW9uKGEpe2lmKHIpe2c9aCxhLnNvcnQocik7aWYoZylmb3IodmFyIGI9MTtiPGEubGVuZ3RoO2IrKylhW2JdPT09YVtiLTFdJiZhLnNwbGljZShiLS0sMSl9cmV0dXJuIGF9LGsubWF0Y2hlcz1mdW5jdGlvbihhLGIpe3JldHVybiBrKGEsbnVsbCxudWxsLGIpfSxrLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihhLGIpe3JldHVybiBrKGIsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9LGsuZmluZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoIWEpcmV0dXJuW107Zm9yKHZhciBlPTAsZj1sLm9yZGVyLmxlbmd0aDtlPGY7ZSsrKXt2YXIgZyxoPWwub3JkZXJbZV07aWYoZz1sLmxlZnRNYXRjaFtoXS5leGVjKGEpKXt2YXIgaj1nWzFdO2cuc3BsaWNlKDEsMSk7aWYoai5zdWJzdHIoai5sZW5ndGgtMSkhPT0iXFwiKXtnWzFdPShnWzFdfHwiIikucmVwbGFjZShpLCIiKSxkPWwuZmluZFtoXShnLGIsYyk7aWYoZCE9bnVsbCl7YT1hLnJlcGxhY2UobC5tYXRjaFtoXSwiIik7YnJlYWt9fX19ZHx8KGQ9dHlwZW9mIGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUhPSJ1bmRlZmluZWQiP2IuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKTpbXSk7cmV0dXJue3NldDpkLGV4cHI6YX19LGsuZmlsdGVyPWZ1bmN0aW9uKGEsYyxkLGUpe3ZhciBmLGcsaD1hLGk9W10saj1jLG09YyYmY1swXSYmay5pc1hNTChjWzBdKTt3aGlsZShhJiZjLmxlbmd0aCl7Zm9yKHZhciBuIGluIGwuZmlsdGVyKWlmKChmPWwubGVmdE1hdGNoW25dLmV4ZWMoYSkpIT1udWxsJiZmWzJdKXt2YXIgbyxwLHE9bC5maWx0ZXJbbl0scj1mWzFdO2c9ITEsZi5zcGxpY2UoMSwxKTtpZihyLnN1YnN0cihyLmxlbmd0aC0xKT09PSJcXCIpY29udGludWU7aj09PWkmJihpPVtdKTtpZihsLnByZUZpbHRlcltuXSl7Zj1sLnByZUZpbHRlcltuXShmLGosZCxpLGUsbSk7aWYoIWYpZz1vPSEwO2Vsc2UgaWYoZj09PSEwKWNvbnRpbnVlfWlmKGYpZm9yKHZhciBzPTA7KHA9altzXSkhPW51bGw7cysrKWlmKHApe289cShwLGYscyxqKTt2YXIgdD1lXiEhbztkJiZvIT1udWxsP3Q/Zz0hMDpqW3NdPSExOnQmJihpLnB1c2gocCksZz0hMCl9aWYobyE9PWIpe2R8fChqPWkpLGE9YS5yZXBsYWNlKGwubWF0Y2hbbl0sIiIpO2lmKCFnKXJldHVybltdO2JyZWFrfX1pZihhPT09aClpZihnPT1udWxsKWsuZXJyb3IoYSk7ZWxzZSBicmVhaztoPWF9cmV0dXJuIGp9LGsuZXJyb3I9ZnVuY3Rpb24oYSl7dGhyb3ciU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIithfTt2YXIgbD1rLnNlbGVjdG9ycz17b3JkZXI6WyJJRCIsIk5BTUUiLCJUQUciXSxtYXRjaDp7SUQ6LyMoKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKykvLENMQVNTOi9cLigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sTkFNRTovXFtuYW1lPVsnIl0qKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspWyciXSpcXS8sQVRUUjovXFtccyooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylccyooPzooXFM/PSlccyooPzooWyciXSkoLio/KVwzfCgjPyg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSopfCl8KVxzKlxdLyxUQUc6L14oKD86W1x3XHUwMGMwLVx1RkZGRlwqXC1dfFxcLikrKS8sQ0hJTEQ6Lzoob25seXxudGh8bGFzdHxmaXJzdCktY2hpbGQoPzpcKFxzKihldmVufG9kZHwoPzpbK1wtXT9cZCt8KD86WytcLV0/XGQqKT9uXHMqKD86WytcLV1ccypcZCspPykpXHMqXCkpPy8sUE9TOi86KG50aHxlcXxndHxsdHxmaXJzdHxsYXN0fGV2ZW58b2RkKSg/OlwoKFxkKilcKSk/KD89W15cLV18JCkvLFBTRVVETzovOigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKSg/OlwoKFsnIl0/KSgoPzpcKFteXCldK1wpfFteXChcKV0qKSspXDJcKSk/L30sbGVmdE1hdGNoOnt9LGF0dHJNYXA6eyJjbGFzcyI6ImNsYXNzTmFtZSIsImZvciI6Imh0bWxGb3IifSxhdHRySGFuZGxlOntocmVmOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgiaHJlZiIpfSx0eXBlOmZ1bmN0aW9uKGEpe3JldHVybiBhLmdldEF0dHJpYnV0ZSgidHlwZSIpfX0scmVsYXRpdmU6eyIrIjpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBiPT0ic3RyaW5nIixkPWMmJiFqLnRlc3QoYiksZT1jJiYhZDtkJiYoYj1iLnRvTG93ZXJDYXNlKCkpO2Zvcih2YXIgZj0wLGc9YS5sZW5ndGgsaDtmPGc7ZisrKWlmKGg9YVtmXSl7d2hpbGUoKGg9aC5wcmV2aW91c1NpYmxpbmcpJiZoLm5vZGVUeXBlIT09MSk7YVtmXT1lfHxoJiZoLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT1iP2h8fCExOmg9PT1ifWUmJmsuZmlsdGVyKGIsYSwhMCl9LCI+IjpmdW5jdGlvbihhLGIpe3ZhciBjLGQ9dHlwZW9mIGI9PSJzdHJpbmciLGU9MCxmPWEubGVuZ3RoO2lmKGQmJiFqLnRlc3QoYikpe2I9Yi50b0xvd2VyQ2FzZSgpO2Zvcig7ZTxmO2UrKyl7Yz1hW2VdO2lmKGMpe3ZhciBnPWMucGFyZW50Tm9kZTthW2VdPWcubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PWI/ZzohMX19fWVsc2V7Zm9yKDtlPGY7ZSsrKWM9YVtlXSxjJiYoYVtlXT1kP2MucGFyZW50Tm9kZTpjLnBhcmVudE5vZGU9PT1iKTtkJiZrLmZpbHRlcihiLGEsITApfX0sIiI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY9ZCsrLGc9dTt0eXBlb2YgYj09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxlPWIsZz10KSxnKCJwYXJlbnROb2RlIixiLGYsYSxlLGMpfSwifiI6ZnVuY3Rpb24oYSxiLGMpe3ZhciBlLGY9ZCsrLGc9dTt0eXBlb2YgYj09InN0cmluZyImJiFqLnRlc3QoYikmJihiPWIudG9Mb3dlckNhc2UoKSxlPWIsZz10KSxnKCJwcmV2aW91c1NpYmxpbmciLGIsZixhLGUsYyl9fSxmaW5kOntJRDpmdW5jdGlvbihhLGIsYyl7aWYodHlwZW9mIGIuZ2V0RWxlbWVudEJ5SWQhPSJ1bmRlZmluZWQiJiYhYyl7dmFyIGQ9Yi5nZXRFbGVtZW50QnlJZChhWzFdKTtyZXR1cm4gZCYmZC5wYXJlbnROb2RlP1tkXTpbXX19LE5BTUU6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5TmFtZSE9InVuZGVmaW5lZCIpe3ZhciBjPVtdLGQ9Yi5nZXRFbGVtZW50c0J5TmFtZShhWzFdKTtmb3IodmFyIGU9MCxmPWQubGVuZ3RoO2U8ZjtlKyspZFtlXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKT09PWFbMV0mJmMucHVzaChkW2VdKTtyZXR1cm4gYy5sZW5ndGg9PT0wP251bGw6Y319LFRBRzpmdW5jdGlvbihhLGIpe2lmKHR5cGVvZiBiLmdldEVsZW1lbnRzQnlUYWdOYW1lIT0idW5kZWZpbmVkIilyZXR1cm4gYi5nZXRFbGVtZW50c0J5VGFnTmFtZShhWzFdKX19LHByZUZpbHRlcjp7Q0xBU1M6ZnVuY3Rpb24oYSxiLGMsZCxlLGYpe2E9IiAiK2FbMV0ucmVwbGFjZShpLCIiKSsiICI7aWYoZilyZXR1cm4gYTtmb3IodmFyIGc9MCxoOyhoPWJbZ10pIT1udWxsO2crKyloJiYoZV4oaC5jbGFzc05hbWUmJigiICIraC5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKC9bXHRcblxyXS9nLCIgIikuaW5kZXhPZihhKT49MCk/Y3x8ZC5wdXNoKGgpOmMmJihiW2ddPSExKSk7cmV0dXJuITF9LElEOmZ1bmN0aW9uKGEpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIil9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBhWzFdLnJlcGxhY2UoaSwiIikudG9Mb3dlckNhc2UoKX0sQ0hJTEQ6ZnVuY3Rpb24oYSl7aWYoYVsxXT09PSJudGgiKXthWzJdfHxrLmVycm9yKGFbMF0pLGFbMl09YVsyXS5yZXBsYWNlKC9eXCt8XHMqL2csIiIpO3ZhciBiPS8oLT8pKFxkKikoPzpuKFsrXC1dP1xkKikpPy8uZXhlYyhhWzJdPT09ImV2ZW4iJiYiMm4ifHxhWzJdPT09Im9kZCImJiIybisxInx8IS9cRC8udGVzdChhWzJdKSYmIjBuKyIrYVsyXXx8YVsyXSk7YVsyXT1iWzFdKyhiWzJdfHwxKS0wLGFbM109YlszXS0wfWVsc2UgYVsyXSYmay5lcnJvcihhWzBdKTthWzBdPWQrKztyZXR1cm4gYX0sQVRUUjpmdW5jdGlvbihhLGIsYyxkLGUsZil7dmFyIGc9YVsxXT1hWzFdLnJlcGxhY2UoaSwiIik7IWYmJmwuYXR0ck1hcFtnXSYmKGFbMV09bC5hdHRyTWFwW2ddKSxhWzRdPShhWzRdfHxhWzVdfHwiIikucmVwbGFjZShpLCIiKSxhWzJdPT09In49IiYmKGFbNF09IiAiK2FbNF0rIiAiKTtyZXR1cm4gYX0sUFNFVURPOmZ1bmN0aW9uKGIsYyxkLGUsZil7aWYoYlsxXT09PSJub3QiKWlmKChhLmV4ZWMoYlszXSl8fCIiKS5sZW5ndGg+MXx8L15cdy8udGVzdChiWzNdKSliWzNdPWsoYlszXSxudWxsLG51bGwsYyk7ZWxzZXt2YXIgZz1rLmZpbHRlcihiWzNdLGMsZCwhMF5mKTtkfHxlLnB1c2guYXBwbHkoZSxnKTtyZXR1cm4hMX1lbHNlIGlmKGwubWF0Y2guUE9TLnRlc3QoYlswXSl8fGwubWF0Y2guQ0hJTEQudGVzdChiWzBdKSlyZXR1cm4hMDtyZXR1cm4gYn0sUE9TOmZ1bmN0aW9uKGEpe2EudW5zaGlmdCghMCk7cmV0dXJuIGF9fSxmaWx0ZXJzOntlbmFibGVkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmRpc2FibGVkPT09ITEmJmEudHlwZSE9PSJoaWRkZW4ifSxkaXNhYmxlZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5kaXNhYmxlZD09PSEwfSxjaGVja2VkOmZ1bmN0aW9uKGEpe3JldHVybiBhLmNoZWNrZWQ9PT0hMH0sc2VsZWN0ZWQ6ZnVuY3Rpb24oYSl7YS5wYXJlbnROb2RlJiZhLnBhcmVudE5vZGUuc2VsZWN0ZWRJbmRleDtyZXR1cm4gYS5zZWxlY3RlZD09PSEwfSxwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuISFhLmZpcnN0Q2hpbGR9LGVtcHR5OmZ1bmN0aW9uKGEpe3JldHVybiFhLmZpcnN0Q2hpbGR9LGhhczpmdW5jdGlvbihhLGIsYyl7cmV0dXJuISFrKGNbM10sYSkubGVuZ3RofSxoZWFkZXI6ZnVuY3Rpb24oYSl7cmV0dXJuL2hcZC9pLnRlc3QoYS5ub2RlTmFtZSl9LHRleHQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5nZXRBdHRyaWJ1dGUoInR5cGUiKSxjPWEudHlwZTtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInRleHQiPT09YyYmKGI9PT1jfHxiPT09bnVsbCl9LHJhZGlvOmZ1bmN0aW9uKGEpe3JldHVybiBhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0iaW5wdXQiJiYicmFkaW8iPT09YS50eXBlfSxjaGVja2JveDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImNoZWNrYm94Ij09PWEudHlwZX0sZmlsZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImZpbGUiPT09YS50eXBlfSxwYXNzd29yZDpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmInBhc3N3b3JkIj09PWEudHlwZX0sc3VibWl0OmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4oYj09PSJpbnB1dCJ8fGI9PT0iYnV0dG9uIikmJiJzdWJtaXQiPT09YS50eXBlfSxpbWFnZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImlucHV0IiYmImltYWdlIj09PWEudHlwZX0scmVzZXQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO3JldHVybihiPT09ImlucHV0Inx8Yj09PSJidXR0b24iKSYmInJlc2V0Ij09PWEudHlwZX0sYnV0dG9uOmZ1bmN0aW9uKGEpe3ZhciBiPWEubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm4gYj09PSJpbnB1dCImJiJidXR0b24iPT09YS50eXBlfHxiPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGEpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChhLm5vZGVOYW1lKX0sZm9jdXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT1hLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudH19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGI9PT0wfSxsYXN0OmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiBiPT09ZC5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihhLGIpe3JldHVybiBiJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYiUyPT09MX0sbHQ6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPGNbM10tMH0sZ3Q6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPmNbM10tMH0sbnRoOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gY1szXS0wPT09Yn0sZXE6ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBjWzNdLTA9PT1ifX0sZmlsdGVyOntQU0VVRE86ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsxXSxmPWwuZmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpO2lmKGU9PT0iY29udGFpbnMiKXJldHVybihhLnRleHRDb250ZW50fHxhLmlubmVyVGV4dHx8ay5nZXRUZXh0KFthXSl8fCIiKS5pbmRleE9mKGJbM10pPj0wO2lmKGU9PT0ibm90Iil7dmFyIGc9YlszXTtmb3IodmFyIGg9MCxpPWcubGVuZ3RoO2g8aTtoKyspaWYoZ1toXT09PWEpcmV0dXJuITE7cmV0dXJuITB9ay5lcnJvcihlKX0sQ0hJTEQ6ZnVuY3Rpb24oYSxiKXt2YXIgYz1iWzFdLGQ9YTtzd2l0Y2goYyl7Y2FzZSJvbmx5IjpjYXNlImZpcnN0Ijp3aGlsZShkPWQucHJldmlvdXNTaWJsaW5nKWlmKGQubm9kZVR5cGU9PT0xKXJldHVybiExO2lmKGM9PT0iZmlyc3QiKXJldHVybiEwO2Q9YTtjYXNlImxhc3QiOndoaWxlKGQ9ZC5uZXh0U2libGluZylpZihkLm5vZGVUeXBlPT09MSlyZXR1cm4hMTtyZXR1cm4hMDtjYXNlIm50aCI6dmFyIGU9YlsyXSxmPWJbM107aWYoZT09PTEmJmY9PT0wKXJldHVybiEwO3ZhciBnPWJbMF0saD1hLnBhcmVudE5vZGU7aWYoaCYmKGguc2l6Y2FjaGUhPT1nfHwhYS5ub2RlSW5kZXgpKXt2YXIgaT0wO2ZvcihkPWguZmlyc3RDaGlsZDtkO2Q9ZC5uZXh0U2libGluZylkLm5vZGVUeXBlPT09MSYmKGQubm9kZUluZGV4PSsraSk7aC5zaXpjYWNoZT1nfXZhciBqPWEubm9kZUluZGV4LWY7cmV0dXJuIGU9PT0wP2o9PT0wOmolZT09PTAmJmovZT49MH19LElEOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZhLmdldEF0dHJpYnV0ZSgiaWQiKT09PWJ9LFRBRzpmdW5jdGlvbihhLGIpe3JldHVybiBiPT09IioiJiZhLm5vZGVUeXBlPT09MXx8YS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Yn0sQ0xBU1M6ZnVuY3Rpb24oYSxiKXtyZXR1cm4oIiAiKyhhLmNsYXNzTmFtZXx8YS5nZXRBdHRyaWJ1dGUoImNsYXNzIikpKyIgIikuaW5kZXhPZihiKT4tMX0sQVRUUjpmdW5jdGlvbihhLGIpe3ZhciBjPWJbMV0sZD1sLmF0dHJIYW5kbGVbY10/bC5hdHRySGFuZGxlW2NdKGEpOmFbY10hPW51bGw/YVtjXTphLmdldEF0dHJpYnV0ZShjKSxlPWQrIiIsZj1iWzJdLGc9Yls0XTtyZXR1cm4gZD09bnVsbD9mPT09IiE9IjpmPT09Ij0iP2U9PT1nOmY9PT0iKj0iP2UuaW5kZXhPZihnKT49MDpmPT09In49Ij8oIiAiK2UrIiAiKS5pbmRleE9mKGcpPj0wOmc/Zj09PSIhPSI/ZSE9PWc6Zj09PSJePSI/ZS5pbmRleE9mKGcpPT09MDpmPT09IiQ9Ij9lLnN1YnN0cihlLmxlbmd0aC1nLmxlbmd0aCk9PT1nOmY9PT0ifD0iP2U9PT1nfHxlLnN1YnN0cigwLGcubGVuZ3RoKzEpPT09ZysiLSI6ITE6ZSYmZCE9PSExfSxQT1M6ZnVuY3Rpb24oYSxiLGMsZCl7dmFyIGU9YlsyXSxmPWwuc2V0RmlsdGVyc1tlXTtpZihmKXJldHVybiBmKGEsYyxiLGQpfX19LG09bC5tYXRjaC5QT1Msbj1mdW5jdGlvbihhLGIpe3JldHVybiJcXCIrKGItMCsxKX07Zm9yKHZhciBvIGluIGwubWF0Y2gpbC5tYXRjaFtvXT1uZXcgUmVnRXhwKGwubWF0Y2hbb10uc291cmNlKy8oPyFbXlxbXSpcXSkoPyFbXlwoXSpcKSkvLnNvdXJjZSksbC5sZWZ0TWF0Y2hbb109bmV3IFJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK2wubWF0Y2hbb10uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxuKSk7dmFyIHA9ZnVuY3Rpb24oYSxiKXthPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGEsMCk7aWYoYil7Yi5wdXNoLmFwcGx5KGIsYSk7cmV0dXJuIGJ9cmV0dXJuIGF9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChjLmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApWzBdLm5vZGVUeXBlfWNhdGNoKHEpe3A9ZnVuY3Rpb24oYSxiKXt2YXIgYz0wLGQ9Ynx8W107aWYoZS5jYWxsKGEpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShkLGEpO2Vsc2UgaWYodHlwZW9mIGEubGVuZ3RoPT0ibnVtYmVyIilmb3IodmFyIGY9YS5sZW5ndGg7YzxmO2MrKylkLnB1c2goYVtjXSk7ZWxzZSBmb3IoO2FbY107YysrKWQucHVzaChhW2NdKTtyZXR1cm4gZH19dmFyIHIscztjLmRvY3VtZW50RWxlbWVudC5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj9yPWZ1bmN0aW9uKGEsYil7aWYoYT09PWIpe2c9ITA7cmV0dXJuIDB9aWYoIWEuY29tcGFyZURvY3VtZW50UG9zaXRpb258fCFiLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXJldHVybiBhLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uPy0xOjE7cmV0dXJuIGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmND8tMToxfToocj1mdW5jdGlvbihhLGIpe2lmKGE9PT1iKXtnPSEwO3JldHVybiAwfWlmKGEuc291cmNlSW5kZXgmJmIuc291cmNlSW5kZXgpcmV0dXJuIGEuc291cmNlSW5kZXgtYi5zb3VyY2VJbmRleDt2YXIgYyxkLGU9W10sZj1bXSxoPWEucGFyZW50Tm9kZSxpPWIucGFyZW50Tm9kZSxqPWg7aWYoaD09PWkpcmV0dXJuIHMoYSxiKTtpZighaClyZXR1cm4tMTtpZighaSlyZXR1cm4gMTt3aGlsZShqKWUudW5zaGlmdChqKSxqPWoucGFyZW50Tm9kZTtqPWk7d2hpbGUoailmLnVuc2hpZnQoaiksaj1qLnBhcmVudE5vZGU7Yz1lLmxlbmd0aCxkPWYubGVuZ3RoO2Zvcih2YXIgaz0wO2s8YyYmazxkO2srKylpZihlW2tdIT09ZltrXSlyZXR1cm4gcyhlW2tdLGZba10pO3JldHVybiBrPT09Yz9zKGEsZltrXSwtMSk6cyhlW2tdLGIsMSl9LHM9ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PT1iKXJldHVybiBjO3ZhciBkPWEubmV4dFNpYmxpbmc7d2hpbGUoZCl7aWYoZD09PWIpcmV0dXJuLTE7ZD1kLm5leHRTaWJsaW5nfXJldHVybiAxfSksay5nZXRUZXh0PWZ1bmN0aW9uKGEpe3ZhciBiPSIiLGM7Zm9yKHZhciBkPTA7YVtkXTtkKyspYz1hW2RdLGMubm9kZVR5cGU9PT0zfHxjLm5vZGVUeXBlPT09ND9iKz1jLm5vZGVWYWx1ZTpjLm5vZGVUeXBlIT09OCYmKGIrPWsuZ2V0VGV4dChjLmNoaWxkTm9kZXMpKTtyZXR1cm4gYn0sZnVuY3Rpb24oKXt2YXIgYT1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQ9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksZT1jLmRvY3VtZW50RWxlbWVudDthLmlubmVySFRNTD0iPGEgbmFtZT0nIitkKyInLz4iLGUuaW5zZXJ0QmVmb3JlKGEsZS5maXJzdENoaWxkKSxjLmdldEVsZW1lbnRCeUlkKGQpJiYobC5maW5kLklEPWZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYy5nZXRFbGVtZW50QnlJZCE9InVuZGVmaW5lZCImJiFkKXt2YXIgZT1jLmdldEVsZW1lbnRCeUlkKGFbMV0pO3JldHVybiBlP2UuaWQ9PT1hWzFdfHx0eXBlb2YgZS5nZXRBdHRyaWJ1dGVOb2RlIT0idW5kZWZpbmVkIiYmZS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpLm5vZGVWYWx1ZT09PWFbMV0/W2VdOmI6W119fSxsLmZpbHRlci5JRD1mdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhLmdldEF0dHJpYnV0ZU5vZGUhPSJ1bmRlZmluZWQiJiZhLmdldEF0dHJpYnV0ZU5vZGUoImlkIik7cmV0dXJuIGEubm9kZVR5cGU9PT0xJiZjJiZjLm5vZGVWYWx1ZT09PWJ9KSxlLnJlbW92ZUNoaWxkKGEpLGU9YT1udWxsfSgpLGZ1bmN0aW9uKCl7dmFyIGE9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKTthLmFwcGVuZENoaWxkKGMuY3JlYXRlQ29tbWVudCgiIikpLGEuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MCYmKGwuZmluZC5UQUc9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmdldEVsZW1lbnRzQnlUYWdOYW1lKGFbMV0pO2lmKGFbMV09PT0iKiIpe3ZhciBkPVtdO2Zvcih2YXIgZT0wO2NbZV07ZSsrKWNbZV0ubm9kZVR5cGU9PT0xJiZkLnB1c2goY1tlXSk7Yz1kfXJldHVybiBjfSksYS5pbm5lckhUTUw9IjxhIGhyZWY9JyMnPjwvYT4iLGEuZmlyc3RDaGlsZCYmdHlwZW9mIGEuZmlyc3RDaGlsZC5nZXRBdHRyaWJ1dGUhPSJ1bmRlZmluZWQiJiZhLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyImJihsLmF0dHJIYW5kbGUuaHJlZj1mdW5jdGlvbihhKXtyZXR1cm4gYS5nZXRBdHRyaWJ1dGUoImhyZWYiLDIpfSksYT1udWxsfSgpLGMucXVlcnlTZWxlY3RvckFsbCYmZnVuY3Rpb24oKXt2YXIgYT1rLGI9Yy5jcmVhdGVFbGVtZW50KCJkaXYiKSxkPSJfX3NpenpsZV9fIjtiLmlubmVySFRNTD0iPHAgY2xhc3M9J1RFU1QnPjwvcD4iO2lmKCFiLnF1ZXJ5U2VsZWN0b3JBbGx8fGIucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGghPT0wKXtrPWZ1bmN0aW9uKGIsZSxmLGcpe2U9ZXx8YztpZighZyYmIWsuaXNYTUwoZSkpe3ZhciBoPS9eKFx3KyQpfF5cLihbXHdcLV0rJCl8XiMoW1x3XC1dKyQpLy5leGVjKGIpO2lmKGgmJihlLm5vZGVUeXBlPT09MXx8ZS5ub2RlVHlwZT09PTkpKXtpZihoWzFdKXJldHVybiBwKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoYiksZik7aWYoaFsyXSYmbC5maW5kLkNMQVNTJiZlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUpcmV0dXJuIHAoZS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGhbMl0pLGYpfWlmKGUubm9kZVR5cGU9PT05KXtpZihiPT09ImJvZHkiJiZlLmJvZHkpcmV0dXJuIHAoW2UuYm9keV0sZik7aWYoaCYmaFszXSl7dmFyIGk9ZS5nZXRFbGVtZW50QnlJZChoWzNdKTtpZighaXx8IWkucGFyZW50Tm9kZSlyZXR1cm4gcChbXSxmKTtpZihpLmlkPT09aFszXSlyZXR1cm4gcChbaV0sZil9dHJ5e3JldHVybiBwKGUucXVlcnlTZWxlY3RvckFsbChiKSxmKX1jYXRjaChqKXt9fWVsc2UgaWYoZS5ub2RlVHlwZT09PTEmJmUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSE9PSJvYmplY3QiKXt2YXIgbT1lLG49ZS5nZXRBdHRyaWJ1dGUoImlkIiksbz1ufHxkLHE9ZS5wYXJlbnROb2RlLHI9L15ccypbK35dLy50ZXN0KGIpO24/bz1vLnJlcGxhY2UoLycvZywiXFwkJiIpOmUuc2V0QXR0cmlidXRlKCJpZCIsbyksciYmcSYmKGU9ZS5wYXJlbnROb2RlKTt0cnl7aWYoIXJ8fHEpcmV0dXJuIHAoZS5xdWVyeVNlbGVjdG9yQWxsKCJbaWQ9JyIrbysiJ10gIitiKSxmKX1jYXRjaChzKXt9ZmluYWxseXtufHxtLnJlbW92ZUF0dHJpYnV0ZSgiaWQiKX19fXJldHVybiBhKGIsZSxmLGcpfTtmb3IodmFyIGUgaW4gYSlrW2VdPWFbZV07Yj1udWxsfX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuZG9jdW1lbnRFbGVtZW50LGI9YS5tYXRjaGVzU2VsZWN0b3J8fGEubW96TWF0Y2hlc1NlbGVjdG9yfHxhLndlYmtpdE1hdGNoZXNTZWxlY3Rvcnx8YS5tc01hdGNoZXNTZWxlY3RvcjtpZihiKXt2YXIgZD0hYi5jYWxsKGMuY3JlYXRlRWxlbWVudCgiZGl2IiksImRpdiIpLGU9ITE7dHJ5e2IuY2FsbChjLmRvY3VtZW50RWxlbWVudCwiW3Rlc3QhPScnXTpzaXp6bGUiKX1jYXRjaChmKXtlPSEwfWsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGEsYyl7Yz1jLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFrLmlzWE1MKGEpKXRyeXtpZihlfHwhbC5tYXRjaC5QU0VVRE8udGVzdChjKSYmIS8hPS8udGVzdChjKSl7dmFyIGY9Yi5jYWxsKGEsYyk7aWYoZnx8IWR8fGEuZG9jdW1lbnQmJmEuZG9jdW1lbnQubm9kZVR5cGUhPT0xMSlyZXR1cm4gZn19Y2F0Y2goZyl7fXJldHVybiBrKGMsbnVsbCxudWxsLFthXSkubGVuZ3RoPjB9fX0oKSxmdW5jdGlvbigpe3ZhciBhPWMuY3JlYXRlRWxlbWVudCgiZGl2Iik7YS5pbm5lckhUTUw9IjxkaXYgY2xhc3M9J3Rlc3QgZSc+PC9kaXY+PGRpdiBjbGFzcz0ndGVzdCc+PC9kaXY+IjtpZighIWEuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSYmYS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoIT09MCl7YS5sYXN0Q2hpbGQuY2xhc3NOYW1lPSJlIjtpZihhLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoImUiKS5sZW5ndGg9PT0xKXJldHVybjtsLm9yZGVyLnNwbGljZSgxLDAsIkNMQVNTIiksbC5maW5kLkNMQVNTPWZ1bmN0aW9uKGEsYixjKXtpZih0eXBlb2YgYi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lIT0idW5kZWZpbmVkIiYmIWMpcmV0dXJuIGIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShhWzFdKX0sYT1udWxsfX0oKSxjLmRvY3VtZW50RWxlbWVudC5jb250YWlucz9rLmNvbnRhaW5zPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEhPT1iJiYoYS5jb250YWlucz9hLmNvbnRhaW5zKGIpOiEwKX06Yy5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/ay5jb250YWlucz1mdW5jdGlvbihhLGIpe3JldHVybiEhKGEuY29tcGFyZURvY3VtZW50UG9zaXRpb24oYikmMTYpfTprLmNvbnRhaW5zPWZ1bmN0aW9uKCl7cmV0dXJuITF9LGsuaXNYTUw9ZnVuY3Rpb24oYSl7dmFyIGI9KGE/YS5vd25lckRvY3VtZW50fHxhOjApLmRvY3VtZW50RWxlbWVudDtyZXR1cm4gYj9iLm5vZGVOYW1lIT09IkhUTUwiOiExfTt2YXIgdj1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9W10sZT0iIixmPWIubm9kZVR5cGU/W2JdOmI7d2hpbGUoYz1sLm1hdGNoLlBTRVVETy5leGVjKGEpKWUrPWNbMF0sYT1hLnJlcGxhY2UobC5tYXRjaC5QU0VVRE8sIiIpO2E9bC5yZWxhdGl2ZVthXT9hKyIqIjphO2Zvcih2YXIgZz0wLGg9Zi5sZW5ndGg7ZzxoO2crKylrKGEsZltnXSxkKTtyZXR1cm4gay5maWx0ZXIoZSxkKX07Zi5maW5kPWssZi5leHByPWsuc2VsZWN0b3JzLGYuZXhwclsiOiJdPWYuZXhwci5maWx0ZXJzLGYudW5pcXVlPWsudW5pcXVlU29ydCxmLnRleHQ9ay5nZXRUZXh0LGYuaXNYTUxEb2M9ay5pc1hNTCxmLmNvbnRhaW5zPWsuY29udGFpbnN9KCk7dmFyIE89L1VudGlsJC8sUD0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxRPS8sLyxSPS9eLlteOiNcW1wuLF0qJC8sUz1BcnJheS5wcm90b3R5cGUuc2xpY2UsVD1mLmV4cHIubWF0Y2guUE9TLFU9e2NoaWxkcmVuOiEwLGNvbnRlbnRzOiEwLG5leHQ6ITAscHJldjohMH07Zi5mbi5leHRlbmQoe2ZpbmQ6ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcyxjLGQ7aWYodHlwZW9mIGEhPSJzdHJpbmciKXJldHVybiBmKGEpLmZpbHRlcihmdW5jdGlvbigpe2ZvcihjPTAsZD1iLmxlbmd0aDtjPGQ7YysrKWlmKGYuY29udGFpbnMoYltjXSx0aGlzKSlyZXR1cm4hMH0pO3ZhciBlPXRoaXMucHVzaFN0YWNrKCIiLCJmaW5kIixhKSxnLGgsaTtmb3IoYz0wLGQ9dGhpcy5sZW5ndGg7YzxkO2MrKyl7Zz1lLmxlbmd0aCxmLmZpbmQoYSx0aGlzW2NdLGUpO2lmKGM+MClmb3IoaD1nO2g8ZS5sZW5ndGg7aCsrKWZvcihpPTA7aTxnO2krKylpZihlW2ldPT09ZVtoXSl7ZS5zcGxpY2UoaC0tLDEpO2JyZWFrfX1yZXR1cm4gZX0saGFzOmZ1bmN0aW9uKGEpe3ZhciBiPWYoYSk7cmV0dXJuIHRoaXMuZmlsdGVyKGZ1bmN0aW9uKCl7Zm9yKHZhciBhPTAsYz1iLmxlbmd0aDthPGM7YSsrKWlmKGYuY29udGFpbnModGhpcyxiW2FdKSlyZXR1cm4hMH0pfSxub3Q6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFcodGhpcyxhLCExKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhXKHRoaXMsYSwhMCksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmKHR5cGVvZiBhPT0ic3RyaW5nIj9mLmZpbHRlcihhLHRoaXMpLmxlbmd0aD4wOnRoaXMuZmlsdGVyKGEpLmxlbmd0aD4wKX0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBjPVtdLGQsZSxnPXRoaXNbMF07aWYoZi5pc0FycmF5KGEpKXt2YXIgaCxpLGo9e30saz0xO2lmKGcmJmEubGVuZ3RoKXtmb3IoZD0wLGU9YS5sZW5ndGg7ZDxlO2QrKylpPWFbZF0saltpXXx8KGpbaV09VC50ZXN0KGkpP2YoaSxifHx0aGlzLmNvbnRleHQpOmkpO3doaWxlKGcmJmcub3duZXJEb2N1bWVudCYmZyE9PWIpe2ZvcihpIGluIGopaD1qW2ldLChoLmpxdWVyeT9oLmluZGV4KGcpPi0xOmYoZykuaXMoaCkpJiZjLnB1c2goe3NlbGVjdG9yOmksZWxlbTpnLGxldmVsOmt9KTtnPWcucGFyZW50Tm9kZSxrKyt9fXJldHVybiBjfXZhciBsPVQudGVzdChhKXx8dHlwZW9mIGEhPSJzdHJpbmciP2YoYSxifHx0aGlzLmNvbnRleHQpOjA7Zm9yKGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspe2c9dGhpc1tkXTt3aGlsZShnKXtpZihsP2wuaW5kZXgoZyk+LTE6Zi5maW5kLm1hdGNoZXNTZWxlY3RvcihnLGEpKXtjLnB1c2goZyk7YnJlYWt9Zz1nLnBhcmVudE5vZGU7aWYoIWd8fCFnLm93bmVyRG9jdW1lbnR8fGc9PT1ifHxnLm5vZGVUeXBlPT09MTEpYnJlYWt9fWM9Yy5sZW5ndGg+MT9mLnVuaXF1ZShjKTpjO3JldHVybiB0aGlzLnB1c2hTdGFjayhjLCJjbG9zZXN0IixhKX0saW5kZXg6ZnVuY3Rpb24oYSl7aWYoIWF8fHR5cGVvZiBhPT0ic3RyaW5nIilyZXR1cm4gZi5pbkFycmF5KHRoaXNbMF0sYT9mKGEpOnRoaXMucGFyZW50KCkuY2hpbGRyZW4oKSk7cmV0dXJuIGYuaW5BcnJheShhLmpxdWVyeT9hWzBdOmEsdGhpcyl9LGFkZDpmdW5jdGlvbihhLGIpe3ZhciBjPXR5cGVvZiBhPT0ic3RyaW5nIj9mKGEsYik6Zi5tYWtlQXJyYXkoYSYmYS5ub2RlVHlwZT9bYV06YSksZD1mLm1lcmdlKHRoaXMuZ2V0KCksYyk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKFYoY1swXSl8fFYoZFswXSk/ZDpmLnVuaXF1ZShkKSl9LGFuZFNlbGY6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGQodGhpcy5wcmV2T2JqZWN0KX19KSxmLmVhY2goe3BhcmVudDpmdW5jdGlvbihhKXt2YXIgYj1hLnBhcmVudE5vZGU7cmV0dXJuIGImJmIubm9kZVR5cGUhPT0xMT9iOm51bGx9LHBhcmVudHM6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuZGlyKGEsInBhcmVudE5vZGUiKX0scGFyZW50c1VudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicGFyZW50Tm9kZSIsYyl9LG5leHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIGYubnRoKGEsMiwibmV4dFNpYmxpbmciKX0scHJldjpmdW5jdGlvbihhKXtyZXR1cm4gZi5udGgoYSwyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZGlyKGEsIm5leHRTaWJsaW5nIixjKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixjKXtyZXR1cm4gZi5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixjKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGYuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gZi5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmYubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLGIpe2YuZm5bYV09ZnVuY3Rpb24oYyxkKXt2YXIgZT1mLm1hcCh0aGlzLGIsYyksZz1TLmNhbGwoYXJndW1lbnRzKTtPLnRlc3QoYSl8fChkPWMpLGQmJnR5cGVvZiBkPT0ic3RyaW5nIiYmKGU9Zi5maWx0ZXIoZCxlKSksZT10aGlzLmxlbmd0aD4xJiYhVVthXT9mLnVuaXF1ZShlKTplLCh0aGlzLmxlbmd0aD4xfHxRLnRlc3QoZCkpJiZQLnRlc3QoYSkmJihlPWUucmV2ZXJzZSgpKTtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZSxhLGcuam9pbigiLCIpKX19KSxmLmV4dGVuZCh7ZmlsdGVyOmZ1bmN0aW9uKGEsYixjKXtjJiYoYT0iOm5vdCgiK2ErIikiKTtyZXR1cm4gYi5sZW5ndGg9PT0xP2YuZmluZC5tYXRjaGVzU2VsZWN0b3IoYlswXSxhKT9bYlswXV06W106Zi5maW5kLm1hdGNoZXMoYSxiKX0sZGlyOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZT1bXSxnPWFbY107d2hpbGUoZyYmZy5ub2RlVHlwZSE9PTkmJihkPT09Ynx8Zy5ub2RlVHlwZSE9PTF8fCFmKGcpLmlzKGQpKSlnLm5vZGVUeXBlPT09MSYmZS5wdXNoKGcpLGc9Z1tjXTtyZXR1cm4gZX0sbnRoOmZ1bmN0aW9uKGEsYixjLGQpe2I9Ynx8MTt2YXIgZT0wO2Zvcig7YTthPWFbY10paWYoYS5ub2RlVHlwZT09PTEmJisrZT09PWIpYnJlYWs7cmV0dXJuIGF9LHNpYmxpbmc6ZnVuY3Rpb24oYSxiKXt2YXIgYz1bXTtmb3IoO2E7YT1hLm5leHRTaWJsaW5nKWEubm9kZVR5cGU9PT0xJiZhIT09YiYmYy5wdXNoKGEpO3JldHVybiBjfX0pO3ZhciBYPS8galF1ZXJ5XGQrPSIoPzpcZCt8bnVsbCkiL2csWT0vXlxzKy8sWj0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2lnLCQ9LzwoW1x3Ol0rKS8sXz0vPHRib2R5L2ksYmE9Lzx8JiM/XHcrOy8sYmI9LzwoPzpzY3JpcHR8b2JqZWN0fGVtYmVkfG9wdGlvbnxzdHlsZSkvaSxiYz0vY2hlY2tlZFxzKig/OltePV18PVxzKi5jaGVja2VkLikvaSxiZD0vXC8oamF2YXxlY21hKXNjcmlwdC9pLGJlPS9eXHMqPCEoPzpcW0NEQVRBXFt8XC1cLSkvLGJmPXtvcHRpb246WzEsIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O2JmLm9wdGdyb3VwPWJmLm9wdGlvbixiZi50Ym9keT1iZi50Zm9vdD1iZi5jb2xncm91cD1iZi5jYXB0aW9uPWJmLnRoZWFkLGJmLnRoPWJmLnRkLGYuc3VwcG9ydC5odG1sU2VyaWFsaXplfHwoYmYuX2RlZmF1bHQ9WzEsImRpdjxkaXY+IiwiPC9kaXY+Il0pLGYuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe2lmKGYuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPWYodGhpcyk7Yy50ZXh0KGEuY2FsbCh0aGlzLGIsYy50ZXh0KCkpKX0pO2lmKHR5cGVvZiBhIT0ib2JqZWN0IiYmYSE9PWIpcmV0dXJuIHRoaXMuZW1wdHkoKS5hcHBlbmQoKHRoaXNbMF0mJnRoaXNbMF0ub3duZXJEb2N1bWVudHx8YykuY3JlYXRlVGV4dE5vZGUoYSkpO3JldHVybiBmLnRleHQodGhpcyl9LHdyYXBBbGw6ZnVuY3Rpb24oYSl7aWYoZi5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zih0aGlzKS53cmFwQWxsKGEuY2FsbCh0aGlzLGIpKX0pO2lmKHRoaXNbMF0pe3ZhciBiPWYoYSx0aGlzWzBdLm93bmVyRG9jdW1lbnQpLmVxKDApLmNsb25lKCEwKTt0aGlzWzBdLnBhcmVudE5vZGUmJmIuaW5zZXJ0QmVmb3JlKHRoaXNbMF0pLGIubWFwKGZ1bmN0aW9uKCl7dmFyIGE9dGhpczt3aGlsZShhLmZpcnN0Q2hpbGQmJmEuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTEpYT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGF9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LHdyYXBJbm5lcjpmdW5jdGlvbihhKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXtmKHRoaXMpLndyYXBJbm5lcihhLmNhbGwodGhpcyxiKSl9KTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9Zih0aGlzKSxjPWIuY29udGVudHMoKTtjLmxlbmd0aD9jLndyYXBBbGwoYSk6Yi5hcHBlbmQoYSl9KX0sd3JhcDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Zih0aGlzKS53cmFwQWxsKGEpfSl9LHVud3JhcDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhcmVudCgpLmVhY2goZnVuY3Rpb24oKXtmLm5vZGVOYW1lKHRoaXMsImJvZHkiKXx8Zih0aGlzKS5yZXBsYWNlV2l0aCh0aGlzLmNoaWxkTm9kZXMpfSkuZW5kKCl9LGFwcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMCxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5hcHBlbmRDaGlsZChhKX0pfSxwcmVwZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZG9tTWFuaXAoYXJndW1lbnRzLCEwLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmluc2VydEJlZm9yZShhLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cywhMSxmdW5jdGlvbihhKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGEsdGhpcyl9KTtpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT1mKGFyZ3VtZW50c1swXSk7YS5wdXNoLmFwcGx5KGEsdGhpcy50b0FycmF5KCkpO3JldHVybiB0aGlzLnB1c2hTdGFjayhhLCJiZWZvcmUiLGFyZ3VtZW50cyl9fSxhZnRlcjpmdW5jdGlvbigpe2lmKHRoaXNbMF0mJnRoaXNbMF0ucGFyZW50Tm9kZSlyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsITEsZnVuY3Rpb24oYSl7dGhpcy5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLHRoaXMubmV4dFNpYmxpbmcpfSk7aWYoYXJndW1lbnRzLmxlbmd0aCl7dmFyIGE9dGhpcy5wdXNoU3RhY2sodGhpcywiYWZ0ZXIiLGFyZ3VtZW50cyk7YS5wdXNoLmFwcGx5KGEsZihhcmd1bWVudHNbMF0pLnRvQXJyYXkoKSk7cmV0dXJuIGF9fSxyZW1vdmU6ZnVuY3Rpb24oYSxiKXtmb3IodmFyIGM9MCxkOyhkPXRoaXNbY10pIT1udWxsO2MrKylpZighYXx8Zi5maWx0ZXIoYSxbZF0pLmxlbmd0aCkhYiYmZC5ub2RlVHlwZT09PTEmJihmLmNsZWFuRGF0YShkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCIqIikpLGYuY2xlYW5EYXRhKFtkXSkpLGQucGFyZW50Tm9kZSYmZC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGQpO3JldHVybiB0aGlzfSxlbXB0eTpmdW5jdGlvbigpe2Zvcih2YXIgYT0wLGI7KGI9dGhpc1thXSkhPW51bGw7YSsrKXtiLm5vZGVUeXBlPT09MSYmZi5jbGVhbkRhdGEoYi5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt3aGlsZShiLmZpcnN0Q2hpbGQpYi5yZW1vdmVDaGlsZChiLmZpcnN0Q2hpbGQpfXJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhLGIpe2E9YT09bnVsbD8hMTphLGI9Yj09bnVsbD9hOmI7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGYuY2xvbmUodGhpcyxhLGIpfSl9LGh0bWw6ZnVuY3Rpb24oYSl7aWYoYT09PWIpcmV0dXJuIHRoaXNbMF0mJnRoaXNbMF0ubm9kZVR5cGU9PT0xP3RoaXNbMF0uaW5uZXJIVE1MLnJlcGxhY2UoWCwiIik6bnVsbDtpZih0eXBlb2YgYT09InN0cmluZyImJiFiYi50ZXN0KGEpJiYoZi5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhWS50ZXN0KGEpKSYmIWJmWygkLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt0cnl7Zm9yKHZhciBjPTAsZD10aGlzLmxlbmd0aDtjPGQ7YysrKXRoaXNbY10ubm9kZVR5cGU9PT0xJiYoZi5jbGVhbkRhdGEodGhpc1tjXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKSx0aGlzW2NdLmlubmVySFRNTD1hKX1jYXRjaChlKXt0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfX1lbHNlIGYuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9Zih0aGlzKTtjLmh0bWwoYS5jYWxsKHRoaXMsYixjLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtyZXR1cm4gdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpLGQ9Yy5odG1sKCk7Yy5yZXBsYWNlV2l0aChhLmNhbGwodGhpcyxiLGQpKX0pO3R5cGVvZiBhIT0ic3RyaW5nIiYmKGE9ZihhKS5kZXRhY2goKSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPXRoaXMubmV4dFNpYmxpbmcsYz10aGlzLnBhcmVudE5vZGU7Zih0aGlzKS5yZW1vdmUoKSxiP2YoYikuYmVmb3JlKGEpOmYoYykuYXBwZW5kKGEpfSl9cmV0dXJuIHRoaXMubGVuZ3RoP3RoaXMucHVzaFN0YWNrKGYoZi5pc0Z1bmN0aW9uKGEpP2EoKTphKSwicmVwbGFjZVdpdGgiLGEpOnRoaXN9LGRldGFjaDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5yZW1vdmUoYSwhMCl9LGRvbU1hbmlwOmZ1bmN0aW9uKGEsYyxkKXt2YXIgZSxnLGgsaSxqPWFbMF0saz1bXTtpZighZi5zdXBwb3J0LmNoZWNrQ2xvbmUmJmFyZ3VtZW50cy5sZW5ndGg9PT0zJiZ0eXBlb2Ygaj09InN0cmluZyImJmJjLnRlc3QoaikpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2YodGhpcykuZG9tTWFuaXAoYSxjLGQsITApfSk7aWYoZi5pc0Z1bmN0aW9uKGopKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZSl7dmFyIGc9Zih0aGlzKTthWzBdPWouY2FsbCh0aGlzLGUsYz9nLmh0bWwoKTpiKSxnLmRvbU1hbmlwKGEsYyxkKX0pO2lmKHRoaXNbMF0pe2k9aiYmai5wYXJlbnROb2RlLGYuc3VwcG9ydC5wYXJlbnROb2RlJiZpJiZpLm5vZGVUeXBlPT09MTEmJmkuY2hpbGROb2Rlcy5sZW5ndGg9PT10aGlzLmxlbmd0aD9lPXtmcmFnbWVudDppfTplPWYuYnVpbGRGcmFnbWVudChhLHRoaXMsayksaD1lLmZyYWdtZW50LGguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2c9aD1oLmZpcnN0Q2hpbGQ6Zz1oLmZpcnN0Q2hpbGQ7aWYoZyl7Yz1jJiZmLm5vZGVOYW1lKGcsInRyIik7Zm9yKHZhciBsPTAsbT10aGlzLmxlbmd0aCxuPW0tMTtsPG07bCsrKWQuY2FsbChjP2JnKHRoaXNbbF0sZyk6dGhpc1tsXSxlLmNhY2hlYWJsZXx8bT4xJiZsPG4/Zi5jbG9uZShoLCEwLCEwKTpoKX1rLmxlbmd0aCYmZi5lYWNoKGssYm0pfXJldHVybiB0aGlzfX0pLGYuYnVpbGRGcmFnbWVudD1mdW5jdGlvbihhLGIsZCl7dmFyIGUsZyxoLGk7YiYmYlswXSYmKGk9YlswXS5vd25lckRvY3VtZW50fHxiWzBdKSxpLmNyZWF0ZURvY3VtZW50RnJhZ21lbnR8fChpPWMpLGEubGVuZ3RoPT09MSYmdHlwZW9mIGFbMF09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmk9PT1jJiZhWzBdLmNoYXJBdCgwKT09PSI8IiYmIWJiLnRlc3QoYVswXSkmJihmLnN1cHBvcnQuY2hlY2tDbG9uZXx8IWJjLnRlc3QoYVswXSkpJiYoZz0hMCxoPWYuZnJhZ21lbnRzW2FbMF1dLGgmJmghPT0xJiYoZT1oKSksZXx8KGU9aS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksZi5jbGVhbihhLGksZSxkKSksZyYmKGYuZnJhZ21lbnRzW2FbMF1dPWg/ZToxKTtyZXR1cm57ZnJhZ21lbnQ6ZSxjYWNoZWFibGU6Z319LGYuZnJhZ21lbnRzPXt9LGYuZWFjaCh7YXBwZW5kVG86ImFwcGVuZCIscHJlcGVuZFRvOiJwcmVwZW5kIixpbnNlcnRCZWZvcmU6ImJlZm9yZSIsaW5zZXJ0QWZ0ZXI6ImFmdGVyIixyZXBsYWNlQWxsOiJyZXBsYWNlV2l0aCJ9LGZ1bmN0aW9uKGEsYil7Zi5mblthXT1mdW5jdGlvbihjKXt2YXIgZD1bXSxlPWYoYyksZz10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihnJiZnLm5vZGVUeXBlPT09MTEmJmcuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZlLmxlbmd0aD09PTEpe2VbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9Zm9yKHZhciBoPTAsaT1lLmxlbmd0aDtoPGk7aCsrKXt2YXIgaj0oaD4wP3RoaXMuY2xvbmUoITApOnRoaXMpLmdldCgpO2YoZVtoXSlbYl0oaiksZD1kLmNvbmNhdChqCil9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGQsYSxlLnNlbGVjdG9yKX19KSxmLmV4dGVuZCh7Y2xvbmU6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWEuY2xvbmVOb2RlKCEwKSxlLGcsaDtpZigoIWYuc3VwcG9ydC5ub0Nsb25lRXZlbnR8fCFmLnN1cHBvcnQubm9DbG9uZUNoZWNrZWQpJiYoYS5ub2RlVHlwZT09PTF8fGEubm9kZVR5cGU9PT0xMSkmJiFmLmlzWE1MRG9jKGEpKXtiaShhLGQpLGU9YmooYSksZz1iaihkKTtmb3IoaD0wO2VbaF07KytoKWJpKGVbaF0sZ1toXSl9aWYoYil7YmgoYSxkKTtpZihjKXtlPWJqKGEpLGc9YmooZCk7Zm9yKGg9MDtlW2hdOysraCliaChlW2hdLGdbaF0pfX1lPWc9bnVsbDtyZXR1cm4gZH0sY2xlYW46ZnVuY3Rpb24oYSxiLGQsZSl7dmFyIGc7Yj1ifHxjLHR5cGVvZiBiLmNyZWF0ZUVsZW1lbnQ9PSJ1bmRlZmluZWQiJiYoYj1iLm93bmVyRG9jdW1lbnR8fGJbMF0mJmJbMF0ub3duZXJEb2N1bWVudHx8Yyk7dmFyIGg9W10saTtmb3IodmFyIGo9MCxrOyhrPWFbal0pIT1udWxsO2orKyl7dHlwZW9mIGs9PSJudW1iZXIiJiYoays9IiIpO2lmKCFrKWNvbnRpbnVlO2lmKHR5cGVvZiBrPT0ic3RyaW5nIilpZighYmEudGVzdChrKSlrPWIuY3JlYXRlVGV4dE5vZGUoayk7ZWxzZXtrPWsucmVwbGFjZShaLCI8JDE+PC8kMj4iKTt2YXIgbD0oJC5leGVjKGspfHxbIiIsIiJdKVsxXS50b0xvd2VyQ2FzZSgpLG09YmZbbF18fGJmLl9kZWZhdWx0LG49bVswXSxvPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7by5pbm5lckhUTUw9bVsxXStrK21bMl07d2hpbGUobi0tKW89by5sYXN0Q2hpbGQ7aWYoIWYuc3VwcG9ydC50Ym9keSl7dmFyIHA9Xy50ZXN0KGspLHE9bD09PSJ0YWJsZSImJiFwP28uZmlyc3RDaGlsZCYmby5maXJzdENoaWxkLmNoaWxkTm9kZXM6bVsxXT09PSI8dGFibGU+IiYmIXA/by5jaGlsZE5vZGVzOltdO2ZvcihpPXEubGVuZ3RoLTE7aT49MDstLWkpZi5ub2RlTmFtZShxW2ldLCJ0Ym9keSIpJiYhcVtpXS5jaGlsZE5vZGVzLmxlbmd0aCYmcVtpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHFbaV0pfSFmLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJlkudGVzdChrKSYmby5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZShZLmV4ZWMoaylbMF0pLG8uZmlyc3RDaGlsZCksaz1vLmNoaWxkTm9kZXN9dmFyIHI7aWYoIWYuc3VwcG9ydC5hcHBlbmRDaGVja2VkKWlmKGtbMF0mJnR5cGVvZiAocj1rLmxlbmd0aCk9PSJudW1iZXIiKWZvcihpPTA7aTxyO2krKylibChrW2ldKTtlbHNlIGJsKGspO2subm9kZVR5cGU/aC5wdXNoKGspOmg9Zi5tZXJnZShoLGspfWlmKGQpe2c9ZnVuY3Rpb24oYSl7cmV0dXJuIWEudHlwZXx8YmQudGVzdChhLnR5cGUpfTtmb3Ioaj0wO2hbal07aisrKWlmKGUmJmYubm9kZU5hbWUoaFtqXSwic2NyaXB0IikmJighaFtqXS50eXBlfHxoW2pdLnR5cGUudG9Mb3dlckNhc2UoKT09PSJ0ZXh0L2phdmFzY3JpcHQiKSllLnB1c2goaFtqXS5wYXJlbnROb2RlP2hbal0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChoW2pdKTpoW2pdKTtlbHNle2lmKGhbal0ubm9kZVR5cGU9PT0xKXt2YXIgcz1mLmdyZXAoaFtqXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0IiksZyk7aC5zcGxpY2UuYXBwbHkoaCxbaisxLDBdLmNvbmNhdChzKSl9ZC5hcHBlbmRDaGlsZChoW2pdKX19cmV0dXJuIGh9LGNsZWFuRGF0YTpmdW5jdGlvbihhKXt2YXIgYixjLGQ9Zi5jYWNoZSxlPWYuZXhwYW5kbyxnPWYuZXZlbnQuc3BlY2lhbCxoPWYuc3VwcG9ydC5kZWxldGVFeHBhbmRvO2Zvcih2YXIgaT0wLGo7KGo9YVtpXSkhPW51bGw7aSsrKXtpZihqLm5vZGVOYW1lJiZmLm5vRGF0YVtqLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKWNvbnRpbnVlO2M9altmLmV4cGFuZG9dO2lmKGMpe2I9ZFtjXSYmZFtjXVtlXTtpZihiJiZiLmV2ZW50cyl7Zm9yKHZhciBrIGluIGIuZXZlbnRzKWdba10/Zi5ldmVudC5yZW1vdmUoaixrKTpmLnJlbW92ZUV2ZW50KGosayxiLmhhbmRsZSk7Yi5oYW5kbGUmJihiLmhhbmRsZS5lbGVtPW51bGwpfWg/ZGVsZXRlIGpbZi5leHBhbmRvXTpqLnJlbW92ZUF0dHJpYnV0ZSYmai5yZW1vdmVBdHRyaWJ1dGUoZi5leHBhbmRvKSxkZWxldGUgZFtjXX19fX0pO3ZhciBibj0vYWxwaGFcKFteKV0qXCkvaSxibz0vb3BhY2l0eT0oW14pXSopLyxicD0vKFtBLVpdfF5tcykvZyxicT0vXi0/XGQrKD86cHgpPyQvaSxicj0vXi0/XGQvLGJzPS9eWytcLV09LyxidD0vW14rXC1cLlxkZV0rL2csYnU9e3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdmlzaWJpbGl0eToiaGlkZGVuIixkaXNwbGF5OiJibG9jayJ9LGJ2PVsiTGVmdCIsIlJpZ2h0Il0sYnc9WyJUb3AiLCJCb3R0b20iXSxieCxieSxiejtmLmZuLmNzcz1mdW5jdGlvbihhLGMpe2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0yJiZjPT09YilyZXR1cm4gdGhpcztyZXR1cm4gZi5hY2Nlc3ModGhpcyxhLGMsITAsZnVuY3Rpb24oYSxjLGQpe3JldHVybiBkIT09Yj9mLnN0eWxlKGEsYyxkKTpmLmNzcyhhLGMpfSl9LGYuZXh0ZW5kKHtjc3NIb29rczp7b3BhY2l0eTp7Z2V0OmZ1bmN0aW9uKGEsYil7aWYoYil7dmFyIGM9YngoYSwib3BhY2l0eSIsIm9wYWNpdHkiKTtyZXR1cm4gYz09PSIiPyIxIjpjfXJldHVybiBhLnN0eWxlLm9wYWNpdHl9fX0sY3NzTnVtYmVyOntmaWxsT3BhY2l0eTohMCxmb250V2VpZ2h0OiEwLGxpbmVIZWlnaHQ6ITAsb3BhY2l0eTohMCxvcnBoYW5zOiEwLHdpZG93czohMCx6SW5kZXg6ITAsem9vbTohMH0sY3NzUHJvcHM6eyJmbG9hdCI6Zi5zdXBwb3J0LmNzc0Zsb2F0PyJjc3NGbG9hdCI6InN0eWxlRmxvYXQifSxzdHlsZTpmdW5jdGlvbihhLGMsZCxlKXtpZighIWEmJmEubm9kZVR5cGUhPT0zJiZhLm5vZGVUeXBlIT09OCYmISFhLnN0eWxlKXt2YXIgZyxoLGk9Zi5jYW1lbENhc2UoYyksaj1hLnN0eWxlLGs9Zi5jc3NIb29rc1tpXTtjPWYuY3NzUHJvcHNbaV18fGk7aWYoZD09PWIpe2lmKGsmJiJnZXQiaW4gayYmKGc9ay5nZXQoYSwhMSxlKSkhPT1iKXJldHVybiBnO3JldHVybiBqW2NdfWg9dHlwZW9mIGQ7aWYoaD09PSJudW1iZXIiJiZpc05hTihkKXx8ZD09bnVsbClyZXR1cm47aD09PSJzdHJpbmciJiZicy50ZXN0KGQpJiYoZD0rZC5yZXBsYWNlKGJ0LCIiKStwYXJzZUZsb2F0KGYuY3NzKGEsYykpLGg9Im51bWJlciIpLGg9PT0ibnVtYmVyIiYmIWYuY3NzTnVtYmVyW2ldJiYoZCs9InB4Iik7aWYoIWt8fCEoInNldCJpbiBrKXx8KGQ9ay5zZXQoYSxkKSkhPT1iKXRyeXtqW2NdPWR9Y2F0Y2gobCl7fX19LGNzczpmdW5jdGlvbihhLGMsZCl7dmFyIGUsZztjPWYuY2FtZWxDYXNlKGMpLGc9Zi5jc3NIb29rc1tjXSxjPWYuY3NzUHJvcHNbY118fGMsYz09PSJjc3NGbG9hdCImJihjPSJmbG9hdCIpO2lmKGcmJiJnZXQiaW4gZyYmKGU9Zy5nZXQoYSwhMCxkKSkhPT1iKXJldHVybiBlO2lmKGJ4KXJldHVybiBieChhLGMpfSxzd2FwOmZ1bmN0aW9uKGEsYixjKXt2YXIgZD17fTtmb3IodmFyIGUgaW4gYilkW2VdPWEuc3R5bGVbZV0sYS5zdHlsZVtlXT1iW2VdO2MuY2FsbChhKTtmb3IoZSBpbiBiKWEuc3R5bGVbZV09ZFtlXX19KSxmLmN1ckNTUz1mLmNzcyxmLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7Zi5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGEsYyxkKXt2YXIgZTtpZihjKXtpZihhLm9mZnNldFdpZHRoIT09MClyZXR1cm4gYkEoYSxiLGQpO2Yuc3dhcChhLGJ1LGZ1bmN0aW9uKCl7ZT1iQShhLGIsZCl9KTtyZXR1cm4gZX19LHNldDpmdW5jdGlvbihhLGIpe2lmKCFicS50ZXN0KGIpKXJldHVybiBiO2I9cGFyc2VGbG9hdChiKTtpZihiPj0wKXJldHVybiBiKyJweCJ9fX0pLGYuc3VwcG9ydC5vcGFjaXR5fHwoZi5jc3NIb29rcy5vcGFjaXR5PXtnZXQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYm8udGVzdCgoYiYmYS5jdXJyZW50U3R5bGU/YS5jdXJyZW50U3R5bGUuZmlsdGVyOmEuc3R5bGUuZmlsdGVyKXx8IiIpP3BhcnNlRmxvYXQoUmVnRXhwLiQxKS8xMDArIiI6Yj8iMSI6IiJ9LHNldDpmdW5jdGlvbihhLGIpe3ZhciBjPWEuc3R5bGUsZD1hLmN1cnJlbnRTdHlsZTtjLnpvb209MTt2YXIgZT1mLmlzTmFOKGIpPyIiOiJhbHBoYShvcGFjaXR5PSIrYioxMDArIikiLGc9ZCYmZC5maWx0ZXJ8fGMuZmlsdGVyfHwiIjtjLmZpbHRlcj1ibi50ZXN0KGcpP2cucmVwbGFjZShibixlKTpnKyIgIitlfX0pLGYoZnVuY3Rpb24oKXtmLnN1cHBvcnQucmVsaWFibGVNYXJnaW5SaWdodHx8KGYuY3NzSG9va3MubWFyZ2luUmlnaHQ9e2dldDpmdW5jdGlvbihhLGIpe3ZhciBjO2Yuc3dhcChhLHtkaXNwbGF5OiJpbmxpbmUtYmxvY2sifSxmdW5jdGlvbigpe2I/Yz1ieChhLCJtYXJnaW4tcmlnaHQiLCJtYXJnaW5SaWdodCIpOmM9YS5zdHlsZS5tYXJnaW5SaWdodH0pO3JldHVybiBjfX0pfSksYy5kZWZhdWx0VmlldyYmYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlJiYoYnk9ZnVuY3Rpb24oYSxjKXt2YXIgZCxlLGc7Yz1jLnJlcGxhY2UoYnAsIi0kMSIpLnRvTG93ZXJDYXNlKCk7aWYoIShlPWEub3duZXJEb2N1bWVudC5kZWZhdWx0VmlldykpcmV0dXJuIGI7aWYoZz1lLmdldENvbXB1dGVkU3R5bGUoYSxudWxsKSlkPWcuZ2V0UHJvcGVydHlWYWx1ZShjKSxkPT09IiImJiFmLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkmJihkPWYuc3R5bGUoYSxjKSk7cmV0dXJuIGR9KSxjLmRvY3VtZW50RWxlbWVudC5jdXJyZW50U3R5bGUmJihiej1mdW5jdGlvbihhLGIpe3ZhciBjLGQ9YS5jdXJyZW50U3R5bGUmJmEuY3VycmVudFN0eWxlW2JdLGU9YS5ydW50aW1lU3R5bGUmJmEucnVudGltZVN0eWxlW2JdLGY9YS5zdHlsZTshYnEudGVzdChkKSYmYnIudGVzdChkKSYmKGM9Zi5sZWZ0LGUmJihhLnJ1bnRpbWVTdHlsZS5sZWZ0PWEuY3VycmVudFN0eWxlLmxlZnQpLGYubGVmdD1iPT09ImZvbnRTaXplIj8iMWVtIjpkfHwwLGQ9Zi5waXhlbExlZnQrInB4IixmLmxlZnQ9YyxlJiYoYS5ydW50aW1lU3R5bGUubGVmdD1lKSk7cmV0dXJuIGQ9PT0iIj8iYXV0byI6ZH0pLGJ4PWJ5fHxieixmLmV4cHImJmYuZXhwci5maWx0ZXJzJiYoZi5leHByLmZpbHRlcnMuaGlkZGVuPWZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0V2lkdGgsYz1hLm9mZnNldEhlaWdodDtyZXR1cm4gYj09PTAmJmM9PT0wfHwhZi5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUuZGlzcGxheXx8Zi5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn0sZi5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hZi5leHByLmZpbHRlcnMuaGlkZGVuKGEpfSk7dmFyIGJCPS8lMjAvZyxiQz0vXFtcXSQvLGJEPS9ccj9cbi9nLGJFPS8jLiokLyxiRj0vXiguKj8pOlsgXHRdKihbXlxyXG5dKilccj8kL21nLGJHPS9eKD86Y29sb3J8ZGF0ZXxkYXRldGltZXxlbWFpbHxoaWRkZW58bW9udGh8bnVtYmVyfHBhc3N3b3JkfHJhbmdlfHNlYXJjaHx0ZWx8dGV4dHx0aW1lfHVybHx3ZWVrKSQvaSxiSD0vXig/OmFib3V0fGFwcHxhcHBcLXN0b3JhZ2V8LitcLWV4dGVuc2lvbnxmaWxlfHdpZGdldCk6JC8sYkk9L14oPzpHRVR8SEVBRCkkLyxiSj0vXlwvXC8vLGJLPS9cPy8sYkw9LzxzY3JpcHRcYltePF0qKD86KD8hPFwvc2NyaXB0Pik8W148XSopKjxcL3NjcmlwdD4vZ2ksYk09L14oPzpzZWxlY3R8dGV4dGFyZWEpL2ksYk49L1xzKy8sYk89LyhbPyZdKV89W14mXSovLGJQPS9eKFtcd1wrXC5cLV0rOikoPzpcL1wvKFteXC8/IzpdKikoPzo6KFxkKykpPyk/LyxiUT1mLmZuLmxvYWQsYlI9e30sYlM9e30sYlQsYlU7dHJ5e2JUPWUuaHJlZn1jYXRjaChiVil7YlQ9Yy5jcmVhdGVFbGVtZW50KCJhIiksYlQuaHJlZj0iIixiVD1iVC5ocmVmfWJVPWJQLmV4ZWMoYlQudG9Mb3dlckNhc2UoKSl8fFtdLGYuZm4uZXh0ZW5kKHtsb2FkOmZ1bmN0aW9uKGEsYyxkKXtpZih0eXBlb2YgYSE9InN0cmluZyImJmJRKXJldHVybiBiUS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMubGVuZ3RoKXJldHVybiB0aGlzO3ZhciBlPWEuaW5kZXhPZigiICIpO2lmKGU+PTApe3ZhciBnPWEuc2xpY2UoZSxhLmxlbmd0aCk7YT1hLnNsaWNlKDAsZSl9dmFyIGg9IkdFVCI7YyYmKGYuaXNGdW5jdGlvbihjKT8oZD1jLGM9Yik6dHlwZW9mIGM9PSJvYmplY3QiJiYoYz1mLnBhcmFtKGMsZi5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpLGg9IlBPU1QiKSk7dmFyIGk9dGhpcztmLmFqYXgoe3VybDphLHR5cGU6aCxkYXRhVHlwZToiaHRtbCIsZGF0YTpjLGNvbXBsZXRlOmZ1bmN0aW9uKGEsYixjKXtjPWEucmVzcG9uc2VUZXh0LGEuaXNSZXNvbHZlZCgpJiYoYS5kb25lKGZ1bmN0aW9uKGEpe2M9YX0pLGkuaHRtbChnP2YoIjxkaXY+IikuYXBwZW5kKGMucmVwbGFjZShiTCwiIikpLmZpbmQoZyk6YykpLGQmJmkuZWFjaChkLFtjLGIsYV0pfX0pO3JldHVybiB0aGlzfSxzZXJpYWxpemU6ZnVuY3Rpb24oKXtyZXR1cm4gZi5wYXJhbSh0aGlzLnNlcmlhbGl6ZUFycmF5KCkpfSxzZXJpYWxpemVBcnJheTpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3JldHVybiB0aGlzLmVsZW1lbnRzP2YubWFrZUFycmF5KHRoaXMuZWxlbWVudHMpOnRoaXN9KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYW1lJiYhdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8Yk0udGVzdCh0aGlzLm5vZGVOYW1lKXx8YkcudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBjPWYodGhpcykudmFsKCk7cmV0dXJuIGM9PW51bGw/bnVsbDpmLmlzQXJyYXkoYyk/Zi5tYXAoYyxmdW5jdGlvbihhLGMpe3JldHVybntuYW1lOmIubmFtZSx2YWx1ZTphLnJlcGxhY2UoYkQsIlxyXG4iKX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6Yy5yZXBsYWNlKGJELCJcclxuIil9fSkuZ2V0KCl9fSksZi5lYWNoKCJhamF4U3RhcnQgYWpheFN0b3AgYWpheENvbXBsZXRlIGFqYXhFcnJvciBhamF4U3VjY2VzcyBhamF4U2VuZCIuc3BsaXQoIiAiKSxmdW5jdGlvbihhLGIpe2YuZm5bYl09ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYmluZChiLGEpfX0pLGYuZWFjaChbImdldCIsInBvc3QiXSxmdW5jdGlvbihhLGMpe2ZbY109ZnVuY3Rpb24oYSxkLGUsZyl7Zi5pc0Z1bmN0aW9uKGQpJiYoZz1nfHxlLGU9ZCxkPWIpO3JldHVybiBmLmFqYXgoe3R5cGU6Yyx1cmw6YSxkYXRhOmQsc3VjY2VzczplLGRhdGFUeXBlOmd9KX19KSxmLmV4dGVuZCh7Z2V0U2NyaXB0OmZ1bmN0aW9uKGEsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJzY3JpcHQiKX0sZ2V0SlNPTjpmdW5jdGlvbihhLGIsYyl7cmV0dXJuIGYuZ2V0KGEsYixjLCJqc29uIil9LGFqYXhTZXR1cDpmdW5jdGlvbihhLGIpe2I/Zi5leHRlbmQoITAsYSxmLmFqYXhTZXR0aW5ncyxiKTooYj1hLGE9Zi5leHRlbmQoITAsZi5hamF4U2V0dGluZ3MsYikpO2Zvcih2YXIgYyBpbntjb250ZXh0OjEsdXJsOjF9KWMgaW4gYj9hW2NdPWJbY106YyBpbiBmLmFqYXhTZXR0aW5ncyYmKGFbY109Zi5hamF4U2V0dGluZ3NbY10pO3JldHVybiBhfSxhamF4U2V0dGluZ3M6e3VybDpiVCxpc0xvY2FsOmJILnRlc3QoYlVbMV0pLGdsb2JhbDohMCx0eXBlOiJHRVQiLGNvbnRlbnRUeXBlOiJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiLHByb2Nlc3NEYXRhOiEwLGFzeW5jOiEwLGFjY2VwdHM6e3htbDoiYXBwbGljYXRpb24veG1sLCB0ZXh0L3htbCIsaHRtbDoidGV4dC9odG1sIix0ZXh0OiJ0ZXh0L3BsYWluIixqc29uOiJhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQiLCIqIjoiKi8qIn0sY29udGVudHM6e3htbDoveG1sLyxodG1sOi9odG1sLyxqc29uOi9qc29uL30scmVzcG9uc2VGaWVsZHM6e3htbDoicmVzcG9uc2VYTUwiLHRleHQ6InJlc3BvbnNlVGV4dCJ9LGNvbnZlcnRlcnM6eyIqIHRleHQiOmEuU3RyaW5nLCJ0ZXh0IGh0bWwiOiEwLCJ0ZXh0IGpzb24iOmYucGFyc2VKU09OLCJ0ZXh0IHhtbCI6Zi5wYXJzZVhNTH19LGFqYXhQcmVmaWx0ZXI6YlcoYlIpLGFqYXhUcmFuc3BvcnQ6YlcoYlMpLGFqYXg6ZnVuY3Rpb24oYSxjKXtmdW5jdGlvbiB3KGEsYyxsLG0pe2lmKHMhPT0yKXtzPTIscSYmY2xlYXJUaW1lb3V0KHEpLHA9YixuPW18fCIiLHYucmVhZHlTdGF0ZT1hPzQ6MDt2YXIgbyxyLHUsdz1sP2JaKGQsdixsKTpiLHgseTtpZihhPj0yMDAmJmE8MzAwfHxhPT09MzA0KXtpZihkLmlmTW9kaWZpZWQpe2lmKHg9di5nZXRSZXNwb25zZUhlYWRlcigiTGFzdC1Nb2RpZmllZCIpKWYubGFzdE1vZGlmaWVkW2tdPXg7aWYoeT12LmdldFJlc3BvbnNlSGVhZGVyKCJFdGFnIikpZi5ldGFnW2tdPXl9aWYoYT09PTMwNCljPSJub3Rtb2RpZmllZCIsbz0hMDtlbHNlIHRyeXtyPWIkKGQsdyksYz0ic3VjY2VzcyIsbz0hMH1jYXRjaCh6KXtjPSJwYXJzZXJlcnJvciIsdT16fX1lbHNle3U9YztpZighY3x8YSljPSJlcnJvciIsYTwwJiYoYT0wKX12LnN0YXR1cz1hLHYuc3RhdHVzVGV4dD1jLG8/aC5yZXNvbHZlV2l0aChlLFtyLGMsdl0pOmgucmVqZWN0V2l0aChlLFt2LGMsdV0pLHYuc3RhdHVzQ29kZShqKSxqPWIsdCYmZy50cmlnZ2VyKCJhamF4Iisobz8iU3VjY2VzcyI6IkVycm9yIiksW3YsZCxvP3I6dV0pLGkucmVzb2x2ZVdpdGgoZSxbdixjXSksdCYmKGcudHJpZ2dlcigiYWpheENvbXBsZXRlIixbdixkXSksLS1mLmFjdGl2ZXx8Zi5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpKX19dHlwZW9mIGE9PSJvYmplY3QiJiYoYz1hLGE9YiksYz1jfHx7fTt2YXIgZD1mLmFqYXhTZXR1cCh7fSxjKSxlPWQuY29udGV4dHx8ZCxnPWUhPT1kJiYoZS5ub2RlVHlwZXx8ZSBpbnN0YW5jZW9mIGYpP2YoZSk6Zi5ldmVudCxoPWYuRGVmZXJyZWQoKSxpPWYuX0RlZmVycmVkKCksaj1kLnN0YXR1c0NvZGV8fHt9LGssbD17fSxtPXt9LG4sbyxwLHEscixzPTAsdCx1LHY9e3JlYWR5U3RhdGU6MCxzZXRSZXF1ZXN0SGVhZGVyOmZ1bmN0aW9uKGEsYil7aWYoIXMpe3ZhciBjPWEudG9Mb3dlckNhc2UoKTthPW1bY109bVtjXXx8YSxsW2FdPWJ9cmV0dXJuIHRoaXN9LGdldEFsbFJlc3BvbnNlSGVhZGVyczpmdW5jdGlvbigpe3JldHVybiBzPT09Mj9uOm51bGx9LGdldFJlc3BvbnNlSGVhZGVyOmZ1bmN0aW9uKGEpe3ZhciBjO2lmKHM9PT0yKXtpZighbyl7bz17fTt3aGlsZShjPWJGLmV4ZWMobikpb1tjWzFdLnRvTG93ZXJDYXNlKCldPWNbMl19Yz1vW2EudG9Mb3dlckNhc2UoKV19cmV0dXJuIGM9PT1iP251bGw6Y30sb3ZlcnJpZGVNaW1lVHlwZTpmdW5jdGlvbihhKXtzfHwoZC5taW1lVHlwZT1hKTtyZXR1cm4gdGhpc30sYWJvcnQ6ZnVuY3Rpb24oYSl7YT1hfHwiYWJvcnQiLHAmJnAuYWJvcnQoYSksdygwLGEpO3JldHVybiB0aGlzfX07aC5wcm9taXNlKHYpLHYuc3VjY2Vzcz12LmRvbmUsdi5lcnJvcj12LmZhaWwsdi5jb21wbGV0ZT1pLmRvbmUsdi5zdGF0dXNDb2RlPWZ1bmN0aW9uKGEpe2lmKGEpe3ZhciBiO2lmKHM8Milmb3IoYiBpbiBhKWpbYl09W2pbYl0sYVtiXV07ZWxzZSBiPWFbdi5zdGF0dXNdLHYudGhlbihiLGIpfXJldHVybiB0aGlzfSxkLnVybD0oKGF8fGQudXJsKSsiIikucmVwbGFjZShiRSwiIikucmVwbGFjZShiSixiVVsxXSsiLy8iKSxkLmRhdGFUeXBlcz1mLnRyaW0oZC5kYXRhVHlwZXx8IioiKS50b0xvd2VyQ2FzZSgpLnNwbGl0KGJOKSxkLmNyb3NzRG9tYWluPT1udWxsJiYocj1iUC5leGVjKGQudXJsLnRvTG93ZXJDYXNlKCkpLGQuY3Jvc3NEb21haW49ISghcnx8clsxXT09YlVbMV0mJnJbMl09PWJVWzJdJiYoclszXXx8KHJbMV09PT0iaHR0cDoiPzgwOjQ0MykpPT0oYlVbM118fChiVVsxXT09PSJodHRwOiI/ODA6NDQzKSkpKSxkLmRhdGEmJmQucHJvY2Vzc0RhdGEmJnR5cGVvZiBkLmRhdGEhPSJzdHJpbmciJiYoZC5kYXRhPWYucGFyYW0oZC5kYXRhLGQudHJhZGl0aW9uYWwpKSxiWChiUixkLGMsdik7aWYocz09PTIpcmV0dXJuITE7dD1kLmdsb2JhbCxkLnR5cGU9ZC50eXBlLnRvVXBwZXJDYXNlKCksZC5oYXNDb250ZW50PSFiSS50ZXN0KGQudHlwZSksdCYmZi5hY3RpdmUrKz09PTAmJmYuZXZlbnQudHJpZ2dlcigiYWpheFN0YXJ0Iik7aWYoIWQuaGFzQ29udGVudCl7ZC5kYXRhJiYoZC51cmwrPShiSy50ZXN0KGQudXJsKT8iJiI6Ij8iKStkLmRhdGEpLGs9ZC51cmw7aWYoZC5jYWNoZT09PSExKXt2YXIgeD1mLm5vdygpLHk9ZC51cmwucmVwbGFjZShiTywiJDFfPSIreCk7ZC51cmw9eSsoeT09PWQudXJsPyhiSy50ZXN0KGQudXJsKT8iJiI6Ij8iKSsiXz0iK3g6IiIpfX0oZC5kYXRhJiZkLmhhc0NvbnRlbnQmJmQuY29udGVudFR5cGUhPT0hMXx8Yy5jb250ZW50VHlwZSkmJnYuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIixkLmNvbnRlbnRUeXBlKSxkLmlmTW9kaWZpZWQmJihrPWt8fGQudXJsLGYubGFzdE1vZGlmaWVkW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU1vZGlmaWVkLVNpbmNlIixmLmxhc3RNb2RpZmllZFtrXSksZi5ldGFnW2tdJiZ2LnNldFJlcXVlc3RIZWFkZXIoIklmLU5vbmUtTWF0Y2giLGYuZXRhZ1trXSkpLHYuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixkLmRhdGFUeXBlc1swXSYmZC5hY2NlcHRzW2QuZGF0YVR5cGVzWzBdXT9kLmFjY2VwdHNbZC5kYXRhVHlwZXNbMF1dKyhkLmRhdGFUeXBlc1swXSE9PSIqIj8iLCAqLyo7IHE9MC4wMSI6IiIpOmQuYWNjZXB0c1siKiJdKTtmb3IodSBpbiBkLmhlYWRlcnMpdi5zZXRSZXF1ZXN0SGVhZGVyKHUsZC5oZWFkZXJzW3VdKTtpZihkLmJlZm9yZVNlbmQmJihkLmJlZm9yZVNlbmQuY2FsbChlLHYsZCk9PT0hMXx8cz09PTIpKXt2LmFib3J0KCk7cmV0dXJuITF9Zm9yKHUgaW57c3VjY2VzczoxLGVycm9yOjEsY29tcGxldGU6MX0pdlt1XShkW3VdKTtwPWJYKGJTLGQsYyx2KTtpZighcCl3KC0xLCJObyBUcmFuc3BvcnQiKTtlbHNle3YucmVhZHlTdGF0ZT0xLHQmJmcudHJpZ2dlcigiYWpheFNlbmQiLFt2LGRdKSxkLmFzeW5jJiZkLnRpbWVvdXQ+MCYmKHE9c2V0VGltZW91dChmdW5jdGlvbigpe3YuYWJvcnQoInRpbWVvdXQiKX0sZC50aW1lb3V0KSk7dHJ5e3M9MSxwLnNlbmQobCx3KX1jYXRjaCh6KXtzdGF0dXM8Mj93KC0xLHopOmYuZXJyb3Ioeil9fXJldHVybiB2fSxwYXJhbTpmdW5jdGlvbihhLGMpe3ZhciBkPVtdLGU9ZnVuY3Rpb24oYSxiKXtiPWYuaXNGdW5jdGlvbihiKT9iKCk6YixkW2QubGVuZ3RoXT1lbmNvZGVVUklDb21wb25lbnQoYSkrIj0iK2VuY29kZVVSSUNvbXBvbmVudChiKX07Yz09PWImJihjPWYuYWpheFNldHRpbmdzLnRyYWRpdGlvbmFsKTtpZihmLmlzQXJyYXkoYSl8fGEuanF1ZXJ5JiYhZi5pc1BsYWluT2JqZWN0KGEpKWYuZWFjaChhLGZ1bmN0aW9uKCl7ZSh0aGlzLm5hbWUsdGhpcy52YWx1ZSl9KTtlbHNlIGZvcih2YXIgZyBpbiBhKWJZKGcsYVtnXSxjLGUpO3JldHVybiBkLmpvaW4oIiYiKS5yZXBsYWNlKGJCLCIrIil9fSksZi5leHRlbmQoe2FjdGl2ZTowLGxhc3RNb2RpZmllZDp7fSxldGFnOnt9fSk7dmFyIGJfPWYubm93KCksY2E9LyhcPSlcPygmfCQpfFw/XD8vaTtmLmFqYXhTZXR1cCh7anNvbnA6ImNhbGxiYWNrIixqc29ucENhbGxiYWNrOmZ1bmN0aW9uKCl7cmV0dXJuIGYuZXhwYW5kbysiXyIrYl8rK319KSxmLmFqYXhQcmVmaWx0ZXIoImpzb24ganNvbnAiLGZ1bmN0aW9uKGIsYyxkKXt2YXIgZT1iLmNvbnRlbnRUeXBlPT09ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCImJnR5cGVvZiBiLmRhdGE9PSJzdHJpbmciO2lmKGIuZGF0YVR5cGVzWzBdPT09Impzb25wInx8Yi5qc29ucCE9PSExJiYoY2EudGVzdChiLnVybCl8fGUmJmNhLnRlc3QoYi5kYXRhKSkpe3ZhciBnLGg9Yi5qc29ucENhbGxiYWNrPWYuaXNGdW5jdGlvbihiLmpzb25wQ2FsbGJhY2spP2IuanNvbnBDYWxsYmFjaygpOmIuanNvbnBDYWxsYmFjayxpPWFbaF0saj1iLnVybCxrPWIuZGF0YSxsPSIkMSIraCsiJDIiO2IuanNvbnAhPT0hMSYmKGo9ai5yZXBsYWNlKGNhLGwpLGIudXJsPT09aiYmKGUmJihrPWsucmVwbGFjZShjYSxsKSksYi5kYXRhPT09ayYmKGorPSgvXD8vLnRlc3Qoaik/IiYiOiI/IikrYi5qc29ucCsiPSIraCkpKSxiLnVybD1qLGIuZGF0YT1rLGFbaF09ZnVuY3Rpb24oYSl7Zz1bYV19LGQuYWx3YXlzKGZ1bmN0aW9uKCl7YVtoXT1pLGcmJmYuaXNGdW5jdGlvbihpKSYmYVtoXShnWzBdKX0pLGIuY29udmVydGVyc1sic2NyaXB0IGpzb24iXT1mdW5jdGlvbigpe2d8fGYuZXJyb3IoaCsiIHdhcyBub3QgY2FsbGVkIik7cmV0dXJuIGdbMF19LGIuZGF0YVR5cGVzWzBdPSJqc29uIjtyZXR1cm4ic2NyaXB0In19KSxmLmFqYXhTZXR1cCh7YWNjZXB0czp7c2NyaXB0OiJ0ZXh0L2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2phdmFzY3JpcHQsIGFwcGxpY2F0aW9uL2VjbWFzY3JpcHQsIGFwcGxpY2F0aW9uL3gtZWNtYXNjcmlwdCJ9LGNvbnRlbnRzOntzY3JpcHQ6L2phdmFzY3JpcHR8ZWNtYXNjcmlwdC99LGNvbnZlcnRlcnM6eyJ0ZXh0IHNjcmlwdCI6ZnVuY3Rpb24oYSl7Zi5nbG9iYWxFdmFsKGEpO3JldHVybiBhfX19KSxmLmFqYXhQcmVmaWx0ZXIoInNjcmlwdCIsZnVuY3Rpb24oYSl7YS5jYWNoZT09PWImJihhLmNhY2hlPSExKSxhLmNyb3NzRG9tYWluJiYoYS50eXBlPSJHRVQiLGEuZ2xvYmFsPSExKX0pLGYuYWpheFRyYW5zcG9ydCgic2NyaXB0IixmdW5jdGlvbihhKXtpZihhLmNyb3NzRG9tYWluKXt2YXIgZCxlPWMuaGVhZHx8Yy5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHxjLmRvY3VtZW50RWxlbWVudDtyZXR1cm57c2VuZDpmdW5jdGlvbihmLGcpe2Q9Yy5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxkLmFzeW5jPSJhc3luYyIsYS5zY3JpcHRDaGFyc2V0JiYoZC5jaGFyc2V0PWEuc2NyaXB0Q2hhcnNldCksZC5zcmM9YS51cmwsZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oYSxjKXtpZihjfHwhZC5yZWFkeVN0YXRlfHwvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGQucmVhZHlTdGF0ZSkpZC5vbmxvYWQ9ZC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxlJiZkLnBhcmVudE5vZGUmJmUucmVtb3ZlQ2hpbGQoZCksZD1iLGN8fGcoMjAwLCJzdWNjZXNzIil9LGUuaW5zZXJ0QmVmb3JlKGQsZS5maXJzdENoaWxkKX0sYWJvcnQ6ZnVuY3Rpb24oKXtkJiZkLm9ubG9hZCgwLDEpfX19fSk7dmFyIGNiPWEuQWN0aXZlWE9iamVjdD9mdW5jdGlvbigpe2Zvcih2YXIgYSBpbiBjZCljZFthXSgwLDEpfTohMSxjYz0wLGNkO2YuYWpheFNldHRpbmdzLnhocj1hLkFjdGl2ZVhPYmplY3Q/ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5pc0xvY2FsJiZjZSgpfHxjZigpfTpjZSxmdW5jdGlvbihhKXtmLmV4dGVuZChmLnN1cHBvcnQse2FqYXg6ISFhLGNvcnM6ISFhJiYid2l0aENyZWRlbnRpYWxzImluIGF9KX0oZi5hamF4U2V0dGluZ3MueGhyKCkpLGYuc3VwcG9ydC5hamF4JiZmLmFqYXhUcmFuc3BvcnQoZnVuY3Rpb24oYyl7aWYoIWMuY3Jvc3NEb21haW58fGYuc3VwcG9ydC5jb3JzKXt2YXIgZDtyZXR1cm57c2VuZDpmdW5jdGlvbihlLGcpe3ZhciBoPWMueGhyKCksaSxqO2MudXNlcm5hbWU/aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jLGMudXNlcm5hbWUsYy5wYXNzd29yZCk6aC5vcGVuKGMudHlwZSxjLnVybCxjLmFzeW5jKTtpZihjLnhockZpZWxkcylmb3IoaiBpbiBjLnhockZpZWxkcyloW2pdPWMueGhyRmllbGRzW2pdO2MubWltZVR5cGUmJmgub3ZlcnJpZGVNaW1lVHlwZSYmaC5vdmVycmlkZU1pbWVUeXBlKGMubWltZVR5cGUpLCFjLmNyb3NzRG9tYWluJiYhZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdJiYoZVsiWC1SZXF1ZXN0ZWQtV2l0aCJdPSJYTUxIdHRwUmVxdWVzdCIpO3RyeXtmb3IoaiBpbiBlKWguc2V0UmVxdWVzdEhlYWRlcihqLGVbal0pfWNhdGNoKGspe31oLnNlbmQoYy5oYXNDb250ZW50JiZjLmRhdGF8fG51bGwpLGQ9ZnVuY3Rpb24oYSxlKXt2YXIgaixrLGwsbSxuO3RyeXtpZihkJiYoZXx8aC5yZWFkeVN0YXRlPT09NCkpe2Q9YixpJiYoaC5vbnJlYWR5c3RhdGVjaGFuZ2U9Zi5ub29wLGNiJiZkZWxldGUgY2RbaV0pO2lmKGUpaC5yZWFkeVN0YXRlIT09NCYmaC5hYm9ydCgpO2Vsc2V7aj1oLnN0YXR1cyxsPWguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCksbT17fSxuPWgucmVzcG9uc2VYTUwsbiYmbi5kb2N1bWVudEVsZW1lbnQmJihtLnhtbD1uKSxtLnRleHQ9aC5yZXNwb25zZVRleHQ7dHJ5e2s9aC5zdGF0dXNUZXh0fWNhdGNoKG8pe2s9IiJ9IWomJmMuaXNMb2NhbCYmIWMuY3Jvc3NEb21haW4/aj1tLnRleHQ/MjAwOjQwNDpqPT09MTIyMyYmKGo9MjA0KX19fWNhdGNoKHApe2V8fGcoLTEscCl9bSYmZyhqLGssbSxsKX0sIWMuYXN5bmN8fGgucmVhZHlTdGF0ZT09PTQ/ZCgpOihpPSsrY2MsY2ImJihjZHx8KGNkPXt9LGYoYSkudW5sb2FkKGNiKSksY2RbaV09ZCksaC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZCl9LGFib3J0OmZ1bmN0aW9uKCl7ZCYmZCgwLDEpfX19fSk7dmFyIGNnPXt9LGNoLGNpLGNqPS9eKD86dG9nZ2xlfHNob3d8aGlkZSkkLyxjaz0vXihbK1wtXT0pPyhbXGQrLlwtXSspKFthLXolXSopJC9pLGNsLGNtPVtbImhlaWdodCIsIm1hcmdpblRvcCIsIm1hcmdpbkJvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sWyJ3aWR0aCIsIm1hcmdpbkxlZnQiLCJtYXJnaW5SaWdodCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Il0sWyJvcGFjaXR5Il1dLGNuLGNvPWEud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lfHxhLm1velJlcXVlc3RBbmltYXRpb25GcmFtZXx8YS5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lO2YuZm4uZXh0ZW5kKHtzaG93OmZ1bmN0aW9uKGEsYixjKXt2YXIgZCxlO2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3IoInNob3ciLDMpLGEsYixjKTtmb3IodmFyIGc9MCxoPXRoaXMubGVuZ3RoO2c8aDtnKyspZD10aGlzW2ddLGQuc3R5bGUmJihlPWQuc3R5bGUuZGlzcGxheSwhZi5fZGF0YShkLCJvbGRkaXNwbGF5IikmJmU9PT0ibm9uZSImJihlPWQuc3R5bGUuZGlzcGxheT0iIiksZT09PSIiJiZmLmNzcyhkLCJkaXNwbGF5Iik9PT0ibm9uZSImJmYuX2RhdGEoZCwib2xkZGlzcGxheSIsY3MoZC5ub2RlTmFtZSkpKTtmb3IoZz0wO2c8aDtnKyspe2Q9dGhpc1tnXTtpZihkLnN0eWxlKXtlPWQuc3R5bGUuZGlzcGxheTtpZihlPT09IiJ8fGU9PT0ibm9uZSIpZC5zdHlsZS5kaXNwbGF5PWYuX2RhdGEoZCwib2xkZGlzcGxheSIpfHwiIn19cmV0dXJuIHRoaXN9LGhpZGU6ZnVuY3Rpb24oYSxiLGMpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoY3IoImhpZGUiLDMpLGEsYixjKTtmb3IodmFyIGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspaWYodGhpc1tkXS5zdHlsZSl7dmFyIGc9Zi5jc3ModGhpc1tkXSwiZGlzcGxheSIpO2chPT0ibm9uZSImJiFmLl9kYXRhKHRoaXNbZF0sIm9sZGRpc3BsYXkiKSYmZi5fZGF0YSh0aGlzW2RdLCJvbGRkaXNwbGF5IixnKX1mb3IoZD0wO2Q8ZTtkKyspdGhpc1tkXS5zdHlsZSYmKHRoaXNbZF0uc3R5bGUuZGlzcGxheT0ibm9uZSIpO3JldHVybiB0aGlzfSxfdG9nZ2xlOmYuZm4udG9nZ2xlLHRvZ2dsZTpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9dHlwZW9mIGE9PSJib29sZWFuIjtmLmlzRnVuY3Rpb24oYSkmJmYuaXNGdW5jdGlvbihiKT90aGlzLl90b2dnbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpOmE9PW51bGx8fGQ/dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9ZD9hOmYodGhpcykuaXMoIjpoaWRkZW4iKTtmKHRoaXMpW2I/InNob3ciOiJoaWRlIl0oKX0pOnRoaXMuYW5pbWF0ZShjcigidG9nZ2xlIiwzKSxhLGIsYyk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsYyxkKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1mLnNwZWVkKGIsYyxkKTtpZihmLmlzRW1wdHlPYmplY3QoYSkpcmV0dXJuIHRoaXMuZWFjaChlLmNvbXBsZXRlLFshMV0pO2E9Zi5leHRlbmQoe30sYSk7cmV0dXJuIHRoaXNbZS5xdWV1ZT09PSExPyJlYWNoIjoicXVldWUiXShmdW5jdGlvbigpe2UucXVldWU9PT0hMSYmZi5fbWFyayh0aGlzKTt2YXIgYj1mLmV4dGVuZCh7fSxlKSxjPXRoaXMubm9kZVR5cGU9PT0xLGQ9YyYmZih0aGlzKS5pcygiOmhpZGRlbiIpLGcsaCxpLGosayxsLG0sbixvO2IuYW5pbWF0ZWRQcm9wZXJ0aWVzPXt9O2ZvcihpIGluIGEpe2c9Zi5jYW1lbENhc2UoaSksaSE9PWcmJihhW2ddPWFbaV0sZGVsZXRlIGFbaV0pLGg9YVtnXSxmLmlzQXJyYXkoaCk/KGIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWhbMV0saD1hW2ddPWhbMF0pOmIuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddPWIuc3BlY2lhbEVhc2luZyYmYi5zcGVjaWFsRWFzaW5nW2ddfHxiLmVhc2luZ3x8InN3aW5nIjtpZihoPT09ImhpZGUiJiZkfHxoPT09InNob3ciJiYhZClyZXR1cm4gYi5jb21wbGV0ZS5jYWxsKHRoaXMpO2MmJihnPT09ImhlaWdodCJ8fGc9PT0id2lkdGgiKSYmKGIub3ZlcmZsb3c9W3RoaXMuc3R5bGUub3ZlcmZsb3csdGhpcy5zdHlsZS5vdmVyZmxvd1gsdGhpcy5zdHlsZS5vdmVyZmxvd1ldLGYuY3NzKHRoaXMsImRpc3BsYXkiKT09PSJpbmxpbmUiJiZmLmNzcyh0aGlzLCJmbG9hdCIpPT09Im5vbmUiJiYoZi5zdXBwb3J0LmlubGluZUJsb2NrTmVlZHNMYXlvdXQ/KGo9Y3ModGhpcy5ub2RlTmFtZSksaj09PSJpbmxpbmUiP3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjoodGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiLHRoaXMuc3R5bGUuem9vbT0xKSk6dGhpcy5zdHlsZS5kaXNwbGF5PSJpbmxpbmUtYmxvY2siKSl9Yi5vdmVyZmxvdyE9bnVsbCYmKHRoaXMuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIpO2ZvcihpIGluIGEpaz1uZXcgZi5meCh0aGlzLGIsaSksaD1hW2ldLGNqLnRlc3QoaCk/a1toPT09InRvZ2dsZSI/ZD8ic2hvdyI6ImhpZGUiOmhdKCk6KGw9Y2suZXhlYyhoKSxtPWsuY3VyKCksbD8obj1wYXJzZUZsb2F0KGxbMl0pLG89bFszXXx8KGYuY3NzTnVtYmVyW2ldPyIiOiJweCIpLG8hPT0icHgiJiYoZi5zdHlsZSh0aGlzLGksKG58fDEpK28pLG09KG58fDEpL2suY3VyKCkqbSxmLnN0eWxlKHRoaXMsaSxtK28pKSxsWzFdJiYobj0obFsxXT09PSItPSI/LTE6MSkqbittKSxrLmN1c3RvbShtLG4sbykpOmsuY3VzdG9tKG0saCwiIikpO3JldHVybiEwfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXthJiZ0aGlzLnF1ZXVlKFtdKSx0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYT1mLnRpbWVycyxjPWEubGVuZ3RoO2J8fGYuX3VubWFyayghMCx0aGlzKTt3aGlsZShjLS0pYVtjXS5lbGVtPT09dGhpcyYmKGImJmFbY10oITApLGEuc3BsaWNlKGMsMSkpfSksYnx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSksZi5lYWNoKHtzbGlkZURvd246Y3IoInNob3ciLDEpLHNsaWRlVXA6Y3IoImhpZGUiLDEpLHNsaWRlVG9nZ2xlOmNyKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtmLmZuW2FdPWZ1bmN0aW9uKGEsYyxkKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsYSxjLGQpfX0pLGYuZXh0ZW5kKHtzcGVlZDpmdW5jdGlvbihhLGIsYyl7dmFyIGQ9YSYmdHlwZW9mIGE9PSJvYmplY3QiP2YuZXh0ZW5kKHt9LGEpOntjb21wbGV0ZTpjfHwhYyYmYnx8Zi5pc0Z1bmN0aW9uKGEpJiZhLGR1cmF0aW9uOmEsZWFzaW5nOmMmJmJ8fGImJiFmLmlzRnVuY3Rpb24oYikmJmJ9O2QuZHVyYXRpb249Zi5meC5vZmY/MDp0eXBlb2YgZC5kdXJhdGlvbj09Im51bWJlciI/ZC5kdXJhdGlvbjpkLmR1cmF0aW9uIGluIGYuZnguc3BlZWRzP2YuZnguc3BlZWRzW2QuZHVyYXRpb25dOmYuZnguc3BlZWRzLl9kZWZhdWx0LGQub2xkPWQuY29tcGxldGUsZC5jb21wbGV0ZT1mdW5jdGlvbihhKXtmLmlzRnVuY3Rpb24oZC5vbGQpJiZkLm9sZC5jYWxsKHRoaXMpLGQucXVldWUhPT0hMT9mLmRlcXVldWUodGhpcyk6YSE9PSExJiZmLl91bm1hcmsodGhpcyl9O3JldHVybiBkfSxlYXNpbmc6e2xpbmVhcjpmdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gYytkKmF9LHN3aW5nOmZ1bmN0aW9uKGEsYixjLGQpe3JldHVybigtTWF0aC5jb3MoYSpNYXRoLlBJKS8yKy41KSpkK2N9fSx0aW1lcnM6W10sZng6ZnVuY3Rpb24oYSxiLGMpe3RoaXMub3B0aW9ucz1iLHRoaXMuZWxlbT1hLHRoaXMucHJvcD1jLGIub3JpZz1iLm9yaWd8fHt9fX0pLGYuZngucHJvdG90eXBlPXt1cGRhdGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMuc3RlcCYmdGhpcy5vcHRpb25zLnN0ZXAuY2FsbCh0aGlzLmVsZW0sdGhpcy5ub3csdGhpcyksKGYuZnguc3RlcFt0aGlzLnByb3BdfHxmLmZ4LnN0ZXAuX2RlZmF1bHQpKHRoaXMpfSxjdXI6ZnVuY3Rpb24oKXtpZih0aGlzLmVsZW1bdGhpcy5wcm9wXSE9bnVsbCYmKCF0aGlzLmVsZW0uc3R5bGV8fHRoaXMuZWxlbS5zdHlsZVt0aGlzLnByb3BdPT1udWxsKSlyZXR1cm4gdGhpcy5lbGVtW3RoaXMucHJvcF07dmFyIGEsYj1mLmNzcyh0aGlzLmVsZW0sdGhpcy5wcm9wKTtyZXR1cm4gaXNOYU4oYT1wYXJzZUZsb2F0KGIpKT8hYnx8Yj09PSJhdXRvIj8wOmI6YX0sY3VzdG9tOmZ1bmN0aW9uKGEsYixjKXtmdW5jdGlvbiBoKGEpe3JldHVybiBkLnN0ZXAoYSl9dmFyIGQ9dGhpcyxlPWYuZngsZzt0aGlzLnN0YXJ0VGltZT1jbnx8Y3AoKSx0aGlzLnN0YXJ0PWEsdGhpcy5lbmQ9Yix0aGlzLnVuaXQ9Y3x8dGhpcy51bml0fHwoZi5jc3NOdW1iZXJbdGhpcy5wcm9wXT8iIjoicHgiKSx0aGlzLm5vdz10aGlzLnN0YXJ0LHRoaXMucG9zPXRoaXMuc3RhdGU9MCxoLmVsZW09dGhpcy5lbGVtLGgoKSYmZi50aW1lcnMucHVzaChoKSYmIWNsJiYoY28/KGNsPSEwLGc9ZnVuY3Rpb24oKXtjbCYmKGNvKGcpLGUudGljaygpKX0sY28oZykpOmNsPXNldEludGVydmFsKGUudGljayxlLmludGVydmFsKSl9LHNob3c6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLnNob3c9ITAsdGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpLGYodGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWYuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCksdGhpcy5vcHRpb25zLmhpZGU9ITAsdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYj1jbnx8Y3AoKSxjPSEwLGQ9dGhpcy5lbGVtLGU9dGhpcy5vcHRpb25zLGcsaDtpZihhfHxiPj1lLmR1cmF0aW9uK3RoaXMuc3RhcnRUaW1lKXt0aGlzLm5vdz10aGlzLmVuZCx0aGlzLnBvcz10aGlzLnN0YXRlPTEsdGhpcy51cGRhdGUoKSxlLmFuaW1hdGVkUHJvcGVydGllc1t0aGlzLnByb3BdPSEwO2ZvcihnIGluIGUuYW5pbWF0ZWRQcm9wZXJ0aWVzKWUuYW5pbWF0ZWRQcm9wZXJ0aWVzW2ddIT09ITAmJihjPSExKTtpZihjKXtlLm92ZXJmbG93IT1udWxsJiYhZi5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3MmJmYuZWFjaChbIiIsIlgiLCJZIl0sZnVuY3Rpb24oYSxiKXtkLnN0eWxlWyJvdmVyZmxvdyIrYl09ZS5vdmVyZmxvd1thXX0pLGUuaGlkZSYmZihkKS5oaWRlKCk7aWYoZS5oaWRlfHxlLnNob3cpZm9yKHZhciBpIGluIGUuYW5pbWF0ZWRQcm9wZXJ0aWVzKWYuc3R5bGUoZCxpLGUub3JpZ1tpXSk7ZS5jb21wbGV0ZS5jYWxsKGQpfXJldHVybiExfWUuZHVyYXRpb249PUluZmluaXR5P3RoaXMubm93PWI6KGg9Yi10aGlzLnN0YXJ0VGltZSx0aGlzLnN0YXRlPWgvZS5kdXJhdGlvbix0aGlzLnBvcz1mLmVhc2luZ1tlLmFuaW1hdGVkUHJvcGVydGllc1t0aGlzLnByb3BdXSh0aGlzLnN0YXRlLGgsMCwxLGUuZHVyYXRpb24pLHRoaXMubm93PXRoaXMuc3RhcnQrKHRoaXMuZW5kLXRoaXMuc3RhcnQpKnRoaXMucG9zKSx0aGlzLnVwZGF0ZSgpO3JldHVybiEwfX0sZi5leHRlbmQoZi5meCx7dGljazpmdW5jdGlvbigpe2Zvcih2YXIgYT1mLnRpbWVycyxiPTA7YjxhLmxlbmd0aDsrK2IpYVtiXSgpfHxhLnNwbGljZShiLS0sMSk7YS5sZW5ndGh8fGYuZnguc3RvcCgpfSxpbnRlcnZhbDoxMyxzdG9wOmZ1bmN0aW9uKCl7Y2xlYXJJbnRlcnZhbChjbCksY2w9bnVsbH0sc3BlZWRzOntzbG93OjYwMCxmYXN0OjIwMCxfZGVmYXVsdDo0MDB9LHN0ZXA6e29wYWNpdHk6ZnVuY3Rpb24oYSl7Zi5zdHlsZShhLmVsZW0sIm9wYWNpdHkiLGEubm93KX0sX2RlZmF1bHQ6ZnVuY3Rpb24oYSl7YS5lbGVtLnN0eWxlJiZhLmVsZW0uc3R5bGVbYS5wcm9wXSE9bnVsbD9hLmVsZW0uc3R5bGVbYS5wcm9wXT0oYS5wcm9wPT09IndpZHRoInx8YS5wcm9wPT09ImhlaWdodCI/TWF0aC5tYXgoMCxhLm5vdyk6YS5ub3cpK2EudW5pdDphLmVsZW1bYS5wcm9wXT1hLm5vd319fSksZi5leHByJiZmLmV4cHIuZmlsdGVycyYmKGYuZXhwci5maWx0ZXJzLmFuaW1hdGVkPWZ1bmN0aW9uKGEpe3JldHVybiBmLmdyZXAoZi50aW1lcnMsZnVuY3Rpb24oYil7cmV0dXJuIGE9PT1iLmVsZW19KS5sZW5ndGh9KTt2YXIgY3Q9L150KD86YWJsZXxkfGgpJC9pLGN1PS9eKD86Ym9keXxodG1sKSQvaTsiZ2V0Qm91bmRpbmdDbGllbnRSZWN0ImluIGMuZG9jdW1lbnRFbGVtZW50P2YuZm4ub2Zmc2V0PWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXNbMF0sYztpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTt0cnl7Yz1iLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpfWNhdGNoKGQpe312YXIgZT1iLm93bmVyRG9jdW1lbnQsZz1lLmRvY3VtZW50RWxlbWVudDtpZighY3x8IWYuY29udGFpbnMoZyxiKSlyZXR1cm4gYz97dG9wOmMudG9wLGxlZnQ6Yy5sZWZ0fTp7dG9wOjAsbGVmdDowfTt2YXIgaD1lLmJvZHksaT1jdihlKSxqPWcuY2xpZW50VG9wfHxoLmNsaWVudFRvcHx8MCxrPWcuY2xpZW50TGVmdHx8aC5jbGllbnRMZWZ0fHwwLGw9aS5wYWdlWU9mZnNldHx8Zi5zdXBwb3J0LmJveE1vZGVsJiZnLnNjcm9sbFRvcHx8aC5zY3JvbGxUb3AsbT1pLnBhZ2VYT2Zmc2V0fHxmLnN1cHBvcnQuYm94TW9kZWwmJmcuc2Nyb2xsTGVmdHx8aC5zY3JvbGxMZWZ0LG49Yy50b3ArbC1qLG89Yy5sZWZ0K20taztyZXR1cm57dG9wOm4sbGVmdDpvfX06Zi5mbi5vZmZzZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtpZihhKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Zi5vZmZzZXQuc2V0T2Zmc2V0KHRoaXMsYSxiKX0pO2lmKCFifHwhYi5vd25lckRvY3VtZW50KXJldHVybiBudWxsO2lmKGI9PT1iLm93bmVyRG9jdW1lbnQuYm9keSlyZXR1cm4gZi5vZmZzZXQuYm9keU9mZnNldChiKTtmLm9mZnNldC5pbml0aWFsaXplKCk7dmFyIGMsZD1iLm9mZnNldFBhcmVudCxlPWIsZz1iLm93bmVyRG9jdW1lbnQsaD1nLmRvY3VtZW50RWxlbWVudCxpPWcuYm9keSxqPWcuZGVmYXVsdFZpZXcsaz1qP2ouZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmIuY3VycmVudFN0eWxlLGw9Yi5vZmZzZXRUb3AsbT1iLm9mZnNldExlZnQ7d2hpbGUoKGI9Yi5wYXJlbnROb2RlKSYmYiE9PWkmJmIhPT1oKXtpZihmLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiKWJyZWFrO2M9aj9qLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZSxsLT1iLnNjcm9sbFRvcCxtLT1iLnNjcm9sbExlZnQsYj09PWQmJihsKz1iLm9mZnNldFRvcCxtKz1iLm9mZnNldExlZnQsZi5vZmZzZXQuZG9lc05vdEFkZEJvcmRlciYmKCFmLm9mZnNldC5kb2VzQWRkQm9yZGVyRm9yVGFibGVBbmRDZWxsc3x8IWN0LnRlc3QoYi5ub2RlTmFtZSkpJiYobCs9cGFyc2VGbG9hdChjLmJvcmRlclRvcFdpZHRoKXx8MCxtKz1wYXJzZUZsb2F0KGMuYm9yZGVyTGVmdFdpZHRoKXx8MCksZT1kLGQ9Yi5vZmZzZXRQYXJlbnQpLGYub2Zmc2V0LnN1YnRyYWN0c0JvcmRlckZvck92ZXJmbG93Tm90VmlzaWJsZSYmYy5vdmVyZmxvdyE9PSJ2aXNpYmxlIiYmKGwrPXBhcnNlRmxvYXQoYy5ib3JkZXJUb3BXaWR0aCl8fDAsbSs9cGFyc2VGbG9hdChjLmJvcmRlckxlZnRXaWR0aCl8fDApLGs9Y31pZihrLnBvc2l0aW9uPT09InJlbGF0aXZlInx8ay5wb3NpdGlvbj09PSJzdGF0aWMiKWwrPWkub2Zmc2V0VG9wLG0rPWkub2Zmc2V0TGVmdDtmLm9mZnNldC5zdXBwb3J0c0ZpeGVkUG9zaXRpb24mJmsucG9zaXRpb249PT0iZml4ZWQiJiYobCs9TWF0aC5tYXgoaC5zY3JvbGxUb3AsaS5zY3JvbGxUb3ApLG0rPU1hdGgubWF4KGguc2Nyb2xsTGVmdCxpLnNjcm9sbExlZnQpKTtyZXR1cm57dG9wOmwsbGVmdDptfX0sZi5vZmZzZXQ9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT1jLmJvZHksYj1jLmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQsZSxnLGgsaT1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxqPSI8ZGl2IHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnPjxkaXY+PC9kaXY+PC9kaXY+PHRhYmxlIHN0eWxlPSdwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsZWZ0OjA7bWFyZ2luOjA7Ym9yZGVyOjVweCBzb2xpZCAjMDAwO3BhZGRpbmc6MDt3aWR0aDoxcHg7aGVpZ2h0OjFweDsnIGNlbGxwYWRkaW5nPScwJyBjZWxsc3BhY2luZz0nMCc+PHRyPjx0ZD48L3RkPjwvdHI+PC90YWJsZT4iO2YuZXh0ZW5kKGIuc3R5bGUse3Bvc2l0aW9uOiJhYnNvbHV0ZSIsdG9wOjAsbGVmdDowLG1hcmdpbjowLGJvcmRlcjowLHdpZHRoOiIxcHgiLGhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSksYi5pbm5lckhUTUw9aixhLmluc2VydEJlZm9yZShiLGEuZmlyc3RDaGlsZCksZD1iLmZpcnN0Q2hpbGQsZT1kLmZpcnN0Q2hpbGQsaD1kLm5leHRTaWJsaW5nLmZpcnN0Q2hpbGQuZmlyc3RDaGlsZCx0aGlzLmRvZXNOb3RBZGRCb3JkZXI9ZS5vZmZzZXRUb3AhPT01LHRoaXMuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHM9aC5vZmZzZXRUb3A9PT01LGUuc3R5bGUucG9zaXRpb249ImZpeGVkIixlLnN0eWxlLnRvcD0iMjBweCIsdGhpcy5zdXBwb3J0c0ZpeGVkUG9zaXRpb249ZS5vZmZzZXRUb3A9PT0yMHx8ZS5vZmZzZXRUb3A9PT0xNSxlLnN0eWxlLnBvc2l0aW9uPWUuc3R5bGUudG9wPSIiLGQuc3R5bGUub3ZlcmZsb3c9ImhpZGRlbiIsZC5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiLHRoaXMuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlPWUub2Zmc2V0VG9wPT09LTUsdGhpcy5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldD1hLm9mZnNldFRvcCE9PWksYS5yZW1vdmVDaGlsZChiKSxmLm9mZnNldC5pbml0aWFsaXplPWYubm9vcH0sYm9keU9mZnNldDpmdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldFRvcCxjPWEub2Zmc2V0TGVmdDtmLm9mZnNldC5pbml0aWFsaXplKCksZi5vZmZzZXQuZG9lc05vdEluY2x1ZGVNYXJnaW5JbkJvZHlPZmZzZXQmJihiKz1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpblRvcCIpKXx8MCxjKz1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDApO3JldHVybnt0b3A6YixsZWZ0OmN9fSxzZXRPZmZzZXQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPWYuY3NzKGEsInBvc2l0aW9uIik7ZD09PSJzdGF0aWMiJiYoYS5zdHlsZS5wb3NpdGlvbj0icmVsYXRpdmUiKTt2YXIgZT1mKGEpLGc9ZS5vZmZzZXQoKSxoPWYuY3NzKGEsInRvcCIpLGk9Zi5jc3MoYSwibGVmdCIpLGo9KGQ9PT0iYWJzb2x1dGUifHxkPT09ImZpeGVkIikmJmYuaW5BcnJheSgiYXV0byIsW2gsaV0pPi0xLGs9e30sbD17fSxtLG47aj8obD1lLnBvc2l0aW9uKCksbT1sLnRvcCxuPWwubGVmdCk6KG09cGFyc2VGbG9hdChoKXx8MCxuPXBhcnNlRmxvYXQoaSl8fDApLGYuaXNGdW5jdGlvbihiKSYmKGI9Yi5jYWxsKGEsYyxnKSksYi50b3AhPW51bGwmJihrLnRvcD1iLnRvcC1nLnRvcCttKSxiLmxlZnQhPW51bGwmJihrLmxlZnQ9Yi5sZWZ0LWcubGVmdCtuKSwidXNpbmciaW4gYj9iLnVzaW5nLmNhbGwoYSxrKTplLmNzcyhrKX19LGYuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXJldHVybiBudWxsO3ZhciBhPXRoaXNbMF0sYj10aGlzLm9mZnNldFBhcmVudCgpLGM9dGhpcy5vZmZzZXQoKSxkPWN1LnRlc3QoYlswXS5ub2RlTmFtZSk/e3RvcDowLGxlZnQ6MH06Yi5vZmZzZXQoKTtjLnRvcC09cGFyc2VGbG9hdChmLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDAsYy5sZWZ0LT1wYXJzZUZsb2F0KGYuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDAsZC50b3ArPXBhcnNlRmxvYXQoZi5jc3MoYlswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDAsZC5sZWZ0Kz1wYXJzZUZsb2F0KGYuY3NzKGJbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MDtyZXR1cm57dG9wOmMudG9wLWQudG9wLGxlZnQ6Yy5sZWZ0LWQubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe3ZhciBhPXRoaXMub2Zmc2V0UGFyZW50fHxjLmJvZHk7d2hpbGUoYSYmIWN1LnRlc3QoYS5ub2RlTmFtZSkmJmYuY3NzKGEsInBvc2l0aW9uIik9PT0ic3RhdGljIilhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfSl9fSksZi5lYWNoKFsiTGVmdCIsIlRvcCJdLGZ1bmN0aW9uKGEsYyl7dmFyIGQ9InNjcm9sbCIrYztmLmZuW2RdPWZ1bmN0aW9uKGMpe3ZhciBlLGc7aWYoYz09PWIpe2U9dGhpc1swXTtpZighZSlyZXR1cm4gbnVsbDtnPWN2KGUpO3JldHVybiBnPyJwYWdlWE9mZnNldCJpbiBnP2dbYT8icGFnZVlPZmZzZXQiOiJwYWdlWE9mZnNldCJdOmYuc3VwcG9ydC5ib3hNb2RlbCYmZy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnRbZF18fGcuZG9jdW1lbnQuYm9keVtkXTplW2RdfXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtnPWN2KHRoaXMpLGc/Zy5zY3JvbGxUbyhhP2YoZykuc2Nyb2xsTGVmdCgpOmMsYT9jOmYoZykuc2Nyb2xsVG9wKCkpOnRoaXNbZF09Y30pfX0pLGYuZWFjaChbIkhlaWdodCIsIldpZHRoIl0sZnVuY3Rpb24oYSxjKXt2YXIgZD1jLnRvTG93ZXJDYXNlKCk7Zi5mblsiaW5uZXIiK2NdPWZ1bmN0aW9uKCl7dmFyIGE9dGhpc1swXTtyZXR1cm4gYSYmYS5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGEsZCwicGFkZGluZyIpKTpudWxsfSxmLmZuWyJvdXRlciIrY109ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXTtyZXR1cm4gYiYmYi5zdHlsZT9wYXJzZUZsb2F0KGYuY3NzKGIsZCxhPyJtYXJnaW4iOiJib3JkZXIiKSk6bnVsbH0sZi5mbltkXT1mdW5jdGlvbihhKXt2YXIgZT10aGlzWzBdO2lmKCFlKXJldHVybiBhPT1udWxsP251bGw6dGhpcztpZihmLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgYz1mKHRoaXMpO2NbZF0oYS5jYWxsKHRoaXMsYixjW2RdKCkpKX0pO2lmKGYuaXNXaW5kb3coZSkpe3ZhciBnPWUuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiK2NdO3JldHVybiBlLmRvY3VtZW50LmNvbXBhdE1vZGU9PT0iQ1NTMUNvbXBhdCImJmd8fGUuZG9jdW1lbnQuYm9keVsiY2xpZW50IitjXXx8Z31pZihlLm5vZGVUeXBlPT09OSlyZXR1cm4gTWF0aC5tYXgoZS5kb2N1bWVudEVsZW1lbnRbImNsaWVudCIrY10sZS5ib2R5WyJzY3JvbGwiK2NdLGUuZG9jdW1lbnRFbGVtZW50WyJzY3JvbGwiK2NdLGUuYm9keVsib2Zmc2V0IitjXSxlLmRvY3VtZW50RWxlbWVudFsib2Zmc2V0IitjXSk7aWYoYT09PWIpe3ZhciBoPWYuY3NzKGUsZCksaT1wYXJzZUZsb2F0KGgpO3JldHVybiBmLmlzTmFOKGkpP2g6aX1yZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgYT09InN0cmluZyI/YTphKyJweCIpfX0pLGEualF1ZXJ5PWEuJD1mfSkod2luZG93KTsvKgogIG11c3RhY2hlLmpzIOKAlCBMb2dpYy1sZXNzIHRlbXBsYXRlcyBpbiBKYXZhU2NyaXB0CgogIFNlZSBodHRwOi8vbXVzdGFjaGUuZ2l0aHViLmNvbS8gZm9yIG1vcmUgaW5mby4KKi8KCnZhciBNdXN0YWNoZSA9IGZ1bmN0aW9uKCkgewogIHZhciBSZW5kZXJlciA9IGZ1bmN0aW9uKCkge307CgogIFJlbmRlcmVyLnByb3RvdHlwZSA9IHsKICAgIG90YWc6ICJ7eyIsCiAgICBjdGFnOiAifX0iLAogICAgcHJhZ21hczoge30sCiAgICBidWZmZXI6IFtdLAogICAgcHJhZ21hc19pbXBsZW1lbnRlZDogewogICAgICAiSU1QTElDSVQtSVRFUkFUT1IiOiB0cnVlCiAgICB9LAogICAgY29udGV4dDoge30sCgogICAgcmVuZGVyOiBmdW5jdGlvbih0ZW1wbGF0ZSwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbikgewogICAgICAvLyByZXNldCBidWZmZXIgJiBzZXQgY29udGV4dAogICAgICBpZighaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDsKICAgICAgICB0aGlzLmJ1ZmZlciA9IFtdOyAvLyBUT0RPOiBtYWtlIHRoaXMgbm9uLWxhenkKICAgICAgfQoKICAgICAgLy8gZmFpbCBmYXN0CiAgICAgIGlmKCF0aGlzLmluY2x1ZGVzKCIiLCB0ZW1wbGF0ZSkpIHsKICAgICAgICBpZihpbl9yZWN1cnNpb24pIHsKICAgICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zZW5kKHRlbXBsYXRlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHRlbXBsYXRlID0gdGhpcy5yZW5kZXJfcHJhZ21hcyh0ZW1wbGF0ZSk7CiAgICAgIHZhciBodG1sID0gdGhpcy5yZW5kZXJfc2VjdGlvbih0ZW1wbGF0ZSwgY29udGV4dCwgcGFydGlhbHMpOwogICAgICBpZihpbl9yZWN1cnNpb24pIHsKICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJfdGFncyhodG1sLCBjb250ZXh0LCBwYXJ0aWFscywgaW5fcmVjdXJzaW9uKTsKICAgICAgfQoKICAgICAgdGhpcy5yZW5kZXJfdGFncyhodG1sLCBjb250ZXh0LCBwYXJ0aWFscywgaW5fcmVjdXJzaW9uKTsKICAgIH0sCgogICAgLyoKICAgICAgU2VuZHMgcGFyc2VkIGxpbmVzCiAgICAqLwogICAgc2VuZDogZnVuY3Rpb24obGluZSkgewogICAgICBpZihsaW5lICE9ICIiKSB7CiAgICAgICAgdGhpcy5idWZmZXIucHVzaChsaW5lKTsKICAgICAgfQogICAgfSwKCiAgICAvKgogICAgICBMb29rcyBmb3IgJVBSQUdNQVMKICAgICovCiAgICByZW5kZXJfcHJhZ21hczogZnVuY3Rpb24odGVtcGxhdGUpIHsKICAgICAgLy8gbm8gcHJhZ21hcwogICAgICBpZighdGhpcy5pbmNsdWRlcygiJSIsIHRlbXBsYXRlKSkgewogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgfQoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHRoaXMub3RhZyArICIlKFtcXHctXSspID8oW1xcd10rPVtcXHddKyk/IiArCiAgICAgICAgICAgIHRoaXMuY3RhZyk7CiAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKHJlZ2V4LCBmdW5jdGlvbihtYXRjaCwgcHJhZ21hLCBvcHRpb25zKSB7CiAgICAgICAgaWYoIXRoYXQucHJhZ21hc19pbXBsZW1lbnRlZFtwcmFnbWFdKSB7CiAgICAgICAgICB0aHJvdyh7bWVzc2FnZTogCiAgICAgICAgICAgICJUaGlzIGltcGxlbWVudGF0aW9uIG9mIG11c3RhY2hlIGRvZXNuJ3QgdW5kZXJzdGFuZCB0aGUgJyIgKwogICAgICAgICAgICBwcmFnbWEgKyAiJyBwcmFnbWEifSk7CiAgICAgICAgfQogICAgICAgIHRoYXQucHJhZ21hc1twcmFnbWFdID0ge307CiAgICAgICAgaWYob3B0aW9ucykgewogICAgICAgICAgdmFyIG9wdHMgPSBvcHRpb25zLnNwbGl0KCI9Iik7CiAgICAgICAgICB0aGF0LnByYWdtYXNbcHJhZ21hXVtvcHRzWzBdXSA9IG9wdHNbMV07CiAgICAgICAgfQogICAgICAgIHJldHVybiAiIjsKICAgICAgICAvLyBpZ25vcmUgdW5rbm93biBwcmFnbWFzIHNpbGVudGx5CiAgICAgIH0pOwogICAgfSwKCiAgICAvKgogICAgICBUcmllcyB0byBmaW5kIGEgcGFydGlhbCBpbiB0aGUgY3VyZW50IHNjb3BlIGFuZCByZW5kZXIgaXQKICAgICovCiAgICByZW5kZXJfcGFydGlhbDogZnVuY3Rpb24obmFtZSwgY29udGV4dCwgcGFydGlhbHMpIHsKICAgICAgbmFtZSA9IHRoaXMudHJpbShuYW1lKTsKICAgICAgaWYoIXBhcnRpYWxzIHx8IHBhcnRpYWxzW25hbWVdID09PSB1bmRlZmluZWQpIHsKICAgICAgICB0aHJvdyh7bWVzc2FnZTogInVua25vd25fcGFydGlhbCAnIiArIG5hbWUgKyAiJyJ9KTsKICAgICAgfQogICAgICBpZih0eXBlb2YoY29udGV4dFtuYW1lXSkgIT0gIm9iamVjdCIpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXIocGFydGlhbHNbbmFtZV0sIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgfQogICAgICByZXR1cm4gdGhpcy5yZW5kZXIocGFydGlhbHNbbmFtZV0sIGNvbnRleHRbbmFtZV0sIHBhcnRpYWxzLCB0cnVlKTsKICAgIH0sCgogICAgLyoKICAgICAgUmVuZGVycyBpbnZlcnRlZCAoXikgYW5kIG5vcm1hbCAoIykgc2VjdGlvbnMKICAgICovCiAgICByZW5kZXJfc2VjdGlvbjogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKSB7CiAgICAgIGlmKCF0aGlzLmluY2x1ZGVzKCIjIiwgdGVtcGxhdGUpICYmICF0aGlzLmluY2x1ZGVzKCJeIiwgdGVtcGxhdGUpKSB7CiAgICAgICAgcmV0dXJuIHRlbXBsYXRlOwogICAgICB9CgogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIC8vIENTVyAtIEFkZGVkICIrPyIgc28gaXQgZmluZHMgdGhlIHRpZ2hlc3QgYm91bmQsIG5vdCB0aGUgd2lkZXN0CiAgICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAodGhpcy5vdGFnICsgIihcXF58XFwjKVxccyooLispXFxzKiIgKyB0aGlzLmN0YWcgKwogICAgICAgICAgICAgICJcbiooW1xcc1xcU10rPykiICsgdGhpcy5vdGFnICsgIlxcL1xccypcXDJcXHMqIiArIHRoaXMuY3RhZyArCiAgICAgICAgICAgICAgIlxccyoiLCAibWciKTsKCiAgICAgIC8vIGZvciBlYWNoIHt7I2Zvb319e3svZm9vfX0gc2VjdGlvbiBkby4uLgogICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShyZWdleCwgZnVuY3Rpb24obWF0Y2gsIHR5cGUsIG5hbWUsIGNvbnRlbnQpIHsKICAgICAgICB2YXIgdmFsdWUgPSB0aGF0LmZpbmQobmFtZSwgY29udGV4dCk7CiAgICAgICAgaWYodHlwZSA9PSAiXiIpIHsgLy8gaW52ZXJ0ZWQgc2VjdGlvbgogICAgICAgICAgaWYoIXZhbHVlIHx8IHRoYXQuaXNfYXJyYXkodmFsdWUpICYmIHZhbHVlLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICAvLyBmYWxzZSBvciBlbXB0eSBsaXN0LCByZW5kZXIgaXQKICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKGNvbnRlbnQsIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgaWYodHlwZSA9PSAiIyIpIHsgLy8gbm9ybWFsIHNlY3Rpb24KICAgICAgICAgIGlmKHRoYXQuaXNfYXJyYXkodmFsdWUpKSB7IC8vIEVudW1lcmFibGUsIExldCdzIGxvb3AhCiAgICAgICAgICAgIHJldHVybiB0aGF0Lm1hcCh2YWx1ZSwgZnVuY3Rpb24ocm93KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKGNvbnRlbnQsIHRoYXQuY3JlYXRlX2NvbnRleHQocm93KSwKICAgICAgICAgICAgICAgIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgICAgfSkuam9pbigiIik7CiAgICAgICAgICB9IGVsc2UgaWYodGhhdC5pc19vYmplY3QodmFsdWUpKSB7IC8vIE9iamVjdCwgVXNlIGl0IGFzIHN1YmNvbnRleHQhCiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCB0aGF0LmNyZWF0ZV9jb250ZXh0KHZhbHVlKSwKICAgICAgICAgICAgICBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgaWYodHlwZW9mIHZhbHVlID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgIC8vIGhpZ2hlciBvcmRlciBzZWN0aW9uCiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5jYWxsKGNvbnRleHQsIGNvbnRlbnQsIGZ1bmN0aW9uKHRleHQpIHsKICAgICAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXIodGV4dCwgY29udGV4dCwgcGFydGlhbHMsIHRydWUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZih2YWx1ZSkgeyAvLyBib29sZWFuIHNlY3Rpb24KICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKGNvbnRlbnQsIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvKgogICAgICBSZXBsYWNlIHt7Zm9vfX0gYW5kIGZyaWVuZHMgd2l0aCB2YWx1ZXMgZnJvbSBvdXIgdmlldwogICAgKi8KICAgIHJlbmRlcl90YWdzOiBmdW5jdGlvbih0ZW1wbGF0ZSwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbikgewogICAgICAvLyB0aXQgZm9yIHRhdAogICAgICB2YXIgdGhhdCA9IHRoaXM7CgogICAgICB2YXIgbmV3X3JlZ2V4ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAodGhhdC5vdGFnICsgIig9fCF8PnxcXHt8JSk/KFteXFwvI1xcXl0rPylcXDE/IiArCiAgICAgICAgICB0aGF0LmN0YWcgKyAiKyIsICJnIik7CiAgICAgIH07CgogICAgICB2YXIgcmVnZXggPSBuZXdfcmVnZXgoKTsKICAgICAgdmFyIHRhZ19yZXBsYWNlX2NhbGxiYWNrID0gZnVuY3Rpb24obWF0Y2gsIG9wZXJhdG9yLCBuYW1lKSB7CiAgICAgICAgc3dpdGNoKG9wZXJhdG9yKSB7CiAgICAgICAgY2FzZSAiISI6IC8vIGlnbm9yZSBjb21tZW50cwogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIGNhc2UgIj0iOiAvLyBzZXQgbmV3IGRlbGltaXRlcnMsIHJlYnVpbGQgdGhlIHJlcGxhY2UgcmVnZXhwCiAgICAgICAgICB0aGF0LnNldF9kZWxpbWl0ZXJzKG5hbWUpOwogICAgICAgICAgcmVnZXggPSBuZXdfcmVnZXgoKTsKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICBjYXNlICI+IjogLy8gcmVuZGVyIHBhcnRpYWwKICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcl9wYXJ0aWFsKG5hbWUsIGNvbnRleHQsIHBhcnRpYWxzKTsKICAgICAgICBjYXNlICJ7IjogLy8gdGhlIHRyaXBsZSBtdXN0YWNoZSBpcyB1bmVzY2FwZWQKICAgICAgICAgIHJldHVybiB0aGF0LmZpbmQobmFtZSwgY29udGV4dCk7CiAgICAgICAgZGVmYXVsdDogLy8gZXNjYXBlIHRoZSB2YWx1ZQogICAgICAgICAgcmV0dXJuIHRoYXQuZXNjYXBlKHRoYXQuZmluZChuYW1lLCBjb250ZXh0KSk7CiAgICAgICAgfQogICAgICB9OwogICAgICB2YXIgbGluZXMgPSB0ZW1wbGF0ZS5zcGxpdCgiXG4iKTsKICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgbGluZXNbaV0gPSBsaW5lc1tpXS5yZXBsYWNlKHJlZ2V4LCB0YWdfcmVwbGFjZV9jYWxsYmFjaywgdGhpcyk7CiAgICAgICAgaWYoIWluX3JlY3Vyc2lvbikgewogICAgICAgICAgdGhpcy5zZW5kKGxpbmVzW2ldKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIGlmKGluX3JlY3Vyc2lvbikgewogICAgICAgIHJldHVybiBsaW5lcy5qb2luKCJcbiIpOwogICAgICB9CiAgICB9LAoKICAgIHNldF9kZWxpbWl0ZXJzOiBmdW5jdGlvbihkZWxpbWl0ZXJzKSB7CiAgICAgIHZhciBkZWxzID0gZGVsaW1pdGVycy5zcGxpdCgiICIpOwogICAgICB0aGlzLm90YWcgPSB0aGlzLmVzY2FwZV9yZWdleChkZWxzWzBdKTsKICAgICAgdGhpcy5jdGFnID0gdGhpcy5lc2NhcGVfcmVnZXgoZGVsc1sxXSk7CiAgICB9LAoKICAgIGVzY2FwZV9yZWdleDogZnVuY3Rpb24odGV4dCkgewogICAgICAvLyB0aGFuayB5b3UgU2ltb24gV2lsbGlzb24KICAgICAgaWYoIWFyZ3VtZW50cy5jYWxsZWUuc1JFKSB7CiAgICAgICAgdmFyIHNwZWNpYWxzID0gWwogICAgICAgICAgJy8nLCAnLicsICcqJywgJysnLCAnPycsICd8JywKICAgICAgICAgICcoJywgJyknLCAnWycsICddJywgJ3snLCAnfScsICdcXCcKICAgICAgICBdOwogICAgICAgIGFyZ3VtZW50cy5jYWxsZWUuc1JFID0gbmV3IFJlZ0V4cCgKICAgICAgICAgICcoXFwnICsgc3BlY2lhbHMuam9pbignfFxcJykgKyAnKScsICdnJwogICAgICAgICk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShhcmd1bWVudHMuY2FsbGVlLnNSRSwgJ1xcJDEnKTsKICAgIH0sCgogICAgLyoKICAgICAgZmluZCBgbmFtZWAgaW4gY3VycmVudCBgY29udGV4dGAuIFRoYXQgaXMgZmluZCBtZSBhIHZhbHVlCiAgICAgIGZyb20gdGhlIHZpZXcgb2JqZWN0CiAgICAqLwogICAgZmluZDogZnVuY3Rpb24obmFtZSwgY29udGV4dCkgewogICAgICBuYW1lID0gdGhpcy50cmltKG5hbWUpOwoKICAgICAgLy8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyB0aHJ1dGh5IG9yIGZhbHNlIG9yIDAKICAgICAgZnVuY3Rpb24gaXNfa2luZGFfdHJ1dGh5KGJvb2wpIHsKICAgICAgICByZXR1cm4gYm9vbCA9PT0gZmFsc2UgfHwgYm9vbCA9PT0gMCB8fCBib29sOwogICAgICB9CgogICAgICB2YXIgdmFsdWU7CiAgICAgIGlmKGlzX2tpbmRhX3RydXRoeShjb250ZXh0W25hbWVdKSkgewogICAgICAgIHZhbHVlID0gY29udGV4dFtuYW1lXTsKICAgICAgfSBlbHNlIGlmKGlzX2tpbmRhX3RydXRoeSh0aGlzLmNvbnRleHRbbmFtZV0pKSB7CiAgICAgICAgdmFsdWUgPSB0aGlzLmNvbnRleHRbbmFtZV07CiAgICAgIH0KCiAgICAgIGlmKHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgIHJldHVybiB2YWx1ZS5hcHBseShjb250ZXh0KTsKICAgICAgfQogICAgICBpZih2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlOwogICAgICB9CiAgICAgIC8vIHNpbGVudGx5IGlnbm9yZSB1bmtvd24gdmFyaWFibGVzCiAgICAgIHJldHVybiAiIjsKICAgIH0sCgogICAgLy8gVXRpbGl0eSBtZXRob2RzCgogICAgLyogaW5jbHVkZXMgdGFnICovCiAgICBpbmNsdWRlczogZnVuY3Rpb24obmVlZGxlLCBoYXlzdGFjaykgewogICAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZih0aGlzLm90YWcgKyBuZWVkbGUpICE9IC0xOwogICAgfSwKCiAgICAvKgogICAgICBEb2VzIGF3YXkgd2l0aCBuYXN0eSBjaGFyYWN0ZXJzCiAgICAqLwogICAgZXNjYXBlOiBmdW5jdGlvbihzKSB7CiAgICAgIHMgPSBTdHJpbmcocyA9PT0gbnVsbCA/ICIiIDogcyk7CiAgICAgIHJldHVybiBzLnJlcGxhY2UoLyYoPyFcdys7KXxbIic8PlxcXS9nLCBmdW5jdGlvbihzKSB7CiAgICAgICAgc3dpdGNoKHMpIHsKICAgICAgICBjYXNlICImIjogcmV0dXJuICImYW1wOyI7CiAgICAgICAgY2FzZSAiXFwiOiByZXR1cm4gIlxcXFwiOwogICAgICAgIGNhc2UgJyInOiByZXR1cm4gJyZxdW90Oyc7CiAgICAgICAgY2FzZSAiJyI6IHJldHVybiAnJiMzOTsnOwogICAgICAgIGNhc2UgIjwiOiByZXR1cm4gIiZsdDsiOwogICAgICAgIGNhc2UgIj4iOiByZXR1cm4gIiZndDsiOwogICAgICAgIGRlZmF1bHQ6IHJldHVybiBzOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIC8vIGJ5IEBsYW5nYWxleCwgc3VwcG9ydCBmb3IgYXJyYXlzIG9mIHN0cmluZ3MKICAgIGNyZWF0ZV9jb250ZXh0OiBmdW5jdGlvbihfY29udGV4dCkgewogICAgICBpZih0aGlzLmlzX29iamVjdChfY29udGV4dCkpIHsKICAgICAgICByZXR1cm4gX2NvbnRleHQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIGl0ZXJhdG9yID0gIi4iOwogICAgICAgIGlmKHRoaXMucHJhZ21hc1siSU1QTElDSVQtSVRFUkFUT1IiXSkgewogICAgICAgICAgaXRlcmF0b3IgPSB0aGlzLnByYWdtYXNbIklNUExJQ0lULUlURVJBVE9SIl0uaXRlcmF0b3I7CiAgICAgICAgfQogICAgICAgIHZhciBjdHggPSB7fTsKICAgICAgICBjdHhbaXRlcmF0b3JdID0gX2NvbnRleHQ7CiAgICAgICAgcmV0dXJuIGN0eDsKICAgICAgfQogICAgfSwKCiAgICBpc19vYmplY3Q6IGZ1bmN0aW9uKGEpIHsKICAgICAgcmV0dXJuIGEgJiYgdHlwZW9mIGEgPT0gIm9iamVjdCI7CiAgICB9LAoKICAgIGlzX2FycmF5OiBmdW5jdGlvbihhKSB7CiAgICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYSkgPT09ICdbb2JqZWN0IEFycmF5XSc7CiAgICB9LAoKICAgIC8qCiAgICAgIEdldHMgcmlkIG9mIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UKICAgICovCiAgICB0cmltOiBmdW5jdGlvbihzKSB7CiAgICAgIHJldHVybiBzLnJlcGxhY2UoL15ccyp8XHMqJC9nLCAiIik7CiAgICB9LAoKICAgIC8qCiAgICAgIFdoeSwgd2h5LCB3aHk/IEJlY2F1c2UgSUUuIENyeSwgY3J5IGNyeS4KICAgICovCiAgICBtYXA6IGZ1bmN0aW9uKGFycmF5LCBmbikgewogICAgICBpZiAodHlwZW9mIGFycmF5Lm1hcCA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgcmV0dXJuIGFycmF5Lm1hcChmbik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHIgPSBbXTsKICAgICAgICB2YXIgbCA9IGFycmF5Lmxlbmd0aDsKICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgICByLnB1c2goZm4oYXJyYXlbaV0pKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHI7CiAgICAgIH0KICAgIH0KICB9OwoKICByZXR1cm4oewogICAgbmFtZTogIm11c3RhY2hlLmpzIiwKICAgIHZlcnNpb246ICIwLjMuMS1kZXYiLAoKICAgIC8qCiAgICAgIFR1cm5zIGEgdGVtcGxhdGUgYW5kIHZpZXcgaW50byBIVE1MCiAgICAqLwogICAgdG9faHRtbDogZnVuY3Rpb24odGVtcGxhdGUsIHZpZXcsIHBhcnRpYWxzLCBzZW5kX2Z1bikgewogICAgICB2YXIgcmVuZGVyZXIgPSBuZXcgUmVuZGVyZXIoKTsKICAgICAgaWYoc2VuZF9mdW4pIHsKICAgICAgICByZW5kZXJlci5zZW5kID0gc2VuZF9mdW47CiAgICAgIH0KICAgICAgcmVuZGVyZXIucmVuZGVyKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscyk7CiAgICAgIGlmKCFzZW5kX2Z1bikgewogICAgICAgIHJldHVybiByZW5kZXJlci5idWZmZXIuam9pbigiXG4iKTsKICAgICAgfQogICAgfQogIH0pOwp9KCk7Ci8vIGxpYi9oYW5kbGViYXJzL3BhcnNlci5qcwovKiBKaXNvbiBnZW5lcmF0ZWQgcGFyc2VyICovCnZhciBoYW5kbGViYXJzID0gKGZ1bmN0aW9uKCl7CnZhciBwYXJzZXIgPSB7dHJhY2U6IGZ1bmN0aW9uIHRyYWNlKCkgeyB9LAp5eToge30sCnN5bWJvbHNfOiB7ImVycm9yIjoyLCJyb290IjozLCJwcm9ncmFtIjo0LCJFT0YiOjUsInN0YXRlbWVudHMiOjYsInNpbXBsZUludmVyc2UiOjcsInN0YXRlbWVudCI6OCwib3BlbkludmVyc2UiOjksImNsb3NlQmxvY2siOjEwLCJvcGVuQmxvY2siOjExLCJtdXN0YWNoZSI6MTIsInBhcnRpYWwiOjEzLCJDT05URU5UIjoxNCwiQ09NTUVOVCI6MTUsIk9QRU5fQkxPQ0siOjE2LCJpbk11c3RhY2hlIjoxNywiQ0xPU0UiOjE4LCJPUEVOX0lOVkVSU0UiOjE5LCJPUEVOX0VOREJMT0NLIjoyMCwicGF0aCI6MjEsIk9QRU4iOjIyLCJPUEVOX1VORVNDQVBFRCI6MjMsIk9QRU5fUEFSVElBTCI6MjQsInBhcmFtcyI6MjUsImhhc2giOjI2LCJwYXJhbSI6MjcsIlNUUklORyI6MjgsImhhc2hTZWdtZW50cyI6MjksImhhc2hTZWdtZW50IjozMCwiSUQiOjMxLCJFUVVBTFMiOjMyLCJwYXRoU2VnbWVudHMiOjMzLCJTRVAiOjM0LCIkYWNjZXB0IjowLCIkZW5kIjoxfSwKdGVybWluYWxzXzogezI6ImVycm9yIiw1OiJFT0YiLDE0OiJDT05URU5UIiwxNToiQ09NTUVOVCIsMTY6Ik9QRU5fQkxPQ0siLDE4OiJDTE9TRSIsMTk6Ik9QRU5fSU5WRVJTRSIsMjA6Ik9QRU5fRU5EQkxPQ0siLDIyOiJPUEVOIiwyMzoiT1BFTl9VTkVTQ0FQRUQiLDI0OiJPUEVOX1BBUlRJQUwiLDI4OiJTVFJJTkciLDMxOiJJRCIsMzI6IkVRVUFMUyIsMzQ6IlNFUCJ9LApwcm9kdWN0aW9uc186IFswLFszLDJdLFs0LDNdLFs0LDFdLFs0LDBdLFs2LDFdLFs2LDJdLFs4LDNdLFs4LDNdLFs4LDFdLFs4LDFdLFs4LDFdLFs4LDFdLFsxMSwzXSxbOSwzXSxbMTAsM10sWzEyLDNdLFsxMiwzXSxbMTMsM10sWzEzLDRdLFs3LDJdLFsxNywzXSxbMTcsMl0sWzE3LDJdLFsxNywxXSxbMjUsMl0sWzI1LDFdLFsyNywxXSxbMjcsMV0sWzI2LDFdLFsyOSwyXSxbMjksMV0sWzMwLDNdLFszMCwzXSxbMjEsMV0sWzMzLDNdLFszMywxXV0sCnBlcmZvcm1BY3Rpb246IGZ1bmN0aW9uIGFub255bW91cyh5eXRleHQseXlsZW5nLHl5bGluZW5vLHl5LHl5c3RhdGUsJCQsXyQpIHsKCnZhciAkMCA9ICQkLmxlbmd0aCAtIDE7CnN3aXRjaCAoeXlzdGF0ZSkgewpjYXNlIDE6IHJldHVybiAkJFskMC0xXSAKYnJlYWs7CmNhc2UgMjogdGhpcy4kID0gbmV3IHl5LlByb2dyYW1Ob2RlKCQkWyQwLTJdLCAkJFskMF0pIApicmVhazsKY2FzZSAzOiB0aGlzLiQgPSBuZXcgeXkuUHJvZ3JhbU5vZGUoJCRbJDBdKSAKYnJlYWs7CmNhc2UgNDogdGhpcy4kID0gbmV3IHl5LlByb2dyYW1Ob2RlKFtdKSAKYnJlYWs7CmNhc2UgNTogdGhpcy4kID0gWyQkWyQwXV0gCmJyZWFrOwpjYXNlIDY6ICQkWyQwLTFdLnB1c2goJCRbJDBdKTsgdGhpcy4kID0gJCRbJDAtMV0gCmJyZWFrOwpjYXNlIDc6IHRoaXMuJCA9IG5ldyB5eS5JbnZlcnNlTm9kZSgkJFskMC0yXSwgJCRbJDAtMV0sICQkWyQwXSkgCmJyZWFrOwpjYXNlIDg6IHRoaXMuJCA9IG5ldyB5eS5CbG9ja05vZGUoJCRbJDAtMl0sICQkWyQwLTFdLCAkJFskMF0pIApicmVhazsKY2FzZSA5OiB0aGlzLiQgPSAkJFskMF0gCmJyZWFrOwpjYXNlIDEwOiB0aGlzLiQgPSAkJFskMF0gCmJyZWFrOwpjYXNlIDExOiB0aGlzLiQgPSBuZXcgeXkuQ29udGVudE5vZGUoJCRbJDBdKSAKYnJlYWs7CmNhc2UgMTI6IHRoaXMuJCA9IG5ldyB5eS5Db21tZW50Tm9kZSgkJFskMF0pIApicmVhazsKY2FzZSAxMzogdGhpcy4kID0gbmV3IHl5Lk11c3RhY2hlTm9kZSgkJFskMC0xXVswXSwgJCRbJDAtMV1bMV0pIApicmVhazsKY2FzZSAxNDogdGhpcy4kID0gbmV3IHl5Lk11c3RhY2hlTm9kZSgkJFskMC0xXVswXSwgJCRbJDAtMV1bMV0pIApicmVhazsKY2FzZSAxNTogdGhpcy4kID0gJCRbJDAtMV0gCmJyZWFrOwpjYXNlIDE2OiB0aGlzLiQgPSBuZXcgeXkuTXVzdGFjaGVOb2RlKCQkWyQwLTFdWzBdLCAkJFskMC0xXVsxXSkgCmJyZWFrOwpjYXNlIDE3OiB0aGlzLiQgPSBuZXcgeXkuTXVzdGFjaGVOb2RlKCQkWyQwLTFdWzBdLCAkJFskMC0xXVsxXSwgdHJ1ZSkgCmJyZWFrOwpjYXNlIDE4OiB0aGlzLiQgPSBuZXcgeXkuUGFydGlhbE5vZGUoJCRbJDAtMV0pIApicmVhazsKY2FzZSAxOTogdGhpcy4kID0gbmV3IHl5LlBhcnRpYWxOb2RlKCQkWyQwLTJdLCAkJFskMC0xXSkgCmJyZWFrOwpjYXNlIDIwOiAKYnJlYWs7CmNhc2UgMjE6IHRoaXMuJCA9IFtbJCRbJDAtMl1dLmNvbmNhdCgkJFskMC0xXSksICQkWyQwXV0gCmJyZWFrOwpjYXNlIDIyOiB0aGlzLiQgPSBbWyQkWyQwLTFdXS5jb25jYXQoJCRbJDBdKSwgbnVsbF0gCmJyZWFrOwpjYXNlIDIzOiB0aGlzLiQgPSBbWyQkWyQwLTFdXSwgJCRbJDBdXSAKYnJlYWs7CmNhc2UgMjQ6IHRoaXMuJCA9IFtbJCRbJDBdXSwgbnVsbF0gCmJyZWFrOwpjYXNlIDI1OiAkJFskMC0xXS5wdXNoKCQkWyQwXSk7IHRoaXMuJCA9ICQkWyQwLTFdOyAKYnJlYWs7CmNhc2UgMjY6IHRoaXMuJCA9IFskJFskMF1dIApicmVhazsKY2FzZSAyNzogdGhpcy4kID0gJCRbJDBdIApicmVhazsKY2FzZSAyODogdGhpcy4kID0gbmV3IHl5LlN0cmluZ05vZGUoJCRbJDBdKSAKYnJlYWs7CmNhc2UgMjk6IHRoaXMuJCA9IG5ldyB5eS5IYXNoTm9kZSgkJFskMF0pIApicmVhazsKY2FzZSAzMDogJCRbJDAtMV0ucHVzaCgkJFskMF0pOyB0aGlzLiQgPSAkJFskMC0xXSAKYnJlYWs7CmNhc2UgMzE6IHRoaXMuJCA9IFskJFskMF1dIApicmVhazsKY2FzZSAzMjogdGhpcy4kID0gWyQkWyQwLTJdLCAkJFskMF1dIApicmVhazsKY2FzZSAzMzogdGhpcy4kID0gWyQkWyQwLTJdLCBuZXcgeXkuU3RyaW5nTm9kZSgkJFskMF0pXSAKYnJlYWs7CmNhc2UgMzQ6IHRoaXMuJCA9IG5ldyB5eS5JZE5vZGUoJCRbJDBdKSAKYnJlYWs7CmNhc2UgMzU6ICQkWyQwLTJdLnB1c2goJCRbJDBdKTsgdGhpcy4kID0gJCRbJDAtMl07IApicmVhazsKY2FzZSAzNjogdGhpcy4kID0gWyQkWyQwXV0gCmJyZWFrOwp9Cn0sCnRhYmxlOiBbezM6MSw0OjIsNTpbMiw0XSw2OjMsODo0LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDExXSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezE6WzNdfSx7NTpbMSwxNl19LHs1OlsyLDNdLDc6MTcsODoxOCw5OjUsMTE6NiwxMjo3LDEzOjgsMTQ6WzEsOV0sMTU6WzEsMTBdLDE2OlsxLDEyXSwxOTpbMSwxOV0sMjA6WzIsM10sMjI6WzEsMTNdLDIzOlsxLDE0XSwyNDpbMSwxNV19LHs1OlsyLDVdLDE0OlsyLDVdLDE1OlsyLDVdLDE2OlsyLDVdLDE5OlsyLDVdLDIwOlsyLDVdLDIyOlsyLDVdLDIzOlsyLDVdLDI0OlsyLDVdfSx7NDoyMCw2OjMsODo0LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDExXSwyMDpbMiw0XSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezQ6MjEsNjozLDg6NCw5OjUsMTE6NiwxMjo3LDEzOjgsMTQ6WzEsOV0sMTU6WzEsMTBdLDE2OlsxLDEyXSwxOTpbMSwxMV0sMjA6WzIsNF0sMjI6WzEsMTNdLDIzOlsxLDE0XSwyNDpbMSwxNV19LHs1OlsyLDldLDE0OlsyLDldLDE1OlsyLDldLDE2OlsyLDldLDE5OlsyLDldLDIwOlsyLDldLDIyOlsyLDldLDIzOlsyLDldLDI0OlsyLDldfSx7NTpbMiwxMF0sMTQ6WzIsMTBdLDE1OlsyLDEwXSwxNjpbMiwxMF0sMTk6WzIsMTBdLDIwOlsyLDEwXSwyMjpbMiwxMF0sMjM6WzIsMTBdLDI0OlsyLDEwXX0sezU6WzIsMTFdLDE0OlsyLDExXSwxNTpbMiwxMV0sMTY6WzIsMTFdLDE5OlsyLDExXSwyMDpbMiwxMV0sMjI6WzIsMTFdLDIzOlsyLDExXSwyNDpbMiwxMV19LHs1OlsyLDEyXSwxNDpbMiwxMl0sMTU6WzIsMTJdLDE2OlsyLDEyXSwxOTpbMiwxMl0sMjA6WzIsMTJdLDIyOlsyLDEyXSwyMzpbMiwxMl0sMjQ6WzIsMTJdfSx7MTc6MjIsMjE6MjMsMzE6WzEsMjVdLDMzOjI0fSx7MTc6MjYsMjE6MjMsMzE6WzEsMjVdLDMzOjI0fSx7MTc6MjcsMjE6MjMsMzE6WzEsMjVdLDMzOjI0fSx7MTc6MjgsMjE6MjMsMzE6WzEsMjVdLDMzOjI0fSx7MjE6MjksMzE6WzEsMjVdLDMzOjI0fSx7MTpbMiwxXX0sezY6MzAsODo0LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDExXSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezU6WzIsNl0sMTQ6WzIsNl0sMTU6WzIsNl0sMTY6WzIsNl0sMTk6WzIsNl0sMjA6WzIsNl0sMjI6WzIsNl0sMjM6WzIsNl0sMjQ6WzIsNl19LHsxNzoyMiwxODpbMSwzMV0sMjE6MjMsMzE6WzEsMjVdLDMzOjI0fSx7MTA6MzIsMjA6WzEsMzNdfSx7MTA6MzQsMjA6WzEsMzNdfSx7MTg6WzEsMzVdfSx7MTg6WzIsMjRdLDIxOjQwLDI1OjM2LDI2OjM3LDI3OjM4LDI4OlsxLDQxXSwyOTozOSwzMDo0MiwzMTpbMSw0M10sMzM6MjR9LHsxODpbMiwzNF0sMjg6WzIsMzRdLDMxOlsyLDM0XSwzNDpbMSw0NF19LHsxODpbMiwzNl0sMjg6WzIsMzZdLDMxOlsyLDM2XSwzNDpbMiwzNl19LHsxODpbMSw0NV19LHsxODpbMSw0Nl19LHsxODpbMSw0N119LHsxODpbMSw0OF0sMjE6NDksMzE6WzEsMjVdLDMzOjI0fSx7NTpbMiwyXSw4OjE4LDk6NSwxMTo2LDEyOjcsMTM6OCwxNDpbMSw5XSwxNTpbMSwxMF0sMTY6WzEsMTJdLDE5OlsxLDExXSwyMDpbMiwyXSwyMjpbMSwxM10sMjM6WzEsMTRdLDI0OlsxLDE1XX0sezE0OlsyLDIwXSwxNTpbMiwyMF0sMTY6WzIsMjBdLDE5OlsyLDIwXSwyMjpbMiwyMF0sMjM6WzIsMjBdLDI0OlsyLDIwXX0sezU6WzIsN10sMTQ6WzIsN10sMTU6WzIsN10sMTY6WzIsN10sMTk6WzIsN10sMjA6WzIsN10sMjI6WzIsN10sMjM6WzIsN10sMjQ6WzIsN119LHsyMTo1MCwzMTpbMSwyNV0sMzM6MjR9LHs1OlsyLDhdLDE0OlsyLDhdLDE1OlsyLDhdLDE2OlsyLDhdLDE5OlsyLDhdLDIwOlsyLDhdLDIyOlsyLDhdLDIzOlsyLDhdLDI0OlsyLDhdfSx7MTQ6WzIsMTRdLDE1OlsyLDE0XSwxNjpbMiwxNF0sMTk6WzIsMTRdLDIwOlsyLDE0XSwyMjpbMiwxNF0sMjM6WzIsMTRdLDI0OlsyLDE0XX0sezE4OlsyLDIyXSwyMTo0MCwyNjo1MSwyNzo1MiwyODpbMSw0MV0sMjk6MzksMzA6NDIsMzE6WzEsNDNdLDMzOjI0fSx7MTg6WzIsMjNdfSx7MTg6WzIsMjZdLDI4OlsyLDI2XSwzMTpbMiwyNl19LHsxODpbMiwyOV0sMzA6NTMsMzE6WzEsNTRdfSx7MTg6WzIsMjddLDI4OlsyLDI3XSwzMTpbMiwyN119LHsxODpbMiwyOF0sMjg6WzIsMjhdLDMxOlsyLDI4XX0sezE4OlsyLDMxXSwzMTpbMiwzMV19LHsxODpbMiwzNl0sMjg6WzIsMzZdLDMxOlsyLDM2XSwzMjpbMSw1NV0sMzQ6WzIsMzZdfSx7MzE6WzEsNTZdfSx7MTQ6WzIsMTNdLDE1OlsyLDEzXSwxNjpbMiwxM10sMTk6WzIsMTNdLDIwOlsyLDEzXSwyMjpbMiwxM10sMjM6WzIsMTNdLDI0OlsyLDEzXX0sezU6WzIsMTZdLDE0OlsyLDE2XSwxNTpbMiwxNl0sMTY6WzIsMTZdLDE5OlsyLDE2XSwyMDpbMiwxNl0sMjI6WzIsMTZdLDIzOlsyLDE2XSwyNDpbMiwxNl19LHs1OlsyLDE3XSwxNDpbMiwxN10sMTU6WzIsMTddLDE2OlsyLDE3XSwxOTpbMiwxN10sMjA6WzIsMTddLDIyOlsyLDE3XSwyMzpbMiwxN10sMjQ6WzIsMTddfSx7NTpbMiwxOF0sMTQ6WzIsMThdLDE1OlsyLDE4XSwxNjpbMiwxOF0sMTk6WzIsMThdLDIwOlsyLDE4XSwyMjpbMiwxOF0sMjM6WzIsMThdLDI0OlsyLDE4XX0sezE4OlsxLDU3XX0sezE4OlsxLDU4XX0sezE4OlsyLDIxXX0sezE4OlsyLDI1XSwyODpbMiwyNV0sMzE6WzIsMjVdfSx7MTg6WzIsMzBdLDMxOlsyLDMwXX0sezMyOlsxLDU1XX0sezIxOjU5LDI4OlsxLDYwXSwzMTpbMSwyNV0sMzM6MjR9LHsxODpbMiwzNV0sMjg6WzIsMzVdLDMxOlsyLDM1XSwzNDpbMiwzNV19LHs1OlsyLDE5XSwxNDpbMiwxOV0sMTU6WzIsMTldLDE2OlsyLDE5XSwxOTpbMiwxOV0sMjA6WzIsMTldLDIyOlsyLDE5XSwyMzpbMiwxOV0sMjQ6WzIsMTldfSx7NTpbMiwxNV0sMTQ6WzIsMTVdLDE1OlsyLDE1XSwxNjpbMiwxNV0sMTk6WzIsMTVdLDIwOlsyLDE1XSwyMjpbMiwxNV0sMjM6WzIsMTVdLDI0OlsyLDE1XX0sezE4OlsyLDMyXSwzMTpbMiwzMl19LHsxODpbMiwzM10sMzE6WzIsMzNdfV0sCmRlZmF1bHRBY3Rpb25zOiB7MTY6WzIsMV0sMzc6WzIsMjNdLDUxOlsyLDIxXX0sCnBhcnNlRXJyb3I6IGZ1bmN0aW9uIHBhcnNlRXJyb3Ioc3RyLCBoYXNoKSB7CiAgICB0aHJvdyBuZXcgRXJyb3Ioc3RyKTsKfSwKcGFyc2U6IGZ1bmN0aW9uIHBhcnNlKGlucHV0KSB7CiAgICB2YXIgc2VsZiA9IHRoaXMsCiAgICAgICAgc3RhY2sgPSBbMF0sCiAgICAgICAgdnN0YWNrID0gW251bGxdLCAvLyBzZW1hbnRpYyB2YWx1ZSBzdGFjawogICAgICAgIGxzdGFjayA9IFtdLCAvLyBsb2NhdGlvbiBzdGFjawogICAgICAgIHRhYmxlID0gdGhpcy50YWJsZSwKICAgICAgICB5eXRleHQgPSAnJywKICAgICAgICB5eWxpbmVubyA9IDAsCiAgICAgICAgeXlsZW5nID0gMCwKICAgICAgICByZWNvdmVyaW5nID0gMCwKICAgICAgICBURVJST1IgPSAyLAogICAgICAgIEVPRiA9IDE7CgogICAgLy90aGlzLnJlZHVjdGlvbkNvdW50ID0gdGhpcy5zaGlmdENvdW50ID0gMDsKCiAgICB0aGlzLmxleGVyLnNldElucHV0KGlucHV0KTsKICAgIHRoaXMubGV4ZXIueXkgPSB0aGlzLnl5OwogICAgdGhpcy55eS5sZXhlciA9IHRoaXMubGV4ZXI7CiAgICB2YXIgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYzsKICAgIGxzdGFjay5wdXNoKHl5bG9jKTsKCiAgICBpZiAodHlwZW9mIHRoaXMueXkucGFyc2VFcnJvciA9PT0gJ2Z1bmN0aW9uJykKICAgICAgICB0aGlzLnBhcnNlRXJyb3IgPSB0aGlzLnl5LnBhcnNlRXJyb3I7CgogICAgZnVuY3Rpb24gcG9wU3RhY2sgKG4pIHsKICAgICAgICBzdGFjay5sZW5ndGggPSBzdGFjay5sZW5ndGggLSAyKm47CiAgICAgICAgdnN0YWNrLmxlbmd0aCA9IHZzdGFjay5sZW5ndGggLSBuOwogICAgICAgIGxzdGFjay5sZW5ndGggPSBsc3RhY2subGVuZ3RoIC0gbjsKICAgIH0KCiAgICBmdW5jdGlvbiBsZXgoKSB7CiAgICAgICAgdmFyIHRva2VuOwogICAgICAgIHRva2VuID0gc2VsZi5sZXhlci5sZXgoKSB8fCAxOyAvLyAkZW5kID0gMQogICAgICAgIC8vIGlmIHRva2VuIGlzbid0IGl0cyBudW1lcmljIHZhbHVlLCBjb252ZXJ0CiAgICAgICAgaWYgKHR5cGVvZiB0b2tlbiAhPT0gJ251bWJlcicpIHsKICAgICAgICAgICAgdG9rZW4gPSBzZWxmLnN5bWJvbHNfW3Rva2VuXSB8fCB0b2tlbjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHRva2VuOwogICAgfTsKCiAgICB2YXIgc3ltYm9sLCBwcmVFcnJvclN5bWJvbCwgc3RhdGUsIGFjdGlvbiwgYSwgciwgeXl2YWw9e30scCxsZW4sbmV3U3RhdGUsIGV4cGVjdGVkOwogICAgd2hpbGUgKHRydWUpIHsKICAgICAgICAvLyByZXRyZWl2ZSBzdGF0ZSBudW1iZXIgZnJvbSB0b3Agb2Ygc3RhY2sKICAgICAgICBzdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXTsKCiAgICAgICAgLy8gdXNlIGRlZmF1bHQgYWN0aW9ucyBpZiBhdmFpbGFibGUKICAgICAgICBpZiAodGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV0pIHsKICAgICAgICAgICAgYWN0aW9uID0gdGhpcy5kZWZhdWx0QWN0aW9uc1tzdGF0ZV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHN5bWJvbCA9PSBudWxsKQogICAgICAgICAgICAgICAgc3ltYm9sID0gbGV4KCk7CiAgICAgICAgICAgIC8vIHJlYWQgYWN0aW9uIGZvciBjdXJyZW50IHN0YXRlIGFuZCBmaXJzdCBpbnB1dAogICAgICAgICAgICBhY3Rpb24gPSB0YWJsZVtzdGF0ZV0gJiYgdGFibGVbc3RhdGVdW3N5bWJvbF07CiAgICAgICAgfQoKICAgICAgICAvLyBoYW5kbGUgcGFyc2UgZXJyb3IKICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3VuZGVmaW5lZCcgfHwgIWFjdGlvbi5sZW5ndGggfHwgIWFjdGlvblswXSkgewoKICAgICAgICAgICAgaWYgKCFyZWNvdmVyaW5nKSB7CiAgICAgICAgICAgICAgICAvLyBSZXBvcnQgZXJyb3IKICAgICAgICAgICAgICAgIGV4cGVjdGVkID0gW107CiAgICAgICAgICAgICAgICBmb3IgKHAgaW4gdGFibGVbc3RhdGVdKSBpZiAodGhpcy50ZXJtaW5hbHNfW3BdICYmIHAgPiAyKSB7CiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQucHVzaCgiJyIrdGhpcy50ZXJtaW5hbHNfW3BdKyInIik7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB2YXIgZXJyU3RyID0gJyc7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5sZXhlci5zaG93UG9zaXRpb24pIHsKICAgICAgICAgICAgICAgICAgICBlcnJTdHIgPSAnUGFyc2UgZXJyb3Igb24gbGluZSAnKyh5eWxpbmVubysxKSsiOlxuIit0aGlzLmxleGVyLnNob3dQb3NpdGlvbigpKydcbkV4cGVjdGluZyAnK2V4cGVjdGVkLmpvaW4oJywgJyk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIGVyclN0ciA9ICdQYXJzZSBlcnJvciBvbiBsaW5lICcrKHl5bGluZW5vKzEpKyI6IFVuZXhwZWN0ZWQgIiArCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoc3ltYm9sID09IDEgLypFT0YqLyA/ICJlbmQgb2YgaW5wdXQiIDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgiJyIrKHRoaXMudGVybWluYWxzX1tzeW1ib2xdIHx8IHN5bWJvbCkrIiciKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0aGlzLnBhcnNlRXJyb3IoZXJyU3RyLAogICAgICAgICAgICAgICAgICAgIHt0ZXh0OiB0aGlzLmxleGVyLm1hdGNoLCB0b2tlbjogdGhpcy50ZXJtaW5hbHNfW3N5bWJvbF0gfHwgc3ltYm9sLCBsaW5lOiB0aGlzLmxleGVyLnl5bGluZW5vLCBsb2M6IHl5bG9jLCBleHBlY3RlZDogZXhwZWN0ZWR9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy8ganVzdCByZWNvdmVyZWQgZnJvbSBhbm90aGVyIGVycm9yCiAgICAgICAgICAgIGlmIChyZWNvdmVyaW5nID09IDMpIHsKICAgICAgICAgICAgICAgIGlmIChzeW1ib2wgPT0gRU9GKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyclN0ciB8fCAnUGFyc2luZyBoYWx0ZWQuJyk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gZGlzY2FyZCBjdXJyZW50IGxvb2thaGVhZCBhbmQgZ3JhYiBhbm90aGVyCiAgICAgICAgICAgICAgICB5eWxlbmcgPSB0aGlzLmxleGVyLnl5bGVuZzsKICAgICAgICAgICAgICAgIHl5dGV4dCA9IHRoaXMubGV4ZXIueXl0ZXh0OwogICAgICAgICAgICAgICAgeXlsaW5lbm8gPSB0aGlzLmxleGVyLnl5bGluZW5vOwogICAgICAgICAgICAgICAgeXlsb2MgPSB0aGlzLmxleGVyLnl5bGxvYzsKICAgICAgICAgICAgICAgIHN5bWJvbCA9IGxleCgpOwogICAgICAgICAgICB9CgogICAgICAgICAgICAvLyB0cnkgdG8gcmVjb3ZlciBmcm9tIGVycm9yCiAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAvLyBjaGVjayBmb3IgZXJyb3IgcmVjb3ZlcnkgcnVsZSBpbiB0aGlzIHN0YXRlCiAgICAgICAgICAgICAgICBpZiAoKFRFUlJPUi50b1N0cmluZygpKSBpbiB0YWJsZVtzdGF0ZV0pIHsKICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVyclN0ciB8fCAnUGFyc2luZyBoYWx0ZWQuJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBwb3BTdGFjaygxKTsKICAgICAgICAgICAgICAgIHN0YXRlID0gc3RhY2tbc3RhY2subGVuZ3RoLTFdOwogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgICAgICBwcmVFcnJvclN5bWJvbCA9IHN5bWJvbDsgLy8gc2F2ZSB0aGUgbG9va2FoZWFkIHRva2VuCiAgICAgICAgICAgIHN5bWJvbCA9IFRFUlJPUjsgICAgICAgICAvLyBpbnNlcnQgZ2VuZXJpYyBlcnJvciBzeW1ib2wgYXMgbmV3IGxvb2thaGVhZAogICAgICAgICAgICBzdGF0ZSA9IHN0YWNrW3N0YWNrLmxlbmd0aC0xXTsKICAgICAgICAgICAgYWN0aW9uID0gdGFibGVbc3RhdGVdICYmIHRhYmxlW3N0YXRlXVtURVJST1JdOwogICAgICAgICAgICByZWNvdmVyaW5nID0gMzsgLy8gYWxsb3cgMyByZWFsIHN5bWJvbHMgdG8gYmUgc2hpZnRlZCBiZWZvcmUgcmVwb3J0aW5nIGEgbmV3IGVycm9yCiAgICAgICAgfQoKICAgICAgICAvLyB0aGlzIHNob3VsZG4ndCBoYXBwZW4sIHVubGVzcyByZXNvbHZlIGRlZmF1bHRzIGFyZSBvZmYKICAgICAgICBpZiAoYWN0aW9uWzBdIGluc3RhbmNlb2YgQXJyYXkgJiYgYWN0aW9uLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQYXJzZSBFcnJvcjogbXVsdGlwbGUgYWN0aW9ucyBwb3NzaWJsZSBhdCBzdGF0ZTogJytzdGF0ZSsnLCB0b2tlbjogJytzeW1ib2wpOwogICAgICAgIH0KCiAgICAgICAgc3dpdGNoIChhY3Rpb25bMF0pIHsKCiAgICAgICAgICAgIGNhc2UgMTogLy8gc2hpZnQKICAgICAgICAgICAgICAgIC8vdGhpcy5zaGlmdENvdW50Kys7CgogICAgICAgICAgICAgICAgc3RhY2sucHVzaChzeW1ib2wpOwogICAgICAgICAgICAgICAgdnN0YWNrLnB1c2godGhpcy5sZXhlci55eXRleHQpOwogICAgICAgICAgICAgICAgbHN0YWNrLnB1c2godGhpcy5sZXhlci55eWxsb2MpOwogICAgICAgICAgICAgICAgc3RhY2sucHVzaChhY3Rpb25bMV0pOyAvLyBwdXNoIHN0YXRlCiAgICAgICAgICAgICAgICBzeW1ib2wgPSBudWxsOwogICAgICAgICAgICAgICAgaWYgKCFwcmVFcnJvclN5bWJvbCkgeyAvLyBub3JtYWwgZXhlY3V0aW9uL25vIGVycm9yCiAgICAgICAgICAgICAgICAgICAgeXlsZW5nID0gdGhpcy5sZXhlci55eWxlbmc7CiAgICAgICAgICAgICAgICAgICAgeXl0ZXh0ID0gdGhpcy5sZXhlci55eXRleHQ7CiAgICAgICAgICAgICAgICAgICAgeXlsaW5lbm8gPSB0aGlzLmxleGVyLnl5bGluZW5vOwogICAgICAgICAgICAgICAgICAgIHl5bG9jID0gdGhpcy5sZXhlci55eWxsb2M7CiAgICAgICAgICAgICAgICAgICAgaWYgKHJlY292ZXJpbmcgPiAwKQogICAgICAgICAgICAgICAgICAgICAgICByZWNvdmVyaW5nLS07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBlcnJvciBqdXN0IG9jY3VycmVkLCByZXN1bWUgb2xkIGxvb2thaGVhZCBmLyBiZWZvcmUgZXJyb3IKICAgICAgICAgICAgICAgICAgICBzeW1ib2wgPSBwcmVFcnJvclN5bWJvbDsKICAgICAgICAgICAgICAgICAgICBwcmVFcnJvclN5bWJvbCA9IG51bGw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMjogLy8gcmVkdWNlCiAgICAgICAgICAgICAgICAvL3RoaXMucmVkdWN0aW9uQ291bnQrKzsKCiAgICAgICAgICAgICAgICBsZW4gPSB0aGlzLnByb2R1Y3Rpb25zX1thY3Rpb25bMV1dWzFdOwoKICAgICAgICAgICAgICAgIC8vIHBlcmZvcm0gc2VtYW50aWMgYWN0aW9uCiAgICAgICAgICAgICAgICB5eXZhbC4kID0gdnN0YWNrW3ZzdGFjay5sZW5ndGgtbGVuXTsgLy8gZGVmYXVsdCB0byAkJCA9ICQxCiAgICAgICAgICAgICAgICAvLyBkZWZhdWx0IGxvY2F0aW9uLCB1c2VzIGZpcnN0IHRva2VuIGZvciBmaXJzdHMsIGxhc3QgZm9yIGxhc3RzCiAgICAgICAgICAgICAgICB5eXZhbC5fJCA9IHsKICAgICAgICAgICAgICAgICAgICBmaXJzdF9saW5lOiBsc3RhY2tbbHN0YWNrLmxlbmd0aC0obGVufHwxKV0uZmlyc3RfbGluZSwKICAgICAgICAgICAgICAgICAgICBsYXN0X2xpbmU6IGxzdGFja1tsc3RhY2subGVuZ3RoLTFdLmxhc3RfbGluZSwKICAgICAgICAgICAgICAgICAgICBmaXJzdF9jb2x1bW46IGxzdGFja1tsc3RhY2subGVuZ3RoLShsZW58fDEpXS5maXJzdF9jb2x1bW4sCiAgICAgICAgICAgICAgICAgICAgbGFzdF9jb2x1bW46IGxzdGFja1tsc3RhY2subGVuZ3RoLTFdLmxhc3RfY29sdW1uLAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHIgPSB0aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh5eXZhbCwgeXl0ZXh0LCB5eWxlbmcsIHl5bGluZW5vLCB0aGlzLnl5LCBhY3Rpb25bMV0sIHZzdGFjaywgbHN0YWNrKTsKCiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHIgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgLy8gcG9wIG9mZiBzdGFjawogICAgICAgICAgICAgICAgaWYgKGxlbikgewogICAgICAgICAgICAgICAgICAgIHN0YWNrID0gc3RhY2suc2xpY2UoMCwtMSpsZW4qMik7CiAgICAgICAgICAgICAgICAgICAgdnN0YWNrID0gdnN0YWNrLnNsaWNlKDAsIC0xKmxlbik7CiAgICAgICAgICAgICAgICAgICAgbHN0YWNrID0gbHN0YWNrLnNsaWNlKDAsIC0xKmxlbik7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgc3RhY2sucHVzaCh0aGlzLnByb2R1Y3Rpb25zX1thY3Rpb25bMV1dWzBdKTsgICAgLy8gcHVzaCBub250ZXJtaW5hbCAocmVkdWNlKQogICAgICAgICAgICAgICAgdnN0YWNrLnB1c2goeXl2YWwuJCk7CiAgICAgICAgICAgICAgICBsc3RhY2sucHVzaCh5eXZhbC5fJCk7CiAgICAgICAgICAgICAgICAvLyBnb3RvIG5ldyBzdGF0ZSA9IHRhYmxlW1NUQVRFXVtOT05URVJNSU5BTF0KICAgICAgICAgICAgICAgIG5ld1N0YXRlID0gdGFibGVbc3RhY2tbc3RhY2subGVuZ3RoLTJdXVtzdGFja1tzdGFjay5sZW5ndGgtMV1dOwogICAgICAgICAgICAgICAgc3RhY2sucHVzaChuZXdTdGF0ZSk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgIGNhc2UgMzogLy8gYWNjZXB0CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CgogICAgfQoKICAgIHJldHVybiB0cnVlOwp9fTsvKiBKaXNvbiBnZW5lcmF0ZWQgbGV4ZXIgKi8KdmFyIGxleGVyID0gKGZ1bmN0aW9uKCl7dmFyIGxleGVyID0gKHtFT0Y6MSwKcGFyc2VFcnJvcjpmdW5jdGlvbiBwYXJzZUVycm9yKHN0ciwgaGFzaCkgewogICAgICAgIGlmICh0aGlzLnl5LnBhcnNlRXJyb3IpIHsKICAgICAgICAgICAgdGhpcy55eS5wYXJzZUVycm9yKHN0ciwgaGFzaCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHN0cik7CiAgICAgICAgfQogICAgfSwKc2V0SW5wdXQ6ZnVuY3Rpb24gKGlucHV0KSB7CiAgICAgICAgdGhpcy5faW5wdXQgPSBpbnB1dDsKICAgICAgICB0aGlzLl9tb3JlID0gdGhpcy5fbGVzcyA9IHRoaXMuZG9uZSA9IGZhbHNlOwogICAgICAgIHRoaXMueXlsaW5lbm8gPSB0aGlzLnl5bGVuZyA9IDA7CiAgICAgICAgdGhpcy55eXRleHQgPSB0aGlzLm1hdGNoZWQgPSB0aGlzLm1hdGNoID0gJyc7CiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjayA9IFsnSU5JVElBTCddOwogICAgICAgIHRoaXMueXlsbG9jID0ge2ZpcnN0X2xpbmU6MSxmaXJzdF9jb2x1bW46MCxsYXN0X2xpbmU6MSxsYXN0X2NvbHVtbjowfTsKICAgICAgICByZXR1cm4gdGhpczsKICAgIH0sCmlucHV0OmZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgY2ggPSB0aGlzLl9pbnB1dFswXTsKICAgICAgICB0aGlzLnl5dGV4dCs9Y2g7CiAgICAgICAgdGhpcy55eWxlbmcrKzsKICAgICAgICB0aGlzLm1hdGNoKz1jaDsKICAgICAgICB0aGlzLm1hdGNoZWQrPWNoOwogICAgICAgIHZhciBsaW5lcyA9IGNoLm1hdGNoKC9cbi8pOwogICAgICAgIGlmIChsaW5lcykgdGhpcy55eWxpbmVubysrOwogICAgICAgIHRoaXMuX2lucHV0ID0gdGhpcy5faW5wdXQuc2xpY2UoMSk7CiAgICAgICAgcmV0dXJuIGNoOwogICAgfSwKdW5wdXQ6ZnVuY3Rpb24gKGNoKSB7CiAgICAgICAgdGhpcy5faW5wdXQgPSBjaCArIHRoaXMuX2lucHV0OwogICAgICAgIHJldHVybiB0aGlzOwogICAgfSwKbW9yZTpmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5fbW9yZSA9IHRydWU7CiAgICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LApwYXN0SW5wdXQ6ZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBwYXN0ID0gdGhpcy5tYXRjaGVkLnN1YnN0cigwLCB0aGlzLm1hdGNoZWQubGVuZ3RoIC0gdGhpcy5tYXRjaC5sZW5ndGgpOwogICAgICAgIHJldHVybiAocGFzdC5sZW5ndGggPiAyMCA/ICcuLi4nOicnKSArIHBhc3Quc3Vic3RyKC0yMCkucmVwbGFjZSgvXG4vZywgIiIpOwogICAgfSwKdXBjb21pbmdJbnB1dDpmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIG5leHQgPSB0aGlzLm1hdGNoOwogICAgICAgIGlmIChuZXh0Lmxlbmd0aCA8IDIwKSB7CiAgICAgICAgICAgIG5leHQgKz0gdGhpcy5faW5wdXQuc3Vic3RyKDAsIDIwLW5leHQubGVuZ3RoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIChuZXh0LnN1YnN0cigwLDIwKSsobmV4dC5sZW5ndGggPiAyMCA/ICcuLi4nOicnKSkucmVwbGFjZSgvXG4vZywgIiIpOwogICAgfSwKc2hvd1Bvc2l0aW9uOmZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgcHJlID0gdGhpcy5wYXN0SW5wdXQoKTsKICAgICAgICB2YXIgYyA9IG5ldyBBcnJheShwcmUubGVuZ3RoICsgMSkuam9pbigiLSIpOwogICAgICAgIHJldHVybiBwcmUgKyB0aGlzLnVwY29taW5nSW5wdXQoKSArICJcbiIgKyBjKyJeIjsKICAgIH0sCm5leHQ6ZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmRvbmUpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuRU9GOwogICAgICAgIH0KICAgICAgICBpZiAoIXRoaXMuX2lucHV0KSB0aGlzLmRvbmUgPSB0cnVlOwoKICAgICAgICB2YXIgdG9rZW4sCiAgICAgICAgICAgIG1hdGNoLAogICAgICAgICAgICBjb2wsCiAgICAgICAgICAgIGxpbmVzOwogICAgICAgIGlmICghdGhpcy5fbW9yZSkgewogICAgICAgICAgICB0aGlzLnl5dGV4dCA9ICcnOwogICAgICAgICAgICB0aGlzLm1hdGNoID0gJyc7CiAgICAgICAgfQogICAgICAgIHZhciBydWxlcyA9IHRoaXMuX2N1cnJlbnRSdWxlcygpOwogICAgICAgIGZvciAodmFyIGk9MDtpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgbWF0Y2ggPSB0aGlzLl9pbnB1dC5tYXRjaCh0aGlzLnJ1bGVzW3J1bGVzW2ldXSk7CiAgICAgICAgICAgIGlmIChtYXRjaCkgewogICAgICAgICAgICAgICAgbGluZXMgPSBtYXRjaFswXS5tYXRjaCgvXG4uKi9nKTsKICAgICAgICAgICAgICAgIGlmIChsaW5lcykgdGhpcy55eWxpbmVubyArPSBsaW5lcy5sZW5ndGg7CiAgICAgICAgICAgICAgICB0aGlzLnl5bGxvYyA9IHtmaXJzdF9saW5lOiB0aGlzLnl5bGxvYy5sYXN0X2xpbmUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2xpbmU6IHRoaXMueXlsaW5lbm8rMSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0X2NvbHVtbjogdGhpcy55eWxsb2MubGFzdF9jb2x1bW4sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0X2NvbHVtbjogbGluZXMgPyBsaW5lc1tsaW5lcy5sZW5ndGgtMV0ubGVuZ3RoLTEgOiB0aGlzLnl5bGxvYy5sYXN0X2NvbHVtbiArIG1hdGNoLmxlbmd0aH0KICAgICAgICAgICAgICAgIHRoaXMueXl0ZXh0ICs9IG1hdGNoWzBdOwogICAgICAgICAgICAgICAgdGhpcy5tYXRjaCArPSBtYXRjaFswXTsKICAgICAgICAgICAgICAgIHRoaXMubWF0Y2hlcyA9IG1hdGNoOwogICAgICAgICAgICAgICAgdGhpcy55eWxlbmcgPSB0aGlzLnl5dGV4dC5sZW5ndGg7CiAgICAgICAgICAgICAgICB0aGlzLl9tb3JlID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLl9pbnB1dCA9IHRoaXMuX2lucHV0LnNsaWNlKG1hdGNoWzBdLmxlbmd0aCk7CiAgICAgICAgICAgICAgICB0aGlzLm1hdGNoZWQgKz0gbWF0Y2hbMF07CiAgICAgICAgICAgICAgICB0b2tlbiA9IHRoaXMucGVyZm9ybUFjdGlvbi5jYWxsKHRoaXMsIHRoaXMueXksIHRoaXMsIHJ1bGVzW2ldLHRoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV0pOwogICAgICAgICAgICAgICAgaWYgKHRva2VuKSByZXR1cm4gdG9rZW47CiAgICAgICAgICAgICAgICBlbHNlIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5faW5wdXQgPT09ICIiKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLkVPRjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnBhcnNlRXJyb3IoJ0xleGljYWwgZXJyb3Igb24gbGluZSAnKyh0aGlzLnl5bGluZW5vKzEpKycuIFVucmVjb2duaXplZCB0ZXh0LlxuJyt0aGlzLnNob3dQb3NpdGlvbigpLCAKICAgICAgICAgICAgICAgICAgICB7dGV4dDogIiIsIHRva2VuOiBudWxsLCBsaW5lOiB0aGlzLnl5bGluZW5vfSk7CiAgICAgICAgfQogICAgfSwKbGV4OmZ1bmN0aW9uIGxleCgpIHsKICAgICAgICB2YXIgciA9IHRoaXMubmV4dCgpOwogICAgICAgIGlmICh0eXBlb2YgciAhPT0gJ3VuZGVmaW5lZCcpIHsKICAgICAgICAgICAgcmV0dXJuIHI7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMubGV4KCk7CiAgICAgICAgfQogICAgfSwKYmVnaW46ZnVuY3Rpb24gYmVnaW4oY29uZGl0aW9uKSB7CiAgICAgICAgdGhpcy5jb25kaXRpb25TdGFjay5wdXNoKGNvbmRpdGlvbik7CiAgICB9LApwb3BTdGF0ZTpmdW5jdGlvbiBwb3BTdGF0ZSgpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb25TdGFjay5wb3AoKTsKICAgIH0sCl9jdXJyZW50UnVsZXM6ZnVuY3Rpb24gX2N1cnJlbnRSdWxlcygpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb25kaXRpb25zW3RoaXMuY29uZGl0aW9uU3RhY2tbdGhpcy5jb25kaXRpb25TdGFjay5sZW5ndGgtMV1dLnJ1bGVzOwogICAgfX0pOwpsZXhlci5wZXJmb3JtQWN0aW9uID0gZnVuY3Rpb24gYW5vbnltb3VzKHl5LHl5XywkYXZvaWRpbmdfbmFtZV9jb2xsaXNpb25zLFlZX1NUQVJUKSB7Cgp2YXIgWVlTVEFURT1ZWV9TVEFSVApzd2l0Y2goJGF2b2lkaW5nX25hbWVfY29sbGlzaW9ucykgewpjYXNlIDA6IHRoaXMuYmVnaW4oIm11Iik7IGlmICh5eV8ueXl0ZXh0KSByZXR1cm4gMTQ7IApicmVhazsKY2FzZSAxOiByZXR1cm4gMTQ7IApicmVhazsKY2FzZSAyOiByZXR1cm4gMjQ7IApicmVhazsKY2FzZSAzOiByZXR1cm4gMTY7IApicmVhazsKY2FzZSA0OiByZXR1cm4gMjA7IApicmVhazsKY2FzZSA1OiByZXR1cm4gMTk7IApicmVhazsKY2FzZSA2OiByZXR1cm4gMTk7IApicmVhazsKY2FzZSA3OiByZXR1cm4gMjM7IApicmVhazsKY2FzZSA4OiByZXR1cm4gMjM7IApicmVhazsKY2FzZSA5OiB5eV8ueXl0ZXh0ID0geXlfLnl5dGV4dC5zdWJzdHIoMyx5eV8ueXlsZW5nLTUpOyB0aGlzLmJlZ2luKCJJTklUSUFMIik7IHJldHVybiAxNTsgCmJyZWFrOwpjYXNlIDEwOiByZXR1cm4gMjI7IApicmVhazsKY2FzZSAxMTogcmV0dXJuIDMyOyAKYnJlYWs7CmNhc2UgMTI6IHJldHVybiAzMTsgCmJyZWFrOwpjYXNlIDEzOiByZXR1cm4gMzE7IApicmVhazsKY2FzZSAxNDogcmV0dXJuIDM0OyAKYnJlYWs7CmNhc2UgMTU6IC8qaWdub3JlIHdoaXRlc3BhY2UqLyAKYnJlYWs7CmNhc2UgMTY6IHRoaXMuYmVnaW4oIklOSVRJQUwiKTsgcmV0dXJuIDE4OyAKYnJlYWs7CmNhc2UgMTc6IHRoaXMuYmVnaW4oIklOSVRJQUwiKTsgcmV0dXJuIDE4OyAKYnJlYWs7CmNhc2UgMTg6IHl5Xy55eXRleHQgPSB5eV8ueXl0ZXh0LnN1YnN0cigxLHl5Xy55eWxlbmctMikucmVwbGFjZSgvXFwiL2csJyInKTsgcmV0dXJuIDI4OyAKYnJlYWs7CmNhc2UgMTk6IHJldHVybiAzMTsgCmJyZWFrOwpjYXNlIDIwOiByZXR1cm4gJ0lOVkFMSUQnOyAKYnJlYWs7CmNhc2UgMjE6IHJldHVybiA1OyAKYnJlYWs7Cn0KfTsKbGV4ZXIucnVsZXMgPSBbL15bXlx4MDBdKj8oPz0oXHtceykpLywvXlteXHgwMF0rLywvXlx7XHs+LywvXlx7XHsjLywvXlx7XHtcLy8sL15ce1x7XF4vLC9eXHtce1xzKmVsc2VcYi8sL15ce1x7XHsvLC9eXHtceyYvLC9eXHtceyEuKj9cfVx9LywvXlx7XHsvLC9ePS8sL15cLig/PVt9IF0pLywvXlwuXC4vLC9eWy8uXS8sL15ccysvLC9eXH1cfVx9LywvXlx9XH0vLC9eIihcXFsiXXxbXiJdKSoiLywvXlthLXpBLVowLTlfXSsoPz1bPX0gLy5dKS8sL14uLywvXiQvXTsKbGV4ZXIuY29uZGl0aW9ucyA9IHsibXUiOnsicnVsZXMiOlsyLDMsNCw1LDYsNyw4LDksMTAsMTEsMTIsMTMsMTQsMTUsMTYsMTcsMTgsMTksMjAsMjFdLCJpbmNsdXNpdmUiOmZhbHNlfSwiSU5JVElBTCI6eyJydWxlcyI6WzAsMSwyMV0sImluY2x1c2l2ZSI6dHJ1ZX19O3JldHVybiBsZXhlcjt9KSgpCnBhcnNlci5sZXhlciA9IGxleGVyOwpyZXR1cm4gcGFyc2VyOwp9KSgpOwppZiAodHlwZW9mIHJlcXVpcmUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJykgewpleHBvcnRzLnBhcnNlciA9IGhhbmRsZWJhcnM7CmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBoYW5kbGViYXJzLnBhcnNlLmFwcGx5KGhhbmRsZWJhcnMsIGFyZ3VtZW50cyk7IH0KZXhwb3J0cy5tYWluID0gZnVuY3Rpb24gY29tbW9uanNNYWluKGFyZ3MpIHsKICAgIGlmICghYXJnc1sxXSkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzYWdlOiAnK2FyZ3NbMF0rJyBGSUxFJyk7CiAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgdmFyIHNvdXJjZSA9IHJlcXVpcmUoJ2ZzJykucmVhZEZpbGVTeW5jKHJlcXVpcmUoJ3BhdGgnKS5qb2luKHByb2Nlc3MuY3dkKCksIGFyZ3NbMV0pLCAidXRmOCIpOwogICAgfSBlbHNlIHsKICAgICAgICB2YXIgY3dkID0gcmVxdWlyZSgiZmlsZSIpLnBhdGgocmVxdWlyZSgiZmlsZSIpLmN3ZCgpKTsKICAgICAgICB2YXIgc291cmNlID0gY3dkLmpvaW4oYXJnc1sxXSkucmVhZCh7Y2hhcnNldDogInV0Zi04In0pOwogICAgfQogICAgcmV0dXJuIGV4cG9ydHMucGFyc2VyLnBhcnNlKHNvdXJjZSk7Cn0KaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIHJlcXVpcmUubWFpbiA9PT0gbW9kdWxlKSB7CiAgZXhwb3J0cy5tYWluKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IHByb2Nlc3MuYXJndi5zbGljZSgxKSA6IHJlcXVpcmUoInN5c3RlbSIpLmFyZ3MpOwp9Cn07Ci8vIGxpYi9oYW5kbGViYXJzL2Jhc2UuanMKdmFyIEhhbmRsZWJhcnMgPSB7fTsKCkhhbmRsZWJhcnMuUGFyc2VyID0gaGFuZGxlYmFyczsKCkhhbmRsZWJhcnMucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcpIHsKICBIYW5kbGViYXJzLlBhcnNlci55eSA9IEhhbmRsZWJhcnMuQVNUOwogIHJldHVybiBIYW5kbGViYXJzLlBhcnNlci5wYXJzZShzdHJpbmcpOwp9OwoKSGFuZGxlYmFycy5wcmludCA9IGZ1bmN0aW9uKGFzdCkgewogIHJldHVybiBuZXcgSGFuZGxlYmFycy5QcmludFZpc2l0b3IoKS5hY2NlcHQoYXN0KTsKfTsKCkhhbmRsZWJhcnMuUnVudGltZSA9IHt9OwoKSGFuZGxlYmFycy5SdW50aW1lLmNvbXBpbGUgPSBmdW5jdGlvbihzdHJpbmcpIHsKICB2YXIgYXN0ID0gSGFuZGxlYmFycy5wYXJzZShzdHJpbmcpOwoKICByZXR1cm4gZnVuY3Rpb24oY29udGV4dCwgaGVscGVycywgcGFydGlhbHMpIHsKICAgIGhlbHBlcnMgID0gaGVscGVycyB8fCBIYW5kbGViYXJzLmhlbHBlcnM7CiAgICBwYXJ0aWFscyA9IHBhcnRpYWxzIHx8IEhhbmRsZWJhcnMucGFydGlhbHM7CgogICAgdmFyIGludGVybmFsQ29udGV4dCA9IG5ldyBIYW5kbGViYXJzLkNvbnRleHQoY29udGV4dCwgaGVscGVycywgcGFydGlhbHMpOwogICAgdmFyIHJ1bnRpbWUgPSBuZXcgSGFuZGxlYmFycy5SdW50aW1lKGludGVybmFsQ29udGV4dCk7CiAgICBydW50aW1lLmFjY2VwdChhc3QpOwogICAgcmV0dXJuIHJ1bnRpbWUuYnVmZmVyOwogIH07Cn07CgpIYW5kbGViYXJzLmhlbHBlcnMgID0ge307CkhhbmRsZWJhcnMucGFydGlhbHMgPSB7fTsKCkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIgPSBmdW5jdGlvbihuYW1lLCBmbiwgaW52ZXJzZSkgewogIGlmKGludmVyc2UpIHsgZm4ubm90ID0gaW52ZXJzZTsgfQogIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuOwp9OwoKSGFuZGxlYmFycy5yZWdpc3RlclBhcnRpYWwgPSBmdW5jdGlvbihuYW1lLCBzdHIpIHsKICB0aGlzLnBhcnRpYWxzW25hbWVdID0gc3RyOwp9OwoKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcignYmxvY2tIZWxwZXJNaXNzaW5nJywgZnVuY3Rpb24oY29udGV4dCwgZm4sIGludmVyc2UpIHsKICBpbnZlcnNlID0gaW52ZXJzZSB8fCBmdW5jdGlvbigpIHt9OwoKICB2YXIgcmV0ID0gIiI7CiAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoY29udGV4dCk7CgogIGlmKHR5cGUgPT09ICJbb2JqZWN0IEZ1bmN0aW9uXSIpIHsKICAgIGNvbnRleHQgPSBjb250ZXh0KCk7CiAgfQoKICBpZihjb250ZXh0ID09PSB0cnVlKSB7CiAgICByZXR1cm4gZm4odGhpcyk7CiAgfSBlbHNlIGlmKGNvbnRleHQgPT09IGZhbHNlIHx8IGNvbnRleHQgPT0gbnVsbCkgewogICAgcmV0dXJuIGludmVyc2UodGhpcyk7CiAgfSBlbHNlIGlmKHR5cGUgPT09ICJbb2JqZWN0IEFycmF5XSIpIHsKICAgIGlmKGNvbnRleHQubGVuZ3RoID4gMCkgewogICAgICBmb3IodmFyIGk9MCwgaj1jb250ZXh0Lmxlbmd0aDsgaTxqOyBpKyspIHsKICAgICAgICByZXQgPSByZXQgKyBmbihjb250ZXh0W2ldKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTsKICAgIH0KICAgIHJldHVybiByZXQ7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmbihjb250ZXh0KTsKICB9Cn0sIGZ1bmN0aW9uKGNvbnRleHQsIGZuKSB7CiAgcmV0dXJuIGZuKGNvbnRleHQpOwp9KTsKCkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ2VhY2gnLCBmdW5jdGlvbihjb250ZXh0LCBmbiwgaW52ZXJzZSkgewogIHZhciByZXQgPSAiIjsKCiAgaWYoY29udGV4dCAmJiBjb250ZXh0Lmxlbmd0aCA+IDApIHsKICAgIGZvcih2YXIgaT0wLCBqPWNvbnRleHQubGVuZ3RoOyBpPGo7IGkrKykgewogICAgICByZXQgPSByZXQgKyBmbihjb250ZXh0W2ldKTsKICAgIH0KICB9IGVsc2UgewogICAgcmV0ID0gaW52ZXJzZSh0aGlzKTsKICB9CiAgcmV0dXJuIHJldDsKfSk7CgpIYW5kbGViYXJzLnJlZ2lzdGVySGVscGVyKCdpZicsIGZ1bmN0aW9uKGNvbnRleHQsIGZuLCBpbnZlcnNlKSB7CiAgaWYoIWNvbnRleHQgfHwgY29udGV4dCA9PSBbXSkgewogICAgcmV0dXJuIGludmVyc2UodGhpcyk7CiAgfSBlbHNlIHsKICAgIHJldHVybiBmbih0aGlzKTsKICB9Cn0pOwoKSGFuZGxlYmFycy5yZWdpc3RlckhlbHBlcigndW5sZXNzJywgZnVuY3Rpb24oY29udGV4dCwgZm4sIGludmVyc2UpIHsKICByZXR1cm4gSGFuZGxlYmFycy5oZWxwZXJzWydpZiddLmNhbGwodGhpcywgY29udGV4dCwgaW52ZXJzZSwgZm4pOwp9KTsKCkhhbmRsZWJhcnMucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBmbikgewogIHJldHVybiBmbihjb250ZXh0KTsKfSk7CgpIYW5kbGViYXJzLmxvZ2dlciA9IHsKICBERUJVRzogMCwgSU5GTzogMSwgV0FSTjogMiwgRVJST1I6IDMsIGxldmVsOiAzLAoKICAvLyBvdmVycmlkZSBpbiB0aGUgaG9zdCBlbnZpcm9ubWVudAogIGxvZzogZnVuY3Rpb24obGV2ZWwsIHN0cikge30KfTsKCkhhbmRsZWJhcnMubG9nID0gZnVuY3Rpb24obGV2ZWwsIHN0cikgeyBIYW5kbGViYXJzLmxvZ2dlci5sb2cobGV2ZWwsIHN0cik7IH07CjsKLy8gbGliL2hhbmRsZWJhcnMvYXN0LmpzCihmdW5jdGlvbigpIHsKCiAgSGFuZGxlYmFycy5BU1QgPSB7fTsKCiAgSGFuZGxlYmFycy5BU1QuUHJvZ3JhbU5vZGUgPSBmdW5jdGlvbihzdGF0ZW1lbnRzLCBpbnZlcnNlKSB7CiAgICB0aGlzLnR5cGUgPSAicHJvZ3JhbSI7CiAgICB0aGlzLnN0YXRlbWVudHMgPSBzdGF0ZW1lbnRzOwogICAgaWYoaW52ZXJzZSkgeyB0aGlzLmludmVyc2UgPSBuZXcgSGFuZGxlYmFycy5BU1QuUHJvZ3JhbU5vZGUoaW52ZXJzZSk7IH0KICB9OwoKICBIYW5kbGViYXJzLkFTVC5NdXN0YWNoZU5vZGUgPSBmdW5jdGlvbihwYXJhbXMsIGhhc2gsIHVuZXNjYXBlZCkgewogICAgdGhpcy50eXBlID0gIm11c3RhY2hlIjsKICAgIHRoaXMuaWQgPSBwYXJhbXNbMF07CiAgICB0aGlzLnBhcmFtcyA9IHBhcmFtcy5zbGljZSgxKTsKICAgIHRoaXMuaGFzaCA9IGhhc2g7CiAgICB0aGlzLmVzY2FwZWQgPSAhdW5lc2NhcGVkOwogIH07CgogIEhhbmRsZWJhcnMuQVNULlBhcnRpYWxOb2RlID0gZnVuY3Rpb24oaWQsIGNvbnRleHQpIHsKICAgIHRoaXMudHlwZSAgICA9ICJwYXJ0aWFsIjsKCiAgICAvLyBUT0RPOiBkaXNhbGxvdyBjb21wbGV4IElEcwoKICAgIHRoaXMuaWQgICAgICA9IGlkOwogICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDsKICB9OwoKICB2YXIgdmVyaWZ5TWF0Y2ggPSBmdW5jdGlvbihvcGVuLCBjbG9zZSkgewogICAgaWYob3Blbi5vcmlnaW5hbCAhPT0gY2xvc2Uub3JpZ2luYWwpIHsKICAgICAgdGhyb3cgbmV3IEhhbmRsZWJhcnMuRXhjZXB0aW9uKG9wZW4ub3JpZ2luYWwgKyAiIGRvZXNuJ3QgbWF0Y2ggIiArIGNsb3NlLm9yaWdpbmFsKTsKICAgIH0KICB9OwoKICBIYW5kbGViYXJzLkFTVC5CbG9ja05vZGUgPSBmdW5jdGlvbihtdXN0YWNoZSwgcHJvZ3JhbSwgY2xvc2UpIHsKICAgIHZlcmlmeU1hdGNoKG11c3RhY2hlLmlkLCBjbG9zZSk7CiAgICB0aGlzLnR5cGUgPSAiYmxvY2siOwogICAgdGhpcy5tdXN0YWNoZSA9IG11c3RhY2hlOwogICAgdGhpcy5wcm9ncmFtICA9IHByb2dyYW07CiAgfTsKCiAgSGFuZGxlYmFycy5BU1QuSW52ZXJzZU5vZGUgPSBmdW5jdGlvbihtdXN0YWNoZSwgcHJvZ3JhbSwgY2xvc2UpIHsKICAgIHZlcmlmeU1hdGNoKG11c3RhY2hlLmlkLCBjbG9zZSk7CiAgICB0aGlzLnR5cGUgPSAiaW52ZXJzZSI7CiAgICB0aGlzLm11c3RhY2hlID0gbXVzdGFjaGU7CiAgICB0aGlzLnByb2dyYW0gID0gcHJvZ3JhbTsKICB9OwoKICBIYW5kbGViYXJzLkFTVC5Db250ZW50Tm9kZSA9IGZ1bmN0aW9uKHN0cmluZykgewogICAgdGhpcy50eXBlID0gImNvbnRlbnQiOwogICAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7CiAgfTsKCiAgSGFuZGxlYmFycy5BU1QuSGFzaE5vZGUgPSBmdW5jdGlvbihwYWlycykgewogICAgdGhpcy50eXBlID0gImhhc2giOwogICAgdGhpcy5wYWlycyA9IHBhaXJzOwogIH07CgogIEhhbmRsZWJhcnMuQVNULklkTm9kZSA9IGZ1bmN0aW9uKHBhcnRzKSB7CiAgICB0aGlzLnR5cGUgPSAiSUQiOwogICAgdGhpcy5vcmlnaW5hbCA9IHBhcnRzLmpvaW4oIi8iKTsKCiAgICB2YXIgZGlnID0gW10sIGRlcHRoID0gMDsKCiAgICBmb3IodmFyIGk9MCxsPXBhcnRzLmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTsKCiAgICAgIGlmKHBhcnQgPT09ICIuLiIpIHsgZGVwdGgrKzsgfQogICAgICBlbHNlIGlmKHBhcnQgPT09ICIuIiB8fCBwYXJ0ID09PSAidGhpcyIpIHsgY29udGludWU7IH0KICAgICAgZWxzZSB7IGRpZy5wdXNoKHBhcnQpOyB9CiAgICB9CgogICAgdGhpcy5wYXJ0cyAgICA9IGRpZzsKICAgIHRoaXMuZGVwdGggICAgPSBkZXB0aDsKICAgIHRoaXMuaXNTaW1wbGUgPSAoZGlnLmxlbmd0aCA9PT0gMSkgJiYgKGRlcHRoID09PSAwKTsKICB9OwoKICBIYW5kbGViYXJzLkFTVC5TdHJpbmdOb2RlID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgICB0aGlzLnR5cGUgPSAiU1RSSU5HIjsKICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nOwogIH07CgogIEhhbmRsZWJhcnMuQVNULkNvbW1lbnROb2RlID0gZnVuY3Rpb24oY29tbWVudCkgewogICAgdGhpcy50eXBlID0gImNvbW1lbnQiOwogICAgdGhpcy5jb21tZW50ID0gY29tbWVudDsKICB9OwoKfSkoKTs7Ci8vIGxpYi9oYW5kbGViYXJzL3Zpc2l0b3IuanMKCkhhbmRsZWJhcnMuVmlzaXRvciA9IGZ1bmN0aW9uKCkge307CgpIYW5kbGViYXJzLlZpc2l0b3IucHJvdG90eXBlID0gewogIGFjY2VwdDogZnVuY3Rpb24ob2JqZWN0KSB7CiAgICByZXR1cm4gdGhpc1tvYmplY3QudHlwZV0ob2JqZWN0KTsKICB9Cn07OwovLyBsaWIvaGFuZGxlYmFycy91dGlscy5qcwpIYW5kbGViYXJzLkV4Y2VwdGlvbiA9IGZ1bmN0aW9uKG1lc3NhZ2UpIHsKICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlOwp9OwoKLy8gQnVpbGQgb3V0IG91ciBiYXNpYyBTYWZlU3RyaW5nIHR5cGUKSGFuZGxlYmFycy5TYWZlU3RyaW5nID0gZnVuY3Rpb24oc3RyaW5nKSB7CiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7Cn07CkhhbmRsZWJhcnMuU2FmZVN0cmluZy5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gdGhpcy5zdHJpbmcudG9TdHJpbmcoKTsKfTsKCihmdW5jdGlvbigpIHsKICB2YXIgZXNjYXBlID0gewogICAgIjwiOiAiJmx0OyIsCiAgICAiPiI6ICImZ3Q7IgogIH07CgogIHZhciBiYWRDaGFycyA9IC8mKD8hXHcrOyl8Wzw+XS9nOwogIHZhciBwb3NzaWJsZSA9IC9bJjw+XS8KCiAgdmFyIGVzY2FwZUNoYXIgPSBmdW5jdGlvbihjaHIpIHsKICAgIHJldHVybiBlc2NhcGVbY2hyXSB8fCAiJmFtcDsiCiAgfTsKCiAgSGFuZGxlYmFycy5VdGlscyA9IHsKICAgIGVzY2FwZUV4cHJlc3Npb246IGZ1bmN0aW9uKHN0cmluZykgewogICAgICAvLyBkb24ndCBlc2NhcGUgU2FmZVN0cmluZ3MsIHNpbmNlIHRoZXkncmUgYWxyZWFkeSBzYWZlCiAgICAgIGlmIChzdHJpbmcgaW5zdGFuY2VvZiBIYW5kbGViYXJzLlNhZmVTdHJpbmcpIHsKICAgICAgICByZXR1cm4gc3RyaW5nLnRvU3RyaW5nKCk7CiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nID09IG51bGwgfHwgc3RyaW5nID09PSBmYWxzZSkgewogICAgICAgIHJldHVybiAiIjsKICAgICAgfQoKICAgICAgaWYoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9CiAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7CiAgICB9LAoKICAgIGlzRW1wdHk6IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIGlmKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICJbb2JqZWN0IEFycmF5XSIgJiYgdmFsdWUubGVuZ3RoID09PSAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgfTsKfSkoKTs7Ci8vIGxpYi9oYW5kbGViYXJzL3ZtLmpzCkhhbmRsZWJhcnMuQ29tcGlsZXIgPSBmdW5jdGlvbigpIHt9OwpIYW5kbGViYXJzLkphdmFTY3JpcHRDb21waWxlciA9IGZ1bmN0aW9uKCkge307CgooZnVuY3Rpb24oQ29tcGlsZXIsIEphdmFTY3JpcHRDb21waWxlcikgewogIENvbXBpbGVyLk9QQ09ERV9NQVAgPSB7CiAgICBhcHBlbmRDb250ZW50OiAxLAogICAgZ2V0Q29udGV4dDogMiwKICAgIGxvb2t1cFdpdGhIZWxwZXJzOiAzLAogICAgbG9va3VwOiA0LAogICAgYXBwZW5kOiA1LAogICAgaW52b2tlTXVzdGFjaGU6IDYsCiAgICBhcHBlbmRFc2NhcGVkOiA3LAogICAgcHVzaFN0cmluZzogOCwKICAgIHRydXRoeU9yRmFsbGJhY2s6IDksCiAgICBmdW5jdGlvbk9yRmFsbGJhY2s6IDEwLAogICAgaW52b2tlUHJvZ3JhbTogMTEsCiAgICBpbnZva2VQYXJ0aWFsOiAxMiwKICAgIHB1c2g6IDEzLAogICAgaW52b2tlSW52ZXJzZTogMTQsCiAgICBhc3NpZ25Ub0hhc2g6IDE1CiAgfTsKCiAgQ29tcGlsZXIuTVVMVElfUEFSQU1fT1BDT0RFUyA9IHsKICAgIGFwcGVuZENvbnRlbnQ6IDEsCiAgICBnZXRDb250ZXh0OiAxLAogICAgbG9va3VwV2l0aEhlbHBlcnM6IDEsCiAgICBsb29rdXA6IDEsCiAgICBpbnZva2VNdXN0YWNoZTogMiwKICAgIHB1c2hTdHJpbmc6IDEsCiAgICB0cnV0aHlPckZhbGxiYWNrOiAxLAogICAgZnVuY3Rpb25PckZhbGxiYWNrOiAxLAogICAgaW52b2tlUHJvZ3JhbTogMiwKICAgIGludm9rZVBhcnRpYWw6IDEsCiAgICBwdXNoOiAxLAogICAgaW52b2tlSW52ZXJzZTogMSwKICAgIGFzc2lnblRvSGFzaDogMQogIH07CgogIENvbXBpbGVyLkRJU0FTU0VNQkxFX01BUCA9IHt9OwoKICBmb3IodmFyIHByb3AgaW4gQ29tcGlsZXIuT1BDT0RFX01BUCkgewogICAgdmFyIHZhbHVlID0gQ29tcGlsZXIuT1BDT0RFX01BUFtwcm9wXTsKICAgIENvbXBpbGVyLkRJU0FTU0VNQkxFX01BUFt2YWx1ZV0gPSBwcm9wOwogIH0KCiAgQ29tcGlsZXIubXVsdGlQYXJhbVNpemUgPSBmdW5jdGlvbihjb2RlKSB7CiAgICByZXR1cm4gQ29tcGlsZXIuTVVMVElfUEFSQU1fT1BDT0RFU1tDb21waWxlci5ESVNBU1NFTUJMRV9NQVBbY29kZV1dOwogIH07CgogIENvbXBpbGVyLnByb3RvdHlwZSA9IHsKICAgIGRpc2Fzc2VtYmxlOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIG9wY29kZXMgPSB0aGlzLm9wY29kZXMsIG9wY29kZSwgbmV4dENvZGU7CiAgICAgIHZhciBvdXQgPSBbXSwgc3RyLCBuYW1lLCB2YWx1ZTsKCiAgICAgIGZvcih2YXIgaT0wLCBsPW9wY29kZXMubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIG9wY29kZSA9IG9wY29kZXNbaV07CgogICAgICAgIGlmKG9wY29kZSA9PT0gJ0RFQ0xBUkUnKSB7CiAgICAgICAgICBuYW1lID0gb3Bjb2Rlc1srK2ldOwogICAgICAgICAgdmFsdWUgPSBvcGNvZGVzWysraV07CiAgICAgICAgICBvdXQucHVzaCgiREVDTEFSRSAiICsgbmFtZSArICIgPSAiICsgdmFsdWUpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdHIgPSBDb21waWxlci5ESVNBU1NFTUJMRV9NQVBbb3Bjb2RlXTsKCiAgICAgICAgICB2YXIgZXh0cmFQYXJhbXMgPSBDb21waWxlci5tdWx0aVBhcmFtU2l6ZShvcGNvZGUpOwogICAgICAgICAgdmFyIGNvZGVzID0gW107CgogICAgICAgICAgZm9yKHZhciBqPTA7IGo8ZXh0cmFQYXJhbXM7IGorKykgewogICAgICAgICAgICBuZXh0Q29kZSA9IG9wY29kZXNbKytpXTsKCiAgICAgICAgICAgIGlmKHR5cGVvZiBuZXh0Q29kZSA9PT0gInN0cmluZyIpIHsKICAgICAgICAgICAgICBuZXh0Q29kZSA9ICJcIiIgKyBuZXh0Q29kZS5yZXBsYWNlKCJcbiIsICJcXG4iKSArICJcIiI7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGNvZGVzLnB1c2gobmV4dENvZGUpOwogICAgICAgICAgfQoKICAgICAgICAgIHN0ciA9IHN0ciArICIgIiArIGNvZGVzLmpvaW4oIiAiKTsKCiAgICAgICAgICBvdXQucHVzaChzdHIpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIG91dC5qb2luKCJcbiIpOwogICAgfSwKCiAgICBndWlkOiAwLAoKICAgIGNvbXBpbGU6IGZ1bmN0aW9uKHByb2dyYW0pIHsKICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdOwogICAgICB0aGlzLmRlcHRocyA9IHtsaXN0OiBbXX07CiAgICAgIHJldHVybiB0aGlzLnByb2dyYW0ocHJvZ3JhbSk7CiAgICB9LAoKICAgIGFjY2VwdDogZnVuY3Rpb24obm9kZSkgewogICAgICByZXR1cm4gdGhpc1tub2RlLnR5cGVdKG5vZGUpOwogICAgfSwKCiAgICBwcm9ncmFtOiBmdW5jdGlvbihwcm9ncmFtKSB7CiAgICAgIHZhciBzdGF0ZW1lbnRzID0gcHJvZ3JhbS5zdGF0ZW1lbnRzLCBzdGF0ZW1lbnQ7CiAgICAgIHRoaXMub3Bjb2RlcyA9IFtdOwoKICAgICAgZm9yKHZhciBpPTAsIGw9c3RhdGVtZW50cy5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgc3RhdGVtZW50ID0gc3RhdGVtZW50c1tpXTsKICAgICAgICB0aGlzW3N0YXRlbWVudC50eXBlXShzdGF0ZW1lbnQpOwogICAgICB9CgogICAgICB0aGlzLmRlcHRocy5saXN0ID0gdGhpcy5kZXB0aHMubGlzdC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsKICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgIH0pOwoKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9LAoKICAgIGNvbXBpbGVQcm9ncmFtOiBmdW5jdGlvbihwcm9ncmFtKSB7CiAgICAgIHZhciByZXN1bHQgPSBuZXcgQ29tcGlsZXIoKS5jb21waWxlKHByb2dyYW0pOwogICAgICB2YXIgZ3VpZCA9IHRoaXMuZ3VpZCsrOwoKICAgICAgdGhpcy51c2VQYXJ0aWFsID0gdGhpcy51c2VQYXJ0aWFsIHx8IHJlc3VsdC51c2VQYXJ0aWFsOwoKICAgICAgdGhpcy5jaGlsZHJlbltndWlkXSA9IHJlc3VsdDsKCiAgICAgIGZvcih2YXIgaT0wLCBsPXJlc3VsdC5kZXB0aHMubGlzdC5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgZGVwdGggPSByZXN1bHQuZGVwdGhzLmxpc3RbaV07CgogICAgICAgIGlmKGRlcHRoIDwgMikgeyBjb250aW51ZTsgfQogICAgICAgIGVsc2UgeyB0aGlzLmFkZERlcHRoKGRlcHRoIC0gMSk7IH0KICAgICAgfQoKICAgICAgcmV0dXJuIGd1aWQ7CiAgICB9LAoKICAgIGJsb2NrOiBmdW5jdGlvbihibG9jaykgewogICAgICB2YXIgbXVzdGFjaGUgPSBibG9jay5tdXN0YWNoZTsKICAgICAgdmFyIGRlcHRoLCBjaGlsZCwgaW52ZXJzZSwgaW52ZXJzZUd1aWQ7CgogICAgICB2YXIgcGFyYW1zID0gdGhpcy5zZXR1cFN0YWNrRm9yTXVzdGFjaGUobXVzdGFjaGUpOwoKICAgICAgdmFyIHByb2dyYW1HdWlkID0gdGhpcy5jb21waWxlUHJvZ3JhbShibG9jay5wcm9ncmFtKTsKCiAgICAgIGlmKGJsb2NrLnByb2dyYW0uaW52ZXJzZSkgewogICAgICAgIGludmVyc2VHdWlkID0gdGhpcy5jb21waWxlUHJvZ3JhbShibG9jay5wcm9ncmFtLmludmVyc2UpOwogICAgICAgIHRoaXMuZGVjbGFyZSgnaW52ZXJzZScsIGludmVyc2VHdWlkKTsKICAgICAgfQoKICAgICAgdGhpcy5vcGNvZGUoJ2ludm9rZVByb2dyYW0nLCBwcm9ncmFtR3VpZCwgcGFyYW1zLmxlbmd0aCk7CiAgICAgIHRoaXMuZGVjbGFyZSgnaW52ZXJzZScsIG51bGwpOwogICAgICB0aGlzLm9wY29kZSgnYXBwZW5kJyk7CiAgICB9LAoKICAgIGludmVyc2U6IGZ1bmN0aW9uKGJsb2NrKSB7CiAgICAgIHRoaXMuSUQoYmxvY2subXVzdGFjaGUuaWQpOwogICAgICB2YXIgcHJvZ3JhbUd1aWQgPSB0aGlzLmNvbXBpbGVQcm9ncmFtKGJsb2NrLnByb2dyYW0pOwoKICAgICAgdGhpcy5vcGNvZGUoJ2ludm9rZUludmVyc2UnLCBwcm9ncmFtR3VpZCk7CiAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTsKICAgIH0sCgogICAgaGFzaDogZnVuY3Rpb24oaGFzaCkgewogICAgICB2YXIgcGFpcnMgPSBoYXNoLnBhaXJzLCBwYWlyLCB2YWw7CgogICAgICB0aGlzLm9wY29kZSgncHVzaCcsICd7fScpOwoKICAgICAgZm9yKHZhciBpPTAsIGw9cGFpcnMubGVuZ3RoOyBpPGw7IGkrKykgewogICAgICAgIHBhaXIgPSBwYWlyc1tpXTsKICAgICAgICB2YWwgID0gcGFpclsxXTsKCiAgICAgICAgdGhpcy5hY2NlcHQodmFsKTsKICAgICAgICB0aGlzLm9wY29kZSgnYXNzaWduVG9IYXNoJywgcGFpclswXSk7CiAgICAgIH0KICAgIH0sCgogICAgcGFydGlhbDogZnVuY3Rpb24ocGFydGlhbCkgewogICAgICB2YXIgaWQgPSBwYXJ0aWFsLmlkOwogICAgICB0aGlzLnVzZVBhcnRpYWwgPSB0cnVlOwoKICAgICAgaWYocGFydGlhbC5jb250ZXh0KSB7CiAgICAgICAgdGhpcy5JRChwYXJ0aWFsLmNvbnRleHQpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMub3Bjb2RlKCdwdXNoJywgJ2NvbnRleHQnKTsKICAgICAgfQoKICAgICAgdGhpcy5vcGNvZGUoJ2ludm9rZVBhcnRpYWwnLCBpZC5vcmlnaW5hbCk7CiAgICAgIHRoaXMub3Bjb2RlKCdhcHBlbmQnKTsKICAgIH0sCgogICAgY29udGVudDogZnVuY3Rpb24oY29udGVudCkgewogICAgICB0aGlzLm9wY29kZSgnYXBwZW5kQ29udGVudCcsIGNvbnRlbnQuc3RyaW5nKTsKICAgIH0sCgogICAgbXVzdGFjaGU6IGZ1bmN0aW9uKG11c3RhY2hlKSB7CiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLnNldHVwU3RhY2tGb3JNdXN0YWNoZShtdXN0YWNoZSk7CgogICAgICB0aGlzLm9wY29kZSgnaW52b2tlTXVzdGFjaGUnLCBwYXJhbXMubGVuZ3RoLCBtdXN0YWNoZS5pZC5vcmlnaW5hbCk7CgogICAgICBpZihtdXN0YWNoZS5lc2NhcGVkKSB7CiAgICAgICAgdGhpcy5vcGNvZGUoJ2FwcGVuZEVzY2FwZWQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm9wY29kZSgnYXBwZW5kJyk7CiAgICAgIH0KICAgIH0sCgogICAgSUQ6IGZ1bmN0aW9uKGlkKSB7CiAgICAgIHRoaXMuYWRkRGVwdGgoaWQuZGVwdGgpOwoKICAgICAgdGhpcy5vcGNvZGUoJ2dldENvbnRleHQnLCBpZC5kZXB0aCk7CgogICAgICB0aGlzLm9wY29kZSgnbG9va3VwV2l0aEhlbHBlcnMnLCBpZC5wYXJ0c1swXSB8fCBudWxsKTsKCiAgICAgIGZvcih2YXIgaT0xLCBsPWlkLnBhcnRzLmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICB0aGlzLm9wY29kZSgnbG9va3VwJywgaWQucGFydHNbaV0pOwogICAgICB9CiAgICB9LAoKICAgIFNUUklORzogZnVuY3Rpb24oc3RyaW5nKSB7CiAgICAgIHRoaXMub3Bjb2RlKCdwdXNoU3RyaW5nJywgc3RyaW5nLnN0cmluZyk7CiAgICB9LAoKICAgIGNvbW1lbnQ6IGZ1bmN0aW9uKCkge30sCgogICAgLy8gSEVMUEVSUwogICAgcHVzaFBhcmFtczogZnVuY3Rpb24ocGFyYW1zKSB7CiAgICAgIHZhciBpID0gcGFyYW1zLmxlbmd0aCwgcGFyYW07CgogICAgICB3aGlsZShpLS0pIHsKICAgICAgICBwYXJhbSA9IHBhcmFtc1tpXTsKICAgICAgICB0aGlzW3BhcmFtLnR5cGVdKHBhcmFtKTsKICAgICAgfQogICAgfSwKCiAgICBvcGNvZGU6IGZ1bmN0aW9uKG5hbWUsIHZhbDEsIHZhbDIpIHsKICAgICAgdGhpcy5vcGNvZGVzLnB1c2goQ29tcGlsZXIuT1BDT0RFX01BUFtuYW1lXSk7CiAgICAgIGlmKHZhbDEgIT09IHVuZGVmaW5lZCkgeyB0aGlzLm9wY29kZXMucHVzaCh2YWwxKTsgfQogICAgICBpZih2YWwyICE9PSB1bmRlZmluZWQpIHsgdGhpcy5vcGNvZGVzLnB1c2godmFsMik7IH0KICAgIH0sCgogICAgZGVjbGFyZTogZnVuY3Rpb24obmFtZSwgdmFsdWUpIHsKICAgICAgdGhpcy5vcGNvZGVzLnB1c2goJ0RFQ0xBUkUnKTsKICAgICAgdGhpcy5vcGNvZGVzLnB1c2gobmFtZSk7CiAgICAgIHRoaXMub3Bjb2Rlcy5wdXNoKHZhbHVlKTsKICAgIH0sCgogICAgYWRkRGVwdGg6IGZ1bmN0aW9uKGRlcHRoKSB7CiAgICAgIGlmKGRlcHRoID09PSAwKSB7IHJldHVybjsgfQoKICAgICAgaWYoIXRoaXMuZGVwdGhzW2RlcHRoXSkgewogICAgICAgIHRoaXMuZGVwdGhzW2RlcHRoXSA9IHRydWU7CiAgICAgICAgdGhpcy5kZXB0aHMubGlzdC5wdXNoKGRlcHRoKTsKICAgICAgfQogICAgfSwKCiAgICBzZXR1cFN0YWNrRm9yTXVzdGFjaGU6IGZ1bmN0aW9uKG11c3RhY2hlKSB7CiAgICAgIHZhciBwYXJhbXMgPSBtdXN0YWNoZS5wYXJhbXM7CgogICAgICB0aGlzLnB1c2hQYXJhbXMocGFyYW1zKTsKCiAgICAgIGlmKG11c3RhY2hlLmhhc2gpIHsKICAgICAgICB0aGlzLmhhc2gobXVzdGFjaGUuaGFzaCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5vcGNvZGUoJ3B1c2gnLCAne30nKTsKICAgICAgfQoKICAgICAgdGhpcy5JRChtdXN0YWNoZS5pZCk7CgogICAgICByZXR1cm4gcGFyYW1zOwogICAgfQogIH07CgogIEphdmFTY3JpcHRDb21waWxlci5wcm90b3R5cGUgPSB7CiAgICAvLyBQVUJMSUMgQVBJOiBZb3UgY2FuIG92ZXJyaWRlIHRoZXNlIG1ldGhvZHMgaW4gYSBzdWJjbGFzcyB0byBwcm92aWRlCiAgICAvLyBhbHRlcm5hdGl2ZSBjb21waWxlZCBmb3JtcyBmb3IgbmFtZSBsb29rdXAgYW5kIGJ1ZmZlcmluZyBzZW1hbnRpY3MKICAgIG5hbWVMb29rdXA6IGZ1bmN0aW9uKHBhcmVudCwgbmFtZSwgdHlwZSkgewogICAgICBpZihKYXZhU2NyaXB0Q29tcGlsZXIuUkVTRVJWRURfV09SRFNbbmFtZV0pIHsKICAgICAgICByZXR1cm4gcGFyZW50ICsgIlsnIiArIG5hbWUgKyAiJ10iOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiBwYXJlbnQgKyAiLiIgKyBuYW1lOwogICAgICB9CiAgICB9LAoKICAgIGFwcGVuZFRvQnVmZmVyOiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgcmV0dXJuICJidWZmZXIgPSBidWZmZXIgKyAiICsgc3RyaW5nICsgIjsiOwogICAgfSwKCiAgICBpbml0aWFsaXplQnVmZmVyOiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIHRoaXMucXVvdGVkU3RyaW5nKCIiKTsKICAgIH0sCiAgICAvLyBFTkQgUFVCTElDIEFQSQoKICAgIGNvbXBpbGU6IGZ1bmN0aW9uKGVudmlyb25tZW50LCBkYXRhKSB7CiAgICAgIHRoaXMuZW52aXJvbm1lbnQgPSBlbnZpcm9ubWVudDsKICAgICAgdGhpcy5kYXRhID0gZGF0YTsKCiAgICAgIHRoaXMucHJlYW1ibGUoKTsKCiAgICAgIHRoaXMuc3RhY2tTbG90ID0gMDsKICAgICAgdGhpcy5zdGFja1ZhcnMgPSBbXTsKICAgICAgdGhpcy5yZWdpc3RlcnMgPSB7bGlzdDogW119OwoKICAgICAgdGhpcy5jb21waWxlQ2hpbGRyZW4oZW52aXJvbm1lbnQsIGRhdGEpOwoKICAgICAgSGFuZGxlYmFycy5sb2coSGFuZGxlYmFycy5sb2dnZXIuREVCVUcsIGVudmlyb25tZW50LmRpc2Fzc2VtYmxlKCkgKyAiXG5cbiIpOwoKICAgICAgdmFyIG9wY29kZXMgPSBlbnZpcm9ubWVudC5vcGNvZGVzLCBvcGNvZGUsIG5hbWUsIGRlY2xhcmVOYW1lLCBkZWNsYXJlVmFsOwoKICAgICAgdGhpcy5pID0gMDsKCiAgICAgIGZvcihsPW9wY29kZXMubGVuZ3RoOyB0aGlzLmk8bDsgdGhpcy5pKyspIHsKICAgICAgICBvcGNvZGUgPSB0aGlzLm5leHRPcGNvZGUoMCk7CgogICAgICAgIGlmKG9wY29kZVswXSA9PT0gJ0RFQ0xBUkUnKSB7CiAgICAgICAgICB0aGlzLmkgPSB0aGlzLmkgKyAyOwogICAgICAgICAgdGhpc1tvcGNvZGVbMV1dID0gb3Bjb2RlWzJdOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmkgPSB0aGlzLmkgKyBvcGNvZGVbMV0ubGVuZ3RoOwogICAgICAgICAgdGhpc1tvcGNvZGVbMF1dLmFwcGx5KHRoaXMsIG9wY29kZVsxXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICByZXR1cm4gdGhpcy5jcmVhdGVGdW5jdGlvbigpOwogICAgfSwKCiAgICBuZXh0T3Bjb2RlOiBmdW5jdGlvbihuKSB7CiAgICAgIHZhciBvcGNvZGVzID0gdGhpcy5lbnZpcm9ubWVudC5vcGNvZGVzLCBvcGNvZGUgPSBvcGNvZGVzW3RoaXMuaSArIG5dLCBuYW1lLCB2YWw7CiAgICAgIHZhciBleHRyYVBhcmFtcywgY29kZXM7CgogICAgICBpZihvcGNvZGUgPT09ICdERUNMQVJFJykgewogICAgICAgIG5hbWUgPSBvcGNvZGVzW3RoaXMuaSArIDFdOwogICAgICAgIHZhbCAgPSBvcGNvZGVzW3RoaXMuaSArIDJdOwogICAgICAgIHJldHVybiBbJ0RFQ0xBUkUnLCBuYW1lLCB2YWxdOwogICAgICB9IGVsc2UgewogICAgICAgIG5hbWUgPSBDb21waWxlci5ESVNBU1NFTUJMRV9NQVBbb3Bjb2RlXTsKCiAgICAgICAgZXh0cmFQYXJhbXMgPSBDb21waWxlci5tdWx0aVBhcmFtU2l6ZShvcGNvZGUpOwogICAgICAgIGNvZGVzID0gW107CgogICAgICAgIGZvcih2YXIgaj0wOyBqPGV4dHJhUGFyYW1zOyBqKyspIHsKICAgICAgICAgIGNvZGVzLnB1c2gob3Bjb2Rlc1t0aGlzLmkgKyBqICsgMSArIG5dKTsKICAgICAgICB9CgogICAgICAgIHJldHVybiBbbmFtZSwgY29kZXNdOwogICAgICB9CiAgICB9LAoKICAgIGVhdDogZnVuY3Rpb24ob3Bjb2RlKSB7CiAgICAgIHRoaXMuaSA9IHRoaXMuaSArIG9wY29kZS5sZW5ndGg7CiAgICB9LAoKICAgIHByZWFtYmxlOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIG91dCA9IFtdOwogICAgICBvdXQucHVzaCgidmFyIGJ1ZmZlciA9ICIgKyB0aGlzLmluaXRpYWxpemVCdWZmZXIoKSArICIsIGN1cnJlbnRDb250ZXh0ID0gY29udGV4dCIpOwoKICAgICAgdmFyIGNvcGllcyA9ICJoZWxwZXJzID0gaGVscGVycyB8fCBIYW5kbGViYXJzLmhlbHBlcnM7IjsKICAgICAgaWYodGhpcy5lbnZpcm9ubWVudC51c2VQYXJ0aWFsKSB7IGNvcGllcyA9IGNvcGllcyArICIgcGFydGlhbHMgPSBwYXJ0aWFscyB8fCBIYW5kbGViYXJzLnBhcnRpYWxzOyI7IH0KICAgICAgb3V0LnB1c2goY29waWVzKTsKCiAgICAgIC8vIHRyYWNrIHRoZSBsYXN0IGNvbnRleHQgcHVzaGVkIGludG8gcGxhY2UgdG8gYWxsb3cgc2tpcHBpbmcgdGhlCiAgICAgIC8vIGdldENvbnRleHQgb3Bjb2RlIHdoZW4gaXQgd291bGQgYmUgYSBub29wCiAgICAgIHRoaXMubGFzdENvbnRleHQgPSAwOwogICAgICB0aGlzLnNvdXJjZSA9IG91dDsKICAgIH0sCgogICAgY3JlYXRlRnVuY3Rpb246IGZ1bmN0aW9uKCkgewogICAgICB2YXIgY29udGFpbmVyID0gewogICAgICAgIGVzY2FwZUV4cHJlc3Npb246IEhhbmRsZWJhcnMuVXRpbHMuZXNjYXBlRXhwcmVzc2lvbiwKICAgICAgICBpbnZva2VQYXJ0aWFsOiBIYW5kbGViYXJzLlZNLmludm9rZVBhcnRpYWwsCiAgICAgICAgcHJvZ3JhbXM6IFtdLAogICAgICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhKSB7CiAgICAgICAgICB2YXIgcHJvZ3JhbVdyYXBwZXIgPSB0aGlzLnByb2dyYW1zW2ldOwogICAgICAgICAgaWYoZGF0YSkgewogICAgICAgICAgICByZXR1cm4gSGFuZGxlYmFycy5WTS5wcm9ncmFtKHRoaXMuY2hpbGRyZW5baV0sIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhKTsKICAgICAgICAgIH0gZWxzZSBpZihwcm9ncmFtV3JhcHBlcikgewogICAgICAgICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSBIYW5kbGViYXJzLlZNLnByb2dyYW0odGhpcy5jaGlsZHJlbltpXSwgaGVscGVycywgcGFydGlhbHMpOwogICAgICAgICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBwcm9ncmFtV2l0aERlcHRoOiBIYW5kbGViYXJzLlZNLnByb2dyYW1XaXRoRGVwdGgsCiAgICAgICAgbm9vcDogSGFuZGxlYmFycy5WTS5ub29wCiAgICAgIH07CiAgICAgIHZhciBsb2NhbHMgPSB0aGlzLnN0YWNrVmFycy5jb25jYXQodGhpcy5yZWdpc3RlcnMubGlzdCk7CgogICAgICBpZihsb2NhbHMubGVuZ3RoID4gMCkgewogICAgICAgIHRoaXMuc291cmNlWzBdID0gdGhpcy5zb3VyY2VbMF0gKyAiLCAiICsgbG9jYWxzLmpvaW4oIiwgIik7CiAgICAgIH0KCiAgICAgIHRoaXMuc291cmNlWzBdID0gdGhpcy5zb3VyY2VbMF0gKyAiOyI7CgogICAgICB0aGlzLnNvdXJjZS5wdXNoKCJyZXR1cm4gYnVmZmVyOyIpOwoKICAgICAgdmFyIHBhcmFtcyA9IFsiSGFuZGxlYmFycyIsICJjb250ZXh0IiwgImhlbHBlcnMiLCAicGFydGlhbHMiXTsKCiAgICAgIGlmKHRoaXMuZGF0YSkgeyBwYXJhbXMucHVzaCgiZGF0YSIpOyB9CgogICAgICBmb3IodmFyIGk9MCwgbD10aGlzLmVudmlyb25tZW50LmRlcHRocy5saXN0Lmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBwYXJhbXMucHVzaCgiZGVwdGgiICsgdGhpcy5lbnZpcm9ubWVudC5kZXB0aHMubGlzdFtpXSk7CiAgICAgIH0KCgogICAgICBpZihwYXJhbXMubGVuZ3RoID09PSA0ICYmICF0aGlzLmVudmlyb25tZW50LnVzZVBhcnRpYWwpIHsgcGFyYW1zLnBvcCgpOyB9CgogICAgICBwYXJhbXMucHVzaCh0aGlzLnNvdXJjZS5qb2luKCJcbiIpKTsKCiAgICAgIHZhciBmbiA9IEZ1bmN0aW9uLmFwcGx5KHRoaXMsIHBhcmFtcyk7CiAgICAgIGZuLmRpc3BsYXlOYW1lID0gIkhhbmRsZWJhcnMuanMiOwoKICAgICAgSGFuZGxlYmFycy5sb2coSGFuZGxlYmFycy5sb2dnZXIuREVCVUcsIGZuLnRvU3RyaW5nKCkgKyAiXG5cbiIpOwoKICAgICAgY29udGFpbmVyLnJlbmRlciA9IGZuOwoKICAgICAgY29udGFpbmVyLmNoaWxkcmVuID0gdGhpcy5lbnZpcm9ubWVudC5jaGlsZHJlbjsKCiAgICAgIHJldHVybiBmdW5jdGlvbihjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscywgZGF0YSwgJGRlcHRoKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgICAgIGFyZ3MudW5zaGlmdChIYW5kbGViYXJzKTsKICAgICAgICAgIHJldHVybiBjb250YWluZXIucmVuZGVyLmFwcGx5KGNvbnRhaW5lciwgYXJncyk7CiAgICAgICAgfSBjYXRjaChlKSB7CiAgICAgICAgICB0aHJvdyBlOwogICAgICAgIH0KICAgICAgfTsKICAgIH0sCgogICAgYXBwZW5kQ29udGVudDogZnVuY3Rpb24oY29udGVudCkgewogICAgICB0aGlzLnNvdXJjZS5wdXNoKHRoaXMuYXBwZW5kVG9CdWZmZXIodGhpcy5xdW90ZWRTdHJpbmcoY29udGVudCkpKTsKICAgIH0sCgogICAgYXBwZW5kOiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGxvY2FsID0gdGhpcy5wb3BTdGFjaygpOwogICAgICB0aGlzLnNvdXJjZS5wdXNoKCJpZigiICsgbG9jYWwgKyAiIHx8ICIgKyBsb2NhbCArICIgPT09IDApIHsgIiArIHRoaXMuYXBwZW5kVG9CdWZmZXIobG9jYWwpICsgIiB9Iik7CiAgICB9LAoKICAgIGFwcGVuZEVzY2FwZWQ6IGZ1bmN0aW9uKCkgewogICAgICB2YXIgb3Bjb2RlID0gdGhpcy5uZXh0T3Bjb2RlKDEpLCBleHRyYSA9ICIiOwoKICAgICAgaWYob3Bjb2RlWzBdID09PSAnYXBwZW5kQ29udGVudCcpIHsKICAgICAgICBleHRyYSA9ICIgKyAiICsgdGhpcy5xdW90ZWRTdHJpbmcob3Bjb2RlWzFdWzBdKTsKICAgICAgICB0aGlzLmVhdChvcGNvZGUpOwogICAgICB9CgogICAgICB0aGlzLnNvdXJjZS5wdXNoKHRoaXMuYXBwZW5kVG9CdWZmZXIoInRoaXMuZXNjYXBlRXhwcmVzc2lvbigiICsgdGhpcy5wb3BTdGFjaygpICsgIikiICsgZXh0cmEpKTsKICAgIH0sCgogICAgZ2V0Q29udGV4dDogZnVuY3Rpb24oZGVwdGgpIHsKICAgICAgaWYodGhpcy5sYXN0Q29udGV4dCAhPT0gZGVwdGgpIHsKICAgICAgICB0aGlzLmxhc3RDb250ZXh0ID0gZGVwdGg7CgogICAgICAgIGlmKGRlcHRoID09PSAwKSB7CiAgICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCJjdXJyZW50Q29udGV4dCA9IGNvbnRleHQ7Iik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc291cmNlLnB1c2goImN1cnJlbnRDb250ZXh0ID0gZGVwdGgiICsgZGVwdGggKyAiOyIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKCiAgICBsb29rdXBXaXRoSGVscGVyczogZnVuY3Rpb24obmFtZSkgewogICAgICBpZihuYW1lKSB7CiAgICAgICAgdmFyIHRvcFN0YWNrID0gdGhpcy5uZXh0U3RhY2soKTsKCiAgICAgICAgdmFyIHRvUHVzaCA9ICAiaWYoJyIgKyBuYW1lICsgIicgaW4gaGVscGVycykgeyAiICsgdG9wU3RhY2sgKwogICAgICAgICAgICAgICAgICAgICAgIiA9ICIgKyB0aGlzLm5hbWVMb29rdXAoJ2hlbHBlcnMnLCBuYW1lLCAnaGVscGVyJykgKwogICAgICAgICAgICAgICAgICAgICAgIjsgfSBlbHNlIHsgIiArIHRvcFN0YWNrICsgIiA9ICIgKwogICAgICAgICAgICAgICAgICAgICAgdGhpcy5uYW1lTG9va3VwKCdjdXJyZW50Q29udGV4dCcsIG5hbWUsICdjb250ZXh0JykgKwogICAgICAgICAgICAgICAgICAgICAgIjsgfSI7CgogICAgICAgIHRoaXMuc291cmNlLnB1c2godG9QdXNoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnB1c2hTdGFjaygiY3VycmVudENvbnRleHQiKTsKICAgICAgfQogICAgfSwKCiAgICBsb29rdXA6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgdmFyIHRvcFN0YWNrID0gdGhpcy50b3BTdGFjaygpOwogICAgICB0aGlzLnNvdXJjZS5wdXNoKHRvcFN0YWNrICsgIiA9ICIgKyB0aGlzLm5hbWVMb29rdXAodG9wU3RhY2ssIG5hbWUsICdjb250ZXh0JykgKyAiOyIpOwogICAgfSwKCiAgICBwdXNoU3RyaW5nOiBmdW5jdGlvbihzdHJpbmcpIHsKICAgICAgdGhpcy5wdXNoU3RhY2sodGhpcy5xdW90ZWRTdHJpbmcoc3RyaW5nKSk7CiAgICB9LAoKICAgIHB1c2g6IGZ1bmN0aW9uKG5hbWUpIHsKICAgICAgdGhpcy5wdXNoU3RhY2sobmFtZSk7CiAgICB9LAoKICAgIGludm9rZU11c3RhY2hlOiBmdW5jdGlvbihwYXJhbVNpemUsIG9yaWdpbmFsKSB7CiAgICAgIHRoaXMucG9wdWxhdGVQYXJhbXMocGFyYW1TaXplLCB0aGlzLnF1b3RlZFN0cmluZyhvcmlnaW5hbCksICJ7fSIsIG51bGwsIGZ1bmN0aW9uKG5leHRTdGFjaywgaGVscGVyTWlzc2luZ1N0cmluZywgaWQpIHsKICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCJlbHNlIGlmKCIgKyBpZCArICI9PT0gdW5kZWZpbmVkKSB7ICIgKyBuZXh0U3RhY2sgKyAiID0gaGVscGVycy5oZWxwZXJNaXNzaW5nLmNhbGwoIiArIGhlbHBlck1pc3NpbmdTdHJpbmcgKyAiKTsgfSIpOwogICAgICAgIHRoaXMuc291cmNlLnB1c2goImVsc2UgeyAiICsgbmV4dFN0YWNrICsgIiA9ICIgKyBpZCArICI7IH0iKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGludm9rZVByb2dyYW06IGZ1bmN0aW9uKGd1aWQsIHBhcmFtU2l6ZSkgewogICAgICB2YXIgaW52ZXJzZSA9IHRoaXMucHJvZ3JhbUV4cHJlc3Npb24odGhpcy5pbnZlcnNlKTsKICAgICAgdmFyIG1haW5Qcm9ncmFtID0gdGhpcy5wcm9ncmFtRXhwcmVzc2lvbihndWlkKTsKCiAgICAgIHRoaXMucG9wdWxhdGVQYXJhbXMocGFyYW1TaXplLCBudWxsLCBtYWluUHJvZ3JhbSwgaW52ZXJzZSwgZnVuY3Rpb24obmV4dFN0YWNrLCBoZWxwZXJNaXNzaW5nU3RyaW5nLCBpZCkgewogICAgICAgIHRoaXMuc291cmNlLnB1c2goImVsc2UgeyAiICsgbmV4dFN0YWNrICsgIiA9IGhlbHBlcnMuYmxvY2tIZWxwZXJNaXNzaW5nLmNhbGwoIiArIGhlbHBlck1pc3NpbmdTdHJpbmcgKyAiKTsgfSIpOwogICAgICB9KTsKICAgIH0sCgogICAgcG9wdWxhdGVQYXJhbXM6IGZ1bmN0aW9uKHBhcmFtU2l6ZSwgaGVscGVySWQsIHByb2dyYW0sIGludmVyc2UsIGZuKSB7CiAgICAgIHZhciBpZCA9IHRoaXMucG9wU3RhY2soKSwgbmV4dFN0YWNrOwogICAgICB2YXIgcGFyYW1zID0gW107CgogICAgICB2YXIgaGFzaCA9IHRoaXMucG9wU3RhY2soKTsKCiAgICAgIGZvcih2YXIgaT0wOyBpPHBhcmFtU2l6ZTsgaSsrKSB7CiAgICAgICAgdmFyIHBhcmFtID0gdGhpcy5wb3BTdGFjaygpOwogICAgICAgIHBhcmFtcy5wdXNoKHBhcmFtKTsKICAgICAgfQoKICAgICAgdGhpcy5yZWdpc3RlcigndG1wMScsIHByb2dyYW0pOwogICAgICB0aGlzLnNvdXJjZS5wdXNoKCd0bXAxLmhhc2ggPSAnICsgaGFzaCArICc7Jyk7CgogICAgICBpZihpbnZlcnNlKSB7CiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgndG1wMS5mbiA9IHRtcDE7Jyk7CiAgICAgICAgdGhpcy5zb3VyY2UucHVzaCgndG1wMS5pbnZlcnNlID0gJyArIGludmVyc2UgKyAnOycpOwogICAgICB9CgogICAgICBpZih0aGlzLmRhdGEpIHsKICAgICAgICB0aGlzLnNvdXJjZS5wdXNoKCd0bXAxLmRhdGEgPSBkYXRhOycpOwogICAgICB9CgogICAgICBwYXJhbXMucHVzaCgndG1wMScpOwoKICAgICAgLy8gVE9ETzogVGhpcyBpcyBsZWdhY3kgYmVoYXZpb3IuIERlcHJlY2F0ZSBhbmQgcmVtb3ZlLgogICAgICBpZihpbnZlcnNlKSB7CiAgICAgICAgcGFyYW1zLnB1c2goaW52ZXJzZSk7CiAgICAgIH0KCiAgICAgIHRoaXMucG9wdWxhdGVDYWxsKHBhcmFtcywgaWQsIGhlbHBlcklkIHx8IGlkLCBmbik7CiAgICB9LAoKICAgIHBvcHVsYXRlQ2FsbDogZnVuY3Rpb24ocGFyYW1zLCBpZCwgaGVscGVySWQsIGZuKSB7CiAgICAgIHZhciBwYXJhbVN0cmluZyA9IFsiY29udGV4dCJdLmNvbmNhdChwYXJhbXMpLmpvaW4oIiwgIik7CiAgICAgIHZhciBoZWxwZXJNaXNzaW5nU3RyaW5nID0gWyJjb250ZXh0Il0uY29uY2F0KGhlbHBlcklkKS5jb25jYXQocGFyYW1zKS5qb2luKCIsICIpOwoKICAgICAgbmV4dFN0YWNrID0gdGhpcy5uZXh0U3RhY2soKTsKCiAgICAgIHRoaXMuc291cmNlLnB1c2goImlmKHR5cGVvZiAiICsgaWQgKyAiID09PSAnZnVuY3Rpb24nKSB7ICIgKyBuZXh0U3RhY2sgKyAiID0gIiArIGlkICsgIi5jYWxsKCIgKyBwYXJhbVN0cmluZyArICIpOyB9Iik7CiAgICAgIGZuLmNhbGwodGhpcywgbmV4dFN0YWNrLCBoZWxwZXJNaXNzaW5nU3RyaW5nLCBpZCk7CiAgICB9LAoKICAgIGludm9rZUludmVyc2U6IGZ1bmN0aW9uKGd1aWQpIHsKICAgICAgdmFyIHByb2dyYW0gPSB0aGlzLnByb2dyYW1FeHByZXNzaW9uKGd1aWQpOwoKICAgICAgdmFyIGJsb2NrTWlzc2luZ1BhcmFtcyA9IFsiY29udGV4dCIsIHRoaXMudG9wU3RhY2soKSwgInRoaXMubm9vcCIsIHByb2dyYW1dOwogICAgICB0aGlzLnB1c2hTdGFjaygiaGVscGVycy5ibG9ja0hlbHBlck1pc3NpbmcuY2FsbCgiICsgYmxvY2tNaXNzaW5nUGFyYW1zLmpvaW4oIiwgIikgKyAiKSIpOwogICAgfSwKCiAgICBpbnZva2VQYXJ0aWFsOiBmdW5jdGlvbihjb250ZXh0KSB7CiAgICAgIHRoaXMucHVzaFN0YWNrKCJ0aGlzLmludm9rZVBhcnRpYWwoIiArIHRoaXMubmFtZUxvb2t1cCgncGFydGlhbHMnLCBjb250ZXh0LCAncGFydGlhbCcpICsgIiwgJyIgKyBjb250ZXh0ICsgIicsICIgKyB0aGlzLnBvcFN0YWNrKCkgKyAiLCBoZWxwZXJzLCBwYXJ0aWFscyk7Iik7CiAgICB9LAoKICAgIGFzc2lnblRvSGFzaDogZnVuY3Rpb24oa2V5KSB7CiAgICAgIHZhciB2YWx1ZSA9IHRoaXMucG9wU3RhY2soKTsKICAgICAgdmFyIGhhc2ggPSB0aGlzLnRvcFN0YWNrKCk7CgogICAgICB0aGlzLnNvdXJjZS5wdXNoKGhhc2ggKyAiWyciICsga2V5ICsgIiddID0gIiArIHZhbHVlICsgIjsiKTsKICAgIH0sCgogICAgLy8gSEVMUEVSUwoKICAgIGNvbXBpbGVyOiBKYXZhU2NyaXB0Q29tcGlsZXIsCgogICAgY29tcGlsZUNoaWxkcmVuOiBmdW5jdGlvbihlbnZpcm9ubWVudCwgZGF0YSkgewogICAgICB2YXIgY2hpbGRyZW4gPSBlbnZpcm9ubWVudC5jaGlsZHJlbiwgY2hpbGQsIGNvbXBpbGVyOwogICAgICB2YXIgY29tcGlsZWQgPSBbXTsKCiAgICAgIGZvcih2YXIgaT0wLCBsPWNoaWxkcmVuLmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBjaGlsZCA9IGNoaWxkcmVuW2ldOwogICAgICAgIGNvbXBpbGVyID0gbmV3IHRoaXMuY29tcGlsZXIoKTsKCiAgICAgICAgY29tcGlsZWRbaV0gPSBjb21waWxlci5jb21waWxlKGNoaWxkLCBkYXRhKTsKICAgICAgfQoKICAgICAgZW52aXJvbm1lbnQucmF3Q2hpbGRyZW4gPSBjaGlsZHJlbjsKICAgICAgZW52aXJvbm1lbnQuY2hpbGRyZW4gPSBjb21waWxlZDsKICAgIH0sCgogICAgcHJvZ3JhbUV4cHJlc3Npb246IGZ1bmN0aW9uKGd1aWQpIHsKICAgICAgaWYoZ3VpZCA9PSBudWxsKSB7IHJldHVybiAidGhpcy5ub29wIjsgfQoKICAgICAgdmFyIHByb2dyYW1QYXJhbXMgPSBbZ3VpZCwgImhlbHBlcnMiLCAicGFydGlhbHMiXTsKCiAgICAgIHZhciBkZXB0aHMgPSB0aGlzLmVudmlyb25tZW50LnJhd0NoaWxkcmVuW2d1aWRdLmRlcHRocy5saXN0OwoKICAgICAgaWYodGhpcy5kYXRhKSB7IHByb2dyYW1QYXJhbXMucHVzaCgiZGF0YSIpOyB9CgogICAgICBmb3IodmFyIGk9MCwgbCA9IGRlcHRocy5sZW5ndGg7IGk8bDsgaSsrKSB7CiAgICAgICAgZGVwdGggPSBkZXB0aHNbaV07CgogICAgICAgIGlmKGRlcHRoID09PSAxKSB7IHByb2dyYW1QYXJhbXMucHVzaCgiY29udGV4dCIpOyB9CiAgICAgICAgZWxzZSB7IHByb2dyYW1QYXJhbXMucHVzaCgiZGVwdGgiICsgKGRlcHRoIC0gMSkpOyB9CiAgICAgIH0KCiAgICAgIGlmKCF0aGlzLmVudmlyb25tZW50LnVzZVBhcnRpYWwpIHsKICAgICAgICBpZihwcm9ncmFtUGFyYW1zWzNdKSB7CiAgICAgICAgICBwcm9ncmFtUGFyYW1zWzJdID0gIm51bGwiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBwcm9ncmFtUGFyYW1zLnBvcCgpOwogICAgICAgIH0KICAgICAgfQoKICAgICAgaWYoZGVwdGhzLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHJldHVybiAidGhpcy5wcm9ncmFtKCIgKyBwcm9ncmFtUGFyYW1zLmpvaW4oIiwgIikgKyAiKSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcHJvZ3JhbVBhcmFtc1swXSA9ICJ0aGlzLmNoaWxkcmVuWyIgKyBndWlkICsgIl0iOwogICAgICAgIHJldHVybiAidGhpcy5wcm9ncmFtV2l0aERlcHRoKCIgKyBwcm9ncmFtUGFyYW1zLmpvaW4oIiwgIikgKyAiKSI7CiAgICAgIH0KICAgIH0sCgogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKG5hbWUsIHZhbCkgewogICAgICB0aGlzLnVzZVJlZ2lzdGVyKG5hbWUpOwogICAgICB0aGlzLnNvdXJjZS5wdXNoKG5hbWUgKyAiID0gIiArIHZhbCArICI7Iik7CiAgICB9LAoKICAgIHVzZVJlZ2lzdGVyOiBmdW5jdGlvbihuYW1lKSB7CiAgICAgIGlmKCF0aGlzLnJlZ2lzdGVyc1tuYW1lXSkgewogICAgICAgIHRoaXMucmVnaXN0ZXJzW25hbWVdID0gdHJ1ZTsKICAgICAgICB0aGlzLnJlZ2lzdGVycy5saXN0LnB1c2gobmFtZSk7CiAgICAgIH0KICAgIH0sCgogICAgcHVzaFN0YWNrOiBmdW5jdGlvbihpdGVtKSB7CiAgICAgIHRoaXMuc291cmNlLnB1c2godGhpcy5uZXh0U3RhY2soKSArICIgPSAiICsgaXRlbSArICI7Iik7CiAgICAgIHJldHVybiAic3RhY2siICsgdGhpcy5zdGFja1Nsb3Q7CiAgICB9LAoKICAgIG5leHRTdGFjazogZnVuY3Rpb24oKSB7CiAgICAgIHRoaXMuc3RhY2tTbG90Kys7CiAgICAgIGlmKHRoaXMuc3RhY2tTbG90ID4gdGhpcy5zdGFja1ZhcnMubGVuZ3RoKSB7IHRoaXMuc3RhY2tWYXJzLnB1c2goInN0YWNrIiArIHRoaXMuc3RhY2tTbG90KTsgfQogICAgICByZXR1cm4gInN0YWNrIiArIHRoaXMuc3RhY2tTbG90OwogICAgfSwKCiAgICBwb3BTdGFjazogZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiAic3RhY2siICsgdGhpcy5zdGFja1Nsb3QtLTsKICAgIH0sCgogICAgdG9wU3RhY2s6IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gInN0YWNrIiArIHRoaXMuc3RhY2tTbG90OwogICAgfSwKCiAgICBxdW90ZWRTdHJpbmc6IGZ1bmN0aW9uKHN0cikgewogICAgICByZXR1cm4gJyInICsgc3RyCiAgICAgICAgLnJlcGxhY2UoL1xcLywgJ1xcXFwnKQogICAgICAgIC5yZXBsYWNlKC8iL2csICdcXCInKQogICAgICAgIC5yZXBsYWNlKC9cbi9nLCAnXFxuJykKICAgICAgICAucmVwbGFjZSgvXHIvZywgJ1xccicpICsgJyInOwogICAgfQogIH07CgogIHZhciByZXNlcnZlZFdvcmRzID0gKCJicmVhayBjYXNlIGNhdGNoIGNvbnRpbnVlIGRlZmF1bHQgZGVsZXRlIGRvIGVsc2UgZmluYWxseSAiICsKICAgICAgICAgICAgICAgICAgICAgICAiZm9yIGZ1bmN0aW9uIGlmIGluIGluc3RhbmNlb2YgbmV3IHJldHVybiBzd2l0Y2ggdGhpcyB0aHJvdyAiICsgCiAgICAgICAgICAgICAgICAgICAgICAgInRyeSB0eXBlb2YgdmFyIHZvaWQgd2hpbGUgd2l0aCBudWxsIHRydWUgZmFsc2UiKS5zcGxpdCgiICIpOwoKICBjb21waWxlcldvcmRzID0gSmF2YVNjcmlwdENvbXBpbGVyLlJFU0VSVkVEX1dPUkRTID0ge307CgogIGZvcih2YXIgaT0wLCBsPXJlc2VydmVkV29yZHMubGVuZ3RoOyBpPGw7IGkrKykgewogICAgY29tcGlsZXJXb3Jkc1tyZXNlcnZlZFdvcmRzW2ldXSA9IHRydWU7CiAgfQoKfSkoSGFuZGxlYmFycy5Db21waWxlciwgSGFuZGxlYmFycy5KYXZhU2NyaXB0Q29tcGlsZXIpOwoKSGFuZGxlYmFycy5WTSA9IHsKICBwcm9ncmFtV2l0aERlcHRoOiBmdW5jdGlvbihmbikgewogICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgcmV0dXJuIGZ1bmN0aW9uKGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhKSB7CiAgICAgIGFyZ3NbMF0gPSBoZWxwZXJzIHx8IGFyZ3NbMF07CiAgICAgIGFyZ3NbMV0gPSBwYXJ0aWFscyB8fCBhcmdzWzFdOwogICAgICBhcmdzWzJdID0gZGF0YSB8fCBhcmdzWzJdOwogICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgW2NvbnRleHRdLmNvbmNhdChhcmdzKSk7CiAgICB9OwogIH0sCiAgcHJvZ3JhbTogZnVuY3Rpb24oZm4sIGhlbHBlcnMsIHBhcnRpYWxzLCBkYXRhKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oY29udGV4dCwgaDIsIHAyLCBkMikgewogICAgICByZXR1cm4gZm4oY29udGV4dCwgaDIgfHwgaGVscGVycywgcDIgfHwgcGFydGlhbHMsIGQyIHx8IGRhdGEpOwogICAgfTsKICB9LAogIG5vb3A6IGZ1bmN0aW9uKCkgeyByZXR1cm4gIiI7IH0sCiAgY29tcGlsZTogZnVuY3Rpb24oc3RyaW5nLCBkYXRhKSB7CiAgICB2YXIgYXN0ID0gSGFuZGxlYmFycy5wYXJzZShzdHJpbmcpOwogICAgdmFyIGVudmlyb25tZW50ID0gbmV3IEhhbmRsZWJhcnMuQ29tcGlsZXIoKS5jb21waWxlKGFzdCk7CiAgICByZXR1cm4gbmV3IEhhbmRsZWJhcnMuSmF2YVNjcmlwdENvbXBpbGVyKCkuY29tcGlsZShlbnZpcm9ubWVudCwgZGF0YSk7CiAgfSwKICBpbnZva2VQYXJ0aWFsOiBmdW5jdGlvbihwYXJ0aWFsLCBuYW1lLCBjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscykgewogICAgaWYocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7CiAgICAgIHRocm93IG5ldyBIYW5kbGViYXJzLkV4Y2VwdGlvbigiVGhlIHBhcnRpYWwgIiArIG5hbWUgKyAiIGNvdWxkIG5vdCBiZSBmb3VuZCIpOwogICAgfSBlbHNlIGlmKHBhcnRpYWwgaW5zdGFuY2VvZiBGdW5jdGlvbikgewogICAgICByZXR1cm4gcGFydGlhbChjb250ZXh0LCBoZWxwZXJzLCBwYXJ0aWFscyk7CiAgICB9IGVsc2UgewogICAgICBwYXJ0aWFsc1tuYW1lXSA9IEhhbmRsZWJhcnMuVk0uY29tcGlsZShwYXJ0aWFsKTsKICAgICAgcmV0dXJuIHBhcnRpYWxzW25hbWVdKGNvbnRleHQsIGhlbHBlcnMsIHBhcnRpYWxzKTsKICAgIH0KICB9Cn07CgpIYW5kbGViYXJzLmNvbXBpbGUgPSBIYW5kbGViYXJzLlZNLmNvbXBpbGU7OwovKgpDb3B5cmlnaHQgKGMpIDIwMTAgUnlhbiBTY2h1ZnQgKHJ5YW4uc2NodWZ0QGdtYWlsLmNvbSkKClBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHkKb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgIlNvZnR3YXJlIiksIHRvIGRlYWwKaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cwp0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsCmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcwpmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOgoKVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4KYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuCgpUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgIkFTIElTIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUgpJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwKRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFCkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVIKTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwKT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTgpUSEUgU09GVFdBUkUuCiovCgovKgogIFRoaXMgY29kZSBpcyBiYXNlZCBpbiBwYXJ0IG9uIHRoZSB3b3JrIGRvbmUgaW4gUnVieSB0byBzdXBwb3J0CiAgaW5mZWN0aW9uIGFzIHBhcnQgb2YgUnVieSBvbiBSYWlscyBpbiB0aGUgQWN0aXZlU3VwcG9ydCdzIEluZmxlY3RvcgogIGFuZCBJbmZsZWN0aW9ucyBjbGFzc2VzLiAgSXQgd2FzIGluaXRhbGx5IHBvcnRlZCB0byBKYXZhc2NyaXB0IGJ5CiAgUnlhbiBTY2h1ZnQgKHJ5YW4uc2NodWZ0QGdtYWlsLmNvbSkgaW4gMjAwNy4KCiAgVGhlIGNvZGUgaXMgYXZhaWxhYmxlIGF0IGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9pbmZsZWN0aW9uLWpzLwoKICBUaGUgYmFzaWMgdXNhZ2UgaXM6CiAgICAxLiBJbmNsdWRlIHRoaXMgc2NyaXB0IG9uIHlvdXIgd2ViIHBhZ2UuCiAgICAyLiBDYWxsIGZ1bmN0aW9ucyBvbiBhbnkgU3RyaW5nIG9iamVjdCBpbiBKYXZhc2NyaXB0CgogIEN1cnJlbnRseSBpbXBsZW1lbnRlZCBmdW5jdGlvbnM6CgogICAgU3RyaW5nLnBsdXJhbGl6ZShwbHVyYWwpID09IFN0cmluZwogICAgICByZW5kZXJzIGEgc2luZ3VsYXIgRW5nbGlzaCBsYW5ndWFnZSBub3VuIGludG8gaXRzIHBsdXJhbCBmb3JtCiAgICAgIG5vcm1hbCByZXN1bHRzIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3NpbmcgaW4gYW4gYWx0ZXJuYXRpdmUKCiAgICBTdHJpbmcuc2luZ3VsYXJpemUoc2luZ3VsYXIpID09IFN0cmluZwogICAgICByZW5kZXJzIGEgcGx1cmFsIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91biBpbnRvIGl0cyBzaW5ndWxhciBmb3JtCiAgICAgIG5vcm1hbCByZXN1bHRzIGNhbiBiZSBvdmVycmlkZGVuIGJ5IHBhc3NpbmcgaW4gYW4gYWx0ZXJhdGl2ZQoKICAgIFN0cmluZy5jYW1lbGl6ZShsb3dGaXJzdExldHRlcikgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYSBsb3dlciBjYXNlIHVuZGVyc2NvcmVkIHdvcmQgaW50byBjYW1lbCBjYXNlCiAgICAgIHRoZSBmaXJzdCBsZXR0ZXIgb2YgdGhlIHJlc3VsdCB3aWxsIGJlIHVwcGVyIGNhc2UgdW5sZXNzIHlvdSBwYXNzIHRydWUKICAgICAgYWxzbyB0cmFuc2xhdGVzICIvIiBpbnRvICI6OiIgKHVuZGVyc2NvcmUgZG9lcyB0aGUgb3Bwb3NpdGUpCgogICAgU3RyaW5nLnVuZGVyc2NvcmUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhIGNhbWVsIGNhc2VkIHdvcmQgaW50byB3b3JkcyBzZXBlcmF0ZWQgYnkgdW5kZXJzY29yZXMKICAgICAgYWxzbyB0cmFuc2xhdGVzICI6OiIgYmFjayBpbnRvICIvIiAoY2FtZWxpemUgZG9lcyB0aGUgb3Bwb3NpdGUpCgogICAgU3RyaW5nLmh1bWFuaXplKGxvd0ZpcnN0TGV0dGVyKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhIGxvd2VyIGNhc2UgYW5kIHVuZGVyc2NvcmVkIHdvcmQgaW50byBodW1hbiByZWFkYWJsZSBmb3JtCiAgICAgIGRlZmF1bHRzIHRvIG1ha2luZyB0aGUgZmlyc3QgbGV0dGVyIGNhcGl0YWxpemVkIHVubGVzcyB5b3UgcGFzcyB0cnVlCgogICAgU3RyaW5nLmNhcGl0YWxpemUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhbGwgY2hhcmFjdGVycyB0byBsb3dlciBjYXNlIGFuZCB0aGVuIG1ha2VzIHRoZSBmaXJzdCB1cHBlcgoKICAgIFN0cmluZy5kYXNoZXJpemUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhbGwgdW5kZXJiYXJzIGFuZCBzcGFjZXMgYXMgZGFzaGVzCgogICAgU3RyaW5nLnRpdGxlaXplKCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgd29yZHMgaW50byB0aXRsZSBjYXNpbmcgKGFzIGZvciBib29rIHRpdGxlcykKCiAgICBTdHJpbmcuZGVtb2R1bGl6ZSgpID09IFN0cmluZwogICAgICByZW5kZXJzIGNsYXNzIG5hbWVzIHRoYXQgYXJlIHByZXBlbmRlZCBieSBtb2R1bGVzIGludG8ganVzdCB0aGUgY2xhc3MKCiAgICBTdHJpbmcudGFibGVpemUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBjYW1lbCBjYXNlZCBzaW5ndWxhciB3b3JkcyBpbnRvIHRoZWlyIHVuZGVyc2NvcmVkIHBsdXJhbCBmb3JtCgogICAgU3RyaW5nLmNsYXNzaWZ5KCkgPT0gU3RyaW5nCiAgICAgIHJlbmRlcnMgYW4gdW5kZXJzY29yZWQgcGx1cmFsIHdvcmQgaW50byBpdHMgY2FtZWwgY2FzZWQgc2luZ3VsYXIgZm9ybQoKICAgIFN0cmluZy5mb3JlaWduX2tleShkcm9wSWRVYmFyKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhIGNsYXNzIG5hbWUgKGNhbWVsIGNhc2VkIHNpbmd1bGFyIG5vdW4pIGludG8gYSBmb3JlaWduIGtleQogICAgICBkZWZhdWx0cyB0byBzZXBlcmF0aW5nIHRoZSBjbGFzcyBmcm9tIHRoZSBpZCB3aXRoIGFuIHVuZGVyYmFyIHVubGVzcwogICAgICB5b3UgcGFzcyB0cnVlCgogICAgU3RyaW5nLm9yZGluYWxpemUoKSA9PSBTdHJpbmcKICAgICAgcmVuZGVycyBhbGwgbnVtYmVycyBmb3VuZCBpbiB0aGUgc3RyaW5nIGludG8gdGhlaXIgc2VxdWVuY2UgbGlrZSAiMjJuZCIKKi8KCi8qCiAgVGhpcyBzZXRzIHVwIGEgY29udGFpbmVyIGZvciBzb21lIGNvbnN0YW50cyBpbiBpdHMgb3duIG5hbWVzcGFjZQogIFdlIHVzZSB0aGUgd2luZG93IChpZiBhdmFpbGFibGUpIHRvIGVuYWJsZSBkeW5hbWljIGxvYWRpbmcgb2YgdGhpcyBzY3JpcHQKICBXaW5kb3cgd29uJ3QgbmVjZXNzYXJpbHkgZXhpc3QgZm9yIG5vbi1icm93c2Vycy4KKi8KaWYgKHdpbmRvdyAmJiAhd2luZG93LkluZmxlY3Rpb25KUykKewogICAgd2luZG93LkluZmxlY3Rpb25KUyA9IG51bGw7Cn0KCi8qCiAgVGhpcyBzZXRzIHVwIHNvbWUgY29uc3RhbnRzIGZvciBsYXRlciB1c2UKICBUaGlzIHNob3VsZCB1c2UgdGhlIHdpbmRvdyBuYW1lc3BhY2UgdmFyaWFibGUgaWYgYXZhaWxhYmxlCiovCkluZmxlY3Rpb25KUyA9CnsKICAgIC8qCiAgICAgIFRoaXMgaXMgYSBsaXN0IG9mIG5vdW5zIHRoYXQgdXNlIHRoZSBzYW1lIGZvcm0gZm9yIGJvdGggc2luZ3VsYXIgYW5kIHBsdXJhbC4KICAgICAgVGhpcyBsaXN0IHNob3VsZCByZW1haW4gZW50aXJlbHkgaW4gbG93ZXIgY2FzZSB0byBjb3JyZWN0bHkgbWF0Y2ggU3RyaW5ncy4KICAgICovCiAgICB1bmNvdW50YWJsZV93b3JkczogWwogICAgICAgICdlcXVpcG1lbnQnLCAnaW5mb3JtYXRpb24nLCAncmljZScsICdtb25leScsICdzcGVjaWVzJywgJ3NlcmllcycsCiAgICAgICAgJ2Zpc2gnLCAnc2hlZXAnLCAnbW9vc2UnLCAnZGVlcicsICduZXdzJwogICAgXSwKCiAgICAvKgogICAgICBUaGVzZSBydWxlcyB0cmFuc2xhdGUgZnJvbSB0aGUgc2luZ3VsYXIgZm9ybSBvZiBhIG5vdW4gdG8gaXRzIHBsdXJhbCBmb3JtLgogICAgKi8KICAgIHBsdXJhbF9ydWxlczogWwogICAgICAgIFtuZXcgUmVnRXhwKCcobSlhbiQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICckMWVuJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhwZSlyc29uJCcsICdnaScpLCAgICAgICAgICAgICAgJyQxb3BsZSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoY2hpbGQpJCcsICdnaScpLCAgICAgICAgICAgICAgICckMXJlbiddLAogICAgICAgIFtuZXcgUmVnRXhwKCdeKG94KSQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICckMWVuJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhheHx0ZXN0KWlzJCcsICdnaScpLCAgICAgICAgICAgJyQxZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKG9jdG9wfHZpcil1cyQnLCAnZ2knKSwgICAgICAgICAnJDFpJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhhbGlhc3xzdGF0dXMpJCcsICdnaScpLCAgICAgICAgJyQxZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGJ1KXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAnJDFzZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGJ1ZmZhbHx0b21hdHxwb3RhdClvJCcsICdnaScpLCAnJDFvZXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKFt0aV0pdW0kJywgJ2dpJyksICAgICAgICAgICAgICAnJDFhJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJ3NpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgJ3NlcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoPzooW15mXSlmZXwoW2xyXSlmKSQnLCAnZ2knKSwgICckMSQydmVzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhoaXZlKSQnLCAnZ2knKSwgICAgICAgICAgICAgICAgJyQxcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoW15hZWlvdXldfHF1KXkkJywgJ2dpJyksICAgICAgICckMWllcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoeHxjaHxzc3xzaCkkJywgJ2dpJyksICAgICAgICAgICckMWVzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhtYXRyfHZlcnR8aW5kKWl4fGV4JCcsICdnaScpLCAgJyQxaWNlcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoW218bF0pb3VzZSQnLCAnZ2knKSwgICAgICAgICAgICckMWljZSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcocXVpeikkJywgJ2dpJyksICAgICAgICAgICAgICAgICckMXplcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCdzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICdzJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgJ3MnXQogICAgXSwKCiAgICAvKgogICAgICBUaGVzZSBydWxlcyB0cmFuc2xhdGUgZnJvbSB0aGUgcGx1cmFsIGZvcm0gb2YgYSBub3VuIHRvIGl0cyBzaW5ndWxhciBmb3JtLgogICAgKi8KICAgIHNpbmd1bGFyX3J1bGVzOiBbCiAgICAgICAgW25ldyBSZWdFeHAoJyhtKWVuJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFhbiddLAogICAgICAgIFtuZXcgUmVnRXhwKCcocGUpb3BsZSQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxcnNvbiddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoY2hpbGQpcmVuJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbdGldKWEkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDF1bSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoKGEpbmFseXwoYilhfChkKWlhZ25vfChwKWFyZW50aGV8KHApcm9nbm98KHMpeW5vcHwodCloZSlzZXMkJywnZ2knKSwgJyQxJDJzaXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGhpdmUpcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcodGl2ZSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhjdXJ2ZSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKFtscl0pdmVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMWYnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKFteZm9dKXZlcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMWZlJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbXmFlaW91eV18cXUpaWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDF5J10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhzKWVyaWVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFlcmllcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcobSlvdmllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxb3ZpZSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoeHxjaHxzc3xzaCllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhbbXxsXSlpY2UkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFvdXNlJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhidXMpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDEnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKG8pZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCcoc2hvZSlzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyhjcmlzfGF4fHRlc3QpZXMkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFpcyddLAogICAgICAgIFtuZXcgUmVnRXhwKCcob2N0b3B8dmlyKWkkJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxdXMnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKGFsaWFzfHN0YXR1cyllcyQnLCAnZ2knKSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCdeKG94KWVuJywgJ2dpJyksICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxJ10sCiAgICAgICAgW25ldyBSZWdFeHAoJyh2ZXJ0fGluZClpY2VzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnJDFleCddLAogICAgICAgIFtuZXcgUmVnRXhwKCcobWF0cilpY2VzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyQxaXgnXSwKICAgICAgICBbbmV3IFJlZ0V4cCgnKHF1aXopemVzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICckMSddLAogICAgICAgIFtuZXcgUmVnRXhwKCdzJCcsICdnaScpLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJyddCiAgICBdLAoKICAgIC8qCiAgICAgIFRoaXMgaXMgYSBsaXN0IG9mIHdvcmRzIHRoYXQgc2hvdWxkIG5vdCBiZSBjYXBpdGFsaXplZCBmb3IgdGl0bGUgY2FzZQogICAgKi8KICAgIG5vbl90aXRsZWNhc2VkX3dvcmRzOiBbCiAgICAgICAgJ2FuZCcsICdvcicsICdub3InLCAnYScsICdhbicsICd0aGUnLCAnc28nLCAnYnV0JywgJ3RvJywgJ29mJywgJ2F0JywKICAgICAgICAnYnknLCAnZnJvbScsICdpbnRvJywgJ29uJywgJ29udG8nLCAnb2ZmJywgJ291dCcsICdpbicsICdvdmVyJywKICAgICAgICAnd2l0aCcsICdmb3InCiAgICBdLAoKICAgIC8qCiAgICAgIFRoZXNlIGFyZSByZWd1bGFyIGV4cHJlc3Npb25zIHVzZWQgZm9yIGNvbnZlcnRpbmcgYmV0d2VlbiBTdHJpbmcgZm9ybWF0cwogICAgKi8KICAgIGlkX3N1ZmZpeDogbmV3IFJlZ0V4cCgnKF9pZHN8X2lkKSQnLCAnZycpLAogICAgdW5kZXJiYXI6IG5ldyBSZWdFeHAoJ18nLCAnZycpLAogICAgc3BhY2Vfb3JfdW5kZXJiYXI6IG5ldyBSZWdFeHAoJ1tcIF9dJywgJ2cnKSwKICAgIHVwcGVyY2FzZTogbmV3IFJlZ0V4cCgnKFtBLVpdKScsICdnJyksCiAgICB1bmRlcmJhcl9wcmVmaXg6IG5ldyBSZWdFeHAoJ15fJyksCiAgICAKICAgIC8qCiAgICAgIFRoaXMgaXMgYSBoZWxwZXIgbWV0aG9kIHRoYXQgYXBwbGllcyBydWxlcyBiYXNlZCByZXBsYWNlbWVudCB0byBhIFN0cmluZwogICAgICBTaWduYXR1cmU6CiAgICAgICAgSW5mbGVjdGlvbkpTLmFwcGx5X3J1bGVzKHN0ciwgcnVsZXMsIHNraXAsIG92ZXJyaWRlKSA9PSBTdHJpbmcKICAgICAgQXJndW1lbnRzOgogICAgICAgIHN0ciAtIFN0cmluZyAtIFN0cmluZyB0byBtb2RpZnkgYW5kIHJldHVybiBiYXNlZCBvbiB0aGUgcGFzc2VkIHJ1bGVzCiAgICAgICAgcnVsZXMgLSBBcnJheTogW1JlZ0V4cCwgU3RyaW5nXSAtIFJlZ2V4cCB0byBtYXRjaCBwYWlyZWQgd2l0aCBTdHJpbmcgdG8gdXNlIGZvciByZXBsYWNlbWVudAogICAgICAgIHNraXAgLSBBcnJheTogW1N0cmluZ10gLSBTdHJpbmdzIHRvIHNraXAgaWYgdGhleSBtYXRjaAogICAgICAgIG92ZXJyaWRlIC0gU3RyaW5nIChvcHRpb25hbCkgLSBTdHJpbmcgdG8gcmV0dXJuIGFzIHRob3VnaCB0aGlzIG1ldGhvZCBzdWNjZWVkZWQgKHVzZWQgdG8gY29uZm9ybSB0byBBUElzKQogICAgICBSZXR1cm5zOgogICAgICAgIFN0cmluZyAtIHBhc3NlZCBTdHJpbmcgbW9kaWZpZWQgYnkgcGFzc2VkIHJ1bGVzCiAgICAgIEV4YW1wbGVzOgogICAgICAgIEluZmxlY3Rpb25KUy5hcHBseV9ydWxlcygiY293cyIsIEluZmxlY3Rpb25Kcy5zaW5ndWxhcl9ydWxlcykgPT09ICdjb3cnCiAgICAqLwogICAgYXBwbHlfcnVsZXM6IGZ1bmN0aW9uKHN0ciwgcnVsZXMsIHNraXAsIG92ZXJyaWRlKQogICAgewogICAgICAgIGlmIChvdmVycmlkZSkKICAgICAgICB7CiAgICAgICAgICAgIHN0ciA9IG92ZXJyaWRlOwogICAgICAgIH0KICAgICAgICBlbHNlCiAgICAgICAgewogICAgICAgICAgICB2YXIgaWdub3JlID0gKHNraXAuaW5kZXhPZihzdHIudG9Mb3dlckNhc2UoKSkgPiAtMSk7CiAgICAgICAgICAgIGlmICghaWdub3JlKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJ1bGVzLmxlbmd0aDsgeCsrKQogICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgIGlmIChzdHIubWF0Y2gocnVsZXNbeF1bMF0pKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UocnVsZXNbeF1bMF0sIHJ1bGVzW3hdWzFdKTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBzdHI7CiAgICB9Cn07CgovKgogIFRoaXMgbGV0cyB1cyBkZXRlY3QgaWYgYW4gQXJyYXkgY29udGFpbnMgYSBnaXZlbiBlbGVtZW50CiAgU2lnbmF0dXJlOgogICAgQXJyYXkuaW5kZXhPZihpdGVtLCBmcm9tSW5kZXgsIGNvbXBhcmVGdW5jKSA9PSBJbnRlZ2VyCiAgQXJndW1lbnRzOgogICAgaXRlbSAtIE9iamVjdCAtIG9iamVjdCB0byBsb2NhdGUgaW4gdGhlIEFycmF5CiAgICBmcm9tSW5kZXggLSBJbnRlZ2VyIChvcHRpb25hbCkgLSBzdGFydHMgY2hlY2tpbmcgZnJvbSB0aGlzIHBvc2l0aW9uIGluIHRoZSBBcnJheQogICAgY29tcGFyZUZ1bmMgLSBGdW5jdGlvbiAob3B0aW9uYWwpIC0gZnVuY3Rpb24gdXNlZCB0byBjb21wYXJlIEFycmF5IGl0ZW0gdnMgcGFzc2VkIGl0ZW0KICBSZXR1cm5zOgogICAgSW50ZWdlciAtIGluZGV4IHBvc2l0aW9uIGluIHRoZSBBcnJheSBvZiB0aGUgcGFzc2VkIGl0ZW0KICBFeGFtcGxlczoKICAgIFsnaGknLCd0aGVyZSddLmluZGV4T2YoImd1eXMiKSA9PT0gLTEKICAgIFsnaGknLCd0aGVyZSddLmluZGV4T2YoImhpIikgPT09IDAKKi8KaWYgKCFBcnJheS5wcm90b3R5cGUuaW5kZXhPZikKewogICAgQXJyYXkucHJvdG90eXBlLmluZGV4T2YgPSBmdW5jdGlvbihpdGVtLCBmcm9tSW5kZXgsIGNvbXBhcmVGdW5jKQogICAgewogICAgICAgIGlmICghZnJvbUluZGV4KQogICAgICAgIHsKICAgICAgICAgICAgZnJvbUluZGV4ID0gLTE7CiAgICAgICAgfQogICAgICAgIHZhciBpbmRleCA9IC0xOwogICAgICAgIGZvciAodmFyIGkgPSBmcm9tSW5kZXg7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgaWYgKHRoaXNbaV0gPT09IGl0ZW0gfHwgY29tcGFyZUZ1bmMgJiYgY29tcGFyZUZ1bmModGhpc1tpXSwgaXRlbSkpCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGluZGV4ID0gaTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRleDsKICAgIH07Cn0KCi8qCiAgWW91IGNhbiBvdmVycmlkZSB0aGlzIGxpc3QgZm9yIGFsbCBTdHJpbmdzIG9yIGp1c3Qgb25lIGRlcGVuZGluZyBvbiBpZiB5b3UKICBzZXQgdGhlIG5ldyB2YWx1ZXMgb24gcHJvdG90eXBlIG9yIG9uIGEgZ2l2ZW4gU3RyaW5nIGluc3RhbmNlLgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuX3VuY291bnRhYmxlX3dvcmRzKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLl91bmNvdW50YWJsZV93b3JkcyA9IEluZmxlY3Rpb25KUy51bmNvdW50YWJsZV93b3JkczsKfQoKLyoKICBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgbGlzdCBmb3IgYWxsIFN0cmluZ3Mgb3IganVzdCBvbmUgZGVwZW5kaW5nIG9uIGlmIHlvdQogIHNldCB0aGUgbmV3IHZhbHVlcyBvbiBwcm90b3R5cGUgb3Igb24gYSBnaXZlbiBTdHJpbmcgaW5zdGFuY2UuCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5fcGx1cmFsX3J1bGVzKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLl9wbHVyYWxfcnVsZXMgPSBJbmZsZWN0aW9uSlMucGx1cmFsX3J1bGVzOwp9CgovKgogIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBsaXN0IGZvciBhbGwgU3RyaW5ncyBvciBqdXN0IG9uZSBkZXBlbmRpbmcgb24gaWYgeW91CiAgc2V0IHRoZSBuZXcgdmFsdWVzIG9uIHByb3RvdHlwZSBvciBvbiBhIGdpdmVuIFN0cmluZyBpbnN0YW5jZS4KKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLl9zaW5ndWxhcl9ydWxlcykKewogICAgU3RyaW5nLnByb3RvdHlwZS5fc2luZ3VsYXJfcnVsZXMgPSBJbmZsZWN0aW9uSlMuc2luZ3VsYXJfcnVsZXM7Cn0KCi8qCiAgWW91IGNhbiBvdmVycmlkZSB0aGlzIGxpc3QgZm9yIGFsbCBTdHJpbmdzIG9yIGp1c3Qgb25lIGRlcGVuZGluZyBvbiBpZiB5b3UKICBzZXQgdGhlIG5ldyB2YWx1ZXMgb24gcHJvdG90eXBlIG9yIG9uIGEgZ2l2ZW4gU3RyaW5nIGluc3RhbmNlLgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUuX25vbl90aXRsZWNhc2VkX3dvcmRzKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLl9ub25fdGl0bGVjYXNlZF93b3JkcyA9IEluZmxlY3Rpb25KUy5ub25fdGl0bGVjYXNlZF93b3JkczsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgcGx1cmlsaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLnBsdXJhbGl6ZShwbHVyYWwpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBwbHVyYWwgLSBTdHJpbmcgKG9wdGlvbmFsKSAtIG92ZXJyaWRlcyBub3JtYWwgb3V0cHV0IHdpdGggc2FpZCBTdHJpbmcKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIHNpbmd1bGFyIEVuZ2xpc2ggbGFuZ3VhZ2Ugbm91bnMgYXJlIHJldHVybmVkIGluIHBsdXJhbCBmb3JtCiAgICBFeGFtcGxlczoKICAgICAgInBlcnNvbiIucGx1cmFsaXplKCkgPT0gInBlb3BsZSIKICAgICAgIm9jdG9wdXMiLnBsdXJhbGl6ZSgpID09ICJvY3RvcGkiCiAgICAgICJIYXQiLnBsdXJhbGl6ZSgpID09ICJIYXRzIgogICAgICAicGVyc29uIi5wbHVyYWxpemUoImd1eXMiKSA9PSAiZ3V5cyIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLnBsdXJhbGl6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5wbHVyYWxpemUgPSBmdW5jdGlvbihwbHVyYWwpCiAgICB7CiAgICAgICAgcmV0dXJuIEluZmxlY3Rpb25KUy5hcHBseV9ydWxlcygKICAgICAgICAgICAgdGhpcywKICAgICAgICAgICAgdGhpcy5fcGx1cmFsX3J1bGVzLAogICAgICAgICAgICB0aGlzLl91bmNvdW50YWJsZV93b3JkcywKICAgICAgICAgICAgcGx1cmFsCiAgICAgICAgKTsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIHNpbmd1bGFyaXphdGlvbiBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLnNpbmd1bGFyaXplKHNpbmd1bGFyKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgc2luZ3VsYXIgLSBTdHJpbmcgKG9wdGlvbmFsKSAtIG92ZXJyaWRlcyBub3JtYWwgb3V0cHV0IHdpdGggc2FpZCBTdHJpbmcKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIHBsdXJhbCBFbmdsaXNoIGxhbmd1YWdlIG5vdW5zIGFyZSByZXR1cm5lZCBpbiBzaW5ndWxhciBmb3JtCiAgICBFeGFtcGxlczoKICAgICAgInBlb3BsZSIuc2luZ3VsYXJpemUoKSA9PSAicGVyc29uIgogICAgICAib2N0b3BpIi5zaW5ndWxhcml6ZSgpID09ICJvY3RvcHVzIgogICAgICAiSGF0cyIuc2luZ3VsYXJpemUoKSA9PSAiSGF0IgogICAgICAiZ3V5cyIuc2luZ3VsYXJpemUoInBlcnNvbiIpID09ICJwZXJzb24iCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5zaW5ndWxhcml6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5zaW5ndWxhcml6ZSA9IGZ1bmN0aW9uKHNpbmd1bGFyKQogICAgewogICAgICAgIHJldHVybiBJbmZsZWN0aW9uSlMuYXBwbHlfcnVsZXMoCiAgICAgICAgICAgIHRoaXMsCiAgICAgICAgICAgIHRoaXMuX3Npbmd1bGFyX3J1bGVzLAogICAgICAgICAgICB0aGlzLl91bmNvdW50YWJsZV93b3JkcywKICAgICAgICAgICAgc2luZ3VsYXIKICAgICAgICApOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgY2FtZWxpemF0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuY2FtZWxpemUobG93Rmlyc3RMZXR0ZXIpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBsb3dGaXJzdExldHRlciAtIGJvb2xlYW4gKG9wdGlvbmFsKSAtIGRlZmF1bHQgaXMgdG8gY2FwaXRhbGl6ZSB0aGUgZmlyc3QKICAgICAgICBsZXR0ZXIgb2YgdGhlIHJlc3VsdHMuLi4gcGFzc2luZyB0cnVlIHdpbGwgbG93ZXJjYXNlIGl0CiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBsb3dlciBjYXNlIHVuZGVyc2NvcmVkIHdvcmRzIHdpbGwgYmUgcmV0dXJuZWQgaW4gY2FtZWwgY2FzZQogICAgICAgIGFkZGl0aW9uYWxseSAnLycgaXMgdHJhbnNsYXRlZCB0byAnOjonCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfcHJvcGVydGllcyIuY2FtZWxpemUoKSA9PSAiTWVzc2FnZVByb3BlcnRpZXMiCiAgICAgICJtZXNzYWdlX3Byb3BlcnRpZXMiLmNhbWVsaXplKHRydWUpID09ICJtZXNzYWdlUHJvcGVydGllcyIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLmNhbWVsaXplKQp7CiAgICAgU3RyaW5nLnByb3RvdHlwZS5jYW1lbGl6ZSA9IGZ1bmN0aW9uKGxvd0ZpcnN0TGV0dGVyKQogICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpcy50b0xvd2VyQ2FzZSgpOwogICAgICAgIHZhciBzdHJfcGF0aCA9IHN0ci5zcGxpdCgnLycpOwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyX3BhdGgubGVuZ3RoOyBpKyspCiAgICAgICAgewogICAgICAgICAgICB2YXIgc3RyX2FyciA9IHN0cl9wYXRoW2ldLnNwbGl0KCdfJyk7CiAgICAgICAgICAgIHZhciBpbml0WCA9ICgobG93Rmlyc3RMZXR0ZXIgJiYgaSArIDEgPT09IHN0cl9wYXRoLmxlbmd0aCkgPyAoMSkgOiAoMCkpOwogICAgICAgICAgICBmb3IgKHZhciB4ID0gaW5pdFg7IHggPCBzdHJfYXJyLmxlbmd0aDsgeCsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBzdHJfYXJyW3hdID0gc3RyX2Fyclt4XS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cl9hcnJbeF0uc3Vic3RyaW5nKDEpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHN0cl9wYXRoW2ldID0gc3RyX2Fyci5qb2luKCcnKTsKICAgICAgICB9CiAgICAgICAgc3RyID0gc3RyX3BhdGguam9pbignOjonKTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgdW5kZXJzY29yZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLnVuZGVyc2NvcmUoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBjYW1lbCBjYXNlZCB3b3JkcyBhcmUgcmV0dXJuZWQgYXMgbG93ZXIgY2FzZWQgYW5kIHVuZGVyc2NvcmVkCiAgICAgICAgYWRkaXRpb25hbGx5ICc6OicgaXMgdHJhbnNsYXRlZCB0byAnLycKICAgIEV4YW1wbGVzOgogICAgICAiTWVzc2FnZVByb3BlcnRpZXMiLmNhbWVsaXplKCkgPT0gIm1lc3NhZ2VfcHJvcGVydGllcyIKICAgICAgIm1lc3NhZ2VQcm9wZXJ0aWVzIi51bmRlcnNjb3JlKCkgPT0gIm1lc3NhZ2VfcHJvcGVydGllcyIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLnVuZGVyc2NvcmUpCnsKICAgICBTdHJpbmcucHJvdG90eXBlLnVuZGVyc2NvcmUgPSBmdW5jdGlvbigpCiAgICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHZhciBzdHJfcGF0aCA9IHN0ci5zcGxpdCgnOjonKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0cl9wYXRoLmxlbmd0aDsgaSsrKQogICAgICAgIHsKICAgICAgICAgICAgc3RyX3BhdGhbaV0gPSBzdHJfcGF0aFtpXS5yZXBsYWNlKEluZmxlY3Rpb25KUy51cHBlcmNhc2UsICdfJDEnKTsKICAgICAgICAgICAgc3RyX3BhdGhbaV0gPSBzdHJfcGF0aFtpXS5yZXBsYWNlKEluZmxlY3Rpb25KUy51bmRlcmJhcl9wcmVmaXgsICcnKTsKICAgICAgICB9CiAgICAgICAgc3RyID0gc3RyX3BhdGguam9pbignLycpLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIGh1bWFuaXplIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuaHVtYW5pemUobG93Rmlyc3RMZXR0ZXIpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBsb3dGaXJzdExldHRlciAtIGJvb2xlYW4gKG9wdGlvbmFsKSAtIGRlZmF1bHQgaXMgdG8gY2FwaXRhbGl6ZSB0aGUgZmlyc3QKICAgICAgICBsZXR0ZXIgb2YgdGhlIHJlc3VsdHMuLi4gcGFzc2luZyB0cnVlIHdpbGwgbG93ZXJjYXNlIGl0CiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBsb3dlciBjYXNlIHVuZGVyc2NvcmVkIHdvcmRzIHdpbGwgYmUgcmV0dXJuZWQgaW4gaHVtYW5pemVkIGZvcm0KICAgIEV4YW1wbGVzOgogICAgICAibWVzc2FnZV9wcm9wZXJ0aWVzIi5odW1hbml6ZSgpID09ICJNZXNzYWdlIHByb3BlcnRpZXMiCiAgICAgICJtZXNzYWdlX3Byb3BlcnRpZXMiLmh1bWFuaXplKHRydWUpID09ICJtZXNzYWdlIHByb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5odW1hbml6ZSkKewogICAgU3RyaW5nLnByb3RvdHlwZS5odW1hbml6ZSA9IGZ1bmN0aW9uKGxvd0ZpcnN0TGV0dGVyKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzLnRvTG93ZXJDYXNlKCk7CiAgICAgICAgc3RyID0gc3RyLnJlcGxhY2UoSW5mbGVjdGlvbkpTLmlkX3N1ZmZpeCwgJycpOwogICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKEluZmxlY3Rpb25KUy51bmRlcmJhciwgJyAnKTsKICAgICAgICBpZiAoIWxvd0ZpcnN0TGV0dGVyKQogICAgICAgIHsKICAgICAgICAgICAgc3RyID0gc3RyLmNhcGl0YWxpemUoKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIGNhcGl0YWxpemF0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuY2FwaXRhbGl6ZSgpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBOL0EKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIGFsbCBjaGFyYWN0ZXJzIHdpbGwgYmUgbG93ZXIgY2FzZSBhbmQgdGhlIGZpcnN0IHdpbGwgYmUgdXBwZXIKICAgIEV4YW1wbGVzOgogICAgICAibWVzc2FnZV9wcm9wZXJ0aWVzIi5jYXBpdGFsaXplKCkgPT0gIk1lc3NhZ2VfcHJvcGVydGllcyIKICAgICAgIm1lc3NhZ2UgcHJvcGVydGllcyIuY2FwaXRhbGl6ZSgpID09ICJNZXNzYWdlIHByb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5jYXBpdGFsaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLmNhcGl0YWxpemUgPSBmdW5jdGlvbigpCiAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXMudG9Mb3dlckNhc2UoKTsKICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBkYXNoZXJpemF0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuZGFzaGVyaXplKCkgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIE4vQQogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gcmVwbGFjZXMgYWxsIHNwYWNlcyBvciB1bmRlcmJhcnMgd2l0aCBkYXNoZXMKICAgIEV4YW1wbGVzOgogICAgICAibWVzc2FnZV9wcm9wZXJ0aWVzIi5jYXBpdGFsaXplKCkgPT0gIm1lc3NhZ2UtcHJvcGVydGllcyIKICAgICAgIk1lc3NhZ2UgUHJvcGVydGllcyIuY2FwaXRhbGl6ZSgpID09ICJNZXNzYWdlLVByb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5kYXNoZXJpemUpCnsKICAgIFN0cmluZy5wcm90b3R5cGUuZGFzaGVyaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHN0ciA9IHN0ci5yZXBsYWNlKEluZmxlY3Rpb25KUy5zcGFjZV9vcl91bmRlcmJhciwgJy0nKTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgdGl0bGVpemUgc3VwcG9ydCB0byBldmVyeSBTdHJpbmcgb2JqZWN0CiAgICBTaWduYXR1cmU6CiAgICAgIFN0cmluZy50aXRsZWl6ZSgpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBOL0EKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIGNhcGl0YWxpemVzIHdvcmRzIGFzIHlvdSB3b3VsZCBmb3IgYSBib29rIHRpdGxlCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfcHJvcGVydGllcyIudGl0bGVpemUoKSA9PSAiTWVzc2FnZSBQcm9wZXJ0aWVzIgogICAgICAibWVzc2FnZSBwcm9wZXJ0aWVzIHRvIGtlZXAiLnRpdGxlaXplKCkgPT0gIk1lc3NhZ2UgUHJvcGVydGllcyB0byBLZWVwIgoqLwppZiAoIVN0cmluZy5wcm90b3R5cGUudGl0bGVpemUpCnsKICAgIFN0cmluZy5wcm90b3R5cGUudGl0bGVpemUgPSBmdW5jdGlvbigpCiAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXMudG9Mb3dlckNhc2UoKTsKICAgICAgICBzdHIgPSBzdHIucmVwbGFjZShJbmZsZWN0aW9uSlMudW5kZXJiYXIsICcgJyk7CiAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHIuc3BsaXQoJyAnKTsKICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN0cl9hcnIubGVuZ3RoOyB4KyspCiAgICAgICAgewogICAgICAgICAgICB2YXIgZCA9IHN0cl9hcnJbeF0uc3BsaXQoJy0nKTsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkLmxlbmd0aDsgaSsrKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbm9uX3RpdGxlY2FzZWRfd29yZHMuaW5kZXhPZihkW2ldLnRvTG93ZXJDYXNlKCkpIDwgMCkKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBkW2ldID0gZFtpXS5jYXBpdGFsaXplKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgc3RyX2Fyclt4XSA9IGQuam9pbignLScpOwogICAgICAgIH0KICAgICAgICBzdHIgPSBzdHJfYXJyLmpvaW4oJyAnKTsKICAgICAgICBzdHIgPSBzdHIuc3Vic3RyaW5nKDAsIDEpLnRvVXBwZXJDYXNlKCkgKyBzdHIuc3Vic3RyaW5nKDEpOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyBkZW1vZHVsaXplIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuZGVtb2R1bGl6ZSgpID09IFN0cmluZwogICAgQXJndW1lbnRzOgogICAgICBOL0EKICAgIFJldHVybnM6CiAgICAgIFN0cmluZyAtIHJlbW92ZXMgbW9kdWxlIG5hbWVzIGxlYXZpbmcgb25seSBjbGFzcyBuYW1lcyAoUnVieSBzdHlsZSkKICAgIEV4YW1wbGVzOgogICAgICAiTWVzc2FnZTo6QnVzOjpQcm9wZXJ0aWVzIi5kZW1vZHVsaXplKCkgPT0gIlByb3BlcnRpZXMiCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5kZW1vZHVsaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLmRlbW9kdWxpemUgPSBmdW5jdGlvbigpCiAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXM7CiAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHIuc3BsaXQoJzo6Jyk7CiAgICAgICAgc3RyID0gc3RyX2FycltzdHJfYXJyLmxlbmd0aCAtIDFdOwogICAgICAgIHJldHVybiBzdHI7CiAgICB9Owp9CgovKgogIFRoaXMgZnVuY3Rpb24gYWRkcyB0YWJsZWl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLnRhYmxlaXplKCkgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIE4vQQogICAgUmV0dXJuczoKICAgICAgU3RyaW5nIC0gcmVuZGVycyBjYW1lbCBjYXNlZCB3b3JkcyBpbnRvIHRoZWlyIHVuZGVyc2NvcmVkIHBsdXJhbCBmb3JtCiAgICBFeGFtcGxlczoKICAgICAgIk1lc3NhZ2VCdXNQcm9wZXJ0eSIudGFibGVpemUoKSA9PSAibWVzc2FnZV9idXNfcHJvcGVydGllcyIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLnRhYmxlaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLnRhYmxlaXplID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHN0ciA9IHN0ci51bmRlcnNjb3JlKCkucGx1cmFsaXplKCk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIGNsYXNzaWZpY2F0aW9uIHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuY2xhc3NpZnkoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSB1bmRlcnNjb3JlZCBwbHVyYWwgbm91bnMgYmVjb21lIHRoZSBjYW1lbCBjYXNlZCBzaW5ndWxhciBmb3JtCiAgICBFeGFtcGxlczoKICAgICAgIm1lc3NhZ2VfYnVzX3Byb3BlcnRpZXMiLmNsYXNzaWZ5KCkgPT0gIk1lc3NhZ2VCdXNQcm9wZXJ0eSIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLmNsYXNzaWZ5KQp7CiAgICBTdHJpbmcucHJvdG90eXBlLmNsYXNzaWZ5ID0gZnVuY3Rpb24oKQogICAgewogICAgICAgIHZhciBzdHIgPSB0aGlzOwogICAgICAgIHN0ciA9IHN0ci5jYW1lbGl6ZSgpLnNpbmd1bGFyaXplKCk7CiAgICAgICAgcmV0dXJuIHN0cjsKICAgIH07Cn0KCi8qCiAgVGhpcyBmdW5jdGlvbiBhZGRzIGZvcmVpZ24ga2V5IHN1cHBvcnQgdG8gZXZlcnkgU3RyaW5nIG9iamVjdAogICAgU2lnbmF0dXJlOgogICAgICBTdHJpbmcuZm9yZWlnbl9rZXkoZHJvcElkVWJhcikgPT0gU3RyaW5nCiAgICBBcmd1bWVudHM6CiAgICAgIGRyb3BJZFViYXIgLSBib29sZWFuIChvcHRpb25hbCkgLSBkZWZhdWx0IGlzIHRvIHNlcGVyYXRlIGlkIHdpdGggYW4KICAgICAgICB1bmRlcmJhciBhdCB0aGUgZW5kIG9mIHRoZSBjbGFzcyBuYW1lLCB5b3UgY2FuIHBhc3MgdHJ1ZSB0byBza2lwIGl0CiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSBjYW1lbCBjYXNlZCBzaW5ndWxhciBjbGFzcyBuYW1lcyBiZWNvbWUgdW5kZXJzY29yZWQgd2l0aCBpZAogICAgRXhhbXBsZXM6CiAgICAgICJNZXNzYWdlQnVzUHJvcGVydHkiLmZvcmVpZ25fa2V5KCkgPT0gIm1lc3NhZ2VfYnVzX3Byb3BlcnR5X2lkIgogICAgICAiTWVzc2FnZUJ1c1Byb3BlcnR5Ii5mb3JlaWduX2tleSh0cnVlKSA9PSAibWVzc2FnZV9idXNfcHJvcGVydHlpZCIKKi8KaWYgKCFTdHJpbmcucHJvdG90eXBlLmZvcmVpZ25fa2V5KQp7CiAgICBTdHJpbmcucHJvdG90eXBlLmZvcmVpZ25fa2V5ID0gZnVuY3Rpb24oZHJvcElkVWJhcikKICAgIHsKICAgICAgICB2YXIgc3RyID0gdGhpczsKICAgICAgICBzdHIgPSBzdHIuZGVtb2R1bGl6ZSgpLnVuZGVyc2NvcmUoKSArICgoZHJvcElkVWJhcikgPyAoJycpIDogKCdfJykpICsgJ2lkJzsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQoKLyoKICBUaGlzIGZ1bmN0aW9uIGFkZHMgb3JkaW5hbGl6ZSBzdXBwb3J0IHRvIGV2ZXJ5IFN0cmluZyBvYmplY3QKICAgIFNpZ25hdHVyZToKICAgICAgU3RyaW5nLm9yZGluYWxpemUoKSA9PSBTdHJpbmcKICAgIEFyZ3VtZW50czoKICAgICAgTi9BCiAgICBSZXR1cm5zOgogICAgICBTdHJpbmcgLSByZW5kZXJzIGFsbCBmb3VuZCBudW1iZXJzIHRoZWlyIHNlcXVlbmNlIGxpa2UgIjIybmQiCiAgICBFeGFtcGxlczoKICAgICAgInRoZSAxIHBpdGNoIi5vcmRpbmFsaXplKCkgPT0gInRoZSAxc3QgcGl0Y2giCiovCmlmICghU3RyaW5nLnByb3RvdHlwZS5vcmRpbmFsaXplKQp7CiAgICBTdHJpbmcucHJvdG90eXBlLm9yZGluYWxpemUgPSBmdW5jdGlvbigpCiAgICB7CiAgICAgICAgdmFyIHN0ciA9IHRoaXM7CiAgICAgICAgdmFyIHN0cl9hcnIgPSBzdHIuc3BsaXQoJyAnKTsKICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN0cl9hcnIubGVuZ3RoOyB4KyspCiAgICAgICAgewogICAgICAgICAgICB2YXIgaSA9IHBhcnNlSW50KHN0cl9hcnJbeF0pOwogICAgICAgICAgICBpZiAoaSA9PT0gTmFOKQogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB2YXIgbHRkID0gc3RyX2Fyclt4XS5zdWJzdHJpbmcoc3RyX2Fyclt4XS5sZW5ndGggLSAyKTsKICAgICAgICAgICAgICAgIHZhciBsZCA9IHN0cl9hcnJbeF0uc3Vic3RyaW5nKHN0cl9hcnJbeF0ubGVuZ3RoIC0gMSk7CiAgICAgICAgICAgICAgICB2YXIgc3VmID0gInRoIjsKICAgICAgICAgICAgICAgIGlmIChsdGQgIT0gIjExIiAmJiBsdGQgIT0gIjEyIiAmJiBsdGQgIT0gIjEzIikKICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICBpZiAobGQgPT09ICIxIikKICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN1ZiA9ICJzdCI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGxkID09PSAiMiIpCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICBzdWYgPSAibmQiOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsZCA9PT0gIjMiKQogICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3VmID0gInJkIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBzdHJfYXJyW3hdICs9IHN1ZjsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBzdHIgPSBzdHJfYXJyLmpvaW4oJyAnKTsKICAgICAgICByZXR1cm4gc3RyOwogICAgfTsKfQovLyAgICAgVW5kZXJzY29yZS5qcyAxLjEuNwovLyAgICAgKGMpIDIwMTEgSmVyZW15IEFzaGtlbmFzLCBEb2N1bWVudENsb3VkIEluYy4KLy8gICAgIFVuZGVyc2NvcmUgaXMgZnJlZWx5IGRpc3RyaWJ1dGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlLgovLyAgICAgUG9ydGlvbnMgb2YgVW5kZXJzY29yZSBhcmUgaW5zcGlyZWQgb3IgYm9ycm93ZWQgZnJvbSBQcm90b3R5cGUsCi8vICAgICBPbGl2ZXIgU3RlZWxlJ3MgRnVuY3Rpb25hbCwgYW5kIEpvaG4gUmVzaWcncyBNaWNyby1UZW1wbGF0aW5nLgovLyAgICAgRm9yIGFsbCBkZXRhaWxzIGFuZCBkb2N1bWVudGF0aW9uOgovLyAgICAgaHR0cDovL2RvY3VtZW50Y2xvdWQuZ2l0aHViLmNvbS91bmRlcnNjb3JlCgooZnVuY3Rpb24oKSB7CgogIC8vIEJhc2VsaW5lIHNldHVwCiAgLy8gLS0tLS0tLS0tLS0tLS0KCiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBnbG9iYWxgIG9uIHRoZSBzZXJ2ZXIuCiAgdmFyIHJvb3QgPSB0aGlzOwoKICAvLyBTYXZlIHRoZSBwcmV2aW91cyB2YWx1ZSBvZiB0aGUgYF9gIHZhcmlhYmxlLgogIHZhciBwcmV2aW91c1VuZGVyc2NvcmUgPSByb290Ll87CgogIC8vIEVzdGFibGlzaCB0aGUgb2JqZWN0IHRoYXQgZ2V0cyByZXR1cm5lZCB0byBicmVhayBvdXQgb2YgYSBsb29wIGl0ZXJhdGlvbi4KICB2YXIgYnJlYWtlciA9IHt9OwoKICAvLyBTYXZlIGJ5dGVzIGluIHRoZSBtaW5pZmllZCAoYnV0IG5vdCBnemlwcGVkKSB2ZXJzaW9uOgogIHZhciBBcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLCBPYmpQcm90byA9IE9iamVjdC5wcm90b3R5cGUsIEZ1bmNQcm90byA9IEZ1bmN0aW9uLnByb3RvdHlwZTsKCiAgLy8gQ3JlYXRlIHF1aWNrIHJlZmVyZW5jZSB2YXJpYWJsZXMgZm9yIHNwZWVkIGFjY2VzcyB0byBjb3JlIHByb3RvdHlwZXMuCiAgdmFyIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLAogICAgICB1bnNoaWZ0ICAgICAgICAgID0gQXJyYXlQcm90by51bnNoaWZ0LAogICAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsCiAgICAgIGhhc093blByb3BlcnR5ICAgPSBPYmpQcm90by5oYXNPd25Qcm9wZXJ0eTsKCiAgLy8gQWxsICoqRUNNQVNjcmlwdCA1KiogbmF0aXZlIGZ1bmN0aW9uIGltcGxlbWVudGF0aW9ucyB0aGF0IHdlIGhvcGUgdG8gdXNlCiAgLy8gYXJlIGRlY2xhcmVkIGhlcmUuCiAgdmFyCiAgICBuYXRpdmVGb3JFYWNoICAgICAgPSBBcnJheVByb3RvLmZvckVhY2gsCiAgICBuYXRpdmVNYXAgICAgICAgICAgPSBBcnJheVByb3RvLm1hcCwKICAgIG5hdGl2ZVJlZHVjZSAgICAgICA9IEFycmF5UHJvdG8ucmVkdWNlLAogICAgbmF0aXZlUmVkdWNlUmlnaHQgID0gQXJyYXlQcm90by5yZWR1Y2VSaWdodCwKICAgIG5hdGl2ZUZpbHRlciAgICAgICA9IEFycmF5UHJvdG8uZmlsdGVyLAogICAgbmF0aXZlRXZlcnkgICAgICAgID0gQXJyYXlQcm90by5ldmVyeSwKICAgIG5hdGl2ZVNvbWUgICAgICAgICA9IEFycmF5UHJvdG8uc29tZSwKICAgIG5hdGl2ZUluZGV4T2YgICAgICA9IEFycmF5UHJvdG8uaW5kZXhPZiwKICAgIG5hdGl2ZUxhc3RJbmRleE9mICA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2YsCiAgICBuYXRpdmVJc0FycmF5ICAgICAgPSBBcnJheS5pc0FycmF5LAogICAgbmF0aXZlS2V5cyAgICAgICAgID0gT2JqZWN0LmtleXMsCiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZDsKCiAgLy8gQ3JlYXRlIGEgc2FmZSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciB1c2UgYmVsb3cuCiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHsgcmV0dXJuIG5ldyB3cmFwcGVyKG9iaik7IH07CgogIC8vIEV4cG9ydCB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yICoqQ29tbW9uSlMqKiwgd2l0aCBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eQogIC8vIGZvciB0aGUgb2xkIGByZXF1aXJlKClgIEFQSS4gSWYgd2UncmUgbm90IGluIENvbW1vbkpTLCBhZGQgYF9gIHRvIHRoZQogIC8vIGdsb2JhbCBvYmplY3QuCiAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7CiAgICBtb2R1bGUuZXhwb3J0cyA9IF87CiAgICBfLl8gPSBfOwogIH0gZWxzZSB7CiAgICAvLyBFeHBvcnRlZCBhcyBhIHN0cmluZywgZm9yIENsb3N1cmUgQ29tcGlsZXIgImFkdmFuY2VkIiBtb2RlLgogICAgcm9vdFsnXyddID0gXzsKICB9CgogIC8vIEN1cnJlbnQgdmVyc2lvbi4KICBfLlZFUlNJT04gPSAnMS4xLjcnOwoKICAvLyBDb2xsZWN0aW9uIEZ1bmN0aW9ucwogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8vIFRoZSBjb3JuZXJzdG9uZSwgYW4gYGVhY2hgIGltcGxlbWVudGF0aW9uLCBha2EgYGZvckVhY2hgLgogIC8vIEhhbmRsZXMgb2JqZWN0cyB3aXRoIHRoZSBidWlsdC1pbiBgZm9yRWFjaGAsIGFycmF5cywgYW5kIHJhdyBvYmplY3RzLgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBmb3JFYWNoYCBpZiBhdmFpbGFibGUuCiAgdmFyIGVhY2ggPSBfLmVhY2ggPSBfLmZvckVhY2ggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpZiAob2JqID09IG51bGwpIHJldHVybjsKICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7CiAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0KTsKICAgIH0gZWxzZSBpZiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpIHsKICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBvYmoubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGkgaW4gb2JqICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2ldLCBpLCBvYmopID09PSBicmVha2VyKSByZXR1cm47CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsKICAgICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXldLCBrZXksIG9iaikgPT09IGJyZWFrZXIpIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdG9yIHRvIGVhY2ggZWxlbWVudC4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgbWFwYCBpZiBhdmFpbGFibGUuCiAgXy5tYXAgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgcmVzdWx0cyA9IFtdOwogICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0czsKICAgIGlmIChuYXRpdmVNYXAgJiYgb2JqLm1hcCA9PT0gbmF0aXZlTWFwKSByZXR1cm4gb2JqLm1hcChpdGVyYXRvciwgY29udGV4dCk7CiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7CiAgICAgIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGhdID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICAvLyAqKlJlZHVjZSoqIGJ1aWxkcyB1cCBhIHNpbmdsZSByZXN1bHQgZnJvbSBhIGxpc3Qgb2YgdmFsdWVzLCBha2EgYGluamVjdGAsCiAgLy8gb3IgYGZvbGRsYC4gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHJlZHVjZWAgaWYgYXZhaWxhYmxlLgogIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgbWVtbywgY29udGV4dCkgewogICAgdmFyIGluaXRpYWwgPSBtZW1vICE9PSB2b2lkIDA7CiAgICBpZiAob2JqID09IG51bGwpIG9iaiA9IFtdOwogICAgaWYgKG5hdGl2ZVJlZHVjZSAmJiBvYmoucmVkdWNlID09PSBuYXRpdmVSZWR1Y2UpIHsKICAgICAgaWYgKGNvbnRleHQpIGl0ZXJhdG9yID0gXy5iaW5kKGl0ZXJhdG9yLCBjb250ZXh0KTsKICAgICAgcmV0dXJuIGluaXRpYWwgPyBvYmoucmVkdWNlKGl0ZXJhdG9yLCBtZW1vKSA6IG9iai5yZWR1Y2UoaXRlcmF0b3IpOwogICAgfQogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICBpZiAoIWluaXRpYWwpIHsKICAgICAgICBtZW1vID0gdmFsdWU7CiAgICAgICAgaW5pdGlhbCA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgdmFsdWUsIGluZGV4LCBsaXN0KTsKICAgICAgfQogICAgfSk7CiAgICBpZiAoIWluaXRpYWwpIHRocm93IG5ldyBUeXBlRXJyb3IoIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWUiKTsKICAgIHJldHVybiBtZW1vOwogIH07CgogIC8vIFRoZSByaWdodC1hc3NvY2lhdGl2ZSB2ZXJzaW9uIG9mIHJlZHVjZSwgYWxzbyBrbm93biBhcyBgZm9sZHJgLgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGByZWR1Y2VSaWdodGAgaWYgYXZhaWxhYmxlLgogIF8ucmVkdWNlUmlnaHQgPSBfLmZvbGRyID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgbWVtbywgY29udGV4dCkgewogICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTsKICAgIGlmIChuYXRpdmVSZWR1Y2VSaWdodCAmJiBvYmoucmVkdWNlUmlnaHQgPT09IG5hdGl2ZVJlZHVjZVJpZ2h0KSB7CiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7CiAgICAgIHJldHVybiBtZW1vICE9PSB2b2lkIDAgPyBvYmoucmVkdWNlUmlnaHQoaXRlcmF0b3IsIG1lbW8pIDogb2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yKTsKICAgIH0KICAgIHZhciByZXZlcnNlZCA9IChfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy50b0FycmF5KG9iaikpLnJldmVyc2UoKTsKICAgIHJldHVybiBfLnJlZHVjZShyZXZlcnNlZCwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpOwogIH07CgogIC8vIFJldHVybiB0aGUgZmlyc3QgdmFsdWUgd2hpY2ggcGFzc2VzIGEgdHJ1dGggdGVzdC4gQWxpYXNlZCBhcyBgZGV0ZWN0YC4KICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHQ7CiAgICBhbnkob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgewogICAgICAgIHJlc3VsdCA9IHZhbHVlOwogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfTsKCiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBwYXNzIGEgdHJ1dGggdGVzdC4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZmlsdGVyYCBpZiBhdmFpbGFibGUuCiAgLy8gQWxpYXNlZCBhcyBgc2VsZWN0YC4KICBfLmZpbHRlciA9IF8uc2VsZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7CiAgICBpZiAobmF0aXZlRmlsdGVyICYmIG9iai5maWx0ZXIgPT09IG5hdGl2ZUZpbHRlcikgcmV0dXJuIG9iai5maWx0ZXIoaXRlcmF0b3IsIGNvbnRleHQpOwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoXSA9IHZhbHVlOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLgogIF8ucmVqZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7CiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7CiAgICAgIGlmICghaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoXSA9IHZhbHVlOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwoKICAvLyBEZXRlcm1pbmUgd2hldGhlciBhbGwgb2YgdGhlIGVsZW1lbnRzIG1hdGNoIGEgdHJ1dGggdGVzdC4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZXZlcnlgIGlmIGF2YWlsYWJsZS4KICAvLyBBbGlhc2VkIGFzIGBhbGxgLgogIF8uZXZlcnkgPSBfLmFsbCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHQgPSB0cnVlOwogICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gcmVzdWx0OwogICAgaWYgKG5hdGl2ZUV2ZXJ5ICYmIG9iai5ldmVyeSA9PT0gbmF0aXZlRXZlcnkpIHJldHVybiBvYmouZXZlcnkoaXRlcmF0b3IsIGNvbnRleHQpOwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICBpZiAoIShyZXN1bHQgPSByZXN1bHQgJiYgaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSkgcmV0dXJuIGJyZWFrZXI7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQ7CiAgfTsKCiAgLy8gRGV0ZXJtaW5lIGlmIGF0IGxlYXN0IG9uZSBlbGVtZW50IGluIHRoZSBvYmplY3QgbWF0Y2hlcyBhIHRydXRoIHRlc3QuCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHNvbWVgIGlmIGF2YWlsYWJsZS4KICAvLyBBbGlhc2VkIGFzIGBhbnlgLgogIHZhciBhbnkgPSBfLnNvbWUgPSBfLmFueSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGl0ZXJhdG9yID0gaXRlcmF0b3IgfHwgXy5pZGVudGl0eTsKICAgIHZhciByZXN1bHQgPSBmYWxzZTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDsKICAgIGlmIChuYXRpdmVTb21lICYmIG9iai5zb21lID09PSBuYXRpdmVTb21lKSByZXR1cm4gb2JqLnNvbWUoaXRlcmF0b3IsIGNvbnRleHQpOwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICBpZiAocmVzdWx0IHw9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgcmV0dXJuIGJyZWFrZXI7CiAgICB9KTsKICAgIHJldHVybiAhIXJlc3VsdDsKICB9OwoKICAvLyBEZXRlcm1pbmUgaWYgYSBnaXZlbiB2YWx1ZSBpcyBpbmNsdWRlZCBpbiB0aGUgYXJyYXkgb3Igb2JqZWN0IHVzaW5nIGA9PT1gLgogIC8vIEFsaWFzZWQgYXMgYGNvbnRhaW5zYC4KICBfLmluY2x1ZGUgPSBfLmNvbnRhaW5zID0gZnVuY3Rpb24ob2JqLCB0YXJnZXQpIHsKICAgIHZhciBmb3VuZCA9IGZhbHNlOwogICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm4gZm91bmQ7CiAgICBpZiAobmF0aXZlSW5kZXhPZiAmJiBvYmouaW5kZXhPZiA9PT0gbmF0aXZlSW5kZXhPZikgcmV0dXJuIG9iai5pbmRleE9mKHRhcmdldCkgIT0gLTE7CiAgICBhbnkob2JqLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICBpZiAoZm91bmQgPSB2YWx1ZSA9PT0gdGFyZ2V0KSByZXR1cm4gdHJ1ZTsKICAgIH0pOwogICAgcmV0dXJuIGZvdW5kOwogIH07CgogIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLgogIF8uaW52b2tlID0gZnVuY3Rpb24ob2JqLCBtZXRob2QpIHsKICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgcmV0dXJuIChtZXRob2QuY2FsbCA/IG1ldGhvZCB8fCB2YWx1ZSA6IHZhbHVlW21ldGhvZF0pLmFwcGx5KHZhbHVlLCBhcmdzKTsKICAgIH0pOwogIH07CgogIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYG1hcGA6IGZldGNoaW5nIGEgcHJvcGVydHkuCiAgXy5wbHVjayA9IGZ1bmN0aW9uKG9iaiwga2V5KSB7CiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSl7IHJldHVybiB2YWx1ZVtrZXldOyB9KTsKICB9OwoKICAvLyBSZXR1cm4gdGhlIG1heGltdW0gZWxlbWVudCBvciAoZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuCiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpZiAoIWl0ZXJhdG9yICYmIF8uaXNBcnJheShvYmopKSByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgb2JqKTsKICAgIHZhciByZXN1bHQgPSB7Y29tcHV0ZWQgOiAtSW5maW5pdHl9OwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlOwogICAgICBjb21wdXRlZCA+PSByZXN1bHQuY29tcHV0ZWQgJiYgKHJlc3VsdCA9IHt2YWx1ZSA6IHZhbHVlLCBjb21wdXRlZCA6IGNvbXB1dGVkfSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQudmFsdWU7CiAgfTsKCiAgLy8gUmV0dXJuIHRoZSBtaW5pbXVtIGVsZW1lbnQgKG9yIGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLgogIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSkgcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsIG9iaik7CiAgICB2YXIgcmVzdWx0ID0ge2NvbXB1dGVkIDogSW5maW5pdHl9OwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlOwogICAgICBjb21wdXRlZCA8IHJlc3VsdC5jb21wdXRlZCAmJiAocmVzdWx0ID0ge3ZhbHVlIDogdmFsdWUsIGNvbXB1dGVkIDogY29tcHV0ZWR9KTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdC52YWx1ZTsKICB9OwoKICAvLyBTb3J0IHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0b3IuCiAgXy5zb3J0QnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICByZXR1cm4gXy5wbHVjayhfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICByZXR1cm4gewogICAgICAgIHZhbHVlIDogdmFsdWUsCiAgICAgICAgY3JpdGVyaWEgOiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkKICAgICAgfTsKICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHsKICAgICAgdmFyIGEgPSBsZWZ0LmNyaXRlcmlhLCBiID0gcmlnaHQuY3JpdGVyaWE7CiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogYSA+IGIgPyAxIDogMDsKICAgIH0pLCAndmFsdWUnKTsKICB9OwoKICAvLyBHcm91cHMgdGhlIG9iamVjdCdzIHZhbHVlcyBieSBhIGNyaXRlcmlvbiBwcm9kdWNlZCBieSBhbiBpdGVyYXRvcgogIF8uZ3JvdXBCeSA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IpIHsKICAgIHZhciByZXN1bHQgPSB7fTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHsKICAgICAgdmFyIGtleSA9IGl0ZXJhdG9yKHZhbHVlLCBpbmRleCk7CiAgICAgIChyZXN1bHRba2V5XSB8fCAocmVzdWx0W2tleV0gPSBbXSkpLnB1c2godmFsdWUpOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH07CgogIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCBhdCB3aGF0IGluZGV4IGFuIG9iamVjdCBzaG91bGQKICAvLyBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLgogIF8uc29ydGVkSW5kZXggPSBmdW5jdGlvbihhcnJheSwgb2JqLCBpdGVyYXRvcikgewogICAgaXRlcmF0b3IgfHwgKGl0ZXJhdG9yID0gXy5pZGVudGl0eSk7CiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGFycmF5Lmxlbmd0aDsKICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7CiAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4gMTsKICAgICAgaXRlcmF0b3IoYXJyYXlbbWlkXSkgPCBpdGVyYXRvcihvYmopID8gbG93ID0gbWlkICsgMSA6IGhpZ2ggPSBtaWQ7CiAgICB9CiAgICByZXR1cm4gbG93OwogIH07CgogIC8vIFNhZmVseSBjb252ZXJ0IGFueXRoaW5nIGl0ZXJhYmxlIGludG8gYSByZWFsLCBsaXZlIGFycmF5LgogIF8udG9BcnJheSA9IGZ1bmN0aW9uKGl0ZXJhYmxlKSB7CiAgICBpZiAoIWl0ZXJhYmxlKSAgICAgICAgICAgICAgICByZXR1cm4gW107CiAgICBpZiAoaXRlcmFibGUudG9BcnJheSkgICAgICAgICByZXR1cm4gaXRlcmFibGUudG9BcnJheSgpOwogICAgaWYgKF8uaXNBcnJheShpdGVyYWJsZSkpICAgICAgcmV0dXJuIHNsaWNlLmNhbGwoaXRlcmFibGUpOwogICAgaWYgKF8uaXNBcmd1bWVudHMoaXRlcmFibGUpKSAgcmV0dXJuIHNsaWNlLmNhbGwoaXRlcmFibGUpOwogICAgcmV0dXJuIF8udmFsdWVzKGl0ZXJhYmxlKTsKICB9OwoKICAvLyBSZXR1cm4gdGhlIG51bWJlciBvZiBlbGVtZW50cyBpbiBhbiBvYmplY3QuCiAgXy5zaXplID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gXy50b0FycmF5KG9iaikubGVuZ3RoOwogIH07CgogIC8vIEFycmF5IEZ1bmN0aW9ucwogIC8vIC0tLS0tLS0tLS0tLS0tLQoKICAvLyBHZXQgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gdGhlIGZpcnN0IE4KICAvLyB2YWx1ZXMgaW4gdGhlIGFycmF5LiBBbGlhc2VkIGFzIGBoZWFkYC4gVGhlICoqZ3VhcmQqKiBjaGVjayBhbGxvd3MgaXQgdG8gd29yawogIC8vIHdpdGggYF8ubWFwYC4KICBfLmZpcnN0ID0gXy5oZWFkID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7CiAgICByZXR1cm4gKG4gIT0gbnVsbCkgJiYgIWd1YXJkID8gc2xpY2UuY2FsbChhcnJheSwgMCwgbikgOiBhcnJheVswXTsKICB9OwoKICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgLgogIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqaW5kZXgqKiB3aWxsIHJldHVybgogIC8vIHRoZSByZXN0IG9mIHRoZSB2YWx1ZXMgaW4gdGhlIGFycmF5IGZyb20gdGhhdCBpbmRleCBvbndhcmQuIFRoZSAqKmd1YXJkKioKICAvLyBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuCiAgXy5yZXN0ID0gXy50YWlsID0gZnVuY3Rpb24oYXJyYXksIGluZGV4LCBndWFyZCkgewogICAgcmV0dXJuIHNsaWNlLmNhbGwoYXJyYXksIChpbmRleCA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBpbmRleCk7CiAgfTsKCiAgLy8gR2V0IHRoZSBsYXN0IGVsZW1lbnQgb2YgYW4gYXJyYXkuCiAgXy5sYXN0ID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiBhcnJheVthcnJheS5sZW5ndGggLSAxXTsKICB9OwoKICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuCiAgXy5jb21wYWN0ID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gISF2YWx1ZTsgfSk7CiAgfTsKCiAgLy8gUmV0dXJuIGEgY29tcGxldGVseSBmbGF0dGVuZWQgdmVyc2lvbiBvZiBhbiBhcnJheS4KICBfLmZsYXR0ZW4gPSBmdW5jdGlvbihhcnJheSkgewogICAgcmV0dXJuIF8ucmVkdWNlKGFycmF5LCBmdW5jdGlvbihtZW1vLCB2YWx1ZSkgewogICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSkgcmV0dXJuIG1lbW8uY29uY2F0KF8uZmxhdHRlbih2YWx1ZSkpOwogICAgICBtZW1vW21lbW8ubGVuZ3RoXSA9IHZhbHVlOwogICAgICByZXR1cm4gbWVtbzsKICAgIH0sIFtdKTsKICB9OwoKICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS4KICBfLndpdGhvdXQgPSBmdW5jdGlvbihhcnJheSkgewogICAgcmV0dXJuIF8uZGlmZmVyZW5jZShhcnJheSwgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICB9OwoKICAvLyBQcm9kdWNlIGEgZHVwbGljYXRlLWZyZWUgdmVyc2lvbiBvZiB0aGUgYXJyYXkuIElmIHRoZSBhcnJheSBoYXMgYWxyZWFkeQogIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS4KICAvLyBBbGlhc2VkIGFzIGB1bmlxdWVgLgogIF8udW5pcSA9IF8udW5pcXVlID0gZnVuY3Rpb24oYXJyYXksIGlzU29ydGVkKSB7CiAgICByZXR1cm4gXy5yZWR1Y2UoYXJyYXksIGZ1bmN0aW9uKG1lbW8sIGVsLCBpKSB7CiAgICAgIGlmICgwID09IGkgfHwgKGlzU29ydGVkID09PSB0cnVlID8gXy5sYXN0KG1lbW8pICE9IGVsIDogIV8uaW5jbHVkZShtZW1vLCBlbCkpKSBtZW1vW21lbW8ubGVuZ3RoXSA9IGVsOwogICAgICByZXR1cm4gbWVtbzsKICAgIH0sIFtdKTsKICB9OwoKICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2YKICAvLyB0aGUgcGFzc2VkLWluIGFycmF5cy4KICBfLnVuaW9uID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gXy51bmlxKF8uZmxhdHRlbihhcmd1bWVudHMpKTsKICB9OwoKICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlCiAgLy8gcGFzc2VkLWluIGFycmF5cy4gKEFsaWFzZWQgYXMgImludGVyc2VjdCIgZm9yIGJhY2stY29tcGF0LikKICBfLmludGVyc2VjdGlvbiA9IF8uaW50ZXJzZWN0ID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgIHZhciByZXN0ID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpOwogICAgcmV0dXJuIF8uZmlsdGVyKF8udW5pcShhcnJheSksIGZ1bmN0aW9uKGl0ZW0pIHsKICAgICAgcmV0dXJuIF8uZXZlcnkocmVzdCwgZnVuY3Rpb24ob3RoZXIpIHsKICAgICAgICByZXR1cm4gXy5pbmRleE9mKG90aGVyLCBpdGVtKSA+PSAwOwogICAgICB9KTsKICAgIH0pOwogIH07CgogIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGFub3RoZXIuCiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi4KICBfLmRpZmZlcmVuY2UgPSBmdW5jdGlvbihhcnJheSwgb3RoZXIpIHsKICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gIV8uaW5jbHVkZShvdGhlciwgdmFsdWUpOyB9KTsKICB9OwoKICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlCiAgLy8gYW4gaW5kZXggZ28gdG9nZXRoZXIuCiAgXy56aXAgPSBmdW5jdGlvbigpIHsKICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgdmFyIGxlbmd0aCA9IF8ubWF4KF8ucGx1Y2soYXJncywgJ2xlbmd0aCcpKTsKICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGxlbmd0aCk7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSByZXN1bHRzW2ldID0gXy5wbHVjayhhcmdzLCAiIiArIGkpOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgLy8gSWYgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwbHkgdXMgd2l0aCBpbmRleE9mIChJJ20gbG9va2luZyBhdCB5b3UsICoqTVNJRSoqKSwKICAvLyB3ZSBuZWVkIHRoaXMgZnVuY3Rpb24uIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW4KICAvLyBpdGVtIGluIGFuIGFycmF5LCBvciAtMSBpZiB0aGUgaXRlbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhlIGFycmF5LgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBpbmRleE9mYCBpZiBhdmFpbGFibGUuCiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgCiAgLy8gZm9yICoqaXNTb3J0ZWQqKiB0byB1c2UgYmluYXJ5IHNlYXJjaC4KICBfLmluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSwgaXNTb3J0ZWQpIHsKICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7CiAgICB2YXIgaSwgbDsKICAgIGlmIChpc1NvcnRlZCkgewogICAgICBpID0gXy5zb3J0ZWRJbmRleChhcnJheSwgaXRlbSk7CiAgICAgIHJldHVybiBhcnJheVtpXSA9PT0gaXRlbSA/IGkgOiAtMTsKICAgIH0KICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0pOwogICAgZm9yIChpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTsKICAgIHJldHVybiAtMTsKICB9OwoKCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGxhc3RJbmRleE9mYCBpZiBhdmFpbGFibGUuCiAgXy5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtKSB7CiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIC0xOwogICAgaWYgKG5hdGl2ZUxhc3RJbmRleE9mICYmIGFycmF5Lmxhc3RJbmRleE9mID09PSBuYXRpdmVMYXN0SW5kZXhPZikgcmV0dXJuIGFycmF5Lmxhc3RJbmRleE9mKGl0ZW0pOwogICAgdmFyIGkgPSBhcnJheS5sZW5ndGg7CiAgICB3aGlsZSAoaS0tKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpOwogICAgcmV0dXJuIC0xOwogIH07CgogIC8vIEdlbmVyYXRlIGFuIGludGVnZXIgQXJyYXkgY29udGFpbmluZyBhbiBhcml0aG1ldGljIHByb2dyZXNzaW9uLiBBIHBvcnQgb2YKICAvLyB0aGUgbmF0aXZlIFB5dGhvbiBgcmFuZ2UoKWAgZnVuY3Rpb24uIFNlZQogIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuCiAgXy5yYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0LCBzdG9wLCBzdGVwKSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8PSAxKSB7CiAgICAgIHN0b3AgPSBzdGFydCB8fCAwOwogICAgICBzdGFydCA9IDA7CiAgICB9CiAgICBzdGVwID0gYXJndW1lbnRzWzJdIHx8IDE7CgogICAgdmFyIGxlbiA9IE1hdGgubWF4KE1hdGguY2VpbCgoc3RvcCAtIHN0YXJ0KSAvIHN0ZXApLCAwKTsKICAgIHZhciBpZHggPSAwOwogICAgdmFyIHJhbmdlID0gbmV3IEFycmF5KGxlbik7CgogICAgd2hpbGUoaWR4IDwgbGVuKSB7CiAgICAgIHJhbmdlW2lkeCsrXSA9IHN0YXJ0OwogICAgICBzdGFydCArPSBzdGVwOwogICAgfQoKICAgIHJldHVybiByYW5nZTsKICB9OwoKICAvLyBGdW5jdGlvbiAoYWhlbSkgRnVuY3Rpb25zCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tCgogIC8vIENyZWF0ZSBhIGZ1bmN0aW9uIGJvdW5kIHRvIGEgZ2l2ZW4gb2JqZWN0IChhc3NpZ25pbmcgYHRoaXNgLCBhbmQgYXJndW1lbnRzLAogIC8vIG9wdGlvbmFsbHkpLiBCaW5kaW5nIHdpdGggYXJndW1lbnRzIGlzIGFsc28ga25vd24gYXMgYGN1cnJ5YC4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgRnVuY3Rpb24uYmluZGAgaWYgYXZhaWxhYmxlLgogIC8vIFdlIGNoZWNrIGZvciBgZnVuYy5iaW5kYCBmaXJzdCwgdG8gZmFpbCBmYXN0IHdoZW4gYGZ1bmNgIGlzIHVuZGVmaW5lZC4KICBfLmJpbmQgPSBmdW5jdGlvbihmdW5jLCBvYmopIHsKICAgIGlmIChmdW5jLmJpbmQgPT09IG5hdGl2ZUJpbmQgJiYgbmF0aXZlQmluZCkgcmV0dXJuIG5hdGl2ZUJpbmQuYXBwbHkoZnVuYywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsKICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gZnVuYy5hcHBseShvYmosIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpOwogICAgfTsKICB9OwoKICAvLyBCaW5kIGFsbCBvZiBhbiBvYmplY3QncyBtZXRob2RzIHRvIHRoYXQgb2JqZWN0LiBVc2VmdWwgZm9yIGVuc3VyaW5nIHRoYXQKICAvLyBhbGwgY2FsbGJhY2tzIGRlZmluZWQgb24gYW4gb2JqZWN0IGJlbG9uZyB0byBpdC4KICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHsKICAgIHZhciBmdW5jcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIGlmIChmdW5jcy5sZW5ndGggPT0gMCkgZnVuY3MgPSBfLmZ1bmN0aW9ucyhvYmopOwogICAgZWFjaChmdW5jcywgZnVuY3Rpb24oZikgeyBvYmpbZl0gPSBfLmJpbmQob2JqW2ZdLCBvYmopOyB9KTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy4KICBfLm1lbW9pemUgPSBmdW5jdGlvbihmdW5jLCBoYXNoZXIpIHsKICAgIHZhciBtZW1vID0ge307CiAgICBoYXNoZXIgfHwgKGhhc2hlciA9IF8uaWRlbnRpdHkpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIga2V5ID0gaGFzaGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG1lbW8sIGtleSkgPyBtZW1vW2tleV0gOiAobWVtb1trZXldID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTsKICAgIH07CiAgfTsKCiAgLy8gRGVsYXlzIGEgZnVuY3Rpb24gZm9yIHRoZSBnaXZlbiBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLCBhbmQgdGhlbiBjYWxscwogIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC4KICBfLmRlbGF5ID0gZnVuY3Rpb24oZnVuYywgd2FpdCkgewogICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7CiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpeyByZXR1cm4gZnVuYy5hcHBseShmdW5jLCBhcmdzKTsgfSwgd2FpdCk7CiAgfTsKCiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzCiAgLy8gY2xlYXJlZC4KICBfLmRlZmVyID0gZnVuY3Rpb24oZnVuYykgewogICAgcmV0dXJuIF8uZGVsYXkuYXBwbHkoXywgW2Z1bmMsIDFdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTsKICB9OwoKICAvLyBJbnRlcm5hbCBmdW5jdGlvbiB1c2VkIHRvIGltcGxlbWVudCBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC4KICB2YXIgbGltaXQgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBkZWJvdW5jZSkgewogICAgdmFyIHRpbWVvdXQ7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBjb250ZXh0ID0gdGhpcywgYXJncyA9IGFyZ3VtZW50czsKICAgICAgdmFyIHRocm90dGxlciA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVvdXQgPSBudWxsOwogICAgICAgIGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7CiAgICAgIH07CiAgICAgIGlmIChkZWJvdW5jZSkgY2xlYXJUaW1lb3V0KHRpbWVvdXQpOwogICAgICBpZiAoZGVib3VuY2UgfHwgIXRpbWVvdXQpIHRpbWVvdXQgPSBzZXRUaW1lb3V0KHRocm90dGxlciwgd2FpdCk7CiAgICB9OwogIH07CgogIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgd2hlbiBpbnZva2VkLCB3aWxsIG9ubHkgYmUgdHJpZ2dlcmVkIGF0IG1vc3Qgb25jZQogIC8vIGR1cmluZyBhIGdpdmVuIHdpbmRvdyBvZiB0aW1lLgogIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7CiAgICByZXR1cm4gbGltaXQoZnVuYywgd2FpdCwgZmFsc2UpOwogIH07CgogIC8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3QKICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yCiAgLy8gTiBtaWxsaXNlY29uZHMuCiAgXy5kZWJvdW5jZSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHsKICAgIHJldHVybiBsaW1pdChmdW5jLCB3YWl0LCB0cnVlKTsKICB9OwoKICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3cKICAvLyBvZnRlbiB5b3UgY2FsbCBpdC4gVXNlZnVsIGZvciBsYXp5IGluaXRpYWxpemF0aW9uLgogIF8ub25jZSA9IGZ1bmN0aW9uKGZ1bmMpIHsKICAgIHZhciByYW4gPSBmYWxzZSwgbWVtbzsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgaWYgKHJhbikgcmV0dXJuIG1lbW87CiAgICAgIHJhbiA9IHRydWU7CiAgICAgIHJldHVybiBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgfTsKICB9OwoKICAvLyBSZXR1cm5zIHRoZSBmaXJzdCBmdW5jdGlvbiBwYXNzZWQgYXMgYW4gYXJndW1lbnQgdG8gdGhlIHNlY29uZCwKICAvLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kCiAgLy8gY29uZGl0aW9uYWxseSBleGVjdXRlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbi4KICBfLndyYXAgPSBmdW5jdGlvbihmdW5jLCB3cmFwcGVyKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIHZhciBhcmdzID0gW2Z1bmNdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpOwogICAgICByZXR1cm4gd3JhcHBlci5hcHBseSh0aGlzLCBhcmdzKTsKICAgIH07CiAgfTsKCiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2gKICAvLyBjb25zdW1pbmcgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZnVuY3Rpb24gdGhhdCBmb2xsb3dzLgogIF8uY29tcG9zZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGZ1bmNzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpOwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgZm9yICh2YXIgaSA9IGZ1bmNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgYXJncyA9IFtmdW5jc1tpXS5hcHBseSh0aGlzLCBhcmdzKV07CiAgICAgIH0KICAgICAgcmV0dXJuIGFyZ3NbMF07CiAgICB9OwogIH07CgogIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHdpbGwgb25seSBiZSBleGVjdXRlZCBhZnRlciBiZWluZyBjYWxsZWQgTiB0aW1lcy4KICBfLmFmdGVyID0gZnVuY3Rpb24odGltZXMsIGZ1bmMpIHsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgaWYgKC0tdGltZXMgPCAxKSB7IHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH0KICAgIH07CiAgfTsKCgogIC8vIE9iamVjdCBGdW5jdGlvbnMKICAvLyAtLS0tLS0tLS0tLS0tLS0tCgogIC8vIFJldHJpZXZlIHRoZSBuYW1lcyBvZiBhbiBvYmplY3QncyBwcm9wZXJ0aWVzLgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2AKICBfLmtleXMgPSBuYXRpdmVLZXlzIHx8IGZ1bmN0aW9uKG9iaikgewogICAgaWYgKG9iaiAhPT0gT2JqZWN0KG9iaikpIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgb2JqZWN0Jyk7CiAgICB2YXIga2V5cyA9IFtdOwogICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSBrZXlzW2tleXMubGVuZ3RoXSA9IGtleTsKICAgIHJldHVybiBrZXlzOwogIH07CgogIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy4KICBfLnZhbHVlcyA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7CiAgfTsKCiAgLy8gUmV0dXJuIGEgc29ydGVkIGxpc3Qgb2YgdGhlIGZ1bmN0aW9uIG5hbWVzIGF2YWlsYWJsZSBvbiB0aGUgb2JqZWN0LgogIC8vIEFsaWFzZWQgYXMgYG1ldGhvZHNgCiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHsKICAgIHZhciBuYW1lcyA9IFtdOwogICAgZm9yICh2YXIga2V5IGluIG9iaikgewogICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpOwogICAgfQogICAgcmV0dXJuIG5hbWVzLnNvcnQoKTsKICB9OwoKICAvLyBFeHRlbmQgYSBnaXZlbiBvYmplY3Qgd2l0aCBhbGwgdGhlIHByb3BlcnRpZXMgaW4gcGFzc2VkLWluIG9iamVjdChzKS4KICBfLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaikgewogICAgZWFjaChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZ1bmN0aW9uKHNvdXJjZSkgewogICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkgewogICAgICAgIGlmIChzb3VyY2VbcHJvcF0gIT09IHZvaWQgMCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy4KICBfLmRlZmF1bHRzID0gZnVuY3Rpb24ob2JqKSB7CiAgICBlYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgZnVuY3Rpb24oc291cmNlKSB7CiAgICAgIGZvciAodmFyIHByb3AgaW4gc291cmNlKSB7CiAgICAgICAgaWYgKG9ialtwcm9wXSA9PSBudWxsKSBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIG9iajsKICB9OwoKICAvLyBDcmVhdGUgYSAoc2hhbGxvdy1jbG9uZWQpIGR1cGxpY2F0ZSBvZiBhbiBvYmplY3QuCiAgXy5jbG9uZSA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTsKICB9OwoKICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouCiAgLy8gVGhlIHByaW1hcnkgcHVycG9zZSBvZiB0aGlzIG1ldGhvZCBpcyB0byAidGFwIGludG8iIGEgbWV0aG9kIGNoYWluLCBpbgogIC8vIG9yZGVyIHRvIHBlcmZvcm0gb3BlcmF0aW9ucyBvbiBpbnRlcm1lZGlhdGUgcmVzdWx0cyB3aXRoaW4gdGhlIGNoYWluLgogIF8udGFwID0gZnVuY3Rpb24ob2JqLCBpbnRlcmNlcHRvcikgewogICAgaW50ZXJjZXB0b3Iob2JqKTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gUGVyZm9ybSBhIGRlZXAgY29tcGFyaXNvbiB0byBjaGVjayBpZiB0d28gb2JqZWN0cyBhcmUgZXF1YWwuCiAgXy5pc0VxdWFsID0gZnVuY3Rpb24oYSwgYikgewogICAgLy8gQ2hlY2sgb2JqZWN0IGlkZW50aXR5LgogICAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlOwogICAgLy8gRGlmZmVyZW50IHR5cGVzPwogICAgdmFyIGF0eXBlID0gdHlwZW9mKGEpLCBidHlwZSA9IHR5cGVvZihiKTsKICAgIGlmIChhdHlwZSAhPSBidHlwZSkgcmV0dXJuIGZhbHNlOwogICAgLy8gQmFzaWMgZXF1YWxpdHkgdGVzdCAod2F0Y2ggb3V0IGZvciBjb2VyY2lvbnMpLgogICAgaWYgKGEgPT0gYikgcmV0dXJuIHRydWU7CiAgICAvLyBPbmUgaXMgZmFsc3kgYW5kIHRoZSBvdGhlciB0cnV0aHkuCiAgICBpZiAoKCFhICYmIGIpIHx8IChhICYmICFiKSkgcmV0dXJuIGZhbHNlOwogICAgLy8gVW53cmFwIGFueSB3cmFwcGVkIG9iamVjdHMuCiAgICBpZiAoYS5fY2hhaW4pIGEgPSBhLl93cmFwcGVkOwogICAgaWYgKGIuX2NoYWluKSBiID0gYi5fd3JhcHBlZDsKICAgIC8vIE9uZSBvZiB0aGVtIGltcGxlbWVudHMgYW4gaXNFcXVhbCgpPwogICAgaWYgKGEuaXNFcXVhbCkgcmV0dXJuIGEuaXNFcXVhbChiKTsKICAgIGlmIChiLmlzRXF1YWwpIHJldHVybiBiLmlzRXF1YWwoYSk7CiAgICAvLyBDaGVjayBkYXRlcycgaW50ZWdlciB2YWx1ZXMuCiAgICBpZiAoXy5pc0RhdGUoYSkgJiYgXy5pc0RhdGUoYikpIHJldHVybiBhLmdldFRpbWUoKSA9PT0gYi5nZXRUaW1lKCk7CiAgICAvLyBCb3RoIGFyZSBOYU4/CiAgICBpZiAoXy5pc05hTihhKSAmJiBfLmlzTmFOKGIpKSByZXR1cm4gZmFsc2U7CiAgICAvLyBDb21wYXJlIHJlZ3VsYXIgZXhwcmVzc2lvbnMuCiAgICBpZiAoXy5pc1JlZ0V4cChhKSAmJiBfLmlzUmVnRXhwKGIpKQogICAgICByZXR1cm4gYS5zb3VyY2UgICAgID09PSBiLnNvdXJjZSAmJgogICAgICAgICAgICAgYS5nbG9iYWwgICAgID09PSBiLmdsb2JhbCAmJgogICAgICAgICAgICAgYS5pZ25vcmVDYXNlID09PSBiLmlnbm9yZUNhc2UgJiYKICAgICAgICAgICAgIGEubXVsdGlsaW5lICA9PT0gYi5tdWx0aWxpbmU7CiAgICAvLyBJZiBhIGlzIG5vdCBhbiBvYmplY3QgYnkgdGhpcyBwb2ludCwgd2UgY2FuJ3QgaGFuZGxlIGl0LgogICAgaWYgKGF0eXBlICE9PSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlOwogICAgLy8gQ2hlY2sgZm9yIGRpZmZlcmVudCBhcnJheSBsZW5ndGhzIGJlZm9yZSBjb21wYXJpbmcgY29udGVudHMuCiAgICBpZiAoYS5sZW5ndGggJiYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aCkpIHJldHVybiBmYWxzZTsKICAgIC8vIE5vdGhpbmcgZWxzZSB3b3JrZWQsIGRlZXAgY29tcGFyZSB0aGUgY29udGVudHMuCiAgICB2YXIgYUtleXMgPSBfLmtleXMoYSksIGJLZXlzID0gXy5rZXlzKGIpOwogICAgLy8gRGlmZmVyZW50IG9iamVjdCBzaXplcz8KICAgIGlmIChhS2V5cy5sZW5ndGggIT0gYktleXMubGVuZ3RoKSByZXR1cm4gZmFsc2U7CiAgICAvLyBSZWN1cnNpdmUgY29tcGFyaXNvbiBvZiBjb250ZW50cy4KICAgIGZvciAodmFyIGtleSBpbiBhKSBpZiAoIShrZXkgaW4gYikgfHwgIV8uaXNFcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gYXJyYXkgb3Igb2JqZWN0IGVtcHR5PwogIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikgewogICAgaWYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHJldHVybiBmYWxzZTsKICAgIHJldHVybiB0cnVlOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD8KICBfLmlzRWxlbWVudCA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuICEhKG9iaiAmJiBvYmoubm9kZVR5cGUgPT0gMSk7CiAgfTsKCiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT8KICAvLyBEZWxlZ2F0ZXMgdG8gRUNNQTUncyBuYXRpdmUgQXJyYXkuaXNBcnJheQogIF8uaXNBcnJheSA9IG5hdGl2ZUlzQXJyYXkgfHwgZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBBcnJheV0nOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gb2JqZWN0PwogIF8uaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBvYmogPT09IE9iamVjdChvYmopOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFyaWFibGUgYW4gYXJndW1lbnRzIG9iamVjdD8KICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqLCAnY2FsbGVlJykpOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBmdW5jdGlvbj8KICBfLmlzRnVuY3Rpb24gPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiAhIShvYmogJiYgb2JqLmNvbnN0cnVjdG9yICYmIG9iai5jYWxsICYmIG9iai5hcHBseSk7CiAgfTsKCiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIHN0cmluZz8KICBfLmlzU3RyaW5nID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqID09PSAnJyB8fCAob2JqICYmIG9iai5jaGFyQ29kZUF0ICYmIG9iai5zdWJzdHIpKTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgbnVtYmVyPwogIF8uaXNOdW1iZXIgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiAhIShvYmogPT09IDAgfHwgKG9iaiAmJiBvYmoudG9FeHBvbmVudGlhbCAmJiBvYmoudG9GaXhlZCkpOwogIH07CgogIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBgTmFOYD8gYE5hTmAgaGFwcGVucyB0byBiZSB0aGUgb25seSB2YWx1ZSBpbiBKYXZhU2NyaXB0CiAgLy8gdGhhdCBkb2VzIG5vdCBlcXVhbCBpdHNlbGYuCiAgXy5pc05hTiA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIG9iaiAhPT0gb2JqOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBib29sZWFuPwogIF8uaXNCb29sZWFuID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2U7CiAgfTsKCiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIGRhdGU/CiAgXy5pc0RhdGUgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiAhIShvYmogJiYgb2JqLmdldFRpbWV6b25lT2Zmc2V0ICYmIG9iai5zZXRVVENGdWxsWWVhcik7CiAgfTsKCiAgLy8gSXMgdGhlIGdpdmVuIHZhbHVlIGEgcmVndWxhciBleHByZXNzaW9uPwogIF8uaXNSZWdFeHAgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiAhIShvYmogJiYgb2JqLnRlc3QgJiYgb2JqLmV4ZWMgJiYgKG9iai5pZ25vcmVDYXNlIHx8IG9iai5pZ25vcmVDYXNlID09PSBmYWxzZSkpOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgZXF1YWwgdG8gbnVsbD8KICBfLmlzTnVsbCA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIG9iaiA9PT0gbnVsbDsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD8KICBfLmlzVW5kZWZpbmVkID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gb2JqID09PSB2b2lkIDA7CiAgfTsKCiAgLy8gVXRpbGl0eSBGdW5jdGlvbnMKICAvLyAtLS0tLS0tLS0tLS0tLS0tLQoKICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzCiAgLy8gcHJldmlvdXMgb3duZXIuIFJldHVybnMgYSByZWZlcmVuY2UgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LgogIF8ubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkgewogICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gS2VlcCB0aGUgaWRlbnRpdHkgZnVuY3Rpb24gYXJvdW5kIGZvciBkZWZhdWx0IGl0ZXJhdG9ycy4KICBfLmlkZW50aXR5ID0gZnVuY3Rpb24odmFsdWUpIHsKICAgIHJldHVybiB2YWx1ZTsKICB9OwoKICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy4KICBfLnRpbWVzID0gZnVuY3Rpb24gKG4sIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBpKTsKICB9OwoKICAvLyBBZGQgeW91ciBvd24gY3VzdG9tIGZ1bmN0aW9ucyB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QsIGVuc3VyaW5nIHRoYXQKICAvLyB0aGV5J3JlIGNvcnJlY3RseSBhZGRlZCB0byB0aGUgT09QIHdyYXBwZXIgYXMgd2VsbC4KICBfLm1peGluID0gZnVuY3Rpb24ob2JqKSB7CiAgICBlYWNoKF8uZnVuY3Rpb25zKG9iaiksIGZ1bmN0aW9uKG5hbWUpewogICAgICBhZGRUb1dyYXBwZXIobmFtZSwgX1tuYW1lXSA9IG9ialtuYW1lXSk7CiAgICB9KTsKICB9OwoKICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLgogIC8vIFVzZWZ1bCBmb3IgdGVtcG9yYXJ5IERPTSBpZHMuCiAgdmFyIGlkQ291bnRlciA9IDA7CiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkgewogICAgdmFyIGlkID0gaWRDb3VudGVyKys7CiAgICByZXR1cm4gcHJlZml4ID8gcHJlZml4ICsgaWQgOiBpZDsKICB9OwoKICAvLyBCeSBkZWZhdWx0LCBVbmRlcnNjb3JlIHVzZXMgRVJCLXN0eWxlIHRlbXBsYXRlIGRlbGltaXRlcnMsIGNoYW5nZSB0aGUKICAvLyBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuCiAgXy50ZW1wbGF0ZVNldHRpbmdzID0gewogICAgZXZhbHVhdGUgICAgOiAvPCUoW1xzXFNdKz8pJT4vZywKICAgIGludGVycG9sYXRlIDogLzwlPShbXHNcU10rPyklPi9nCiAgfTsKCiAgLy8gSmF2YVNjcmlwdCBtaWNyby10ZW1wbGF0aW5nLCBzaW1pbGFyIHRvIEpvaG4gUmVzaWcncyBpbXBsZW1lbnRhdGlvbi4KICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsCiAgLy8gYW5kIGNvcnJlY3RseSBlc2NhcGVzIHF1b3RlcyB3aXRoaW4gaW50ZXJwb2xhdGVkIGNvZGUuCiAgXy50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHN0ciwgZGF0YSkgewogICAgdmFyIGMgID0gXy50ZW1wbGF0ZVNldHRpbmdzOwogICAgdmFyIHRtcGwgPSAndmFyIF9fcD1bXSxwcmludD1mdW5jdGlvbigpe19fcC5wdXNoLmFwcGx5KF9fcCxhcmd1bWVudHMpO307JyArCiAgICAgICd3aXRoKG9ianx8e30pe19fcC5wdXNoKFwnJyArCiAgICAgIHN0ci5yZXBsYWNlKC9cXC9nLCAnXFxcXCcpCiAgICAgICAgIC5yZXBsYWNlKC8nL2csICJcXCciKQogICAgICAgICAucmVwbGFjZShjLmludGVycG9sYXRlLCBmdW5jdGlvbihtYXRjaCwgY29kZSkgewogICAgICAgICAgIHJldHVybiAiJywiICsgY29kZS5yZXBsYWNlKC9cXCcvZywgIiciKSArICIsJyI7CiAgICAgICAgIH0pCiAgICAgICAgIC5yZXBsYWNlKGMuZXZhbHVhdGUgfHwgbnVsbCwgZnVuY3Rpb24obWF0Y2gsIGNvZGUpIHsKICAgICAgICAgICByZXR1cm4gIicpOyIgKyBjb2RlLnJlcGxhY2UoL1xcJy9nLCAiJyIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bXHJcblx0XS9nLCAnICcpICsgIl9fcC5wdXNoKCciOwogICAgICAgICB9KQogICAgICAgICAucmVwbGFjZSgvXHIvZywgJ1xccicpCiAgICAgICAgIC5yZXBsYWNlKC9cbi9nLCAnXFxuJykKICAgICAgICAgLnJlcGxhY2UoL1x0L2csICdcXHQnKQogICAgICAgICArICInKTt9cmV0dXJuIF9fcC5qb2luKCcnKTsiOwogICAgdmFyIGZ1bmMgPSBuZXcgRnVuY3Rpb24oJ29iaicsIHRtcGwpOwogICAgcmV0dXJuIGRhdGEgPyBmdW5jKGRhdGEpIDogZnVuYzsKICB9OwoKICAvLyBUaGUgT09QIFdyYXBwZXIKICAvLyAtLS0tLS0tLS0tLS0tLS0KCiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXQKICAvLyBjYW4gYmUgdXNlZCBPTy1zdHlsZS4gVGhpcyB3cmFwcGVyIGhvbGRzIGFsdGVyZWQgdmVyc2lvbnMgb2YgYWxsIHRoZQogIC8vIHVuZGVyc2NvcmUgZnVuY3Rpb25zLiBXcmFwcGVkIG9iamVjdHMgbWF5IGJlIGNoYWluZWQuCiAgdmFyIHdyYXBwZXIgPSBmdW5jdGlvbihvYmopIHsgdGhpcy5fd3JhcHBlZCA9IG9iajsgfTsKCiAgLy8gRXhwb3NlIGB3cmFwcGVyLnByb3RvdHlwZWAgYXMgYF8ucHJvdG90eXBlYAogIF8ucHJvdG90eXBlID0gd3JhcHBlci5wcm90b3R5cGU7CgogIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjb250aW51ZSBjaGFpbmluZyBpbnRlcm1lZGlhdGUgcmVzdWx0cy4KICB2YXIgcmVzdWx0ID0gZnVuY3Rpb24ob2JqLCBjaGFpbikgewogICAgcmV0dXJuIGNoYWluID8gXyhvYmopLmNoYWluKCkgOiBvYmo7CiAgfTsKCiAgLy8gQSBtZXRob2QgdG8gZWFzaWx5IGFkZCBmdW5jdGlvbnMgdG8gdGhlIE9PUCB3cmFwcGVyLgogIHZhciBhZGRUb1dyYXBwZXIgPSBmdW5jdGlvbihuYW1lLCBmdW5jKSB7CiAgICB3cmFwcGVyLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgICAgdW5zaGlmdC5jYWxsKGFyZ3MsIHRoaXMuX3dyYXBwZWQpOwogICAgICByZXR1cm4gcmVzdWx0KGZ1bmMuYXBwbHkoXywgYXJncyksIHRoaXMuX2NoYWluKTsKICAgIH07CiAgfTsKCiAgLy8gQWRkIGFsbCBvZiB0aGUgVW5kZXJzY29yZSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIgb2JqZWN0LgogIF8ubWl4aW4oXyk7CgogIC8vIEFkZCBhbGwgbXV0YXRvciBBcnJheSBmdW5jdGlvbnMgdG8gdGhlIHdyYXBwZXIuCiAgZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTsKICAgIHdyYXBwZXIucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7CiAgICAgIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpOwogICAgICByZXR1cm4gcmVzdWx0KHRoaXMuX3dyYXBwZWQsIHRoaXMuX2NoYWluKTsKICAgIH07CiAgfSk7CgogIC8vIEFkZCBhbGwgYWNjZXNzb3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLgogIGVhY2goWydjb25jYXQnLCAnam9pbicsICdzbGljZSddLCBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTsKICAgIHdyYXBwZXIucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiByZXN1bHQobWV0aG9kLmFwcGx5KHRoaXMuX3dyYXBwZWQsIGFyZ3VtZW50cyksIHRoaXMuX2NoYWluKTsKICAgIH07CiAgfSk7CgogIC8vIFN0YXJ0IGNoYWluaW5nIGEgd3JhcHBlZCBVbmRlcnNjb3JlIG9iamVjdC4KICB3cmFwcGVyLnByb3RvdHlwZS5jaGFpbiA9IGZ1bmN0aW9uKCkgewogICAgdGhpcy5fY2hhaW4gPSB0cnVlOwogICAgcmV0dXJuIHRoaXM7CiAgfTsKCiAgLy8gRXh0cmFjdHMgdGhlIHJlc3VsdCBmcm9tIGEgd3JhcHBlZCBhbmQgY2hhaW5lZCBvYmplY3QuCiAgd3JhcHBlci5wcm90b3R5cGUudmFsdWUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLl93cmFwcGVkOwogIH07Cgp9KSgpOwogdmFyIEFzc2Vzc21lbnQ7CnZhciBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9OwokLmFzc2Vzc21lbnQgPSBudWxsOwokLmNvdWNoREJEYXRhYmFzZVBhdGggPSAnL2VncmEvJzsKQXNzZXNzbWVudCA9IChmdW5jdGlvbigpIHsKICBmdW5jdGlvbiBBc3Nlc3NtZW50KG5hbWUpIHsKICAgIHRoaXMubmFtZSA9IG5hbWU7CiAgICB0aGlzLnVybFBhdGggPSAiQXNzZXNzbWVudC4iICsgdGhpcy5uYW1lOwogIH0KICBBc3Nlc3NtZW50LnByb3RvdHlwZS5jaGFuZ2VOYW1lID0gZnVuY3Rpb24obmV3TmFtZSkgewogICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgIHRoaXMubmFtZSA9IG5ld05hbWU7CiAgICB0aGlzLnVybFBhdGggPSAiQXNzZXNzbWVudC4iICsgdGhpcy5uYW1lOwogICAgdGhpcy51cmxQYXRoc0ZvclBhZ2VzID0gW107CiAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICBwYWdlLnVybFBhdGggPSB0aGlzLnVybFBhdGggKyAiLiIgKyBwYWdlLnBhZ2VJZDsKICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLnVybFBhdGhzRm9yUGFnZXMucHVzaChwYWdlLnVybFBhdGgpKTsKICAgIH0KICAgIHJldHVybiBfcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNldFBhZ2VzID0gZnVuY3Rpb24ocGFnZXMpIHsKICAgIHZhciBpbmRleCwgcGFnZSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICB0aGlzLnBhZ2VzID0gcGFnZXM7CiAgICB0aGlzLnVybFBhdGhzRm9yUGFnZXMgPSBbXTsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgX3Jlc3VsdHMgPSBbXTsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICBwYWdlID0gX3JlZltpbmRleF07CiAgICAgIHBhZ2UuYXNzZXNzbWVudCA9IHRoaXM7CiAgICAgIHBhZ2UucGFnZU51bWJlciA9IGluZGV4OwogICAgICBpZiAoaW5kZXggIT09IDApIHsKICAgICAgICBwYWdlLnByZXZpb3VzUGFnZSA9IHRoaXMucGFnZXNbaW5kZXggLSAxXS5wYWdlSWQ7CiAgICAgIH0KICAgICAgaWYgKHRoaXMucGFnZXMubGVuZ3RoICE9PSBpbmRleCArIDEpIHsKICAgICAgICBwYWdlLm5leHRQYWdlID0gdGhpcy5wYWdlc1tpbmRleCArIDFdLnBhZ2VJZDsKICAgICAgfQogICAgICBwYWdlLnVybFNjaGVtZSA9IHRoaXMudXJsU2NoZW1lOwogICAgICBwYWdlLnVybFBhdGggPSB0aGlzLnVybFBhdGggKyAiLiIgKyBwYWdlLnBhZ2VJZDsKICAgICAgX3Jlc3VsdHMucHVzaCh0aGlzLnVybFBhdGhzRm9yUGFnZXMucHVzaChwYWdlLnVybFBhdGgpKTsKICAgIH0KICAgIHJldHVybiBfcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmdldFBhZ2UgPSBmdW5jdGlvbihwYWdlSWQpIHsKICAgIHZhciBwYWdlLCBfaSwgX2xlbiwgX3JlZjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgaWYgKHBhZ2UucGFnZUlkID09PSBwYWdlSWQpIHsKICAgICAgICByZXR1cm4gcGFnZTsKICAgICAgfQogICAgfQogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuaW5zZXJ0UGFnZSA9IGZ1bmN0aW9uKHBhZ2UsIHBhZ2VOdW1iZXIpIHsKICAgIHRoaXMucGFnZXMuc3BsaWNlKHBhZ2VOdW1iZXIsIDAsIHBhZ2UpOwogICAgcmV0dXJuIHRoaXMuc2V0UGFnZXModGhpcy5wYWdlcyk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS51cmwgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAiIiArIHRoaXMudXJsU2NoZW1lICsgIjovLyIgKyB0aGlzLnVybFBhdGg7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5sb2dpblBhZ2UgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAkLmFzc2Vzc21lbnQucGFnZXNbMF07CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5jdXJyZW50VXNlciA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMubG9naW5QYWdlKCkucmVzdWx0cygpLnVzZXJuYW1lOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuY3VycmVudFBhc3N3b3JkID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5sb2dpblBhZ2UoKS5yZXN1bHRzKCkucGFzc3dvcmQ7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5oYXNVc2VyQXV0aGVudGljYXRlZCA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGxvZ2luUmVzdWx0czsKICAgIGxvZ2luUmVzdWx0cyA9IHRoaXMubG9naW5QYWdlKCkucmVzdWx0cygpOwogICAgcmV0dXJuIGxvZ2luUmVzdWx0cy51c2VybmFtZSAhPT0gIiIgJiYgbG9naW5SZXN1bHRzLnBhc3N3b3JkICE9PSAiIjsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCByZXN1bHRzLCBfaSwgX2xlbiwgX3JlZjsKICAgIHJlc3VsdHMgPSB7fTsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcmVzdWx0c1twYWdlLnBhZ2VJZF0gPSBwYWdlLnJlc3VsdHMoKTsKICAgIH0KICAgIHJlc3VsdHMudGltZXN0YW1wID0gbmV3IERhdGUoKS52YWx1ZU9mKCk7CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNhdmVSZXN1bHRzID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciByZXN1bHRzLCB1cmw7CiAgICByZXN1bHRzID0gdGhpcy5yZXN1bHRzKCk7CiAgICB1cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGg7CiAgICByZXR1cm4gJC5hamF4KHsKICAgICAgdXJsOiB1cmwsCiAgICAgIGFzeW5jOiB0cnVlLAogICAgICB0eXBlOiAnUE9TVCcsCiAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24vanNvbicsCiAgICAgIGRhdGE6IEpTT04uc3RyaW5naWZ5KHJlc3VsdHMpLAogICAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBQVVQgdG8gIiArIHVybDsKICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0cyk7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlc2V0VVJMID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2g7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gdGhpcy5yZXNldFVSTCgpOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCBwYWdlUmVzdWx0LCB2YWxpZGF0aW9uRXJyb3JzLCBfaSwgX2xlbiwgX3JlZjsKICAgIHZhbGlkYXRpb25FcnJvcnMgPSAiIjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcGFnZVJlc3VsdCA9IHBhZ2UudmFsaWRhdGUoKTsKICAgICAgaWYgKHBhZ2VSZXN1bHQgIT09IHRydWUpIHsKICAgICAgICB2YWxpZGF0aW9uRXJyb3JzICs9ICInIiArIChwYWdlLm5hbWUoKSkgKyAiJyBwYWdlIGludmFsaWQ6ICIgKyBwYWdlUmVzdWx0ICsgIiA8YnIvPiI7CiAgICAgIH0KICAgIH0KICAgIGlmICh2YWxpZGF0aW9uRXJyb3JzICE9PSAiIikgewogICAgICByZXR1cm4gdmFsaWRhdGlvbkVycm9yczsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoewogICAgICBuYW1lOiB0aGlzLm5hbWUsCiAgICAgIHVybFBhdGhzRm9yUGFnZXM6IHRoaXMudXJsUGF0aHNGb3JQYWdlcwogICAgfSk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5zYXZlID0gZnVuY3Rpb24oKSB7CiAgICBzd2l0Y2ggKHRoaXMudXJsU2NoZW1lKSB7CiAgICAgIGNhc2UgImxvY2Fsc3RvcmFnZSI6CiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgdGhyb3cgIlVSTCB0eXBlIG5vdCB5ZXQgaW1wbGVtZW50ZWQ6ICIgKyB0aGlzLnVybFNjaGVtZTsKICAgIH0KICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnNhdmVUb0xvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgIHRoaXMudXJsU2NoZW1lID0gImxvY2Fsc3RvcmFnZSI7CiAgICBsb2NhbFN0b3JhZ2VbdGhpcy51cmxQYXRoXSA9IHRoaXMudG9KU09OKCk7CiAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgIF9yZXN1bHRzID0gW107CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICBfcmVzdWx0cy5wdXNoKHBhZ2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKCkpOwogICAgfQogICAgcmV0dXJuIF9yZXN1bHRzOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGUuc2F2ZVRvQ291Y2hEQiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICB0aGlzLnVybFNjaGVtZSA9ICJodHRwIjsKICAgIGlmICh0aGlzLnVybFBhdGhbMF0gIT09ICIvIikgewogICAgICB0aGlzLnVybFBhdGggPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyB0aGlzLnVybFBhdGg7CiAgICB9CiAgICAkLmFqYXgoewogICAgICB1cmw6IHRoaXMudXJsUGF0aCwKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdQVVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBkYXRhOiB0aGlzLnRvSlNPTigpLAogICAgICBzdWNjZXNzOiBfX2JpbmQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICAgIHRoaXMucmV2aXNpb24gPSByZXN1bHQucmV2OwogICAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgICAgcGFnZS5zYXZlVG9Db3VjaERCKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLm9uUmVhZHkoZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgICB9KTsKICAgICAgfSwgdGhpcyksCiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICB0aHJvdyAiQ291bGQgbm90IFBVVCB0byAiICsgdGhpcy51cmxQYXRoOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiB0aGlzOwogIH07CiAgQXNzZXNzbWVudC5wcm90b3R5cGVbImRlbGV0ZSJdID0gZnVuY3Rpb24oKSB7CiAgICBpZiAodGhpcy51cmxTY2hlbWUgPT09ICJsb2NhbHN0b3JhZ2UiKSB7CiAgICAgIHJldHVybiB0aGlzLmRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UoKTsKICAgIH0KICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbigpIHsKICAgIHZhciBwYWdlLCBfaSwgX2xlbiwgX3JlZjsKICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHBhZ2UgPSBfcmVmW19pXTsKICAgICAgcGFnZS5kZWxldGVGcm9tTG9jYWxTdG9yYWdlKCk7CiAgICB9CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy51cmxQYXRoKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmRlbGV0ZUZyb21Db3VjaERCID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcGFnZSwgdXJsLCBfaSwgX2xlbiwgX3JlZjsKICAgIHVybCA9ICQuY291Y2hEQkRhdGFiYXNlUGF0aCArIHRoaXMudXJsUGF0aCArICgiP3Jldj0iICsgdGhpcy5yZXZpc2lvbik7CiAgICBpZiAodGhpcy5wYWdlcykgewogICAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgIHBhZ2UuZGVsZXRlRnJvbUNvdWNoREIoKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuICQuYWpheCh7CiAgICAgIHVybDogdXJsLAogICAgICBhc3luYzogdHJ1ZSwKICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICB0aHJvdyAiRXJyb3IgZGVsZXRpbmcgIiArIHVybDsKICAgICAgfQogICAgfSk7CiAgfTsKICBBc3Nlc3NtZW50LnByb3RvdHlwZS5vblJlYWR5ID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICAgIHZhciBjaGVja0lmTG9hZGluZywgbWF4VHJpZXMsIHRpbWVzVHJpZWQ7CiAgICBtYXhUcmllcyA9IDEwOwogICAgdGltZXNUcmllZCA9IDA7CiAgICBjaGVja0lmTG9hZGluZyA9IF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICB0aW1lc1RyaWVkKys7CiAgICAgIGlmICh0aGlzLmxvYWRpbmcpIHsKICAgICAgICBpZiAodGltZXNUcmllZCA+PSBtYXhUcmllcykgewogICAgICAgICAgdGhyb3cgIlRpbWVvdXQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgYXNzZXNzbWVudDogIiArIHRoaXMubmFtZTsKICAgICAgICB9CiAgICAgICAgc2V0VGltZW91dChjaGVja0lmTG9hZGluZywgMTAwMCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBwYWdlID0gX3JlZltfaV07CiAgICAgICAgaWYgKHBhZ2UubG9hZGluZykgewogICAgICAgICAgaWYgKHRpbWVzVHJpZWQgPj0gbWF4VHJpZXMpIHsKICAgICAgICAgICAgdGhyb3cgIlRpbWVvdXQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgcGFnZTogIiArIHBhZ2UucGFnZUlkOwogICAgICAgICAgfQogICAgICAgICAgc2V0VGltZW91dChjaGVja0lmTG9hZGluZywgMTAwMCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiBjYWxsYmFjaygpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gY2hlY2tJZkxvYWRpbmcoKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICByZXR1cm4gdGhpcy5vblJlYWR5KF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgdmFyIGksIHBhZ2UsIHJlc3VsdDsKICAgICAgJC5hc3Nlc3NtZW50ID0gdGhpczsKICAgICAgJCgnZGl2JykubGl2ZSgncGFnZWJlZm9yZXNob3cnLCBfX2JpbmQoZnVuY3Rpb24oZXZlbnQsIHVpKSB7CiAgICAgICAgdmFyIHBhZ2UsIF9pLCBfbGVuLCBfcmVmOwogICAgICAgIF9yZWYgPSB0aGlzLnBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbX2ldOwogICAgICAgICAgaWYgKHBhZ2UucGFnZUlkID09PSAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2lkJykpIHsKICAgICAgICAgICAgdGhpcy5jdXJyZW50UGFnZSA9IHBhZ2U7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIHRoaXMpKTsKICAgICAgcmVzdWx0ID0gKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgICAgICBfcmVmID0gdGhpcy5wYWdlczsKICAgICAgICBfcmVzdWx0cyA9IFtdOwogICAgICAgIGZvciAoaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgaSA8IF9sZW47IGkrKykgewogICAgICAgICAgcGFnZSA9IF9yZWZbaV07CiAgICAgICAgICBfcmVzdWx0cy5wdXNoKHBhZ2UucmVuZGVyKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICAgIH0pLmNhbGwodGhpcyk7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5qb2luKCIiKTsKICAgICAgcmVzdWx0ICs9ICIgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdkaWFsb2cnIGlkPSdfaW5mb1BhZ2UnPiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4JICAgICAgICAgICAgPGgxPkluZm9ybWF0aW9uPC9oMT4gICAgICAgICAgPC9kaXY+ICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICAgIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+ICAgICAgICA8L2Rpdj4gICAgICAiOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sIHRoaXMpKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmZsYXNoID0gZnVuY3Rpb24oKSB7CiAgICAkKCcuY29udHJvbHMnKS5hZGRDbGFzcygiZmxhc2giKTsKICAgICQoImRpdltkYXRhLXJvbGU9aGVhZGVyXSIpLnRvZ2dsZUNsYXNzKCJmbGFzaCIpOwogICAgJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikudG9nZ2xlQ2xhc3MoImZsYXNoIik7CiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgJCgnLmNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoImZsYXNoIik7CiAgICAgICQoImRpdltkYXRhLXJvbGU9aGVhZGVyXSIpLnJlbW92ZUNsYXNzKCJmbGFzaCIpOwogICAgICByZXR1cm4gJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikucmVtb3ZlQ2xhc3MoImZsYXNoIik7CiAgICB9LCAzMDAwKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLnRvUGFwZXIgPSBmdW5jdGlvbihjYWxsYmFjaykgewogICAgcmV0dXJuIHRoaXMub25SZWFkeShfX2JpbmQoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBpLCBwYWdlLCByZXN1bHQ7CiAgICAgIHJlc3VsdCA9IChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgICAgX3JlZiA9IHRoaXMucGFnZXM7CiAgICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgICBmb3IgKGkgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGkgPCBfbGVuOyBpKyspIHsKICAgICAgICAgIHBhZ2UgPSBfcmVmW2ldOwogICAgICAgICAgX3Jlc3VsdHMucHVzaCgoIjxoMT4iICsgKHBhZ2UubmFtZSgpKSArICI8L2gxPiIpICsgcGFnZS50b1BhcGVyKCkpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICAgIH0pLmNhbGwodGhpcyk7CiAgICAgIHJlc3VsdCA9IHJlc3VsdC5qb2luKCI8ZGl2IGNsYXNzPSdwYWdlLWJyZWFrJz48aHIvPjwvZGl2PiIpOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKHJlc3VsdCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHJlc3VsdDsKICAgIH0sIHRoaXMpKTsKICB9OwogIEFzc2Vzc21lbnQucHJvdG90eXBlLmhhbmRsZVVSTFBhcmFtZXRlcnMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBhLCBkLCBlLCBwYXJhbSwgcSwgciwgdmFsdWUsIF9yZWY7CiAgICBpZiAodGhpcy51cmxQYXJhbXMgIT0gbnVsbCkgewogICAgICByZXR1cm47CiAgICB9CiAgICB0aGlzLnVybFBhcmFtcyA9IHt9OwogICAgYSA9IC9cKy9nOwogICAgciA9IC8oW14mPV0rKT0/KFteJl0qKS9nOwogICAgZCA9IGZ1bmN0aW9uKHMpIHsKICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzLnJlcGxhY2UoYSwgIiAiKSk7CiAgICB9OwogICAgcSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpOwogICAgd2hpbGUgKChlID0gci5leGVjKHEpKSkgewogICAgICB0aGlzLnVybFBhcmFtc1tkKGVbMV0pXSA9IGQoZVsyXSk7CiAgICB9CiAgICBfcmVmID0gdGhpcy51cmxQYXJhbXM7CiAgICBmb3IgKHBhcmFtIGluIF9yZWYpIHsKICAgICAgdmFsdWUgPSBfcmVmW3BhcmFtXTsKICAgICAgJCgiaW5wdXQjIiArIHBhcmFtKS52YWwodmFsdWUpOwogICAgfQogICAgaWYgKHRoaXMudXJsUGFyYW1zLm5ld0Fzc2Vzc21lbnQpIHsKICAgICAgaWYgKCEoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PT0gIkRhdGVUaW1lIiB8fCAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UucGFnZUlkID09PSAiTG9naW4iKSkgewogICAgICAgIGlmICghKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS5wYWdlSWQgPT09ICJEYXRlVGltZSIgfHwgJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PT0gIkxvZ2luIikpIHsKICAgICAgICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIkRhdGVUaW1lIik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWY7CiAgICAgIH0KICAgIH0KICB9OwogIHJldHVybiBBc3Nlc3NtZW50Owp9KSgpOwpBc3Nlc3NtZW50LmxvYWQgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7CiAgdmFyIGFzc2Vzc21lbnQsIHVybFBhdGgsIHVybFNjaGVtZTsKICB0cnkgewogICAgdXJsU2NoZW1lID0gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZigiOi8vIikpOwogICAgdXJsUGF0aCA9IHVybC5zdWJzdHJpbmcodXJsLmluZGV4T2YoIjovLyIpICsgMyk7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIHRocm93ICJJbnZhbGlkIHVybDogIiArIHVybDsKICB9CiAgc3dpdGNoICh1cmxTY2hlbWUpIHsKICAgIGNhc2UgImxvY2Fsc3RvcmFnZSI6CiAgICAgIGFzc2Vzc21lbnQgPSBBc3Nlc3NtZW50LmxvYWRGcm9tTG9jYWxTdG9yYWdlKHVybFBhdGgpOwogICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgIGNhbGxiYWNrKGFzc2Vzc21lbnQpOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAiaHR0cCI6CiAgICAgIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQKHVybFBhdGgsIGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgIHRocm93ICJVUkwgdHlwZSBub3QgeWV0IGltcGxlbWVudGVkOiAiICsgdXJsU2NoZW1lOwogIH0KICByZXR1cm4gYXNzZXNzbWVudDsKfTsKQXNzZXNzbWVudC5sb2FkRnJvbUxvY2FsU3RvcmFnZSA9IGZ1bmN0aW9uKHVybFBhdGgpIHsKICB2YXIgYXNzZXNzbWVudCwgYXNzZXNzbWVudE9iamVjdCwgcGFnZXMsIF9pLCBfbGVuLCBfcmVmOwogIGFzc2Vzc21lbnRPYmplY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSk7CiAgaWYgKGFzc2Vzc21lbnRPYmplY3QgPT0gbnVsbCkgewogICAgdGhyb3cgIkNvdWxkIG5vdCBsb2FkIGxvY2FsU3RvcmFnZVsnIiArIHVybFBhdGggKyAiJ10sICIgKyBlcnJvcjsKICB9CiAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KGFzc2Vzc21lbnRPYmplY3QubmFtZSk7CiAgYXNzZXNzbWVudC51cmxTY2hlbWUgPSAibG9jYWxzdG9yYWdlIjsKICBwYWdlcyA9IFtdOwogIF9yZWYgPSBhc3Nlc3NtZW50T2JqZWN0LnVybFBhdGhzRm9yUGFnZXM7CiAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICB1cmxQYXRoID0gX3JlZltfaV07CiAgICBwYWdlcy5wdXNoKEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UodXJsUGF0aCkpOwogIH0KICBhc3Nlc3NtZW50LnNldFBhZ2VzKHBhZ2VzKTsKICByZXR1cm4gYXNzZXNzbWVudDsKfTsKQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAgPSBmdW5jdGlvbih1cmwsIGNhbGxiYWNrKSB7CiAgdmFyIGFzc2Vzc21lbnQsIGJhc2VVcmw7CiAgYXNzZXNzbWVudCA9IG51bGw7CiAgYmFzZVVybCA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCIvIikgKyAxKTsKICAkLmFqYXgoewogICAgdXJsOiB1cmwsCiAgICB0eXBlOiAnR0VUJywKICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgdmFyIHBhZ2VzLCB1cmxQYXRoLCBfaSwgX2xlbiwgX3JlZjsKICAgICAgdHJ5IHsKICAgICAgICBhc3Nlc3NtZW50ID0gbmV3IEFzc2Vzc21lbnQocmVzdWx0Lm5hbWUpOwogICAgICAgIHBhZ2VzID0gW107CiAgICAgICAgX3JlZiA9IHJlc3VsdC51cmxQYXRoc0ZvclBhZ2VzOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgdXJsUGF0aCA9IF9yZWZbX2ldOwogICAgICAgICAgdXJsID0gYmFzZVVybCArIHVybFBhdGg7CiAgICAgICAgICBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCh7CiAgICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgICBhc3luYzogZmFsc2UKICAgICAgICAgIH0sIF9fYmluZChmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICAgICAgcmVzdWx0LmFzc2Vzc21lbnQgPSBhc3Nlc3NtZW50OwogICAgICAgICAgICByZXR1cm4gcGFnZXMucHVzaChyZXN1bHQpOwogICAgICAgICAgfSwgdGhpcykpOwogICAgICAgIH0KICAgICAgICBhc3Nlc3NtZW50LnNldFBhZ2VzKHBhZ2VzKTsKICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGFzc2Vzc21lbnQpOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coIkVycm9yIGluIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQOiIgKyBlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgIHRocm93ICJGYWlsZWQgdG8gbG9hZDogIiArIHVybDsKICAgIH0KICB9KTsKICByZXR1cm4gYXNzZXNzbWVudDsKfTt2YXIgQXNzZXNzbWVudFBhZ2UsIENvbnNlbnRQYWdlLCBEYXRlVGltZVBhZ2UsIERpY3RhdGlvbiwgSW50ZXJ2aWV3LCBKUXVlcnlMb2dpbiwgSlF1ZXJ5TW9iaWxlUGFnZSwgUGhvbmVtZVBhZ2UsIFJlc3VsdHNQYWdlLCBTY2hvb2xQYWdlLCBTdHVkZW50SW5mb3JtYXRpb25QYWdlLCBUZXh0UGFnZSwgVG9nZ2xlR3JpZFdpdGhUaW1lciwgVW50aW1lZFN1YnRlc3QsIFVudGltZWRTdWJ0ZXN0TGlua2VkLCBmb290ZXJNZXNzYWdlLCBoaWRlTGlzdFVudGlsU2VhcmNoSW50ZXJ2YWw7CnZhciBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9LCBfX2hhc1Byb3AgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LCBfX2V4dGVuZHMgPSBmdW5jdGlvbihjaGlsZCwgcGFyZW50KSB7CiAgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0KICBmdW5jdGlvbiBjdG9yKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gY2hpbGQ7IH0KICBjdG9yLnByb3RvdHlwZSA9IHBhcmVudC5wcm90b3R5cGU7CiAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3I7CiAgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsKICByZXR1cm4gY2hpbGQ7Cn07CmZvb3Rlck1lc3NhZ2UgPSAiR29vZCBlZmZvcnQsIGxldCdzIGdvIG9udG8gdGhlIG5leHQgcGFnZSI7CkpRdWVyeU1vYmlsZVBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gSlF1ZXJ5TW9iaWxlUGFnZShvcHRpb25zKSB7CiAgICB0aGlzLnBhZ2VJZCA9IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnBhZ2VJZCA6IHZvaWQgMCkgfHwgIiI7CiAgICB0aGlzLnBhZ2VUeXBlID0gKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMucGFnZVR5cGUgOiB2b2lkIDApIHx8IHRoaXMuY29uc3RydWN0b3IudG9TdHJpbmcoKS5tYXRjaCgvZnVuY3Rpb24gKyguKj8pXCgvKVsxXTsKICB9CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gTXVzdGFjaGUudG9faHRtbCh0aGlzLl90ZW1wbGF0ZSgpLCB0aGlzKTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gWyJwYWdlSWQiLCAicGFnZVR5cGUiLCAidXJsUGF0aCIsICJ1cmxTY2hlbWUiXTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLm5hbWUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnBhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG9iamVjdCwgcHJvcGVydHksIF9pLCBfbGVuLCBfcmVmOwogICAgb2JqZWN0ID0ge307CiAgICBfcmVmID0gdGhpcy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbigpOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIHByb3BlcnR5ID0gX3JlZltfaV07CiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSB0aGlzW3Byb3BlcnR5XTsKICAgIH0KICAgIHJldHVybiBvYmplY3Q7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5sb2FkID0gZnVuY3Rpb24oZGF0YSkgewogICAgdmFyIHByb3BlcnR5LCBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICBfcmVmID0gdGhpcy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbigpOwogICAgX3Jlc3VsdHMgPSBbXTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBwcm9wZXJ0eSA9IF9yZWZbX2ldOwogICAgICBfcmVzdWx0cy5wdXNoKHRoaXNbcHJvcGVydHldID0gZGF0YVtwcm9wZXJ0eV0pOwogICAgfQogICAgcmV0dXJuIF9yZXN1bHRzOwogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uKCkgewogICAgc3dpdGNoICh0aGlzLnVybFNjaGVtZSkgewogICAgICBjYXNlICJsb2NhbHN0b3JhZ2UiOgogICAgICAgIHJldHVybiB0aGlzLnNhdmVUb0xvY2FsU3RvcmFnZSgpOwogICAgICBkZWZhdWx0OgogICAgICAgIHRocm93ICJVUkwgdHlwZSBub3QgeWV0IGltcGxlbWVudGVkOiAiICsgdGhpcy51cmxTY2hlbWU7CiAgICB9CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5zYXZlVG9Mb2NhbFN0b3JhZ2UgPSBmdW5jdGlvbigpIHsKICAgIGlmICh0aGlzLnVybFBhdGggPT0gbnVsbCkgewogICAgICB0aHJvdyAiQ2FuJ3Qgc2F2ZSBwYWdlICciICsgdGhpcy5wYWdlSWQgKyAiJyB0byBsb2NhbFN0b3JhZ2U6IE5vIHVybFBhdGghIjsKICAgIH0KICAgIHJldHVybiBsb2NhbFN0b3JhZ2VbdGhpcy51cmxQYXRoXSA9IEpTT04uc3RyaW5naWZ5KHRoaXMpOwogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUuc2F2ZVRvQ291Y2hEQiA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgICB2YXIgdXJsOwogICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgIHRoaXMudXJsU2NoZW1lID0gImh0dHAiOwogICAgdGhpcy51cmxQYXRoID0gdGhpcy51cmxQYXRoLnN1YnN0cmluZyh0aGlzLnVybFBhdGguaW5kZXhPZigiLyIpICsgMSk7CiAgICB1cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyB0aGlzLnVybFBhdGg7CiAgICByZXR1cm4gJC5hamF4KHsKICAgICAgdXJsOiB1cmwsCiAgICAgIGFzeW5jOiB0cnVlLAogICAgICB0eXBlOiAnUFVUJywKICAgICAgZGF0YVR5cGU6ICdqc29uJywKICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkodGhpcyksCiAgICAgIHN1Y2Nlc3M6IF9fYmluZChmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICByZXR1cm4gdGhpcy5yZXZpc2lvbiA9IHJlc3VsdC5yZXY7CiAgICAgIH0sIHRoaXMpLAogICAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBQVVQgdG8gIiArIHVybDsKICAgICAgfSwKICAgICAgY29tcGxldGU6IF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBpZiAoY2FsbGJhY2sgIT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LCB0aGlzKQogICAgfSk7CiAgfTsKICBKUXVlcnlNb2JpbGVQYWdlLnByb3RvdHlwZS5kZWxldGVGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy51cmxQYXRoKTsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLmRlbGV0ZUZyb21Db3VjaERCID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgdXJsOwogICAgdXJsID0gdGhpcy51cmxQYXRoICsgKCI/cmV2PSIgKyB0aGlzLnJldmlzaW9uKTsKICAgIHJldHVybiAkLmFqYXgoewogICAgICB1cmw6IHVybCwKICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAidW5kZWZpbmVkIiAmJiBjYWxsYmFjayAhPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgICAgdGhyb3cgIkVycm9yIGRlbGV0aW5nICIgKyB1cmw7CiAgICAgIH0KICAgIH0pOwogIH07CiAgSlF1ZXJ5TW9iaWxlUGFnZS5wcm90b3R5cGUuX3RlbXBsYXRlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gIjxkaXYgZGF0YS1yb2xlPSdwYWdlJyBpZD0ne3t7cGFnZUlkfX0nPiAgPGRpdiBkYXRhLXJvbGU9J2hlYWRlcic+ICAgIDxhIGhyZWY9J1wje3twcmV2aW91c1BhZ2V9fSc+QmFjazwvYT4gICAgPGgxPnt7bmFtZX19PC9oMT4gIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgIHt7e2NvbnRyb2xzfX19ICAgIHt7e2NvbnRlbnR9fX0gIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+ICA8ZGl2IGRhdGEtcm9sZT0nZm9vdGVyJz4gICAge3tmb290ZXJNZXNzYWdlfX0gICAgPGJ1dHRvbiBocmVmPSdcI3t7bmV4dFBhZ2V9fSc+TmV4dDwvYnV0dG9uPiAgPC9kaXY+PCEtLSAvZm9vdGVyIC0tPjwvZGl2PjwhLS0gL3BhZ2UgLS0+IjsKICB9OwogIEpRdWVyeU1vYmlsZVBhZ2UucHJvdG90eXBlLnRvUGFwZXIgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLmNvbnRlbnQ7CiAgfTsKICByZXR1cm4gSlF1ZXJ5TW9iaWxlUGFnZTsKfSkoKTsKSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHBhZ2VPYmplY3QpIHsKICB2YXIgcmVzdWx0OwogIHN3aXRjaCAocGFnZU9iamVjdC5wYWdlVHlwZSkgewogICAgY2FzZSAiU2Nob29sUGFnZSI6CiAgICAgIHJldHVybiBTY2hvb2xQYWdlLmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpOwogICAgY2FzZSAiU3R1ZGVudEluZm9ybWF0aW9uUGFnZSI6CiAgICAgIHJldHVybiBTdHVkZW50SW5mb3JtYXRpb25QYWdlLmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpOwogICAgY2FzZSAiVW50aW1lZFN1YnRlc3QiOgogICAgICByZXR1cm4gVW50aW1lZFN1YnRlc3QuZGVzZXJpYWxpemUocGFnZU9iamVjdCk7CiAgICBjYXNlICJVbnRpbWVkU3VidGVzdExpbmtlZCI6CiAgICAgIHJldHVybiBVbnRpbWVkU3VidGVzdExpbmtlZC5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KTsKICAgIGNhc2UgIlBob25lbWVQYWdlIjoKICAgICAgcmV0dXJuIFBob25lbWVQYWdlLmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpOwogICAgZGVmYXVsdDoKICAgICAgcmVzdWx0ID0gbmV3IHdpbmRvd1twYWdlT2JqZWN0LnBhZ2VUeXBlXShwYWdlT2JqZWN0KTsKICAgICAgcmVzdWx0LmxvYWQocGFnZU9iamVjdCk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgfQp9OwpKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24odXJsUGF0aCkgewogIHZhciBqcXVlcnlNb2JpbGVQYWdlOwogIGpxdWVyeU1vYmlsZVBhZ2UgPSBKUXVlcnlNb2JpbGVQYWdlLmRlc2VyaWFsaXplKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW3VybFBhdGhdKSk7CiAganF1ZXJ5TW9iaWxlUGFnZS51cmxTY2hlbWUgPSAibG9jYWxzdG9yYWdlIjsKICByZXR1cm4ganF1ZXJ5TW9iaWxlUGFnZTsKfTsKSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUhUVFAgPSBmdW5jdGlvbihvcHRpb25zLCBjYWxsYmFjaykgewogIHZhciB1cmxQYXRoOwogIGlmIChvcHRpb25zLnVybCA9PSBudWxsKSB7CiAgICB0aHJvdyAiTXVzdCBwYXNzICd1cmwnIG9wdGlvbiB0byBsb2FkRnJvbUhUVFAsIHJlY2VpdmVkOiAiICsgb3B0aW9uczsKICB9CiAgaWYgKG9wdGlvbnMudXJsLm1hdGNoKC9odHRwLykpIHsKICAgIHVybFBhdGggPSBvcHRpb25zLnVybC5zdWJzdHJpbmcob3B0aW9ucy51cmwubGFzdEluZGV4T2YoIjovLyIpICsgMyk7CiAgfSBlbHNlIHsKICAgIHVybFBhdGggPSBvcHRpb25zLnVybDsKICB9CiAgJC5leHRlbmQob3B0aW9ucywgewogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIHZhciBqcXVlcnlNb2JpbGVQYWdlOwogICAgICB0cnkgewogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UgPSBKUXVlcnlNb2JpbGVQYWdlLmRlc2VyaWFsaXplKHJlc3VsdCk7CiAgICAgICAganF1ZXJ5TW9iaWxlUGFnZS51cmxQYXRoID0gdXJsUGF0aDsKICAgICAgICBqcXVlcnlNb2JpbGVQYWdlLnVybFNjaGVtZSA9ICJodHRwIjsKICAgICAgICBqcXVlcnlNb2JpbGVQYWdlLnJldmlzaW9uID0gcmVzdWx0Ll9yZXY7CiAgICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHsKICAgICAgICAgIHJldHVybiBjYWxsYmFjayhqcXVlcnlNb2JpbGVQYWdlKTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coIkVycm9yIGluIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQOiAiICsgZXJyb3IpOwogICAgICAgIGNvbnNvbGUudHJhY2UoKTsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2cocmVzdWx0KTsKICAgICAgfQogICAgfSwKICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgdGhyb3cgIkZhaWxlZCB0byBsb2FkOiAiICsgdXJsUGF0aDsKICAgIH0KICB9KTsKICByZXR1cm4gJC5hamF4KG9wdGlvbnMpOwp9OwpKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tQ291Y2hEQiA9IGZ1bmN0aW9uKHVybFBhdGgsIGNhbGxiYWNrKSB7CiAgcmV0dXJuIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQKHsKICAgIHVybDogJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgdXJsUGF0aAogIH0sIGNhbGxiYWNrKTsKfTsKQXNzZXNzbWVudFBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKEFzc2Vzc21lbnRQYWdlLCBKUXVlcnlNb2JpbGVQYWdlKTsKICBmdW5jdGlvbiBBc3Nlc3NtZW50UGFnZSgpIHsKICAgIEFzc2Vzc21lbnRQYWdlLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogIH0KICBBc3Nlc3NtZW50UGFnZS5wcm90b3R5cGUuYWRkVGltZXIgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMudGltZXIgPSBuZXcgVGltZXIoewogICAgICBwYWdlOiB0aGlzCiAgICB9KTsKICAgIHJldHVybiB0aGlzLmNvbnRyb2xzID0gIiAgICAgIDxkaXYgY2xhc3M9J2NvbnRyb2xzJyBzdHlsZT0nd2lkdGg6IDEwMHB4O3Bvc2l0aW9uOmZpeGVkO3RvcDoxMDBweDtyaWdodDo1cHg7ei1pbmRleDoxMCc+ICAgICAgICA8ZGl2IGNsYXNzPSd0aW1lcic+ICAgICAgICAgICIgKyAodGhpcy50aW1lci5yZW5kZXIoKSkgKyAiICAgICAgICA8L2Rpdj4gICAgICAgIDxici8+ICAgICAgICA8YnIvPiAgICAgICAgPGRpdiBjbGFzcz0nbWVzc2FnZSc+ICAgICAgICA8L2Rpdj4gICAgICA8L2Rpdj4iOwogIH07CiAgQXNzZXNzbWVudFBhZ2UucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5wdXRFbGVtZW50LCBfaSwgX2xlbiwgX3JlZjsKICAgIF9yZWYgPSAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBmb3JtIGlucHV0Iik7CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgaW5wdXRFbGVtZW50ID0gX3JlZltfaV07CiAgICAgIGlmICgkKGlucHV0RWxlbWVudCkudmFsKCkgPT09ICIiKSB7CiAgICAgICAgcmV0dXJuICInIiArICgkKCJsYWJlbFtmb3I9IiArIGlucHV0RWxlbWVudC5pZCArICJdIikuaHRtbCgpKSArICInIGlzIGVtcHR5IjsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHRydWU7CiAgfTsKICBBc3Nlc3NtZW50UGFnZS5wcm90b3R5cGUucmVzdWx0cyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG9iamVjdERhdGE7CiAgICBvYmplY3REYXRhID0ge307CiAgICAkLmVhY2goJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZm9ybSIpLnNlcmlhbGl6ZUFycmF5KCksIGZ1bmN0aW9uKCkgewogICAgICB2YXIgdmFsdWU7CiAgICAgIGlmICh0aGlzLnZhbHVlICE9IG51bGwpIHsKICAgICAgICB2YWx1ZSA9IHRoaXMudmFsdWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFsdWUgPSAnJzsKICAgICAgfQogICAgICBpZiAob2JqZWN0RGF0YVt0aGlzLm5hbWVdICE9IG51bGwpIHsKICAgICAgICBpZiAoIW9iamVjdERhdGFbdGhpcy5uYW1lXS5wdXNoKSB7CiAgICAgICAgICBvYmplY3REYXRhW3RoaXMubmFtZV0gPSBbb2JqZWN0RGF0YVt0aGlzLm5hbWVdXTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG9iamVjdERhdGFbdGhpcy5uYW1lXS5wdXNoKHZhbHVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gb2JqZWN0RGF0YVt0aGlzLm5hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIG9iamVjdERhdGE7CiAgfTsKICByZXR1cm4gQXNzZXNzbWVudFBhZ2U7Cn0pKCk7CkFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uID0gZnVuY3Rpb24oKSB7CiAgdmFyIHBhc3NlZFZhbGlkYXRpb247CiAgaWYgKCQuYXNzZXNzbWVudCA9PSBudWxsKSB7CiAgICByZXR1cm47CiAgfQogIHBhc3NlZFZhbGlkYXRpb24gPSAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudmFsaWRhdGUoKSA9PT0gdHJ1ZTsKICAkKCdkaXYudWktZm9vdGVyIGJ1dHRvbicpLnRvZ2dsZUNsYXNzKCJwYXNzZWRWYWxpZGF0aW9uIiwgcGFzc2VkVmFsaWRhdGlvbik7CiAgcmV0dXJuICQoJ2Rpdi51aS1mb290ZXIgZGl2LnVpLWJ0bicpLnRvZ2dsZUNsYXNzKCJ1aS1idG4tdXAtYiIsIHBhc3NlZFZhbGlkYXRpb24pLnRvZ2dsZUNsYXNzKCJ1aS1idG4tdXAtYyIsICFwYXNzZWRWYWxpZGF0aW9uKTsKfTsKc2V0SW50ZXJ2YWwoQXNzZXNzbWVudFBhZ2UudmFsaWRhdGVDdXJyZW50UGFnZVVwZGF0ZU5leHRCdXR0b24sIDgwMCk7CiQoJ2Rpdi51aS1mb290ZXIgYnV0dG9uJykubGl2ZSgnY2xpY2snLCBmdW5jdGlvbihldmVudCwgdWkpIHsKICB2YXIgYnV0dG9uLCB2YWxpZGF0aW9uUmVzdWx0OwogIHZhbGlkYXRpb25SZXN1bHQgPSAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudmFsaWRhdGUoKTsKICBpZiAodmFsaWRhdGlvblJlc3VsdCA9PT0gdHJ1ZSkgewogICAgYnV0dG9uID0gJChldmVudC5jdXJyZW50VGFyZ2V0KTsKICAgIHJldHVybiAkLm1vYmlsZS5jaGFuZ2VQYWdlKGJ1dHRvbi5hdHRyKCJocmVmIikpOwogIH0gZWxzZSB7CiAgICAkKCIjX2luZm9QYWdlIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSIpLmh0bWwoIlBsZWFzZSBmaXggdGhlIGZvbGxvd2luZyBiZWZvcmUgcHJvY2VlZGluZzo8YnIvPiIgKyB2YWxpZGF0aW9uUmVzdWx0KTsKICAgIHJldHVybiAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjX2luZm9QYWdlIik7CiAgfQp9KTsKSlF1ZXJ5TG9naW4gPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKEpRdWVyeUxvZ2luLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gSlF1ZXJ5TG9naW4oKSB7CiAgICBKUXVlcnlMb2dpbi5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzKTsKICAgIHRoaXMucmFuZG9tSWRGb3JTdWJqZWN0ID0gKCIiICsgTWF0aC5yYW5kb20oKSkuc3Vic3RyaW5nKDIsIDgpOwogICAgdGhpcy5yYW5kb21JZEZvclN1YmplY3QgPSB0aGlzLnJhbmRvbUlkRm9yU3ViamVjdC5zdWJzdHIoMCwgMykgKyAiLSIgKyB0aGlzLnJhbmRvbUlkRm9yU3ViamVjdC5zdWJzdHIoMyk7CiAgICB0aGlzLmNvbnRlbnQgPSAiPGZvcm0+ICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgPGxhYmVsIGZvcj0ndXNlcm5hbWUnPlVzZXJuYW1lOjwvbGFiZWw+ICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd1c2VybmFtZScgaWQ9J3VzZXJuYW1lJyB2YWx1ZT0nJyAvPiAgICA8bGFiZWwgZm9yPSdwYXNzd29yZCc+UGFzc3dvcmQ6PC9sYWJlbD4gICAgPGlucHV0IHR5cGU9J3Bhc3N3b3JkJyBuYW1lPSdwYXNzd29yZCcgaWQ9J3Bhc3N3b3JkJyB2YWx1ZT0nJyAvPiAgPC9kaXY+PC9mb3JtPiI7CiAgICAkKCJkaXYiKS5saXZlKCJwYWdlc2hvdyIsIGZ1bmN0aW9uKCkgewogICAgICAkLmFzc2Vzc21lbnQuaGFuZGxlVVJMUGFyYW1ldGVycygpOwogICAgICBpZiAoISgkLmFzc2Vzc21lbnQuaGFzVXNlckF1dGhlbnRpY2F0ZWQoKSB8fCAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PT0gIkxvZ2luIikpKSB7CiAgICAgICAgcmV0dXJuICQubW9iaWxlLmNoYW5nZVBhZ2UoIiNMb2dpbiIpOwogICAgICB9CiAgICB9KTsKICB9CiAgSlF1ZXJ5TG9naW4ucHJvdG90eXBlLnVzZXIgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0aGlzLnJlc3VsdHMoKS51c2VybmFtZTsKICB9OwogIEpRdWVyeUxvZ2luLnByb3RvdHlwZS5wYXNzd29yZCA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRoaXMucmVzdWx0cygpLnBhc3N3b3JkOwogIH07CiAgSlF1ZXJ5TG9naW4ucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciByZXN1bHRzOwogICAgcmVzdWx0cyA9IEpRdWVyeUxvZ2luLl9fc3VwZXJfXy5yZXN1bHRzLmNhbGwodGhpcyk7CiAgICByZXN1bHRzWyJyYW5kb21JZEZvclN1YmplY3QiXSA9IHRoaXMucmFuZG9tSWRGb3JTdWJqZWN0OwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKICByZXR1cm4gSlF1ZXJ5TG9naW47Cn0pKCk7ClN0dWRlbnRJbmZvcm1hdGlvblBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBTdHVkZW50SW5mb3JtYXRpb25QYWdlKCkgewogICAgU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5wcm90b3R5cGUucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbigpIHsKICAgIHZhciBwcm9wZXJ0aWVzOwogICAgcHJvcGVydGllcyA9IFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goInJhZGlvQnV0dG9ucyIpOwogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICBTdHVkZW50SW5mb3JtYXRpb25QYWdlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgaWYgKCQoIiNTdHVkZW50SW5mb3JtYXRpb24gaW5wdXQ6J3JhZGlvJzpjaGVja2VkIikubGVuZ3RoID09PSA3KSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuICJBbGwgZWxlbWVudHMgYXJlIHJlcXVpcmVkIjsKICAgIH0KICB9OwogIHJldHVybiBTdHVkZW50SW5mb3JtYXRpb25QYWdlOwp9KSgpOwpTdHVkZW50SW5mb3JtYXRpb25QYWdlLnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlKCIgIDxmb3JtPiAgICB7eyNyYWRpb0J1dHRvbnN9fSAgICAgIDxmaWVsZHNldCBkYXRhLXR5cGU9J3t7dHlwZX19JyBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCc+ICAgICAgICA8bGVnZW5kPnt7bGFiZWx9fTwvbGVnZW5kPiAgICAgICAge3sjb3B0aW9uc319ICAgICAgICAgIDxsYWJlbCBmb3I9J3t7Ln19Jz57ey59fTwvbGFiZWw+ICAgICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0ne3suLi9uYW1lfX0nIHZhbHVlPSd7ey59fScgaWQ9J3t7Ln19Jz48L2lucHV0PiAgICAgICAge3svb3B0aW9uc319ICAgICAgPC9maWVsZHNldD4gICAge3svcmFkaW9CdXR0b25zfX0gIDwvZm9ybT4iKTsKU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHBhZ2VPYmplY3QpIHsKICB2YXIgc3R1ZGVudEluZm9ybWF0aW9uUGFnZTsKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlID0gbmV3IFN0dWRlbnRJbmZvcm1hdGlvblBhZ2UoKTsKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlLmxvYWQocGFnZU9iamVjdCk7CiAgc3R1ZGVudEluZm9ybWF0aW9uUGFnZS5jb250ZW50ID0gU3R1ZGVudEluZm9ybWF0aW9uUGFnZS50ZW1wbGF0ZShzdHVkZW50SW5mb3JtYXRpb25QYWdlKTsKICByZXR1cm4gc3R1ZGVudEluZm9ybWF0aW9uUGFnZTsKfTsKU2Nob29sUGFnZSA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoU2Nob29sUGFnZSwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIFNjaG9vbFBhZ2Uob3B0aW9ucykgewogICAgU2Nob29sUGFnZS5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIHRoaXMuc2Nob29scyA9IG9wdGlvbnMuc2Nob29sczsKICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGxpIikubGl2ZSgibW91c2Vkb3duIiwgX19iaW5kKGZ1bmN0aW9uKGV2ZW50RGF0YSkgewogICAgICB2YXIgZGF0YUF0dHJpYnV0ZSwgc2VsZWN0ZWRFbGVtZW50LCBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgIHNlbGVjdGVkRWxlbWVudCA9ICQoZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQpOwogICAgICBfcmVmID0gWyJuYW1lIiwgInByb3ZpbmNlIiwgImRpc3RyaWN0IiwgInNjaG9vbElkIl07CiAgICAgIF9yZXN1bHRzID0gW107CiAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgIGRhdGFBdHRyaWJ1dGUgPSBfcmVmW19pXTsKICAgICAgICBfcmVzdWx0cy5wdXNoKCQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGZvcm0gaW5wdXQjIiArIGRhdGFBdHRyaWJ1dGUpLnZhbChzZWxlY3RlZEVsZW1lbnQuYXR0cigiZGF0YS0iICsgZGF0YUF0dHJpYnV0ZSkpKTsKICAgICAgfQogICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICB9LCB0aGlzKSk7CiAgfQogIFNjaG9vbFBhZ2UucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllcywgcHJvcGVydHksIF9pLCBfbGVuLCBfcmVmOwogICAgcHJvcGVydGllcyA9IFNjaG9vbFBhZ2UuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goInNjaG9vbHMiKTsKICAgIHByb3BlcnRpZXMucHVzaCgic2VsZWN0TmFtZVRleHQiKTsKICAgIF9yZWYgPSBbIm5hbWUiLCAicHJvdmluY2UiLCAiZGlzdHJpY3QiLCAic2Nob29sSWQiXTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBwcm9wZXJ0eSA9IF9yZWZbX2ldOwogICAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkgKyAiVGV4dCIpOwogICAgfQogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICBTY2hvb2xQYWdlLnByb3RvdHlwZS5fc2Nob29sVGVtcGxhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBkYXRhQXR0cmlidXRlLCBpbnB1dEVsZW1lbnRzLCBsaXN0QXR0cmlidXRlcywgbGlzdEVsZW1lbnQsIHByb3BlcnRpZXMsIF9pLCBfaiwgX2xlbiwgX2xlbjI7CiAgICBwcm9wZXJ0aWVzID0gWyJuYW1lIiwgInByb3ZpbmNlIiwgImRpc3RyaWN0IiwgInNjaG9vbElkIl07CiAgICBsaXN0QXR0cmlidXRlcyA9ICIiOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBwcm9wZXJ0aWVzLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIGRhdGFBdHRyaWJ1dGUgPSBwcm9wZXJ0aWVzW19pXTsKICAgICAgbGlzdEF0dHJpYnV0ZXMgKz0gImRhdGEtIiArIGRhdGFBdHRyaWJ1dGUgKyAiPSd7eyIgKyBkYXRhQXR0cmlidXRlICsgIn19JyAiOwogICAgfQogICAgbGlzdEVsZW1lbnQgPSAiPGxpICIgKyBsaXN0QXR0cmlidXRlcyArICI+e3tkaXN0cmljdH19IC0ge3twcm92aW5jZX19IC0ge3tuYW1lfX08L2xpPiI7CiAgICBpbnB1dEVsZW1lbnRzID0gIiI7CiAgICBmb3IgKF9qID0gMCwgX2xlbjIgPSBwcm9wZXJ0aWVzLmxlbmd0aDsgX2ogPCBfbGVuMjsgX2orKykgewogICAgICBkYXRhQXR0cmlidXRlID0gcHJvcGVydGllc1tfal07CiAgICAgIGlucHV0RWxlbWVudHMgKz0gIiAgICAgIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPiAgICAgICAgPGxhYmVsIGZvcj0nIiArIGRhdGFBdHRyaWJ1dGUgKyAiJz57eyIgKyBkYXRhQXR0cmlidXRlICsgIlRleHR9fTwvbGFiZWw+ICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nIiArIGRhdGFBdHRyaWJ1dGUgKyAiJyBpZD0nIiArIGRhdGFBdHRyaWJ1dGUgKyAiJz48L2lucHV0PiAgICAgIDwvZGl2PiAgICAgICI7CiAgICB9CiAgICByZXR1cm4gIiAgICA8ZGl2PiAgICAgIDxoND4gICAgICAgIHt7c2VsZWN0U2Nob29sVGV4dH19ICAgICAgPC9oND4gICAgPC9kaXY+ICAgIDx1bCBzdHlsZT0nZGlzcGxheTpub25lJyBkYXRhLWZpbHRlcj0ndHJ1ZScgZGF0YS1maWx0ZXItcGxhY2Vob2xkZXI9J1NlYXJjaCBmb3Igc2Nob29sLi4uJyBkYXRhLXJvbGU9J2xpc3R2aWV3Jz4gICAgICB7eyNzY2hvb2xzfX0gICAgICAgICIgKyBsaXN0RWxlbWVudCArICIgICAgICB7ey9zY2hvb2xzfX0gICAgPC91bD4gICAgPGJyLz4gICAgPGJyLz4gICAgPGZvcm0+ICAgICAgIiArIGlucHV0RWxlbWVudHMgKyAiICAgIDwvZm9ybT4gICI7CiAgfTsKICBTY2hvb2xQYWdlLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGlucHV0RWxlbWVudCwgX2ksIF9sZW4sIF9yZWY7CiAgICBfcmVmID0gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZm9ybSBkaXYudWktZmllbGQtY29udGFpbiBpbnB1dCIpOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIGlucHV0RWxlbWVudCA9IF9yZWZbX2ldOwogICAgICBpZiAoJChpbnB1dEVsZW1lbnQpLnZhbCgpID09PSAiIikgewogICAgICAgIHJldHVybiAiJyIgKyAoJCgibGFiZWxbZm9yPSIgKyBpbnB1dEVsZW1lbnQuaWQgKyAiXSIpLmh0bWwoKSkgKyAiJyBpcyBlbXB0eSI7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH07CiAgcmV0dXJuIFNjaG9vbFBhZ2U7Cn0pKCk7ClNjaG9vbFBhZ2UuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIHNjaG9vbFBhZ2U7CiAgc2Nob29sUGFnZSA9IG5ldyBTY2hvb2xQYWdlKHBhZ2VPYmplY3QpOwogIHNjaG9vbFBhZ2UubG9hZChwYWdlT2JqZWN0KTsKICBzY2hvb2xQYWdlLmNvbnRlbnQgPSBNdXN0YWNoZS50b19odG1sKHNjaG9vbFBhZ2UuX3NjaG9vbFRlbXBsYXRlKCksIHNjaG9vbFBhZ2UpOwogIHJldHVybiBzY2hvb2xQYWdlOwp9OwpTY2hvb2xQYWdlLmhpZGVMaXN0VW50aWxTZWFyY2ggPSBmdW5jdGlvbigpIHsKICBpZiAoJCgiI1NjaG9vbCBpbnB1dFtkYXRhLXR5cGU9J3NlYXJjaCddIikudmFsKCkgIT09ICIiKSB7CiAgICAkKCIjU2Nob29sIHVsIikuc2hvdygpOwogICAgcmV0dXJuIGNsZWFySW50ZXJ2YWwoaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsKTsKICB9Cn07CmhpZGVMaXN0VW50aWxTZWFyY2hJbnRlcnZhbCA9IHNldEludGVydmFsKFNjaG9vbFBhZ2UuaGlkZUxpc3RVbnRpbFNlYXJjaCwgNTAwKTsKRGF0ZVRpbWVQYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhEYXRlVGltZVBhZ2UsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBEYXRlVGltZVBhZ2UoKSB7CiAgICBEYXRlVGltZVBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogIERhdGVUaW1lUGFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIHRoaXMuY29udGVudCA9ICI8Zm9ybT4gIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPiAgICA8bGFiZWwgZm9yPSd5ZWFyJz5ZZWFyOjwvbGFiZWw+ICAgIDxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J3llYXInIGlkPSd5ZWFyJyAvPiAgPC9kaXY+ICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgPGxhYmVsIGZvcj0nbW9udGgnPk1vbnRoOjwvbGFiZWw+ICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdtb250aCcgaWQ9J21vbnRoJyAvPiAgPC9kaXY+ICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgPGxhYmVsIGZvcj0nZGF5Jz5EYXk6PC9sYWJlbD4gICAgPGlucHV0IHR5cGU9J251bWJlcicgbmFtZT0nZGF5JyBpZD0nZGF5JyAvPiAgPC9kaXY+ICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgPGxhYmVsIGZvcj0ndGltZSc+VGltZTo8L2xhYmVsPiAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0ndGltZScgaWQ9J3RpbWUnIC8+ICA8L2Rpdj48L2Zvcm0+IjsKICAgIERhdGVUaW1lUGFnZS5fX3N1cGVyX18ubG9hZC5jYWxsKHRoaXMsIGRhdGEpOwogICAgcmV0dXJuICQoImRpdiMiICsgdGhpcy5wYWdlSWQpLmxpdmUoInBhZ2VzaG93IiwgX19iaW5kKGZ1bmN0aW9uKCkgewogICAgICB2YXIgZGF0ZVRpbWUsIG1pbnV0ZXM7CiAgICAgIGRhdGVUaW1lID0gbmV3IERhdGUoKTsKICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgI3llYXIiKS52YWwoZGF0ZVRpbWUuZ2V0RnVsbFllYXIoKSk7CiAgICAgICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiICNtb250aCIpLnZhbChbIkphbiIsICJGZWIiLCAiTWFyIiwgIkFwciIsICJNYXkiLCAiSnVuIiwgIkp1bCIsICJBdWciLCAiU2VwIiwgIk9jdCIsICJOb3YiLCAiRGVjIl1bZGF0ZVRpbWUuZ2V0TW9udGgoKV0pOwogICAgICAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiAjZGF5IikudmFsKGRhdGVUaW1lLmdldERhdGUoKSk7CiAgICAgIG1pbnV0ZXMgPSBkYXRlVGltZS5nZXRNaW51dGVzKCk7CiAgICAgIGlmIChtaW51dGVzIDwgMTApIHsKICAgICAgICBtaW51dGVzID0gIjAiICsgbWludXRlczsKICAgICAgfQogICAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgI3RpbWUiKS52YWwoZGF0ZVRpbWUuZ2V0SG91cnMoKSArICI6IiArIG1pbnV0ZXMpOwogICAgfSwgdGhpcykpOwogIH07CiAgcmV0dXJuIERhdGVUaW1lUGFnZTsKfSkoKTsKUmVzdWx0c1BhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFJlc3VsdHNQYWdlLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gUmVzdWx0c1BhZ2Uob3B0aW9ucykgewogICAgUmVzdWx0c1BhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgb3B0aW9ucyk7CiAgICB0aGlzLmNvbnRlbnQgPSBIYW5kbGViYXJzLmNvbXBpbGUoIiAgICAgIDxkaXYgY2xhc3M9J3Jlc3VsdHNNZXNzYWdlJz4gICAgICA8L2Rpdj4gICAgICA8ZGl2IGRhdGEtcm9sZT0nY29sbGFwc2libGUnIGRhdGEtY29sbGFwc2VkPSd0cnVlJyBjbGFzcz0ncmVzdWx0cyc+ICAgICAgICA8aDM+UmVzdWx0czwvaDM+ICAgICAgICA8cHJlPiAgICAgICAgPC9wcmU+ICAgICAgPC9kaXY+ICAgICAgPGRpdiBjbGFzcz0nbWVzc2FnZSc+ICAgICAgICBZb3UgaGF2ZSBmaW5pc2hlZCBhc3Nlc3NtZW50IDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4uIFRoYW5rIHRoZSBjaGlsZCB3aXRoIGEgc21hbGwgZ2lmdC4gUGxlYXNlIHdyaXRlIDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4gb24gdGhlIHdyaXRpbmcgc2FtcGxlLiAgICAgIDwvZGl2PiAgICAgIDxkaXYgZGF0YS1pbmxpbmU9J3RydWUnPiAgICAgICAgPCEtLSBUT0RPIGluc2VydCB1c2VybmFtZS9wYXNzd29yZCBpbnRvIEdFVCBzdHJpbmcgc28gd2UgZG9uJ3QgaGF2ZSB0byByZXR5cGUgLS0+ICAgICAgICA8IS0tICAgICAgICA8YSBkYXRhLWlubGluZT0ndHJ1ZScgZGF0YS1yb2xlPSdidXR0b24nIHJlbD0nZXh0ZXJuYWwnIGhyZWY9JyNEYXRlVGltZT91c2VybmFtZT0iICsgIiZwYXNzd29yZD0iICsgIic+QmVnaW4gQW5vdGhlciBBc3Nlc3NtZW50PC9hPiAgICAgICAgLS0+ICAgICAgICA8YSBkYXRhLWlubGluZT0ndHJ1ZScgZGF0YS1yb2xlPSdidXR0b24nIHJlbD0nZXh0ZXJuYWwnIGhyZWY9JyIgKyAoJC5hc3Nlc3NtZW50LnJlc2V0VVJMKCkpICsgIic+QmVnaW4gQW5vdGhlciBBc3Nlc3NtZW50PC9hPiAgICAgICAgPGEgZGF0YS1pbmxpbmU9J3RydWUnIGRhdGEtcm9sZT0nYnV0dG9uJyByZWw9J2V4dGVybmFsJyBocmVmPSciICsgJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgIi9fYWxsX2RvY3MnPlN1bW1hcnk8L2E+ICAgICAgPC9kaXY+ICAgICIpOwogIH0KICBSZXN1bHRzUGFnZS5wcm90b3R5cGUubG9hZCA9IGZ1bmN0aW9uKGRhdGEpIHsKICAgIFJlc3VsdHNQYWdlLl9fc3VwZXJfXy5sb2FkLmNhbGwodGhpcywgZGF0YSk7CiAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCkubGl2ZSgicGFnZXNob3ciLCBfX2JpbmQoZnVuY3Rpb24oKSB7CiAgICAgIHZhciB2YWxpZGF0aW9uUmVzdWx0LCBfcmVmLCBfcmVmMjsKICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2IHNwYW5bY2xhc3M9J3JhbmRvbUlkRm9yU3ViamVjdCddIikuaHRtbCgoX3JlZiA9ICQuYXNzZXNzbWVudC5yZXN1bHRzKCkpICE9IG51bGwgPyAoX3JlZjIgPSBfcmVmLkxvZ2luKSAhPSBudWxsID8gX3JlZjIucmFuZG9tSWRGb3JTdWJqZWN0IDogdm9pZCAwIDogdm9pZCAwKTsKICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0naGVhZGVyJ10gYSIpLmhpZGUoKTsKICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0nZm9vdGVyJ10gZGl2IikuaGlkZSgpOwogICAgICB2YWxpZGF0aW9uUmVzdWx0ID0gJC5hc3Nlc3NtZW50LnZhbGlkYXRlKCk7CiAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0ID09PSB0cnVlKSB7CiAgICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzTWVzc2FnZSIpLmh0bWwoIlJlc3VsdHMgVmFsaWRhdGVkIik7CiAgICAgICAgcmV0dXJuICQuYXNzZXNzbWVudC5zYXZlUmVzdWx0cyhfX2JpbmQoZnVuY3Rpb24ocmVzdWx0cykgewogICAgICAgICAgJCgiZGl2IyIgKyB0aGlzLnBhZ2VJZCArICIgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzTWVzc2FnZSIpLmh0bWwoIlJlc3VsdHMgU2F2ZWQiKTsKICAgICAgICAgIHJldHVybiAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10gZGl2LnJlc3VsdHMgcHJlIikuaHRtbChKU09OLnN0cmluZ2lmeShyZXN1bHRzLCBudWxsLCAyKSk7CiAgICAgICAgfSwgdGhpcykpOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10gZGl2LnJlc3VsdHNNZXNzYWdlIikuaHRtbCgiSW52YWxpZCByZXN1bHRzOjxici8+ICIgKyB2YWxpZGF0aW9uUmVzdWx0ICsgIjxici8+WW91IG1heSBzdGFydCB0aGlzIGFzc2Vzc21lbnQgb3ZlciBhZ2FpbiBieSBzZWxlY3RpbmcgJ0JlaW5nIEFub3RoZXIgQXNzZXNzbWVudCcgYmVsb3cuIik7CiAgICAgIH0KICAgIH0sIHRoaXMpKTsKICB9OwogIHJldHVybiBSZXN1bHRzUGFnZTsKfSkoKTsKVGV4dFBhZ2UgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFRleHRQYWdlLCBBc3Nlc3NtZW50UGFnZSk7CiAgZnVuY3Rpb24gVGV4dFBhZ2UoKSB7CiAgICBUZXh0UGFnZS5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICB9CiAgVGV4dFBhZ2UucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBUZXh0UGFnZS5fX3N1cGVyX18ucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24uY2FsbCh0aGlzKTsKICAgIHByb3BlcnRpZXMucHVzaCgiY29udGVudCIpOwogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICByZXR1cm4gVGV4dFBhZ2U7Cn0pKCk7CkNvbnNlbnRQYWdlID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhDb25zZW50UGFnZSwgVGV4dFBhZ2UpOwogIGZ1bmN0aW9uIENvbnNlbnRQYWdlKCkgewogICAgQ29uc2VudFBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgfQogICQoImRpdiMiICsgQ29uc2VudFBhZ2UucGFnZUlkICsgIiBsYWJlbFtmb3I9J2NvbnNlbnQtbm8nXSIpLmxpdmUoIm1vdXNlZG93biIsIF9fYmluZChmdW5jdGlvbihldmVudERhdGEpIHsKICAgICQoIiNfaW5mb1BhZ2UgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIikuaHRtbCgiPGI+VGhhbmsgeW91IGZvciB5b3VyIHRpbWU8L2I+LiBTYXZpbmcgcGFydGlhbCByZXN1bHRzLiIpOwogICAgJC5tb2JpbGUuY2hhbmdlUGFnZSgiI19pbmZvUGFnZSIpOwogICAgcmV0dXJuICQuYXNzZXNzbWVudC5zYXZlUmVzdWx0cyhfX2JpbmQoZnVuY3Rpb24ocmVzdWx0cykgewogICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7CiAgICAgICAgJCgiI19pbmZvUGFnZSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10iKS5odG1sKCJSZXNldHRpbmcgYXNzZXNzbWVudCBmb3IgbmV4dCBzdHVkZW50LiIpOwogICAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiAkLmFzc2Vzc21lbnQucmVzZXQoKTsKICAgICAgICB9KSwgMTAwMCk7CiAgICAgIH0pLCAyMDAwKTsKICAgIH0sIHRoaXMpKTsKICB9LCBDb25zZW50UGFnZSkpOwogIHJldHVybiBDb25zZW50UGFnZTsKfSkuY2FsbCh0aGlzKTsKKHsKICB2YWxpZGF0ZTogZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdHJ1ZTsKICAgIGlmICgkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIiBpbnB1dFtAbmFtZT0nY2hpbGRDb25zZW50cyddOmNoZWNrZWQiKS52YWwoKSkgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiAiWW91IG11c3QgYW5zd2VyIHRoZSBjb25zZW50IHF1ZXN0aW9uIjsKICAgIH0KICB9Cn0pOwpVbnRpbWVkU3VidGVzdCA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoVW50aW1lZFN1YnRlc3QsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBVbnRpbWVkU3VidGVzdChvcHRpb25zKSB7CiAgICB2YXIgYW5zd2VyLCBpbmRleCwgcXVlc3Rpb24sIHF1ZXN0aW9uTmFtZTsKICAgIHRoaXMucXVlc3Rpb25zID0gb3B0aW9ucy5xdWVzdGlvbnM7CiAgICBVbnRpbWVkU3VidGVzdC5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIHRoaXMuZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2U7CiAgICB0aGlzLmNvbnRlbnQgPSAiPGZvcm0+IiArICgoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgICAgX3JlZiA9IHRoaXMucXVlc3Rpb25zOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKGluZGV4ID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBpbmRleCA8IF9sZW47IGluZGV4KyspIHsKICAgICAgICBxdWVzdGlvbiA9IF9yZWZbaW5kZXhdOwogICAgICAgIHF1ZXN0aW9uTmFtZSA9IHRoaXMucGFnZUlkICsgIi1xdWVzdGlvbi0iICsgaW5kZXg7CiAgICAgICAgX3Jlc3VsdHMucHVzaCgoIiAgICAgIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPiAgICAgICAgICA8ZmllbGRzZXQgZGF0YS1yb2xlPSdjb250cm9sZ3JvdXAnIGRhdGEtdHlwZT0naG9yaXpvbnRhbCc+ICAgICAgICAgICAgPGxlZ2VuZD4iICsgcXVlc3Rpb24gKyAiPC9sZWdlbmQ+ICAgICAgIikgKyAoKGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIF9pLCBfbGVuMiwgX3JlZjIsIF9yZXN1bHRzMjsKICAgICAgICAgIF9yZWYyID0gWyJDb3JyZWN0IiwgIkluY29ycmVjdCIsICJObyByZXNwb25zZSJdOwogICAgICAgICAgX3Jlc3VsdHMyID0gW107CiAgICAgICAgICBmb3IgKF9pID0gMCwgX2xlbjIgPSBfcmVmMi5sZW5ndGg7IF9pIDwgX2xlbjI7IF9pKyspIHsKICAgICAgICAgICAgYW5zd2VyID0gX3JlZjJbX2ldOwogICAgICAgICAgICBfcmVzdWx0czIucHVzaCgiICAgICAgICA8bGFiZWwgZm9yPSciICsgcXVlc3Rpb25OYW1lICsgIi0iICsgYW5zd2VyICsgIic+IiArIGFuc3dlciArICI8L2xhYmVsPiAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSciICsgcXVlc3Rpb25OYW1lICsgIicgaWQ9JyIgKyBxdWVzdGlvbk5hbWUgKyAiLSIgKyBhbnN3ZXIgKyAiJyB2YWx1ZT0nIiArIGFuc3dlciArICInIC8+ICAgICAgICAiKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfcmVzdWx0czI7CiAgICAgICAgfSkoKSkuam9pbigiIikgKyAiICAgICAgICAgIDwvZmllbGRzZXQ+ICAgICAgPC9kaXY+ICAgICAgIik7CiAgICAgIH0KICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgfSkuY2FsbCh0aGlzKSkuam9pbigiIikgKyAiPC9mb3JtPiI7CiAgfQogIFVudGltZWRTdWJ0ZXN0LnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXM7CiAgICBwcm9wZXJ0aWVzID0gVW50aW1lZFN1YnRlc3QuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goInF1ZXN0aW9ucyIpOwogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICBVbnRpbWVkU3VidGVzdC5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIGlmIChfLnNpemUodGhpcy5yZXN1bHRzKCkpID09PSB0aGlzLnF1ZXN0aW9ucy5sZW5ndGgpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIk9ubHkgIiArIChfLnNpemUodGhpcy5yZXN1bHRzKCkpKSArICIgb3V0IG9mIHRoZSAiICsgdGhpcy5xdWVzdGlvbnMubGVuZ3RoICsgIiBxdWVzdGlvbnMgd2VyZSBhbnN3ZXJlZCI7CiAgICB9CiAgfTsKICByZXR1cm4gVW50aW1lZFN1YnRlc3Q7Cn0pKCk7ClVudGltZWRTdWJ0ZXN0LmRlc2VyaWFsaXplID0gZnVuY3Rpb24ocGFnZU9iamVjdCkgewogIHZhciB1bnRpbWVkU3VidGVzdDsKICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdChwYWdlT2JqZWN0KTsKICB1bnRpbWVkU3VidGVzdC5sb2FkKHBhZ2VPYmplY3QpOwogIHJldHVybiB1bnRpbWVkU3VidGVzdDsKfTsKVW50aW1lZFN1YnRlc3RMaW5rZWQgPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKFVudGltZWRTdWJ0ZXN0TGlua2VkLCBVbnRpbWVkU3VidGVzdCk7CiAgZnVuY3Rpb24gVW50aW1lZFN1YnRlc3RMaW5rZWQob3B0aW9ucykgewogICAgdmFyIGxpbmtlZFBhZ2VOYW1lOwogICAgdGhpcy5saW5rZWRUb1BhZ2VJZCA9IG9wdGlvbnMubGlua2VkVG9QYWdlSWQ7CiAgICB0aGlzLnF1ZXN0aW9uSW5kaWNlcyA9IG9wdGlvbnMucXVlc3Rpb25JbmRpY2VzOwogICAgdGhpcy5mb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZTsKICAgIFVudGltZWRTdWJ0ZXN0TGlua2VkLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpOwogICAgbGlua2VkUGFnZU5hbWUgPSB0aGlzLmxpbmtlZFRvUGFnZUlkLnVuZGVyc2NvcmUoKS50aXRsZWl6ZSgpOwogICAgdGhpcy5jb250ZW50ICs9ICI8ZGl2IGlkPSciICsgdGhpcy5wYWdlSWQgKyAiLW5vdC1lbm91Z2gtcHJvZ3Jlc3MtbWVzc2FnZScgc3R5bGU9J2Rpc3BsYXk6aGlkZGVuJz5Ob3QgZW5vdWdoIHByb2dyZXNzIHdhcyBtYWRlIG9uICIgKyBsaW5rZWRQYWdlTmFtZSArICIgdG8gc2hvdyBxdWVzdGlvbnMgZnJvbSAiICsgKHRoaXMubmFtZSgpKSArICIuIENvbnRpbnVlIGJ5IHByZXNzaW5nIE5leHQuPC9kaXY+IjsKICAgICQoIiMiICsgdGhpcy5wYWdlSWQpLmxpdmUoJ3BhZ2VzaG93JywgX19iaW5kKGZ1bmN0aW9uKGV2ZW50RGF0YSkgewogICAgICB2YXIgYXR0ZW1wdGVkT25MaW5rZWRQYWdlLCBpbnB1dEVsZW1lbnQsIF9pLCBfbGVuLCBfcmVmOwogICAgICBhdHRlbXB0ZWRPbkxpbmtlZFBhZ2UgPSAkLmFzc2Vzc21lbnQuZ2V0UGFnZSh0aGlzLmxpbmtlZFRvUGFnZUlkKS5yZXN1bHRzKCkuYXR0ZW1wdGVkOwogICAgICB0aGlzLm51bWJlcklucHV0RmllbGRzU2hvd24gPSAwOwogICAgICBfcmVmID0gJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgaW5wdXRbdHlwZT0ncmFkaW8nXSIpOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBpbnB1dEVsZW1lbnQgPSBfcmVmW19pXTsKICAgICAgICBpZiAoYXR0ZW1wdGVkT25MaW5rZWRQYWdlIDwgdGhpcy5xdWVzdGlvbkluZGljZXNbaW5wdXRFbGVtZW50Lm5hbWUuc3Vic3RyKGlucHV0RWxlbWVudC5uYW1lLmxhc3RJbmRleE9mKCItIikgKyAxKV0pIHsKICAgICAgICAgICQoaW5wdXRFbGVtZW50KS5wYXJlbnRzKCJkaXZbZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nXSIpLmhpZGUoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgJChpbnB1dEVsZW1lbnQpLnBhcmVudHMoImRpdltkYXRhLXJvbGU9J2ZpZWxkY29udGFpbiddIikuc2hvdygpOwogICAgICAgICAgdGhpcy5udW1iZXJJbnB1dEZpZWxkc1Nob3duKys7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAkKCJkaXYjIiArIHRoaXMucGFnZUlkICsgIi1ub3QtZW5vdWdoLXByb2dyZXNzLW1lc3NhZ2UiKS50b2dnbGUodGhpcy5udW1iZXJJbnB1dEZpZWxkc1Nob3duID09PSAwKTsKICAgIH0sIHRoaXMpKTsKICB9CiAgVW50aW1lZFN1YnRlc3RMaW5rZWQucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBVbnRpbWVkU3VidGVzdExpbmtlZC5fX3N1cGVyX18ucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24uY2FsbCh0aGlzKTsKICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbInF1ZXN0aW9ucyIsICJsaW5rZWRUb1BhZ2VJZCIsICJxdWVzdGlvbkluZGljZXMiXSk7CiAgICByZXR1cm4gcHJvcGVydGllczsKICB9OwogIFVudGltZWRTdWJ0ZXN0TGlua2VkLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIG51bWJlck9mUXVlc3Rpb25zQW5zd2VyZWQsIG51bWJlck9mUXVlc3Rpb25zU2hvd247CiAgICBudW1iZXJPZlF1ZXN0aW9uc1Nob3duID0gdGhpcy5udW1iZXJJbnB1dEZpZWxkc1Nob3duIC8gMzsKICAgIG51bWJlck9mUXVlc3Rpb25zQW5zd2VyZWQgPSBfLnNpemUodGhpcy5yZXN1bHRzKCkpOwogICAgaWYgKG51bWJlck9mUXVlc3Rpb25zQW5zd2VyZWQgPT09IG51bWJlck9mUXVlc3Rpb25zU2hvd24pIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIk9ubHkgIiArIG51bWJlck9mUXVlc3Rpb25zQW5zd2VyZWQgKyAiIG91dCBvZiB0aGUgIiArIG51bWJlck9mUXVlc3Rpb25zU2hvd24gKyAiIHF1ZXN0aW9ucyB3ZXJlIGFuc3dlcmVkIjsKICAgIH0KICB9OwogIHJldHVybiBVbnRpbWVkU3VidGVzdExpbmtlZDsKfSkoKTsKVW50aW1lZFN1YnRlc3RMaW5rZWQuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIHVudGltZWRTdWJ0ZXN0OwogIHVudGltZWRTdWJ0ZXN0ID0gbmV3IFVudGltZWRTdWJ0ZXN0TGlua2VkKHBhZ2VPYmplY3QpOwogIHVudGltZWRTdWJ0ZXN0LmxvYWQocGFnZU9iamVjdCk7CiAgcmV0dXJuIHVudGltZWRTdWJ0ZXN0Owp9OwpQaG9uZW1lUGFnZSA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoUGhvbmVtZVBhZ2UsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBQaG9uZW1lUGFnZSh3b3JkcykgewogICAgdmFyIGFuc3dlciwgaW5kZXgsIGl0ZW0sIHBob25lbWUsIHBob25lbWVJbmRleCwgcGhvbmVtZU5hbWUsIHdvcmROYW1lOwogICAgdGhpcy53b3JkcyA9IHdvcmRzOwogICAgUGhvbmVtZVBhZ2UuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyk7CiAgICB0aGlzLnN1YnRlc3RJZCA9ICJwaG9uZW1pYy1hd2FyZW5lc3MiOwogICAgdGhpcy5mb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZTsKICAgIHBob25lbWVJbmRleCA9IDE7CiAgICB0aGlzLmNvbnRlbnQgPSAoIjxmb3JtIGlkPSciICsgdGhpcy5zdWJ0ZXN0SWQgKyAiJz4iKSArICgoZnVuY3Rpb24oKSB7CiAgICAgIHZhciBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgICAgX3JlZiA9IHRoaXMud29yZHM7CiAgICAgIF9yZXN1bHRzID0gW107CiAgICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICAgIGl0ZW0gPSBfcmVmW2luZGV4XTsKICAgICAgICB3b3JkTmFtZSA9IHRoaXMuc3VidGVzdElkICsgIi1udW1iZXItc291bmQtIiArIChpbmRleCArIDEpOwogICAgICAgIF9yZXN1bHRzLnB1c2goKCIgICAgICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4gICAgICAgICAgPGxlZ2VuZD4iICsgaXRlbVsid29yZCJdICsgIiAtICIgKyBpdGVtWyJudW1iZXItb2Ytc291bmRzIl0gKyAiPC9sZWdlbmQ+ICAgICAgICAgIDxmaWVsZHNldCBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCcgZGF0YS10eXBlPSdob3Jpem9udGFsJz4gICAgICAiKSArICgoZnVuY3Rpb24oKSB7CiAgICAgICAgICB2YXIgX2ksIF9sZW4yLCBfcmVmMiwgX3Jlc3VsdHMyOwogICAgICAgICAgX3JlZjIgPSBbIkNvcnJlY3QiLCAiSW5jb3JyZWN0Il07CiAgICAgICAgICBfcmVzdWx0czIgPSBbXTsKICAgICAgICAgIGZvciAoX2kgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuMjsgX2krKykgewogICAgICAgICAgICBhbnN3ZXIgPSBfcmVmMltfaV07CiAgICAgICAgICAgIF9yZXN1bHRzMi5wdXNoKCIgICAgICAgIDxsYWJlbCBmb3I9JyIgKyB3b3JkTmFtZSArICItIiArIGFuc3dlciArICInPiIgKyBhbnN3ZXIgKyAiPC9sYWJlbD4gICAgICAgIDxpbnB1dCB0eXBlPSdyYWRpbycgbmFtZT0nIiArIHdvcmROYW1lICsgIicgaWQ9JyIgKyB3b3JkTmFtZSArICItIiArIGFuc3dlciArICInIHZhbHVlPSciICsgYW5zd2VyICsgIicgLz4gICAgICAgICIpOwogICAgICAgICAgfQogICAgICAgICAgcmV0dXJuIF9yZXN1bHRzMjsKICAgICAgICB9KSgpKS5qb2luKCIiKSArICIgICAgICAgICAgPC9maWVsZHNldD4gICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPiAgICAgICIgKyAoKGZ1bmN0aW9uKCkgewogICAgICAgICAgdmFyIF9pLCBfbGVuMiwgX3JlZjIsIF9yZXN1bHRzMjsKICAgICAgICAgIF9yZWYyID0gaXRlbVsicGhvbmVtZXMiXTsKICAgICAgICAgIF9yZXN1bHRzMiA9IFtdOwogICAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4yID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW4yOyBfaSsrKSB7CiAgICAgICAgICAgIHBob25lbWUgPSBfcmVmMltfaV07CiAgICAgICAgICAgIHBob25lbWVOYW1lID0gdGhpcy5zdWJ0ZXN0SWQgKyAiLXBob25lbWUtc291bmQtIiArIHBob25lbWVJbmRleCsrOwogICAgICAgICAgICBfcmVzdWx0czIucHVzaCgiICAgICAgICAgIDxpbnB1dCB0eXBlPSdjaGVja2JveCcgbmFtZT0nIiArIHBob25lbWVOYW1lICsgIicgaWQ9JyIgKyBwaG9uZW1lTmFtZSArICInIC8+ICAgICAgICAgIDxsYWJlbCBmb3I9JyIgKyBwaG9uZW1lTmFtZSArICInPiIgKyBwaG9uZW1lICsgIjwvbGFiZWw+ICAgICAgICAiKTsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBfcmVzdWx0czI7CiAgICAgICAgfSkuY2FsbCh0aGlzKSkuam9pbigiIikgKyAiICAgICAgICAgIDwvZmllbGRzZXQ+ICAgICAgPC9kaXY+ICAgICAgPGhyLz4gICAgICAiKTsKICAgICAgfQogICAgICByZXR1cm4gX3Jlc3VsdHM7CiAgICB9KS5jYWxsKHRoaXMpKS5qb2luKCIiKSArICI8L2Zvcm0+IjsKICB9CiAgUGhvbmVtZVBhZ2UucHJvdG90eXBlLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgcHJvcGVydGllczsKICAgIHByb3BlcnRpZXMgPSBQaG9uZW1lUGFnZS5fX3N1cGVyX18ucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24uY2FsbCh0aGlzKTsKICAgIHByb3BlcnRpZXMucHVzaCgid29yZHMiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgUGhvbmVtZVBhZ2UucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBpbnB1dCwgcmVzdWx0cywgX2ksIF9sZW4sIF9yZWY7CiAgICByZXN1bHRzID0gUGhvbmVtZVBhZ2UuX19zdXBlcl9fLnJlc3VsdHMuY2FsbCh0aGlzKTsKICAgIF9yZWYgPSAkKCJmb3JtIyIgKyB0aGlzLnN1YnRlc3RJZCArICIgaW5wdXQ6Y2hlY2tib3giKTsKICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICBpbnB1dCA9IF9yZWZbX2ldOwogICAgICByZXN1bHRzWyIiICsgaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZSAhPT0gIm9uIjsKICAgIH0KICAgIHJldHVybiByZXN1bHRzOwogIH07CiAgUGhvbmVtZVBhZ2UucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgaW5kZXgsIGl0ZW0sIHJlc3VsdHMsIF9sZW4sIF9yZWY7CiAgICByZXN1bHRzID0gdGhpcy5yZXN1bHRzKCk7CiAgICBfcmVmID0gdGhpcy53b3JkczsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICBpdGVtID0gX3JlZltpbmRleF07CiAgICAgIGlmIChyZXN1bHRzW3RoaXMuc3VidGVzdElkICsgIi1udW1iZXItc291bmQtIiArIChpbmRleCArIDEpXSA9PSBudWxsKSB7CiAgICAgICAgcmV0dXJuICJZb3UgbXVzdCBzZWxlY3QgQ29ycmVjdCBvciBJbmNvcnJlY3QgZm9yIGl0ZW0gIyIgKyAoaW5kZXggKyAxKSArICI6IDxiPiIgKyBpdGVtWyJ3b3JkIl0gKyAiPC9iPiI7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiB0cnVlOwogIH07CiAgcmV0dXJuIFBob25lbWVQYWdlOwp9KSgpOwpQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZSA9IGZ1bmN0aW9uKHBhZ2VPYmplY3QpIHsKICB2YXIgcGFnZTsKICBwYWdlID0gbmV3IFBob25lbWVQYWdlKHBhZ2VPYmplY3Qud29yZHMpOwogIHBhZ2UubG9hZChwYWdlT2JqZWN0KTsKICByZXR1cm4gcGFnZTsKfTsKVG9nZ2xlR3JpZFdpdGhUaW1lciA9IChmdW5jdGlvbigpIHsKICBfX2V4dGVuZHMoVG9nZ2xlR3JpZFdpdGhUaW1lciwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIFRvZ2dsZUdyaWRXaXRoVGltZXIob3B0aW9ucykgewogICAgdmFyIGluZGV4LCBsZXR0ZXIsIHJlc3VsdCwgc2VsZWN0RXZlbnQsIF9sZW4sIF9yZWY7CiAgICB0aGlzLmxldHRlcnMgPSBvcHRpb25zLmxldHRlcnM7CiAgICB0aGlzLm51bWJlck9mQ29sdW1ucyA9IChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLm51bWJlck9mQ29sdW1ucyA6IHZvaWQgMCkgfHwgMTA7CiAgICB0aGlzLmZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlOwogICAgVG9nZ2xlR3JpZFdpdGhUaW1lci5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIHRoaXMuYWRkVGltZXIoKTsKICAgIHJlc3VsdCA9ICIiOwogICAgX3JlZiA9IHRoaXMubGV0dGVyczsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICBsZXR0ZXIgPSBfcmVmW2luZGV4XTsKICAgICAgcmVzdWx0ICs9ICI8ZGl2IGNsYXNzPSdncmlkJz48c3BhbiBjbGFzcz0nZ3JpZC10ZXh0JyA+IiArIGxldHRlciArICI8L3NwYW4+PC9kaXY+IjsKICAgICAgaWYgKChpbmRleCArIDEpICUgNSA9PT0gMCkgewogICAgICAgIHJlc3VsdCArPSAiPGRpdiBjbGFzcz0ndG9nZ2xlLXJvdyBncmlkJz48c3BhbiBjbGFzcz0nZ3JpZC10ZXh0ICIgKyAoISgoaW5kZXggKyAxKSAlIDEwID09PSAwKSA/ICJ0b2dnbGUtcm93LXBvcnRyYWl0IiA6IHZvaWQgMCkgKyAiJz4qPC9zcGFuPjwvZGl2PiI7CiAgICAgIH0KICAgIH0KICAgIHRoaXMuY29udGVudCA9ICIgICAgICA8ZGl2IGNsYXNzPSd0aW1lcic+ICAgICAgICA8YnV0dG9uPnN0YXJ0PC9idXR0b24+ICAgICAgPC9kaXY+ICAgICAgPGRpdiBjbGFzcz0ndG9nZ2xlLWdyaWQtd2l0aC10aW1lcicgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICA8Zm9ybT4gICAgICAgICAgPGRpdiBjbGFzcz0nZ3JpZC13aWR0aCc+ICAgICAgICAgICAgIiArIHJlc3VsdCArICIgICAgICAgICAgPC9kaXY+ICAgICAgICA8L2Zvcm0+ICAgICAgPC9kaXY+ICAgICAgPGRpdiBjbGFzcz0ndGltZXInPiAgICAgICAgPGJ1dHRvbj5zdG9wPC9idXR0b24+ICAgICAgPC9kaXY+ICAgICAgIjsKICAgICQoIiMiICsgdGhpcy5wYWdlSWQpLmxpdmUoInBhZ2VzaG93IiwgX19iaW5kKGZ1bmN0aW9uKGV2ZW50RGF0YSkgewogICAgICB2YXIgZm9udFNpemUsIGdyaWRXaWR0aCwgbGV0dGVyU3BhbiwgX2ksIF9sZW4yLCBfcmVmMjsKICAgICAgZ3JpZFdpZHRoID0gJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmdyaWQ6Zmlyc3QiKS53aWR0aCgpOwogICAgICBmb250U2l6ZSA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkOmZpcnN0IHNwYW4iKS5jc3MoJ2ZvbnQtc2l6ZScpOwogICAgICBmb250U2l6ZSA9IGZvbnRTaXplLnN1YnN0cigwLCBmb250U2l6ZS5pbmRleE9mKCJweCIpKTsKICAgICAgX3JlZjIgPSAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZCBzcGFuIik7CiAgICAgIGZvciAoX2kgPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgX2kgPCBfbGVuMjsgX2krKykgewogICAgICAgIGxldHRlclNwYW4gPSBfcmVmMltfaV07CiAgICAgICAgbGV0dGVyU3BhbiA9ICQobGV0dGVyU3Bhbik7CiAgICAgICAgbGV0dGVyU3Bhbi5jc3MoJ2ZvbnQtc2l6ZScsICIiICsgZm9udFNpemUgKyAicHgiKTsKICAgICAgICB3aGlsZSAobGV0dGVyU3Bhbi53aWR0aCgpID4gZ3JpZFdpZHRoKSB7CiAgICAgICAgICBsZXR0ZXJTcGFuLmNzcygnZm9udC1zaXplJywgIiIgKyAoZm9udFNpemUtLSkgKyAicHgiKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkIHNwYW4iKS5jc3MoJ2ZvbnQtc2l6ZScsICIiICsgZm9udFNpemUgKyAicHgiKTsKICAgIH0sIHRoaXMpKTsKICAgIHNlbGVjdEV2ZW50ID0gJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50ID8gInRvdWNoc3RhcnQiIDogImNsaWNrIjsKICAgICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkIikubGl2ZShzZWxlY3RFdmVudCwgX19iaW5kKGZ1bmN0aW9uKGV2ZW50RGF0YSkgewogICAgICBpZiAoIXRoaXMudGltZXIuc3RhcnRlZCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnRpbWVyLmhhc1N0YXJ0ZWRBbmRTdG9wcGVkKCkpIHsKICAgICAgICAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuZ3JpZCIpLnJlbW92ZUNsYXNzKCdsYXN0LWF0dGVtcHRlZCcpOwogICAgICAgIHJldHVybiAkKGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnbGFzdC1hdHRlbXB0ZWQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJChldmVudERhdGEuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoInNlbGVjdGVkIik7CiAgICAgIH0KICAgIH0sIHRoaXMpKTsKICAgICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkLnRvZ2dsZS1yb3ciKS5saXZlKHNlbGVjdEV2ZW50LCBfX2JpbmQoZnVuY3Rpb24oZXZlbnREYXRhKSB7CiAgICAgIHZhciBncmlkSXRlbSwgdG9nZ2xlUm93LCBfaSwgX2xlbjIsIF9yZWYyLCBfcmVzdWx0czsKICAgICAgdG9nZ2xlUm93ID0gJChldmVudERhdGEuY3VycmVudFRhcmdldCk7CiAgICAgIF9yZWYyID0gdG9nZ2xlUm93LnByZXZBbGwoKTsKICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgZm9yIChfaSA9IDAsIF9sZW4yID0gX3JlZjIubGVuZ3RoOyBfaSA8IF9sZW4yOyBfaSsrKSB7CiAgICAgICAgZ3JpZEl0ZW0gPSBfcmVmMltfaV07CiAgICAgICAgZ3JpZEl0ZW0gPSAkKGdyaWRJdGVtKTsKICAgICAgICBpZiAoZ3JpZEl0ZW0uaGFzQ2xhc3MoInRvZ2dsZS1yb3ciKSAmJiBncmlkSXRlbS5jc3MoImRpc3BsYXkiKSAhPT0gIm5vbmUiKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgX3Jlc3VsdHMucHVzaCh0b2dnbGVSb3cuaGFzQ2xhc3MoInNlbGVjdGVkIikgPyAhZ3JpZEl0ZW0uaGFzQ2xhc3MoInNlbGVjdGVkIikgPyBncmlkSXRlbS5hZGRDbGFzcygic2VsZWN0ZWQgcm93dG9nZ2xlZCIpIDogdm9pZCAwIDogZ3JpZEl0ZW0uaGFzQ2xhc3MoInJvd3RvZ2dsZWQiKSA/IGdyaWRJdGVtLnJlbW92ZUNsYXNzKCJzZWxlY3RlZCByb3d0b2dnbGVkIikgOiB2b2lkIDApOwogICAgICB9CiAgICAgIHJldHVybiBfcmVzdWx0czsKICAgIH0sIHRoaXMpKTsKICB9CiAgVG9nZ2xlR3JpZFdpdGhUaW1lci5wcm90b3R5cGUucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbigpIHsKICAgIHZhciBwcm9wZXJ0aWVzOwogICAgcHJvcGVydGllcyA9IFRvZ2dsZUdyaWRXaXRoVGltZXIuX19zdXBlcl9fLnByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uLmNhbGwodGhpcyk7CiAgICBwcm9wZXJ0aWVzLnB1c2goImxldHRlcnMiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgVG9nZ2xlR3JpZFdpdGhUaW1lci5wcm90b3R5cGUucmVzdWx0cyA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGZpcnN0VGVuUGVyY2VudCwgZ3JpZEl0ZW0sIGluZGV4LCBpdGVtcywgcmVzdWx0cywgdGVuUGVyY2VudE9mSXRlbXMsIF9sZW4sIF9sZW4yLCBfcmVmLCBfcmVmMjsKICAgIHJlc3VsdHMgPSB7fTsKICAgIGl0ZW1zID0gJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmdyaWQ6bm90KC50b2dnbGUtcm93KSIpOwogICAgdGVuUGVyY2VudE9mSXRlbXMgPSBpdGVtcy5sZW5ndGggLyAxMDsKICAgIGZpcnN0VGVuUGVyY2VudCA9IGl0ZW1zLnNsaWNlKDAsICh0ZW5QZXJjZW50T2ZJdGVtcyAtIDEgKyAxKSB8fCA5ZTkpOwogICAgaWYgKF8uc2VsZWN0KGZpcnN0VGVuUGVyY2VudCwgZnVuY3Rpb24oaXRlbSkgewogICAgICByZXR1cm4gJChpdGVtKS5oYXNDbGFzcygic2VsZWN0ZWQiKTsKICAgIH0pLmxlbmd0aCA9PT0gdGVuUGVyY2VudE9mSXRlbXMpIHsKICAgICAgcmVzdWx0cy5hdXRvX3N0b3AgPSB0cnVlOwogICAgICBpZiAoIXRoaXMuYXV0b3N0b3ApIHsKICAgICAgICAkKF8ubGFzdChmaXJzdFRlblBlcmNlbnQpKS50b2dnbGVDbGFzcygibGFzdC1hdHRlbXB0ZWQiLCB0cnVlKTsKICAgICAgICB0aGlzLnRpbWVyLnN0b3AoKTsKICAgICAgICAkLmFzc2Vzc21lbnQuZmxhc2goKTsKICAgICAgICB0aGlzLmF1dG9zdG9wID0gdHJ1ZTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgdGhpcy5hdXRvc3RvcCA9IGZhbHNlOwogICAgfQogICAgaWYgKCF0aGlzLnRpbWVyLmhhc1N0YXJ0ZWRBbmRTdG9wcGVkKCkpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmVzdWx0cy5sZXR0ZXJzID0gbmV3IEFycmF5KCk7CiAgICByZXN1bHRzLnRpbWVfcmVtYWluID0gdGhpcy50aW1lci5zZWNvbmRzOwogICAgX3JlZiA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkOm5vdCgudG9nZ2xlLXJvdykiKTsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IGluZGV4IDwgX2xlbjsgaW5kZXgrKykgewogICAgICBncmlkSXRlbSA9IF9yZWZbaW5kZXhdOwogICAgICByZXN1bHRzLmxldHRlcnNbaW5kZXhdID0gZmFsc2U7CiAgICB9CiAgICByZXN1bHRzLmF0dGVtcHRlZCA9IG51bGw7CiAgICBfcmVmMiA9ICQoIiMiICsgdGhpcy5wYWdlSWQgKyAiIC5ncmlkOm5vdCgudG9nZ2xlLXJvdykiKTsKICAgIGZvciAoaW5kZXggPSAwLCBfbGVuMiA9IF9yZWYyLmxlbmd0aDsgaW5kZXggPCBfbGVuMjsgaW5kZXgrKykgewogICAgICBncmlkSXRlbSA9IF9yZWYyW2luZGV4XTsKICAgICAgZ3JpZEl0ZW0gPSAkKGdyaWRJdGVtKTsKICAgICAgaWYgKCFncmlkSXRlbS5oYXNDbGFzcygic2VsZWN0ZWQiKSkgewogICAgICAgIHJlc3VsdHMubGV0dGVyc1tpbmRleF0gPSB0cnVlOwogICAgICB9CiAgICAgIGlmIChncmlkSXRlbS5oYXNDbGFzcygibGFzdC1hdHRlbXB0ZWQiKSkgewogICAgICAgIHJlc3VsdHMuYXR0ZW1wdGVkID0gaW5kZXggKyAxOwogICAgICAgIGlmICh0aGlzLmF1dG9zdG9wKSB7CiAgICAgICAgICAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuY29udHJvbHMgLm1lc3NhZ2UiKS5odG1sKCJGaXJzdCAiICsgdGVuUGVyY2VudE9mSXRlbXMgKyAiIGluY29ycmVjdCAtIGF1dG9zdG9wLiIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAkKCIjIiArIHRoaXMucGFnZUlkICsgIiAuY29udHJvbHMgLm1lc3NhZ2UiKS5odG1sKCIiKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJlc3VsdHM7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgJCgiIyIgKyB0aGlzLnBhZ2VJZCArICIgLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiU2VsZWN0IGxhc3QgaXRlbSBhdHRlbXB0ZWQiKTsKICAgICAgfQogICAgfQogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKICBUb2dnbGVHcmlkV2l0aFRpbWVyLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHJlc3VsdHM7CiAgICByZXN1bHRzID0gdGhpcy5yZXN1bHRzKCk7CiAgICBpZiAocmVzdWx0cy50aW1lX3JlbWFpbiA9PT0gNjAgfHwgcmVzdWx0cy50aW1lX3JlbWFpbiA9PT0gdm9pZCAwKSB7CiAgICAgIHJldHVybiAiVGhlIHRpbWVyIG11c3QgYmUgc3RhcnRlZCI7CiAgICB9CiAgICBpZiAodGhpcy50aW1lci5ydW5uaW5nKSB7CiAgICAgIHJldHVybiAiVGhlIHRpbWVyIGlzIHN0aWxsIHJ1bm5pbmciOwogICAgfQogICAgaWYgKHJlc3VsdHMudGltZV9yZW1haW4gPT09IDApIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgaWYgKHJlc3VsdHMuYXR0ZW1wdGVkICE9IG51bGwpIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gIlRoZSBsYXN0IGxldHRlciBhdHRlbXB0ZWQgaGFzIG5vdCBiZWVuIHNlbGVjdGVkIjsKICAgIH0KICB9OwogIHJldHVybiBUb2dnbGVHcmlkV2l0aFRpbWVyOwp9KSgpOwpEaWN0YXRpb24gPSAoZnVuY3Rpb24oKSB7CiAgX19leHRlbmRzKERpY3RhdGlvbiwgQXNzZXNzbWVudFBhZ2UpOwogIGZ1bmN0aW9uIERpY3RhdGlvbihvcHRpb25zKSB7CiAgICB0aGlzLm1lc3NhZ2UgPSBvcHRpb25zLm1lc3NhZ2U7CiAgICB0aGlzLmZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlOwogICAgRGljdGF0aW9uLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5jYWxsKHRoaXMsIG9wdGlvbnMpOwogICAgdGhpcy5jb250ZW50ID0gIiIgKyB0aGlzLm1lc3NhZ2UgKyAiPGJyLz48aW5wdXQgbmFtZT0ncmVzdWx0JyB0eXBlPSd0ZXh0Jz48L2lucHV0PiI7CiAgfQogIERpY3RhdGlvbi5wcm90b3R5cGUucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24gPSBmdW5jdGlvbigpIHsKICAgIHZhciBwcm9wZXJ0aWVzOwogICAgcHJvcGVydGllcyA9IERpY3RhdGlvbi5fX3N1cGVyX18ucHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24uY2FsbCh0aGlzKTsKICAgIHByb3BlcnRpZXMucHVzaCgibWVzc2FnZSIpOwogICAgcmV0dXJuIHByb3BlcnRpZXM7CiAgfTsKICBEaWN0YXRpb24ucHJvdG90eXBlLnJlc3VsdHMgPSBmdW5jdGlvbigpIHsKICAgIHZhciBlbnRlcmVkRGF0YSwgbnVtYmVyT2ZTcGFjZXMsIHJlc3VsdHM7CiAgICByZXN1bHRzID0ge307CiAgICBlbnRlcmVkRGF0YSA9ICQoImRpdiMiICsgdGhpcy5wYWdlSWQgKyAiIGlucHV0W3R5cGU9dGV4dF0iKS52YWwoKTsKICAgIGlmIChlbnRlcmVkRGF0YS5tYXRjaCgvYm95cy9pKSkgewogICAgICByZXN1bHRzWyJXcm90ZSBib3lzIGNvcnJlY3RseSJdID0gMjsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChlbnRlcmVkRGF0YS5tYXRjaCgvYm98b3l8YnkvaSkpIHsKICAgICAgICByZXN1bHRzWyJXcm90ZSBib3lzIGNvcnJlY3RseSJdID0gMTsKICAgICAgfQogICAgfQogICAgaWYgKGVudGVyZWREYXRhLm1hdGNoKC9iaWtlcy9pKSkgewogICAgICByZXN1bHRzWyJXcm90ZSBiaWtlcyBjb3JyZWN0bHkiXSA9IDI7CiAgICB9IGVsc2UgewogICAgICBpZiAoZW50ZXJlZERhdGEubWF0Y2goL2JpfGlrfGtlcy9pKSkgewogICAgICAgIHJlc3VsdHNbIldyb3RlIGJpa2VzIGNvcnJlY3RseSJdID0gMTsKICAgICAgfQogICAgfQogICAgbnVtYmVyT2ZTcGFjZXMgPSBlbnRlcmVkRGF0YS5zcGxpdCgiICIpLmxlbmd0aCAtIDE7CiAgICBpZiAobnVtYmVyT2ZTcGFjZXMgPj0gOCkgewogICAgICByZXN1bHRzWyJVc2VkIGFwcHJvcHJpYXRlIHNwYWNpbmcgYmV0d2VlbiB3b3JkcyJdID0gMjsKICAgIH0gZWxzZSB7CiAgICAgIGlmIChudW1iZXJPZlNwYWNlcyA+IDMgJiYgbnVtYmVyT2ZTcGFjZXMgPCA4KSB7CiAgICAgICAgcmVzdWx0c1siVXNlZCBhcHByb3ByaWF0ZSBzcGFjaW5nIGJldHdlZW4gd29yZHMiXSA9IDE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVzdWx0c1siVXNlZCBhcHByb3ByaWF0ZSBzcGFjaW5nIGJldHdlZW4gd29yZHMiXSA9IDA7CiAgICAgIH0KICAgIH0KICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgZGlyZWN0aW9uIG9mIHRleHQgKGxlZnQgdG8gcmlnaHQpIl0gPSAyOwogICAgaWYgKGVudGVyZWREYXRhLm1hdGNoKC9UaGUvKSkgewogICAgICByZXN1bHRzWyJVc2VkIGNhcGl0YWwgbGV0dGVyIGZvciB0aGUgd29yZCAnVGhlJyJdID0gMjsKICAgIH0gZWxzZSB7CiAgICAgIHJlc3VsdHNbIlVzZWQgY2FwaXRhbCBsZXR0ZXIgZm9yIHRoZSB3b3JkICdUaGUnIl0gPSAwOwogICAgfQogICAgaWYgKGVudGVyZWREYXRhLm1hdGNoKC9cLiAqJC8pKSB7CiAgICAgIHJlc3VsdHNbIlVzZWQgZnVsbCBzdG9wICguKSBhdCBlbmQgb2Ygc2VudGVuY2UuIl0gPSAyOwogICAgfSBlbHNlIHsKICAgICAgcmVzdWx0c1siVXNlZCBmdWxsIHN0b3AgKC4pIGF0IGVuZCBvZiBzZW50ZW5jZS4iXSA9IDA7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0czsKICB9OwogIERpY3RhdGlvbi5wcm90b3R5cGUudmFsaWRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiB0cnVlOwogIH07CiAgcmV0dXJuIERpY3RhdGlvbjsKfSkoKTsKRGljdGF0aW9uLmRlc2VyaWFsaXplID0gZnVuY3Rpb24ocGFnZU9iamVjdCkgewogIHZhciBkaWN0YXRpb25QYWdlOwogIGRpY3RhdGlvblBhZ2UgPSBuZXcgRGljdGF0aW9uKHBhZ2VPYmplY3QpOwogIGRpY3RhdGlvblBhZ2UubG9hZChwYWdlT2JqZWN0KTsKICByZXR1cm4gZGljdGF0aW9uUGFnZTsKfTsKSW50ZXJ2aWV3ID0gKGZ1bmN0aW9uKCkgewogIF9fZXh0ZW5kcyhJbnRlcnZpZXcsIEFzc2Vzc21lbnRQYWdlKTsKICBmdW5jdGlvbiBJbnRlcnZpZXcob3B0aW9ucykgewogICAgdGhpcy5yYWRpb0J1dHRvbnMgPSBvcHRpb25zLnJhZGlvQnV0dG9uczsKICAgIEludGVydmlldy5fX3N1cGVyX18uY29uc3RydWN0b3IuY2FsbCh0aGlzLCBvcHRpb25zKTsKICAgIHRoaXMuY29udGVudCA9IEludGVydmlldy50ZW1wbGF0ZSh0aGlzKTsKICB9CiAgSW50ZXJ2aWV3LnByb3RvdHlwZS5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbiA9IGZ1bmN0aW9uKCkgewogICAgdmFyIHByb3BlcnRpZXM7CiAgICBwcm9wZXJ0aWVzID0gSW50ZXJ2aWV3Ll9fc3VwZXJfXy5wcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbi5jYWxsKHRoaXMpOwogICAgcHJvcGVydGllcy5wdXNoKCJyYWRpb0J1dHRvbnMiKTsKICAgIHJldHVybiBwcm9wZXJ0aWVzOwogIH07CiAgSW50ZXJ2aWV3LnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIHRydWU7CiAgfTsKICByZXR1cm4gSW50ZXJ2aWV3Owp9KSgpOwpJbnRlcnZpZXcudGVtcGxhdGUgPSBIYW5kbGViYXJzLmNvbXBpbGUoIiAgPGZvcm0+ICAgIHt7I3JhZGlvQnV0dG9uc319ICAgICAgPGZpZWxkc2V0IGRhdGEtdHlwZT0ne3t0eXBlfX0nIGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJz4gICAgICAgIDxsZWdlbmQ+e3tsYWJlbH19PC9sZWdlbmQ+ICAgICAgICB7eyNvcHRpb25zfX0gICAgICAgICAgPGxhYmVsIGZvcj0ne3sufX0nPnt7Ln19PC9sYWJlbD4gICAgICAgICAgPGlucHV0IHR5cGU9J3JhZGlvJyBuYW1lPSd7ey4uL25hbWV9fScgdmFsdWU9J3t7Ln19JyBpZD0ne3sufX0nPjwvaW5wdXQ+ICAgICAgICB7ey9vcHRpb25zfX0gICAgICA8L2ZpZWxkc2V0PiAgICB7ey9yYWRpb0J1dHRvbnN9fSAgPC9mb3JtPiIpOwpJbnRlcnZpZXcuZGVzZXJpYWxpemUgPSBmdW5jdGlvbihwYWdlT2JqZWN0KSB7CiAgdmFyIGludGVydmlldzsKICBpbnRlcnZpZXcgPSBuZXcgSW50ZXJ2aWV3KHBhZ2VPYmplY3QpOwogIGludGVydmlldy5sb2FkKHBhZ2VPYmplY3QpOwogIGludGVydmlldy5jb250ZW50ID0gSW50ZXJ2aWV3LnRlbXBsYXRlKGludGVydmlldyk7CiAgcmV0dXJuIGludGVydmlldzsKfTt2YXIgU2NvcmVyOwpTY29yZXIgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gU2NvcmVyKCkge30KICBTY29yZXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgdmFyIGNvbXBsZXRlZCwgZWxlbWVudCwgd3JvbmcsIF9pLCBfbGVuLCBfcmVmOwogICAgY29tcGxldGVkID0gd3JvbmcgPSAwOwogICAgX3JlZiA9ICQoJy51aS1wYWdlLWFjdGl2ZSAudWktY2hlY2tib3ggbGFiZWwudWktYnRuJyk7CiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgZWxlbWVudCA9IF9yZWZbX2ldOwogICAgICBlbGVtZW50ID0gJChlbGVtZW50KTsKICAgICAgaWYgKGVsZW1lbnQuaXMoJy5maXJzdF9jbGljaycpKSB7CiAgICAgICAgd3JvbmcrKzsKICAgICAgfQogICAgICBjb21wbGV0ZWQrKzsKICAgICAgaWYgKGVsZW1lbnQuaXMoJy5zZWNvbmRfY2xpY2snKSkgewogICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9CiAgICAkKCcjY29tcGxldGVkJykuaHRtbChjb21wbGV0ZWQpOwogICAgcmV0dXJuICQoJyN3cm9uZycpLmh0bWwod3JvbmcpOwogIH07CiAgU2NvcmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMuaWQgPSAic2NvcmVyIjsKICAgIHNldEludGVydmFsKHRoaXMudXBkYXRlLCA1MDApOwogICAgcmV0dXJuIE11c3RhY2hlLnRvX2h0bWwodGhpcy5fdGVtcGxhdGUoKSwgdGhpcyk7CiAgfTsKICBTY29yZXIucHJvdG90eXBlLl90ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICI8ZGl2IGNsYXNzPSdzY29yZXInPiAgPHNtYWxsPiAgQ29tcGxldGVkOjxzcGFuIGlkPSdjb21wbGV0ZWQnPjwvc3Bhbj4gIFdyb25nOjxzcGFuIGlkPSd3cm9uZyc+PC9zcGFuPiAgPC9zbWFsbD48L2Rpdj4iOwogIH07CiAgcmV0dXJuIFNjb3JlcjsKfSkoKTt2YXIgVGltZXI7CnZhciBfX2JpbmQgPSBmdW5jdGlvbihmbiwgbWUpeyByZXR1cm4gZnVuY3Rpb24oKXsgcmV0dXJuIGZuLmFwcGx5KG1lLCBhcmd1bWVudHMpOyB9OyB9OwppZiAoJC5hc3Nlc3NtZW50ID09PSB2b2lkIDApIHsKICB0aHJvdyAiTm8gYXNzZXNzbWVudCBsb2FkZWQiOwp9CiQoImRpdi50aW1lciBidXR0b24iKS5saXZlKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudERhdGEpIHsKICB2YXIgYnV0dG9uUHJlc3NlZDsKICBidXR0b25QcmVzc2VkID0gZXZlbnREYXRhLnRhcmdldC5pbm5lckhUTUw7CiAgcmV0dXJuICQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS50aW1lcltidXR0b25QcmVzc2VkXSgpOwp9KTsKVGltZXIgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gVGltZXIob3B0aW9ucykgewogICAgdGhpcy5wYWdlID0gb3B0aW9ucy5wYWdlOwogICAgdGhpcy5lbGVtZW50TG9jYXRpb24gPSBudWxsOwogIH0KICBUaW1lci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbigpIHsKICAgIHZhciBkZWNyZW1lbnQ7CiAgICB0aGlzLnNob3dHcmlkSXRlbXMoKTsKICAgIGlmICh0aGlzLnJ1bm5pbmcpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgdGhpcy5zdGFydGVkID0gdHJ1ZTsKICAgIHRoaXMucnVubmluZyA9IHRydWU7CiAgICB0aGlzLnRpY2tfdmFsdWUgPSAxOwogICAgZGVjcmVtZW50ID0gX19iaW5kKGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnNlY29uZHMgLT0gdGhpcy50aWNrX3ZhbHVlOwogICAgICBpZiAodGhpcy5zZWNvbmRzID09PSAwKSB7CiAgICAgICAgdGhpcy5zdG9wKCk7CiAgICAgICAgJC5hc3Nlc3NtZW50LmZsYXNoKCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucmVuZGVyU2Vjb25kcygpOwogICAgfSwgdGhpcyk7CiAgICByZXR1cm4gdGhpcy5pbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoZGVjcmVtZW50LCB0aGlzLnRpY2tfdmFsdWUgKiAxMDAwKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTsKICAgIHJldHVybiBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWxJZCk7CiAgfTsKICBUaW1lci5wcm90b3R5cGUuaGFzU3RhcnRlZEFuZFN0b3BwZWQgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAodGhpcy5zZWNvbmRzICE9PSA2MCkgJiYgKHRoaXMucnVubmluZyA9PT0gZmFsc2UpOwogIH07CiAgVGltZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLnNlY29uZHMgPSA2MDsKICAgIHJldHVybiB0aGlzLnJlbmRlclNlY29uZHMoKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5yZW5kZXJTZWNvbmRzID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gJCgiZGl2IyIgKyB0aGlzLnBhZ2UucGFnZUlkICsgIiAudGltZXItc2Vjb25kcyIpLmh0bWwodGhpcy5zZWNvbmRzKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbigpIHsKICAgIHRoaXMuaWQgPSAidGltZXIiOwogICAgdGhpcy5zZWNvbmRzID0gNjA7CiAgICByZXR1cm4gTXVzdGFjaGUudG9faHRtbCh0aGlzLl90ZW1wbGF0ZSgpLCB0aGlzKTsKICB9OwogIFRpbWVyLnByb3RvdHlwZS5oaWRlR3JpZEl0ZW1zID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gJCgiIyIgKyB0aGlzLnBhZ2UucGFnZUlkICsgIiAuZ3JpZCIpLnJlbW92ZUNsYXNzKCJzaG93Iik7CiAgfTsKICBUaW1lci5wcm90b3R5cGUuc2hvd0dyaWRJdGVtcyA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICQoIiMiICsgdGhpcy5wYWdlLnBhZ2VJZCArICIgLmdyaWQiKS5hZGRDbGFzcygic2hvdyIpOwogIH07CiAgVGltZXIucHJvdG90eXBlLl90ZW1wbGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuICIgIDxzcGFuIGNsYXNzPSd0aW1lci1zZWNvbmRzJz48L3NwYW4+IjsKICB9OwogIHJldHVybiBUaW1lcjsKfSkoKTt2YXIgRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50Owp2YXIgX19iaW5kID0gZnVuY3Rpb24oZm4sIG1lKXsgcmV0dXJuIGZ1bmN0aW9uKCl7IHJldHVybiBmbi5hcHBseShtZSwgYXJndW1lbnRzKTsgfTsgfTsKJChkb2N1bWVudCkuYmluZCgibW9iaWxlaW5pdCIsIGZ1bmN0aW9uKCkgewogICQubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSA9IGZhbHNlOwogIHJldHVybiAkLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24gPSAnbm9uZSc7Cn0pOwokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICBzd2l0Y2ggKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCkgewogICAgY2FzZSAiP2RlbGV0ZUZyb21Db3VjaD10cnVlIjoKICAgICAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5kZWxldGVGcm9tQ291Y2goZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/c2hvd01lbnU9dHJ1ZSI7CiAgICAgIH0pOwogICAgY2FzZSAiP2xvYWRGcm9tVGVzdERhdGFTYXZlVG9Db3VjaD10cnVlIjoKICAgICAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5sb2FkRnJvbVRlc3REYXRhU2F2ZVRvQ291Y2goZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/c2hvd01lbnU9dHJ1ZSI7CiAgICAgIH0pOwogICAgY2FzZSAiP3ByaW50b3V0PXRydWUiOgogICAgICByZXR1cm4gRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LnByaW50KCk7CiAgICBjYXNlICI/U3luY1RvQ2VudHJhbD10cnVlIjoKICAgICAgJCgnYm9keScpLmh0bWwoIlNlbmRpbmcgZGF0YSB0byBjZW50cmFsIHBsZWFzZSB3YWl0LiIpOwogICAgICByZXR1cm4gJC5jb3VjaC5yZXBsaWNhdGUoImVncmEiLCAiaHR0cDovL21pa2V5bWNrYXk6Y29uN3F6dy5AbWlrZXltY2theS5pcmlzY291Y2guY29tL2VncmEiLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24gPSAiaW5kZXguaHRtbD9tZXNzYWdlPVN5bmNocm9uaXphdGlvbiBzdGFydGVkIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgY2FzZSAiP1N5bmNGcm9tQ2VudHJhbD10cnVlIjoKICAgICAgJCgnYm9keScpLmh0bWwoIlVwZGF0aW5nIHN5c3RlbSBmcm9tIGNlbnRyYWwgcGxlYXNlIHdhaXQuIik7CiAgICAgIHJldHVybiAkLmNvdWNoLnJlcGxpY2F0ZSgiaHR0cDovL21pa2V5bWNrYXk6Y29uN3F6dy5AbWlrZXltY2theS5pcmlzY291Y2guY29tL2VncmEiLCAiZWdyYSIsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHsKICAgICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9ICJpbmRleC5odG1sP21lc3NhZ2U9U3luY2hyb25pemF0aW9uIHN0YXJ0ZWQiOwogICAgICAgIH0KICAgICAgfSk7CiAgICBkZWZhdWx0OgogICAgICBpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9cP21lc3NhZ2U9KC4rKS8pKSB7CiAgICAgICAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5zaG93TWVudSgiUHJvY2VzcyBjb21wbGV0ZSEiKTsKICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gubWF0Y2goL1w/LisvKSkgewogICAgICAgIHJldHVybiBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQubG9hZEZyb21Db3VjaChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LnNob3dNZW51KCk7CiAgICAgIH0KICB9Cn0pOwpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50KCkge30KICByZXR1cm4gRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50Owp9KSgpOwpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuc2hvd01lbnUgPSBmdW5jdGlvbihtZXNzYWdlKSB7CiAgdmFyIHVybDsKICBpZiAobWVzc2FnZSA9PSBudWxsKSB7CiAgICBtZXNzYWdlID0gIiI7CiAgfQogIHVybCA9ICIvZWdyYS9fYWxsX2RvY3MiOwogIHJldHVybiAkLmFqYXgoewogICAgdXJsOiB1cmwsCiAgICBhc3luYzogdHJ1ZSwKICAgIHR5cGU6ICdHRVQnLAogICAgZGF0YVR5cGU6ICdqc29uJywKICAgIHN1Y2Nlc3M6IF9fYmluZChmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgdmFyIGNvdWNoRG9jdW1lbnQsIGRvY3VtZW50czsKICAgICAgZG9jdW1lbnRzID0gKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgICAgX3JlZiA9IHJlc3VsdC5yb3dzOwogICAgICAgIF9yZXN1bHRzID0gW107CiAgICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgICBjb3VjaERvY3VtZW50ID0gX3JlZltfaV07CiAgICAgICAgICBfcmVzdWx0cy5wdXNoKCI8YSByZWw9J2V4dGVybmFsJyBocmVmPScvX3V0aWxzL2RvY3VtZW50Lmh0bWw/ZWdyYS8iICsgY291Y2hEb2N1bWVudC5pZCArICInPiIgKyBjb3VjaERvY3VtZW50LmlkICsgIjwvYT4iKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgICB9KSgpOwogICAgICAkKCJib2R5IikuaHRtbCgiICAgICAgICA8ZGl2IGRhdGEtcm9sZT0ncGFnZScgaWQ9J21lbnUnPiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4gICAgICAgICAgICA8aDE+QWRtaW4gTWVudTwvaDE+ICAgICAgICAgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gICAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2NvbnRlbnQnPgkgICAgICAgICAgICAiICsgbWVzc2FnZSArICIgICAgICAgICAgICA8IS0tICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyIgKyBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICI/QXNzZXNzbWVudC5FR1JBIFByb3RvdHlwZSc+TG9hZCAnQXNzZXNzbWVudC5FR1JBIFByb3RvdHlwZScgZnJvbSBDb3VjaDwvYT4gICAgICAgICAgICAtLT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9Bc3Nlc3NtZW50LlRoZSBHYW1iaWEgRUdSQSBNYXkgMjAxMSc+TG9hZCBTYW1wbGUgQXNzZXNzbWVudDwvYT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9Bc3Nlc3NtZW50LlRlc3QnPkxldHRlcnMgUGFnZSBEZW1vPC9hPiAgICAgICAgICAgIDwhLS0gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9kZWxldGVGcm9tQ291Y2g9dHJ1ZSc+RGVsZXRlIGFsbCAnQXNzZXNzbWVudC5FR1JBJyBkb2N1bWVudHMgZnJvbSBDb3VjaDwvYT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9sb2FkRnJvbVRlc3REYXRhU2F2ZVRvQ291Y2g9dHJ1ZSc+TG9hZCBmcm9tIFRlc3QgRGF0YSBTYXZlIFRvIENvdWNoPC9hPiAgICAgICAgICAgIC0tPiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPSciICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP1N5bmNUb0NlbnRyYWw9dHJ1ZSc+U2VuZCByZXN1bHRzIHRvIFRhbmdlcmluZUNlbnRyYWwuY29tPC9hPiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPSciICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP1N5bmNGcm9tQ2VudHJhbD10cnVlJz5VcGRhdGUgc3lzdGVtPC9hPiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPSciICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP3ByaW50b3V0PXRydWUnPkdlbmVyYXRlIHByaW50b3V0PC9hPiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPSciICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP0Fzc2Vzc21lbnQuVGVzdCc+Rm9yIFRlc3Rpbmc8L2E+ICAgICAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2NvbGxhcHNpYmxlJyBkYXRhLWNvbGxhcHNlZD0ndHJ1ZSc+ICAgICAgICAgICAgICA8aDM+UmVzdWx0cyBhbmQgYXNzZXNzbWVudHM8L2gzPiAgICAgICAgICAgICAgIiArIChkb2N1bWVudHMuam9pbigiPGJyLz4iKSkgKyAiICAgICAgICAgICAgPC9kaXY+ICAgICAgICAgIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+ICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdmb290ZXInPiAgICAgICAgICA8L2Rpdj48IS0tIC9mb290ZXIgLS0+ICAgICAgICA8L2Rpdj48IS0tIC9wYWdlIC0tPiAgICAgICIpOwogICAgICByZXR1cm4gJC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTsKICAgIH0sIHRoaXMpLAogICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICB0aHJvdyAiQ291bGQgbm90IEdFVCAiICsgdXJsOwogICAgfQogIH0pOwp9OwpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQucHJpbnQgPSBmdW5jdGlvbigpIHsKICByZXR1cm4gQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAoIi9lZ3JhL0Fzc2Vzc21lbnQuVGhlIEdhbWJpYSBFR1JBIE1heSAyMDExIiwgZnVuY3Rpb24oYXNzZXNzbWVudCkgewogICAgcmV0dXJuIGFzc2Vzc21lbnQudG9QYXBlcihmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgdmFyIHN0eWxlOwogICAgICBzdHlsZSA9ICIgICAgICAgIGJvZHl7ICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbDsgICAgICAgIH0gICAgICAgIC5wYWdlLWJyZWFreyAgICAgICAgICBkaXNwbGF5OiBibG9jazsgICAgICAgICAgcGFnZS1icmVhay1iZWZvcmU6IGFsd2F5czsgICAgICAgIH0gICAgICAgIGlucHV0eyAgICAgICAgICBoZWlnaHQ6IDUwcHg7ICAgICAgICAgICAgYm9yZGVyOiAxcHggICAgICAgIH0gICAgICAiOwogICAgICAkKCJib2R5IikuaHRtbChyZXN1bHQpOwogICAgICByZXR1cm4gJCgibGluayIpLnJlbW92ZSgpOwogICAgfSk7CiAgfSk7Cn07CkVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5sb2FkRnJvbUNvdWNoID0gZnVuY3Rpb24ocGF0aCkgewogIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgiL2VncmEvIiArIHBhdGgsIGZ1bmN0aW9uKGFzc2Vzc21lbnQpIHsKICAgIHJldHVybiBhc3Nlc3NtZW50LnJlbmRlcihmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgJCgiYm9keSIpLmh0bWwocmVzdWx0KTsKICAgICAgcmV0dXJuICQubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7CiAgICB9KTsKICB9KTsKfTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRUZXN0ID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQKCIvZWdyYS9Bc3Nlc3NtZW50LlRlc3QiLCBmdW5jdGlvbihhc3Nlc3NtZW50KSB7CiAgICByZXR1cm4gYXNzZXNzbWVudC5yZW5kZXIoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICQoImJvZHkiKS5odG1sKHJlc3VsdCk7CiAgICAgIHJldHVybiAkLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpOwogICAgfSk7CiAgfSk7Cn07CkVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5kZWxldGVGcm9tQ291Y2ggPSBmdW5jdGlvbihjYWxsYmFjaykgewogIHZhciB1cmw7CiAgdXJsID0gIi9lZ3JhL19hbGxfZG9jcyI7CiAgcmV0dXJuICQuYWpheCh7CiAgICB1cmw6IHVybCwKICAgIGFzeW5jOiB0cnVlLAogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogX19iaW5kKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICB2YXIgZG9jdW1lbnQsIF9pLCBfbGVuLCBfcmVmLCBfcmVzdWx0czsKICAgICAgX3JlZiA9IHJlc3VsdC5yb3dzOwogICAgICBfcmVzdWx0cyA9IFtdOwogICAgICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgICAgICBkb2N1bWVudCA9IF9yZWZbX2ldOwogICAgICAgIF9yZXN1bHRzLnB1c2goZG9jdW1lbnQuaWQubWF0Y2goL0Fzc2Vzc21lbnQuRUdSQS8pID8gKHVybCA9ICIvZWdyYS8iICsgZG9jdW1lbnQuaWQgKyAiP3Jldj0iICsgZG9jdW1lbnQudmFsdWUucmV2LCAkLmFqYXgoewogICAgICAgICAgdXJsOiB1cmwsCiAgICAgICAgICBhc3luYzogdHJ1ZSwKICAgICAgICAgIHR5cGU6ICdERUxFVEUnLAogICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICB0aHJvdyAiQ291bGQgbm90IERFTEVURSAiICsgdXJsOwogICAgICAgICAgfQogICAgICAgIH0pKSA6IHZvaWQgMCk7CiAgICAgIH0KICAgICAgcmV0dXJuIF9yZXN1bHRzOwogICAgfSwgdGhpcyksCiAgICBlcnJvcjogZnVuY3Rpb24oKSB7CiAgICAgIHRocm93ICJDb3VsZCBub3QgR0VUICIgKyB1cmw7CiAgICB9LAogICAgY29tcGxldGU6IF9fYmluZChmdW5jdGlvbigpIHsKICAgICAgaWYgKGNhbGxiYWNrICE9IG51bGwpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsKICAgICAgfQogICAgfSwgdGhpcykKICB9KTsKfTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRGcm9tVGVzdERhdGFTYXZlVG9Db3VjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7CiAgcmV0dXJuIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQKCJ0ZXN0cy90ZXN0RGF0YS9Bc3Nlc3NtZW50LlRFU1QgRUdSQSBQcm90b3R5cGUiLCBmdW5jdGlvbihhc3Nlc3NtZW50KSB7CiAgICBhc3Nlc3NtZW50LmNoYW5nZU5hbWUoIkVHUkEgUHJvdG90eXBlIik7CiAgICByZXR1cm4gYXNzZXNzbWVudC5zYXZlVG9Db3VjaERCKGNhbGxiYWNrKTsKICB9KTsKfTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmNyZWF0ZUZyb21Hb29nbGUgPSBmdW5jdGlvbigpIHsKICB2YXIgYXNzZXNzbWVudCwgaW5zdHJ1Y3Rpb25zLCBsZXR0ZXJzLCBsb2dpbjsKICBhc3Nlc3NtZW50ID0gbmV3IEFzc2Vzc21lbnQoIkVHUkEgUHJvdG90eXBlIik7CiAgbG9naW4gPSBuZXcgSlF1ZXJ5TW9iaWxlUGFnZSgpOwogIGluc3RydWN0aW9ucyA9IG5ldyBJbnN0cnVjdGlvbnNQYWdlKCk7CiAgbGV0dGVycyA9IG5ldyBMZXR0ZXJzUGFnZSgpOwogIGxvZ2luLnBhZ2VJZCA9ICJMb2dpbiI7CiAgbG9naW4uaGVhZGVyID0gIjxoMT5FR1JBPC9oMT4iOwogIGxvZ2luLmNvbnRlbnQgPSAobmV3IEpRdWVyeUxvZ2luKCkpLnJlbmRlcigpOwogIGluc3RydWN0aW9ucy5wYWdlSWQgPSAiSW5zdHJ1Y3Rpb25zIjsKICBpbnN0cnVjdGlvbnMuaGVhZGVyID0gIjxoMT5FR1JBPC9oMT4iOwogIGluc3RydWN0aW9ucy51cmwgPSAiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9wdWI/a2V5PTBBZ28zMUpRUFp4WnJkR0pTWlRZMk1IVTRWbEozUm5OdGRuTkRWalJqTFZFJmhsPWVuJm91dHB1dD1odG1sIjsKICBpbnN0cnVjdGlvbnMudXBkYXRlRnJvbUdvb2dsZSgpOwogIGxldHRlcnMucGFnZUlkID0gIkxldHRlcnMiOwogIGxldHRlcnMuaGVhZGVyID0gIjxoMT5FR1JBPC9oMT4iOwogIGxldHRlcnMudXJsID0gImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEMxTWVHVnFkM0ZaYlhNMlJuTkZSRXRvVlZaRmJtYyZobD1lbiZvdXRwdXQ9aHRtbCI7CiAgbGV0dGVycy51cGRhdGVGcm9tR29vZ2xlKCk7CiAgYXNzZXNzbWVudC5zZXRQYWdlcyhbbG9naW4sIGluc3RydWN0aW9ucywgbGV0dGVyc10pOwogIHJldHVybiBhc3Nlc3NtZW50Owp9Oy8qIQogKiBqUXVlcnkgTW9iaWxlIHYxLjBiMgogKiBodHRwOi8vanF1ZXJ5bW9iaWxlLmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTAsIGpRdWVyeSBQcm9qZWN0CiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqLwooZnVuY3Rpb24oYSxkKXtpZihhLmNsZWFuRGF0YSl7dmFyIGM9YS5jbGVhbkRhdGE7YS5jbGVhbkRhdGE9ZnVuY3Rpb24oZil7Zm9yKHZhciBiPTAsZDsoZD1mW2JdKSE9bnVsbDtiKyspYShkKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIik7YyhmKX19ZWxzZXt2YXIgYj1hLmZuLnJlbW92ZTthLmZuLnJlbW92ZT1mdW5jdGlvbihmLGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjfHwoIWZ8fGEuZmlsdGVyKGYsW3RoaXNdKS5sZW5ndGgpJiZhKCIqIix0aGlzKS5hZGQoW3RoaXNdKS5lYWNoKGZ1bmN0aW9uKCl7YSh0aGlzKS50cmlnZ2VySGFuZGxlcigicmVtb3ZlIil9KTtyZXR1cm4gYi5jYWxsKGEodGhpcyksZixjKX0pfX1hLndpZGdldD1mdW5jdGlvbihiLGMsZCl7dmFyIGg9Yi5zcGxpdCgiLiIpWzBdLGksYj1iLnNwbGl0KCIuIilbMV07aT1oKyItIitiO2lmKCFkKWQ9YyxjPWEuV2lkZ2V0O2EuZXhwclsiOiJdW2ldPWZ1bmN0aW9uKGMpe3JldHVybiEhYS5kYXRhKGMsCmIpfTthW2hdPWFbaF18fHt9O2FbaF1bYl09ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07Yz1uZXcgYztjLm9wdGlvbnM9YS5leHRlbmQoITAse30sYy5vcHRpb25zKTthW2hdW2JdLnByb3RvdHlwZT1hLmV4dGVuZCghMCxjLHtuYW1lc3BhY2U6aCx3aWRnZXROYW1lOmIsd2lkZ2V0RXZlbnRQcmVmaXg6YVtoXVtiXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXh8fGIsd2lkZ2V0QmFzZUNsYXNzOml9LGQpO2Eud2lkZ2V0LmJyaWRnZShiLGFbaF1bYl0pfTthLndpZGdldC5icmlkZ2U9ZnVuY3Rpb24oYixjKXthLmZuW2JdPWZ1bmN0aW9uKGcpe3ZhciBoPXR5cGVvZiBnPT09InN0cmluZyIsaT1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSksaz10aGlzLGc9IWgmJmkubGVuZ3RoP2EuZXh0ZW5kLmFwcGx5KG51bGwsWyEwLGddLmNvbmNhdChpKSk6ZztpZihoJiZnLmNoYXJBdCgwKT09PSJfIilyZXR1cm4gazsKaD90aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hLmRhdGEodGhpcyxiKTtpZighYyl0aHJvdyJjYW5ub3QgY2FsbCBtZXRob2RzIG9uICIrYisiIHByaW9yIHRvIGluaXRpYWxpemF0aW9uOyBhdHRlbXB0ZWQgdG8gY2FsbCBtZXRob2QgJyIrZysiJyI7aWYoIWEuaXNGdW5jdGlvbihjW2ddKSl0aHJvdyJubyBzdWNoIG1ldGhvZCAnIitnKyInIGZvciAiK2IrIiB3aWRnZXQgaW5zdGFuY2UiO3ZhciBlPWNbZ10uYXBwbHkoYyxpKTtpZihlIT09YyYmZSE9PWQpcmV0dXJuIGs9ZSwhMX0pOnRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEuZGF0YSh0aGlzLGIpO2Q/ZC5vcHRpb24oZ3x8e30pLl9pbml0KCk6YS5kYXRhKHRoaXMsYixuZXcgYyhnLHRoaXMpKX0pO3JldHVybiBrfX07YS5XaWRnZXQ9ZnVuY3Rpb24oYSxiKXthcmd1bWVudHMubGVuZ3RoJiZ0aGlzLl9jcmVhdGVXaWRnZXQoYSxiKX07YS5XaWRnZXQucHJvdG90eXBlPXt3aWRnZXROYW1lOiJ3aWRnZXQiLHdpZGdldEV2ZW50UHJlZml4OiIiLApvcHRpb25zOntkaXNhYmxlZDohMX0sX2NyZWF0ZVdpZGdldDpmdW5jdGlvbihiLGMpe2EuZGF0YShjLHRoaXMud2lkZ2V0TmFtZSx0aGlzKTt0aGlzLmVsZW1lbnQ9YShjKTt0aGlzLm9wdGlvbnM9YS5leHRlbmQoITAse30sdGhpcy5vcHRpb25zLHRoaXMuX2dldENyZWF0ZU9wdGlvbnMoKSxiKTt2YXIgZD10aGlzO3RoaXMuZWxlbWVudC5iaW5kKCJyZW1vdmUuIit0aGlzLndpZGdldE5hbWUsZnVuY3Rpb24oKXtkLmRlc3Ryb3koKX0pO3RoaXMuX2NyZWF0ZSgpO3RoaXMuX3RyaWdnZXIoImNyZWF0ZSIpO3RoaXMuX2luaXQoKX0sX2dldENyZWF0ZU9wdGlvbnM6ZnVuY3Rpb24oKXt2YXIgYj17fTthLm1ldGFkYXRhJiYoYj1hLm1ldGFkYXRhLmdldChlbGVtZW50KVt0aGlzLndpZGdldE5hbWVdKTtyZXR1cm4gYn0sX2NyZWF0ZTpmdW5jdGlvbigpe30sX2luaXQ6ZnVuY3Rpb24oKXt9LGRlc3Ryb3k6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQudW5iaW5kKCIuIit0aGlzLndpZGdldE5hbWUpLnJlbW92ZURhdGEodGhpcy53aWRnZXROYW1lKTsKdGhpcy53aWRnZXQoKS51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlQXR0cigiYXJpYS1kaXNhYmxlZCIpLnJlbW92ZUNsYXNzKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKX0sd2lkZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudH0sb3B0aW9uOmZ1bmN0aW9uKGIsYyl7dmFyIGc9YjtpZihhcmd1bWVudHMubGVuZ3RoPT09MClyZXR1cm4gYS5leHRlbmQoe30sdGhpcy5vcHRpb25zKTtpZih0eXBlb2YgYj09PSJzdHJpbmciKXtpZihjPT09ZClyZXR1cm4gdGhpcy5vcHRpb25zW2JdO2c9e307Z1tiXT1jfXRoaXMuX3NldE9wdGlvbnMoZyk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb25zOmZ1bmN0aW9uKGIpe3ZhciBjPXRoaXM7YS5lYWNoKGIsZnVuY3Rpb24oYSxiKXtjLl9zZXRPcHRpb24oYSxiKX0pO3JldHVybiB0aGlzfSxfc2V0T3B0aW9uOmZ1bmN0aW9uKGEsYil7dGhpcy5vcHRpb25zW2FdPWI7YT09PSJkaXNhYmxlZCImJgp0aGlzLndpZGdldCgpW2I/ImFkZENsYXNzIjoicmVtb3ZlQ2xhc3MiXSh0aGlzLndpZGdldEJhc2VDbGFzcysiLWRpc2FibGVkIHVpLXN0YXRlLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsYik7cmV0dXJuIHRoaXN9LGVuYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfSxfdHJpZ2dlcjpmdW5jdGlvbihiLGMsZCl7dmFyIGg9dGhpcy5vcHRpb25zW2JdLGM9YS5FdmVudChjKTtjLnR5cGU9KGI9PT10aGlzLndpZGdldEV2ZW50UHJlZml4P2I6dGhpcy53aWRnZXRFdmVudFByZWZpeCtiKS50b0xvd2VyQ2FzZSgpO2Q9ZHx8e307aWYoYy5vcmlnaW5hbEV2ZW50KWZvcih2YXIgYj1hLmV2ZW50LnByb3BzLmxlbmd0aCxpO2I7KWk9YS5ldmVudC5wcm9wc1stLWJdLGNbaV09Yy5vcmlnaW5hbEV2ZW50W2ldO3RoaXMuZWxlbWVudC50cmlnZ2VyKGMsCmQpO3JldHVybiEoYS5pc0Z1bmN0aW9uKGgpJiZoLmNhbGwodGhpcy5lbGVtZW50WzBdLGMsZCk9PT0hMXx8Yy5pc0RlZmF1bHRQcmV2ZW50ZWQoKSl9fX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS53aWRnZXQiLHtfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPXt9O2EuZWFjaCh0aGlzLm9wdGlvbnMsZnVuY3Rpb24oYSl7dmFyIGU9Yy5qcW1EYXRhKGEucmVwbGFjZSgvW0EtWl0vZyxmdW5jdGlvbihhKXtyZXR1cm4iLSIrYS50b0xvd2VyQ2FzZSgpfSkpO2UhPT1kJiYoYlthXT1lKX0pO3JldHVybiBifX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eod2luZG93KTt2YXIgZD1hKCJodG1sIik7YS5tb2JpbGUubWVkaWE9ZnVuY3Rpb24oKXt2YXIgYz17fSxiPWEoIjxkaXYgaWQ9J2pxdWVyeS1tZWRpYXRlc3QnPiIpLGY9YSgiPGJvZHk+IikuYXBwZW5kKGIpO3JldHVybiBmdW5jdGlvbihhKXtpZighKGEgaW4gYykpe3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIiksaD0iQG1lZGlhICIrYSsiIHsgI2pxdWVyeS1tZWRpYXRlc3QgeyBwb3NpdGlvbjphYnNvbHV0ZTsgfSB9IjtnLnR5cGU9InRleHQvY3NzIjtnLnN0eWxlU2hlZXQ/Zy5zdHlsZVNoZWV0LmNzc1RleHQ9aDpnLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGgpKTtkLnByZXBlbmQoZikucHJlcGVuZChnKTtjW2FdPWIuY3NzKCJwb3NpdGlvbiIpPT09ImFic29sdXRlIjtmLmFkZChnKS5yZW1vdmUoKX1yZXR1cm4gY1thXX19KCl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXtmdW5jdGlvbiBjKGEpe3ZhciBiPWEuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYS5zdWJzdHIoMSksYT0oYSsiICIrZS5qb2luKGIrIiAiKStiKS5zcGxpdCgiICIpLGM7Zm9yKGMgaW4gYSlpZihmW2NdIT09ZClyZXR1cm4hMH12YXIgYj1hKCI8Ym9keT4iKS5wcmVwZW5kVG8oImh0bWwiKSxmPWJbMF0uc3R5bGUsZT1bIndlYmtpdCIsIm1veiIsIm8iXSxnPSJwYWxtR2V0UmVzb3VyY2UiaW4gd2luZG93LGg9d2luZG93LmJsYWNrYmVycnk7YS5tb2JpbGUuYnJvd3Nlcj17fTthLm1vYmlsZS5icm93c2VyLmllPWZ1bmN0aW9uKCl7Zm9yKHZhciBhPTMsYj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxjPWIuYWxsfHxbXTtiLmlubmVySFRNTD0iPFwhLS1baWYgZ3QgSUUgIisgKythKyJdPjxicj48IVtlbmRpZl0tLVw+IixjWzBdOyk7cmV0dXJuIGE+ND9hOiFhfSgpO2EuZXh0ZW5kKGEuc3VwcG9ydCx7b3JpZW50YXRpb246Im9yaWVudGF0aW9uImluCndpbmRvdyx0b3VjaDoib250b3VjaGVuZCJpbiBkb2N1bWVudCxjc3NUcmFuc2l0aW9uczoiV2ViS2l0VHJhbnNpdGlvbkV2ZW50ImluIHdpbmRvdyxwdXNoU3RhdGU6ISFoaXN0b3J5LnB1c2hTdGF0ZSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFjKCJjb250ZW50IiksYm94U2hhZG93OiEhYygiYm94U2hhZG93IikmJiFoLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHdpbmRvd3x8InNjcm9sbFRvcCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gYlswXSkmJiFnLGR5bmFtaWNCYXNlVGFnOmZ1bmN0aW9uKCl7dmFyIGM9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixmPWEoImhlYWQgYmFzZSIpLGQ9bnVsbCxlPSIiLGc7Zi5sZW5ndGg/ZT1mLmF0dHIoImhyZWYiKTpmPWQ9YSgiPGJhc2U+Iix7aHJlZjpjfSkuYXBwZW5kVG8oImhlYWQiKTsKZz1hKCI8YSBocmVmPSd0ZXN0dXJsJz48L2E+IikucHJlcGVuZFRvKGIpWzBdLmhyZWY7ZlswXS5ocmVmPWU/ZTpsb2NhdGlvbi5wYXRobmFtZTtkJiZkLnJlbW92ZSgpO3JldHVybiBnLmluZGV4T2YoYyk9PT0wfSgpLGV2ZW50Q2FwdHVyZToiYWRkRXZlbnRMaXN0ZW5lciJpbiBkb2N1bWVudH0pO2IucmVtb3ZlKCk7Zz1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmFqYXhCbGFja2xpc3Q9d2luZG93LmJsYWNrYmVycnkmJiF3aW5kb3cuV2ViS2l0UG9pbnR8fHdpbmRvdy5vcGVyYW1pbmkmJk9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3aW5kb3cub3BlcmFtaW5pKT09PQoiW29iamVjdCBPcGVyYU1pbmldInx8ZztnJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD1zdHlsZXNoZWV0XSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCxjLGIpe2Z1bmN0aW9uIGYoYSl7Zm9yKDthJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT09InVuZGVmaW5lZCI7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGUoYil7Zm9yKHZhciBjPXt9LGYsZDtiOyl7Zj1hLmRhdGEoYixuKTtmb3IoZCBpbiBmKWlmKGZbZF0pY1tkXT1jLmhhc1ZpcnR1YWxCaW5kaW5nPSEwO2I9Yi5wYXJlbnROb2RlfXJldHVybiBjfWZ1bmN0aW9uIGcoKXt2JiYoY2xlYXJUaW1lb3V0KHYpLHY9MCk7dj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Qj12PTA7QS5sZW5ndGg9MDt3PSExO3I9ITB9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gaChjLGQscil7dmFyIGU9ITEsZztpZighKGc9ciYmcltjXSkpe2lmKHI9IXIpYTp7Zm9yKHI9ZC50YXJnZXQ7cjspe2lmKChnPWEuZGF0YShyLG4pKSYmKCFjfHxnW2NdKSlicmVhayBhO3I9ci5wYXJlbnROb2RlfXI9bnVsbH1nPXJ9aWYoZyl7dmFyIGU9ZCxyPQplLnR5cGUsaixoLGU9YS5FdmVudChlKTtlLnR5cGU9YztnPWUub3JpZ2luYWxFdmVudDtqPWEuZXZlbnQucHJvcHM7aWYoZylmb3IoaD1qLmxlbmd0aDtoOyljPWpbLS1oXSxlW2NdPWdbY107aWYoci5zZWFyY2goL150b3VjaC8pIT09LTEmJihjPWYoZykscj1jLnRvdWNoZXMsYz1jLmNoYW5nZWRUb3VjaGVzLHI9ciYmci5sZW5ndGg/clswXTpjJiZjLmxlbmd0aD9jWzBdOmIpKXtnPTA7Zm9yKGxlbj16Lmxlbmd0aDtnPGxlbjtnKyspYz16W2ddLGVbY109cltjXX1hKGQudGFyZ2V0KS50cmlnZ2VyKGUpO2U9ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKX1yZXR1cm4gZX1mdW5jdGlvbiBpKGIpe3ZhciBjPWEuZGF0YShiLnRhcmdldCx4KTshdyYmKCFCfHxCIT09YykmJmgoInYiK2IudHlwZSxiKX1mdW5jdGlvbiBrKGIpe3ZhciBjPWYoYikudG91Y2hlcyxkO2lmKGMmJmMubGVuZ3RoPT09MSYmKGQ9Yi50YXJnZXQsYz1lKGQpLGMuaGFzVmlydHVhbEJpbmRpbmcpKUI9RisrLGEuZGF0YShkLAp4LEIpLHYmJihjbGVhclRpbWVvdXQodiksdj0wKSxzPXI9ITEsZD1mKGIpLnRvdWNoZXNbMF0seT1kLnBhZ2VYLHU9ZC5wYWdlWSxoKCJ2bW91c2VvdmVyIixiLGMpLGgoInZtb3VzZWRvd24iLGIsYyl9ZnVuY3Rpb24gbChhKXtyfHwoc3x8aCgidm1vdXNlY2FuY2VsIixhLGUoYS50YXJnZXQpKSxzPSEwLGcoKSl9ZnVuY3Rpb24gbShiKXtpZighcil7dmFyIGM9ZihiKS50b3VjaGVzWzBdLGQ9cyxqPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDtzPXN8fE1hdGguYWJzKGMucGFnZVgteSk+anx8TWF0aC5hYnMoYy5wYWdlWS11KT5qO2ZsYWdzPWUoYi50YXJnZXQpO3MmJiFkJiZoKCJ2bW91c2VjYW5jZWwiLGIsZmxhZ3MpO2goInZtb3VzZW1vdmUiLGIsZmxhZ3MpO2coKX19ZnVuY3Rpb24gcChhKXtpZighcil7cj0hMDt2YXIgYj1lKGEudGFyZ2V0KSxjO2goInZtb3VzZXVwIixhLGIpOyFzJiZoKCJ2Y2xpY2siLGEsYikmJihjPWYoYSkuY2hhbmdlZFRvdWNoZXNbMF0sQS5wdXNoKHt0b3VjaElEOkIsCng6Yy5jbGllbnRYLHk6Yy5jbGllbnRZfSksdz0hMCk7aCgidm1vdXNlb3V0IixhLGIpO3M9ITE7ZygpfX1mdW5jdGlvbiBvKGIpe3ZhciBiPWEuZGF0YShiLG4pLGM7aWYoYilmb3IoYyBpbiBiKWlmKGJbY10pcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gaigpe31mdW5jdGlvbiBxKGIpe3ZhciBjPWIuc3Vic3RyKDEpO3JldHVybntzZXR1cDpmdW5jdGlvbigpe28odGhpcyl8fGEuZGF0YSh0aGlzLG4se30pO2EuZGF0YSh0aGlzLG4pW2JdPSEwO3RbYl09KHRbYl18fDApKzE7dFtiXT09PTEmJkMuYmluZChjLGkpO2EodGhpcykuYmluZChjLGopO2lmKEUpdC50b3VjaHN0YXJ0PSh0LnRvdWNoc3RhcnR8fDApKzEsdC50b3VjaHN0YXJ0PT09MSYmQy5iaW5kKCJ0b3VjaHN0YXJ0IixrKS5iaW5kKCJ0b3VjaGVuZCIscCkuYmluZCgidG91Y2htb3ZlIixtKS5iaW5kKCJzY3JvbGwiLGwpfSx0ZWFyZG93bjpmdW5jdGlvbigpey0tdFtiXTt0W2JdfHxDLnVuYmluZChjLGkpO0UmJigtLXQudG91Y2hzdGFydCwKdC50b3VjaHN0YXJ0fHxDLnVuYmluZCgidG91Y2hzdGFydCIsaykudW5iaW5kKCJ0b3VjaG1vdmUiLG0pLnVuYmluZCgidG91Y2hlbmQiLHApLnVuYmluZCgic2Nyb2xsIixsKSk7dmFyIGY9YSh0aGlzKSxkPWEuZGF0YSh0aGlzLG4pO2QmJihkW2JdPSExKTtmLnVuYmluZChjLGopO28odGhpcyl8fGYucmVtb3ZlRGF0YShuKX19fXZhciBuPSJ2aXJ0dWFsTW91c2VCaW5kaW5ncyIseD0idmlydHVhbFRvdWNoSUQiLGQ9InZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCgiICIpLHo9ImNsaWVudFggY2xpZW50WSBwYWdlWCBwYWdlWSBzY3JlZW5YIHNjcmVlblkiLnNwbGl0KCIgIiksdD17fSx2PTAseT0wLHU9MCxzPSExLEE9W10sdz0hMSxyPSExLEU9YS5zdXBwb3J0LmV2ZW50Q2FwdHVyZSxDPWEoYyksRj0xLEI9MDthLnZtb3VzZT17bW92ZURpc3RhbmNlVGhyZXNob2xkOjEwLGNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6MTAsCnJlc2V0VGltZXJEdXJhdGlvbjoxNTAwfTtmb3IodmFyIEQ9MDtEPGQubGVuZ3RoO0QrKylhLmV2ZW50LnNwZWNpYWxbZFtEXV09cShkW0RdKTtFJiZjLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixmdW5jdGlvbihiKXt2YXIgYz1BLmxlbmd0aCxmPWIudGFyZ2V0LGQscixlLGcsajtpZihjKXtkPWIuY2xpZW50WDtyPWIuY2xpZW50WTt0aHJlc2hvbGQ9YS52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDtmb3IoZT1mO2U7KXtmb3IoZz0wO2c8YztnKyspaWYoaj1BW2ddLGU9PT1mJiZNYXRoLmFicyhqLngtZCk8dGhyZXNob2xkJiZNYXRoLmFicyhqLnktcik8dGhyZXNob2xkfHxhLmRhdGEoZSx4KT09PWoudG91Y2hJRCl7Yi5wcmV2ZW50RGVmYXVsdCgpO2Iuc3RvcFByb3BhZ2F0aW9uKCk7cmV0dXJufWU9ZS5wYXJlbnROb2RlfX19LCEwKX0pKGpRdWVyeSx3aW5kb3csZG9jdW1lbnQpOwooZnVuY3Rpb24oYSxkLGMpe2Z1bmN0aW9uIGIoYixjLGYpe3ZhciBkPWYudHlwZTtmLnR5cGU9YzthLmV2ZW50LmhhbmRsZS5jYWxsKGIsZik7Zi50eXBlPWR9YS5lYWNoKCJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgdGFwIHRhcGhvbGQgc3dpcGUgc3dpcGVsZWZ0IHN3aXBlcmlnaHQgc2Nyb2xsc3RhcnQgc2Nyb2xsc3RvcCIuc3BsaXQoIiAiKSxmdW5jdGlvbihiLGMpe2EuZm5bY109ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGMsYSk6dGhpcy50cmlnZ2VyKGMpfTthLmF0dHJGbltjXT0hMH0pO3ZhciBmPWEuc3VwcG9ydC50b3VjaCxlPWY/InRvdWNoc3RhcnQiOiJtb3VzZWRvd24iLGc9Zj8idG91Y2hlbmQiOiJtb3VzZXVwIixoPWY/InRvdWNobW92ZSI6Im1vdXNlbW92ZSI7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0PXtlbmFibGVkOiEwLHNldHVwOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gYyhhLAplKXtkPWU7YihmLGQ/InNjcm9sbHN0YXJ0Ijoic2Nyb2xsc3RvcCIsYSl9dmFyIGY9dGhpcyxkLGU7YShmKS5iaW5kKCJ0b3VjaG1vdmUgc2Nyb2xsIixmdW5jdGlvbihiKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZCYmKGR8fGMoYiwhMCksY2xlYXJUaW1lb3V0KGUpLGU9c2V0VGltZW91dChmdW5jdGlvbigpe2MoYiwhMSl9LDUwKSl9KX19O2EuZXZlbnQuc3BlY2lhbC50YXA9e3NldHVwOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxmPWEoYyk7Zi5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7Zz0hMTtjbGVhclRpbWVvdXQoaCk7Zi51bmJpbmQoInZjbGljayIsZSkudW5iaW5kKCJ2bW91c2VjYW5jZWwiLGQpfWZ1bmN0aW9uIGUoYSl7ZCgpO2o9PWEudGFyZ2V0JiZiKGMsInRhcCIsYSl9aWYoYS53aGljaCYmYS53aGljaCE9PTEpcmV0dXJuITE7dmFyIGc9ITAsaj1hLnRhcmdldCxoO2YuYmluZCgidm1vdXNlY2FuY2VsIixkKS5iaW5kKCJ2Y2xpY2siLAplKTtoPXNldFRpbWVvdXQoZnVuY3Rpb24oKXtnJiZiKGMsInRhcGhvbGQiLGEpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MTAsZHVyYXRpb25UaHJlc2hvbGQ6MUUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmJpbmQoZSxmdW5jdGlvbihmKXtmdW5jdGlvbiBkKGIpe2lmKHApe3ZhciBjPWIub3JpZ2luYWxFdmVudC50b3VjaGVzP2Iub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmI7bz17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2MucGFnZVgsYy5wYWdlWV19O01hdGguYWJzKHAuY29vcmRzWzBdLW8uY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmYi5wcmV2ZW50RGVmYXVsdCgpfX12YXIgZT1mLm9yaWdpbmFsRXZlbnQudG91Y2hlcz8KZi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZixwPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZS5wYWdlWCxlLnBhZ2VZXSxvcmlnaW46YShmLnRhcmdldCl9LG87Yi5iaW5kKGgsZCkub25lKGcsZnVuY3Rpb24oKXtiLnVuYmluZChoLGQpO3AmJm8mJm8udGltZS1wLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhwLmNvb3Jkc1swXS1vLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMocC5jb29yZHNbMV0tby5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkJiZwLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIocC5jb29yZHNbMF0+by5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKTtwPW89Y30pfSl9fTsoZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBjKCl7dmFyIGE9CmQoKTthIT09ZSYmKGU9YSxmLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBmPWEoYiksZCxlO2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pcmV0dXJuITE7ZT1kKCk7Zi5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbilyZXR1cm4hMTtmLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixjKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBiPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1kKCk7cmV0dXJuIGIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1kPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3JldHVybiBhJiZhLmNsaWVudFdpZHRoL2EuY2xpZW50SGVpZ2h0PAoxLjE/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShqUXVlcnksZCk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYil9fTt2YXIgYj1mdW5jdGlvbigpe2Q9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT1kLWM7ZT49MjUwPyhjPWQsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGYmJmNsZWFyVGltZW91dChmKSxmPXNldFRpbWVvdXQoYiwyNTAtZSkpfSxjPTAsZixkLGV9KSgpO2EuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihiLGMpe2EuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYyxhLm5vb3ApfX19KX0pKGpRdWVyeSwKdGhpcyk7CihmdW5jdGlvbihhLGQsYyl7ZnVuY3Rpb24gYihhKXthPWF8fGxvY2F0aW9uLmhyZWY7cmV0dXJuIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sIiQxIil9dmFyIGY9Imhhc2hjaGFuZ2UiLGU9ZG9jdW1lbnQsZyxoPWEuZXZlbnQuc3BlY2lhbCxpPWUuZG9jdW1lbnRNb2RlLGs9Im9uIitmIGluIGQmJihpPT09Y3x8aT43KTthLmZuW2ZdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChmLGEpOnRoaXMudHJpZ2dlcihmKX07YS5mbltmXS5kZWxheT01MDtoW2ZdPWEuZXh0ZW5kKGhbZl0se3NldHVwOmZ1bmN0aW9uKCl7aWYoaylyZXR1cm4hMTthKGcuc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGspcmV0dXJuITE7YShnLnN0b3ApfX0pO2c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKCl7dmFyIGM9YigpLGU9bihvKTtpZihjIT09bylxKG89YyxlKSxhKGQpLnRyaWdnZXIoZik7ZWxzZSBpZihlIT09bylsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywiIikrCmU7aT1zZXRUaW1lb3V0KGcsYS5mbltmXS5kZWxheSl9dmFyIGg9e30saSxvPWIoKSxqPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxxPWosbj1qO2guc3RhcnQ9ZnVuY3Rpb24oKXtpfHxnKCl9O2guc3RvcD1mdW5jdGlvbigpe2kmJmNsZWFyVGltZW91dChpKTtpPWN9O2EuYnJvd3Nlci5tc2llJiYhayYmZnVuY3Rpb24oKXt2YXIgYyxkO2guc3RhcnQ9ZnVuY3Rpb24oKXtpZighYylkPShkPWEuZm5bZl0uc3JjKSYmZCtiKCksYz1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtkfHxxKGIoKSk7ZygpfSkuYXR0cigic3JjIixkfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGUub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtpZihldmVudC5wcm9wZXJ0eU5hbWU9PT0idGl0bGUiKWMuZG9jdW1lbnQudGl0bGU9ZS50aXRsZX1jYXRjaChhKXt9fX07aC5zdG9wPQpqO249ZnVuY3Rpb24oKXtyZXR1cm4gYihjLmxvY2F0aW9uLmhyZWYpfTtxPWZ1bmN0aW9uKGIsZCl7dmFyIGc9Yy5kb2N1bWVudCxoPWEuZm5bZl0uZG9tYWluO2lmKGIhPT1kKWcudGl0bGU9ZS50aXRsZSxnLm9wZW4oKSxoJiZnLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytoKyciPFwvc2NyaXB0PicpLGcuY2xvc2UoKSxjLmxvY2F0aW9uLmhhc2g9Yn19KCk7cmV0dXJuIGh9KCl9KShqUXVlcnksdGhpcyk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnM7dGhpcy5fdHJpZ2dlcigiYmVmb3JlQ3JlYXRlIikhPT0hMSYmYS5hZGRDbGFzcygidWktcGFnZSB1aS1ib2R5LSIrYy50aGVtZSl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLmV4dGVuZChhLm1vYmlsZSx7bnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoic2xpZGUiLG1pblNjcm9sbEJhY2s6c2NyZWVuLmhlaWdodC8yLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLGxvYWRpbmdNZXNzYWdlOiJsb2FkaW5nIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAsZ3JhZGVBOmZ1bmN0aW9uKCl7cmV0dXJuIGEuc3VwcG9ydC5tZWRpYXF1ZXJ5fHxhLm1vYmlsZS5icm93c2VyLmllJiZhLm1vYmlsZS5icm93c2VyLmllPj03fSxrZXlDb2RlOntBTFQ6MTgsQkFDS1NQQUNFOjgsQ0FQU19MT0NLOjIwLENPTU1BOjE4OCxDT01NQU5EOjkxLENPTU1BTkRfTEVGVDo5MSwKQ09NTUFORF9SSUdIVDo5MyxDT05UUk9MOjE3LERFTEVURTo0NixET1dOOjQwLEVORDozNSxFTlRFUjoxMyxFU0NBUEU6MjcsSE9NRTozNixJTlNFUlQ6NDUsTEVGVDozNyxNRU5VOjkzLE5VTVBBRF9BREQ6MTA3LE5VTVBBRF9ERUNJTUFMOjExMCxOVU1QQURfRElWSURFOjExMSxOVU1QQURfRU5URVI6MTA4LE5VTVBBRF9NVUxUSVBMWToxMDYsTlVNUEFEX1NVQlRSQUNUOjEwOSxQQUdFX0RPV046MzQsUEFHRV9VUDozMyxQRVJJT0Q6MTkwLFJJR0hUOjM5LFNISUZUOjE2LFNQQUNFOjMyLFRBQjo5LFVQOjM4LFdJTkRPV1M6OTF9LHNpbGVudFNjcm9sbDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYikhPT0ibnVtYmVyIiliPWEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsO2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSExO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtkLnNjcm9sbFRvKDAsYik7YShkb2N1bWVudCkudHJpZ2dlcigic2lsZW50c2Nyb2xsIix7eDowLHk6Yn0pfSwKMjApO3NldFRpbWVvdXQoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQuZW5hYmxlZD0hMH0sMTUwKX0sbnNOb3JtYWxpemU6ZnVuY3Rpb24oYil7aWYoYilyZXR1cm4gYS5jYW1lbENhc2UoYS5tb2JpbGUubnMrYil9fSk7YS5mbi5qcW1EYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIHRoaXMuZGF0YShiP2EubW9iaWxlLm5zTm9ybWFsaXplKGIpOmIsYyl9O2EuanFtRGF0YT1mdW5jdGlvbihiLGMsZCl7cmV0dXJuIGEuZGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpLGQpfTthLmZuLmpxbVJlbW92ZURhdGE9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMucmVtb3ZlRGF0YShhLm1vYmlsZS5uc05vcm1hbGl6ZShiKSl9O2EuanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLnJlbW92ZURhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9O2EuanFtSGFzRGF0YT1mdW5jdGlvbihiLGMpe3JldHVybiBhLmhhc0RhdGEoYixhLm1vYmlsZS5uc05vcm1hbGl6ZShjKSl9Owp2YXIgYz1hLmZpbmQ7YS5maW5kPWZ1bmN0aW9uKGIsZCxlLGcpe2I9Yi5yZXBsYWNlKC86anFtRGF0YVwoKFteKV0qKVwpL2csIltkYXRhLSIrKGEubW9iaWxlLm5zfHwiIikrIiQxXSIpO3JldHVybiBjLmNhbGwodGhpcyxiLGQsZSxnKX07YS5leHRlbmQoYS5maW5kLGMpO2EuZmluZC5tYXRjaGVzPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChiLG51bGwsbnVsbCxjKX07YS5maW5kLm1hdGNoZXNTZWxlY3Rvcj1mdW5jdGlvbihiLGMpe3JldHVybiBhLmZpbmQoYyxudWxsLG51bGwsW2JdKS5sZW5ndGg+MH19KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5qcW1EYXRhKCJsYXN0Q2xpY2tlZCIpO2ImJmIubGVuZ3RoP2IuZm9jdXMoKTooYj1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpLGIubGVuZ3RoP2IuZm9jdXMoKTphLmZpbmQoeCkuZXEoMCkuZm9jdXMoKSl9ZnVuY3Rpb24gYihiKXtxJiYoIXEuY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RofHxiKSYmcS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7cT1udWxsfWZ1bmN0aW9uIGYoKXt0PSExO3oubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCx6LnBvcCgpKX1mdW5jdGlvbiBlKGIsZCxmLGUpe3ZhciBoPWEuc3VwcG9ydC5zY3JvbGxUb3A/bS5zY3JvbGxUb3AoKTohMCxqPWIuZGF0YSgibGFzdFNjcm9sbCIpfHxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCxpPWcoKTtoJiZ3aW5kb3cuc2Nyb2xsVG8oMCxhLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCk7ajwKYS5tb2JpbGUubWluU2Nyb2xsQmFjayYmKGo9MCk7ZCYmKGQuaGVpZ2h0KGkraCkuanFtRGF0YSgibGFzdFNjcm9sbCIsaCkuanFtRGF0YSgibGFzdENsaWNrZWQiLHEpLGQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVoaWRlIixudWxsLHtuZXh0UGFnZTpifSkpO2IuaGVpZ2h0KGkraikuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2Y9KGEubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVyc1tmfHwibm9uZSJdfHxhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIpKGYsZSxiLGQpO2YuZG9uZShmdW5jdGlvbigpe2IuaGVpZ2h0KCIiKTtqPyhhLm1vYmlsZS5zaWxlbnRTY3JvbGwoaiksYShkb2N1bWVudCkub25lKCJzaWxlbnRzY3JvbGwiLGZ1bmN0aW9uKCl7YyhiKX0pKTpjKGIpO2QmJmQuaGVpZ2h0KCIiKS5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImhpZGUiLApudWxsLHtuZXh0UGFnZTpifSk7Yi5kYXRhKCJwYWdlIikuX3RyaWdnZXIoInNob3ciLG51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSl9KTtyZXR1cm4gZn1mdW5jdGlvbiBnKCl7dmFyIGI9alF1ZXJ5LmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKT09PSJwb3J0cmFpdCIsYz1iP3NjcmVlbi5hdmFpbEhlaWdodDpzY3JlZW4uYXZhaWxXaWR0aCxiPU1hdGgubWF4KGI/NDgwOjMyMCxhKHdpbmRvdykuaGVpZ2h0KCkpO3JldHVybiBNYXRoLm1pbihjLGIpfWZ1bmN0aW9uIGgoKXthKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpLmNzcygibWluLWhlaWdodCIsZygpKX1mdW5jdGlvbiBpKGIsYyl7YyYmYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJvbGUiLGMpO2IucGFnZSgpfWZ1bmN0aW9uIGsoYSl7Zm9yKDthOyl7aWYoYS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT0iYSIpYnJlYWs7YT1hLnBhcmVudE5vZGV9cmV0dXJuIGF9ZnVuY3Rpb24gbChiKXt2YXIgYj0KYShiKS5jbG9zZXN0KCIudWktcGFnZSIpLmpxbURhdGEoInVybCIpLGM9cy5ocmVmTm9IYXNoO2lmKCFifHwhai5pc1BhdGgoYikpYj1jO3JldHVybiBqLm1ha2VVcmxBYnNvbHV0ZShiLGMpfXZhciBtPWEod2luZG93KSxwPWEoImh0bWwiKSxvPWEoImhlYWQiKSxqPXt1cmxQYXJzZVJFOi9eKCgoKFteOlwvI1w/XSs6KT8oPzpcL1wvKCg/OigoW146QFwvI1w/XSspKD86XDooW146QFwvI1w/XSspKT8pQCk/KChbXjpcLyNcP10rKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LyxwYXJzZVVybDpmdW5jdGlvbihiKXtpZihhLnR5cGUoYik9PT0ib2JqZWN0IilyZXR1cm4gYjt2YXIgYj1qLnVybFBhcnNlUkUuZXhlYyhiKSxjO2ImJihjPXtocmVmOmJbMF18fCIiLGhyZWZOb0hhc2g6YlsxXXx8IiIsaHJlZk5vU2VhcmNoOmJbMl18fCIiLGRvbWFpbjpiWzNdfHwiIixwcm90b2NvbDpiWzRdfHwiIixhdXRob3JpdHk6Yls1XXx8CiIiLHVzZXJuYW1lOmJbN118fCIiLHBhc3N3b3JkOmJbOF18fCIiLGhvc3Q6Yls5XXx8IiIsaG9zdG5hbWU6YlsxMF18fCIiLHBvcnQ6YlsxMV18fCIiLHBhdGhuYW1lOmJbMTJdfHwiIixkaXJlY3Rvcnk6YlsxM118fCIiLGZpbGVuYW1lOmJbMTRdfHwiIixzZWFyY2g6YlsxNV18fCIiLGhhc2g6YlsxNl18fCIifSk7cmV0dXJuIGN8fHt9fSxtYWtlUGF0aEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoYSYmYS5jaGFyQXQoMCk9PT0iLyIpcmV0dXJuIGE7Zm9yKHZhciBhPWF8fCIiLGM9KGI9Yj9iLnJlcGxhY2UoL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywiIik6IiIpP2Iuc3BsaXQoIi8iKTpbXSxkPWEuc3BsaXQoIi8iKSxmPTA7ZjxkLmxlbmd0aDtmKyspe3ZhciBlPWRbZl07c3dpdGNoKGUpe2Nhc2UgIi4iOmJyZWFrO2Nhc2UgIi4uIjpjLmxlbmd0aCYmYy5wb3AoKTticmVhaztkZWZhdWx0OmMucHVzaChlKX19cmV0dXJuIi8iK2Muam9pbigiLyIpfSxpc1NhbWVEb21haW46ZnVuY3Rpb24oYSwKYil7cmV0dXJuIGoucGFyc2VVcmwoYSkuZG9tYWluPT09ai5wYXJzZVVybChiKS5kb21haW59LGlzUmVsYXRpdmVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGoucGFyc2VVcmwoYSkucHJvdG9jb2w9PT0iIn0saXNBYnNvbHV0ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gai5wYXJzZVVybChhKS5wcm90b2NvbCE9PSIifSxtYWtlVXJsQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZighai5pc1JlbGF0aXZlVXJsKGEpKXJldHVybiBhO3ZhciBjPWoucGFyc2VVcmwoYSksZD1qLnBhcnNlVXJsKGIpLGY9Yy5wcm90b2NvbHx8ZC5wcm90b2NvbCxlPWMuYXV0aG9yaXR5fHxkLmF1dGhvcml0eSxnPWMucGF0aG5hbWUhPT0iIixoPWoubWFrZVBhdGhBYnNvbHV0ZShjLnBhdGhuYW1lfHxkLmZpbGVuYW1lLGQucGF0aG5hbWUpO3JldHVybiBmKyIvLyIrZStoKyhjLnNlYXJjaHx8IWcmJmQuc2VhcmNofHwiIikrYy5oYXNofSxhZGRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oYixjKXt2YXIgZD1qLnBhcnNlVXJsKGIpLApmPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKTpjLGU9ZC5zZWFyY2h8fCI/IjtyZXR1cm4gZC5ocmVmTm9TZWFyY2grZSsoZS5jaGFyQXQoZS5sZW5ndGgtMSkhPT0iPyI/IiYiOiIiKStmKyhkLmhhc2h8fCIiKX0sY29udmVydFVybFRvRGF0YVVybDpmdW5jdGlvbihhKXt2YXIgYj1qLnBhcnNlVXJsKGEpO2lmKGouaXNFbWJlZGRlZFBhZ2UoYikpcmV0dXJuIGIuaGFzaC5zcGxpdCh2KVswXS5yZXBsYWNlKC9eIy8sIiIpO2Vsc2UgaWYoai5pc1NhbWVEb21haW4oYixzKSlyZXR1cm4gYi5ocmVmTm9IYXNoLnJlcGxhY2Uocy5kb21haW4sIiIpO3JldHVybiBhfSxnZXQ6ZnVuY3Rpb24oYSl7aWYoYT09PWQpYT1sb2NhdGlvbi5oYXNoO3JldHVybiBqLnN0cmlwSGFzaChhKS5yZXBsYWNlKC9bXlwvXSpcLlteXC8qXSskLywiIil9LGdldEZpbGVQYXRoOmZ1bmN0aW9uKGIpe3ZhciBjPSImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5O3JldHVybiBiJiZiLnNwbGl0KGMpWzBdLnNwbGl0KHYpWzBdfSwKc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9YX0saXNQYXRoOmZ1bmN0aW9uKGEpe3JldHVybi9cLy8udGVzdChhKX0sY2xlYW46ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZShzLmRvbWFpbiwiIil9LHN0cmlwSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9eIy8sIiIpfSxjbGVhbkhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGouc3RyaXBIYXNoKGEucmVwbGFjZSgvXD8uKiQvLCIiKS5yZXBsYWNlKHYsIiIpKX0saXNFeHRlcm5hbDpmdW5jdGlvbihhKXthPWoucGFyc2VVcmwoYSk7cmV0dXJuIGEucHJvdG9jb2wmJmEuZG9tYWluIT09dS5kb21haW4/ITA6ITF9LGhhc1Byb3RvY29sOmZ1bmN0aW9uKGEpe3JldHVybi9eKDo/XHcrOikvLnRlc3QoYSl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9ai5wYXJzZVVybChhKTtpZihhLnByb3RvY29sIT09IiIpcmV0dXJuIGEuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXUuaHJlZk5vSGFzaHx8QSYmYS5ocmVmTm9IYXNoPT09CnMuaHJlZk5vSGFzaCk7cmV0dXJuL14jLy50ZXN0KGEuaHJlZil9fSxxPW51bGwsbj17c3RhY2s6W10sYWN0aXZlSW5kZXg6MCxnZXRBY3RpdmU6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4XX0sZ2V0UHJldjpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgtMV19LGdldE5leHQ6ZnVuY3Rpb24oKXtyZXR1cm4gbi5zdGFja1tuLmFjdGl2ZUluZGV4KzFdfSxhZGROZXc6ZnVuY3Rpb24oYSxiLGMsZCl7bi5nZXROZXh0KCkmJm4uY2xlYXJGb3J3YXJkKCk7bi5zdGFjay5wdXNoKHt1cmw6YSx0cmFuc2l0aW9uOmIsdGl0bGU6YyxwYWdlVXJsOmR9KTtuLmFjdGl2ZUluZGV4PW4uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe24uc3RhY2s9bi5zdGFjay5zbGljZSgwLG4uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGMsZixlO2EuZWFjaChuLnN0YWNrLGZ1bmN0aW9uKGEsZCl7Yi5jdXJyZW50VXJsPT09CmQudXJsJiYoYz1hPG4uYWN0aXZlSW5kZXgsZj0hYyxlPWEpfSk7dGhpcy5hY3RpdmVJbmRleD1lIT09ZD9lOnRoaXMuYWN0aXZlSW5kZXg7Yz9iLmlzQmFjaygpOmYmJmIuaXNGb3J3YXJkKCl9LGlnbm9yZU5leHRIYXNoQ2hhbmdlOiExfSx4PSJbdGFiaW5kZXhdLGEsYnV0dG9uOnZpc2libGUsc2VsZWN0OnZpc2libGUsaW5wdXQiLHo9W10sdD0hMSx2PSImdWktc3RhdGU9ZGlhbG9nIix5PW8uY2hpbGRyZW4oImJhc2UiKSx1PWoucGFyc2VVcmwobG9jYXRpb24uaHJlZikscz15Lmxlbmd0aD9qLnBhcnNlVXJsKGoubWFrZVVybEFic29sdXRlKHkuYXR0cigiaHJlZiIpLHUuaHJlZikpOnUsQT11LmhyZWZOb0hhc2ghPT1zLmhyZWZOb0hhc2gsdz1hLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWc/e2VsZW1lbnQ6eS5sZW5ndGg/eTphKCI8YmFzZT4iLHtocmVmOnMuaHJlZk5vSGFzaH0pLnByZXBlbmRUbyhvKSxzZXQ6ZnVuY3Rpb24oYSl7dy5lbGVtZW50LmF0dHIoImhyZWYiLGoubWFrZVVybEFic29sdXRlKGEsCnMpKX0scmVzZXQ6ZnVuY3Rpb24oKXt3LmVsZW1lbnQuYXR0cigiaHJlZiIscy5ocmVmTm9IYXNoKX19OmQ7YS5mbi5hbmltYXRpb25Db21wbGV0ZT1mdW5jdGlvbihiKXtyZXR1cm4gYS5zdXBwb3J0LmNzc1RyYW5zaXRpb25zP2EodGhpcykub25lKCJ3ZWJraXRBbmltYXRpb25FbmQiLGIpOihzZXRUaW1lb3V0KGIsMCksYSh0aGlzKSl9O2EubW9iaWxlLnVwZGF0ZUhhc2g9ai5zZXQ7YS5tb2JpbGUucGF0aD1qO2EubW9iaWxlLmJhc2U9dzthLm1vYmlsZS51cmxzdGFjaz1uLnN0YWNrO2EubW9iaWxlLnVybEhpc3Rvcnk9bjthLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI9ZnVuY3Rpb24oYixjLGQsZil7ZiYmZi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2QuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtyZXR1cm4gYS5EZWZlcnJlZCgpLnJlc29sdmUoYixjLGQsZikucHJvbWlzZSgpfTthLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcjthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e25vbmU6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfTthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITE7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdSk6dS5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30scyk6cy5ocmVmfTthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBmPWEuRGVmZXJyZWQoKSxlPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzLGMpLGc9bnVsbCxoPW51bGwscD1qLm1ha2VVcmxBYnNvbHV0ZShiLGEubW9iaWxlLmFjdGl2ZVBhZ2UmJmwoYS5tb2JpbGUuYWN0aXZlUGFnZSl8fHMuaHJlZk5vSGFzaCk7aWYoZS5kYXRhJiZlLnR5cGU9PT0iZ2V0IilwPWouYWRkU2VhcmNoUGFyYW1zKHAsCmUuZGF0YSksZS5kYXRhPWQ7dmFyIG49ai5nZXRGaWxlUGF0aChwKSxvPWouY29udmVydFVybFRvRGF0YVVybChwKTtlLnBhZ2VDb250YWluZXI9ZS5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2c9ZS5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrbysiJykiKTt3JiZ3LnJlc2V0KCk7aWYoZy5sZW5ndGgpe2lmKCFlLnJlbG9hZFBhZ2UpcmV0dXJuIGkoZyxlLnJvbGUpLGYucmVzb2x2ZShwLGMsZyksZi5wcm9taXNlKCk7aD1nfWlmKGUuc2hvd0xvYWRNc2cpdmFyIGs9c2V0VGltZW91dChmdW5jdGlvbigpe2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxlLmxvYWRNc2dEZWxheSk7IWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmIWouaXNTYW1lRG9tYWluKHUscCk/Zi5yZWplY3QocCxjKTphLmFqYXgoe3VybDpuLHR5cGU6ZS50eXBlLGRhdGE6ZS5kYXRhLGRhdGFUeXBlOiJodG1sIixzdWNjZXNzOmZ1bmN0aW9uKGQpe3ZhciBsPQphKCI8ZGl2PjwvZGl2PiIpLHE9ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsbT1SZWdFeHAoIlxcYmRhdGEtIithLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtSZWdFeHAoIi4qKDxbXj5dK1xcYmRhdGEtIithLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KS4qIikudGVzdChkKSYmUmVnRXhwLiQxJiZtLnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYoYj1uPWouZ2V0RmlsZVBhdGgoUmVnRXhwLiQxKSk7dyYmdy5zZXQobik7bC5nZXQoMCkuaW5uZXJIVE1MPWQ7Zz1sLmZpbmQoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5maXJzdCgpO2cubGVuZ3RofHwoZz1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+IitkLnNwbGl0KC88XC8/Ym9keVtePl0qPi9nbWkpWzFdKyI8L2Rpdj4iKSk7cSYmIWcuanFtRGF0YSgidGl0bGUiKSYmZy5qcW1EYXRhKCJ0aXRsZSIsCnEpO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciBzPWouZ2V0KG4pO2cuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksYz1jLnJlcGxhY2UobG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lLCIiKTsvXihcdys6fCN8XC8pLy50ZXN0KGMpfHxhKHRoaXMpLmF0dHIoYixzK2MpfSl9Zy5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsai5jb252ZXJ0VXJsVG9EYXRhVXJsKG4pKS5hcHBlbmRUbyhlLnBhZ2VDb250YWluZXIpO2cub25lKCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe2cuZGF0YSgicGFnZSIpLm9wdGlvbnMuZG9tQ2FjaGV8fGcuYmluZCgicGFnZWhpZGUucmVtb3ZlIiwKZnVuY3Rpb24oKXthKHRoaXMpLnJlbW92ZSgpfSl9KTtpKGcsZS5yb2xlKTtwLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZz1lLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitvKyInKSIpKTtlLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KGspLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtmLnJlc29sdmUocCxjLGcsaCl9LGVycm9yOmZ1bmN0aW9uKCl7dyYmdy5zZXQoai5nZXQoKSk7ZS5zaG93TG9hZE1zZyYmKGNsZWFyVGltZW91dChrKSxhLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKSxhKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktb3ZlcmxheS1zaGFkb3cgdWktYm9keS1lIHVpLWNvcm5lci1hbGwnPjxoMT4iK2EubW9iaWxlLnBhZ2VMb2FkRXJyb3JNZXNzYWdlKyI8L2gxPjwvZGl2PiIpLmNzcyh7ZGlzcGxheToiYmxvY2siLG9wYWNpdHk6MC45Nix0b3A6bS5zY3JvbGxUb3AoKSsxMDB9KS5hcHBlbmRUbyhlLnBhZ2VDb250YWluZXIpLmRlbGF5KDgwMCkuZmFkZU91dCg0MDAsCmZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmUoKX0pKTtmLnJlamVjdChwLGMpfX0pO3JldHVybiBmLnByb21pc2UoKX07YS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLHBhZ2VDb250YWluZXI6ZCxsb2FkTXNnRGVsYXk6NTB9O2EubW9iaWxlLmNoYW5nZVBhZ2U9ZnVuY3Rpb24oYyxnKXtpZih0eXBlb2YgZyE9PSJvYmplY3QiKXt2YXIgaD1udWxsO2lmKHR5cGVvZiBjPT09Im9iamVjdCImJmMudXJsJiZjLnR5cGUpaD17dHlwZTpjLnR5cGUsZGF0YTpjLmRhdGEsZm9yY2VQYWdlTG9hZDohMH0sYz1jLnVybDt2YXIgbz1hcmd1bWVudHMubGVuZ3RoO2lmKG8+MSl7dmFyIGs9WyJ0cmFuc2l0aW9uIiwicmV2ZXJzZSIsImNoYW5nZUhhc2giLCJmcm9tSGFzaENoYW5nZSJdLGw7Zm9yKGw9MTtsPG87bCsrKXt2YXIgcT1hcmd1bWVudHNbbF07dHlwZW9mIHEhPT0idW5kZWZpbmVkIiYmKGg9aHx8Cnt9LGhba1tsLTFdXT1xKX19aWYoaClyZXR1cm4gYS5tb2JpbGUuY2hhbmdlUGFnZShjLGgpfWlmKHQpei51bnNoaWZ0KGFyZ3VtZW50cyk7ZWxzZXt0PSEwO3ZhciBtPWEuZXh0ZW5kKHt9LGEubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsZyk7bS5wYWdlQ29udGFpbmVyPW0ucGFnZUNvbnRhaW5lcnx8YS5tb2JpbGUucGFnZUNvbnRhaW5lcjtpZih0eXBlb2YgYz09InN0cmluZyIpYS5tb2JpbGUubG9hZFBhZ2UoYyxtKS5kb25lKGZ1bmN0aW9uKGIsYyxkLGYpe3Q9ITE7Yy5kdXBsaWNhdGVDYWNoZWRQYWdlPWY7YS5tb2JpbGUuY2hhbmdlUGFnZShkLGMpfSkuZmFpbChmdW5jdGlvbigpe3Q9ITE7YighMCk7ZigpO20ucGFnZUNvbnRhaW5lci50cmlnZ2VyKCJjaGFuZ2VwYWdlZmFpbGVkIil9KTtlbHNle3ZhciBzPW0ucGFnZUNvbnRhaW5lcixoPWEubW9iaWxlLmFjdGl2ZVBhZ2Usaz1vPWMuanFtRGF0YSgidXJsIik7ai5nZXRGaWxlUGF0aChvKTtsPW4uZ2V0QWN0aXZlKCk7dmFyIHE9Cm4uYWN0aXZlSW5kZXg9PT0wLHk9MCx1PWRvY3VtZW50LnRpdGxlLHg9bS5yb2xlPT09ImRpYWxvZyJ8fGMuanFtRGF0YSgicm9sZSIpPT09ImRpYWxvZyI7cy50cmlnZ2VyKCJiZWZvcmVjaGFuZ2VwYWdlIik7aWYoaCYmaFswXT09PWNbMF0pdD0hMSxzLnRyaWdnZXIoImNoYW5nZXBhZ2UiKTtlbHNle2koYyxtLnJvbGUpO20uZnJvbUhhc2hDaGFuZ2UmJm4uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpvLGlzQmFjazpmdW5jdGlvbigpe3k9LTF9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3k9MX19KTt0cnl7YShkb2N1bWVudC5hY3RpdmVFbGVtZW50fHwiIikuYWRkKCJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIpLmJsdXIoKX1jYXRjaCh3KXt9eCYmbCYmKG89bC51cmwrdik7aWYobS5jaGFuZ2VIYXNoIT09ITEmJm8pbi5pZ25vcmVOZXh0SGFzaENoYW5nZT0hMCxqLnNldChvKTt2YXIgQT1jLmpxbURhdGEoInRpdGxlIil8fGMuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIikudGV4dCgpOwpBJiZ1PT1kb2N1bWVudC50aXRsZSYmKHU9QSk7eXx8bi5hZGROZXcobyxtLnRyYW5zaXRpb24sdSxrKTtkb2N1bWVudC50aXRsZT1uLmdldEFjdGl2ZSgpLnRpdGxlO2EubW9iaWxlLmFjdGl2ZVBhZ2U9YzttLnRyYW5zaXRpb249bS50cmFuc2l0aW9ufHwoeSYmIXE/bC50cmFuc2l0aW9uOmQpfHwoeD9hLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbjphLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24pO20ucmV2ZXJzZT1tLnJldmVyc2V8fHk8MDtlKGMsaCxtLnRyYW5zaXRpb24sbS5yZXZlcnNlKS5kb25lKGZ1bmN0aW9uKCl7YigpO20uZHVwbGljYXRlQ2FjaGVkUGFnZSYmbS5kdXBsaWNhdGVDYWNoZWRQYWdlLnJlbW92ZSgpO3AucmVtb3ZlQ2xhc3MoInVpLW1vYmlsZS1yZW5kZXJpbmciKTtmKCk7cy50cmlnZ2VyKCJjaGFuZ2VwYWdlIil9KX19fX07YS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cz17dHJhbnNpdGlvbjpkLHJldmVyc2U6ITEsY2hhbmdlSGFzaDohMCwKZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpkLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZCxwYWdlQ29udGFpbmVyOmQsc2hvd0xvYWRNc2c6ITB9O2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7YSgiZm9ybSIpLmxpdmUoInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKSl7dmFyIGQ9Yy5hdHRyKCJtZXRob2QiKSxmPWMuYXR0cigidGFyZ2V0IiksZT1jLmF0dHIoImFjdGlvbiIpO2lmKCFlJiYoZT1sKGMpLGU9PT1zLmhyZWZOb0hhc2gpKWU9dS5ocmVmTm9TZWFyY2g7ZT1qLm1ha2VVcmxBYnNvbHV0ZShlLGwoYykpOyFqLmlzRXh0ZXJuYWwoZSkmJiFmJiYoYS5tb2JpbGUuY2hhbmdlUGFnZShlLHt0eXBlOmQmJmQubGVuZ3RoJiZkLnRvTG93ZXJDYXNlKCl8fCJnZXQiLGRhdGE6Yy5zZXJpYWxpemUoKSx0cmFuc2l0aW9uOmMuanFtRGF0YSgidHJhbnNpdGlvbiIpLApkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19KTthKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2lmKChiPWsoYi50YXJnZXQpKSYmai5wYXJzZVVybChiLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2ghPT0iIyIpYShiKS5jbG9zZXN0KCIudWktYnRuIikubm90KCIudWktZGlzYWJsZWQiKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksYSgiLiIrYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgLnVpLWJ0biIpLm5vdChiKS5ibHVyKCl9KTthKGRvY3VtZW50KS5iaW5kKCJjbGljayIsZnVuY3Rpb24oYyl7dmFyIGY9ayhjLnRhcmdldCk7aWYoZil7dmFyIGU9YShmKSxnPWZ1bmN0aW9uKCl7d2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKXtiKCEwKX0sMjAwKX07aWYoZS5pcygiOmpxbURhdGEocmVsPSdiYWNrJykiKSlyZXR1cm4gd2luZG93Lmhpc3RvcnkuYmFjaygpLAohMTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCl7dmFyIGg9bChlKSxmPWoubWFrZVVybEFic29sdXRlKGUuYXR0cigiaHJlZiIpfHwiIyIsaCk7aWYoZi5zZWFyY2goIiMiKSE9LTEpaWYoZj1mLnJlcGxhY2UoL1teI10qIy8sIiIpKWY9ai5pc1BhdGgoZik/ai5tYWtlVXJsQWJzb2x1dGUoZixoKTpqLm1ha2VVcmxBYnNvbHV0ZSgiIyIrZix1LmhyZWZOb0hhc2gpO2Vsc2V7Yy5wcmV2ZW50RGVmYXVsdCgpO3JldHVybn12YXIgaD1lLmlzKCJbcmVsPSdleHRlcm5hbCddIil8fGUuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKXx8ZS5pcygiW3RhcmdldF0iKSxpPWEubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyYmdS5wcm90b2NvbD09PSJmaWxlOiImJmYuc2VhcmNoKC9eaHR0cHM/Oi8pIT0tMSxoPWh8fGouaXNFeHRlcm5hbChmKSYmIWk7cT1lLmNsb3Nlc3QoIi51aS1idG4iKTtoP2coKTooZz1lLmpxbURhdGEoInRyYW5zaXRpb24iKSxoPShoPWUuanFtRGF0YSgiZGlyZWN0aW9uIikpJiYKaD09PSJyZXZlcnNlInx8ZS5qcW1EYXRhKCJiYWNrIiksZT1lLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicmVsIil8fGQsYS5tb2JpbGUuY2hhbmdlUGFnZShmLHt0cmFuc2l0aW9uOmcscmV2ZXJzZTpoLHJvbGU6ZX0pLGMucHJldmVudERlZmF1bHQoKSl9ZWxzZSBnKCl9fSk7YSgiLnVpLXBhZ2UiKS5saXZlKCJwYWdlc2hvdy5wcmVmZXRjaCIsZnVuY3Rpb24oKXt2YXIgYj1bXTthKHRoaXMpLmZpbmQoImE6anFtRGF0YShwcmVmZXRjaCkiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKS5hdHRyKCJocmVmIik7YyYmYS5pbkFycmF5KGMsYik9PT0tMSYmKGIucHVzaChjKSxhLm1vYmlsZS5sb2FkUGFnZShjKSl9KX0pO20uYmluZCgiaGFzaGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYj1qLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSxjPWEubW9iaWxlLnVybEhpc3Rvcnkuc3RhY2subGVuZ3RoPT09MD8ibm9uZSI6ZDtpZighYS5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWR8fApuLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW4uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITE7ZWxzZXtpZihuLnN0YWNrLmxlbmd0aD4xJiZiLmluZGV4T2Yodik+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKXt2YXIgZj1mdW5jdGlvbigpe2I9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKS5wYWdlVXJsfTtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6Yixpc0JhY2s6Zixpc0ZvcndhcmQ6Zn0pfWVsc2V7bi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmIsaXNCYWNrOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5mb3J3YXJkKCl9fSk7cmV0dXJufWI/KGI9dHlwZW9mIGI9PT0ic3RyaW5nIiYmIWouaXNQYXRoKGIpPyIjIitiOmIsYS5tb2JpbGUuY2hhbmdlUGFnZShiLHt0cmFuc2l0aW9uOmMsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pKToKYS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246YyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZXNob3ciLGgpO2Eod2luZG93KS5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGgpfX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGMsYixkLGUpe3ZhciBnPW5ldyBhLkRlZmVycmVkLGg9Yj8iIHJldmVyc2UiOiIiLGk9InVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nIHZpZXdwb3J0LSIrYztkLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7ZC5hZGQoZSkucmVtb3ZlQ2xhc3MoIm91dCBpbiByZXZlcnNlICIrYyk7ZSYmZS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO2QucGFyZW50KCkucmVtb3ZlQ2xhc3MoaSk7Zy5yZXNvbHZlKGMsYixkLGUpfSk7ZC5wYXJlbnQoKS5hZGRDbGFzcyhpKTtlJiZlLmFkZENsYXNzKGMrIiBvdXQiK2gpO2QuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKyIgIitjKyIgaW4iK2gpO3JldHVybiBnLnByb21pc2UoKX1hLm1vYmlsZS5jc3MzVHJhbnNpdGlvbkhhbmRsZXI9ZDtpZihhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9PT1hLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXIpYS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPQpkfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzPXtjb2xvcjohMSxkYXRlOiExLGRhdGV0aW1lOiExLCJkYXRldGltZS1sb2NhbCI6ITEsZW1haWw6ITEsbW9udGg6ITEsbnVtYmVyOiExLHJhbmdlOiJudW1iZXIiLHNlYXJjaDohMCx0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX07YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5rZWVwTmF0aXZlPSI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSI7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBlbmhhbmNlIixmdW5jdGlvbihkKXt2YXIgYz1hKGQudGFyZ2V0KS5kYXRhKCJwYWdlIikub3B0aW9uczthKGQudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChjLmtlZXBOYXRpdmUpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGQ9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWMuZGVncmFkZUlucHV0c1tkXXx8InRleHQiOwpjLmRlZ3JhZGVJbnB1dHNbZF0mJmIucmVwbGFjZVdpdGgoYSgiPGRpdj4iKS5odG1sKGIuY2xvbmUoKSkuaHRtbCgpLnJlcGxhY2UoL1xzK3R5cGU9WyInXT9cdytbJyJdPy8sJyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2QrJyIgJykpfSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLHRoZW1lOiJhIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPWMuYXR0cigiY2xhc3MiKS5tYXRjaCgvdWktYm9keS1bYS16XS8pO2IubGVuZ3RoJiZjLnJlbW92ZUNsYXNzKGJbMF0pO2MuYWRkQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpO2MuYXR0cigicm9sZSIsImRpYWxvZyIpLmFkZENsYXNzKCJ1aS1kaWFsb2ciKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IikucHJlcGVuZCgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrCmEubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLmVuZCgpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSw6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1vdmVybGF5LXNoYWRvdyIpO2MuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGI9YShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT0idmNsaWNrIj8iYSI6ImZvcm0iKSxjO2IubGVuZ3RoJiYhYi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixjLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KS5iaW5kKCJwYWdlaGlkZSIsCmZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7ZC5oaXN0b3J5LmJhY2soKX19KTthKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IpLmxpdmUoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coKX0pfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbDthKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikubGl2ZSgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLmRhdGEoInBhZ2UiKS5vcHRpb25zLGM9ZC50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsCnRoaXMpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGY9Yi5qcW1EYXRhKCJyb2xlIiksZT1iLmpxbURhdGEoInRoZW1lIiksZyxoLGk7Yi5hZGRDbGFzcygidWktIitmKTtpZihmPT09ImhlYWRlciJ8fGY9PT0iZm9vdGVyIil7ZT1lfHwoZj09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGM7Yi5hZGRDbGFzcygidWktYmFyLSIrZSk7Yi5hdHRyKCJyb2xlIixmPT09ImhlYWRlciI/ImJhbm5lciI6ImNvbnRlbnRpbmZvIik7Zz1iLmNoaWxkcmVuKCJhIik7aD1nLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpO2k9Zy5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iik7aWYoIWgpaD1nLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aDtpfHxnLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKTtkLmFkZEJhY2tCdG4mJmY9PT0iaGVhZGVyIiYmYSgiLnVpLXBhZ2UiKS5sZW5ndGg+MSYmYi5qcW1EYXRhKCJ1cmwiKSE9PQphLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWgmJihmPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikucHJlcGVuZFRvKGIpLGYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fGUpKTtiLmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7dGFiaW5kZXg6IjAiLHJvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGY9PT0iY29udGVudCImJihiLmFkZENsYXNzKCJ1aS1ib2R5LSIrKGV8fGN8fGQuY29udGVudFRoZW1lKSksYi5hdHRyKCJyb2xlIiwibWFpbiIpKX0pfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5jb2xsYXBzaWJsZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntleHBhbmRDdWVUZXh0OiIgY2xpY2sgdG8gZXhwYW5kIGNvbnRlbnRzIixjb2xsYXBzZUN1ZVRleHQ6IiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsY29sbGFwc2VkOiExLGhlYWRpbmc6Ij46aGVhZGVyLD5sZWdlbmQiLHRoZW1lOm51bGwsaWNvblRoZW1lOiJkIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGI9ZC5hZGRDbGFzcygidWktY29sbGFwc2libGUtY29udGFpbiIpLGY9ZC5maW5kKGMuaGVhZGluZykuZXEoMCksZT1iLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29sbGFwc2libGUtY29udGVudCc+PC9kaXY+IikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiKSxkPWQuY2xvc2VzdCgiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUtc2V0JykiKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtc2V0Iik7CmYuaXMoImxlZ2VuZCIpJiYoZj1hKCI8ZGl2IHJvbGU9J2hlYWRpbmcnPiIrZi5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShmKSxmLm5leHQoKS5yZW1vdmUoKSk7Zi5pbnNlcnRCZWZvcmUoZSkuYWRkQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmciKS5hcHBlbmQoIjxzcGFuIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyc+PC9zcGFuPiIpLndyYXBJbm5lcigiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctdG9nZ2xlJz48L2E+IikuZmluZCgiYTplcSgwKSIpLmJ1dHRvbk1hcmt1cCh7c2hhZG93OiFkLmxlbmd0aCxjb3JuZXJzOiExLGljb25Qb3M6ImxlZnQiLGljb246InBsdXMiLHRoZW1lOmMudGhlbWV9KS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUF0dHIoImNsYXNzIikuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCxpY29uUG9zOiJub3RleHQiLGljb246InBsdXMiLHRoZW1lOmMuaWNvblRoZW1lfSk7CmQubGVuZ3RoP2IuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiZmLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpOmYuZmluZCgiYTplcSgwKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIik7Yi5iaW5kKCJjb2xsYXBzZSIsZnVuY3Rpb24oZCl7IWQuaXNEZWZhdWx0UHJldmVudGVkKCkmJmEoZC50YXJnZXQpLmNsb3Nlc3QoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikuaXMoYikmJihkLnByZXZlbnREZWZhdWx0KCksZi5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKS5maW5kKCIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiKS50ZXh0KGMuZXhwYW5kQ3VlVGV4dCkuZW5kKCkuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1taW51cyIpLmFkZENsYXNzKCJ1aS1pY29uLXBsdXMiKSwKZS5hZGRDbGFzcygidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiKS5hdHRyKCJhcmlhLWhpZGRlbiIsITApLGIuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIpJiZmLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX0pLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYSl7YS5pc0RlZmF1bHRQcmV2ZW50ZWQoKXx8KGEucHJldmVudERlZmF1bHQoKSxmLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYy5jb2xsYXBzZUN1ZVRleHQpLGYuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1wbHVzIikuYWRkQ2xhc3MoInVpLWljb24tbWludXMiKSxlLnJlbW92ZUNsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMSksYi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJgpmLmZpbmQoImE6ZXEoMCksIC51aS1idG4taW5uZXIiKS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSIpKX0pLnRyaWdnZXIoYy5jb2xsYXBzZWQ/ImNvbGxhcHNlIjoiZXhwYW5kIik7ZC5sZW5ndGgmJiFkLmpxbURhdGEoImNvbGxhcHNpYmxlYm91bmQiKSYmKGQuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIsITApLmJpbmQoImV4cGFuZCIsZnVuY3Rpb24oYil7YShiLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS5zaWJsaW5ncygiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS50cmlnZ2VyKCJjb2xsYXBzZSIpfSksZD1kLmNoaWxkcmVuKCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIiksZC5maXJzdCgpLmZpbmQoImE6ZXEoMCkiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLmZpbmQoIi51aS1idG4taW5uZXIiKS5hZGRDbGFzcygidWktY29ybmVyLXRvcCIpLGQubGFzdCgpLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiLCEwKSk7CmYuYmluZCgidmNsaWNrIixmdW5jdGlvbihhKXt2YXIgYz1mLmlzKCIudWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiKT8iZXhwYW5kIjoiY29sbGFwc2UiO2IudHJpZ2dlcihjKTthLnByZXZlbnREZWZhdWx0KCl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShhLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsZC50YXJnZXQpLmNvbGxhcHNpYmxlKCl9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe2EuZm4uZmllbGRjb250YWluPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkQ2xhc3MoInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIpfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YSgiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLGQudGFyZ2V0KS5maWVsZGNvbnRhaW4oKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EuZm4uZ3JpZD1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxiPWEuZXh0ZW5kKHtncmlkOm51bGx9LGQpLGY9Yy5jaGlsZHJlbigpLGU9e3NvbG86MSxhOjIsYjozLGM6NCxkOjV9LGI9Yi5ncmlkO2lmKCFiKWlmKGYubGVuZ3RoPD01KWZvcih2YXIgZyBpbiBlKWVbZ109PT1mLmxlbmd0aCYmKGI9Zyk7ZWxzZSBiPSJhIjtlPWVbYl07Yy5hZGRDbGFzcygidWktZ3JpZC0iK2IpO2YuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZSsibisxKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1hIik7ZT4xJiZmLmZpbHRlcigiOm50aC1jaGlsZCgiK2UrIm4rMikiKS5hZGRDbGFzcygidWktYmxvY2stYiIpO2U+MiYmZi5maWx0ZXIoIjpudGgtY2hpbGQoM24rMykiKS5hZGRDbGFzcygidWktYmxvY2stYyIpO2U+MyYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNG4rNCkiKS5hZGRDbGFzcygidWktYmxvY2stZCIpO2U+NCYmZi5maWx0ZXIoIjpudGgtY2hpbGQoNW4rNSkiKS5hZGRDbGFzcygidWktYmxvY2stZSIpfSl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5uYXZiYXIiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7aWNvbnBvczoidG9wIixncmlkOm51bGwsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSduYXZiYXInKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj1jLmZpbmQoImEiKSxmPWIuZmlsdGVyKCI6anFtRGF0YShpY29uKSIpLmxlbmd0aD90aGlzLm9wdGlvbnMuaWNvbnBvczpkO2MuYWRkQ2xhc3MoInVpLW5hdmJhciIpLmF0dHIoInJvbGUiLCJuYXZpZ2F0aW9uIikuZmluZCgidWwiKS5ncmlkKHtncmlkOnRoaXMub3B0aW9ucy5ncmlkfSk7Znx8Yy5hZGRDbGFzcygidWktbmF2YmFyLW5vaWNvbnMiKTtiLmJ1dHRvbk1hcmt1cCh7Y29ybmVyczohMSxzaGFkb3c6ITEsaWNvbnBvczpmfSk7Yy5kZWxlZ2F0ZSgiYSIsInZjbGljayIsZnVuY3Rpb24oKXtiLm5vdCgiLnVpLXN0YXRlLXBlcnNpc3QiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7CmEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYS5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixjLnRhcmdldCkubmF2YmFyKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXt2YXIgZD17fTthLndpZGdldCgibW9iaWxlLmxpc3R2aWV3IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixjb3VudFRoZW1lOiJjIixoZWFkZXJUaGVtZToiYiIsZGl2aWRlclRoZW1lOiJiIixzcGxpdEljb246ImFycm93LXIiLHNwbGl0VGhlbWU6ImIiLGluc2V0OiExLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nbGlzdHZpZXcnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgYT10aGlzO2EuZWxlbWVudC5hZGRDbGFzcyhmdW5jdGlvbihiLGQpe3JldHVybiBkKyIgdWktbGlzdHZpZXcgIisoYS5vcHRpb25zLmluc2V0PyIgdWktbGlzdHZpZXctaW5zZXQgdWktY29ybmVyLWFsbCB1aS1zaGFkb3cgIjoiIil9KTthLnJlZnJlc2goKX0sX2l0ZW1BcHBseTpmdW5jdGlvbihjLGIpe2IuZmluZCgiLnVpLWxpLWNvdW50IikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iKyhjLmpxbURhdGEoImNvdW50dGhlbWUiKXx8dGhpcy5vcHRpb25zLmNvdW50VGhlbWUpKwoiIHVpLWJ0bi1jb3JuZXItYWxsIikuZW5kKCkuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIj5pbWc6ZXEoMCksIC51aS1saW5rLWluaGVyaXQ+aW1nOmVxKDApIikuYWRkQ2xhc3MoInVpLWxpLXRodW1iIikuZWFjaChmdW5jdGlvbigpe2IuYWRkQ2xhc3MoYSh0aGlzKS5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKX0pLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSl9LF9yZW1vdmVDb3JuZXJzOmZ1bmN0aW9uKGEsYil7YT1hLmFkZChhLmZpbmQoIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iIikpO2I9PT0idG9wIj9hLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiKToKYj09PSJib3R0b20iP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpOmEucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKX0scmVmcmVzaDpmdW5jdGlvbihjKXt0aGlzLnBhcmVudFBhZ2U9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIi51aS1wYWdlIik7dGhpcy5fY3JlYXRlU3ViUGFnZXMoKTt2YXIgYj10aGlzLm9wdGlvbnMsZD10aGlzLmVsZW1lbnQsZT1kLmpxbURhdGEoImRpdmlkZXJ0aGVtZSIpfHxiLmRpdmlkZXJUaGVtZSxnPWQuanFtRGF0YSgic3BsaXR0aGVtZSIpLGg9ZC5qcW1EYXRhKCJzcGxpdGljb24iKSxpPWQuY2hpbGRyZW4oImxpIiksaz1hLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudHx8IWEubm9kZU5hbWUoZFswXSwib2wiKT8wOjEsbCxtLHAsbyxqO2smJmQuZmluZCgiLnVpLWxpLWRlYyIpLnJlbW92ZSgpOwpmb3IodmFyIHE9MCxuPWkubGVuZ3RoO3E8bjtxKyspe2w9aS5lcShxKTttPSJ1aS1saSI7aWYoY3x8IWwuaGFzQ2xhc3MoInVpLWxpIikpcD1sLmpxbURhdGEoInRoZW1lIil8fGIudGhlbWUsbz1sLmNoaWxkcmVuKCJhIiksby5sZW5ndGg/KGo9bC5qcW1EYXRhKCJpY29uIiksbC5idXR0b25NYXJrdXAoe3dyYXBwZXJFbHM6ImRpdiIsc2hhZG93OiExLGNvcm5lcnM6ITEsaWNvbnBvczoicmlnaHQiLGljb246by5sZW5ndGg+MXx8aj09PSExPyExOmp8fCJhcnJvdy1yIix0aGVtZTpwfSksby5maXJzdCgpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxvLmxlbmd0aD4xJiYobSs9IiB1aS1saS1oYXMtYWx0IixvPW8ubGFzdCgpLGo9Z3x8by5qcW1EYXRhKCJ0aGVtZSIpfHxiLnNwbGl0VGhlbWUsby5hcHBlbmRUbyhsKS5hdHRyKCJ0aXRsZSIsby50ZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsY29ybmVyczohMSwKdGhlbWU6cCxpY29uOiExLGljb25wb3M6ITF9KS5maW5kKCIudWktYnRuLWlubmVyIikuYXBwZW5kKGEoIjxzcGFuIC8+IikuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTpqLGljb25wb3M6Im5vdGV4dCIsaWNvbjpofHxvLmpxbURhdGEoImljb24iKXx8Yi5zcGxpdEljb259KSkpKTpsLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiPyhtKz0iIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iK2UsbC5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGsmJihrPTEpKTptKz0iIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrcDtiLmluc2V0JiYocT09PTAmJihtKz0iIHVpLWNvcm5lci10b3AiLGwuYWRkKGwuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLXRyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikuYWRkQ2xhc3MoInVpLWNvcm5lci10bCIpLGwubmV4dCgpLm5leHQoKS5sZW5ndGgmJgp0aGlzLl9yZW1vdmVDb3JuZXJzKGwubmV4dCgpKSkscT09PWkubGVuZ3RoLTEmJihtKz0iIHVpLWNvcm5lci1ib3R0b20iLGwuYWRkKGwuZmluZCgiLnVpLWJ0bi1pbm5lciIpKS5maW5kKCIudWktbGktbGluay1hbHQiKS5hZGRDbGFzcygidWktY29ybmVyLWJyIikuZW5kKCkuZmluZCgiLnVpLWxpLXRodW1iIikuYWRkQ2xhc3MoInVpLWNvcm5lci1ibCIpLGwucHJldigpLnByZXYoKS5sZW5ndGg/dGhpcy5fcmVtb3ZlQ29ybmVycyhsLnByZXYoKSk6bC5wcmV2KCkubGVuZ3RoJiZ0aGlzLl9yZW1vdmVDb3JuZXJzKGwucHJldigpLCJib3R0b20iKSkpO2smJm0uaW5kZXhPZigidWktbGktZGl2aWRlciIpPDAmJihwPWwuaXMoIi51aS1saS1zdGF0aWM6Zmlyc3QiKT9sOmwuZmluZCgiLnVpLWxpbmstaW5oZXJpdCIpLHAuYWRkQ2xhc3MoInVpLWxpLWpzbnVtYmVyaW5nIikucHJlcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWxpLWRlYyc+IitrKysgKyIuIDwvc3Bhbj4iKSk7bC5hZGQobC5jaGlsZHJlbigiLnVpLWJ0bi1pbm5lciIpKS5hZGRDbGFzcyhtKTsKY3x8dGhpcy5faXRlbUFwcGx5KGQsbCl9fSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9Yy5jbG9zZXN0KCIudWktcGFnZSIpLGY9Yi5qcW1EYXRhKCJ1cmwiKSxlPWZ8fGJbMF1bYS5leHBhbmRvXSxnPWMuYXR0cigiaWQiKSxoPXRoaXMub3B0aW9ucyxpPSJkYXRhLSIrYS5tb2JpbGUubnMsaz10aGlzLGw9Yi5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIiksbTt0eXBlb2YgZFtlXT09PSJ1bmRlZmluZWQiJiYoZFtlXT0tMSk7Zz1nfHwrK2RbZV07YShjLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYil7dmFyIGQ9YSh0aGlzKSxlPWQuYXR0cigiaWQiKXx8ZysiLSIrYixiPWQucGFyZW50KCksaz1hKGQucHJldkFsbCgpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLAprPWsubGVuZ3RoP2s6YSgiPHNwYW4+IithLnRyaW0oYi5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxuPWsuZmlyc3QoKS50ZXh0KCksZT0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitlLHg9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxoLnRoZW1lLHo9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGMuanFtRGF0YSgiY291bnR0aGVtZSIpfHxoLmNvdW50VGhlbWU7bT0hMDtkLmRldGFjaCgpLndyYXAoIjxkaXYgIitpKyJyb2xlPSdwYWdlJyAiK2krInVybD0nIitlKyInICIraSsidGhlbWU9JyIreCsiJyAiK2krImNvdW50LXRoZW1lPSciK3orIic+PGRpdiAiK2krInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2krInJvbGU9J2hlYWRlcicgIitpKyJ0aGVtZT0nIitoLmhlYWRlclRoZW1lKyInPjxkaXYgY2xhc3M9J3VpLXRpdGxlJz4iK24rIjwvZGl2PjwvZGl2PiIpLmFmdGVyKGw/YSgiPGRpdiAiKwppKyJyb2xlPSdmb290ZXInICIraSsiaWQ9JyIrbCsiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpO2Q9Yi5maW5kKCJhOmZpcnN0Iik7ZC5sZW5ndGh8fChkPWEoIjxhLz4iKS5odG1sKGt8fG4pLnByZXBlbmRUbyhiLmVtcHR5KCkpKTtkLmF0dHIoImhyZWYiLCIjIitlKX0pLmxpc3R2aWV3KCk7bSYmYi5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PSExJiZiLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihjLGQpe3ZhciBlPWQubmV4dFBhZ2U7ZC5uZXh0UGFnZSYmKGU9ZS5qcW1EYXRhKCJ1cmwiKSxlLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYoay5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksYi5yZW1vdmUoKSkpfSl9LGNoaWxkUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLnBhcmVudFBhZ2UuanFtRGF0YSgidXJsIik7cmV0dXJuIGEoIjpqcW1EYXRhKHVybF49JyIrCmMrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGMudGFyZ2V0KS5saXN0dmlldygpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPSExO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIikubGl2ZSgibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxjPWQuZGF0YSgibGlzdHZpZXciKTtpZihjLm9wdGlvbnMuZmlsdGVyKXt2YXIgYj1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYy5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTthKCI8aW5wdXQ+Iix7cGxhY2Vob2xkZXI6Yy5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0eXBlIiwic2VhcmNoIikuanFtRGF0YSgibGFzdHZhbCIsCiIiKS5iaW5kKCJrZXl1cCBjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKSxjPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxnPW51bGwsZz1iLmpxbURhdGEoImxhc3R2YWwiKSsiIixoPSExLGk9IiI7Yi5qcW1EYXRhKCJsYXN0dmFsIixjKTtjaGFuZ2U9Yy5yZXBsYWNlKFJlZ0V4cCgiXiIrZyksIiIpO2c9Yy5sZW5ndGg8Zy5sZW5ndGh8fGNoYW5nZS5sZW5ndGghPWMubGVuZ3RoLWcubGVuZ3RoP2QuY2hpbGRyZW4oKTpkLmNoaWxkcmVuKCI6bm90KC51aS1zY3JlZW4taGlkZGVuKSIpO2lmKGMpe2Zvcih2YXIgaz1nLmxlbmd0aC0xO2s+PTA7ay0tKWI9YShnW2tdKSxpPWIuanFtRGF0YSgiZmlsdGVydGV4dCIpfHxiLnRleHQoKSxiLmlzKCJsaTpqcW1EYXRhKHJvbGU9bGlzdC1kaXZpZGVyKSIpPyhiLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhaCksaD0hMSk6aS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoYyk9PT0tMT9iLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwKITApOmg9ITA7Zy5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKTtnLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBnLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSl9KS5hcHBlbmRUbyhiKS50ZXh0aW5wdXQoKTthKHRoaXMpLmpxbURhdGEoImluc2V0IikmJmIuYWRkQ2xhc3MoInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIpO2IuYmluZCgic3VibWl0IixmdW5jdGlvbigpe3JldHVybiExfSkuaW5zZXJ0QmVmb3JlKGQpfX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsZC50YXJnZXQpLmFkZENsYXNzKCJ1aS1ub2pzIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZj1iLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgibGFiZWwiKS5maWx0ZXIoIltmb3I9JyIrYlswXS5pZCsiJ10iKSxlPWIuYXR0cigidHlwZSIpLGc9ZSsiLW9uIixoPWUrIi1vZmYiLGk9Yi5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/ZDpoO2lmKCEoZSE9PSJjaGVja2JveCImJmUhPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZixpbnB1dHR5cGU6ZSxjaGVja2VkQ2xhc3M6InVpLSIrZysoaT8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLAp1bmNoZWNrZWRDbGFzczoidWktIitoLGNoZWNrZWRpY29uOiJ1aS1pY29uLSIrZyx1bmNoZWNrZWRpY29uOiJ1aS1pY29uLSIraH0pO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuZWxlbWVudC5qcW1EYXRhKCJ0aGVtZSIpO2YuYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjppLHNoYWRvdzohMX0pO2IuYWRkKGYpLndyYXBBbGwoIjxkaXYgY2xhc3M9J3VpLSIrZSsiJz48L2Rpdj4iKTtmLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oKXtpZihhKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSlyZXR1cm4hMX0sdmNsaWNrOmZ1bmN0aW9uKGEpe2lmKGIuaXMoIjpkaXNhYmxlZCIpKWEucHJldmVudERlZmF1bHQoKTtlbHNlIHJldHVybiBjLl9jYWNoZVZhbHMoKSxiLnByb3AoImNoZWNrZWQiLGU9PT0icmFkaW8iJiYhMHx8IWIucHJvcCgiY2hlY2tlZCIpKSxjLl9nZXRJbnB1dFNldCgpLm5vdChiKS5wcm9wKCJjaGVja2VkIiwKITEpLGMuX3VwZGF0ZUFsbCgpLCExfX0pO2IuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe3RoaXMuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuaXMoIjpjaGVja2VkIik/KGIucHJvcCgiY2hlY2tlZCIsITApLGMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLCExKSk6Yi5wcm9wKCJjaGVja2VkIiwhMSk7Yy5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcygidWktZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9fSk7dGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmpxbURhdGEoImNhY2hlVmFsIixjLmlzKCI6Y2hlY2tlZCIpKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlucHV0dHlwZT09ImNoZWNrYm94IilyZXR1cm4gdGhpcy5lbGVtZW50OwpyZXR1cm4gdGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnQuYXR0cigibmFtZSIpKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGM9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpOyhiLmlzKCI6Y2hlY2tlZCIpfHxjLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZiLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9dGhpcy5sYWJlbCxkPWIuZmluZCgiLnVpLWljb24iKTthKGNbMF0pLnByb3AoImNoZWNrZWQiKT8oYi5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksZC5hZGRDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKToKKGIucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLGQucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkaWNvbikuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk7Yy5pcygiOmRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YShhLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixjLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmNoZWNrYm94cmFkaW8oKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczt0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpLnRleHQoZC50ZXh0KCl8fGQudmFsKCkpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy50aGVtZSxpY29uOmMuaWNvbixpY29ucG9zOmMuaWNvbnBvcyxpbmxpbmU6Yy5pbmxpbmUsY29ybmVyczpjLmNvcm5lcnMsc2hhZG93OmMuc2hhZG93LGljb25zaGFkb3c6Yy5pY29uc2hhZG93fSkuaW5zZXJ0QmVmb3JlKGQpLmFwcGVuZChkLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpOwpjPWQuYXR0cigidHlwZSIpO2MhPT0iYnV0dG9uIiYmYyE9PSJyZXNldCImJmQuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe3ZhciBiPWEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6ZC5hdHRyKCJuYW1lIiksdmFsdWU6ZC5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGQpO2EoZG9jdW1lbnQpLnN1Ym1pdChmdW5jdGlvbigpe2IucmVtb3ZlKCl9KX0pO3RoaXMucmVmcmVzaCgpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCiEwKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoYS5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZj1iLnBhcmVudHMoIltjbGFzcyo9J3VpLWJhci0nXSxbY2xhc3MqPSd1aS1ib2R5LSddIikuZXEoMCksZj1mLmxlbmd0aD9mLmF0dHIoImNsYXNzIikubWF0Y2goL3VpLShiYXJ8Ym9keSktKFthLXpdKS8pWzJdOiJjIixlPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ZixnPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOmYsaD1iWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZj1oPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6CiIiLGk9Yi5hdHRyKCJpZCIpLGs9aSsiLWxhYmVsIixpPWEoIltmb3I9JyIraSsiJ10iKS5hdHRyKCJpZCIsayksbD1mdW5jdGlvbigpe3JldHVybiBoPT0iaW5wdXQiP3BhcnNlRmxvYXQoYi52YWwoKSk6YlswXS5zZWxlY3RlZEluZGV4fSxtPWg9PSJpbnB1dCI/cGFyc2VGbG9hdChiLmF0dHIoIm1pbiIpKTowLHA9aD09ImlucHV0Ij9wYXJzZUZsb2F0KGIuYXR0cigibWF4IikpOmIuZmluZCgib3B0aW9uIikubGVuZ3RoLTEsbz13aW5kb3cucGFyc2VGbG9hdChiLmF0dHIoInN0ZXAiKXx8MSksaj1hKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgIitmKyIgdWktYnRuLWRvd24tIitnKyIgdWktYnRuLWNvcm5lci1hbGwnIHJvbGU9J2FwcGxpY2F0aW9uJz48L2Rpdj4iKSxxPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1zbGlkZXItaGFuZGxlJz48L2E+IikuYXBwZW5kVG8oaikuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmUsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwKImFyaWEtdmFsdWVtaW4iOm0sImFyaWEtdmFsdWVtYXgiOnAsImFyaWEtdmFsdWVub3ciOmwoKSwiYXJpYS12YWx1ZXRleHQiOmwoKSx0aXRsZTpsKCksImFyaWEtbGFiZWxsZWRieSI6a30pO2EuZXh0ZW5kKHRoaXMse3NsaWRlcjpqLGhhbmRsZTpxLGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGx9KTtoPT0ic2VsZWN0IiYmKGoud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItaW5uZXJvZmZzZXQnPjwvZGl2PiIpLGIuZmluZCgib3B0aW9uIiksYi5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBjPSFiPyJiIjoiYSIsZD0hYj8icmlnaHQiOiJsZWZ0IixiPSFiPyIgdWktYnRuLWRvd24tIitnOiIgdWktYnRuLWFjdGl2ZSI7YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctIitjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJz48L2Rpdj4iKS5wcmVwZW5kVG8oaik7YSgiPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIisKYytiKyIgdWktYnRuLWNvcm5lci0iK2QrIicgcm9sZT0naW1nJz4iK2EodGhpcykudGV4dCgpKyI8L3NwYW4+IikucHJlcGVuZFRvKHEpfSkpO2kuYWRkQ2xhc3MoInVpLXNsaWRlciIpO2IuYWRkQ2xhc3MoaD09PSJpbnB1dCI/InVpLXNsaWRlci1pbnB1dCI6InVpLXNsaWRlci1zd2l0Y2giKS5jaGFuZ2UoZnVuY3Rpb24oKXtjLnJlZnJlc2gobCgpLCEwKX0pLmtleXVwKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKGwoKSwhMCwhMCl9KS5ibHVyKGZ1bmN0aW9uKCl7Yy5yZWZyZXNoKGwoKSwhMCl9KTthKGRvY3VtZW50KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbihhKXtpZihjLmRyYWdnaW5nKXJldHVybiBjLnJlZnJlc2goYSksITF9KTtqLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2MuZHJhZ2dpbmc9ITA7aWYoaD09PSJzZWxlY3QiKWMuYmVmb3JlU3RhcnQ9YlswXS5zZWxlY3RlZEluZGV4O2MucmVmcmVzaChhKTtyZXR1cm4hMX0pO2ouYWRkKGRvY3VtZW50KS5iaW5kKCJ2bW91c2V1cCIsCmZ1bmN0aW9uKCl7aWYoYy5kcmFnZ2luZyl7Yy5kcmFnZ2luZz0hMTtpZihoPT09InNlbGVjdCIpe2MuYmVmb3JlU3RhcnQ9PT1iWzBdLnNlbGVjdGVkSW5kZXgmJmMucmVmcmVzaCghYy5iZWZvcmVTdGFydD8xOjApO3ZhciBhPWwoKSxhPU1hdGgucm91bmQoYS8ocC1tKSoxMDApO3EuYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKS5jc3MoImxlZnQiLGErIiUiKS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe3EucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKX0pfXJldHVybiExfX0pO2ouaW5zZXJ0QWZ0ZXIoYik7dGhpcy5oYW5kbGUuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXthKHRoaXMpLmZvY3VzKCl9KS5iaW5kKCJ2Y2xpY2siLCExKTt0aGlzLmhhbmRsZS5iaW5kKCJrZXlkb3duIixmdW5jdGlvbihiKXt2YXIgZD1sKCk7aWYoIWMub3B0aW9ucy5kaXNhYmxlZCl7c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6aWYoYi5wcmV2ZW50RGVmYXVsdCgpLAohYy5fa2V5U2xpZGluZyljLl9rZXlTbGlkaW5nPSEwLGEodGhpcykuYWRkQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfXN3aXRjaChiLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmMucmVmcmVzaChtKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmMucmVmcmVzaChwKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmMucmVmcmVzaChkK28pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkRPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkxFRlQ6Yy5yZWZyZXNoKGQtbyl9fX0pLmtleXVwKGZ1bmN0aW9uKCl7aWYoYy5fa2V5U2xpZGluZyljLl9rZXlTbGlkaW5nPSExLGEodGhpcykucmVtb3ZlQ2xhc3MoInVpLXN0YXRlLWFjdGl2ZSIpfSk7dGhpcy5yZWZyZXNoKGQsZCwhMCl9LHJlZnJlc2g6ZnVuY3Rpb24oYSwKYixkKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkKXt2YXIgZT10aGlzLmVsZW1lbnQsZz1lWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksaD1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUuYXR0cigibWluIikpOjAsaT1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUuYXR0cigibWF4IikpOmUuZmluZCgib3B0aW9uIikubGVuZ3RoLTE7aWYodHlwZW9mIGE9PT0ib2JqZWN0Iil7aWYoIXRoaXMuZHJhZ2dpbmd8fGEucGFnZVg8dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdC04fHxhLnBhZ2VYPnRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQrdGhpcy5zbGlkZXIud2lkdGgoKSs4KXJldHVybjthPU1hdGgucm91bmQoKGEucGFnZVgtdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCkvdGhpcy5zbGlkZXIud2lkdGgoKSoxMDApfWVsc2UgYT09bnVsbCYmKGE9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChlLnZhbCgpKTplWzBdLnNlbGVjdGVkSW5kZXgpLGE9KHBhcnNlRmxvYXQoYSktaCkvKGktaCkqCjEwMDtpZighaXNOYU4oYSkpe2E8MCYmKGE9MCk7YT4xMDAmJihhPTEwMCk7dmFyIGs9TWF0aC5yb3VuZChhLzEwMCooaS1oKSkraDtrPGgmJihrPWgpO2s+aSYmKGs9aSk7dGhpcy5oYW5kbGUuY3NzKCJsZWZ0IixhKyIlIik7dGhpcy5oYW5kbGUuYXR0cih7ImFyaWEtdmFsdWVub3ciOmc9PT0iaW5wdXQiP2s6ZS5maW5kKCJvcHRpb24iKS5lcShrKS5hdHRyKCJ2YWx1ZSIpLCJhcmlhLXZhbHVldGV4dCI6Zz09PSJpbnB1dCI/azplLmZpbmQoIm9wdGlvbiIpLmVxKGspLnRleHQoKSx0aXRsZTprfSk7Zz09PSJzZWxlY3QiJiYoaz09PTA/dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYSIpLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKTp0aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1iIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYSIpKTtpZighZClnPT09ImlucHV0Ij9lLnZhbChrKTplWzBdLnNlbGVjdGVkSW5kZXg9CmssYnx8ZS50cmlnZ2VyKCJjaGFuZ2UiKX19fSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKTt0aGlzLnNsaWRlci5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApO3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITApfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKGEubW9iaWxlLnNsaWRlci5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYy50YXJnZXQpLm5vdCgiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5zbGlkZXIoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUudGV4dGlucHV0IixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSd0ZXh0J10sIGlucHV0W3R5cGU9J3NlYXJjaCddLCA6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSwgaW5wdXRbdHlwZT0nbnVtYmVyJ10sIDpqcW1EYXRhKHR5cGU9J251bWJlcicpLCBpbnB1dFt0eXBlPSdwYXNzd29yZCddLCBpbnB1dFt0eXBlPSdlbWFpbCddLCBpbnB1dFt0eXBlPSd1cmwnXSwgaW5wdXRbdHlwZT0ndGVsJ10sIHRleHRhcmVhIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBpO3ZhciBkPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9ucyxiPWMudGhlbWUsZixlO2J8fChiPXRoaXMuZWxlbWVudC5jbG9zZXN0KCJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIpLGk9KGI9Yi5sZW5ndGgmJi91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoYi5hdHRyKCJjbGFzcyIpKSkmJgpiWzJdfHwiYyIsYj1pKTtiPSIgdWktYm9keS0iK2I7YSgibGFiZWxbZm9yPSciK2QuYXR0cigiaWQiKSsiJ10iKS5hZGRDbGFzcygidWktaW5wdXQtdGV4dCIpO2QuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQgdWktYm9keS0iK2MudGhlbWUpO2Y9ZDt0eXBlb2YgZFswXS5hdXRvY29ycmVjdCE9PSJ1bmRlZmluZWQiJiYoZFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb3JyZWN0Iiwib2ZmIiksZFswXS5zZXRBdHRyaWJ1dGUoImF1dG9jb21wbGV0ZSIsIm9mZiIpKTtkLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT8oZj1kLndyYXAoIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIitiKyInPjwvZGl2PiIpLnBhcmVudCgpLGU9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWlucHV0LWNsZWFyJyB0aXRsZT0nY2xlYXIgdGV4dCc+Y2xlYXIgdGV4dDwvYT4iKS50YXAoZnVuY3Rpb24oYSl7ZC52YWwoIiIpLmZvY3VzKCk7CmQudHJpZ2dlcigiY2hhbmdlIik7ZS5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIik7YS5wcmV2ZW50RGVmYXVsdCgpfSkuYXBwZW5kVG8oZikuYnV0dG9uTWFya3VwKHtpY29uOiJkZWxldGUiLGljb25wb3M6Im5vdGV4dCIsY29ybmVyczohMCxzaGFkb3c6ITB9KSxjPWZ1bmN0aW9uKCl7ZC52YWwoKT9lLnJlbW92ZUNsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTplLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKX0sYygpLGQua2V5dXAoYykuZm9jdXMoYykpOmQuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IitiKTtkLmZvY3VzKGZ1bmN0aW9uKCl7Zi5hZGRDbGFzcygidWktZm9jdXMiKX0pLmJsdXIoZnVuY3Rpb24oKXtmLnJlbW92ZUNsYXNzKCJ1aS1mb2N1cyIpfSk7aWYoZC5pcygidGV4dGFyZWEiKSl7dmFyIGc9ZnVuY3Rpb24oKXt2YXIgYT1kWzBdLnNjcm9sbEhlaWdodDtkWzBdLmNsaWVudEhlaWdodDxhJiZkLmNzcyh7aGVpZ2h0OmErCjE1fSl9LGg7ZC5rZXl1cChmdW5jdGlvbigpe2NsZWFyVGltZW91dChoKTtoPXNldFRpbWVvdXQoZywxMDApfSl9fSxkaXNhYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5hZGRDbGFzcygidWktZGlzYWJsZWQiKX0sZW5hYmxlOmZ1bmN0aW9uKCl7KHRoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpLmlzKCJbdHlwZT0nc2VhcmNoJ10sOmpxbURhdGEodHlwZT0nc2VhcmNoJykiKT90aGlzLmVsZW1lbnQucGFyZW50KCk6dGhpcy5lbGVtZW50KS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShhLm1vYmlsZS50ZXh0aW5wdXQucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGQudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikudGV4dGlucHV0KCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnNlbGVjdG1lbnUiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpY29uOiJhcnJvdy1kIixpY29ucG9zOiJyaWdodCIsaW5saW5lOm51bGwsY29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCxtZW51UGFnZVRoZW1lOiJiIixvdmVybGF5VGhlbWU6ImEiLGhpZGVQbGFjZWhvbGRlck1lbnVJdGVtczohMCxjbG9zZVRleHQ6IkNsb3NlIixuYXRpdmVNZW51OiEwLGluaXRTZWxlY3Rvcjoic2VsZWN0Om5vdCg6anFtRGF0YShyb2xlPSdzbGlkZXInKSkifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPXRoaXMub3B0aW9ucyxiPXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QnPiIpLGY9Yi5hdHRyKCJpZCIpLGU9YSgibGFiZWxbZm9yPSciK2YrIiddIikuYWRkQ2xhc3MoInVpLXNlbGVjdCIpLGc9YlswXS5zZWxlY3RlZEluZGV4PT0tMT8wOmJbMF0uc2VsZWN0ZWRJbmRleCwKaD0oZC5vcHRpb25zLm5hdGl2ZU1lbnU/YSgiPGRpdi8+Iik6YSgiPGE+Iix7aHJlZjoiIyIscm9sZToiYnV0dG9uIixpZDpsLCJhcmlhLWhhc3BvcHVwIjoidHJ1ZSIsImFyaWEtb3ducyI6bX0pKS50ZXh0KGEoYlswXS5vcHRpb25zLml0ZW0oZykpLnRleHQoKSkuaW5zZXJ0QmVmb3JlKGIpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yy50aGVtZSxpY29uOmMuaWNvbixpY29ucG9zOmMuaWNvbnBvcyxpbmxpbmU6Yy5pbmxpbmUsY29ybmVyczpjLmNvcm5lcnMsc2hhZG93OmMuc2hhZG93LGljb25zaGFkb3c6Yy5pY29uc2hhZG93fSksaT1kLmlzTXVsdGlwbGU9YlswXS5tdWx0aXBsZTtjLm5hdGl2ZU1lbnUmJndpbmRvdy5vcGVyYSYmd2luZG93Lm9wZXJhLnZlcnNpb24mJmIuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5Iik7aWYoIWMubmF0aXZlTWVudSl7dmFyIGs9Yi5maW5kKCJvcHRpb24iKSxsPWYrIi1idXR0b24iLG09ZisiLW1lbnUiLHA9Yi5jbG9zZXN0KCIudWktcGFnZSIpLApnPS91aS1idG4tdXAtKFthLXpdKS8uZXhlYyhoLmF0dHIoImNsYXNzIikpWzFdLG89YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2RpYWxvZycgZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZT0nIitjLm1lbnVQYWdlVGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZS50ZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksaj1vLmZpbmQoIi51aS1jb250ZW50Iik7by5maW5kKCIudWktaGVhZGVyIGEiKTt2YXIgcT1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSkuYXBwZW5kVG8ocCksbj1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUgdWktc2VsZWN0bWVudS1oaWRkZW4gdWktb3ZlcmxheS1zaGFkb3cgdWktY29ybmVyLWFsbCB1aS1ib2R5LSIrCmMub3ZlcmxheVRoZW1lKyIgIithLm1vYmlsZS5kZWZhdWx0RGlhbG9nVHJhbnNpdGlvbn0pLmluc2VydEFmdGVyKHEpLHg9YSgiPHVsPiIseyJjbGFzcyI6InVpLXNlbGVjdG1lbnUtbGlzdCIsaWQ6bSxyb2xlOiJsaXN0Ym94IiwiYXJpYS1sYWJlbGxlZGJ5IjpsfSkuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZykuYXBwZW5kVG8obiksej1hKCI8ZGl2PiIseyJjbGFzcyI6InVpLWhlYWRlciB1aS1iYXItIitnfSkucHJlcGVuZFRvKG4pLHQ9YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKHopLHY9YSgiPGE+Iix7dGV4dDpjLmNsb3NlVGV4dCxocmVmOiIjIiwiY2xhc3MiOiJ1aS1idG4tbGVmdCJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyh6KS5idXR0b25NYXJrdXAoKX1pZihpKWQuYnV0dG9uQ291bnQ9YSgiPHNwYW4+IikuYWRkQ2xhc3MoInVpLWxpLWNvdW50IHVpLWJ0bi11cC1jIHVpLWJ0bi1jb3JuZXItYWxsIikuaGlkZSgpLmFwcGVuZFRvKGgpOwpjLmRpc2FibGVkJiZ0aGlzLmRpc2FibGUoKTtiLmNoYW5nZShmdW5jdGlvbigpe2QucmVmcmVzaCgpfSk7YS5leHRlbmQoZCx7c2VsZWN0OmIsb3B0aW9uRWxlbXM6ayxzZWxlY3RJRDpmLGxhYmVsOmUsYnV0dG9uSWQ6bCxtZW51SWQ6bSx0aGlzUGFnZTpwLGJ1dHRvbjpoLG1lbnVQYWdlOm8sbWVudVBhZ2VDb250ZW50Omosc2NyZWVuOnEsbGlzdGJveDpuLGxpc3Q6eCxtZW51VHlwZTp2b2lkIDAsaGVhZGVyOnosaGVhZGVyQ2xvc2U6dixoZWFkZXJUaXRsZTp0LHBsYWNlaG9sZGVyOiIifSk7Yy5uYXRpdmVNZW51P2IuYXBwZW5kVG8oaCkuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXtoLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7aC50cmlnZ2VyKCJ2bW91c2VvdmVyIil9KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbigpe2gucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IiwKZnVuY3Rpb24oKXtoLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pOihkLnJlZnJlc2goKSxiLmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpO2guZm9jdXMoKX0pLGguYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGIpe2lmKGIudHlwZT09InZjbGljayJ8fGIua2V5Q29kZSYmKGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGIua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKWQub3BlbigpLGIucHJldmVudERlZmF1bHQoKX0pLHguYXR0cigicm9sZSIsImxpc3Rib3giKS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c2luIixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCIwIil9KS5kZWxlZ2F0ZSgiLnVpLWxpPmEiLCJmb2N1c291dCIsZnVuY3Rpb24oKXthKHRoaXMpLmF0dHIoInRhYmluZGV4IiwiLTEiKX0pLmRlbGVnYXRlKCJsaTpub3QoLnVpLWRpc2FibGVkLCAudWktbGktZGl2aWRlcikiLAoidmNsaWNrIixmdW5jdGlvbihjKXt2YXIgZT1hKHRoaXMpLGY9YlswXS5zZWxlY3RlZEluZGV4LGc9ZS5qcW1EYXRhKCJvcHRpb24taW5kZXgiKSxoPWQub3B0aW9uRWxlbXNbZ107aC5zZWxlY3RlZD1pPyFoLnNlbGVjdGVkOiEwO2kmJmUuZmluZCgiLnVpLWljb24iKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIsaC5zZWxlY3RlZCkudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb2ZmIiwhaC5zZWxlY3RlZCk7KGl8fGYhPT1nKSYmYi50cmlnZ2VyKCJjaGFuZ2UiKTtpfHxkLmNsb3NlKCk7Yy5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBiPWQucHJldigpLGIubGVuZ3RoJiYoYy5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGIuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gYj0KZC5uZXh0KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigidmNsaWNrIiksITF9fSksZC5tZW51UGFnZS5iaW5kKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXtkLmxpc3QuYXBwZW5kVG8oZC5saXN0Ym94KTtkLl9mb2N1c0J1dHRvbigpfSkscS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7ZC5jbG9zZSgpfSksZC5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGQubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gZC5jbG9zZSgpLCExfSkpfSxfYnVpbGRMaXN0OmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcyxjPXRoaXMub3B0aW9ucyxiPXRoaXMucGxhY2Vob2xkZXIsZj1bXSxlPVtdLGc9ZC5pc011bHRpcGxlPyJjaGVja2JveC1vZmYiOiJmYWxzZSI7ZC5saXN0LmVtcHR5KCkuZmlsdGVyKCIudWktbGlzdHZpZXciKS5saXN0dmlldygiZGVzdHJveSIpOwpkLnNlbGVjdC5maW5kKCJvcHRpb24iKS5lYWNoKGZ1bmN0aW9uKGgpe3ZhciBpPWEodGhpcyksaz1pLnBhcmVudCgpLGw9aS50ZXh0KCksbT0iPGEgaHJlZj0nIyc+IitsKyI8L2E+IixwPVtdLG89W107ay5pcygib3B0Z3JvdXAiKSYmKGs9ay5hdHRyKCJsYWJlbCIpLGEuaW5BcnJheShrLGYpPT09LTEmJihlLnB1c2goIjxsaSBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2xpc3QtZGl2aWRlcic+IitrKyI8L2xpPiIpLGYucHVzaChrKSkpO2lmKCF0aGlzLmdldEF0dHJpYnV0ZSgidmFsdWUiKXx8bC5sZW5ndGg9PTB8fGkuanFtRGF0YSgicGxhY2Vob2xkZXIiKSljLmhpZGVQbGFjZWhvbGRlck1lbnVJdGVtcyYmcC5wdXNoKCJ1aS1zZWxlY3RtZW51LXBsYWNlaG9sZGVyIiksYj1kLnBsYWNlaG9sZGVyPWw7dGhpcy5kaXNhYmxlZCYmKHAucHVzaCgidWktZGlzYWJsZWQiKSxvLnB1c2goImFyaWEtZGlzYWJsZWQ9J3RydWUnIikpO2UucHVzaCgiPGxpIGRhdGEtIithLm1vYmlsZS5ucysKIm9wdGlvbi1pbmRleD0nIitoKyInIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nIitnKyInIGNsYXNzPSciK3Auam9pbigiICIpKyInICIrby5qb2luKCIgIikrIj4iK20rIjwvbGk+Iil9KTtkLmxpc3QuaHRtbChlLmpvaW4oIiAiKSk7ZC5saXN0LmZpbmQoImxpIikuYXR0cih7cm9sZToib3B0aW9uIix0YWJpbmRleDoiLTEifSkuZmlyc3QoKS5hdHRyKCJ0YWJpbmRleCIsIjAiKTt0aGlzLmlzTXVsdGlwbGV8fHRoaXMuaGVhZGVyQ2xvc2UuaGlkZSgpOyF0aGlzLmlzTXVsdGlwbGUmJiFiLmxlbmd0aD90aGlzLmhlYWRlci5oaWRlKCk6dGhpcy5oZWFkZXJUaXRsZS50ZXh0KHRoaXMucGxhY2Vob2xkZXIpO2QubGlzdC5saXN0dmlldygpfSxyZWZyZXNoOmZ1bmN0aW9uKGQpe3ZhciBjPXRoaXMsYj10aGlzLmVsZW1lbnQsZj10aGlzLmlzTXVsdGlwbGUsZT10aGlzLm9wdGlvbkVsZW1zPWIuZmluZCgib3B0aW9uIiksZz1lLmZpbHRlcigiOnNlbGVjdGVkIiksaD1nLm1hcChmdW5jdGlvbigpe3JldHVybiBlLmluZGV4KHRoaXMpfSkuZ2V0KCk7CiFjLm9wdGlvbnMubmF0aXZlTWVudSYmKGR8fGJbMF0ub3B0aW9ucy5sZW5ndGghPWMubGlzdC5maW5kKCJsaSIpLmxlbmd0aCkmJmMuX2J1aWxkTGlzdCgpO2MuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLnRleHQoZnVuY3Rpb24oKXtpZighZilyZXR1cm4gZy50ZXh0KCk7cmV0dXJuIGcubGVuZ3RoP2cubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpjLnBsYWNlaG9sZGVyfSk7ZiYmYy5idXR0b25Db3VudFtnLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChnLmxlbmd0aCk7Yy5vcHRpb25zLm5hdGl2ZU1lbnV8fGMubGlzdC5maW5kKCJsaTpub3QoLnVpLWxpLWRpdmlkZXIpIikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCExKS5lYWNoKGZ1bmN0aW9uKGIpe2EuaW5BcnJheShiLGgpPi0xJiYoYj1hKHRoaXMpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSwKYi5maW5kKCJhIikuYXR0cigiYXJpYS1zZWxlY3RlZCIsITApLGYmJmIuZmluZCgiLnVpLWljb24iKS5yZW1vdmVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiKS5hZGRDbGFzcygidWktaWNvbi1jaGVja2JveC1vbiIpKX0pfSxvcGVuOmZ1bmN0aW9uKCl7ZnVuY3Rpb24gZCgpe2MubGlzdC5maW5kKCIudWktYnRuLWFjdGl2ZSIpLmZvY3VzKCl9aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmIXRoaXMub3B0aW9ucy5uYXRpdmVNZW51KXt2YXIgYz10aGlzLGI9Yy5saXN0LnBhcmVudCgpLm91dGVySGVpZ2h0KCksZj1jLmxpc3QucGFyZW50KCkub3V0ZXJXaWR0aCgpLGU9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGc9Yy5idXR0b24ub2Zmc2V0KCkudG9wLGg9d2luZG93LmlubmVySGVpZ2h0LGk9d2luZG93LmlubmVyV2lkdGg7Yy5idXR0b24uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9LAozMDApO2lmKGI+aC04MHx8IWEuc3VwcG9ydC5zY3JvbGxUb3Ape2MudGhpc1BhZ2UudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKTtpZihlPT0wJiZnPmgpYy50aGlzUGFnZS5vbmUoInBhZ2VoaWRlIixmdW5jdGlvbigpe2EodGhpcykuanFtRGF0YSgibGFzdFNjcm9sbCIsZyl9KTtjLm1lbnVQYWdlLm9uZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7YSh3aW5kb3cpLm9uZSgic2lsZW50c2Nyb2xsIixmdW5jdGlvbigpe2QoKX0pO2MuaXNPcGVuPSEwfSk7Yy5tZW51VHlwZT0icGFnZSI7Yy5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGMubGlzdCk7YS5tb2JpbGUuY2hhbmdlUGFnZShjLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtjLm1lbnVUeXBlPSJvdmVybGF5IjtjLnNjcmVlbi5oZWlnaHQoYShkb2N1bWVudCkuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7dmFyIGs9Zy1lLGw9ZStoLWcsbT0KYi8yLHA9cGFyc2VGbG9hdChjLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksYj1rPmIvMiYmbD5iLzI/ZytjLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItbTprPmw/ZStoLWItMzA6ZSszMDtmPHA/cD0oaS1mKS8yOihwPWMuYnV0dG9uLm9mZnNldCgpLmxlZnQrYy5idXR0b24ub3V0ZXJXaWR0aCgpLzItZi8yLHA8MzA/cD0zMDpwK2Y+aSYmKHA9aS1mLTMwKSk7Yy5saXN0Ym94LmFwcGVuZChjLmxpc3QpLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLmNzcyh7dG9wOmIsbGVmdDpwfSkuYWRkQ2xhc3MoImluIik7ZCgpO2MuaXNPcGVuPSEwfX19LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sY2xvc2U6ZnVuY3Rpb24oKXtpZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiZ0aGlzLmlzT3BlbiYmIXRoaXMub3B0aW9ucy5uYXRpdmVNZW51KXRoaXMubWVudVR5cGU9PQoicGFnZSI/KHRoaXMudGhpc1BhZ2UuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlKCl9KSx3aW5kb3cuaGlzdG9yeS5iYWNrKCkpOih0aGlzLnNjcmVlbi5hZGRDbGFzcygidWktc2NyZWVuLWhpZGRlbiIpLHRoaXMubGlzdGJveC5hZGRDbGFzcygidWktc2VsZWN0bWVudS1oaWRkZW4iKS5yZW1vdmVBdHRyKCJzdHlsZSIpLnJlbW92ZUNsYXNzKCJpbiIpLHRoaXMubGlzdC5hcHBlbmRUbyh0aGlzLmxpc3Rib3gpLHRoaXMuX2ZvY3VzQnV0dG9uKCkpLHRoaXMuaXNPcGVuPSExfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLAohMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShhLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLnNlbGVjdG1lbnUoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYil7Zm9yKDtiOyl7dmFyIGM9YShiKTtpZihjLmhhc0NsYXNzKCJ1aS1idG4iKSYmIWMuaGFzQ2xhc3MoInVpLWRpc2FibGVkIikpYnJlYWs7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGJ9YS5mbi5idXR0b25NYXJrdXA9ZnVuY3Rpb24oYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1hLmV4dGVuZCh7fSxhLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cyxkLmpxbURhdGEoKSxiKSxnPSJ1aS1idG4taW5uZXIiLGgsaTtjJiZjKCk7aWYoIWUudGhlbWUpaD1kLmNsb3Nlc3QoIltjbGFzcyo9J3VpLWJhci0nXSxbY2xhc3MqPSd1aS1ib2R5LSddIiksZS50aGVtZT1oLmxlbmd0aD8vdWktKGJhcnxib2R5KS0oW2Etel0pLy5leGVjKGguYXR0cigiY2xhc3MiKSlbMl06ImMiO2g9InVpLWJ0biB1aS1idG4tdXAtIitlLnRoZW1lO2UuaW5saW5lJiYoaCs9IiB1aS1idG4taW5saW5lIik7aWYoZS5pY29uKWUuaWNvbj0idWktaWNvbi0iKwplLmljb24sZS5pY29ucG9zPWUuaWNvbnBvc3x8ImxlZnQiLGk9InVpLWljb24gIitlLmljb24sZS5pY29uc2hhZG93JiYoaSs9IiB1aS1pY29uLXNoYWRvdyIpO2UuaWNvbnBvcyYmKGgrPSIgdWktYnRuLWljb24tIitlLmljb25wb3MsZS5pY29ucG9zPT0ibm90ZXh0IiYmIWQuYXR0cigidGl0bGUiKSYmZC5hdHRyKCJ0aXRsZSIsZC50ZXh0KCkpKTtlLmNvcm5lcnMmJihoKz0iIHVpLWJ0bi1jb3JuZXItYWxsIixnKz0iIHVpLWJ0bi1jb3JuZXItYWxsIik7ZS5zaGFkb3cmJihoKz0iIHVpLXNoYWRvdyIpO2QuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZS50aGVtZSkuYWRkQ2xhc3MoaCk7ZT0oIjxEIGNsYXNzPSciK2crIic+PEQgY2xhc3M9J3VpLWJ0bi10ZXh0Jz48L0Q+IisoZS5pY29uPyI8c3BhbiBjbGFzcz0nIitpKyInPjwvc3Bhbj4iOiIiKSsiPC9EPiIpLnJlcGxhY2UoL0QvZyxlLndyYXBwZXJFbHMpO2Qud3JhcElubmVyKGUpfSl9O2EuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzPQp7Y29ybmVyczohMCxzaGFkb3c6ITAsaWNvbnNoYWRvdzohMCx3cmFwcGVyRWxzOiJzcGFuIn07dmFyIGM9ZnVuY3Rpb24oKXthKGRvY3VtZW50KS5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKGIpe3ZhciBiPWQoYi50YXJnZXQpLGM7YiYmKGI9YShiKSxjPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGIucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4tZG93bi0iK2MpKX0sInZtb3VzZWNhbmNlbCB2bW91c2V1cCI6ZnVuY3Rpb24oYil7dmFyIGI9ZChiLnRhcmdldCksYztiJiYoYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksYi5yZW1vdmVDbGFzcygidWktYnRuLWRvd24tIitjKS5hZGRDbGFzcygidWktYnRuLXVwLSIrYykpfSwidm1vdXNlb3ZlciBmb2N1cyI6ZnVuY3Rpb24oYil7dmFyIGI9ZChiLnRhcmdldCksYztiJiYoYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksCmIucmVtb3ZlQ2xhc3MoInVpLWJ0bi11cC0iK2MpLmFkZENsYXNzKCJ1aS1idG4taG92ZXItIitjKSl9LCJ2bW91c2VvdXQgYmx1ciI6ZnVuY3Rpb24oYil7dmFyIGI9ZChiLnRhcmdldCksYztiJiYoYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksYi5yZW1vdmVDbGFzcygidWktYnRuLWhvdmVyLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2MpKX19KTtjPW51bGx9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShyb2xlPSdidXR0b24nKSwgLnVpLWJhciA+IGEsIC51aS1oZWFkZXIgPiBhLCAudWktZm9vdGVyID4gYSwgLnVpLWJhciA+IDpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpID4gYSIsYi50YXJnZXQpLm5vdCgiLnVpLWJ0biwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5idXR0b25NYXJrdXAoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EuZm4uY29udHJvbGdyb3VwPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEpe2EucmVtb3ZlQ2xhc3MoInVpLWJ0bi1jb3JuZXItYWxsIHVpLXNoYWRvdyIpLmVxKDApLmFkZENsYXNzKGdbMF0pLmVuZCgpLmZpbHRlcigiOmxhc3QiKS5hZGRDbGFzcyhnWzFdKS5hZGRDbGFzcygidWktY29udHJvbGdyb3VwLWxhc3QiKX12YXIgYj1hKHRoaXMpLGY9YS5leHRlbmQoe2RpcmVjdGlvbjpiLmpxbURhdGEoInR5cGUiKXx8InZlcnRpY2FsIixzaGFkb3c6ITEsZXhjbHVkZUludmlzaWJsZTohMH0sZCksZT1iLmZpbmQoIj5sZWdlbmQiKSxnPWYuZGlyZWN0aW9uPT0iaG9yaXpvbnRhbCI/WyJ1aS1jb3JuZXItbGVmdCIsInVpLWNvcm5lci1yaWdodCJdOlsidWktY29ybmVyLXRvcCIsInVpLWNvcm5lci1ib3R0b20iXTtiLmZpbmQoImlucHV0OmVxKDApIikuYXR0cigidHlwZSIpO2UubGVuZ3RoJiYoYi53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1jb250cm9scyc+PC9kaXY+IiksCmEoIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IitlLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGIuY2hpbGRyZW4oMCkpLGUucmVtb3ZlKCkpO2IuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iK2YuZGlyZWN0aW9uKTtjKGIuZmluZCgiLnVpLWJ0biIrKGYuZXhjbHVkZUludmlzaWJsZT8iOnZpc2libGUiOiIiKSkpO2MoYi5maW5kKCIudWktYnRuLWlubmVyIikpO2Yuc2hhZG93JiZiLmFkZENsYXNzKCJ1aS1zaGFkb3ciKX0pfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YSgiOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykiLGQudGFyZ2V0KS5jb250cm9sZ3JvdXAoe2V4Y2x1ZGVJbnZpc2libGU6ITF9KX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoZC50YXJnZXQpLmZpbmQoImEiKS5ub3QoIi51aS1idG4sIC51aS1saW5rLWluaGVyaXQsIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYWRkQ2xhc3MoInVpLWxpbmsiKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS5mbi5maXhIZWFkZXJGb290ZXI9ZnVuY3Rpb24oKXtpZighYS5zdXBwb3J0LnNjcm9sbFRvcClyZXR1cm4gdGhpcztyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYy5hZGRDbGFzcygidWktcGFnZS1mdWxsc2NyZWVuIik7Yy5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIik7Yy5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX07YS5tb2JpbGUuZml4ZWRUb29sYmFycz1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoKXshaSYmaD09PSJvdmVybGF5IiYmKGd8fGEubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSghMCksYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpKX0KZnVuY3Rpb24gYihhKXt2YXIgYj0wLGMsZDtpZihhKXtkPWRvY3VtZW50LmJvZHk7Yz1hLm9mZnNldFBhcmVudDtmb3IoYj1hLm9mZnNldFRvcDthJiZhIT1kOyl7Yis9YS5zY3JvbGxUb3B8fDA7aWYoYT09YyliKz1jLm9mZnNldFRvcCxjPWEub2Zmc2V0UGFyZW50O2E9YS5wYXJlbnROb2RlfX1yZXR1cm4gYn1mdW5jdGlvbiBmKGMpe3ZhciBkPWEod2luZG93KS5zY3JvbGxUb3AoKSxlPWIoY1swXSksZj1jLmNzcygidG9wIik9PSJhdXRvIj8wOnBhcnNlRmxvYXQoYy5jc3MoInRvcCIpKSxnPXdpbmRvdy5pbm5lckhlaWdodCxoPWMub3V0ZXJIZWlnaHQoKSxpPWMucGFyZW50cygiLnVpLXBhZ2U6bm90KC51aS1wYWdlLWZ1bGxzY3JlZW4pIikubGVuZ3RoO3JldHVybiBjLmlzKCIudWktaGVhZGVyLWZpeGVkIik/KGY9ZC1lK2YsZjxlJiYoZj0wKSxjLmNzcygidG9wIixpP2Y6ZCkpOmMuY3NzKCJ0b3AiLGk/ZCtnLWgtKGUtZik6ZCtnLWgpfWlmKGEuc3VwcG9ydC5zY3JvbGxUb3Ape3ZhciBlLApnLGg9ImlubGluZSIsaT0hMSxrPW51bGwsbD0hMSxtPSEwO2EoZnVuY3Rpb24oKXt2YXIgYj1hKGRvY3VtZW50KSxkPWEod2luZG93KTtiLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7bSYmKGs9aCl9KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe20mJiFhKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYhbCYmKGEubW9iaWxlLmZpeGVkVG9vbGJhcnMudG9nZ2xlKGspLGs9bnVsbCl9KS5iaW5kKCJzaWxlbnRzY3JvbGwiLGMpOyhiLnNjcm9sbFRvcCgpPT09MD9kOmIpLmJpbmQoInNjcm9sbHN0YXJ0IixmdW5jdGlvbigpe2w9ITA7az09PW51bGwmJihrPWgpO3ZhciBiPWs9PSJvdmVybGF5IjtpZihpPWJ8fCEhZylhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCksYiYmYS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCEwKX0pLmJpbmQoInNjcm9sbHN0b3AiLApmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RofHwobD0hMSxpJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpLGk9ITEpLGs9bnVsbCl9KTtkLmJpbmQoInJlc2l6ZSIsYyl9KTthKCIudWktcGFnZSIpLmxpdmUoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbihiLGMpe3ZhciBkPWEoYi50YXJnZXQpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksZz1kLmRhdGEoImlkIiksaD1jLnByZXZQYWdlLGg9aCYmaC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGg9aC5sZW5ndGgmJmguanFtRGF0YSgiaWQiKT09PWc7ZyYmaCYmKGU9ZCxmKGUucmVtb3ZlQ2xhc3MoImZhZGUgaW4gb3V0IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikpKX0pLmxpdmUoInBhZ2VzaG93IixmdW5jdGlvbigpe3ZhciBiPQphKHRoaXMpO2UmJmUubGVuZ3RoJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihlLmFwcGVuZFRvKGIpLmFkZENsYXNzKCJmYWRlIikpO2U9bnVsbH0sNTAwKTthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coITAsdGhpcyl9KTthKCIudWktY29sbGFwc2libGUtY29udGFpbiIpLmxpdmUoImNvbGxhcHNlIGV4cGFuZCIsYyk7cmV0dXJue3Nob3c6ZnVuY3Rpb24oYyxkKXthLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7aD0ib3ZlcmxheSI7cmV0dXJuKGQ/YShkKTphLm1vYmlsZS5hY3RpdmVQYWdlP2EubW9iaWxlLmFjdGl2ZVBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGc9YihkWzBdKSxoPXdpbmRvdy5pbm5lckhlaWdodCwKaT1kLm91dGVySGVpZ2h0KCksZT1kLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmU8PWcraXx8ZC5pcygiLnVpLWZvb3Rlci1maXhlZCIpJiZnPD1lK2g7ZC5hZGRDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKTshZSYmIWMmJmQuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJpbiIpfSkuYWRkQ2xhc3MoImluIik7ZihkKX0pfSxoaWRlOmZ1bmN0aW9uKGIpe2g9ImlubGluZSI7cmV0dXJuKGEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmNzcygidG9wIiksZD1kPT0iYXV0byI/MDpwYXJzZUZsb2F0KGQpO2MuYWRkQ2xhc3MoInVpLWZpeGVkLWlubGluZSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1vdmVybGF5Iik7CmlmKGQ8MHx8Yy5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZkIT09MCliP2MuY3NzKCJ0b3AiLDApOmMuY3NzKCJ0b3AiKSE9PSJhdXRvIiYmcGFyc2VGbG9hdChjLmNzcygidG9wIikpIT09MCYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoIm91dCByZXZlcnNlIikuY3NzKCJ0b3AiLDApfSkuYWRkQ2xhc3MoIm91dCByZXZlcnNlIil9KX0sc3RhcnRTaG93VGltZXI6ZnVuY3Rpb24oKXthLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2c9c2V0VGltZW91dChmdW5jdGlvbigpe2c9ZDthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3cuYXBwbHkobnVsbCxiKX0sMTAwKX0sY2xlYXJTaG93VGltZXI6ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyk7Zz1kfSx0b2dnbGU6ZnVuY3Rpb24oYil7YiYmKGg9Yik7cmV0dXJuIGg9PT0ib3ZlcmxheSI/YS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCk6CmEubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdygpfSxzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6ZnVuY3Rpb24oYSl7bT1hfX19fSgpO2EuZml4ZWRUb29sYmFycz1hLm1vYmlsZS5maXhlZFRvb2xiYXJzO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKCI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIsYy50YXJnZXQpLmxlbmd0aCYmYShjLnRhcmdldCkuZWFjaChmdW5jdGlvbigpe2lmKCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXJldHVybiB0aGlzO3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmIuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2IuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpO2IuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBkKCl7dmFyIGQ9Yy53aWR0aCgpLGc9W10saD1bXSxpO2IucmVtb3ZlQ2xhc3MoIm1pbi13aWR0aC0iK2Yuam9pbigicHggbWluLXdpZHRoLSIpKyJweCBtYXgtd2lkdGgtIitmLmpvaW4oInB4IG1heC13aWR0aC0iKSsicHgiKTthLmVhY2goZixmdW5jdGlvbihhLGIpe2Q+PWImJmcucHVzaCgibWluLXdpZHRoLSIrYisicHgiKTtkPD1iJiZoLnB1c2goIm1heC13aWR0aC0iK2IrInB4Iil9KTtnLmxlbmd0aCYmKGk9Zy5qb2luKCIgIikpO2gubGVuZ3RoJiYoaSs9IiAiK2guam9pbigiICIpKTtiLmFkZENsYXNzKGkpfXZhciBjPWEod2luZG93KSxiPWEoImh0bWwiKSxmPVszMjAsNDgwLDc2OCwxMDI0XTthLm1vYmlsZS5hZGRSZXNvbHV0aW9uQnJlYWtwb2ludHM9ZnVuY3Rpb24oYil7YS50eXBlKGIpPT09ImFycmF5Ij9mPWYuY29uY2F0KGIpOmYucHVzaChiKTtmLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS1ifSk7ZCgpfTthKGRvY3VtZW50KS5iaW5kKCJtb2JpbGVpbml0Lmh0bWxjbGFzcyIsCmZ1bmN0aW9uKCl7Yy5iaW5kKCJvcmllbnRhdGlvbmNoYW5nZS5odG1sY2xhc3MgdGhyb3R0bGVkUmVzaXplLmh0bWxjbGFzcyIsZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbiYmYi5yZW1vdmVDbGFzcygicG9ydHJhaXQgbGFuZHNjYXBlIikuYWRkQ2xhc3MoYS5vcmllbnRhdGlvbik7ZCgpfSl9KTthKGZ1bmN0aW9uKCl7Yy50cmlnZ2VyKCJvcmllbnRhdGlvbmNoYW5nZS5odG1sY2xhc3MiKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7dmFyIGM9YSgiaHRtbCIpO2EoImhlYWQiKTt2YXIgYj1hKGQpO2EoZC5kb2N1bWVudCkudHJpZ2dlcigibW9iaWxlaW5pdCIpO2lmKGEubW9iaWxlLmdyYWRlQSgpKXtpZihhLm1vYmlsZS5hamF4QmxhY2tsaXN0KWEubW9iaWxlLmFqYXhFbmFibGVkPSExO2MuYWRkQ2xhc3MoInVpLW1vYmlsZSB1aS1tb2JpbGUtcmVuZGVyaW5nIik7dmFyIGY9YSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLWJvZHktYSB1aS1jb3JuZXItYWxsJz48c3BhbiBjbGFzcz0ndWktaWNvbiB1aS1pY29uLWxvYWRpbmcgc3Bpbic+PC9zcGFuPjxoMT48L2gxPjwvZGl2PiIpO2EuZXh0ZW5kKGEubW9iaWxlLHtzaG93UGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtpZihhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSl7dmFyIGI9YSgiLiIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZpcnN0KCk7Zi5maW5kKCJoMSIpLnRleHQoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2UpLmVuZCgpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLmNzcyh7dG9wOmEuc3VwcG9ydC5zY3JvbGxUb3AmJgphKGQpLnNjcm9sbFRvcCgpK2EoZCkuaGVpZ2h0KCkvMnx8Yi5sZW5ndGgmJmIub2Zmc2V0KCkudG9wfHwxMDB9KX1jLmFkZENsYXNzKCJ1aS1sb2FkaW5nIil9LGhpZGVQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoInVpLWxvYWRpbmciKX0scGFnZUxvYWRpbmc6ZnVuY3Rpb24oYil7Yj9hLm1vYmlsZS5oaWRlUGFnZUxvYWRpbmdNc2coKTphLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0saW5pdGlhbGl6ZVBhZ2U6ZnVuY3Rpb24oKXt2YXIgYz1hKCI6anFtRGF0YShyb2xlPSdwYWdlJykiKTtjLmxlbmd0aHx8KGM9YSgiYm9keSIpLndyYXBJbm5lcigiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPjwvZGl2PiIpLmNoaWxkcmVuKDApKTtjLmFkZCgiOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoInVybCIpfHxiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIiwKYi5hdHRyKCJpZCIpKX0pO2EubW9iaWxlLmZpcnN0UGFnZT1jLmZpcnN0KCk7YS5tb2JpbGUucGFnZUNvbnRhaW5lcj1jLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOyFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8IWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpP2EubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KTpiLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFshMF0pfX0pO2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCk7YShmdW5jdGlvbigpe2Quc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShkKS5zY3JvbGxUb3AoKT09PTE/MDoxO2EubW9iaWxlLmF1dG9Jbml0aWFsaXplUGFnZSYmCmEoYS5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UpO2IubG9hZChhLm1vYmlsZS5zaWxlbnRTY3JvbGwpfSl9fSkoalF1ZXJ5LHRoaXMpOwovKgpUaGlzIGFwcHJhb2NoIGFsbG93cyBjb2xvcnMgdG8gYmUgc3RvcmVkIGFzIGNvbnN0YW50cwoqLwp2YXIgYmx1ZSwgZmlyc3RfY2xpY2tfY29sb3IsIHJlZCwgc2Vjb25kX2NsaWNrX2NvbG9yLCB5ZWxsb3c7CmJsdWUgPSAiIzVFODdCMCI7CnllbGxvdyA9ICIjRjdDOTQyIjsKZmlyc3RfY2xpY2tfY29sb3IgPSB5ZWxsb3c7CnNlY29uZF9jbGlja19jb2xvciA9IGJsdWU7CnJlZCA9ICJyZWQiOwokKCJoZWFkIikuYXBwZW5kKCIgIDxzdHlsZT4gICAgc3Bhbi50aW1lci1zZWNvbmRzeyAgICAgIGZsb2F0OnJpZ2h0OyAgICAgIG1hcmdpbi1yaWdodDoxMHB4OyAgICAgIG1hcmdpbi10b3A6NXB4OyAgICAgIGZvbnQtc2l6ZTogbGFyZ2U7ICAgIH0gICAgLmNvbnRyb2xzLmZsYXNoeyAgICAgIGNvbG9yOiBibGFjazsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAiICsgcmVkICsgIjsgICAgfSAgICAuZmxhc2ggeyAgICAgIGNvbG9yOiAiICsgcmVkICsgIjsgICAgfSAgICAjSW5pdGlhbFNvdW5kIC51aS1jb250cm9sZ3JvdXAtbGFiZWx7ICAgICAgZm9udC1zaXplOiB4LWxhcmdlOyAgICB9ICAgICNQaG9uZW1lcyBsZWdlbmR7ICAgICAgZm9udC1zaXplOiB4LWxhcmdlOyAgICB9ICAgIC5ncmlkeyAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsgICAgICBmbG9hdDogbGVmdDsgICAgICB3aWR0aDogNTBweDsgICAgICBoZWlnaHQ6IDUwcHg7ICAgICAgbWFyZ2luOiAxMHB4OyAgICAgIGJvcmRlcjogM3B4IG91dHNldCBncmF5OyAgICAgIGJhY2tncm91bmQtY29sb3I6IGxpZ2h0Z3JheTsgICAgICBjb2xvcjogbGlnaHRncmF5OyAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgLWtodG1sLXVzZXItc2VsZWN0OiBub25lOyAgICAgIC1tb3otdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7ICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7ICAgIH0gICAgLmdyaWQuc2hvd3sgICAgICBjb2xvcjogYmxhY2s7ICAgIH0gICAgLmdyaWQgc3BhbnsgICAgICBmb250LXNpemU6IDUwcHg7ICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsgICAgfSAgICAuZ3JpZC5zZWxlY3RlZHsgICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsgICAgICBjb2xvcjogd2hpdGU7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogIiArIGJsdWUgKyAiOyAgICB9ICAgIC5ncmlkLmxhc3QtYXR0ZW1wdGVkeyAgICAgIGNvbG9yOiByZWQ7ICAgICAgYm9yZGVyLXJpZ2h0LWNvbG9yOiByZWQ7ICAgICAgYm9yZGVyLXRvcC1jb2xvcjogcmVkOyAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHJlZDsgICAgICBib3JkZXItc3R5bGU6IHNvbGlkOyAgICB9ICAgIEBtZWRpYSBzY3JlZW4gYW5kIChvcmllbnRhdGlvbjpwb3J0cmFpdCl7ICAgICAgIC5ncmlkLXdpZHRoeyAgICAgICAgd2lkdGg6IDQ0MHB4OyAgICAgIH0gICAgfSAgICBAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246bGFuZHNjYXBlKSB7ICAgICAgLmdyaWQtd2lkdGh7ICAgICAgICB3aWR0aDogODIwcHg7ICAgICAgfSAgICAgIC50b2dnbGUtcm93LXBvcnRyYWl0eyAgICAgICAgZGlzcGxheTogbm9uZTsgICAgICB9ICAgIH0gICAgLnRvZ2dsZS1yb3d7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogIiArIGJsdWUgKyAiOyAgICAgIHdpZHRoOiAzMHB4OyAgICAgIGhlaWdodDogMzBweDsgICAgICBtYXJnaW4tdG9wOiAyMnB4OyAgICB9ICAgICAgPC9zdHlsZT4gICIpOw==", "content_type": "application/javascript"}, "images/form-check-off.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAA3NCSVQICAjb4U/gAAAAQlBMVEX///+tra2np6eZmZmQj5CPkI+GhoZ8fHxxcXBmZmZaWlpPT09OT05PTk9OTk9EREQ6OjozMzMnJycfHx8ZGRkTExMVEC93AAAAFnRSTlMAIiIiIiIiIiIiIiIiIiIiIiIiIiIioV7xxAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAVdEVYdENyZWF0aW9uIFRpbWUAOC8yMC8xMElbDgwAAABWSURBVBiVddFHDoAwDAXRAA4t9HL/qzJWdvnkWbKl2TqEf2/B2yOItyBegngK4iGIuyCmbPG1MmkjzoI4CeIoiIMg9oJoZjH6ygfEThBbUYuhKVR+8QFBJQ0sPBh5JwAAAABJRU5ErkJggg==", "content_type": "image/png"}, "images/icons-36-white.png": {"data": "iVBORw0KGgoAAAANSUhEUgAABFwAAAAkBAMAAABGaTNFAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX///////////////////////////////////////////////////////////////9Or7hAAAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMC8xNi8xMNNnoNMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAFnUlEQVR4nO1aQYtbVRRO8jJp3qSDFbpRwpgfUDvjyoKYjhpw0UXcuTNxpSgl1U2hLmZ0ISNFpvoDfF0IXUZxo0SIrStBiLhVCFpcCEpaqu2Mk+R477vJ6CTm+47mZVC8H8ME8k7uPe/e737nnHtvKuXh4eHh4eHh4eHh4cFwQmGTYQb3J+CIx38A6S8URuUrpJEvNaTz+FdD5BY3KgqhgkHQ22ONXFf6RPE8N1n6mNucnPomaCl+lhBy68lZHQ3SF2K6vMLsykKoYJATzKl0R27+DdcQMrvcZlXqzCQvP0x+lZX9f+TRYQSv2/8PkoluqIZDZ5UUzpTQ0+KepUvYJ1EiW+nJVdZTpSG/oeenZFhJaKWEQx7WIvmOmTRkqp1k6FK2A5ru4InOyVAxHDqrpJDu7IKRNQv+isjtiESJl0R6MsAd5ToyFPlqtkGmZw3ex62IjP4w1uQCsUgFIlSCmiIbE18lQpegZwe0SCY6FI3aNoSrZHLIi2zNfnpcRoDycsrZACqYEerGNoBTp10rH0J3lXSJsDMWBdMXW5ab0yaJ0KVgB9QsRfkAmkUK4TAR/i7tL5yKqRN4ef3PHwBVGQAmhGO6oMzErJUY36N+nnM2IEiM6DKALuvoklGMYeNepolny67/qfdOhC6WKdeLZBHq5EUlLpE8A5/nXD852l26K7/gjhxQjroqcu1FIx4lYGMizY8X3xaULpg57l+8JDju6ehi5G6IB8i8+K1UlXLqhY3Jb5LJXSxVOuRVUxp5UYmLiSB3oEHV9fMXqdp0S1fR82XHFpiiRnLDKszXyKYg/ZIpn/aROw/b1fY4zygIHr3ciX3+ZnsDWOVNvVdVJMSH8Fir9akMW63W1hz+WaQ7NMJbGHkhYSTSiItRIE2WRKiXXY95BXzObl8W+TzTlP72mzONMjaclcm7nzUryVCKFdLWaIhsFBgLIl68a5YuKG2LMVGpVcctoyh20D1quMj8czDvAlUy1IhLzvaFw0wsYySunb5rY9GvwCJvc4kTqRXzMVuCc9bjMnn3HVNi6LbpduAAKYLRQb4FCdyM6YI12jh0WOqSo4uVFyou8bug+dGKy7CpkBciLsbj+jKORZYuu+5jNl3yctukuz/hd2/bkkh1CLAGl7wmdxnLCyJwVmK6kDxksjI6crrkcJGR6upqp5s0aTbysompZ5rYreHkRkWXQly0PpKuPAFaatvfq44Y75ubLqFCXI6bfOzbNlub7Yl9l5OVytPSr1TgbmKSwahBNsJXVLWToRRLmuMxg3HN1b/QRBWMlt2Z0jFYYrXV9cT8dBnJC5yMzdGU4o3dSbqkkqqMlKkuExeNvORiRinkha2dMpNVl+reIKlu3mUAITyJjERbhNT4hizDQzETUAqUNktl+Jawjd2F0UVZSPNNFb41MyqSI1IkF2jSbOVlWMI2ikI661bAmnwGjBq0CBmjDfdvVHB0qQMLK5t3TFZNNnYXRRflNp1mU4VuzYSOTyFrqkvvFBh5uUe9cUBNde3M2MQZ2KwqCr4YeTwdqmDkMtItYHFWbKpbY+q6KLooDwE0O7ZcXt5zdIpIUyv0SsES81d3CFCTvVLqvPRRQ8dE3mDuWARNvMusossmrV7aNg7FCQRk8aLoojtiVO3Yqg6WEkKNCb/qiNFyqstI3lQdrwZEFXR02ZHBJXjiGcTvFKf68Bx9YbmL6gJDqDpr1lklgiUmQLoLDDYHYBx/QLBsOGRZeFTRpT2op86hzDs4KHYxXaJpuqQrT8G+dQji+2bselSkCuA6q0SwwQxU16OWjLbIO6Sl8zq67FOXOH6um3/nUHdntsd4FTWEj+sXjrCenNXRQHf5MnjtE3459tmPeHfBtSTisNsvfHL+hrKtd+dv5H8G1dVuDw8PDw8PDw8PDw8PDw8Pjz/wO033ekvubhagAAAAAElFTkSuQmCC", "content_type": "image/png"}, "models/scorer.js": {"data": "dmFyIFNjb3JlcjsKU2NvcmVyID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIFNjb3JlcigpIHt9CiAgU2NvcmVyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbigpIHsKICAgIHZhciBjb21wbGV0ZWQsIGVsZW1lbnQsIHdyb25nLCBfaSwgX2xlbiwgX3JlZjsKICAgIGNvbXBsZXRlZCA9IHdyb25nID0gMDsKICAgIF9yZWYgPSAkKCcudWktcGFnZS1hY3RpdmUgLnVpLWNoZWNrYm94IGxhYmVsLnVpLWJ0bicpOwogICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgIGVsZW1lbnQgPSBfcmVmW19pXTsKICAgICAgZWxlbWVudCA9ICQoZWxlbWVudCk7CiAgICAgIGlmIChlbGVtZW50LmlzKCcuZmlyc3RfY2xpY2snKSkgewogICAgICAgIHdyb25nKys7CiAgICAgIH0KICAgICAgY29tcGxldGVkKys7CiAgICAgIGlmIChlbGVtZW50LmlzKCcuc2Vjb25kX2NsaWNrJykpIHsKICAgICAgICBicmVhazsKICAgICAgfQogICAgfQogICAgJCgnI2NvbXBsZXRlZCcpLmh0bWwoY29tcGxldGVkKTsKICAgIHJldHVybiAkKCcjd3JvbmcnKS5odG1sKHdyb25nKTsKICB9OwogIFNjb3Jlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24oKSB7CiAgICB0aGlzLmlkID0gInNjb3JlciI7CiAgICBzZXRJbnRlcnZhbCh0aGlzLnVwZGF0ZSwgNTAwKTsKICAgIHJldHVybiBNdXN0YWNoZS50b19odG1sKHRoaXMuX3RlbXBsYXRlKCksIHRoaXMpOwogIH07CiAgU2NvcmVyLnByb3RvdHlwZS5fdGVtcGxhdGUgPSBmdW5jdGlvbigpIHsKICAgIHJldHVybiAiPGRpdiBjbGFzcz0nc2NvcmVyJz4gIDxzbWFsbD4gIENvbXBsZXRlZDo8c3BhbiBpZD0nY29tcGxldGVkJz48L3NwYW4+ICBXcm9uZzo8c3BhbiBpZD0nd3JvbmcnPjwvc3Bhbj4gIDwvc21hbGw+PC9kaXY+IjsKICB9OwogIHJldHVybiBTY29yZXI7Cn0pKCk7", "content_type": "application/javascript"}, "tests/testData/Assessment.TEST EGRA Prototype": {"data": "ewogICJuYW1lIjogIlRFU1QgRUdSQSBQcm90b3R5cGUiLAogICJfaWQiOiAiQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwKICAidXJsUGF0aHNGb3JQYWdlcyI6IFsKICAgICJBc3Nlc3NtZW50LlRFU1QgRUdSQSBQcm90b3R5cGUuTG9naW4iLAogICAgIkFzc2Vzc21lbnQuVEVTVCBFR1JBIFByb3RvdHlwZS5EYXRlVGltZSIsCiAgICAiQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLlNjaG9vbCIsCiAgICAiQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLkluc3RydWN0aW9ucyIsCiAgICAiQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLlN0dWRlbnRJbmZvcm1hdGlvbiIsCiAgICAiQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLkxldHRlcnMiLAogICAgIkFzc2Vzc21lbnQuVEVTVCBFR1JBIFByb3RvdHlwZS5SZXN1bHRzIgogIF0KfQo=", "content_type": ""}, "tests/tests.js": {"data": "dmFyIENvdWNoREI7CkNvdWNoREIgPSAoZnVuY3Rpb24oKSB7CiAgZnVuY3Rpb24gQ291Y2hEQigpIHt9CiAgcmV0dXJuIENvdWNoREI7Cn0pKCk7CkNvdWNoREJbImRlbGV0ZSJdID0gZnVuY3Rpb24oZG9jdW1lbnRzKSB7CiAgdmFyIGNvdWNoZGJfdXJsLCBkb2N1bWVudCwgX2ksIF9sZW4sIF9yZXN1bHRzOwogIF9yZXN1bHRzID0gW107CiAgZm9yIChfaSA9IDAsIF9sZW4gPSBkb2N1bWVudHMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHsKICAgIGRvY3VtZW50ID0gZG9jdW1lbnRzW19pXTsKICAgIGRvY3VtZW50LnVybFBhdGggPSBkb2N1bWVudC51cmxQYXRoLnN1YnN0cmluZyhkb2N1bWVudC51cmxQYXRoLmluZGV4T2YoIi8iKSArIDEpOwogICAgY291Y2hkYl91cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyBkb2N1bWVudC51cmxQYXRoOwogICAgX3Jlc3VsdHMucHVzaCgkLmFqYXgoewogICAgICB1cmw6IGNvdWNoZGJfdXJsLAogICAgICB0eXBlOiAnR0VUJywKICAgICAgZGF0YVR5cGU6ICdqc29uJywKICAgICAgYXN5bmM6IGZhbHNlLAogICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgICBjb3VjaGRiX3VybCA9ICIiICsgY291Y2hkYl91cmwgKyAiP3Jldj0iICsgcmVzdWx0Ll9yZXY7CiAgICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgICB1cmw6IGNvdWNoZGJfdXJsLAogICAgICAgICAgZGF0YTogewogICAgICAgICAgICByZXY6IHJlc3VsdC5fcmV2CiAgICAgICAgICB9LAogICAgICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgICAgICBhc3luYzogZmFsc2UsCiAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCJEZWxldGVkICIgKyBjb3VjaGRiX3VybCk7CiAgICAgICAgICB9LAogICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coIk5vdGhpbmcgdG8gZGVsZXRlIGF0ICIgKyBjb3VjaGRiX3VybCk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pKTsKICB9CiAgcmV0dXJuIF9yZXN1bHRzOwp9OwokKGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpIHsKICBtb2R1bGUoIkVHUkEiKTsKICBRVW5pdC50ZXN0U3RhcnQgPSBmdW5jdGlvbihuYW1lKSB7CiAgICBjb25zb2xlLmxvZygiKioiICsgbmFtZSArICIqKiIpOwogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5jbGVhcigpOwogIH07CiAgdGVzdCgiSlF1ZXJ5TW9iaWxlUGFnZSIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGFub3RoZXJKcXVlcnlNb2JpbGVQYWdlLCBleHBlY3RlZF9yZXN1bHQsIGpxdWVyeU1vYmlsZVBhZ2U7CiAgICBleHBlY3QoMyk7CiAgICBqcXVlcnlNb2JpbGVQYWdlID0gbmV3IEpRdWVyeU1vYmlsZVBhZ2UoKTsKICAgIGpxdWVyeU1vYmlsZVBhZ2UucGFnZUlkID0gInBhZ2VJZCI7CiAgICBqcXVlcnlNb2JpbGVQYWdlLmZvb3RlciA9ICJmb290ZXJfdGV4dCI7CiAgICBqcXVlcnlNb2JpbGVQYWdlLmhlYWRlciA9ICJoZWFkZXIiOwogICAganF1ZXJ5TW9iaWxlUGFnZS5jb250ZW50ID0gImNvbnRlbnQiOwogICAgZXhwZWN0ZWRfcmVzdWx0ID0gIjxkaXYgZGF0YS1yb2xlPSdwYWdlJyBpZD0ncGFnZUlkJz4gIDxkaXYgZGF0YS1yb2xlPSdoZWFkZXInPiAgICBoZWFkZXIgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICBjb250ZW50ICA8L2Rpdj48IS0tIC9jb250ZW50IC0tPiAgPGRpdiBkYXRhLXJvbGU9J2Zvb3Rlcic+ICAgIGZvb3Rlcl90ZXh0ICA8L2Rpdj48IS0tIC9oZWFkZXIgLS0+PC9kaXY+PCEtLSAvcGFnZSAtLT4iOwogICAgZXF1YWxzKGpxdWVyeU1vYmlsZVBhZ2UucmVuZGVyKCksIGV4cGVjdGVkX3Jlc3VsdCk7CiAgICBlcXVhbHMoanF1ZXJ5TW9iaWxlUGFnZS50b0pTT04oKSwgewogICAgICBwYWdlSWQ6ICJwYWdlSWQiLAogICAgICBwYWdlVHlwZTogIkpRdWVyeU1vYmlsZVBhZ2UiLAogICAgICB1cmxQYXRoOiB2b2lkIDAsCiAgICAgIHVybFNjaGVtZTogdm9pZCAwCiAgICB9KTsKICAgIGFub3RoZXJKcXVlcnlNb2JpbGVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShqcXVlcnlNb2JpbGVQYWdlLnRvSlNPTigpKTsKICAgIHJldHVybiBlcXVhbHMoYW5vdGhlckpxdWVyeU1vYmlsZVBhZ2UudG9KU09OKCksIHsKICAgICAgcGFnZUlkOiAicGFnZUlkIiwKICAgICAgcGFnZVR5cGU6ICJKUXVlcnlNb2JpbGVQYWdlIiwKICAgICAgdXJsUGF0aDogdm9pZCAwLAogICAgICB1cmxTY2hlbWU6IHZvaWQgMAogICAgfSk7CiAgfSk7CiAgdGVzdCgiRGF0ZVRpbWVQYWdlIiwgZnVuY3Rpb24oKSB7CiAgICB2YXIgYW5vdGhlckRhdGVUaW1lUGFnZSwgZGF0ZVRpbWVQYWdlLCBleHBlY3RlZF9yZXN1bHQ7CiAgICBleHBlY3QoMyk7CiAgICBkYXRlVGltZVBhZ2UgPSBuZXcgRGF0ZVRpbWVQYWdlKCk7CiAgICBkYXRlVGltZVBhZ2UucGFnZUlkID0gInBhZ2VJZCI7CiAgICBleHBlY3RlZF9yZXN1bHQgPSAiICAgIDxkaXYgZGF0YS1yb2xlPSdwYWdlJyBpZD0ncGFnZUlkJz4gICAgICAgIDxkaXYgZGF0YS1yb2xlPSdoZWFkZXInPiAgICAgICAgPGEgaHJlZj0nIyc+PC9hPiAgICAgICAgPGgxPnBhZ2VJZDwvaDE+ICAgICAgICAgPC9kaXY+PCEtLSAvaGVhZGVyIC0tPiAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2NvbnRlbnQnPiAgICAgICAgPGZvcm0+ICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPiAgICAgICAgICAgIDxsYWJlbCBmb3I9J3llYXInPlllYXI6PC9sYWJlbD4gICAgICAgICAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSd5ZWFyJyBpZD0neWVhcicgLz4gICAgICAgICAgICA8bGFiZWwgZm9yPSdtb250aCc+TW9udGg6PC9sYWJlbD4gICAgICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nbW9udGgnIGlkPSdtb250aCcgLz4gICAgICAgICAgICA8bGFiZWwgZm9yPSdkYXknPkRheTo8L2xhYmVsPiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J2RhdGUnIGlkPSdkYXRlJyAvPiAgICAgICAgICAgIDxsYWJlbCBmb3I9J3RpbWUnPlRpbWU6PC9sYWJlbD4gICAgICAgICAgICA8aW5wdXQgdHlwZT0nbnVtYmVyJyBuYW1lPSd0aW1lJyBpZD0ndGltZScgLz4gICAgICAgICAgPC9kaXY+ICAgICAgICA8L2Zvcm0+ICAgICAgPC9kaXY+PCEtLSAvY29udGVudCAtLT4gICAgICAgIDxkaXYgZGF0YS1yb2xlPSdmb290ZXInPiAgICAgICAgPGEgaHJlZj0nIyc+PC9hPiAgICAgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4gICAgPC9kaXY+PCEtLSAvcGFnZSAtLT4iOwogICAgZXF1YWxzKGRhdGVUaW1lUGFnZS5yZW5kZXIoKSwgZXhwZWN0ZWRfcmVzdWx0KTsKICAgIGVxdWFscyhkYXRlVGltZVBhZ2UudG9KU09OKCksIHsKICAgICAgcGFnZUlkOiAicGFnZUlkIiwKICAgICAgcGFnZVR5cGU6ICJEYXRlVGltZVBhZ2UiLAogICAgICB1cmxQYXRoOiB2b2lkIDAsCiAgICAgIHVybFNjaGVtZTogdm9pZCAwCiAgICB9KTsKICAgIGFub3RoZXJEYXRlVGltZVBhZ2UgPSBKUXVlcnlNb2JpbGVQYWdlLmRlc2VyaWFsaXplKGRhdGVUaW1lUGFnZS50b0pTT04oKSk7CiAgICByZXR1cm4gZXF1YWxzKGFub3RoZXJEYXRlVGltZVBhZ2UudG9KU09OKCksIHsKICAgICAgcGFnZUlkOiAicGFnZUlkIiwKICAgICAgcGFnZVR5cGU6ICJEYXRlVGltZVBhZ2UiLAogICAgICB1cmxQYXRoOiB2b2lkIDAsCiAgICAgIHVybFNjaGVtZTogdm9pZCAwCiAgICB9KTsKICB9KTsKICB0ZXN0KCJKUXVlcnlDaGVja2JveCIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGV4cGVjdGVkX3Jlc3VsdCwgdGVzdF9vYmplY3Q7CiAgICBleHBlY3QoMSk7CiAgICB0ZXN0X29iamVjdCA9IG5ldyBKUXVlcnlDaGVja2JveCgpOwogICAgdGVzdF9vYmplY3QudW5pcXVlX25hbWUgPSAidW5pcXVlX25hbWUiOwogICAgdGVzdF9vYmplY3QuY29udGVudCA9ICJjb250ZW50IjsKICAgIGV4cGVjdGVkX3Jlc3VsdCA9ICI8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J3VuaXF1ZV9uYW1lJyBpZD0ndW5pcXVlX25hbWUnIGNsYXNzPSdjdXN0b20nIC8+PGxhYmVsIGZvcj0ndW5pcXVlX25hbWUnPmNvbnRlbnQ8L2xhYmVsPiI7CiAgICByZXR1cm4gZXF1YWxzKHRlc3Rfb2JqZWN0LnJlbmRlcigpLCBleHBlY3RlZF9yZXN1bHQpOwogIH0pOwogIHRlc3QoIkpRdWVyeUNoZWNrYm94R3JvdXAiLCBmdW5jdGlvbigpIHsKICAgIHZhciBleHBlY3RlZF9yZXN1bHQsIHRlc3Rfb2JqZWN0LCB0ZXN0X29iamVjdDE7CiAgICBleHBlY3QoMSk7CiAgICB0ZXN0X29iamVjdCA9IG5ldyBKUXVlcnlDaGVja2JveEdyb3VwKCk7CiAgICB0ZXN0X29iamVjdC5jaGVja2JveGVzID0gW107CiAgICB0ZXN0X29iamVjdDEgPSBuZXcgSlF1ZXJ5Q2hlY2tib3goKTsKICAgIHRlc3Rfb2JqZWN0MS51bmlxdWVfbmFtZSA9ICJ1bmlxdWVfbmFtZSI7CiAgICB0ZXN0X29iamVjdDEuY29udGVudCA9ICJjb250ZW50IjsKICAgIHRlc3Rfb2JqZWN0LmNoZWNrYm94ZXMucHVzaCh0ZXN0X29iamVjdDEpOwogICAgZXhwZWN0ZWRfcmVzdWx0ID0gIjxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICA8Zm9ybT4gICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnIGRhdGEtcm9sZT0nZmllbGRjb250YWluJz48aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9J3VuaXF1ZV9uYW1lJyBpZD0ndW5pcXVlX25hbWUnIGNsYXNzPSdjdXN0b20nIC8+PGxhYmVsIGZvcj0ndW5pcXVlX25hbWUnPmNvbnRlbnQ8L2xhYmVsPjwvZmllbGRzZXQ+ICA8L2Zvcm0+PC9kaXY+ICAgICI7CiAgICByZXR1cm4gZXF1YWxzKHRlc3Rfb2JqZWN0LnJlbmRlcigpLCBleHBlY3RlZF9yZXN1bHQpOwogIH0pOwogIHRlc3QoIkxldHRlcnNQYWdlIiwgZnVuY3Rpb24oKSB7CiAgICB2YXIgbGV0dGVyc1BhZ2U7CiAgICBsZXR0ZXJzUGFnZSA9IG5ldyBMZXR0ZXJzUGFnZShbImEiLCAiYiJdKTsKICAgIHJldHVybiBlcXVhbHMobGV0dGVyc1BhZ2UucmVuZGVyKCkubGVuZ3RoLCAxNjMzKTsKICB9KTsKICB0ZXN0KCJUaW1lciIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGV4cGVjdGVkX3Jlc3VsdCwgdGVzdF9vYmplY3Q7CiAgICBleHBlY3QoMSk7CiAgICB0ZXN0X29iamVjdCA9IG5ldyBUaW1lcigpOwogICAgZXhwZWN0ZWRfcmVzdWx0ID0gIjxkaXYgY2xhc3M9J3RpbWVyJz4gIDxzcGFuIGNsYXNzPSd0aW1lcl9zZWNvbmRzJz42MDwvc3Bhbj4gIDxidXR0b24+c3RhcnQ8L2J1dHRvbj4gIDxidXR0b24+c3RvcDwvYnV0dG9uPiAgPGJ1dHRvbj5yZXNldDwvYnV0dG9uPjwvZGl2PiI7CiAgICByZXR1cm4gZXF1YWxzKHRlc3Rfb2JqZWN0LnJlbmRlcigpLCBleHBlY3RlZF9yZXN1bHQpOwogIH0pOwogIHRlc3QoIkxvY2FsU3RvcmFnZSBTYXZlL0xvYWQvRGVsZXRlIiwgZnVuY3Rpb24oKSB7CiAgICB2YXIgYW5vdGhlckFzc2Vzc21lbnQsIGFzc2Vzc21lbnQsIGxvZ2luOwogICAgZXhwZWN0KDgpOwogICAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KCJUZXN0IEVHUkEgUHJvdG90eXBlIik7CiAgICBsb2dpbiA9IG5ldyBKUXVlcnlMb2dpbigpOwogICAgbG9naW4ucGFnZUlkID0gIkxvZ2luIjsKICAgIGFzc2Vzc21lbnQuc2V0UGFnZXMoW2xvZ2luXSk7CiAgICBlcXVhbHMobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUiXSwgbnVsbCk7CiAgICBlcXVhbHMobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUuTG9naW4iXSwgbnVsbCk7CiAgICBhc3Nlc3NtZW50LnNhdmVUb0xvY2FsU3RvcmFnZSgpOwogICAgZXF1YWwobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUiXSwgSlNPTi5zdHJpbmdpZnkoewogICAgICBuYW1lOiAiVGVzdCBFR1JBIFByb3RvdHlwZSIsCiAgICAgIHVybFBhdGhzRm9yUGFnZXM6IFsiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlLkxvZ2luIl0KICAgIH0pKTsKICAgIGVxdWFsKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlWyJBc3Nlc3NtZW50LlRlc3QgRUdSQSBQcm90b3R5cGUuTG9naW4iXSksIHsKICAgICAgcGFnZUlkOiAiTG9naW4iLAogICAgICBwYWdlVHlwZTogIkpRdWVyeUxvZ2luIiwKICAgICAgdXJsUGF0aDogIkFzc2Vzc21lbnQuVGVzdCBFR1JBIFByb3RvdHlwZS5Mb2dpbiIKICAgIH0pOwogICAgYW5vdGhlckFzc2Vzc21lbnQgPSBBc3Nlc3NtZW50LmxvYWQoImxvY2Fsc3RvcmFnZTovL0Fzc2Vzc21lbnQuVGVzdCBFR1JBIFByb3RvdHlwZSIpOwogICAgZXF1YWxzKGFzc2Vzc21lbnQubmFtZSwgYW5vdGhlckFzc2Vzc21lbnQubmFtZSk7CiAgICBlcXVhbHMoYXNzZXNzbWVudC5wYWdlc1swXS5wYWdlSWQsIGFub3RoZXJBc3Nlc3NtZW50LnBhZ2VzWzBdLnBhZ2VJZCk7CiAgICBhc3Nlc3NtZW50WyJkZWxldGUiXSgpOwogICAgZXF1YWxzKGxvY2FsU3RvcmFnZVsiQXNzZXNzbWVudC5UZXN0IEVHUkEgUHJvdG90eXBlIl0sIG51bGwpOwogICAgcmV0dXJuIGVxdWFscyhsb2NhbFN0b3JhZ2VbIkFzc2Vzc21lbnQuVGVzdCBFR1JBIFByb3RvdHlwZS5Mb2dpbiJdLCBudWxsKTsKICB9KTsKICB0ZXN0KCJMb2FkIGZyb20gaHR0cCIsIGZ1bmN0aW9uKCkgewogICAgZXhwZWN0KDMpOwogICAgc3RvcCgpOwogICAgcmV0dXJuIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQKHsKICAgICAgdXJsOiAidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlLkxvZ2luIgogICAgfSwgZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIGVxdWFsKHJlc3VsdC5wYWdlVHlwZSwgIkpRdWVyeUxvZ2luIik7CiAgICAgIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgZXF1YWwocmVzdWx0LnBhZ2VzLmxlbmd0aCwgMyk7CiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LnJlbmRlcigpKTsKICAgICAgICBlcXVhbChyZXN1bHQucmVuZGVyKCkubGVuZ3RoLCAxNjEwMSk7CiAgICAgICAgcmV0dXJuIHN0YXJ0KCk7CiAgICAgIH0pOwogICAgfSk7CiAgfSk7CiAgdGVzdCgiTG9jYWxTdG9yYWdlIFNlcmlhbGl6YXRpb24iLCBmdW5jdGlvbigpIHsKICAgIGV4cGVjdCg0KTsKICAgIHN0b3AoKTsKICAgIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgZnVuY3Rpb24oYXNzZXNzbWVudCkgewogICAgICB2YXIgYW5vdGhlckFzc2Vzc21lbnQsIGxldHRlcnMsIHJlc3VsdDsKICAgICAgbGV0dGVycyA9IGFzc2Vzc21lbnQucGFnZXNbMl07CiAgICAgIGxldHRlcnMuc2F2ZVRvTG9jYWxTdG9yYWdlKCk7CiAgICAgIHJlc3VsdCA9IEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UobGV0dGVycy51cmxQYXRoKTsKICAgICAgZXF1YWxzKHJlc3VsdC5yZW5kZXIoKSwgbGV0dGVycy5yZW5kZXIoKSk7CiAgICAgIGVxdWFscyhyZXN1bHQuY29udGVudCwgbGV0dGVycy5jb250ZW50KTsKICAgICAgYXNzZXNzbWVudC5zYXZlVG9Mb2NhbFN0b3JhZ2UoKTsKICAgICAgYW5vdGhlckFzc2Vzc21lbnQgPSBBc3Nlc3NtZW50LmxvYWQoYXNzZXNzbWVudC51cmwoKSk7CiAgICAgIHJldHVybiBhbm90aGVyQXNzZXNzbWVudC5vblJlYWR5KGZ1bmN0aW9uKCkgewogICAgICAgIGVxdWFsKDMsIGFub3RoZXJBc3Nlc3NtZW50LnBhZ2VzLmxlbmd0aCk7CiAgICAgICAgZXF1YWwoYXNzZXNzbWVudC5yZW5kZXIoKSwgYW5vdGhlckFzc2Vzc21lbnQucmVuZGVyKCkpOwogICAgICAgIHJldHVybiBzdGFydCgpOwogICAgICB9KTsKICAgIH0pOwogIH0pOwogIHRlc3QoIkNvdWNoREIgQ3JlYXRlL0RlbGV0ZSIsIGZ1bmN0aW9uKCkgewogICAgdmFyIGFzc2Vzc21lbnQsIGxvZ2luOwogICAgZXhwZWN0KDQpOwogICAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KCJUZXN0IEVHUkEgUHJvdG90eXBlIik7CiAgICBsb2dpbiA9IG5ldyBKUXVlcnlNb2JpbGVQYWdlKCk7CiAgICBsb2dpbi5wYWdlSWQgPSAiTG9naW4iOwogICAgYXNzZXNzbWVudC5zZXRQYWdlcyhbbG9naW5dKTsKICAgIENvdWNoREJbImRlbGV0ZSJdKFthc3Nlc3NtZW50LCBsb2dpbl0pOwogICAgc3RvcCgpOwogICAgcmV0dXJuIGFzc2Vzc21lbnQuc2F2ZVRvQ291Y2hEQihmdW5jdGlvbigpIHsKICAgICAgZXF1YWwoYXNzZXNzbWVudC5yZXZpc2lvbi5sZW5ndGggPiAxMCwgdHJ1ZSk7CiAgICAgIGVxdWFsKGxvZ2luLnJldmlzaW9uLmxlbmd0aCA+IDEwLCB0cnVlKTsKICAgICAgYXNzZXNzbWVudC5kZWxldGVGcm9tQ291Y2hEQigpOwogICAgICByZXR1cm4gJC5hamF4KHsKICAgICAgICB1cmw6ICQuY291Y2hEQkRhdGFiYXNlUGF0aCArIGxvZ2luLnVybFBhdGgsCiAgICAgICAgdHlwZTogJ0dFVCcKICAgICAgfSwgewogICAgICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgZXF1YWwocmVzdWx0LnN0YXR1c1RleHQsICJlcnJvciIpOwogICAgICAgICAgcmV0dXJuICQuYWpheCh7CiAgICAgICAgICAgIHVybDogJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgYXNzZXNzbWVudC51cmxQYXRoLAogICAgICAgICAgICB0eXBlOiAnR0VUJywKICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywKICAgICAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgICAgIGVxdWFsKHJlc3VsdC5zdGF0dXNUZXh0LCAiZXJyb3IiKTsKICAgICAgICAgICAgICByZXR1cm4gc3RhcnQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0pOwogIHJldHVybiB0ZXN0KCJDb3VjaERCIFNlcmlhbGl6YXRpb24iLCBmdW5jdGlvbigpIHsKICAgIGV4cGVjdCg0KTsKICAgIHN0b3AoKTsKICAgIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgidGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgZnVuY3Rpb24oYXNzZXNzbWVudCkgewogICAgICB2YXIgbGV0dGVyczsKICAgICAgQ291Y2hEQlsiZGVsZXRlIl0oYXNzZXNzbWVudC5wYWdlcyk7CiAgICAgIENvdWNoREJbImRlbGV0ZSJdKFthc3Nlc3NtZW50XSk7CiAgICAgIGxldHRlcnMgPSBhc3Nlc3NtZW50LnBhZ2VzWzJdOwogICAgICByZXR1cm4gbGV0dGVycy5zYXZlVG9Db3VjaERCKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tQ291Y2hEQihsZXR0ZXJzLnVybFBhdGgsIGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAgICAgZXF1YWxzKHJlc3VsdC5yZW5kZXIoKSwgbGV0dGVycy5yZW5kZXIoKSk7CiAgICAgICAgICBlcXVhbHMocmVzdWx0LmNvbnRlbnQsIGxldHRlcnMuY29udGVudCk7CiAgICAgICAgICByZXN1bHQuZGVsZXRlRnJvbUNvdWNoREIoKTsKICAgICAgICAgIHJldHVybiBhc3Nlc3NtZW50LnNhdmVUb0NvdWNoREIoZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHJldHVybiBBc3Nlc3NtZW50LmxvYWQoYXNzZXNzbWVudC51cmwoKSwgZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICAgICAgICAgZXF1YWwoMywgcmVzdWx0LnBhZ2VzLmxlbmd0aCk7CiAgICAgICAgICAgICAgZXF1YWwoYXNzZXNzbWVudC5yZW5kZXIoKSwgcmVzdWx0LnJlbmRlcigpKTsKICAgICAgICAgICAgICByZXR1cm4gc3RhcnQoKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9KTsKICB9KTsKfSk7", "content_type": "application/javascript"}, "js-libraries/jquery-mobile/images/icon-search-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NzA4NTM4NTRCMDgwMTFERkE3MjhCQTNEQzI2NUU3RTYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NzA4NTM4NTVCMDgwMTFERkE3MjhCQTNEQzI2NUU3RTYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo3MDg1Mzg1MkIwODAxMURGQTcyOEJBM0RDMjY1RTdFNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo3MDg1Mzg1M0IwODAxMURGQTcyOEJBM0RDMjY1RTdFNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoXpIKcAAAFRSURBVHjalNTPK0RRGMbxY+YKi/ErFpKkLJAVipUs7spCREqKbLC0JGuGhaIwQ5TYWAxLxQZLpfgTRMMCodgo8j31zDSOMdO89eltmnOee2bue68XDoeNKg+9GEY7ynCLY+ziyqSpgHoIOzhEP6oQRCOmcIrJ/wIKsIYRvGAW9ahEB/ZRgohO9yegW1/cow/zuME7LjCEGa1fRIUbMKa+jHOTvhZwhmoMuAGt+MKByVwx9RY3IKSApywBj+rFbkAc+WjIEtCkHncDTjQD4xk2l+suGc3FrwA7JG9aMK37n1o1mpE6XOuCyQr6vv9Af0UPfHShELUYxDratN7OwzMuEwGeehQfmEOnpJYd42YUYSVlTzLA1h6O9DzYZ6EUd/rNdpRHsarJjSRCPOdK9njb4taW/p+oPtvB+wyY3GoDE3ajTrLkmdxrE9+w74HYjwADAKDLQn974v1dAAAAAElFTkSuQmCC", "content_type": "image/png"}, "google-spreadsheet-javascript/tests/tests.coffee": {"data": "JChkb2N1bWVudCkucmVhZHkgLT4KICBtb2R1bGUgIkJhc2ljIFVuaXQgVGVzdCIKICB0ZXN0ICJTYW1wbGUgdGVzdCIsIC0+CiAgICBleHBlY3QoMSkKICAgIGVxdWFscyg0LzIsMikKCiAgbW9kdWxlICJHb29nbGUgU3ByZWFkc2hlZXQiCiAgdXJsID0gImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYyZobD1lbiZvdXRwdXQ9aHRtbCIKCiAgUVVuaXQudGVzdFN0YXJ0ID0gKG5hbWUpIC0+CiAgICBjb25zb2xlLmxvZyBuYW1lCgogIHRlc3QgIkxvYWQgZnJvbSBVUkwiLCAtPgogICAgZXhwZWN0KDIpCiAgICBleHBlY3RlZEtleSA9ICIwQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYyIKICAgIGV4cGVjdGVkSnNvblVybCA9ICJodHRwOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvIiArIGV4cGVjdGVkS2V5ICsgIi9vZDYvcHVibGljL2Jhc2ljP2FsdD1qc29uLWluLXNjcmlwdCIKICAgIGdvb2dsZVVybCA9IG5ldyBHb29nbGVVcmwodXJsKQogICAgZXF1YWxzKGdvb2dsZVVybC5rZXksIGV4cGVjdGVkS2V5KQogICAgZXF1YWxzKGdvb2dsZVVybC5qc29uVXJsLCBleHBlY3RlZEpzb25VcmwpCgogIHRlc3QgIlNhdmUgYW5kIGZpbmQiLCAtPgogICAgZ29vZ2xlU3ByZWFkc2hlZXQgPSBuZXcgR29vZ2xlU3ByZWFkc2hlZXQoKQogICAgZ29vZ2xlU3ByZWFkc2hlZXQudXJsKHVybCkKICAgIGdvb2dsZVNwcmVhZHNoZWV0LnR5cGUgPSAidGVzdCIKICAgIGdvb2dsZVNwcmVhZHNoZWV0LnNhdmUoKQogICAgcmVzdWx0ID0gR29vZ2xlU3ByZWFkc2hlZXQuZmluZCh7dXJsOnVybH0pCiAgICBlcXVhbHMoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSxKU09OLnN0cmluZ2lmeShnb29nbGVTcHJlYWRzaGVldCkpCgojICBOb3Qgd29ya2luZyBmb3Igc29tZSByZWFzb24KIyAgdGVzdCAiUGFyc2luZyIsIC0+CiMgICAgZXhwZWN0KDEpCiMgICAgIyBUaGlzIGlzIGhvdyB0byB0ZXN0IGNhbGxiYWNrIGZ1bmN0aW9ucyAtIHVzZSBzdG9wKCkgYW5kIHN0YXJ0KCkKIyAgICBzdG9wKCkKIyAgICBqUXVlcnkuZ2V0SlNPTiAidGVzdHNDYWxsYmFja0NlbGxzRGF0YS5qc29uIiwgKGRhdGEpIC0+CiMgICAgICByZXN1bHQgPSBHb29nbGVTcHJlYWRzaGVldC5jYWxsYmFja0NlbGxzKGRhdGEpCiMgICAgICBlcXVhbHMocmVzdWx0LmRhdGEubGVuZ3RoLDEwKQojICAgICAgc3RhcnQoKQoKICB0ZXN0ICJMb2FkIGFuZCBwYXJzZSIsIC0+CiAgICBleHBlY3QoMSkKICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpCiAgICBnb29nbGVTcHJlYWRzaGVldCA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgpCiAgICBnb29nbGVTcHJlYWRzaGVldC51cmwodXJsKQogICAgZ29vZ2xlU3ByZWFkc2hlZXQudHlwZSA9ICJ0ZXN0IgogICAgZ29vZ2xlU3ByZWFkc2hlZXQuc2F2ZSgpCiAgICBzdG9wKCkKICAgIGdvb2dsZVNwcmVhZHNoZWV0LmxvYWQgKHJlc3VsdCkgLT4KICAgICAgZXF1YWxzKHJlc3VsdC5kYXRhLmxlbmd0aCwxMCkKICAgICAgc3RhcnQoKQoKICB0ZXN0ICJMb2FkIGFuZCBwYXJzZSBsb25nIGFuZCBjb21wbGV4IHRleHQgY2VsbCIsIC0+CiAgICBleHBlY3QoMSkKICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpCiAgICBnb29nbGVTcHJlYWRzaGVldCA9IG5ldyBHb29nbGVTcHJlYWRzaGVldCgpCiAgICBnb29nbGVTcHJlYWRzaGVldC51cmwoImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEdKU1pUWTJNSFU0VmxKM1JuTnRkbk5EVmpSakxWRSZobD1lbiZvdXRwdXQ9aHRtbCIpCiAgICBnb29nbGVTcHJlYWRzaGVldC50eXBlID0gInRlc3QiCiAgICBnb29nbGVTcHJlYWRzaGVldC5zYXZlKCkKICAgIHN0b3AoKQogICAgZ29vZ2xlU3ByZWFkc2hlZXQubG9hZCAocmVzdWx0KSAtPgogICAgICBjb25zb2xlLmxvZyByZXN1bHQKICAgICAgZXF1YWxzKHJlc3VsdC5kYXRhWzBdLm1hdGNoKC9jb3JyZWN0ZW1lbnQvKS5sZW5ndGgsIDEpCiAgICAgIHN0YXJ0KCkK", "content_type": ""}, "google-spreadsheet-javascript/tests/tests.html": {"data": "PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiIKICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+CjxodG1sPgogIDxoZWFkPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJxdW5pdC5jc3MiIHR5cGU9InRleHQvY3NzIi8+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9qcXVlcnktMS40LjQubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL2dvb2dsZS1zcHJlYWRzaGVldC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJxdW5pdC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJ0ZXN0cy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICA8L3NjcmlwdD4KICA8L2hlYWQ+CiAgPGJvZHk+CiAgICA8aDEgaWQ9InF1bml0LWhlYWRlciI+UVVuaXQgZXhhbXBsZTwvaDE+CiAgICA8aDIgaWQ9InF1bml0LWJhbm5lciI+PC9oMj4KICAgIDxoMiBpZD0icXVuaXQtdXNlckFnZW50Ij48L2gyPgogICAgPG9sIGlkPSJxdW5pdC10ZXN0cyI+CiAgICA8L29sPgogIDwvYm9keT4KPC9odG1sPgo=", "content_type": "text/html"}, "tests/qunit.js": {"data": "LyoKICogUVVuaXQgLSBBIEphdmFTY3JpcHQgVW5pdCBUZXN0aW5nIEZyYW1ld29yawogKiAKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9RVW5pdAogKgogKiBDb3B5cmlnaHQgKGMpIDIwMDkgSm9obiBSZXNpZywgSsO2cm4gWmFlZmZlcmVyCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KQogKiBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgogKi8KCihmdW5jdGlvbih3aW5kb3cpIHsKCnZhciBkZWZpbmVkID0gewoJc2V0VGltZW91dDogdHlwZW9mIHdpbmRvdy5zZXRUaW1lb3V0ICE9PSAidW5kZWZpbmVkIiwKCXNlc3Npb25TdG9yYWdlOiAoZnVuY3Rpb24oKSB7CgkJdHJ5IHsKCQkJcmV0dXJuICEhc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbTsKCQl9IGNhdGNoKGUpewoJCQlyZXR1cm4gZmFsc2U7CgkJfQogIH0pKCkKfQoKdmFyIHRlc3RJZCA9IDA7Cgp2YXIgVGVzdCA9IGZ1bmN0aW9uKG5hbWUsIHRlc3ROYW1lLCBleHBlY3RlZCwgdGVzdEVudmlyb25tZW50QXJnLCBhc3luYywgY2FsbGJhY2spIHsKCXRoaXMubmFtZSA9IG5hbWU7Cgl0aGlzLnRlc3ROYW1lID0gdGVzdE5hbWU7Cgl0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7Cgl0aGlzLnRlc3RFbnZpcm9ubWVudEFyZyA9IHRlc3RFbnZpcm9ubWVudEFyZzsKCXRoaXMuYXN5bmMgPSBhc3luYzsKCXRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKCXRoaXMuYXNzZXJ0aW9ucyA9IFtdOwp9OwpUZXN0LnByb3RvdHlwZSA9IHsKCWluaXQ6IGZ1bmN0aW9uKCkgewoJCXZhciB0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpOwoJCWlmICh0ZXN0cykgewoJCQl2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIpOwoJCQkJYi5pbm5lckhUTUwgPSAiUnVubmluZyAiICsgdGhpcy5uYW1lOwoJCQl2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOwoJCQkJbGkuYXBwZW5kQ2hpbGQoIGIgKTsKCQkJCWxpLmlkID0gdGhpcy5pZCA9ICJ0ZXN0LW91dHB1dCIgKyB0ZXN0SWQrKzsKCQkJdGVzdHMuYXBwZW5kQ2hpbGQoIGxpICk7CgkJfQoJfSwKCXNldHVwOiBmdW5jdGlvbigpIHsKCQlpZiAodGhpcy5tb2R1bGUgIT0gY29uZmlnLnByZXZpb3VzTW9kdWxlKSB7CgkJCWlmICggdGhpcy5wcmV2aW91c01vZHVsZSApIHsKCQkJCVFVbml0Lm1vZHVsZURvbmUoIHRoaXMubW9kdWxlLCBjb25maWcubW9kdWxlU3RhdHMuYmFkLCBjb25maWcubW9kdWxlU3RhdHMuYWxsICk7CgkJCX0KCQkJY29uZmlnLnByZXZpb3VzTW9kdWxlID0gdGhpcy5tb2R1bGU7CgkJCWNvbmZpZy5tb2R1bGVTdGF0cyA9IHsgYWxsOiAwLCBiYWQ6IDAgfTsKCQkJUVVuaXQubW9kdWxlU3RhcnQoIHRoaXMubW9kdWxlLCB0aGlzLm1vZHVsZVRlc3RFbnZpcm9ubWVudCApOwoJCX0KCgkJY29uZmlnLmN1cnJlbnQgPSB0aGlzOwoJCXRoaXMudGVzdEVudmlyb25tZW50ID0gZXh0ZW5kKHsKCQkJc2V0dXA6IGZ1bmN0aW9uKCkge30sCgkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHt9CgkJfSwgdGhpcy5tb2R1bGVUZXN0RW52aXJvbm1lbnQpOwoJCWlmICh0aGlzLnRlc3RFbnZpcm9ubWVudEFyZykgewoJCQlleHRlbmQodGhpcy50ZXN0RW52aXJvbm1lbnQsIHRoaXMudGVzdEVudmlyb25tZW50QXJnKTsKCQl9CgoJCVFVbml0LnRlc3RTdGFydCggdGhpcy50ZXN0TmFtZSwgdGhpcy50ZXN0RW52aXJvbm1lbnQgKTsKCgkJLy8gYWxsb3cgdXRpbGl0eSBmdW5jdGlvbnMgdG8gYWNjZXNzIHRoZSBjdXJyZW50IHRlc3QgZW52aXJvbm1lbnQKCQkvLyBUT0RPIHdoeT8/CgkJUVVuaXQuY3VycmVudF90ZXN0RW52aXJvbm1lbnQgPSB0aGlzLnRlc3RFbnZpcm9ubWVudDsKCQkKCQl0cnkgewoJCQlpZiAoICFjb25maWcucG9sbHV0aW9uICkgewoJCQkJc2F2ZUdsb2JhbCgpOwoJCQl9CgoJCQl0aGlzLnRlc3RFbnZpcm9ubWVudC5zZXR1cC5jYWxsKHRoaXMudGVzdEVudmlyb25tZW50KTsKCQl9IGNhdGNoKGUpIHsKCQkJLy8gVE9ETyB1c2UgdGVzdE5hbWUgaW5zdGVhZCBvZiBuYW1lIGZvciBuby1tYXJrdXAgbWVzc2FnZT8KCQkJUVVuaXQub2soIGZhbHNlLCAiU2V0dXAgZmFpbGVkIG9uICIgKyB0aGlzLm5hbWUgKyAiOiAiICsgZS5tZXNzYWdlICk7CgkJfQoJfSwKCXJ1bjogZnVuY3Rpb24oKSB7CgkJaWYgKCB0aGlzLmFzeW5jICkgewoJCQlRVW5pdC5zdG9wKCk7CgkJfQoKCQl0cnkgewoJCQl0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy50ZXN0RW52aXJvbm1lbnQpOwoJCX0gY2F0Y2goZSkgewoJCQkvLyBUT0RPIHVzZSB0ZXN0TmFtZSBpbnN0ZWFkIG9mIG5hbWUgZm9yIG5vLW1hcmt1cCBtZXNzYWdlPwoJCQlmYWlsKCJUZXN0ICIgKyB0aGlzLm5hbWUgKyAiIGRpZWQsIGV4Y2VwdGlvbiBhbmQgdGVzdCBmb2xsb3dzIiwgZSwgdGhpcy5jYWxsYmFjayk7CgkJCVFVbml0Lm9rKCBmYWxzZSwgIkRpZWQgb24gdGVzdCAjIiArICh0aGlzLmFzc2VydGlvbnMubGVuZ3RoICsgMSkgKyAiOiAiICsgZS5tZXNzYWdlICsgIiAtICIgKyBRVW5pdC5qc0R1bXAucGFyc2UoZSkgKTsKCQkJLy8gZWxzZSBuZXh0IHRlc3Qgd2lsbCBjYXJyeSB0aGUgcmVzcG9uc2liaWxpdHkKCQkJc2F2ZUdsb2JhbCgpOwoKCQkJLy8gUmVzdGFydCB0aGUgdGVzdHMgaWYgdGhleSdyZSBibG9ja2luZwoJCQlpZiAoIGNvbmZpZy5ibG9ja2luZyApIHsKCQkJCXN0YXJ0KCk7CgkJCX0KCQl9Cgl9LAoJdGVhcmRvd246IGZ1bmN0aW9uKCkgewoJCXRyeSB7CgkJCWNoZWNrUG9sbHV0aW9uKCk7CgkJCXRoaXMudGVzdEVudmlyb25tZW50LnRlYXJkb3duLmNhbGwodGhpcy50ZXN0RW52aXJvbm1lbnQpOwoJCX0gY2F0Y2goZSkgewoJCQkvLyBUT0RPIHVzZSB0ZXN0TmFtZSBpbnN0ZWFkIG9mIG5hbWUgZm9yIG5vLW1hcmt1cCBtZXNzYWdlPwoJCQlRVW5pdC5vayggZmFsc2UsICJUZWFyZG93biBmYWlsZWQgb24gIiArIHRoaXMubmFtZSArICI6ICIgKyBlLm1lc3NhZ2UgKTsKCQl9Cgl9LAoJZmluaXNoOiBmdW5jdGlvbigpIHsKCQlpZiAoIHRoaXMuZXhwZWN0ZWQgJiYgdGhpcy5leHBlY3RlZCAhPSB0aGlzLmFzc2VydGlvbnMubGVuZ3RoICkgewoJCQlRVW5pdC5vayggZmFsc2UsICJFeHBlY3RlZCAiICsgdGhpcy5leHBlY3RlZCArICIgYXNzZXJ0aW9ucywgYnV0ICIgKyB0aGlzLmFzc2VydGlvbnMubGVuZ3RoICsgIiB3ZXJlIHJ1biIgKTsKCQl9CgkJCgkJdmFyIGdvb2QgPSAwLCBiYWQgPSAwLAoJCQl0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpOwoKCQljb25maWcuc3RhdHMuYWxsICs9IHRoaXMuYXNzZXJ0aW9ucy5sZW5ndGg7CgkJY29uZmlnLm1vZHVsZVN0YXRzLmFsbCArPSB0aGlzLmFzc2VydGlvbnMubGVuZ3RoOwoKCQlpZiAoIHRlc3RzICkgewoJCQl2YXIgb2wgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2wiKTsKCgkJCWZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuYXNzZXJ0aW9ucy5sZW5ndGg7IGkrKyApIHsKCQkJCXZhciBhc3NlcnRpb24gPSB0aGlzLmFzc2VydGlvbnNbaV07CgoJCQkJdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTsKCQkJCWxpLmNsYXNzTmFtZSA9IGFzc2VydGlvbi5yZXN1bHQgPyAicGFzcyIgOiAiZmFpbCI7CgkJCQlsaS5pbm5lckhUTUwgPSBhc3NlcnRpb24ubWVzc2FnZSB8fCAoYXNzZXJ0aW9uLnJlc3VsdCA/ICJva2F5IiA6ICJmYWlsZWQiKTsKCQkJCW9sLmFwcGVuZENoaWxkKCBsaSApOwoKCQkJCWlmICggYXNzZXJ0aW9uLnJlc3VsdCApIHsKCQkJCQlnb29kKys7CgkJCQl9IGVsc2UgewoJCQkJCWJhZCsrOwoJCQkJCWNvbmZpZy5zdGF0cy5iYWQrKzsKCQkJCQljb25maWcubW9kdWxlU3RhdHMuYmFkKys7CgkJCQl9CgkJCX0KCgkJCS8vIHN0b3JlIHJlc3VsdCB3aGVuIHBvc3NpYmxlCgkJCWRlZmluZWQuc2Vzc2lvblN0b3JhZ2UgJiYgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicXVuaXQtIiArIHRoaXMudGVzdE5hbWUsIGJhZCk7CgoJCQlpZiAoYmFkID09IDApIHsKCQkJCW9sLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgkJCX0KCgkJCXZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3Ryb25nIik7CgkJCWIuaW5uZXJIVE1MID0gdGhpcy5uYW1lICsgIiA8YiBjbGFzcz0nY291bnRzJz4oPGIgY2xhc3M9J2ZhaWxlZCc+IiArIGJhZCArICI8L2I+LCA8YiBjbGFzcz0ncGFzc2VkJz4iICsgZ29vZCArICI8L2I+LCAiICsgdGhpcy5hc3NlcnRpb25zLmxlbmd0aCArICIpPC9iPiI7CgkJCQoJCQlhZGRFdmVudChiLCAiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCXZhciBuZXh0ID0gYi5uZXh0U2libGluZywgZGlzcGxheSA9IG5leHQuc3R5bGUuZGlzcGxheTsKCQkJCW5leHQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXkgPT09ICJub25lIiA/ICJibG9jayIgOiAibm9uZSI7CgkJCX0pOwoJCQkKCQkJYWRkRXZlbnQoYiwgImRibGNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJdmFyIHRhcmdldCA9IGUgJiYgZS50YXJnZXQgPyBlLnRhcmdldCA6IHdpbmRvdy5ldmVudC5zcmNFbGVtZW50OwoJCQkJaWYgKCB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAic3BhbiIgfHwgdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gImIiICkgewoJCQkJCXRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoJCQkJfQoJCQkJaWYgKCB3aW5kb3cubG9jYXRpb24gJiYgdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJzdHJvbmciICkgewoJCQkJCXdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSAiPyIgKyBlbmNvZGVVUklDb21wb25lbnQoZ2V0VGV4dChbdGFyZ2V0XSkucmVwbGFjZSgvXCguK1wpJC8sICIiKS5yZXBsYWNlKC8oXlxzKnxccyokKS9nLCAiIikpOwoJCQkJfQoJCQl9KTsKCgkJCXZhciBsaSA9IGlkKHRoaXMuaWQpOwoJCQlsaS5jbGFzc05hbWUgPSBiYWQgPyAiZmFpbCIgOiAicGFzcyI7CgkJCWxpLnN0eWxlLmRpc3BsYXkgPSByZXN1bHREaXNwbGF5U3R5bGUoIWJhZCk7CgkJCWxpLnJlbW92ZUNoaWxkKCBsaS5maXJzdENoaWxkICk7CgkJCWxpLmFwcGVuZENoaWxkKCBiICk7CgkJCWxpLmFwcGVuZENoaWxkKCBvbCApOwoKCQkJaWYgKCBiYWQgKSB7CgkJCQl2YXIgdG9vbGJhciA9IGlkKCJxdW5pdC10ZXN0cnVubmVyLXRvb2xiYXIiKTsKCQkJCWlmICggdG9vbGJhciApIHsKCQkJCQl0b29sYmFyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoJCQkJCWlkKCJxdW5pdC1maWx0ZXItcGFzcyIpLmRpc2FibGVkID0gbnVsbDsKCQkJCX0KCQkJfQoKCQl9IGVsc2UgewoJCQlmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmFzc2VydGlvbnMubGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoICF0aGlzLmFzc2VydGlvbnNbaV0ucmVzdWx0ICkgewoJCQkJCWJhZCsrOwoJCQkJCWNvbmZpZy5zdGF0cy5iYWQrKzsKCQkJCQljb25maWcubW9kdWxlU3RhdHMuYmFkKys7CgkJCQl9CgkJCX0KCQl9CgoJCXRyeSB7CgkJCVFVbml0LnJlc2V0KCk7CgkJfSBjYXRjaChlKSB7CgkJCS8vIFRPRE8gdXNlIHRlc3ROYW1lIGluc3RlYWQgb2YgbmFtZSBmb3Igbm8tbWFya3VwIG1lc3NhZ2U/CgkJCWZhaWwoInJlc2V0KCkgZmFpbGVkLCBmb2xsb3dpbmcgVGVzdCAiICsgdGhpcy5uYW1lICsgIiwgZXhjZXB0aW9uIGFuZCByZXNldCBmbiBmb2xsb3dzIiwgZSwgUVVuaXQucmVzZXQpOwoJCX0KCgkJUVVuaXQudGVzdERvbmUoIHRoaXMudGVzdE5hbWUsIGJhZCwgdGhpcy5hc3NlcnRpb25zLmxlbmd0aCApOwoJfSwKCQoJcXVldWU6IGZ1bmN0aW9uKCkgewoJCXZhciB0ZXN0ID0gdGhpczsKCQlzeW5jaHJvbml6ZShmdW5jdGlvbigpIHsKCQkJdGVzdC5pbml0KCk7CgkJfSk7CgkJZnVuY3Rpb24gcnVuKCkgewoJCQkvLyBlYWNoIG9mIHRoZXNlIGNhbiBieSBhc3luYwoJCQlzeW5jaHJvbml6ZShmdW5jdGlvbigpIHsKCQkJCXRlc3Quc2V0dXAoKTsKCQkJfSk7CgkJCXN5bmNocm9uaXplKGZ1bmN0aW9uKCkgewoJCQkJdGVzdC5ydW4oKTsKCQkJfSk7CgkJCXN5bmNocm9uaXplKGZ1bmN0aW9uKCkgewoJCQkJdGVzdC50ZWFyZG93bigpOwoJCQl9KTsKCQkJc3luY2hyb25pemUoZnVuY3Rpb24oKSB7CgkJCQl0ZXN0LmZpbmlzaCgpOwoJCQl9KTsKCQl9CgkJLy8gZGVmZXIgd2hlbiBwcmV2aW91cyB0ZXN0IHJ1biBwYXNzZWQsIGlmIHN0b3JhZ2UgaXMgYXZhaWxhYmxlCgkJdmFyIGJhZCA9IGRlZmluZWQuc2Vzc2lvblN0b3JhZ2UgJiYgK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oInF1bml0LSIgKyB0aGlzLnRlc3ROYW1lKTsKCQlpZiAoYmFkKSB7CgkJCXJ1bigpOwoJCX0gZWxzZSB7CgkJCXN5bmNocm9uaXplKHJ1bik7CgkJfTsKCX0KCQp9Cgp2YXIgUVVuaXQgPSB7CgoJLy8gY2FsbCBvbiBzdGFydCBvZiBtb2R1bGUgdGVzdCB0byBwcmVwZW5kIG5hbWUgdG8gYWxsIHRlc3RzCgltb2R1bGU6IGZ1bmN0aW9uKG5hbWUsIHRlc3RFbnZpcm9ubWVudCkgewoJCWNvbmZpZy5wcmV2aW91c01vZHVsZSA9IGNvbmZpZy5jdXJyZW50TW9kdWxlOwoJCWNvbmZpZy5jdXJyZW50TW9kdWxlID0gbmFtZTsKCQljb25maWcuY3VycmVudE1vZHVsZVRlc3RFbnZpcm9tZW50ID0gdGVzdEVudmlyb25tZW50OwoJfSwKCglhc3luY1Rlc3Q6IGZ1bmN0aW9uKHRlc3ROYW1lLCBleHBlY3RlZCwgY2FsbGJhY2spIHsKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDIgKSB7CgkJCWNhbGxiYWNrID0gZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gMDsKCQl9CgoJCVFVbml0LnRlc3QodGVzdE5hbWUsIGV4cGVjdGVkLCBjYWxsYmFjaywgdHJ1ZSk7Cgl9LAoJCgl0ZXN0OiBmdW5jdGlvbih0ZXN0TmFtZSwgZXhwZWN0ZWQsIGNhbGxiYWNrLCBhc3luYykgewoJCXZhciBuYW1lID0gJzxzcGFuIGNsYXNzPSJ0ZXN0LW5hbWUiPicgKyB0ZXN0TmFtZSArICc8L3NwYW4+JywgdGVzdEVudmlyb25tZW50QXJnOwoKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDIgKSB7CgkJCWNhbGxiYWNrID0gZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gbnVsbDsKCQl9CgkJLy8gaXMgMm5kIGFyZ3VtZW50IGEgdGVzdEVudmlyb25tZW50PwoJCWlmICggZXhwZWN0ZWQgJiYgdHlwZW9mIGV4cGVjdGVkID09PSAnb2JqZWN0JykgewoJCQl0ZXN0RW52aXJvbm1lbnRBcmcgPSAgZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gbnVsbDsKCQl9CgoJCWlmICggY29uZmlnLmN1cnJlbnRNb2R1bGUgKSB7CgkJCW5hbWUgPSAnPHNwYW4gY2xhc3M9Im1vZHVsZS1uYW1lIj4nICsgY29uZmlnLmN1cnJlbnRNb2R1bGUgKyAiPC9zcGFuPjogIiArIG5hbWU7CgkJfQoKCQlpZiAoICF2YWxpZFRlc3QoY29uZmlnLmN1cnJlbnRNb2R1bGUgKyAiOiAiICsgdGVzdE5hbWUpICkgewoJCQlyZXR1cm47CgkJfQoJCQoJCXZhciB0ZXN0ID0gbmV3IFRlc3QobmFtZSwgdGVzdE5hbWUsIGV4cGVjdGVkLCB0ZXN0RW52aXJvbm1lbnRBcmcsIGFzeW5jLCBjYWxsYmFjayk7CgkJdGVzdC5wcmV2aW91c01vZHVsZSA9IGNvbmZpZy5wcmV2aW91c01vZHVsZTsKCQl0ZXN0Lm1vZHVsZSA9IGNvbmZpZy5jdXJyZW50TW9kdWxlOwoJCXRlc3QubW9kdWxlVGVzdEVudmlyb25tZW50ID0gY29uZmlnLmN1cnJlbnRNb2R1bGVUZXN0RW52aXJvbWVudDsKCQl0ZXN0LnF1ZXVlKCk7Cgl9LAoJCgkvKioKCSAqIFNwZWNpZnkgdGhlIG51bWJlciBvZiBleHBlY3RlZCBhc3NlcnRpb25zIHRvIGd1cmFudGVlIHRoYXQgZmFpbGVkIHRlc3QgKG5vIGFzc2VydGlvbnMgYXJlIHJ1biBhdCBhbGwpIGRvbid0IHNsaXAgdGhyb3VnaC4KCSAqLwoJZXhwZWN0OiBmdW5jdGlvbihhc3NlcnRzKSB7CgkJY29uZmlnLmN1cnJlbnQuZXhwZWN0ZWQgPSBhc3NlcnRzOwoJfSwKCgkvKioKCSAqIEFzc2VydHMgdHJ1ZS4KCSAqIEBleGFtcGxlIG9rKCAiYXNkZmFzZGYiLmxlbmd0aCA+IDUsICJUaGVyZSBtdXN0IGJlIGF0IGxlYXN0IDUgY2hhcnMiICk7CgkgKi8KCW9rOiBmdW5jdGlvbihhLCBtc2cpIHsKCQlhID0gISFhOwoJCXZhciBkZXRhaWxzID0gewoJCQlyZXN1bHQ6IGEsCgkJCW1lc3NhZ2U6IG1zZwoJCX07CgkJbXNnID0gZXNjYXBlSHRtbChtc2cpOwoJCVFVbml0LmxvZyhhLCBtc2csIGRldGFpbHMpOwoJCWNvbmZpZy5jdXJyZW50LmFzc2VydGlvbnMucHVzaCh7CgkJCXJlc3VsdDogYSwKCQkJbWVzc2FnZTogbXNnCgkJfSk7Cgl9LAoKCS8qKgoJICogQ2hlY2tzIHRoYXQgdGhlIGZpcnN0IHR3byBhcmd1bWVudHMgYXJlIGVxdWFsLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuCgkgKiBQcmludHMgb3V0IGJvdGggYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMuCgkgKgoJICogUHJlZmVyZWQgdG8gb2soIGFjdHVhbCA9PSBleHBlY3RlZCwgbWVzc2FnZSApCgkgKgoJICogQGV4YW1wbGUgZXF1YWwoIGZvcm1hdCgiUmVjZWl2ZWQgezB9IGJ5dGVzLiIsIDIpLCAiUmVjZWl2ZWQgMiBieXRlcy4iICk7CgkgKgoJICogQHBhcmFtIE9iamVjdCBhY3R1YWwKCSAqIEBwYXJhbSBPYmplY3QgZXhwZWN0ZWQKCSAqIEBwYXJhbSBTdHJpbmcgbWVzc2FnZSAob3B0aW9uYWwpCgkgKi8KCWVxdWFsOiBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkJUVVuaXQucHVzaChleHBlY3RlZCA9PSBhY3R1YWwsIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglub3RFcXVhbDogZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCVFVbml0LnB1c2goZXhwZWN0ZWQgIT0gYWN0dWFsLCBhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKTsKCX0sCgkKCWRlZXBFcXVhbDogZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCVFVbml0LnB1c2goUVVuaXQuZXF1aXYoYWN0dWFsLCBleHBlY3RlZCksIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglub3REZWVwRXF1YWw6IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCQlRVW5pdC5wdXNoKCFRVW5pdC5lcXVpdihhY3R1YWwsIGV4cGVjdGVkKSwgYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSk7Cgl9LAoKCXN0cmljdEVxdWFsOiBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkJUVVuaXQucHVzaChleHBlY3RlZCA9PT0gYWN0dWFsLCBhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKTsKCX0sCgoJbm90U3RyaWN0RXF1YWw6IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCQlRVW5pdC5wdXNoKGV4cGVjdGVkICE9PSBhY3R1YWwsIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglyYWlzZXM6IGZ1bmN0aW9uKGZuLCAgbWVzc2FnZSkgewoJCXRyeSB7CgkJCWZuKCk7CgkJCVFVbml0Lm9rKCBmYWxzZSwgbWVzc2FnZSApOwoJCX0KCQljYXRjaCAoZSkgewoJCQlRVW5pdC5vayggdHJ1ZSwgbWVzc2FnZSApOwoJCX0KCX0sCgoJc3RhcnQ6IGZ1bmN0aW9uKCkgewoJCS8vIEEgc2xpZ2h0IGRlbGF5LCB0byBhdm9pZCBhbnkgY3VycmVudCBjYWxsYmFja3MKCQlpZiAoIGRlZmluZWQuc2V0VGltZW91dCApIHsKCQkJd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGNvbmZpZy50aW1lb3V0ICkgewoJCQkJCWNsZWFyVGltZW91dChjb25maWcudGltZW91dCk7CgkJCQl9CgoJCQkJY29uZmlnLmJsb2NraW5nID0gZmFsc2U7CgkJCQlwcm9jZXNzKCk7CgkJCX0sIDEzKTsKCQl9IGVsc2UgewoJCQljb25maWcuYmxvY2tpbmcgPSBmYWxzZTsKCQkJcHJvY2VzcygpOwoJCX0KCX0sCgkKCXN0b3A6IGZ1bmN0aW9uKHRpbWVvdXQpIHsKCQljb25maWcuYmxvY2tpbmcgPSB0cnVlOwoKCQlpZiAoIHRpbWVvdXQgJiYgZGVmaW5lZC5zZXRUaW1lb3V0ICkgewoJCQljb25maWcudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJUVVuaXQub2soIGZhbHNlLCAiVGVzdCB0aW1lZCBvdXQiICk7CgkJCQlRVW5pdC5zdGFydCgpOwoJCQl9LCB0aW1lb3V0KTsKCQl9Cgl9Cgp9OwoKLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGRlcHJlY2F0ZWQKUVVuaXQuZXF1YWxzID0gUVVuaXQuZXF1YWw7ClFVbml0LnNhbWUgPSBRVW5pdC5kZWVwRXF1YWw7CgovLyBNYWludGFpbiBpbnRlcm5hbCBzdGF0ZQp2YXIgY29uZmlnID0gewoJLy8gVGhlIHF1ZXVlIG9mIHRlc3RzIHRvIHJ1bgoJcXVldWU6IFtdLAoKCS8vIGJsb2NrIHVudGlsIGRvY3VtZW50IHJlYWR5CglibG9ja2luZzogdHJ1ZQp9OwoKLy8gTG9hZCBwYXJhbWF0ZXJzCihmdW5jdGlvbigpIHsKCXZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbiB8fCB7IHNlYXJjaDogIiIsIHByb3RvY29sOiAiZmlsZToiIH0sCgkJR0VUUGFyYW1zID0gbG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCcmJyk7CgoJZm9yICggdmFyIGkgPSAwOyBpIDwgR0VUUGFyYW1zLmxlbmd0aDsgaSsrICkgewoJCUdFVFBhcmFtc1tpXSA9IGRlY29kZVVSSUNvbXBvbmVudCggR0VUUGFyYW1zW2ldICk7CgkJaWYgKCBHRVRQYXJhbXNbaV0gPT09ICJub2dsb2JhbHMiICkgewoJCQlHRVRQYXJhbXMuc3BsaWNlKCBpLCAxICk7CgkJCWktLTsKCQkJY29uZmlnLm5vZ2xvYmFscyA9IHRydWU7CgkJfSBlbHNlIGlmICggR0VUUGFyYW1zW2ldLnNlYXJjaCgnPScpID4gLTEgKSB7CgkJCUdFVFBhcmFtcy5zcGxpY2UoIGksIDEgKTsKCQkJaS0tOwoJCX0KCX0KCQoJLy8gcmVzdHJpY3QgbW9kdWxlcy90ZXN0cyBieSBnZXQgcGFyYW1ldGVycwoJY29uZmlnLmZpbHRlcnMgPSBHRVRQYXJhbXM7CgkKCS8vIEZpZ3VyZSBvdXQgaWYgd2UncmUgcnVubmluZyB0aGUgdGVzdHMgZnJvbSBhIHNlcnZlciBvciBub3QKCVFVbml0LmlzTG9jYWwgPSAhIShsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2ZpbGU6Jyk7Cn0pKCk7CgovLyBFeHBvc2UgdGhlIEFQSSBhcyBnbG9iYWwgdmFyaWFibGVzLCB1bmxlc3MgYW4gJ2V4cG9ydHMnCi8vIG9iamVjdCBleGlzdHMsIGluIHRoYXQgY2FzZSB3ZSBhc3N1bWUgd2UncmUgaW4gQ29tbW9uSlMKaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgfHwgdHlwZW9mIHJlcXVpcmUgPT09ICJ1bmRlZmluZWQiICkgewoJZXh0ZW5kKHdpbmRvdywgUVVuaXQpOwoJd2luZG93LlFVbml0ID0gUVVuaXQ7Cn0gZWxzZSB7CglleHRlbmQoZXhwb3J0cywgUVVuaXQpOwoJZXhwb3J0cy5RVW5pdCA9IFFVbml0Owp9CgovLyBkZWZpbmUgdGhlc2UgYWZ0ZXIgZXhwb3NpbmcgZ2xvYmFscyB0byBrZWVwIHRoZW0gaW4gdGhlc2UgUVVuaXQgbmFtZXNwYWNlIG9ubHkKZXh0ZW5kKFFVbml0LCB7Cgljb25maWc6IGNvbmZpZywKCgkvLyBJbml0aWFsaXplIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMKCWluaXQ6IGZ1bmN0aW9uKCkgewoJCWV4dGVuZChjb25maWcsIHsKCQkJc3RhdHM6IHsgYWxsOiAwLCBiYWQ6IDAgfSwKCQkJbW9kdWxlU3RhdHM6IHsgYWxsOiAwLCBiYWQ6IDAgfSwKCQkJc3RhcnRlZDogK25ldyBEYXRlLAoJCQl1cGRhdGVSYXRlOiAxMDAwLAoJCQlibG9ja2luZzogZmFsc2UsCgkJCWF1dG9zdGFydDogdHJ1ZSwKCQkJYXV0b3J1bjogZmFsc2UsCgkJCWZpbHRlcnM6IFtdLAoJCQlxdWV1ZTogW10KCQl9KTsKCgkJdmFyIHRlc3RzID0gaWQoInF1bml0LXRlc3RzIiksCgkJCWJhbm5lciA9IGlkKCJxdW5pdC1iYW5uZXIiKSwKCQkJcmVzdWx0ID0gaWQoInF1bml0LXRlc3RyZXN1bHQiKTsKCgkJaWYgKCB0ZXN0cyApIHsKCQkJdGVzdHMuaW5uZXJIVE1MID0gIiI7CgkJfQoKCQlpZiAoIGJhbm5lciApIHsKCQkJYmFubmVyLmNsYXNzTmFtZSA9ICIiOwoJCX0KCgkJaWYgKCByZXN1bHQgKSB7CgkJCXJlc3VsdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCByZXN1bHQgKTsKCQl9Cgl9LAoJCgkvKioKCSAqIFJlc2V0cyB0aGUgdGVzdCBzZXR1cC4gVXNlZnVsIGZvciB0ZXN0cyB0aGF0IG1vZGlmeSB0aGUgRE9NLgoJICogCgkgKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCB1c2VzIGpRdWVyeSdzIGh0bWwoKSwgb3RoZXJ3aXNlIGp1c3QgaW5uZXJIVE1MLgoJICovCglyZXNldDogZnVuY3Rpb24oKSB7CgkJaWYgKCB3aW5kb3cualF1ZXJ5ICkgewoJCQlqUXVlcnkoICIjbWFpbiwgI3F1bml0LWZpeHR1cmUiICkuaHRtbCggY29uZmlnLmZpeHR1cmUgKTsKCQl9IGVsc2UgewoJCQl2YXIgbWFpbiA9IGlkKCAnbWFpbicgKSB8fCBpZCggJ3F1bml0LWZpeHR1cmUnICk7CgkJCWlmICggbWFpbiApIHsKCQkJCW1haW4uaW5uZXJIVE1MID0gY29uZmlnLmZpeHR1cmU7CgkJCX0KCQl9Cgl9LAoJCgkvKioKCSAqIFRyaWdnZXIgYW4gZXZlbnQgb24gYW4gZWxlbWVudC4KCSAqCgkgKiBAZXhhbXBsZSB0cmlnZ2VyRXZlbnQoIGRvY3VtZW50LmJvZHksICJjbGljayIgKTsKCSAqCgkgKiBAcGFyYW0gRE9NRWxlbWVudCBlbGVtCgkgKiBAcGFyYW0gU3RyaW5nIHR5cGUKCSAqLwoJdHJpZ2dlckV2ZW50OiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZXZlbnQgKSB7CgkJaWYgKCBkb2N1bWVudC5jcmVhdGVFdmVudCApIHsKCQkJZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTsKCQkJZXZlbnQuaW5pdE1vdXNlRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LAoJCQkJMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwoJCQllbGVtLmRpc3BhdGNoRXZlbnQoIGV2ZW50ICk7CgoJCX0gZWxzZSBpZiAoIGVsZW0uZmlyZUV2ZW50ICkgewoJCQllbGVtLmZpcmVFdmVudCgib24iK3R5cGUpOwoJCX0KCX0sCgkKCS8vIFNhZmUgb2JqZWN0IHR5cGUgY2hlY2tpbmcKCWlzOiBmdW5jdGlvbiggdHlwZSwgb2JqICkgewoJCXJldHVybiBRVW5pdC5vYmplY3RUeXBlKCBvYmogKSA9PSB0eXBlOwoJfSwKCQoJb2JqZWN0VHlwZTogZnVuY3Rpb24oIG9iaiApIHsKCQlpZiAodHlwZW9mIG9iaiA9PT0gInVuZGVmaW5lZCIpIHsKCQkJCXJldHVybiAidW5kZWZpbmVkIjsKCgkJLy8gY29uc2lkZXI6IHR5cGVvZiBudWxsID09PSBvYmplY3QKCQl9CgkJaWYgKG9iaiA9PT0gbnVsbCkgewoJCQkJcmV0dXJuICJudWxsIjsKCQl9CgoJCXZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCBvYmogKQoJCQkubWF0Y2goL15cW29iamVjdFxzKC4qKVxdJC8pWzFdIHx8ICcnOwoKCQlzd2l0Y2ggKHR5cGUpIHsKCQkJCWNhc2UgJ051bWJlcic6CgkJCQkJCWlmIChpc05hTihvYmopKSB7CgkJCQkJCQkJcmV0dXJuICJuYW4iOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXJldHVybiAibnVtYmVyIjsKCQkJCQkJfQoJCQkJY2FzZSAnU3RyaW5nJzoKCQkJCWNhc2UgJ0Jvb2xlYW4nOgoJCQkJY2FzZSAnQXJyYXknOgoJCQkJY2FzZSAnRGF0ZSc6CgkJCQljYXNlICdSZWdFeHAnOgoJCQkJY2FzZSAnRnVuY3Rpb24nOgoJCQkJCQlyZXR1cm4gdHlwZS50b0xvd2VyQ2FzZSgpOwoJCX0KCQlpZiAodHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpIHsKCQkJCXJldHVybiAib2JqZWN0IjsKCQl9CgkJcmV0dXJuIHVuZGVmaW5lZDsKCX0sCgkKCXB1c2g6IGZ1bmN0aW9uKHJlc3VsdCwgYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCXZhciBkZXRhaWxzID0gewoJCQlyZXN1bHQ6IHJlc3VsdCwKCQkJbWVzc2FnZTogbWVzc2FnZSwKCQkJYWN0dWFsOiBhY3R1YWwsCgkJCWV4cGVjdGVkOiBleHBlY3RlZAoJCX07CgkJCgkJbWVzc2FnZSA9IGVzY2FwZUh0bWwobWVzc2FnZSkgfHwgKHJlc3VsdCA/ICJva2F5IiA6ICJmYWlsZWQiKTsKCQltZXNzYWdlID0gJzxzcGFuIGNsYXNzPSJ0ZXN0LW1lc3NhZ2UiPicgKyBtZXNzYWdlICsgIjwvc3Bhbj4iOwoJCWV4cGVjdGVkID0gZXNjYXBlSHRtbChRVW5pdC5qc0R1bXAucGFyc2UoZXhwZWN0ZWQpKTsKCQlhY3R1YWwgPSBlc2NhcGVIdG1sKFFVbml0LmpzRHVtcC5wYXJzZShhY3R1YWwpKTsKCQl2YXIgb3V0cHV0ID0gbWVzc2FnZSArICc8dGFibGU+PHRyIGNsYXNzPSJ0ZXN0LWV4cGVjdGVkIj48dGg+RXhwZWN0ZWQ6IDwvdGg+PHRkPjxwcmU+JyArIGV4cGVjdGVkICsgJzwvcHJlPjwvdGQ+PC90cj4nOwoJCWlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIHsKCQkJb3V0cHV0ICs9ICc8dHIgY2xhc3M9InRlc3QtYWN0dWFsIj48dGg+UmVzdWx0OiA8L3RoPjx0ZD48cHJlPicgKyBhY3R1YWwgKyAnPC9wcmU+PC90ZD48L3RyPic7CgkJCW91dHB1dCArPSAnPHRyIGNsYXNzPSJ0ZXN0LWRpZmYiPjx0aD5EaWZmOiA8L3RoPjx0ZD48cHJlPicgKyBRVW5pdC5kaWZmKGV4cGVjdGVkLCBhY3R1YWwpICsnPC9wcmU+PC90ZD48L3RyPic7CgkJfQoJCWlmICghcmVzdWx0KSB7CgkJCXZhciBzb3VyY2UgPSBzb3VyY2VGcm9tU3RhY2t0cmFjZSgpOwoJCQlpZiAoc291cmNlKSB7CgkJCQlkZXRhaWxzLnNvdXJjZSA9IHNvdXJjZTsKCQkJCW91dHB1dCArPSAnPHRyIGNsYXNzPSJ0ZXN0LXNvdXJjZSI+PHRoPlNvdXJjZTogPC90aD48dGQ+PHByZT4nICsgc291cmNlICsnPC9wcmU+PC90ZD48L3RyPic7CgkJCX0KCQl9CgkJb3V0cHV0ICs9ICI8L3RhYmxlPiI7CgkJCgkJUVVuaXQubG9nKHJlc3VsdCwgbWVzc2FnZSwgZGV0YWlscyk7CgkJCgkJY29uZmlnLmN1cnJlbnQuYXNzZXJ0aW9ucy5wdXNoKHsKCQkJcmVzdWx0OiAhIXJlc3VsdCwKCQkJbWVzc2FnZTogb3V0cHV0CgkJfSk7Cgl9LAoJCgkvLyBMb2dnaW5nIGNhbGxiYWNrcwoJYmVnaW46IGZ1bmN0aW9uKCkge30sCglkb25lOiBmdW5jdGlvbihmYWlsdXJlcywgdG90YWwpIHt9LAoJbG9nOiBmdW5jdGlvbihyZXN1bHQsIG1lc3NhZ2UpIHt9LAoJdGVzdFN0YXJ0OiBmdW5jdGlvbihuYW1lLCB0ZXN0RW52aXJvbm1lbnQpIHt9LAoJdGVzdERvbmU6IGZ1bmN0aW9uKG5hbWUsIGZhaWx1cmVzLCB0b3RhbCkge30sCgltb2R1bGVTdGFydDogZnVuY3Rpb24obmFtZSwgdGVzdEVudmlyb25tZW50KSB7fSwKCW1vZHVsZURvbmU6IGZ1bmN0aW9uKG5hbWUsIGZhaWx1cmVzLCB0b3RhbCkge30KfSk7CgppZiAoIHR5cGVvZiBkb2N1bWVudCA9PT0gInVuZGVmaW5lZCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIiApIHsKCWNvbmZpZy5hdXRvcnVuID0gdHJ1ZTsKfQoKYWRkRXZlbnQod2luZG93LCAibG9hZCIsIGZ1bmN0aW9uKCkgewoJUVVuaXQuYmVnaW4oKTsKCQoJLy8gSW5pdGlhbGl6ZSB0aGUgY29uZmlnLCBzYXZpbmcgdGhlIGV4ZWN1dGlvbiBxdWV1ZQoJdmFyIG9sZGNvbmZpZyA9IGV4dGVuZCh7fSwgY29uZmlnKTsKCVFVbml0LmluaXQoKTsKCWV4dGVuZChjb25maWcsIG9sZGNvbmZpZyk7CgoJY29uZmlnLmJsb2NraW5nID0gZmFsc2U7CgoJdmFyIHVzZXJBZ2VudCA9IGlkKCJxdW5pdC11c2VyQWdlbnQiKTsKCWlmICggdXNlckFnZW50ICkgewoJCXVzZXJBZ2VudC5pbm5lckhUTUwgPSBuYXZpZ2F0b3IudXNlckFnZW50OwoJfQoJdmFyIGJhbm5lciA9IGlkKCJxdW5pdC1oZWFkZXIiKTsKCWlmICggYmFubmVyICkgewoJCXZhciBwYXJhbXNJbmRleCA9IGxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YobG9jYXRpb24uc2VhcmNoKTsKCQlpZiAoIHBhcmFtc0luZGV4ID4gLTEgKSB7CgkJCXZhciBtYWluUGFnZUxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCBwYXJhbXNJbmRleCk7CgkJCWlmICggbWFpblBhZ2VMb2NhdGlvbiA9PSBsb2NhdGlvbi5ocmVmICkgewoJCQkJYmFubmVyLmlubmVySFRNTCA9ICc8YSBocmVmPSIiPiAnICsgYmFubmVyLmlubmVySFRNTCArICc8L2E+ICc7CgkJCX0gZWxzZSB7CgkJCQl2YXIgdGVzdE5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpKTsKCQkJCWJhbm5lci5pbm5lckhUTUwgPSAnPGEgaHJlZj0iJyArIG1haW5QYWdlTG9jYXRpb24gKyAnIj4nICsgYmFubmVyLmlubmVySFRNTCArICc8L2E+ICYjODI1MDsgPGEgaHJlZj0iIj4nICsgdGVzdE5hbWUgKyAnPC9hPic7CgkJCX0KCQl9Cgl9CgkKCXZhciB0b29sYmFyID0gaWQoInF1bml0LXRlc3RydW5uZXItdG9vbGJhciIpOwoJaWYgKCB0b29sYmFyICkgewoJCXRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQkKCQl2YXIgZmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQlmaWx0ZXIudHlwZSA9ICJjaGVja2JveCI7CgkJZmlsdGVyLmlkID0gInF1bml0LWZpbHRlci1wYXNzIjsKCQlmaWx0ZXIuZGlzYWJsZWQgPSB0cnVlOwoJCWFkZEV2ZW50KCBmaWx0ZXIsICJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQl2YXIgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCQkJZm9yICggdmFyIGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoIGxpW2ldLmNsYXNzTmFtZS5pbmRleE9mKCJwYXNzIikgPiAtMSApIHsKCQkJCQlsaVtpXS5zdHlsZS5kaXNwbGF5ID0gZmlsdGVyLmNoZWNrZWQgPyAibm9uZSIgOiAiIjsKCQkJCX0KCQkJfQoJCX0pOwoJCXRvb2xiYXIuYXBwZW5kQ2hpbGQoIGZpbHRlciApOwoKCQl2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwoJCWxhYmVsLnNldEF0dHJpYnV0ZSgiZm9yIiwgInF1bml0LWZpbHRlci1wYXNzIik7CgkJbGFiZWwuaW5uZXJIVE1MID0gIkhpZGUgcGFzc2VkIHRlc3RzIjsKCQl0b29sYmFyLmFwcGVuZENoaWxkKCBsYWJlbCApOwoJfQoKCXZhciBtYWluID0gaWQoJ21haW4nKSB8fCBpZCgncXVuaXQtZml4dHVyZScpOwoJaWYgKCBtYWluICkgewoJCWNvbmZpZy5maXh0dXJlID0gbWFpbi5pbm5lckhUTUw7Cgl9CgoJaWYgKGNvbmZpZy5hdXRvc3RhcnQpIHsKCQlRVW5pdC5zdGFydCgpOwoJfQp9KTsKCmZ1bmN0aW9uIGRvbmUoKSB7Cgljb25maWcuYXV0b3J1biA9IHRydWU7CgoJLy8gTG9nIHRoZSBsYXN0IG1vZHVsZSByZXN1bHRzCglpZiAoIGNvbmZpZy5jdXJyZW50TW9kdWxlICkgewoJCVFVbml0Lm1vZHVsZURvbmUoIGNvbmZpZy5jdXJyZW50TW9kdWxlLCBjb25maWcubW9kdWxlU3RhdHMuYmFkLCBjb25maWcubW9kdWxlU3RhdHMuYWxsICk7Cgl9CgoJdmFyIGJhbm5lciA9IGlkKCJxdW5pdC1iYW5uZXIiKSwKCQl0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpLAoJCWh0bWwgPSBbJ1Rlc3RzIGNvbXBsZXRlZCBpbiAnLAoJCStuZXcgRGF0ZSAtIGNvbmZpZy5zdGFydGVkLCAnIG1pbGxpc2Vjb25kcy48YnIvPicsCgkJJzxzcGFuIGNsYXNzPSJwYXNzZWQiPicsIGNvbmZpZy5zdGF0cy5hbGwgLSBjb25maWcuc3RhdHMuYmFkLCAnPC9zcGFuPiB0ZXN0cyBvZiA8c3BhbiBjbGFzcz0idG90YWwiPicsIGNvbmZpZy5zdGF0cy5hbGwsICc8L3NwYW4+IHBhc3NlZCwgPHNwYW4gY2xhc3M9ImZhaWxlZCI+JywgY29uZmlnLnN0YXRzLmJhZCwnPC9zcGFuPiBmYWlsZWQuJ10uam9pbignJyk7CgoJaWYgKCBiYW5uZXIgKSB7CgkJYmFubmVyLmNsYXNzTmFtZSA9IChjb25maWcuc3RhdHMuYmFkID8gInF1bml0LWZhaWwiIDogInF1bml0LXBhc3MiKTsKCX0KCglpZiAoIHRlc3RzICkgewkKCQl2YXIgcmVzdWx0ID0gaWQoInF1bml0LXRlc3RyZXN1bHQiKTsKCgkJaWYgKCAhcmVzdWx0ICkgewoJCQlyZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7CgkJCXJlc3VsdC5pZCA9ICJxdW5pdC10ZXN0cmVzdWx0IjsKCQkJcmVzdWx0LmNsYXNzTmFtZSA9ICJyZXN1bHQiOwoJCQl0ZXN0cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggcmVzdWx0LCB0ZXN0cy5uZXh0U2libGluZyApOwoJCX0KCgkJcmVzdWx0LmlubmVySFRNTCA9IGh0bWw7Cgl9CgoJUVVuaXQuZG9uZSggY29uZmlnLnN0YXRzLmJhZCwgY29uZmlnLnN0YXRzLmFsbCApOwp9CgpmdW5jdGlvbiB2YWxpZFRlc3QoIG5hbWUgKSB7Cgl2YXIgaSA9IGNvbmZpZy5maWx0ZXJzLmxlbmd0aCwKCQlydW4gPSBmYWxzZTsKCglpZiAoICFpICkgewoJCXJldHVybiB0cnVlOwoJfQoJCgl3aGlsZSAoIGktLSApIHsKCQl2YXIgZmlsdGVyID0gY29uZmlnLmZpbHRlcnNbaV0sCgkJCW5vdCA9IGZpbHRlci5jaGFyQXQoMCkgPT0gJyEnOwoKCQlpZiAoIG5vdCApIHsKCQkJZmlsdGVyID0gZmlsdGVyLnNsaWNlKDEpOwoJCX0KCgkJaWYgKCBuYW1lLmluZGV4T2YoZmlsdGVyKSAhPT0gLTEgKSB7CgkJCXJldHVybiAhbm90OwoJCX0KCgkJaWYgKCBub3QgKSB7CgkJCXJ1biA9IHRydWU7CgkJfQoJfQoKCXJldHVybiBydW47Cn0KCi8vIHNvIGZhciBzdXBwb3J0cyBvbmx5IEZpcmVmb3gsIENocm9tZSBhbmQgT3BlcmEgKGJ1Z2d5KQovLyBjb3VsZCBiZSBleHRlbmRlZCBpbiB0aGUgZnV0dXJlIHRvIHVzZSBzb21ldGhpbmcgbGlrZSBodHRwczovL2dpdGh1Yi5jb20vY3Nub3Zlci9UcmFjZUtpdApmdW5jdGlvbiBzb3VyY2VGcm9tU3RhY2t0cmFjZSgpIHsKCXRyeSB7CgkJdGhyb3cgbmV3IEVycm9yKCk7Cgl9IGNhdGNoICggZSApIHsKCQlpZiAoZS5zdGFja3RyYWNlKSB7CgkJCS8vIE9wZXJhCgkJCXJldHVybiBlLnN0YWNrdHJhY2Uuc3BsaXQoIlxuIilbNl07CgkJfSBlbHNlIGlmIChlLnN0YWNrKSB7CgkJCS8vIEZpcmVmb3gsIENocm9tZQoJCQlyZXR1cm4gZS5zdGFjay5zcGxpdCgiXG4iKVs0XTsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIHJlc3VsdERpc3BsYXlTdHlsZShwYXNzZWQpIHsKCXJldHVybiBwYXNzZWQgJiYgaWQoInF1bml0LWZpbHRlci1wYXNzIikgJiYgaWQoInF1bml0LWZpbHRlci1wYXNzIikuY2hlY2tlZCA/ICdub25lJyA6ICcnOwp9CgpmdW5jdGlvbiBlc2NhcGVIdG1sKHMpIHsKCWlmICghcykgewoJCXJldHVybiAiIjsKCX0KCXMgPSBzICsgIiI7CglyZXR1cm4gcy5yZXBsYWNlKC9bXCYiPD5cXF0vZywgZnVuY3Rpb24ocykgewoJCXN3aXRjaChzKSB7CgkJCWNhc2UgIiYiOiByZXR1cm4gIiZhbXA7IjsKCQkJY2FzZSAiXFwiOiByZXR1cm4gIlxcXFwiOwoJCQljYXNlICciJzogcmV0dXJuICdcIic7CgkJCWNhc2UgIjwiOiByZXR1cm4gIiZsdDsiOwoJCQljYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKCQkJZGVmYXVsdDogcmV0dXJuIHM7CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHN5bmNocm9uaXplKCBjYWxsYmFjayApIHsKCWNvbmZpZy5xdWV1ZS5wdXNoKCBjYWxsYmFjayApOwoKCWlmICggY29uZmlnLmF1dG9ydW4gJiYgIWNvbmZpZy5ibG9ja2luZyApIHsKCQlwcm9jZXNzKCk7Cgl9Cn0KCmZ1bmN0aW9uIHByb2Nlc3MoKSB7Cgl2YXIgc3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpOwoKCXdoaWxlICggY29uZmlnLnF1ZXVlLmxlbmd0aCAmJiAhY29uZmlnLmJsb2NraW5nICkgewoJCWlmICggY29uZmlnLnVwZGF0ZVJhdGUgPD0gMCB8fCAoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBzdGFydCkgPCBjb25maWcudXBkYXRlUmF0ZSkgKSB7CgkJCWNvbmZpZy5xdWV1ZS5zaGlmdCgpKCk7CgkJfSBlbHNlIHsKCQkJd2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MsIDEzICk7CgkJCWJyZWFrOwoJCX0KCX0KICBpZiAoIWNvbmZpZy5ibG9ja2luZyAmJiAhY29uZmlnLnF1ZXVlLmxlbmd0aCkgewogICAgZG9uZSgpOwogIH0KfQoKZnVuY3Rpb24gc2F2ZUdsb2JhbCgpIHsKCWNvbmZpZy5wb2xsdXRpb24gPSBbXTsKCQoJaWYgKCBjb25maWcubm9nbG9iYWxzICkgewoJCWZvciAoIHZhciBrZXkgaW4gd2luZG93ICkgewoJCQljb25maWcucG9sbHV0aW9uLnB1c2goIGtleSApOwoJCX0KCX0KfQoKZnVuY3Rpb24gY2hlY2tQb2xsdXRpb24oIG5hbWUgKSB7Cgl2YXIgb2xkID0gY29uZmlnLnBvbGx1dGlvbjsKCXNhdmVHbG9iYWwoKTsKCQoJdmFyIG5ld0dsb2JhbHMgPSBkaWZmKCBvbGQsIGNvbmZpZy5wb2xsdXRpb24gKTsKCWlmICggbmV3R2xvYmFscy5sZW5ndGggPiAwICkgewoJCW9rKCBmYWxzZSwgIkludHJvZHVjZWQgZ2xvYmFsIHZhcmlhYmxlKHMpOiAiICsgbmV3R2xvYmFscy5qb2luKCIsICIpICk7CgkJY29uZmlnLmN1cnJlbnQuZXhwZWN0ZWQrKzsKCX0KCgl2YXIgZGVsZXRlZEdsb2JhbHMgPSBkaWZmKCBjb25maWcucG9sbHV0aW9uLCBvbGQgKTsKCWlmICggZGVsZXRlZEdsb2JhbHMubGVuZ3RoID4gMCApIHsKCQlvayggZmFsc2UsICJEZWxldGVkIGdsb2JhbCB2YXJpYWJsZShzKTogIiArIGRlbGV0ZWRHbG9iYWxzLmpvaW4oIiwgIikgKTsKCQljb25maWcuY3VycmVudC5leHBlY3RlZCsrOwoJfQp9CgovLyByZXR1cm5zIGEgbmV3IEFycmF5IHdpdGggdGhlIGVsZW1lbnRzIHRoYXQgYXJlIGluIGEgYnV0IG5vdCBpbiBiCmZ1bmN0aW9uIGRpZmYoIGEsIGIgKSB7Cgl2YXIgcmVzdWx0ID0gYS5zbGljZSgpOwoJZm9yICggdmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrICkgewoJCWZvciAoIHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKysgKSB7CgkJCWlmICggcmVzdWx0W2ldID09PSBiW2pdICkgewoJCQkJcmVzdWx0LnNwbGljZShpLCAxKTsKCQkJCWktLTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJfQoJcmV0dXJuIHJlc3VsdDsKfQoKZnVuY3Rpb24gZmFpbChtZXNzYWdlLCBleGNlcHRpb24sIGNhbGxiYWNrKSB7CglpZiAoIHR5cGVvZiBjb25zb2xlICE9PSAidW5kZWZpbmVkIiAmJiBjb25zb2xlLmVycm9yICYmIGNvbnNvbGUud2FybiApIHsKCQljb25zb2xlLmVycm9yKG1lc3NhZ2UpOwoJCWNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKTsKCQljb25zb2xlLndhcm4oY2FsbGJhY2sudG9TdHJpbmcoKSk7CgoJfSBlbHNlIGlmICggd2luZG93Lm9wZXJhICYmIG9wZXJhLnBvc3RFcnJvciApIHsKCQlvcGVyYS5wb3N0RXJyb3IobWVzc2FnZSwgZXhjZXB0aW9uLCBjYWxsYmFjay50b1N0cmluZyk7Cgl9Cn0KCmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7Cglmb3IgKCB2YXIgcHJvcCBpbiBiICkgewoJCWFbcHJvcF0gPSBiW3Byb3BdOwoJfQoKCXJldHVybiBhOwp9CgpmdW5jdGlvbiBhZGRFdmVudChlbGVtLCB0eXBlLCBmbikgewoJaWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7CgkJZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBmbiwgZmFsc2UgKTsKCX0gZWxzZSBpZiAoIGVsZW0uYXR0YWNoRXZlbnQgKSB7CgkJZWxlbS5hdHRhY2hFdmVudCggIm9uIiArIHR5cGUsIGZuICk7Cgl9IGVsc2UgewoJCWZuKCk7Cgl9Cn0KCmZ1bmN0aW9uIGlkKG5hbWUpIHsKCXJldHVybiAhISh0eXBlb2YgZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKSAmJgoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBuYW1lICk7Cn0KCi8vIFRlc3QgZm9yIGVxdWFsaXR5IGFueSBKYXZhU2NyaXB0IHR5cGUuCi8vIERpc2N1c3Npb25zIGFuZCByZWZlcmVuY2U6IGh0dHA6Ly9waGlscmF0aGUuY29tL2FydGljbGVzL2VxdWl2Ci8vIFRlc3Qgc3VpdGVzOiBodHRwOi8vcGhpbHJhdGhlLmNvbS90ZXN0cy9lcXVpdgovLyBBdXRob3I6IFBoaWxpcHBlIFJhdGjDqSA8cHJhdGhlQGdtYWlsLmNvbT4KUVVuaXQuZXF1aXYgPSBmdW5jdGlvbiAoKSB7CgogICAgdmFyIGlubmVyRXF1aXY7IC8vIHRoZSByZWFsIGVxdWl2IGZ1bmN0aW9uCiAgICB2YXIgY2FsbGVycyA9IFtdOyAvLyBzdGFjayB0byBkZWNpZGUgYmV0d2VlbiBza2lwL2Fib3J0IGZ1bmN0aW9ucwogICAgdmFyIHBhcmVudHMgPSBbXTsgLy8gc3RhY2sgdG8gYXZvaWRpbmcgbG9vcHMgZnJvbSBjaXJjdWxhciByZWZlcmVuY2luZwoKICAgIC8vIENhbGwgdGhlIG8gcmVsYXRlZCBjYWxsYmFjayB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMuCiAgICBmdW5jdGlvbiBiaW5kQ2FsbGJhY2tzKG8sIGNhbGxiYWNrcywgYXJncykgewogICAgICAgIHZhciBwcm9wID0gUVVuaXQub2JqZWN0VHlwZShvKTsKICAgICAgICBpZiAocHJvcCkgewogICAgICAgICAgICBpZiAoUVVuaXQub2JqZWN0VHlwZShjYWxsYmFja3NbcHJvcF0pID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tzW3Byb3BdLmFwcGx5KGNhbGxiYWNrcywgYXJncyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tzW3Byb3BdOyAvLyBvciB1bmRlZmluZWQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgdmFyIGNhbGxiYWNrcyA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgLy8gZm9yIHN0cmluZywgYm9vbGVhbiwgbnVtYmVyIGFuZCBudWxsCiAgICAgICAgZnVuY3Rpb24gdXNlU3RyaWN0RXF1YWxpdHkoYiwgYSkgewogICAgICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIGEuY29uc3RydWN0b3IgfHwgYSBpbnN0YW5jZW9mIGIuY29uc3RydWN0b3IpIHsKICAgICAgICAgICAgICAgIC8vIHRvIGNhdGNoIHNob3J0IGFubm90YWlvbiBWUyAnbmV3JyBhbm5vdGF0aW9uIG9mIGEgZGVjbGFyYXRpb24KICAgICAgICAgICAgICAgIC8vIGUuZy4gdmFyIGkgPSAxOwogICAgICAgICAgICAgICAgLy8gICAgICB2YXIgaiA9IG5ldyBOdW1iZXIoMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGEgPT09IGI7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJzdHJpbmciOiB1c2VTdHJpY3RFcXVhbGl0eSwKICAgICAgICAgICAgImJvb2xlYW4iOiB1c2VTdHJpY3RFcXVhbGl0eSwKICAgICAgICAgICAgIm51bWJlciI6IHVzZVN0cmljdEVxdWFsaXR5LAogICAgICAgICAgICAibnVsbCI6IHVzZVN0cmljdEVxdWFsaXR5LAogICAgICAgICAgICAidW5kZWZpbmVkIjogdXNlU3RyaWN0RXF1YWxpdHksCgogICAgICAgICAgICAibmFuIjogZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc05hTihiKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICJkYXRlIjogZnVuY3Rpb24gKGIsIGEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBRVW5pdC5vYmplY3RUeXBlKGIpID09PSAiZGF0ZSIgJiYgYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgInJlZ2V4cCI6IGZ1bmN0aW9uIChiLCBhKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUVVuaXQub2JqZWN0VHlwZShiKSA9PT0gInJlZ2V4cCIgJiYKICAgICAgICAgICAgICAgICAgICBhLnNvdXJjZSA9PT0gYi5zb3VyY2UgJiYgLy8gdGhlIHJlZ2V4IGl0c2VsZgogICAgICAgICAgICAgICAgICAgIGEuZ2xvYmFsID09PSBiLmdsb2JhbCAmJiAvLyBhbmQgaXRzIG1vZGlmZXJzIChnbWkpIC4uLgogICAgICAgICAgICAgICAgICAgIGEuaWdub3JlQ2FzZSA9PT0gYi5pZ25vcmVDYXNlICYmCiAgICAgICAgICAgICAgICAgICAgYS5tdWx0aWxpbmUgPT09IGIubXVsdGlsaW5lOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy8gLSBza2lwIHdoZW4gdGhlIHByb3BlcnR5IGlzIGEgbWV0aG9kIG9mIGFuIGluc3RhbmNlIChPT1ApCiAgICAgICAgICAgIC8vIC0gYWJvcnQgb3RoZXJ3aXNlLAogICAgICAgICAgICAvLyAgIGluaXRpYWwgPT09IHdvdWxkIGhhdmUgY2F0Y2ggaWRlbnRpY2FsIHJlZmVyZW5jZXMgYW55d2F5CiAgICAgICAgICAgICJmdW5jdGlvbiI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBjYWxsZXIgPSBjYWxsZXJzW2NhbGxlcnMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGVyICE9PSBPYmplY3QgJiYKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNhbGxlciAhPT0gInVuZGVmaW5lZCI7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAiYXJyYXkiOiBmdW5jdGlvbiAoYiwgYSkgewogICAgICAgICAgICAgICAgdmFyIGksIGosIGxvb3A7CiAgICAgICAgICAgICAgICB2YXIgbGVuOwoKICAgICAgICAgICAgICAgIC8vIGIgY291bGQgYmUgYW4gb2JqZWN0IGxpdGVyYWwgaGVyZQogICAgICAgICAgICAgICAgaWYgKCAhIChRVW5pdC5vYmplY3RUeXBlKGIpID09PSAiYXJyYXkiKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0gICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICAgICAgICBpZiAobGVuICE9PSBiLmxlbmd0aCkgeyAvLyBzYWZlIGFuZCBmYXN0ZXIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vdHJhY2sgcmVmZXJlbmNlIHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZXMKICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChhKTsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgIGxvb3AgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBmb3Ioaj0wO2o8cGFyZW50cy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50c1tqXSA9PT0gYVtpXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wID0gdHJ1ZTsvL2RvbnQgcmV3YWxrIGFycmF5CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb29wICYmICEgaW5uZXJFcXVpdihhW2ldLCBiW2ldKSkgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnBvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFyZW50cy5wb3AoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgIm9iamVjdCI6IGZ1bmN0aW9uIChiLCBhKSB7CiAgICAgICAgICAgICAgICB2YXIgaSwgaiwgbG9vcDsKICAgICAgICAgICAgICAgIHZhciBlcSA9IHRydWU7IC8vIHVubGVzcyB3ZSBjYW4gcHJvb3ZlIGl0CiAgICAgICAgICAgICAgICB2YXIgYVByb3BlcnRpZXMgPSBbXSwgYlByb3BlcnRpZXMgPSBbXTsgLy8gY29sbGVjdGlvbiBvZiBzdHJpbmdzCgogICAgICAgICAgICAgICAgLy8gY29tcGFyaW5nIGNvbnN0cnVjdG9ycyBpcyBtb3JlIHN0cmljdCB0aGFuIHVzaW5nIGluc3RhbmNlb2YKICAgICAgICAgICAgICAgIGlmICggYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBzdGFjayBjb25zdHJ1Y3RvciBiZWZvcmUgdHJhdmVyc2luZyBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICBjYWxsZXJzLnB1c2goYS5jb25zdHJ1Y3Rvcik7CiAgICAgICAgICAgICAgICAvL3RyYWNrIHJlZmVyZW5jZSB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzCiAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goYSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciAoaSBpbiBhKSB7IC8vIGJlIHN0cmljdDogZG9uJ3QgZW5zdXJlcyBoYXNPd25Qcm9wZXJ0eSBhbmQgZ28gZGVlcAogICAgICAgICAgICAgICAgICAgIGxvb3AgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBmb3Ioaj0wO2o8cGFyZW50cy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50c1tqXSA9PT0gYVtpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AgPSB0cnVlOyAvL2Rvbid0IGdvIGRvd24gdGhlIHNhbWUgcGF0aCB0d2ljZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhUHJvcGVydGllcy5wdXNoKGkpOyAvLyBjb2xsZWN0IGEncyBwcm9wZXJ0aWVzCgogICAgICAgICAgICAgICAgICAgIGlmICghbG9vcCAmJiAhIGlubmVyRXF1aXYoYVtpXSwgYltpXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXEgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNhbGxlcnMucG9wKCk7IC8vIHVuc3RhY2ssIHdlIGFyZSBkb25lCiAgICAgICAgICAgICAgICBwYXJlbnRzLnBvcCgpOwoKICAgICAgICAgICAgICAgIGZvciAoaSBpbiBiKSB7CiAgICAgICAgICAgICAgICAgICAgYlByb3BlcnRpZXMucHVzaChpKTsgLy8gY29sbGVjdCBiJ3MgcHJvcGVydGllcwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgaWRlbnRpY2FsIHByb3BlcnRpZXMgbmFtZQogICAgICAgICAgICAgICAgcmV0dXJuIGVxICYmIGlubmVyRXF1aXYoYVByb3BlcnRpZXMuc29ydCgpLCBiUHJvcGVydGllcy5zb3J0KCkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0oKTsKCiAgICBpbm5lckVxdWl2ID0gZnVuY3Rpb24gKCkgeyAvLyBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMKICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpOwogICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVuZCB0cmFuc2l0aW9uCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIGlmIChhID09PSBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY2F0Y2ggdGhlIG1vc3QgeW91IGNhbgogICAgICAgICAgICB9IGVsc2UgaWYgKGEgPT09IG51bGwgfHwgYiA9PT0gbnVsbCB8fCB0eXBlb2YgYSA9PT0gInVuZGVmaW5lZCIgfHwgdHlwZW9mIGIgPT09ICJ1bmRlZmluZWQiIHx8IFFVbml0Lm9iamVjdFR5cGUoYSkgIT09IFFVbml0Lm9iamVjdFR5cGUoYikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gZG9uJ3QgbG9zZSB0aW1lIHdpdGggZXJyb3IgcHJvbmUgY2FzZXMKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBiaW5kQ2FsbGJhY2tzKGEsIGNhbGxiYWNrcywgW2IsIGFdKTsKICAgICAgICAgICAgfQoKICAgICAgICAvLyBhcHBseSB0cmFuc2l0aW9uIHdpdGggKDEuLm4pIGFyZ3VtZW50cwogICAgICAgIH0pKGFyZ3NbMF0sIGFyZ3NbMV0pICYmIGFyZ3VtZW50cy5jYWxsZWUuYXBwbHkodGhpcywgYXJncy5zcGxpY2UoMSwgYXJncy5sZW5ndGggLTEpKTsKICAgIH07CgogICAgcmV0dXJuIGlubmVyRXF1aXY7Cgp9KCk7CgovKioKICoganNEdW1wCiAqIENvcHlyaWdodCAoYykgMjAwOCBBcmllbCBGbGVzbGVyIC0gYWZsZXNsZXIoYXQpZ21haWwoZG90KWNvbSB8IGh0dHA6Ly9mbGVzbGVyLmJsb2dzcG90LmNvbQogKiBMaWNlbnNlZCB1bmRlciBCU0QgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvYnNkLWxpY2Vuc2UucGhwKQogKiBEYXRlOiA1LzE1LzIwMDgKICogQHByb2plY3REZXNjcmlwdGlvbiBBZHZhbmNlZCBhbmQgZXh0ZW5zaWJsZSBkYXRhIGR1bXBpbmcgZm9yIEphdmFzY3JpcHQuCiAqIEB2ZXJzaW9uIDEuMC4wCiAqIEBhdXRob3IgQXJpZWwgRmxlc2xlcgogKiBAbGluayB7aHR0cDovL2ZsZXNsZXIuYmxvZ3Nwb3QuY29tLzIwMDgvMDUvanNkdW1wLXByZXR0eS1kdW1wLW9mLWFueS1qYXZhc2NyaXB0Lmh0bWx9CiAqLwpRVW5pdC5qc0R1bXAgPSAoZnVuY3Rpb24oKSB7CglmdW5jdGlvbiBxdW90ZSggc3RyICkgewoJCXJldHVybiAnIicgKyBzdHIudG9TdHJpbmcoKS5yZXBsYWNlKC8iL2csICdcXCInKSArICciJzsKCX07CglmdW5jdGlvbiBsaXRlcmFsKCBvICkgewoJCXJldHVybiBvICsgJyc7CQoJfTsKCWZ1bmN0aW9uIGpvaW4oIHByZSwgYXJyLCBwb3N0ICkgewoJCXZhciBzID0ganNEdW1wLnNlcGFyYXRvcigpLAoJCQliYXNlID0ganNEdW1wLmluZGVudCgpLAoJCQlpbm5lciA9IGpzRHVtcC5pbmRlbnQoMSk7CgkJaWYgKCBhcnIuam9pbiApCgkJCWFyciA9IGFyci5qb2luKCAnLCcgKyBzICsgaW5uZXIgKTsKCQlpZiAoICFhcnIgKQoJCQlyZXR1cm4gcHJlICsgcG9zdDsKCQlyZXR1cm4gWyBwcmUsIGlubmVyICsgYXJyLCBiYXNlICsgcG9zdCBdLmpvaW4ocyk7Cgl9OwoJZnVuY3Rpb24gYXJyYXkoIGFyciApIHsKCQl2YXIgaSA9IGFyci5sZW5ndGgsCXJldCA9IEFycmF5KGkpOwkJCQkJCgkJdGhpcy51cCgpOwoJCXdoaWxlICggaS0tICkKCQkJcmV0W2ldID0gdGhpcy5wYXJzZSggYXJyW2ldICk7CQkJCQoJCXRoaXMuZG93bigpOwoJCXJldHVybiBqb2luKCAnWycsIHJldCwgJ10nICk7Cgl9OwoJCgl2YXIgcmVOYW1lID0gL15mdW5jdGlvbiAoXHcrKS87CgkKCXZhciBqc0R1bXAgPSB7CgkJcGFyc2U6ZnVuY3Rpb24oIG9iaiwgdHlwZSApIHsgLy90eXBlIGlzIHVzZWQgbW9zdGx5IGludGVybmFsbHksIHlvdSBjYW4gZml4IGEgKGN1c3RvbSl0eXBlIGluIGFkdmFuY2UKCQkJdmFyCXBhcnNlciA9IHRoaXMucGFyc2Vyc1sgdHlwZSB8fCB0aGlzLnR5cGVPZihvYmopIF07CgkJCXR5cGUgPSB0eXBlb2YgcGFyc2VyOwkJCQoJCQkKCQkJcmV0dXJuIHR5cGUgPT0gJ2Z1bmN0aW9uJyA/IHBhcnNlci5jYWxsKCB0aGlzLCBvYmogKSA6CgkJCQkgICB0eXBlID09ICdzdHJpbmcnID8gcGFyc2VyIDoKCQkJCSAgIHRoaXMucGFyc2Vycy5lcnJvcjsKCQl9LAoJCXR5cGVPZjpmdW5jdGlvbiggb2JqICkgewoJCQl2YXIgdHlwZTsKCQkJaWYgKCBvYmogPT09IG51bGwgKSB7CgkJCQl0eXBlID0gIm51bGwiOwoJCQl9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICJ1bmRlZmluZWQiKSB7CgkJCQl0eXBlID0gInVuZGVmaW5lZCI7CgkJCX0gZWxzZSBpZiAoUVVuaXQuaXMoIlJlZ0V4cCIsIG9iaikpIHsKCQkJCXR5cGUgPSAicmVnZXhwIjsKCQkJfSBlbHNlIGlmIChRVW5pdC5pcygiRGF0ZSIsIG9iaikpIHsKCQkJCXR5cGUgPSAiZGF0ZSI7CgkJCX0gZWxzZSBpZiAoUVVuaXQuaXMoIkZ1bmN0aW9uIiwgb2JqKSkgewoJCQkJdHlwZSA9ICJmdW5jdGlvbiI7CgkJCX0gZWxzZSBpZiAodHlwZW9mIG9iai5zZXRJbnRlcnZhbCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvYmouZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgPT09ICJ1bmRlZmluZWQiKSB7CgkJCQl0eXBlID0gIndpbmRvdyI7CgkJCX0gZWxzZSBpZiAob2JqLm5vZGVUeXBlID09PSA5KSB7CgkJCQl0eXBlID0gImRvY3VtZW50IjsKCQkJfSBlbHNlIGlmIChvYmoubm9kZVR5cGUpIHsKCQkJCXR5cGUgPSAibm9kZSI7CgkJCX0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iai5sZW5ndGggPT09ICJudW1iZXIiICYmIG9iai5sZW5ndGggPj0gMCkgewoJCQkJdHlwZSA9ICJhcnJheSI7CgkJCX0gZWxzZSB7CgkJCQl0eXBlID0gdHlwZW9mIG9iajsKCQkJfQoJCQlyZXR1cm4gdHlwZTsKCQl9LAoJCXNlcGFyYXRvcjpmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHRoaXMubXVsdGlsaW5lID8JdGhpcy5IVE1MID8gJzxiciAvPicgOiAnXG4nIDogdGhpcy5IVE1MID8gJyZuYnNwOycgOiAnICc7CgkJfSwKCQlpbmRlbnQ6ZnVuY3Rpb24oIGV4dHJhICkgey8vIGV4dHJhIGNhbiBiZSBhIG51bWJlciwgc2hvcnRjdXQgZm9yIGluY3JlYXNpbmctY2FsbGluZy1kZWNyZWFzaW5nCgkJCWlmICggIXRoaXMubXVsdGlsaW5lICkKCQkJCXJldHVybiAnJzsKCQkJdmFyIGNociA9IHRoaXMuaW5kZW50Q2hhcjsKCQkJaWYgKCB0aGlzLkhUTUwgKQoJCQkJY2hyID0gY2hyLnJlcGxhY2UoL1x0L2csJyAgICcpLnJlcGxhY2UoLyAvZywnJm5ic3A7Jyk7CgkJCXJldHVybiBBcnJheSggdGhpcy5fZGVwdGhfICsgKGV4dHJhfHwwKSApLmpvaW4oY2hyKTsKCQl9LAoJCXVwOmZ1bmN0aW9uKCBhICkgewoJCQl0aGlzLl9kZXB0aF8gKz0gYSB8fCAxOwoJCX0sCgkJZG93bjpmdW5jdGlvbiggYSApIHsKCQkJdGhpcy5fZGVwdGhfIC09IGEgfHwgMTsKCQl9LAoJCXNldFBhcnNlcjpmdW5jdGlvbiggbmFtZSwgcGFyc2VyICkgewoJCQl0aGlzLnBhcnNlcnNbbmFtZV0gPSBwYXJzZXI7CgkJfSwKCQkvLyBUaGUgbmV4dCAzIGFyZSBleHBvc2VkIHNvIHlvdSBjYW4gdXNlIHRoZW0KCQlxdW90ZTpxdW90ZSwgCgkJbGl0ZXJhbDpsaXRlcmFsLAoJCWpvaW46am9pbiwKCQkvLwoJCV9kZXB0aF86IDEsCgkJLy8gVGhpcyBpcyB0aGUgbGlzdCBvZiBwYXJzZXJzLCB0byBtb2RpZnkgdGhlbSwgdXNlIGpzRHVtcC5zZXRQYXJzZXIKCQlwYXJzZXJzOnsKCQkJd2luZG93OiAnW1dpbmRvd10nLAoJCQlkb2N1bWVudDogJ1tEb2N1bWVudF0nLAoJCQllcnJvcjonW0VSUk9SXScsIC8vd2hlbiBubyBwYXJzZXIgaXMgZm91bmQsIHNob3VsZG4ndCBoYXBwZW4KCQkJdW5rbm93bjogJ1tVbmtub3duXScsCgkJCSdudWxsJzonbnVsbCcsCgkJCXVuZGVmaW5lZDondW5kZWZpbmVkJywKCQkJJ2Z1bmN0aW9uJzpmdW5jdGlvbiggZm4gKSB7CgkJCQl2YXIgcmV0ID0gJ2Z1bmN0aW9uJywKCQkJCQluYW1lID0gJ25hbWUnIGluIGZuID8gZm4ubmFtZSA6IChyZU5hbWUuZXhlYyhmbil8fFtdKVsxXTsvL2Z1bmN0aW9ucyBuZXZlciBoYXZlIG5hbWUgaW4gSUUKCQkJCWlmICggbmFtZSApCgkJCQkJcmV0ICs9ICcgJyArIG5hbWU7CgkJCQlyZXQgKz0gJygnOwoJCQkJCgkJCQlyZXQgPSBbIHJldCwgUVVuaXQuanNEdW1wLnBhcnNlKCBmbiwgJ2Z1bmN0aW9uQXJncycgKSwgJyl7J10uam9pbignJyk7CgkJCQlyZXR1cm4gam9pbiggcmV0LCBRVW5pdC5qc0R1bXAucGFyc2UoZm4sJ2Z1bmN0aW9uQ29kZScpLCAnfScgKTsKCQkJfSwKCQkJYXJyYXk6IGFycmF5LAoJCQlub2RlbGlzdDogYXJyYXksCgkJCWFyZ3VtZW50czogYXJyYXksCgkJCW9iamVjdDpmdW5jdGlvbiggbWFwICkgewoJCQkJdmFyIHJldCA9IFsgXTsKCQkJCVFVbml0LmpzRHVtcC51cCgpOwoJCQkJZm9yICggdmFyIGtleSBpbiBtYXAgKQoJCQkJCXJldC5wdXNoKCBRVW5pdC5qc0R1bXAucGFyc2Uoa2V5LCdrZXknKSArICc6ICcgKyBRVW5pdC5qc0R1bXAucGFyc2UobWFwW2tleV0pICk7CgkJCQlRVW5pdC5qc0R1bXAuZG93bigpOwoJCQkJcmV0dXJuIGpvaW4oICd7JywgcmV0LCAnfScgKTsKCQkJfSwKCQkJbm9kZTpmdW5jdGlvbiggbm9kZSApIHsKCQkJCXZhciBvcGVuID0gUVVuaXQuanNEdW1wLkhUTUwgPyAnJmx0OycgOiAnPCcsCgkJCQkJY2xvc2UgPSBRVW5pdC5qc0R1bXAuSFRNTCA/ICcmZ3Q7JyA6ICc+JzsKCQkJCQkKCQkJCXZhciB0YWcgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgkJCQkJcmV0ID0gb3BlbiArIHRhZzsKCQkJCQkKCQkJCWZvciAoIHZhciBhIGluIFFVbml0LmpzRHVtcC5ET01BdHRycyApIHsKCQkJCQl2YXIgdmFsID0gbm9kZVtRVW5pdC5qc0R1bXAuRE9NQXR0cnNbYV1dOwoJCQkJCWlmICggdmFsICkKCQkJCQkJcmV0ICs9ICcgJyArIGEgKyAnPScgKyBRVW5pdC5qc0R1bXAucGFyc2UoIHZhbCwgJ2F0dHJpYnV0ZScgKTsKCQkJCX0KCQkJCXJldHVybiByZXQgKyBjbG9zZSArIG9wZW4gKyAnLycgKyB0YWcgKyBjbG9zZTsKCQkJfSwKCQkJZnVuY3Rpb25BcmdzOmZ1bmN0aW9uKCBmbiApIHsvL2Z1bmN0aW9uIGNhbGxzIGl0IGludGVybmFsbHksIGl0J3MgdGhlIGFyZ3VtZW50cyBwYXJ0IG9mIHRoZSBmdW5jdGlvbgoJCQkJdmFyIGwgPSBmbi5sZW5ndGg7CgkJCQlpZiAoICFsICkgcmV0dXJuICcnOwkJCQkKCQkJCQoJCQkJdmFyIGFyZ3MgPSBBcnJheShsKTsKCQkJCXdoaWxlICggbC0tICkKCQkJCQlhcmdzW2xdID0gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytsKTsvLzk3IGlzICdhJwoJCQkJcmV0dXJuICcgJyArIGFyZ3Muam9pbignLCAnKSArICcgJzsKCQkJfSwKCQkJa2V5OnF1b3RlLCAvL29iamVjdCBjYWxscyBpdCBpbnRlcm5hbGx5LCB0aGUga2V5IHBhcnQgb2YgYW4gaXRlbSBpbiBhIG1hcAoJCQlmdW5jdGlvbkNvZGU6J1tjb2RlXScsIC8vZnVuY3Rpb24gY2FsbHMgaXQgaW50ZXJuYWxseSwgaXQncyB0aGUgY29udGVudCBvZiB0aGUgZnVuY3Rpb24KCQkJYXR0cmlidXRlOnF1b3RlLCAvL25vZGUgY2FsbHMgaXQgaW50ZXJuYWxseSwgaXQncyBhbiBodG1sIGF0dHJpYnV0ZSB2YWx1ZQoJCQlzdHJpbmc6cXVvdGUsCgkJCWRhdGU6cXVvdGUsCgkJCXJlZ2V4cDpsaXRlcmFsLCAvL3JlZ2V4CgkJCW51bWJlcjpsaXRlcmFsLAoJCQknYm9vbGVhbic6bGl0ZXJhbAoJCX0sCgkJRE9NQXR0cnM6ey8vYXR0cmlidXRlcyB0byBkdW1wIGZyb20gbm9kZXMsIG5hbWU9PnJlYWxOYW1lCgkJCWlkOidpZCcsCgkJCW5hbWU6J25hbWUnLAoJCQknY2xhc3MnOidjbGFzc05hbWUnCgkJfSwKCQlIVE1MOmZhbHNlLC8vaWYgdHJ1ZSwgZW50aXRpZXMgYXJlIGVzY2FwZWQgKCA8LCA+LCBcdCwgc3BhY2UgYW5kIFxuICkKCQlpbmRlbnRDaGFyOicgICcsLy9pbmRlbnRhdGlvbiB1bml0CgkJbXVsdGlsaW5lOnRydWUgLy9pZiB0cnVlLCBpdGVtcyBpbiBhIGNvbGxlY3Rpb24sIGFyZSBzZXBhcmF0ZWQgYnkgYSBcbiwgZWxzZSBqdXN0IGEgc3BhY2UuCgl9OwoKCXJldHVybiBqc0R1bXA7Cn0pKCk7CgovLyBmcm9tIFNpenpsZS5qcwpmdW5jdGlvbiBnZXRUZXh0KCBlbGVtcyApIHsKCXZhciByZXQgPSAiIiwgZWxlbTsKCglmb3IgKCB2YXIgaSA9IDA7IGVsZW1zW2ldOyBpKysgKSB7CgkJZWxlbSA9IGVsZW1zW2ldOwoKCQkvLyBHZXQgdGhlIHRleHQgZnJvbSB0ZXh0IG5vZGVzIGFuZCBDREFUQSBub2RlcwoJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA0ICkgewoJCQlyZXQgKz0gZWxlbS5ub2RlVmFsdWU7CgoJCS8vIFRyYXZlcnNlIGV2ZXJ5dGhpbmcgZWxzZSwgZXhjZXB0IGNvbW1lbnQgbm9kZXMKCQl9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlICE9PSA4ICkgewoJCQlyZXQgKz0gZ2V0VGV4dCggZWxlbS5jaGlsZE5vZGVzICk7CgkJfQoJfQoKCXJldHVybiByZXQ7Cn07CgovKgogKiBKYXZhc2NyaXB0IERpZmYgQWxnb3JpdGhtCiAqICBCeSBKb2huIFJlc2lnIChodHRwOi8vZWpvaG4ub3JnLykKICogIE1vZGlmaWVkIGJ5IENodSBBbGFuICJzcHJpdGUiCiAqCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICoKICogTW9yZSBJbmZvOgogKiAgaHR0cDovL2Vqb2huLm9yZy9wcm9qZWN0cy9qYXZhc2NyaXB0LWRpZmYtYWxnb3JpdGhtLwogKiAgCiAqIFVzYWdlOiBRVW5pdC5kaWZmKGV4cGVjdGVkLCBhY3R1YWwpCiAqIAogKiBRVW5pdC5kaWZmKCJ0aGUgcXVpY2sgYnJvd24gZm94IGp1bXBlZCBvdmVyIiwgInRoZSBxdWljayBmb3gganVtcHMgb3ZlciIpID09ICJ0aGUgIHF1aWNrIDxkZWw+YnJvd24gPC9kZWw+IGZveCA8ZGVsPmp1bXBlZCA8L2RlbD48aW5zPmp1bXBzIDwvaW5zPiBvdmVyIgogKi8KUVVuaXQuZGlmZiA9IChmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGRpZmYobywgbil7CgkJdmFyIG5zID0gbmV3IE9iamVjdCgpOwoJCXZhciBvcyA9IG5ldyBPYmplY3QoKTsKCQkKCQlmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG5zW25baV1dID09IG51bGwpIAoJCQkJbnNbbltpXV0gPSB7CgkJCQkJcm93czogbmV3IEFycmF5KCksCgkJCQkJbzogbnVsbAoJCQkJfTsKCQkJbnNbbltpXV0ucm93cy5wdXNoKGkpOwoJCX0KCQkKCQlmb3IgKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG9zW29baV1dID09IG51bGwpIAoJCQkJb3Nbb1tpXV0gPSB7CgkJCQkJcm93czogbmV3IEFycmF5KCksCgkJCQkJbjogbnVsbAoJCQkJfTsKCQkJb3Nbb1tpXV0ucm93cy5wdXNoKGkpOwoJCX0KCQkKCQlmb3IgKHZhciBpIGluIG5zKSB7CgkJCWlmIChuc1tpXS5yb3dzLmxlbmd0aCA9PSAxICYmIHR5cGVvZihvc1tpXSkgIT0gInVuZGVmaW5lZCIgJiYgb3NbaV0ucm93cy5sZW5ndGggPT0gMSkgewoJCQkJbltuc1tpXS5yb3dzWzBdXSA9IHsKCQkJCQl0ZXh0OiBuW25zW2ldLnJvd3NbMF1dLAoJCQkJCXJvdzogb3NbaV0ucm93c1swXQoJCQkJfTsKCQkJCW9bb3NbaV0ucm93c1swXV0gPSB7CgkJCQkJdGV4dDogb1tvc1tpXS5yb3dzWzBdXSwKCQkJCQlyb3c6IG5zW2ldLnJvd3NbMF0KCQkJCX07CgkJCX0KCQl9CgkJCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aCAtIDE7IGkrKykgewoJCQlpZiAobltpXS50ZXh0ICE9IG51bGwgJiYgbltpICsgMV0udGV4dCA9PSBudWxsICYmIG5baV0ucm93ICsgMSA8IG8ubGVuZ3RoICYmIG9bbltpXS5yb3cgKyAxXS50ZXh0ID09IG51bGwgJiYKCQkJbltpICsgMV0gPT0gb1tuW2ldLnJvdyArIDFdKSB7CgkJCQluW2kgKyAxXSA9IHsKCQkJCQl0ZXh0OiBuW2kgKyAxXSwKCQkJCQlyb3c6IG5baV0ucm93ICsgMQoJCQkJfTsKCQkJCW9bbltpXS5yb3cgKyAxXSA9IHsKCQkJCQl0ZXh0OiBvW25baV0ucm93ICsgMV0sCgkJCQkJcm93OiBpICsgMQoJCQkJfTsKCQkJfQoJCX0KCQkKCQlmb3IgKHZhciBpID0gbi5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7CgkJCWlmIChuW2ldLnRleHQgIT0gbnVsbCAmJiBuW2kgLSAxXS50ZXh0ID09IG51bGwgJiYgbltpXS5yb3cgPiAwICYmIG9bbltpXS5yb3cgLSAxXS50ZXh0ID09IG51bGwgJiYKCQkJbltpIC0gMV0gPT0gb1tuW2ldLnJvdyAtIDFdKSB7CgkJCQluW2kgLSAxXSA9IHsKCQkJCQl0ZXh0OiBuW2kgLSAxXSwKCQkJCQlyb3c6IG5baV0ucm93IC0gMQoJCQkJfTsKCQkJCW9bbltpXS5yb3cgLSAxXSA9IHsKCQkJCQl0ZXh0OiBvW25baV0ucm93IC0gMV0sCgkJCQkJcm93OiBpIC0gMQoJCQkJfTsKCQkJfQoJCX0KCQkKCQlyZXR1cm4gewoJCQlvOiBvLAoJCQluOiBuCgkJfTsKCX0KCQoJcmV0dXJuIGZ1bmN0aW9uKG8sIG4pewoJCW8gPSBvLnJlcGxhY2UoL1xzKyQvLCAnJyk7CgkJbiA9IG4ucmVwbGFjZSgvXHMrJC8sICcnKTsKCQl2YXIgb3V0ID0gZGlmZihvID09ICIiID8gW10gOiBvLnNwbGl0KC9ccysvKSwgbiA9PSAiIiA/IFtdIDogbi5zcGxpdCgvXHMrLykpOwoKCQl2YXIgc3RyID0gIiI7CgkJCgkJdmFyIG9TcGFjZSA9IG8ubWF0Y2goL1xzKy9nKTsKCQlpZiAob1NwYWNlID09IG51bGwpIHsKCQkJb1NwYWNlID0gWyIgIl07CgkJfQoJCWVsc2UgewoJCQlvU3BhY2UucHVzaCgiICIpOwoJCX0KCQl2YXIgblNwYWNlID0gbi5tYXRjaCgvXHMrL2cpOwoJCWlmIChuU3BhY2UgPT0gbnVsbCkgewoJCQluU3BhY2UgPSBbIiAiXTsKCQl9CgkJZWxzZSB7CgkJCW5TcGFjZS5wdXNoKCIgIik7CgkJfQoJCQoJCWlmIChvdXQubi5sZW5ndGggPT0gMCkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IG91dC5vLmxlbmd0aDsgaSsrKSB7CgkJCQlzdHIgKz0gJzxkZWw+JyArIG91dC5vW2ldICsgb1NwYWNlW2ldICsgIjwvZGVsPiI7CgkJCX0KCQl9CgkJZWxzZSB7CgkJCWlmIChvdXQublswXS50ZXh0ID09IG51bGwpIHsKCQkJCWZvciAobiA9IDA7IG4gPCBvdXQuby5sZW5ndGggJiYgb3V0Lm9bbl0udGV4dCA9PSBudWxsOyBuKyspIHsKCQkJCQlzdHIgKz0gJzxkZWw+JyArIG91dC5vW25dICsgb1NwYWNlW25dICsgIjwvZGVsPiI7CgkJCQl9CgkJCX0KCQkJCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgb3V0Lm4ubGVuZ3RoOyBpKyspIHsKCQkJCWlmIChvdXQubltpXS50ZXh0ID09IG51bGwpIHsKCQkJCQlzdHIgKz0gJzxpbnM+JyArIG91dC5uW2ldICsgblNwYWNlW2ldICsgIjwvaW5zPiI7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQl2YXIgcHJlID0gIiI7CgkJCQkJCgkJCQkJZm9yIChuID0gb3V0Lm5baV0ucm93ICsgMTsgbiA8IG91dC5vLmxlbmd0aCAmJiBvdXQub1tuXS50ZXh0ID09IG51bGw7IG4rKykgewoJCQkJCQlwcmUgKz0gJzxkZWw+JyArIG91dC5vW25dICsgb1NwYWNlW25dICsgIjwvZGVsPiI7CgkJCQkJfQoJCQkJCXN0ciArPSAiICIgKyBvdXQubltpXS50ZXh0ICsgblNwYWNlW2ldICsgcHJlOwoJCQkJfQoJCQl9CgkJfQoJCQoJCXJldHVybiBzdHI7Cgl9Owp9KSgpOwoKfSkodGhpcyk7Cg==", "content_type": "application/javascript"}, "models/assessment.coffee": {"data": "IyBHbG9iYWwgYXNzZXNzbWVudCBvYmplY3QKJC5hc3Nlc3NtZW50ID0gbnVsbAoKJC5jb3VjaERCRGF0YWJhc2VQYXRoID0gJy9lZ3JhLycKCmNsYXNzIEFzc2Vzc21lbnQKICBjb25zdHJ1Y3RvcjogKEBuYW1lKSAtPgogICAgQHVybFBhdGggPSAiQXNzZXNzbWVudC4je0BuYW1lfSIKCiAgY2hhbmdlTmFtZTogKG5ld05hbWUpIC0+CiAgICBAbmFtZSA9IG5ld05hbWUKICAgIEB1cmxQYXRoID0gIkFzc2Vzc21lbnQuI3tAbmFtZX0iCiAgICBAdXJsUGF0aHNGb3JQYWdlcyA9IFtdCiAgICBmb3IgcGFnZSBpbiBAcGFnZXMKICAgICAgcGFnZS51cmxQYXRoID0gQHVybFBhdGggKyAiLiIgKyBwYWdlLnBhZ2VJZAogICAgICBAdXJsUGF0aHNGb3JQYWdlcy5wdXNoKHBhZ2UudXJsUGF0aCkKCiAgc2V0UGFnZXM6IChwYWdlcykgLT4KICAgIEBwYWdlcyA9IHBhZ2VzCiAgICBAdXJsUGF0aHNGb3JQYWdlcyA9IFtdCiAgICBmb3IgcGFnZSwgaW5kZXggaW4gQHBhZ2VzCiAgICAgIHBhZ2UuYXNzZXNzbWVudCA9IHRoaXMKICAgICAgcGFnZS5wYWdlTnVtYmVyID0gaW5kZXgKICAgICAgcGFnZS5wcmV2aW91c1BhZ2UgPSBAcGFnZXNbaW5kZXggLSAxXS5wYWdlSWQgdW5sZXNzIGluZGV4ID09IDAKICAgICAgcGFnZS5uZXh0UGFnZSA9IEBwYWdlc1tpbmRleCArIDFdLnBhZ2VJZCB1bmxlc3MgQHBhZ2VzLmxlbmd0aCA9PSBpbmRleCArIDEKICAgICAgcGFnZS51cmxTY2hlbWUgPSBAdXJsU2NoZW1lCiAgICAgIHBhZ2UudXJsUGF0aCA9IEB1cmxQYXRoICsgIi4iICsgcGFnZS5wYWdlSWQKICAgICAgQHVybFBhdGhzRm9yUGFnZXMucHVzaChwYWdlLnVybFBhdGgpCgogIGdldFBhZ2U6IChwYWdlSWQpIC0+CiAgICBmb3IgcGFnZSBpbiBAcGFnZXMKICAgICAgcmV0dXJuIHBhZ2UgaWYgcGFnZS5wYWdlSWQgaXMgcGFnZUlkCgogIGluc2VydFBhZ2U6IChwYWdlLCBwYWdlTnVtYmVyKSAtPgogICAgQHBhZ2VzLnNwbGljZShwYWdlTnVtYmVyLDAscGFnZSkKICAgIEBzZXRQYWdlcyhAcGFnZXMpCgogIHVybDogLT4KICAgICIje0B1cmxTY2hlbWV9Oi8vI3tAdXJsUGF0aH0iCgogIGxvZ2luUGFnZTogLT4KICAgICQuYXNzZXNzbWVudC5wYWdlc1swXQoKICBjdXJyZW50VXNlcjogLT4KICAgIHJldHVybiBAbG9naW5QYWdlKCkucmVzdWx0cygpLnVzZXJuYW1lCgogIGN1cnJlbnRQYXNzd29yZDogLT4KICAgIHJldHVybiBAbG9naW5QYWdlKCkucmVzdWx0cygpLnBhc3N3b3JkCgogIGhhc1VzZXJBdXRoZW50aWNhdGVkOiAtPgogICAgbG9naW5SZXN1bHRzID0gQGxvZ2luUGFnZSgpLnJlc3VsdHMoKQogICAgcmV0dXJuIGxvZ2luUmVzdWx0cy51c2VybmFtZSAhPSAiIiBhbmQgbG9naW5SZXN1bHRzLnBhc3N3b3JkICE9ICIiCgogIHJlc3VsdHM6IC0+CiAgICByZXN1bHRzID0ge30KICAgIGZvciBwYWdlIGluIEBwYWdlcwogICAgICByZXN1bHRzW3BhZ2UucGFnZUlkXSA9IHBhZ2UucmVzdWx0cygpCiAgICByZXN1bHRzLnRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudmFsdWVPZigpCiAgICByZXR1cm4gcmVzdWx0cwoKICBzYXZlUmVzdWx0czogKGNhbGxiYWNrKSAtPgogICAgcmVzdWx0cyA9IEByZXN1bHRzKCkKICAgIHVybCA9ICQuY291Y2hEQkRhdGFiYXNlUGF0aAogICAgJC5hamF4CiAgICAgIHVybDogdXJsLAogICAgICBhc3luYzogdHJ1ZSwKICAgICAgdHlwZTogJ1BPU1QnLAogICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeShyZXN1bHRzKSwKICAgICAgZXJyb3I6IC0+CiAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBQVVQgdG8gI3t1cmx9IgogICAgICBjb21wbGV0ZTogLT4KICAgICAgICBjYWxsYmFjayhyZXN1bHRzKSBpZiBjYWxsYmFjaz8KCiAgcmVzZXRVUkw6IC0+CiAgICAjZG9jdW1lbnQubG9jYXRpb24ub3JpZ2luICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gKICAgIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoCgogIHJlc2V0OiAtPgogICAgZG9jdW1lbnQubG9jYXRpb24gPSBAcmVzZXRVUkwoKQogICAgCgogIHZhbGlkYXRlOiAtPgogICAgdmFsaWRhdGlvbkVycm9ycyA9ICIiCiAgICBmb3IgcGFnZSBpbiBAcGFnZXMKICAgICAgcGFnZVJlc3VsdCA9IHBhZ2UudmFsaWRhdGUoKQogICAgICB2YWxpZGF0aW9uRXJyb3JzICs9ICInI3twYWdlLm5hbWUoKX0nIHBhZ2UgaW52YWxpZDogI3twYWdlUmVzdWx0fSA8YnIvPiIgdW5sZXNzIHBhZ2VSZXN1bHQgaXMgdHJ1ZQoKICAgIHVubGVzcyB2YWxpZGF0aW9uRXJyb3JzIGlzICIiCiAgICAgIHJldHVybiB2YWxpZGF0aW9uRXJyb3JzCiAgICBlbHNlCiAgICAgIHJldHVybiB0cnVlCgogIHRvSlNPTjogLT4KICAgIEpTT04uc3RyaW5naWZ5CiAgICAgIG5hbWU6IEBuYW1lLAogICAgICB1cmxQYXRoc0ZvclBhZ2VzOiBAdXJsUGF0aHNGb3JQYWdlcwoKICBzYXZlOiAtPgogICAgc3dpdGNoIEB1cmxTY2hlbWUKICAgICAgd2hlbiAibG9jYWxzdG9yYWdlIgogICAgICAgIHJldHVybiBAc2F2ZVRvTG9jYWxTdG9yYWdlKCkKICAgICAgZWxzZQogICAgICAgIHRocm93ICJVUkwgdHlwZSBub3QgeWV0IGltcGxlbWVudGVkOiAje0B1cmxTY2hlbWV9IgoKICBzYXZlVG9Mb2NhbFN0b3JhZ2U6IC0+CiAgICBAdXJsU2NoZW1lID0gImxvY2Fsc3RvcmFnZSIKICAgIGxvY2FsU3RvcmFnZVtAdXJsUGF0aF0gPSBAdG9KU09OKCkKICAgIHBhZ2Uuc2F2ZVRvTG9jYWxTdG9yYWdlKCkgZm9yIHBhZ2UgaW4gQHBhZ2VzCgogIHNhdmVUb0NvdWNoREI6IChjYWxsYmFjaykgLT4KICAgIEB1cmxTY2hlbWUgPSAiaHR0cCIKICAgIEB1cmxQYXRoID0gJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgQHVybFBhdGggdW5sZXNzIEB1cmxQYXRoWzBdID09ICIvIgogICAgJC5hamF4CiAgICAgIHVybDogQHVybFBhdGgKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdQVVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBkYXRhOiBAdG9KU09OKCksCiAgICAgIHN1Y2Nlc3M6IChyZXN1bHQpID0+CiAgICAgICAgQHJldmlzaW9uID0gcmVzdWx0LnJldgogICAgICAgIHBhZ2Uuc2F2ZVRvQ291Y2hEQigpIGZvciBwYWdlIGluIEBwYWdlcwogICAgICAgIEBvblJlYWR5IC0+CiAgICAgICAgICBjYWxsYmFjaygpCiAgICAgIGVycm9yOiAtPgogICAgICAgIHRocm93ICJDb3VsZCBub3QgUFVUIHRvICN7QHVybFBhdGh9IgoKICAgIHJldHVybiB0aGlzCgogIGRlbGV0ZTogLT4KICAgIGlmIEB1cmxTY2hlbWUgaXMgImxvY2Fsc3RvcmFnZSIKICAgICAgQGRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2UoKQoKICBkZWxldGVGcm9tTG9jYWxTdG9yYWdlOiAtPgogICAgZm9yIHBhZ2UgaW4gQHBhZ2VzCiAgICAgIHBhZ2UuZGVsZXRlRnJvbUxvY2FsU3RvcmFnZSgpCiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShAdXJsUGF0aCkKCiAgZGVsZXRlRnJvbUNvdWNoREI6IC0+CiAgICB1cmwgPSAkLmNvdWNoREJEYXRhYmFzZVBhdGggKyBAdXJsUGF0aCArICI/cmV2PSN7QHJldmlzaW9ufSIKICAgIGlmIEBwYWdlcwogICAgICBmb3IgcGFnZSBpbiBAcGFnZXMKICAgICAgICBwYWdlLmRlbGV0ZUZyb21Db3VjaERCKCkKICAgICQuYWpheAogICAgICB1cmw6IHVybCwKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdERUxFVEUnLAogICAgICBlcnJvcjogLT4KICAgICAgICB0aHJvdyAiRXJyb3IgZGVsZXRpbmcgI3t1cmx9IgoKICBvblJlYWR5OiAoY2FsbGJhY2spIC0+CiAgICBtYXhUcmllcyA9IDEwCiAgICB0aW1lc1RyaWVkID0gMAogICAgY2hlY2tJZkxvYWRpbmcgPSA9PgogICAgICB0aW1lc1RyaWVkKysKICAgICAgaWYgQGxvYWRpbmcKICAgICAgICB0aHJvdyAiVGltZW91dCBlcnJvciB3aGlsZSB3YWl0aW5nIGZvciBhc3Nlc3NtZW50OiAje0BuYW1lfSIgaWYgdGltZXNUcmllZCA+PSBtYXhUcmllcwogICAgICAgIHNldFRpbWVvdXQoY2hlY2tJZkxvYWRpbmcsIDEwMDApCiAgICAgICAgcmV0dXJuCiAgICAgIGZvciBwYWdlIGluIEBwYWdlcwogICAgICAgIGlmIHBhZ2UubG9hZGluZwogICAgICAgICAgdGhyb3cgIlRpbWVvdXQgZXJyb3Igd2hpbGUgd2FpdGluZyBmb3IgcGFnZTogI3twYWdlLnBhZ2VJZH0iIGlmIHRpbWVzVHJpZWQgPj0gbWF4VHJpZXMKICAgICAgICAgIHNldFRpbWVvdXQoY2hlY2tJZkxvYWRpbmcsIDEwMDApCiAgICAgICAgICByZXR1cm4KICAgICAgY2FsbGJhY2soKQogICAgcmV0dXJuIGNoZWNrSWZMb2FkaW5nKCkKCiAgcmVuZGVyOiAoY2FsbGJhY2spIC0+CiAgICBAb25SZWFkeSA9PgogICAgICAjIFNldCB0aGUgZ2xvYmFsIGFzc2Vzc21lbnQgdmFyaWFibGUgdG8gdGhpcyBhc3Nlc3NtZW50CiAgICAgICQuYXNzZXNzbWVudCA9IHRoaXMKCiAgICAgICMgTWFrZSBzdXJlIHRoYXQgd2hlbmV2ZXIgYSBuZXcgcGFnZSBpcyBzaG93biB3ZSBoYXZlIGFjY2VzcwogICAgICAjIFRvIHRoZSBpbnN0YW50aWF0ZWQgcGFnZSBvYmplY3QKICAgICAgJCgnZGl2JykubGl2ZSAncGFnZWJlZm9yZXNob3cnLCAoZXZlbnQsdWkpID0+CiAgICAgICAgZm9yIHBhZ2UgaW4gQHBhZ2VzCiAgICAgICAgICBpZiBwYWdlLnBhZ2VJZCBpcyAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmF0dHIoJ2lkJykKICAgICAgICAgICAgQGN1cnJlbnRQYWdlID0gcGFnZQogICAgICAgICAgICByZXR1cm4KCiAgICAgIHJlc3VsdCA9IGZvciBwYWdlLGkgaW4gQHBhZ2VzCiAgICAgICAgcGFnZS5yZW5kZXIoKQogICAgICByZXN1bHQgPSByZXN1bHQuam9pbigiIikKICAgICAgcmVzdWx0ICs9ICIKICAgICAgICA8ZGl2IGRhdGEtcm9sZT0nZGlhbG9nJyBpZD0nX2luZm9QYWdlJz4KICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdoZWFkZXInPgkKICAgICAgICAgICAgPGgxPkluZm9ybWF0aW9uPC9oMT4KICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2NvbnRlbnQnPgkKICAgICAgICAgIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+CiAgICAgICAgPC9kaXY+CiAgICAgICIKICAgICAgY2FsbGJhY2socmVzdWx0KSBpZiBjYWxsYmFjaz8KICAgICAgcmV0dXJuIHJlc3VsdAoKICBmbGFzaDogLT4KICAgICQoJy5jb250cm9scycpLmFkZENsYXNzKCJmbGFzaCIpCiAgICAkKCJkaXZbZGF0YS1yb2xlPWhlYWRlcl0iKS50b2dnbGVDbGFzcygiZmxhc2giKQogICAgJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikudG9nZ2xlQ2xhc3MoImZsYXNoIikKICAgIHNldFRpbWVvdXQoLT4KICAgICAgJCgnLmNvbnRyb2xzJykucmVtb3ZlQ2xhc3MoImZsYXNoIikKICAgICAgJCgiZGl2W2RhdGEtcm9sZT1oZWFkZXJdIikucmVtb3ZlQ2xhc3MoImZsYXNoIikKICAgICAgJCgiZGl2W2RhdGEtcm9sZT1mb290ZXJdIikucmVtb3ZlQ2xhc3MoImZsYXNoIikKICAgICwzMDAwKQoKICB0b1BhcGVyOiAoY2FsbGJhY2spIC0+CiAgICBAb25SZWFkeSA9PgogICAgICByZXN1bHQgPSBmb3IgcGFnZSxpIGluIEBwYWdlcwogICAgICAgICI8aDE+I3twYWdlLm5hbWUoKX08L2gxPiIgKyBwYWdlLnRvUGFwZXIoKQogICAgICByZXN1bHQgPSByZXN1bHQuam9pbigiPGRpdiBjbGFzcz0ncGFnZS1icmVhayc+PGhyLz48L2Rpdj4iKQogICAgICBjYWxsYmFjayhyZXN1bHQpIGlmIGNhbGxiYWNrPwogICAgICByZXR1cm4gcmVzdWx0CgogIGhhbmRsZVVSTFBhcmFtZXRlcnM6IC0+CiAgICAjIEZpbGwgaW4gZm9ybXMgZnJvbSBHRVQgcGFyYW1ldGVycwogICAgIyBUYWtlbiBmcm9tOgogICAgIyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9nZXQtcXVlcnlzdHJpbmctdmFsdWVzLWluLWphdmFzY3JpcHQKICAgIHJldHVybiBpZiBAdXJsUGFyYW1zPwogICAgQHVybFBhcmFtcyA9IHt9CiAgICBhID0gL1wrL2cKICAgIHIgPSAvKFteJj1dKyk9PyhbXiZdKikvZwogICAgZCA9IChzKSAtPgogICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHMucmVwbGFjZShhLCAiICIpKQogICAgcSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpCiAgICB3aGlsZSAoZSA9IHIuZXhlYyhxKSkKICAgICAgQHVybFBhcmFtc1tkKGVbMV0pXSA9IGQoZVsyXSkKCiAgICBmb3IgcGFyYW0sdmFsdWUgb2YgQHVybFBhcmFtcwogICAgICAkKCJpbnB1dCMje3BhcmFtfSIpLnZhbCh2YWx1ZSkKCiAgICBpZiBAdXJsUGFyYW1zLm5ld0Fzc2Vzc21lbnQKIyBUT0RPIFJlZmFjdG9yCiAgICAgIHVubGVzcyAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PSAiRGF0ZVRpbWUiIG9yICQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS5wYWdlSWQgPT0gIkxvZ2luIikKICAgICAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCJEYXRlVGltZSIpIHVubGVzcyAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCA9PSAiRGF0ZVRpbWUiIG9yICQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS5wYWdlSWQgPT0gIkxvZ2luIikKICAgICAgICBkb2N1bWVudC5sb2NhdGlvbiA9IGRvY3VtZW50LmxvY2F0aW9uLmhyZWYKCgpBc3Nlc3NtZW50LmxvYWQgPSAodXJsLCBjYWxsYmFjaykgLT4KICB0cnkKICAgIHVybFNjaGVtZSA9IHVybC5zdWJzdHJpbmcoMCx1cmwuaW5kZXhPZigiOi8vIikpCiAgICB1cmxQYXRoID0gdXJsLnN1YnN0cmluZyh1cmwuaW5kZXhPZigiOi8vIikrMykKICBjYXRjaCBlcnJvcgogICAgdGhyb3cgIkludmFsaWQgdXJsOiAje3VybH0iCgogIHN3aXRjaCB1cmxTY2hlbWUKICAgIHdoZW4gImxvY2Fsc3RvcmFnZSIKICAgICAgYXNzZXNzbWVudCA9IEFzc2Vzc21lbnQubG9hZEZyb21Mb2NhbFN0b3JhZ2UodXJsUGF0aCkKICAgICAgY2FsbGJhY2soYXNzZXNzbWVudCkgaWYgY2FsbGJhY2s/CiAgICB3aGVuICJodHRwIgogICAgICBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCB1cmxQYXRoLCAocmVzdWx0KSAtPgogICAgICAgIGNhbGxiYWNrKHJlc3VsdCkgaWYgY2FsbGJhY2s/CiAgICBlbHNlCiAgICAgIHRocm93ICJVUkwgdHlwZSBub3QgeWV0IGltcGxlbWVudGVkOiAje3VybFNjaGVtZX0iCgogIHJldHVybiBhc3Nlc3NtZW50CgoKQXNzZXNzbWVudC5sb2FkRnJvbUxvY2FsU3RvcmFnZSA9ICh1cmxQYXRoKSAtPgogIGFzc2Vzc21lbnRPYmplY3QgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSkKICB0aHJvdyAiQ291bGQgbm90IGxvYWQgbG9jYWxTdG9yYWdlWycje3VybFBhdGh9J10sICN7ZXJyb3J9IiB1bmxlc3MgYXNzZXNzbWVudE9iamVjdD8KICBhc3Nlc3NtZW50ID0gbmV3IEFzc2Vzc21lbnQoYXNzZXNzbWVudE9iamVjdC5uYW1lKQogIGFzc2Vzc21lbnQudXJsU2NoZW1lID0gImxvY2Fsc3RvcmFnZSIKICBwYWdlcyA9IFtdCiAgZm9yIHVybFBhdGggaW4gYXNzZXNzbWVudE9iamVjdC51cmxQYXRoc0ZvclBhZ2VzCiAgICBwYWdlcy5wdXNoKEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UodXJsUGF0aCkpCiAgYXNzZXNzbWVudC5zZXRQYWdlcyhwYWdlcykKICByZXR1cm4gYXNzZXNzbWVudAoKQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAgPSAodXJsLCBjYWxsYmFjaykgLT4KICBhc3Nlc3NtZW50ID0gbnVsbAogIGJhc2VVcmwgPSB1cmwuc3Vic3RyaW5nKDAsdXJsLmxhc3RJbmRleE9mKCIvIikrMSkKICAkLmFqYXgKICAgIHVybDogdXJsLAogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogKHJlc3VsdCkgLT4KICAgICAgdHJ5CiAgICAgICAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KHJlc3VsdC5uYW1lKQogICAgICAgIHBhZ2VzID0gW10KICAgICAgICBmb3IgdXJsUGF0aCBpbiByZXN1bHQudXJsUGF0aHNGb3JQYWdlcwogICAgICAgICAgdXJsID0gYmFzZVVybCArIHVybFBhdGgKICAgICAgICAgIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQIHt1cmw6IHVybCwgYXN5bmM6IGZhbHNlfSwgKHJlc3VsdCkgPT4KICAgICAgICAgICAgcmVzdWx0LmFzc2Vzc21lbnQgPSBhc3Nlc3NtZW50CiAgICAgICAgICAgIHBhZ2VzLnB1c2ggcmVzdWx0CiAgICAgICAgYXNzZXNzbWVudC5zZXRQYWdlcyhwYWdlcykKICAgICAgICBjYWxsYmFjayhhc3Nlc3NtZW50KSBpZiBjYWxsYmFjaz8KICAgICAgY2F0Y2ggZXJyb3IKICAgICAgICBjb25zb2xlLmxvZyAiRXJyb3IgaW4gQXNzZXNzbWVudC5sb2FkRnJvbUhUVFA6IiArIGVycm9yCgogICAgZXJyb3I6IC0+CiAgICAgIHRocm93ICJGYWlsZWQgdG8gbG9hZDogI3t1cmx9IgogIHJldHVybiBhc3Nlc3NtZW50Cg==", "content_type": ""}, "models/jqueryMobilePage.coffee": {"data": "Zm9vdGVyTWVzc2FnZSA9ICJHb29kIGVmZm9ydCwgbGV0J3MgZ28gb250byB0aGUgbmV4dCBwYWdlIgoKY2xhc3MgSlF1ZXJ5TW9iaWxlUGFnZQogICMgVE9ETyBjb252ZXJ0IGFsbCBzdWJjbGFzc2VkIGNsYXNzZXMgdG8gdXNlIHRoZSBvcHRpb25zIGNvbnN0cnVjdG9yLCBnZXQgcmlkIG9mIGRlc2VyaWFsaXplLCBsb2FkLCBldGMuCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQHBhZ2VJZCA9IG9wdGlvbnM/LnBhZ2VJZCB8fCAiIgogICAgQHBhZ2VUeXBlID0gb3B0aW9ucz8ucGFnZVR5cGUgfHwgdGhpcy5jb25zdHJ1Y3Rvci50b1N0cmluZygpLm1hdGNoKC9mdW5jdGlvbiArKC4qPylcKC8pWzFdCgogIHJlbmRlcjogLT4KICAgIE11c3RhY2hlLnRvX2h0bWwoQF90ZW1wbGF0ZSgpLHRoaXMpCgogICN1cmw6IC0+CiAgIyAgcmV0dXJuICIje0B1cmxTY2hlbWV9Oi8vI3tAdXJsUGF0aH0iCgogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPiBbCiAgICAicGFnZUlkIgogICAgInBhZ2VUeXBlIgogICAgInVybFBhdGgiCiAgICAidXJsU2NoZW1lIgogIF0KCiAgbmFtZTogLT4KICAgICMgSW5zZXJ0IHNwYWNlcyBhbmQgZG8gcHJvcGVyIGNhc2luZwogICAgQHBhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKQoKICB0b0pTT046IC0+CiAgICBvYmplY3QgPSB7fQogICAgZm9yIHByb3BlcnR5IGluIEBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbigpCiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSB0aGlzW3Byb3BlcnR5XQogICAgcmV0dXJuIG9iamVjdAoKICBsb2FkOiAoZGF0YSkgLT4KICAgIGZvciBwcm9wZXJ0eSBpbiBAcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb24oKQogICAgICB0aGlzW3Byb3BlcnR5XSA9IGRhdGFbcHJvcGVydHldCgogIHNhdmU6IC0+CiAgICBzd2l0Y2ggQHVybFNjaGVtZQogICAgICB3aGVuICJsb2NhbHN0b3JhZ2UiCiAgICAgICAgcmV0dXJuIEBzYXZlVG9Mb2NhbFN0b3JhZ2UoKQogICAgICBlbHNlCiAgICAgICAgdGhyb3cgIlVSTCB0eXBlIG5vdCB5ZXQgaW1wbGVtZW50ZWQ6ICN7QHVybFNjaGVtZX0iCgogIHNhdmVUb0xvY2FsU3RvcmFnZTogLT4KICAgIHRocm93ICJDYW4ndCBzYXZlIHBhZ2UgJyN7QHBhZ2VJZH0nIHRvIGxvY2FsU3RvcmFnZTogTm8gdXJsUGF0aCEiIHVubGVzcyBAdXJsUGF0aD8KICAgIGxvY2FsU3RvcmFnZVtAdXJsUGF0aF0gPSBKU09OLnN0cmluZ2lmeSh0aGlzKQoKICBzYXZlVG9Db3VjaERCOiAoY2FsbGJhY2spIC0+CiAgICBAbG9hZGluZyA9IHRydWUKICAgIEB1cmxTY2hlbWUgPSAiaHR0cCIKICAgIEB1cmxQYXRoID0gQHVybFBhdGguc3Vic3RyaW5nKEB1cmxQYXRoLmluZGV4T2YoIi8iKSsxKQogICAgdXJsID0gJC5jb3VjaERCRGF0YWJhc2VQYXRoICsgQHVybFBhdGgKICAgICQuYWpheAogICAgICB1cmw6IHVybCwKICAgICAgYXN5bmM6IHRydWUsCiAgICAgIHR5cGU6ICdQVVQnLAogICAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh0aGlzKSwKICAgICAgc3VjY2VzczogKHJlc3VsdCkgPT4KICAgICAgICBAcmV2aXNpb24gPSByZXN1bHQucmV2CiAgICAgIGVycm9yOiAtPgogICAgICAgIHRocm93ICJDb3VsZCBub3QgUFVUIHRvICN7dXJsfSIKICAgICAgY29tcGxldGU6ID0+CiAgICAgICAgQGxvYWRpbmcgPSBmYWxzZQogICAgICAgIGNhbGxiYWNrKCkgaWYgY2FsbGJhY2s/CgogIGRlbGV0ZUZyb21Mb2NhbFN0b3JhZ2U6IC0+CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShAdXJsUGF0aCkKCiAgZGVsZXRlRnJvbUNvdWNoREI6IC0+CiAgICB1cmwgPSAgQHVybFBhdGggKyAiP3Jldj0je0ByZXZpc2lvbn0iCiAgICAkLmFqYXgKICAgICAgdXJsOiB1cmwKICAgICAgdHlwZTogJ0RFTEVURScsCiAgICAgIGNvbXBsZXRlOiAtPgogICAgICAgIGNhbGxiYWNrKCkgaWYgY2FsbGJhY2s/CiAgICAgIGVycm9yOiAtPgogICAgICAgIHRocm93ICJFcnJvciBkZWxldGluZyAje3VybH0iCgogIF90ZW1wbGF0ZTogLT4gIgo8ZGl2IGRhdGEtcm9sZT0ncGFnZScgaWQ9J3t7e3BhZ2VJZH19Jz4KICA8ZGl2IGRhdGEtcm9sZT0naGVhZGVyJz4KICAgIDxhIGhyZWY9J1wje3twcmV2aW91c1BhZ2V9fSc+QmFjazwvYT4KICAgIDxoMT57e25hbWV9fTwvaDE+CiAgPC9kaXY+PCEtLSAvaGVhZGVyIC0tPgogIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JCiAgICB7e3tjb250cm9sc319fQogICAge3t7Y29udGVudH19fQogIDwvZGl2PjwhLS0gL2NvbnRlbnQgLS0+CiAgPGRpdiBkYXRhLXJvbGU9J2Zvb3Rlcic+CiAgICB7e2Zvb3Rlck1lc3NhZ2V9fQogICAgPGJ1dHRvbiBocmVmPSdcI3t7bmV4dFBhZ2V9fSc+TmV4dDwvYnV0dG9uPgogIDwvZGl2PjwhLS0gL2Zvb3RlciAtLT4KPC9kaXY+PCEtLSAvcGFnZSAtLT4KIgogIHRvUGFwZXI6IC0+CiAgICBAY29udGVudAoKI1RPRE8gRml4IHRoaXMKIyBTaG91bGQgbm90IG5lZWQgdGhlc2Ugc2VwYXJhdGUgZGVzZXJpYWxpemUganVzdCB1c2UgdGhlIGxhc3QgZ2VuZXJpYyBvbmUgYW5kIHRoZSBjb25zdHJ1Y3RvcgpKUXVlcnlNb2JpbGVQYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc3dpdGNoIHBhZ2VPYmplY3QucGFnZVR5cGUKICAgIHdoZW4gIlNjaG9vbFBhZ2UiCiAgICAgIHJldHVybiBTY2hvb2xQYWdlLmRlc2VyaWFsaXplKHBhZ2VPYmplY3QpCiAgICB3aGVuICJTdHVkZW50SW5mb3JtYXRpb25QYWdlIgogICAgICByZXR1cm4gU3R1ZGVudEluZm9ybWF0aW9uUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiVW50aW1lZFN1YnRlc3QiCiAgICAgIHJldHVybiBVbnRpbWVkU3VidGVzdC5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiVW50aW1lZFN1YnRlc3RMaW5rZWQiCiAgICAgIHJldHVybiBVbnRpbWVkU3VidGVzdExpbmtlZC5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgd2hlbiAiUGhvbmVtZVBhZ2UiCiAgICAgIHJldHVybiBQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZShwYWdlT2JqZWN0KQogICAgZWxzZQogICAgICByZXN1bHQgPSBuZXcgd2luZG93W3BhZ2VPYmplY3QucGFnZVR5cGVdKHBhZ2VPYmplY3QpCiAgICAgIHJlc3VsdC5sb2FkKHBhZ2VPYmplY3QpCiAgICAgIHJldHVybiByZXN1bHQKCkpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21Mb2NhbFN0b3JhZ2UgPSAodXJsUGF0aCkgLT4KICBqcXVlcnlNb2JpbGVQYWdlID0gSlF1ZXJ5TW9iaWxlUGFnZS5kZXNlcmlhbGl6ZShKU09OLnBhcnNlKGxvY2FsU3RvcmFnZVt1cmxQYXRoXSkpCiAganF1ZXJ5TW9iaWxlUGFnZS51cmxTY2hlbWUgPSAibG9jYWxzdG9yYWdlIgogIHJldHVybiBqcXVlcnlNb2JpbGVQYWdlCgpKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUCA9IChvcHRpb25zLCBjYWxsYmFjaykgLT4KICB0aHJvdyAiTXVzdCBwYXNzICd1cmwnIG9wdGlvbiB0byBsb2FkRnJvbUhUVFAsIHJlY2VpdmVkOiAje29wdGlvbnN9IiB1bmxlc3Mgb3B0aW9ucy51cmw/CiAgaWYgb3B0aW9ucy51cmwubWF0Y2goL2h0dHAvKQogICAgdXJsUGF0aCA9IG9wdGlvbnMudXJsLnN1YnN0cmluZyhvcHRpb25zLnVybC5sYXN0SW5kZXhPZigiOi8vIikrMykKICBlbHNlCiAgICB1cmxQYXRoID0gb3B0aW9ucy51cmwKICAjIGV4dGVuZCB3aWxsIG1lcmdlIHR3byBhc3NvY2lhdGl2ZSBhcnJheXMKICAkLmV4dGVuZCBvcHRpb25zLAogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogKHJlc3VsdCkgLT4KICAgICAgdHJ5CiAgICAgICAganF1ZXJ5TW9iaWxlUGFnZSA9IEpRdWVyeU1vYmlsZVBhZ2UuZGVzZXJpYWxpemUocmVzdWx0KQogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UudXJsUGF0aCA9IHVybFBhdGgKICAgICAgICBqcXVlcnlNb2JpbGVQYWdlLnVybFNjaGVtZSA9ICJodHRwIgogICAgICAgIGpxdWVyeU1vYmlsZVBhZ2UucmV2aXNpb24gPSByZXN1bHQuX3JldgogICAgICAgIGNhbGxiYWNrKGpxdWVyeU1vYmlsZVBhZ2UpIGlmIGNhbGxiYWNrPwogICAgICBjYXRjaCBlcnJvcgogICAgICAgIGNvbnNvbGUubG9nICJFcnJvciBpbiBKUXVlcnlNb2JpbGVQYWdlLmxvYWRGcm9tSFRUUDogIiArIGVycm9yCiAgICAgICAgY29uc29sZS50cmFjZSgpCiAgICAgICAgY29uc29sZS5sb2cgcmVzdWx0CiAgICBlcnJvcjogLT4KICAgICAgdGhyb3cgIkZhaWxlZCB0byBsb2FkOiAje3VybFBhdGh9IgogICQuYWpheCBvcHRpb25zCgoKSlF1ZXJ5TW9iaWxlUGFnZS5sb2FkRnJvbUNvdWNoREIgPSAodXJsUGF0aCwgY2FsbGJhY2spIC0+CiAgcmV0dXJuIEpRdWVyeU1vYmlsZVBhZ2UubG9hZEZyb21IVFRQKHt1cmw6JC5jb3VjaERCRGF0YWJhc2VQYXRoK3VybFBhdGh9LCBjYWxsYmFjaykKCmNsYXNzIEFzc2Vzc21lbnRQYWdlIGV4dGVuZHMgSlF1ZXJ5TW9iaWxlUGFnZQogIGFkZFRpbWVyOiAtPgogICAgQHRpbWVyID0gbmV3IFRpbWVyKHtwYWdlOiB0aGlzfSkKCiAgICBAY29udHJvbHMgPSAiCiAgICAgIDxkaXYgY2xhc3M9J2NvbnRyb2xzJyBzdHlsZT0nd2lkdGg6IDEwMHB4O3Bvc2l0aW9uOmZpeGVkO3RvcDoxMDBweDtyaWdodDo1cHg7ei1pbmRleDoxMCc+CiAgICAgICAgPGRpdiBjbGFzcz0ndGltZXInPgogICAgICAgICAgI3tAdGltZXIucmVuZGVyKCl9CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGJyLz4KICAgICAgICA8YnIvPgogICAgICAgIDxkaXYgY2xhc3M9J21lc3NhZ2UnPgogICAgICAgIDwvZGl2PgogICAgICA8L2Rpdj4iCgojIwojIEJ5IGRlZmF1bHQgd2UgZXhwZWN0IGFsbCBpbnB1dCBmaWVsZHMgdG8gYmUgZmlsbGVkCiMjCiAgdmFsaWRhdGU6IC0+CiAgICBmb3IgaW5wdXRFbGVtZW50IGluICQoImRpdiMje0BwYWdlSWR9IGZvcm0gaW5wdXQiKQogICAgICBpZiAkKGlucHV0RWxlbWVudCkudmFsKCkgPT0gIiIKICAgICAgICByZXR1cm4gIicjeyQoImxhYmVsW2Zvcj0iK2lucHV0RWxlbWVudC5pZCsiXSIpLmh0bWwoKX0nIGlzIGVtcHR5IgogICAgcmV0dXJuIHRydWUKCiAgcmVzdWx0czogLT4KICAgIG9iamVjdERhdGEgPSB7fQogICAgJC5lYWNoICQoImRpdiMje0BwYWdlSWR9IGZvcm0iKS5zZXJpYWxpemVBcnJheSgpLCAoKSAtPgogICAgICBpZiB0aGlzLnZhbHVlPwogICAgICAgIHZhbHVlID0gdGhpcy52YWx1ZQogICAgICBlbHNlCiAgICAgICAgdmFsdWUgPSAnJwoKICAgICAgaWYgb2JqZWN0RGF0YVt0aGlzLm5hbWVdPwogICAgICAgIHVubGVzcyBvYmplY3REYXRhW3RoaXMubmFtZV0ucHVzaAogICAgICAgICAgb2JqZWN0RGF0YVt0aGlzLm5hbWVdID0gW29iamVjdERhdGFbdGhpcy5uYW1lXV0KCiAgICAgICAgb2JqZWN0RGF0YVt0aGlzLm5hbWVdLnB1c2ggdmFsdWUKICAgICAgZWxzZQogICAgICAgIG9iamVjdERhdGFbdGhpcy5uYW1lXSA9IHZhbHVlCgogICAgcmV0dXJuIG9iamVjdERhdGEKCkFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uID0gLT4KICByZXR1cm4gdW5sZXNzICQuYXNzZXNzbWVudD8KICBwYXNzZWRWYWxpZGF0aW9uID0gKCQuYXNzZXNzbWVudC5jdXJyZW50UGFnZS52YWxpZGF0ZSgpIGlzIHRydWUpCiAgJCgnZGl2LnVpLWZvb3RlciBidXR0b24nKS50b2dnbGVDbGFzcygicGFzc2VkVmFsaWRhdGlvbiIsIHBhc3NlZFZhbGlkYXRpb24pCiAgJCgnZGl2LnVpLWZvb3RlciBkaXYudWktYnRuJykudG9nZ2xlQ2xhc3MoInVpLWJ0bi11cC1iIixwYXNzZWRWYWxpZGF0aW9uKS50b2dnbGVDbGFzcygidWktYnRuLXVwLWMiLCAhcGFzc2VkVmFsaWRhdGlvbikKCnNldEludGVydmFsKEFzc2Vzc21lbnRQYWdlLnZhbGlkYXRlQ3VycmVudFBhZ2VVcGRhdGVOZXh0QnV0dG9uLCA4MDApCgojIFNob3cgdmFsaWRhdGlvbiBlcnJvcnMgaW4gYSBkaWFsb2cgcGFnZQokKCdkaXYudWktZm9vdGVyIGJ1dHRvbicpLmxpdmUgJ2NsaWNrJywgKGV2ZW50LHVpKSAtPgogIHZhbGlkYXRpb25SZXN1bHQgPSAkLmFzc2Vzc21lbnQuY3VycmVudFBhZ2UudmFsaWRhdGUoKQogIGlmIHZhbGlkYXRpb25SZXN1bHQgaXMgdHJ1ZQogICAgYnV0dG9uID0gJChldmVudC5jdXJyZW50VGFyZ2V0KQogICAgJC5tb2JpbGUuY2hhbmdlUGFnZShidXR0b24uYXR0cigiaHJlZiIpKQogIGVsc2UKICAgICQoIiNfaW5mb1BhZ2UgZGl2W2RhdGEtcm9sZT0nY29udGVudCddIikuaHRtbCgKICAgICAgIlBsZWFzZSBmaXggdGhlIGZvbGxvd2luZyBiZWZvcmUgcHJvY2VlZGluZzo8YnIvPiIgKwogICAgICB2YWxpZGF0aW9uUmVzdWx0CiAgICApCiAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjX2luZm9QYWdlIikKCgpjbGFzcyBKUXVlcnlMb2dpbiBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IC0+CiAgICBzdXBlcigpCiAgICBAcmFuZG9tSWRGb3JTdWJqZWN0ID0gKCIiK01hdGgucmFuZG9tKCkpLnN1YnN0cmluZygyLDgpCiAgICBAcmFuZG9tSWRGb3JTdWJqZWN0ID0gQHJhbmRvbUlkRm9yU3ViamVjdC5zdWJzdHIoMCwzKSArICItIiArIEByYW5kb21JZEZvclN1YmplY3Quc3Vic3RyKDMpCiAgICBAY29udGVudCA9ICIKPGZvcm0+CiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICA8bGFiZWwgZm9yPSd1c2VybmFtZSc+VXNlcm5hbWU6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd1c2VybmFtZScgaWQ9J3VzZXJuYW1lJyB2YWx1ZT0nJyAvPgogICAgPGxhYmVsIGZvcj0ncGFzc3dvcmQnPlBhc3N3b3JkOjwvbGFiZWw+CiAgICA8aW5wdXQgdHlwZT0ncGFzc3dvcmQnIG5hbWU9J3Bhc3N3b3JkJyBpZD0ncGFzc3dvcmQnIHZhbHVlPScnIC8+CiAgPC9kaXY+CjwvZm9ybT4KIgogICAgJCgiZGl2IikubGl2ZSAicGFnZXNob3ciLCAtPgogICAgICAkLmFzc2Vzc21lbnQuaGFuZGxlVVJMUGFyYW1ldGVycygpCiAgICAgIHVubGVzcyAkLmFzc2Vzc21lbnQuaGFzVXNlckF1dGhlbnRpY2F0ZWQoKSBvciAoJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnBhZ2VJZCBpcyAiTG9naW4iKQogICAgICAgICQubW9iaWxlLmNoYW5nZVBhZ2UoIiNMb2dpbiIpCgogIHVzZXI6IC0+CiAgICBAcmVzdWx0cygpLnVzZXJuYW1lCgogIHBhc3N3b3JkOiAtPgogICAgQHJlc3VsdHMoKS5wYXNzd29yZAoKICByZXN1bHRzOiAtPgogICAgcmVzdWx0cyA9IHN1cGVyKCkKICAgIHJlc3VsdHNbInJhbmRvbUlkRm9yU3ViamVjdCJdID0gQHJhbmRvbUlkRm9yU3ViamVjdAogICAgcmV0dXJuIHJlc3VsdHMKICAgIAoKY2xhc3MgU3R1ZGVudEluZm9ybWF0aW9uUGFnZSBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJyYWRpb0J1dHRvbnMiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgdmFsaWRhdGU6IC0+CiAgICAKICAgIGlmICQoIiNTdHVkZW50SW5mb3JtYXRpb24gaW5wdXQ6J3JhZGlvJzpjaGVja2VkIikubGVuZ3RoID09IDcKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgI2NvbnNvbGUubG9nICQoIiNTdHVkZW50SW5mb3JtYXRpb24gaW5wdXRbdHlwZT0ncmFkaW8nXSIpLm5vdCgiOmNoZWNrZWQiKQogICAgICAjIHJldHVybiB3aGljaCBlbGVtZW50IGlzIG5vdCBzZWxlY3RlZAogICAgICByZXR1cm4gIkFsbCBlbGVtZW50cyBhcmUgcmVxdWlyZWQiCgpTdHVkZW50SW5mb3JtYXRpb25QYWdlLnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlICIKICA8Zm9ybT4KICAgIHt7I3JhZGlvQnV0dG9uc319CiAgICAgIDxmaWVsZHNldCBkYXRhLXR5cGU9J3t7dHlwZX19JyBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCc+CiAgICAgICAgPGxlZ2VuZD57e2xhYmVsfX08L2xlZ2VuZD4KICAgICAgICB7eyNvcHRpb25zfX0KICAgICAgICAgIDxsYWJlbCBmb3I9J3t7Ln19Jz57ey59fTwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3t7Li4vbmFtZX19JyB2YWx1ZT0ne3sufX0nIGlkPSd7ey59fSc+PC9pbnB1dD4KICAgICAgICB7ey9vcHRpb25zfX0KICAgICAgPC9maWVsZHNldD4KICAgIHt7L3JhZGlvQnV0dG9uc319CiAgPC9mb3JtPgoiCgpTdHVkZW50SW5mb3JtYXRpb25QYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc3R1ZGVudEluZm9ybWF0aW9uUGFnZSA9IG5ldyBTdHVkZW50SW5mb3JtYXRpb25QYWdlKCkKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlLmxvYWQocGFnZU9iamVjdCkKICBzdHVkZW50SW5mb3JtYXRpb25QYWdlLmNvbnRlbnQgPSBTdHVkZW50SW5mb3JtYXRpb25QYWdlLnRlbXBsYXRlKHN0dWRlbnRJbmZvcm1hdGlvblBhZ2UpCiAgcmV0dXJuIHN0dWRlbnRJbmZvcm1hdGlvblBhZ2UKCmNsYXNzIFNjaG9vbFBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT4KICAgIHN1cGVyKG9wdGlvbnMpCiAgICBAc2Nob29scyA9IG9wdGlvbnMuc2Nob29scwogICAgJCgiZGl2IyN7QHBhZ2VJZH0gbGkiKS5saXZlICJtb3VzZWRvd24iLCAoZXZlbnREYXRhKSA9PgogICAgICBzZWxlY3RlZEVsZW1lbnQgPSAkKGV2ZW50RGF0YS5jdXJyZW50VGFyZ2V0KQogICAgICBmb3IgZGF0YUF0dHJpYnV0ZSBpbiBbIm5hbWUiLCJwcm92aW5jZSIsImRpc3RyaWN0Iiwic2Nob29sSWQiXQogICAgICAgICQoImRpdiMje0BwYWdlSWR9IGZvcm0gaW5wdXQjI3tkYXRhQXR0cmlidXRlfSIpLnZhbChzZWxlY3RlZEVsZW1lbnQuYXR0cigiZGF0YS0je2RhdGFBdHRyaWJ1dGV9IikpCgoKICBwcm9wZXJ0aWVzRm9yU2VyaWFsaXphdGlvbjogLT4KICAgIHByb3BlcnRpZXMgPSBzdXBlcigpCiAgICBwcm9wZXJ0aWVzLnB1c2goInNjaG9vbHMiKQogICAgcHJvcGVydGllcy5wdXNoKCJzZWxlY3ROYW1lVGV4dCIpCiAgICBwcm9wZXJ0aWVzLnB1c2gocHJvcGVydHkrIlRleHQiKSBmb3IgcHJvcGVydHkgaW4gWyJuYW1lIiwicHJvdmluY2UiLCJkaXN0cmljdCIsInNjaG9vbElkIl0KICAgIHJldHVybiBwcm9wZXJ0aWVzCgogICNUT0RPIHJlbW92ZSBvbkNsaWNrLCBzd2l0Y2ggdG8gbGl2ZQogIF9zY2hvb2xUZW1wbGF0ZTogLT4KICAgIHByb3BlcnRpZXMgPSBbIm5hbWUiLCJwcm92aW5jZSIsImRpc3RyaWN0Iiwic2Nob29sSWQiXQoKICAgIGxpc3RBdHRyaWJ1dGVzID0gIiIKICAgIGZvciBkYXRhQXR0cmlidXRlIGluIHByb3BlcnRpZXMKICAgICAgbGlzdEF0dHJpYnV0ZXMgKz0gImRhdGEtI3tkYXRhQXR0cmlidXRlfT0ne3sje2RhdGFBdHRyaWJ1dGV9fX0nICIKICAgIGxpc3RFbGVtZW50ID0gIjxsaSAje2xpc3RBdHRyaWJ1dGVzfT57e2Rpc3RyaWN0fX0gLSB7e3Byb3ZpbmNlfX0gLSB7e25hbWV9fTwvbGk+IgoKICAgIGlucHV0RWxlbWVudHMgPSAiIgogICAgZm9yIGRhdGFBdHRyaWJ1dGUgaW4gcHJvcGVydGllcwogICAgICBpbnB1dEVsZW1lbnRzICs9ICIKICAgICAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICAgICAgPGxhYmVsIGZvcj0nI3tkYXRhQXR0cmlidXRlfSc+e3sje2RhdGFBdHRyaWJ1dGV9VGV4dH19PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ndGV4dCcgbmFtZT0nI3tkYXRhQXR0cmlidXRlfScgaWQ9JyN7ZGF0YUF0dHJpYnV0ZX0nPjwvaW5wdXQ+CiAgICAgIDwvZGl2PgogICAgICAiCiAgCiAgICByZXR1cm4gIgogICAgPGRpdj4KICAgICAgPGg0PgogICAgICAgIHt7c2VsZWN0U2Nob29sVGV4dH19CiAgICAgIDwvaDQ+CiAgICA8L2Rpdj4KICAgIDx1bCBzdHlsZT0nZGlzcGxheTpub25lJyBkYXRhLWZpbHRlcj0ndHJ1ZScgZGF0YS1maWx0ZXItcGxhY2Vob2xkZXI9J1NlYXJjaCBmb3Igc2Nob29sLi4uJyBkYXRhLXJvbGU9J2xpc3R2aWV3Jz4KICAgICAge3sjc2Nob29sc319CiAgICAgICAgI3tsaXN0RWxlbWVudH0KICAgICAge3svc2Nob29sc319CiAgICA8L3VsPgogICAgPGJyLz4KICAgIDxici8+CiAgICA8Zm9ybT4KICAgICAgI3tpbnB1dEVsZW1lbnRzfQogICAgPC9mb3JtPgogICIKCgogIHZhbGlkYXRlOiAtPgogICAgZm9yIGlucHV0RWxlbWVudCBpbiAkKCJkaXYjI3tAcGFnZUlkfSBmb3JtIGRpdi51aS1maWVsZC1jb250YWluIGlucHV0IikKICAgICAgaWYgJChpbnB1dEVsZW1lbnQpLnZhbCgpID09ICIiCiAgICAgICAgcmV0dXJuICInI3skKCJsYWJlbFtmb3I9IitpbnB1dEVsZW1lbnQuaWQrIl0iKS5odG1sKCl9JyBpcyBlbXB0eSIKICAgIHJldHVybiB0cnVlCgpTY2hvb2xQYWdlLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgc2Nob29sUGFnZSA9IG5ldyBTY2hvb2xQYWdlKHBhZ2VPYmplY3QpCiAgc2Nob29sUGFnZS5sb2FkKHBhZ2VPYmplY3QpCiAgc2Nob29sUGFnZS5jb250ZW50ID0gTXVzdGFjaGUudG9faHRtbChzY2hvb2xQYWdlLl9zY2hvb2xUZW1wbGF0ZSgpLHNjaG9vbFBhZ2UpCiAgcmV0dXJuIHNjaG9vbFBhZ2UKCgojIEhBQ0shClNjaG9vbFBhZ2UuaGlkZUxpc3RVbnRpbFNlYXJjaCA9IC0+CiAgaWYgJCgiI1NjaG9vbCBpbnB1dFtkYXRhLXR5cGU9J3NlYXJjaCddIikudmFsKCkgIT0gIiIKICAgICQoIiNTY2hvb2wgdWwiKS5zaG93KCkKICAgIGNsZWFySW50ZXJ2YWwoaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsKQoKaGlkZUxpc3RVbnRpbFNlYXJjaEludGVydmFsID0gc2V0SW50ZXJ2YWwoU2Nob29sUGFnZS5oaWRlTGlzdFVudGlsU2VhcmNoLDUwMCkKCgojVE9ETyBJbnRlcm5hdGlvbmFsaXplCmNsYXNzIERhdGVUaW1lUGFnZSBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCgogIGxvYWQ6IChkYXRhKSAtPgogICAgQGNvbnRlbnQgPSAiCjxmb3JtPgogIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgPGxhYmVsIGZvcj0neWVhcic+WWVhcjo8L2xhYmVsPgogICAgPGlucHV0IHR5cGU9J251bWJlcicgbmFtZT0neWVhcicgaWQ9J3llYXInIC8+CiAgPC9kaXY+CiAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICA8bGFiZWwgZm9yPSdtb250aCc+TW9udGg6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSdtb250aCcgaWQ9J21vbnRoJyAvPgogIDwvZGl2PgogIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgPGxhYmVsIGZvcj0nZGF5Jz5EYXk6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSdudW1iZXInIG5hbWU9J2RheScgaWQ9J2RheScgLz4KICA8L2Rpdj4KICA8ZGl2IGRhdGEtcm9sZT0nZmllbGRjb250YWluJz4KICAgIDxsYWJlbCBmb3I9J3RpbWUnPlRpbWU6PC9sYWJlbD4KICAgIDxpbnB1dCB0eXBlPSd0ZXh0JyBuYW1lPSd0aW1lJyBpZD0ndGltZScgLz4KICA8L2Rpdj4KPC9mb3JtPgoiCiAgICBzdXBlcihkYXRhKQogICAgJCgiZGl2IyN7QHBhZ2VJZH0iKS5saXZlICJwYWdlc2hvdyIsID0+CiAgICAgIGRhdGVUaW1lID0gbmV3IERhdGUoKQogICAgICAkKCJkaXYjI3tAcGFnZUlkfSAjeWVhciIpLnZhbChkYXRlVGltZS5nZXRGdWxsWWVhcigpKQogICAgICAkKCJkaXYjI3tAcGFnZUlkfSAjbW9udGgiKS52YWwoWyJKYW4iLCJGZWIiLCJNYXIiLCJBcHIiLCJNYXkiLCJKdW4iLCJKdWwiLCJBdWciLCJTZXAiLCJPY3QiLCJOb3YiLCJEZWMiXVtkYXRlVGltZS5nZXRNb250aCgpXSkKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gI2RheSIpLnZhbChkYXRlVGltZS5nZXREYXRlKCkpCiAgICAgIG1pbnV0ZXMgPSBkYXRlVGltZS5nZXRNaW51dGVzKCkKICAgICAgbWludXRlcyA9ICIwIiArIG1pbnV0ZXMgaWYgbWludXRlcyA8IDEwCiAgICAgICQoImRpdiMje0BwYWdlSWR9ICN0aW1lIikudmFsKGRhdGVUaW1lLmdldEhvdXJzKCkgKyAiOiIgKyBtaW51dGVzKQogICAgICAKCmNsYXNzIFJlc3VsdHNQYWdlIGV4dGVuZHMgQXNzZXNzbWVudFBhZ2UKICBjb25zdHJ1Y3RvcjogKG9wdGlvbnMpIC0+CiAgICBzdXBlcihvcHRpb25zKQogICAgQGNvbnRlbnQgPSBIYW5kbGViYXJzLmNvbXBpbGUgIgogICAgICA8ZGl2IGNsYXNzPSdyZXN1bHRzTWVzc2FnZSc+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGRhdGEtcm9sZT0nY29sbGFwc2libGUnIGRhdGEtY29sbGFwc2VkPSd0cnVlJyBjbGFzcz0ncmVzdWx0cyc+CiAgICAgICAgPGgzPlJlc3VsdHM8L2gzPgogICAgICAgIDxwcmU+CiAgICAgICAgPC9wcmU+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSdtZXNzYWdlJz4KICAgICAgICBZb3UgaGF2ZSBmaW5pc2hlZCBhc3Nlc3NtZW50IDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4uIFRoYW5rIHRoZSBjaGlsZCB3aXRoIGEgc21hbGwgZ2lmdC4gUGxlYXNlIHdyaXRlIDxzcGFuIGNsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnPjwvc3Bhbj4gb24gdGhlIHdyaXRpbmcgc2FtcGxlLgogICAgICA8L2Rpdj4KICAgICAgPGRpdiBkYXRhLWlubGluZT0ndHJ1ZSc+CiAgICAgICAgPCEtLSBUT0RPIGluc2VydCB1c2VybmFtZS9wYXNzd29yZCBpbnRvIEdFVCBzdHJpbmcgc28gd2UgZG9uJ3QgaGF2ZSB0byByZXR5cGUgLS0+CiAgICAgICAgPCEtLQogICAgICAgIDxhIGRhdGEtaW5saW5lPSd0cnVlJyBkYXRhLXJvbGU9J2J1dHRvbicgcmVsPSdleHRlcm5hbCcgaHJlZj0nI0RhdGVUaW1lP3VzZXJuYW1lPSN7fSZwYXNzd29yZD0je30nPkJlZ2luIEFub3RoZXIgQXNzZXNzbWVudDwvYT4KICAgICAgICAtLT4KICAgICAgICA8YSBkYXRhLWlubGluZT0ndHJ1ZScgZGF0YS1yb2xlPSdidXR0b24nIHJlbD0nZXh0ZXJuYWwnIGhyZWY9JyN7JC5hc3Nlc3NtZW50LnJlc2V0VVJMKCl9Jz5CZWdpbiBBbm90aGVyIEFzc2Vzc21lbnQ8L2E+CiAgICAgICAgPGEgZGF0YS1pbmxpbmU9J3RydWUnIGRhdGEtcm9sZT0nYnV0dG9uJyByZWw9J2V4dGVybmFsJyBocmVmPScjeyQuY291Y2hEQkRhdGFiYXNlUGF0aH0vX2FsbF9kb2NzJz5TdW1tYXJ5PC9hPgogICAgICA8L2Rpdj4KICAgICIKCiAgbG9hZDogKGRhdGEpIC0+CiAgICBzdXBlcihkYXRhKQoKICAgICQoImRpdiMje0BwYWdlSWR9IikubGl2ZSAicGFnZXNob3ciLCA9PgoKCiAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdiBzcGFuW2NsYXNzPSdyYW5kb21JZEZvclN1YmplY3QnXSIpLmh0bWwoJC5hc3Nlc3NtZW50LnJlc3VsdHMoKT8uTG9naW4/LnJhbmRvbUlkRm9yU3ViamVjdCkKCiAgICAgICMgSGlkZSB0aGUgYmFjayBhbmQgbmV4dCBidXR0b25zCiAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2hlYWRlciddIGEiKS5oaWRlKCkKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gZGl2W2RhdGEtcm9sZT0nZm9vdGVyJ10gZGl2IikuaGlkZSgpCiAgICAgIHZhbGlkYXRpb25SZXN1bHQgPSAkLmFzc2Vzc21lbnQudmFsaWRhdGUoKQogICAgICBpZiB2YWxpZGF0aW9uUmVzdWx0ID09IHRydWUKICAgICAgICAkKCJkaXYjI3tAcGFnZUlkfSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10gZGl2LnJlc3VsdHNNZXNzYWdlIikuaHRtbCgiUmVzdWx0cyBWYWxpZGF0ZWQiKQogICAgICAgICQuYXNzZXNzbWVudC5zYXZlUmVzdWx0cyAocmVzdWx0cykgPT4KICAgICAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0c01lc3NhZ2UiKS5odG1sKCJSZXN1bHRzIFNhdmVkIikKICAgICAgICAgICQoImRpdiMje0BwYWdlSWR9IGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSBkaXYucmVzdWx0cyBwcmUiKS5odG1sKCBKU09OLnN0cmluZ2lmeShyZXN1bHRzLG51bGwsMikgKQogICAgICBlbHNlCiAgICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0gZGl2W2RhdGEtcm9sZT0nY29udGVudCddIGRpdi5yZXN1bHRzTWVzc2FnZSIpLmh0bWwoIkludmFsaWQgcmVzdWx0czo8YnIvPiAje3ZhbGlkYXRpb25SZXN1bHR9PGJyLz5Zb3UgbWF5IHN0YXJ0IHRoaXMgYXNzZXNzbWVudCBvdmVyIGFnYWluIGJ5IHNlbGVjdGluZyAnQmVpbmcgQW5vdGhlciBBc3Nlc3NtZW50JyBiZWxvdy4iKQoKY2xhc3MgVGV4dFBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPgogICAgcHJvcGVydGllcyA9IHN1cGVyKCkKICAgIHByb3BlcnRpZXMucHVzaCgiY29udGVudCIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKY2xhc3MgQ29uc2VudFBhZ2UgZXh0ZW5kcyBUZXh0UGFnZQogICAgJCgiZGl2IyN7QHBhZ2VJZH0gbGFiZWxbZm9yPSdjb25zZW50LW5vJ10iKS5saXZlICJtb3VzZWRvd24iLCAoZXZlbnREYXRhKSA9PgogICAgICAkKCIjX2luZm9QYWdlIGRpdltkYXRhLXJvbGU9J2NvbnRlbnQnXSIpLmh0bWwoIjxiPlRoYW5rIHlvdSBmb3IgeW91ciB0aW1lPC9iPi4gU2F2aW5nIHBhcnRpYWwgcmVzdWx0cy4iKQogICAgICAkLm1vYmlsZS5jaGFuZ2VQYWdlKCIjX2luZm9QYWdlIikKICAgICAgJC5hc3Nlc3NtZW50LnNhdmVSZXN1bHRzIChyZXN1bHRzKSA9PgogICAgICAgIHNldFRpbWVvdXQgKCAtPgogICAgICAgICAgJCgiI19pbmZvUGFnZSBkaXZbZGF0YS1yb2xlPSdjb250ZW50J10iKS5odG1sKCJSZXNldHRpbmcgYXNzZXNzbWVudCBmb3IgbmV4dCBzdHVkZW50LiIpCiAgICAgICAgICBzZXRUaW1lb3V0ICggLT4KICAgICAgICAgICAgJC5hc3Nlc3NtZW50LnJlc2V0KCkKICAgICAgICAgICksIDEwMDAKICAgICAgICApLCAyMDAwCgoKICB2YWxpZGF0ZTogLT4KICAgIHJldHVybiB0cnVlCiAgICBpZiAkKCJkaXYjI3tAcGFnZUlkfSBpbnB1dFtAbmFtZT0nY2hpbGRDb25zZW50cyddOmNoZWNrZWQiKS52YWwoKQogICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZQogICAgICByZXR1cm4gIllvdSBtdXN0IGFuc3dlciB0aGUgY29uc2VudCBxdWVzdGlvbiIKCgpjbGFzcyBVbnRpbWVkU3VidGVzdCBleHRlbmRzIEFzc2Vzc21lbnRQYWdlCiAgY29uc3RydWN0b3I6IChvcHRpb25zKSAtPgogICAgQHF1ZXN0aW9ucyA9IG9wdGlvbnMucXVlc3Rpb25zCiAgICBzdXBlcihvcHRpb25zKQogICAgQGZvb3Rlck1lc3NhZ2UgPSBmb290ZXJNZXNzYWdlCiAgICBAY29udGVudCA9ICI8Zm9ybT4iICsgKGZvciBxdWVzdGlvbixpbmRleCBpbiBAcXVlc3Rpb25zCiAgICAgIHF1ZXN0aW9uTmFtZSA9IEBwYWdlSWQgKyAiLXF1ZXN0aW9uLSIgKyBpbmRleAogICAgICAiCiAgICAgIDxkaXYgZGF0YS1yb2xlPSdmaWVsZGNvbnRhaW4nPgogICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPgogICAgICAgICAgICA8bGVnZW5kPiN7cXVlc3Rpb259PC9sZWdlbmQ+CiAgICAgICIgKwogICAgICAoZm9yIGFuc3dlciBpbiBbIkNvcnJlY3QiLCAiSW5jb3JyZWN0IiwgIk5vIHJlc3BvbnNlIl0KICAgICAgICAiCiAgICAgICAgPGxhYmVsIGZvcj0nI3txdWVzdGlvbk5hbWV9LSN7YW5zd2VyfSc+I3thbnN3ZXJ9PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9JyN7cXVlc3Rpb25OYW1lfScgaWQ9JyN7cXVlc3Rpb25OYW1lfS0je2Fuc3dlcn0nIHZhbHVlPScje2Fuc3dlcn0nIC8+CiAgICAgICAgIgogICAgICApLmpvaW4oIiIpICsKICAgICAgIgogICAgICAgICAgPC9maWVsZHNldD4KICAgICAgPC9kaXY+CiAgICAgICIKICAgICkuam9pbigiIikgKyAiPC9mb3JtPiIKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJxdWVzdGlvbnMiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgdmFsaWRhdGU6IC0+CiAgICBpZiBfLnNpemUoQHJlc3VsdHMoKSkgPT0gQHF1ZXN0aW9ucy5sZW5ndGgKICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UgIk9ubHkgI3tfLnNpemUoQHJlc3VsdHMoKSl9IG91dCBvZiB0aGUgI3tAcXVlc3Rpb25zLmxlbmd0aH0gcXVlc3Rpb25zIHdlcmUgYW5zd2VyZWQiCgoKVW50aW1lZFN1YnRlc3QuZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdChwYWdlT2JqZWN0KQogIHVudGltZWRTdWJ0ZXN0LmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gdW50aW1lZFN1YnRlc3QKCmNsYXNzIFVudGltZWRTdWJ0ZXN0TGlua2VkIGV4dGVuZHMgVW50aW1lZFN1YnRlc3QKICBjb25zdHJ1Y3RvcjogKG9wdGlvbnMpIC0+CiAgICBAbGlua2VkVG9QYWdlSWQgPSBvcHRpb25zLmxpbmtlZFRvUGFnZUlkCiAgICBAcXVlc3Rpb25JbmRpY2VzID0gb3B0aW9ucy5xdWVzdGlvbkluZGljZXMKICAgIEBmb290ZXJNZXNzYWdlID0gZm9vdGVyTWVzc2FnZQogICAgc3VwZXIob3B0aW9ucykKCiAgICBsaW5rZWRQYWdlTmFtZSA9IEBsaW5rZWRUb1BhZ2VJZC51bmRlcnNjb3JlKCkudGl0bGVpemUoKQogICAgQGNvbnRlbnQgKz0gIjxkaXYgaWQ9JyN7QHBhZ2VJZH0tbm90LWVub3VnaC1wcm9ncmVzcy1tZXNzYWdlJyBzdHlsZT0nZGlzcGxheTpoaWRkZW4nPk5vdCBlbm91Z2ggcHJvZ3Jlc3Mgd2FzIG1hZGUgb24gI3tsaW5rZWRQYWdlTmFtZX0gdG8gc2hvdyBxdWVzdGlvbnMgZnJvbSAje0BuYW1lKCl9LiBDb250aW51ZSBieSBwcmVzc2luZyBOZXh0LjwvZGl2PiIKCiAgICAkKCIjI3tAcGFnZUlkfSIpLmxpdmUgJ3BhZ2VzaG93JywgKGV2ZW50RGF0YSkgPT4KICAgICAgYXR0ZW1wdGVkT25MaW5rZWRQYWdlID0gJC5hc3Nlc3NtZW50LmdldFBhZ2UoQGxpbmtlZFRvUGFnZUlkKS5yZXN1bHRzKCkuYXR0ZW1wdGVkCiAgICAgIEBudW1iZXJJbnB1dEZpZWxkc1Nob3duID0gMAogICAgICBmb3IgaW5wdXRFbGVtZW50IGluICQoIiMje0BwYWdlSWR9IGlucHV0W3R5cGU9J3JhZGlvJ10iKQogICAgICAgIGlmIGF0dGVtcHRlZE9uTGlua2VkUGFnZSA8IEBxdWVzdGlvbkluZGljZXNbaW5wdXRFbGVtZW50Lm5hbWUuc3Vic3RyKGlucHV0RWxlbWVudC5uYW1lLmxhc3RJbmRleE9mKCItIikrMSldCiAgICAgICAgICAkKGlucHV0RWxlbWVudCkucGFyZW50cygiZGl2W2RhdGEtcm9sZT0nZmllbGRjb250YWluJ10iKS5oaWRlKCkKICAgICAgICBlbHNlCiAgICAgICAgICAkKGlucHV0RWxlbWVudCkucGFyZW50cygiZGl2W2RhdGEtcm9sZT0nZmllbGRjb250YWluJ10iKS5zaG93KCkKICAgICAgICAgIEBudW1iZXJJbnB1dEZpZWxkc1Nob3duKysKICAgICAgJCgiZGl2IyN7QHBhZ2VJZH0tbm90LWVub3VnaC1wcm9ncmVzcy1tZXNzYWdlIikudG9nZ2xlKEBudW1iZXJJbnB1dEZpZWxkc1Nob3duID09IDApCiAgICAgIAogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPgogICAgcHJvcGVydGllcyA9IHN1cGVyKCkKICAgIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzLmNvbmNhdChbInF1ZXN0aW9ucyIsImxpbmtlZFRvUGFnZUlkIiwicXVlc3Rpb25JbmRpY2VzIl0pCiAgICByZXR1cm4gcHJvcGVydGllcwoKICB2YWxpZGF0ZTogLT4KICAgICMgRWFjaCBxdWVzdGlvbiBoYXMgdGhyZWUgcmFkaW8gYnV0dG9ucywgc28gZGl2aWRlIGJ5IDMKICAgIG51bWJlck9mUXVlc3Rpb25zU2hvd24gPSBAbnVtYmVySW5wdXRGaWVsZHNTaG93bi8zCiAgICBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID0gXy5zaXplKEByZXN1bHRzKCkpCiAgICBpZiBudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkID09IG51bWJlck9mUXVlc3Rpb25zU2hvd24KICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UgIk9ubHkgI3tudW1iZXJPZlF1ZXN0aW9uc0Fuc3dlcmVkfSBvdXQgb2YgdGhlICN7bnVtYmVyT2ZRdWVzdGlvbnNTaG93bn0gcXVlc3Rpb25zIHdlcmUgYW5zd2VyZWQiCgoKVW50aW1lZFN1YnRlc3RMaW5rZWQuZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICB1bnRpbWVkU3VidGVzdCA9IG5ldyBVbnRpbWVkU3VidGVzdExpbmtlZChwYWdlT2JqZWN0KQogIHVudGltZWRTdWJ0ZXN0LmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gdW50aW1lZFN1YnRlc3QKCgoKY2xhc3MgUGhvbmVtZVBhZ2UgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAoQHdvcmRzKSAtPgogICAgc3VwZXIoKQogICAgQHN1YnRlc3RJZCA9ICJwaG9uZW1pYy1hd2FyZW5lc3MiCiAgICBAZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2UKICAgIHBob25lbWVJbmRleCA9IDEKICAgIEBjb250ZW50ID0gIjxmb3JtIGlkPScje0BzdWJ0ZXN0SWR9Jz4iICsgKGZvciBpdGVtLGluZGV4IGluIEB3b3JkcwogICAgICB3b3JkTmFtZSA9IEBzdWJ0ZXN0SWQgKyAiLW51bWJlci1zb3VuZC0iICsgKGluZGV4KzEpCiAgICAgICIKICAgICAgPGRpdiBkYXRhLXJvbGU9J2ZpZWxkY29udGFpbic+CiAgICAgICAgICA8bGVnZW5kPiN7aXRlbVsid29yZCJdfSAtICN7aXRlbVsibnVtYmVyLW9mLXNvdW5kcyJdfTwvbGVnZW5kPgogICAgICAgICAgPGZpZWxkc2V0IGRhdGEtcm9sZT0nY29udHJvbGdyb3VwJyBkYXRhLXR5cGU9J2hvcml6b250YWwnPgogICAgICAiICsKICAgICAgKGZvciBhbnN3ZXIgaW4gWyJDb3JyZWN0IiwgIkluY29ycmVjdCJdCiAgICAgICAgIgogICAgICAgIDxsYWJlbCBmb3I9JyN7d29yZE5hbWV9LSN7YW5zd2VyfSc+I3thbnN3ZXJ9PC9sYWJlbD4KICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9JyN7d29yZE5hbWV9JyBpZD0nI3t3b3JkTmFtZX0tI3thbnN3ZXJ9JyB2YWx1ZT0nI3thbnN3ZXJ9JyAvPgogICAgICAgICIKICAgICAgKS5qb2luKCIiKSArCiAgICAgICIKICAgICAgICAgIDwvZmllbGRzZXQ+CiAgICAgICAgICA8ZmllbGRzZXQgZGF0YS1yb2xlPSdjb250cm9sZ3JvdXAnIGRhdGEtdHlwZT0naG9yaXpvbnRhbCc+CiAgICAgICIgKwogICAgICAoZm9yIHBob25lbWUgaW4gaXRlbVsicGhvbmVtZXMiXQogICAgICAgIHBob25lbWVOYW1lID0gQHN1YnRlc3RJZCArICItcGhvbmVtZS1zb3VuZC0iICsgcGhvbmVtZUluZGV4KysKICAgICAgICAiCiAgICAgICAgICA8aW5wdXQgdHlwZT0nY2hlY2tib3gnIG5hbWU9JyN7cGhvbmVtZU5hbWV9JyBpZD0nI3twaG9uZW1lTmFtZX0nIC8+CiAgICAgICAgICA8bGFiZWwgZm9yPScje3Bob25lbWVOYW1lfSc+I3twaG9uZW1lfTwvbGFiZWw+CiAgICAgICAgIgogICAgICApLmpvaW4oIiIpICsKICAgICAgIgogICAgICAgICAgPC9maWVsZHNldD4KICAgICAgPC9kaXY+CiAgICAgIDxoci8+CiAgICAgICIKICAgICkuam9pbigiIikgKyAiPC9mb3JtPiIKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJ3b3JkcyIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKICByZXN1bHRzOiAtPgogICAgcmVzdWx0cyA9IHN1cGVyKCkKICAgIGZvciBpbnB1dCBpbiAkKCJmb3JtIyN7QHN1YnRlc3RJZH0gaW5wdXQ6Y2hlY2tib3giKQogICAgICAjIGNoZWNrZWQgbWVhbnMgdGhleSBnb3QgaXQgd3JvbmcsIHNvIHNldCB0byBmYWxzZQogICAgICByZXN1bHRzWyIje2lucHV0Lm5hbWV9Il0gPSAoaW5wdXQudmFsdWUgIT0gIm9uIikKICAgIHJldHVybiByZXN1bHRzCgogIHZhbGlkYXRlOiAtPgogICAgcmVzdWx0cyA9IEByZXN1bHRzKCkKICAgIGZvciBpdGVtLGluZGV4IGluIEB3b3JkcwogICAgICB1bmxlc3MgcmVzdWx0c1tAc3VidGVzdElkICsgIi1udW1iZXItc291bmQtIiArIChpbmRleCsxKV0/CiAgICAgICAgcmV0dXJuICJZb3UgbXVzdCBzZWxlY3QgQ29ycmVjdCBvciBJbmNvcnJlY3QgZm9yIGl0ZW0gIyN7aW5kZXgrMX06IDxiPiN7aXRlbVsid29yZCJdfTwvYj4iCiAgICByZXR1cm4gdHJ1ZQoKCgpQaG9uZW1lUGFnZS5kZXNlcmlhbGl6ZSA9IChwYWdlT2JqZWN0KSAtPgogIHBhZ2UgPSBuZXcgUGhvbmVtZVBhZ2UocGFnZU9iamVjdC53b3JkcykKICBwYWdlLmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gcGFnZQoKCmNsYXNzIFRvZ2dsZUdyaWRXaXRoVGltZXIgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT4KICAgIEBsZXR0ZXJzID0gb3B0aW9ucy5sZXR0ZXJzCiAgICAjQHBhZ2VJZCA9IG9wdGlvbnMucGFnZUlkCiAgICBAbnVtYmVyT2ZDb2x1bW5zID0gb3B0aW9ucz8ubnVtYmVyT2ZDb2x1bW5zIHx8IDEwCiAgICBAZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2UKICAgIHN1cGVyKG9wdGlvbnMpCiAgICBAYWRkVGltZXIoKQoKICAgIHJlc3VsdCA9ICIiCiAgICBmb3IgbGV0dGVyLGluZGV4IGluIEBsZXR0ZXJzCiAgICAgIHJlc3VsdCArPSAiPGRpdiBjbGFzcz0nZ3JpZCc+PHNwYW4gY2xhc3M9J2dyaWQtdGV4dCcgPiN7bGV0dGVyfTwvc3Bhbj48L2Rpdj4iCiAgICAgIGlmICgoaW5kZXgrMSkgJSA1ID09IDApCiAgICAgICAgcmVzdWx0ICs9ICI8ZGl2IGNsYXNzPSd0b2dnbGUtcm93IGdyaWQnPjxzcGFuIGNsYXNzPSdncmlkLXRleHQgI3sidG9nZ2xlLXJvdy1wb3J0cmFpdCIgdW5sZXNzICgoaW5kZXgrMSkgJSAxMCA9PSAwKX0nPio8L3NwYW4+PC9kaXY+IgoKCiAgICBAY29udGVudCA9ICAiCiAgICAgIDxkaXYgY2xhc3M9J3RpbWVyJz4KICAgICAgICA8YnV0dG9uPnN0YXJ0PC9idXR0b24+CiAgICAgIDwvZGl2PgogICAgICA8ZGl2IGNsYXNzPSd0b2dnbGUtZ3JpZC13aXRoLXRpbWVyJyBkYXRhLXJvbGU9J2NvbnRlbnQnPgkKICAgICAgICA8Zm9ybT4KICAgICAgICAgIDxkaXYgY2xhc3M9J2dyaWQtd2lkdGgnPgogICAgICAgICAgICAje3Jlc3VsdH0KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZm9ybT4KICAgICAgPC9kaXY+CiAgICAgIDxkaXYgY2xhc3M9J3RpbWVyJz4KICAgICAgICA8YnV0dG9uPnN0b3A8L2J1dHRvbj4KICAgICAgPC9kaXY+CiAgICAgICIKICAgIAogICAgJCgiIyN7QHBhZ2VJZH0iKS5saXZlICJwYWdlc2hvdyIsIChldmVudERhdGEpID0+CiAgICAgICMgU3RhcnQgd2l0aCBmaXJzdCBncmlkLCBkb3duc2l6ZSBlYWNoIGdyaWQgdW50aWwgaXQgZml0cy4gVGhlbiBzZXQgYWxsIHRvIG5ldyBzaXplCiAgICAgIGdyaWRXaWR0aCA9ICQoIiMje0BwYWdlSWR9IC5ncmlkOmZpcnN0Iikud2lkdGgoKQogICAgICBmb250U2l6ZSA9ICQoIiMje0BwYWdlSWR9IC5ncmlkOmZpcnN0IHNwYW4iKS5jc3MoJ2ZvbnQtc2l6ZScpCiAgICAgIGZvbnRTaXplID0gZm9udFNpemUuc3Vic3RyKDAsZm9udFNpemUuaW5kZXhPZigicHgiKSkgIyBTdHJpcCB0aGUgcHgKICAgICAgZm9yIGxldHRlclNwYW4gaW4gJCgiIyN7QHBhZ2VJZH0gLmdyaWQgc3BhbiIpCiAgICAgICAgbGV0dGVyU3BhbiA9ICQobGV0dGVyU3BhbikKICAgICAgICBsZXR0ZXJTcGFuLmNzcygnZm9udC1zaXplJywgIiN7Zm9udFNpemV9cHgiKQogICAgICAgIHdoaWxlIGxldHRlclNwYW4ud2lkdGgoKSA+IGdyaWRXaWR0aAogICAgICAgICAgbGV0dGVyU3Bhbi5jc3MoJ2ZvbnQtc2l6ZScsICIje2ZvbnRTaXplLS19cHgiKQogICAgICAkKCIjI3tAcGFnZUlkfSAuZ3JpZCBzcGFuIikuY3NzKCdmb250LXNpemUnLCAiI3tmb250U2l6ZX1weCIpCgogICAgIyBVc2UgdGhlIHJpZ2h0IGV2ZW50IHR5cGUgZm9yIHRvdWNoc2NyZWVucyB2cyBtb3VzZQogICAgc2VsZWN0RXZlbnQgPSBpZiAoJ29udG91Y2hzdGFydCcgb2YgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB0aGVuICJ0b3VjaHN0YXJ0IiBlbHNlICJjbGljayIKCiAgICAkKCIjI3tAcGFnZUlkfSAuZ3JpZCIpLmxpdmUgc2VsZWN0RXZlbnQsIChldmVudERhdGEpID0+CiAgICAgIHJldHVybiB1bmxlc3MgQHRpbWVyLnN0YXJ0ZWQKICAgICAgaWYgJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnRpbWVyLmhhc1N0YXJ0ZWRBbmRTdG9wcGVkKCkKICAgICAgICAkKCIjI3tAcGFnZUlkfSAuZ3JpZCIpLnJlbW92ZUNsYXNzKCdsYXN0LWF0dGVtcHRlZCcpCiAgICAgICAgJChldmVudERhdGEuY3VycmVudFRhcmdldCkudG9nZ2xlQ2xhc3MoJ2xhc3QtYXR0ZW1wdGVkJykKICAgICAgZWxzZQogICAgICAgICQoZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQpLnRvZ2dsZUNsYXNzKCJzZWxlY3RlZCIpCgogICAgJCgiIyN7QHBhZ2VJZH0gLmdyaWQudG9nZ2xlLXJvdyIpLmxpdmUgc2VsZWN0RXZlbnQsIChldmVudERhdGEpID0+CiAgICAgIHRvZ2dsZVJvdyA9ICQoZXZlbnREYXRhLmN1cnJlbnRUYXJnZXQpCiAgICAgIGZvciBncmlkSXRlbSBpbiB0b2dnbGVSb3cucHJldkFsbCgpCiAgICAgICAgZ3JpZEl0ZW0gPSAkKGdyaWRJdGVtKQogICAgICAgIGJyZWFrIGlmIGdyaWRJdGVtLmhhc0NsYXNzKCJ0b2dnbGUtcm93IikgYW5kIGdyaWRJdGVtLmNzcygiZGlzcGxheSIpICE9ICJub25lIgogICAgICAgICMgV2Ugd2FudCB0byBiZSBhYmxlIHRvIGhhbmRsZSBtaXN0YWtlbiByb3d0b2dnbGVzIC0gc28ga2VlcCB0cmFjayBvZiB3aGF0IHdhcyBhbHJlYWR5IHNlbGVjdGVkIHNvIHdlIGNhbiByZXZlcnQKICAgICAgICBpZiB0b2dnbGVSb3cuaGFzQ2xhc3MoInNlbGVjdGVkIikKICAgICAgICAgICMgTmVlZCB0byB0dXJuIGV2ZXJ0aGluZyBvbgogICAgICAgICAgZ3JpZEl0ZW0uYWRkQ2xhc3MoInNlbGVjdGVkIHJvd3RvZ2dsZWQiKSB1bmxlc3MgZ3JpZEl0ZW0uaGFzQ2xhc3MoInNlbGVjdGVkIikKICAgICAgICBlbHNlCiAgICAgICAgICAjIE5lZWQgdG8gdHVybiBvZmYgb25seSBub24gdG9nZ2xlZAogICAgICAgICAgZ3JpZEl0ZW0ucmVtb3ZlQ2xhc3MoInNlbGVjdGVkIHJvd3RvZ2dsZWQiKSBpZiBncmlkSXRlbS5oYXNDbGFzcygicm93dG9nZ2xlZCIpCgogIHByb3BlcnRpZXNGb3JTZXJpYWxpemF0aW9uOiAtPgogICAgcHJvcGVydGllcyA9IHN1cGVyKCkKICAgIHByb3BlcnRpZXMucHVzaCgibGV0dGVycyIpCiAgICByZXR1cm4gcHJvcGVydGllcwoKCiAgcmVzdWx0czogLT4KICAgIHJlc3VsdHMgPSB7fQoKICAgICMgQ2hlY2sgaWYgdGhlIGZpcnN0IDEwJSBhcmUgYWxsIHdyb25nLCBpZiBzbyBhdXRvX3N0b3AKICAgIGl0ZW1zID0gJCgiIyN7QHBhZ2VJZH0gLmdyaWQ6bm90KC50b2dnbGUtcm93KSIpCiAgICB0ZW5QZXJjZW50T2ZJdGVtcyA9IGl0ZW1zLmxlbmd0aC8xMAogICAgZmlyc3RUZW5QZXJjZW50ID0gaXRlbXNbMC4udGVuUGVyY2VudE9mSXRlbXMtMV0KICAgIGlmIF8uc2VsZWN0KGZpcnN0VGVuUGVyY2VudCwgKGl0ZW0pIC0+ICQoaXRlbSkuaGFzQ2xhc3MoInNlbGVjdGVkIikpLmxlbmd0aCA9PSB0ZW5QZXJjZW50T2ZJdGVtcwogICAgICByZXN1bHRzLmF1dG9fc3RvcCA9IHRydWUKICAgICAgIyBPbmx5IHNldCBkbyB0aGlzIHN0dWZmIHRoZSBmaXJzdCB0aW1lCiAgICAgIHVubGVzcyBAYXV0b3N0b3AKICAgICAgICAkKF8ubGFzdChmaXJzdFRlblBlcmNlbnQpKS50b2dnbGVDbGFzcygibGFzdC1hdHRlbXB0ZWQiLCB0cnVlKQogICAgICAgIEB0aW1lci5zdG9wKCkKICAgICAgICAkLmFzc2Vzc21lbnQuZmxhc2goKQogICAgICAgIEBhdXRvc3RvcCA9IHRydWUKICAgIGVsc2UKICAgICAgQGF1dG9zdG9wID0gZmFsc2UKCiAgICByZXR1cm4gZmFsc2UgdW5sZXNzIEB0aW1lci5oYXNTdGFydGVkQW5kU3RvcHBlZCgpCiAgICByZXN1bHRzLmxldHRlcnMgPSBuZXcgQXJyYXkoKQogICAgcmVzdWx0cy50aW1lX3JlbWFpbiA9IEB0aW1lci5zZWNvbmRzCiAgICAjIEluaXRpYWxpemUgdG8gYWxsIHdyb25nCiAgICByZXN1bHRzLmxldHRlcnNbaW5kZXhdID0gZmFsc2UgZm9yIGdyaWRJdGVtLGluZGV4IGluICQoIiMje0BwYWdlSWR9IC5ncmlkOm5vdCgudG9nZ2xlLXJvdykiKQogICAgcmVzdWx0cy5hdHRlbXB0ZWQgPSBudWxsCiAgICBmb3IgZ3JpZEl0ZW0saW5kZXggaW4gJCgiIyN7QHBhZ2VJZH0gLmdyaWQ6bm90KC50b2dnbGUtcm93KSIpCiAgICAgIGdyaWRJdGVtID0gJChncmlkSXRlbSkKICAgICAgcmVzdWx0cy5sZXR0ZXJzW2luZGV4XSA9IHRydWUgdW5sZXNzIGdyaWRJdGVtLmhhc0NsYXNzKCJzZWxlY3RlZCIpCiAgICAgIGlmIGdyaWRJdGVtLmhhc0NsYXNzKCJsYXN0LWF0dGVtcHRlZCIpCiAgICAgICAgcmVzdWx0cy5hdHRlbXB0ZWQgPSBpbmRleCArIDEKICAgICAgICBpZiBAYXV0b3N0b3AKICAgICAgICAgICQoIiMje0BwYWdlSWR9IC5jb250cm9scyAubWVzc2FnZSIpLmh0bWwoIkZpcnN0ICN7dGVuUGVyY2VudE9mSXRlbXN9IGluY29ycmVjdCAtIGF1dG9zdG9wLiIpCiAgICAgICAgZWxzZQogICAgICAgICAgJCgiIyN7QHBhZ2VJZH0gLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiIikKICAgICAgICByZXR1cm4gcmVzdWx0cwogICAgICBlbHNlCiAgICAgICAgJCgiIyN7QHBhZ2VJZH0gLmNvbnRyb2xzIC5tZXNzYWdlIikuaHRtbCgiU2VsZWN0IGxhc3QgaXRlbSBhdHRlbXB0ZWQiKQoKICAgIHJldHVybiByZXN1bHRzCgogIHZhbGlkYXRlOiAtPgogICAgcmVzdWx0cyA9IEByZXN1bHRzKCkKICAgIGlmIHJlc3VsdHMudGltZV9yZW1haW4gPT0gNjAgb3IgcmVzdWx0cy50aW1lX3JlbWFpbiA9PSB1bmRlZmluZWQKICAgICAgcmV0dXJuICJUaGUgdGltZXIgbXVzdCBiZSBzdGFydGVkIgogICAgaWYgQHRpbWVyLnJ1bm5pbmcKICAgICAgcmV0dXJuICJUaGUgdGltZXIgaXMgc3RpbGwgcnVubmluZyIKICAgIGlmIHJlc3VsdHMudGltZV9yZW1haW4gPT0gMAogICAgICByZXR1cm4gdHJ1ZQogICAgZWxzZSBpZiByZXN1bHRzLmF0dGVtcHRlZD8KICAgICAgcmV0dXJuIHRydWUKICAgIGVsc2UKICAgICAgcmV0dXJuICJUaGUgbGFzdCBsZXR0ZXIgYXR0ZW1wdGVkIGhhcyBub3QgYmVlbiBzZWxlY3RlZCIKCgpjbGFzcyBEaWN0YXRpb24gZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT4KICAgIEBtZXNzYWdlID0gb3B0aW9ucy5tZXNzYWdlCiAgICBAZm9vdGVyTWVzc2FnZSA9IGZvb3Rlck1lc3NhZ2UKICAgIHN1cGVyKG9wdGlvbnMpCgogICAgQGNvbnRlbnQgPSAgIiN7QG1lc3NhZ2V9PGJyLz48aW5wdXQgbmFtZT0ncmVzdWx0JyB0eXBlPSd0ZXh0Jz48L2lucHV0PiIKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJtZXNzYWdlIikKICAgIHJldHVybiBwcm9wZXJ0aWVzCgogIHJlc3VsdHM6IC0+CiAgICByZXN1bHRzID0ge30KICAgIGVudGVyZWREYXRhID0gJCgiZGl2IyN7QHBhZ2VJZH0gaW5wdXRbdHlwZT10ZXh0XSIpLnZhbCgpCgogICAgaWYgZW50ZXJlZERhdGEubWF0Y2goL2JveXMvaSkKICAgICAgcmVzdWx0c1siV3JvdGUgYm95cyBjb3JyZWN0bHkiXSA9IDIKICAgIGVsc2UKICAgICAgaWYgZW50ZXJlZERhdGEubWF0Y2goL2JvfG95fGJ5L2kpCiAgICAgICAgcmVzdWx0c1siV3JvdGUgYm95cyBjb3JyZWN0bHkiXSA9IDEKCiAgICBpZiBlbnRlcmVkRGF0YS5tYXRjaCgvYmlrZXMvaSkKICAgICAgcmVzdWx0c1siV3JvdGUgYmlrZXMgY29ycmVjdGx5Il0gPSAyCiAgICBlbHNlCiAgICAgIGlmIGVudGVyZWREYXRhLm1hdGNoKC9iaXxpa3xrZXMvaSkKICAgICAgICByZXN1bHRzWyJXcm90ZSBiaWtlcyBjb3JyZWN0bHkiXSA9IDEKCiAgICBudW1iZXJPZlNwYWNlcyA9IGVudGVyZWREYXRhLnNwbGl0KCIgIikubGVuZ3RoIC0gMQogICAgaWYgbnVtYmVyT2ZTcGFjZXMgPj0gOAogICAgICByZXN1bHRzWyJVc2VkIGFwcHJvcHJpYXRlIHNwYWNpbmcgYmV0d2VlbiB3b3JkcyJdID0gMgogICAgZWxzZQogICAgICBpZiBudW1iZXJPZlNwYWNlcyA+IDMgYW5kIG51bWJlck9mU3BhY2VzIDwgOAogICAgICAgIHJlc3VsdHNbIlVzZWQgYXBwcm9wcmlhdGUgc3BhY2luZyBiZXR3ZWVuIHdvcmRzIl0gPSAxCiAgICAgIGVsc2UKICAgICAgICByZXN1bHRzWyJVc2VkIGFwcHJvcHJpYXRlIHNwYWNpbmcgYmV0d2VlbiB3b3JkcyJdID0gMAoKICAgICMgVE9ETwogICAgcmVzdWx0c1siVXNlZCBhcHByb3ByaWF0ZSBkaXJlY3Rpb24gb2YgdGV4dCAobGVmdCB0byByaWdodCkiXSA9IDIKCiAgICBpZiBlbnRlcmVkRGF0YS5tYXRjaCgvVGhlLykKICAgICAgcmVzdWx0c1siVXNlZCBjYXBpdGFsIGxldHRlciBmb3IgdGhlIHdvcmQgJ1RoZSciXSA9IDIKICAgIGVsc2UKICAgICAgcmVzdWx0c1siVXNlZCBjYXBpdGFsIGxldHRlciBmb3IgdGhlIHdvcmQgJ1RoZSciXSA9IDAKCiAgICBpZiBlbnRlcmVkRGF0YS5tYXRjaCgvXC4gKiQvKQogICAgICByZXN1bHRzWyJVc2VkIGZ1bGwgc3RvcCAoLikgYXQgZW5kIG9mIHNlbnRlbmNlLiJdID0gMgogICAgZWxzZQogICAgICByZXN1bHRzWyJVc2VkIGZ1bGwgc3RvcCAoLikgYXQgZW5kIG9mIHNlbnRlbmNlLiJdID0gMAogICAgcmV0dXJuIHJlc3VsdHMKCiAgdmFsaWRhdGU6IC0+CiAgICByZXR1cm4gdHJ1ZQoKRGljdGF0aW9uLmRlc2VyaWFsaXplID0gKHBhZ2VPYmplY3QpIC0+CiAgZGljdGF0aW9uUGFnZSA9IG5ldyBEaWN0YXRpb24ocGFnZU9iamVjdCkKICBkaWN0YXRpb25QYWdlLmxvYWQocGFnZU9iamVjdCkKICByZXR1cm4gZGljdGF0aW9uUGFnZQoKCgpjbGFzcyBJbnRlcnZpZXcgZXh0ZW5kcyBBc3Nlc3NtZW50UGFnZQogIGNvbnN0cnVjdG9yOiAob3B0aW9ucykgLT4KICAgIEByYWRpb0J1dHRvbnMgPSBvcHRpb25zLnJhZGlvQnV0dG9ucwogICAgc3VwZXIob3B0aW9ucykKICAgIEBjb250ZW50ID0gSW50ZXJ2aWV3LnRlbXBsYXRlKHRoaXMpCiAgICAKCiAgcHJvcGVydGllc0ZvclNlcmlhbGl6YXRpb246IC0+CiAgICBwcm9wZXJ0aWVzID0gc3VwZXIoKQogICAgcHJvcGVydGllcy5wdXNoKCJyYWRpb0J1dHRvbnMiKQogICAgcmV0dXJuIHByb3BlcnRpZXMKCiAgdmFsaWRhdGU6IC0+CiAgICByZXR1cm4gdHJ1ZQoKSW50ZXJ2aWV3LnRlbXBsYXRlID0gSGFuZGxlYmFycy5jb21waWxlICIKICA8Zm9ybT4KICAgIHt7I3JhZGlvQnV0dG9uc319CiAgICAgIDxmaWVsZHNldCBkYXRhLXR5cGU9J3t7dHlwZX19JyBkYXRhLXJvbGU9J2NvbnRyb2xncm91cCc+CiAgICAgICAgPGxlZ2VuZD57e2xhYmVsfX08L2xlZ2VuZD4KICAgICAgICB7eyNvcHRpb25zfX0KICAgICAgICAgIDxsYWJlbCBmb3I9J3t7Ln19Jz57ey59fTwvbGFiZWw+CiAgICAgICAgICA8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3t7Li4vbmFtZX19JyB2YWx1ZT0ne3sufX0nIGlkPSd7ey59fSc+PC9pbnB1dD4KICAgICAgICB7ey9vcHRpb25zfX0KICAgICAgPC9maWVsZHNldD4KICAgIHt7L3JhZGlvQnV0dG9uc319CiAgPC9mb3JtPgoiCgpJbnRlcnZpZXcuZGVzZXJpYWxpemUgPSAocGFnZU9iamVjdCkgLT4KICBpbnRlcnZpZXcgPSBuZXcgSW50ZXJ2aWV3KHBhZ2VPYmplY3QpCiAgaW50ZXJ2aWV3LmxvYWQocGFnZU9iamVjdCkKICBpbnRlcnZpZXcuY29udGVudCA9IEludGVydmlldy50ZW1wbGF0ZShpbnRlcnZpZXcpCiAgcmV0dXJuIGludGVydmlldwo=", "content_type": ""}, "tests/testData/Assessment.TEST EGRA Prototype.Instructions": {"data": "eyJfaWQiOiJBc3Nlc3NtZW50LlRFU1QgRUdSQSBQcm90b3R5cGUuSW5zdHJ1Y3Rpb25zIiwiaGVhZGVyIjoiPGgxPkVHUkE8L2gxPiIsInBhZ2VJZCI6Ikluc3RydWN0aW9ucyIsInBhZ2VUeXBlIjoiSW5zdHJ1Y3Rpb25zUGFnZSIsInVybCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEdKU1pUWTJNSFU0VmxKM1JuTnRkbk5EVmpSakxWRSZobD1lbiZvdXRwdXQ9aHRtbCIsImxvYWRpbmciOnRydWUsImFzc2Vzc21lbnQiOiJ7XCJuYW1lXCI6XCJURVNUIEVHUkEgUHJvdG90eXBlXCIsXCJpbmRleGVzRm9yUGFnZXNcIjpbXCJBc3Nlc3NtZW50LlRFU1QgRUdSQSBQcm90b3R5cGUuTG9naW5cIixcIkFzc2Vzc21lbnQuVEVTVCBFR1JBIFByb3RvdHlwZS5JbnN0cnVjdGlvbnNcIixcIkFzc2Vzc21lbnQuVEVTVCBFR1JBIFByb3RvdHlwZS5MZXR0ZXJzXCJdfSIsInBhZ2VOdW1iZXIiOjEsIm5leHRQYWdlIjoiTGV0dGVycyIsImNvbnRlbnQiOiJcIkluc3RydWN0aW9ucyBcdTAwZTAgbFx1MjAxOVx1MDBlOWxcdTAwZTh2ZSA6IENldCBleGVyY2ljZSBlc3QgdW4gZXhlcmNpY2Ugb3JhbC4gSmUgdmFpcyB0ZSBkaXJlIHVuIG1vdCBkZXV4IGZvaXMsIHB1aXMgamUgdmV1eCBxdWUgdHUgbWUgZGlzZXMgbGUgdG91dCBwcmVtaWVyIHNvbiBkdSBtb3QgcXVlIHR1IGVudGVuZHMsIGRcdTIwMTlhY2NvcmQgPyAgIDxici8+PGJyLz5QYXIgZXhlbXBsZTogTGUgbW90IFx1MjAxYyBzb3VwZVx1MjAxZCBjb21tZW5jZSBhdmVjIGxlIHNvbiBcdTIwMWNzc3Nzc1x1MjAxZCwgIG5cdTIwMTllc3QtY2UgcGFzPyBRdWVsIGVzdCBsZSB0b3V0IHByZW1pZXIgc29uIGRhbnMgbGUgbW90IFx1MjAxY3NvdXBlXHUyMDFkPyAgXHUyMDFjU291cGVcdTIwMWQ/ICBbQXR0ZW5kcmUgcXVlIGxcdTIwMTlcdTAwZTlsXHUwMGU4dmUgclx1MDBlOXBcdTAwZTh0ZSBsZSBzb24gXHUyMDFjc3Nzc3NcdTIwMWQuIFNcdTIwMTlpbCBuZSByXHUwMGU5cG9uZCBwYXMsIGRpdGVzLWx1aSwgXHUyMDFjTGUgdG91dCBwcmVtaWVyIHNvbiBkdSBtb3QgXHUyMDFjc291cGVcdTIwMWQgY1x1MjAxOWVzdCBcdTIwMWNzc3Nzc1x1MjAxZF0uPGJyLz48YnIvPkVzc2F5b25zIGVuY29yZSBxdWVscXVlcyBleGVtcGxlcyA6ICA8YnIvPlF1ZWwgZXN0IGxlIHRvdXQgcHJlbWllciBzb24gZGFucyBsZSBtb3QgXHUwMGFiIGpvdXIgXHUwMGJiID8gIFx1MDBhYiBqb3VyIFx1MDBiYiA/ICA8YnIvPjxici8+KFNpIGxcdTIwMTlcdTAwZTlsXHUwMGU4dmUgclx1MDBlOXBvbmQgY29ycmVjdGVtZW50LCBkaXRlcy1sdWkgXHUwMGFiVHJcdTAwZThzIGJpZW4gISBMZSBwcmVtaWVyIHNvbiBkYW5zIGxlIG1vdCBcdTAwYWIgam91ciBcdTAwYmIsIGNcdTIwMTllc3QgXHUwMGFiIGpqamogXHUwMGJiICk8YnIvPjxici8+KFNpIGxcdTIwMTlcdTAwZTlsXHUwMGU4dmUgbmUgclx1MDBlOXBvbmQgcGFzLCBkaXRlcy1sdWkgXHUwMGFiIExlIHByZW1pZXIgc29uIGRhbnMgbGUgbW90IFx1MDBhYiBqb3VyIFx1MDBiYiwgY1x1MjAxOWVzdCBcdTAwYWIgampqaiBcdTAwYmIuKTxici8+PGJyLz5RdWVsIGVzdCBsZSB0b3V0IHByZW1pZXIgc29uIGRhbnMgbGUgbW90IFx1MDBhYiBjaGljIFx1MDBiYj8gXHUwMGFiIGNoaWMgXHUwMGJiPzxici8+PGJyLz4oU2kgbFx1MjAxOVx1MDBlOWxcdTAwZTh2ZSByXHUwMGU5cG9uZCBjb3JyZWN0ZW1lbnQsIGRpdGVzLWx1aSBcdTAwYWJUclx1MDBlOHMgYmllbiAhIExlIHByZW1pZXIgc29uIGRhbnMgbGUgbW90IFx1MDBhYiBjaGljIFx1MDBiYiwgY1x1MjAxOWVzdCBcdTAwYWIgY2hcdTAwYmIpPGJyLz48YnIvPihTaSBsXHUyMDE5XHUwMGU5bFx1MDBlOHZlIG5lIHJcdTAwZTlwb25kIHBhcywgZGl0ZXMtbHVpIFx1MDBhYiBMZSBwcmVtaWVyIHNvbiBkYW5zIGxlIG1vdCBcdTAwYWIgY2hpYyBcdTAwYmIsIGNcdTIwMTllc3QgXHUwMGFiIGNoXHUwMGJiLik8YnIvPjxici8+UXVlbCBlc3QgbGUgdG91dCBwcmVtaWVyIHNvbiBkYW5zIGxlIG1vdCBcdTAwYWIgcG91bGUgXHUwMGJiPyAgXHUwMGFiIHBvdWxlIFx1MDBiYj8gIDxici8+PGJyLz4oU2kgbFx1MjAxOVx1MDBlOWxcdTAwZTh2ZSByXHUwMGU5cG9uZCBjb3JyZWN0ZW1lbnQsIGRpdGVzLWx1aSBcdTAwYWJUclx1MDBlOHMgYmllbiAhIExlIHByZW1pZXIgc29uIGRhbnMgbGUgbW90IFx1MDBhYiBwb3VsZSBcdTAwYmIsIGNcdTIwMTllc3QgXHUwMGFiIHBcdTIwMTlcdTAwYmIgKTxici8+PGJyLz4oU2kgbFx1MjAxOVx1MDBlOWxcdTAwZTh2ZSBuZSByXHUwMGU5cG9uZCBwYXMsIGRpdGVzLWx1aSBcdTAwYWIgTGUgcHJlbWllciBzb24gZGFucyBsZSBtb3QgXHUwMGFiIHBvdWxlIFx1MDBiYiwgY1x1MjAxOWVzdCBcdTAwYWIgcFx1MjAxOSBcdTAwYmIuKTxici8+PGJyLz5UdSBjb21wcmVuZHMgY2UgcXVlIGplIHRlIGRlbWFuZGUgZGUgZmFpcmUgPyBNYWludGVuYW50IGplIHZhaXMgdGUgbGlyZSBkXHUyMDE5YXV0cmVzIG1vdHMuIEplIHZhaXMgbGlyZSBjaGFxdWUgbW90IGRldXggZm9pcy4gRWNvdXRlIGJpZW4sIGV0IGRpcy1tb2kgbGUgdG91dCBwcmVtaWVyIHNvbiBxdWUgdHUgZW50ZW5kcywgZFx1MjAxOWFjY29yZCA/PGJyLz48YnIvPjxici8+PGJyLz5OZSBwYXMgY29ycmlnZXIgbFx1MjAxOVx1MDBlOWxcdTAwZTh2ZSBwZW5kYW50IGxlIHRlc3QuIEVuIGNhcyBkZSBub24tclx1MDBlOXBvbnNlIG91IGRcdTIwMTloXHUwMGU5c2l0YXRpb24gZGUgc2EgcGFydCwgYXByXHUwMGU4cyAzIHNlY29uZGVzIG1hcnF1ZXIgbGEgY2FzZSBcdTAwYWIgUGFzIGRlIHJcdTAwZTlwb25zZSBcdTAwYmIgZXQgcGFzc2V6IGF1IHByb2NoYWluIGl0ZW0uPGJyLz48YnIvPlJcdTAwZThnbGUgZFx1MjAxOWF1dG8tc3RvcCA6IFNpIGxcdTIwMTlcdTAwZTlsXHUwMGU4dmUgbmUgclx1MDBlOXVzc2l0IHBhcyBcdTAwZTAgZG9ubmVyIHVuZSBzZXVsZSByXHUwMGU5cG9uc2UgY29ycmVjdGUgcGFybWkgbGVzIGNpbnEgcHJlbWllcnMgbW90cywgZGVtYW5kZXotbHVpIGdlbnRpbWVudCBkZSBzJ2Fyclx1MDBlYXRlciwgZXQgY29jaGVyIGxhIGNhc2UgXHUwMGFiIGF1dG8tc3RvcCBcdTAwYmIuIFBhc3NleiBhdSBwcm9jaGFpbiBleGVyY2ljZS5cIiIsImZvb3Rlcl90ZXh0IjoiPGEgaHJlZj0nI0xldHRlcnMnPkxldHRlcnM8L2E+In0K", "content_type": ""}, "js-libraries/jquery-mobile/jquery.mobile-1.0b3.min.js": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIzCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCihmdW5jdGlvbihhLGQpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYj1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihjKXtmb3IodmFyIGU9MCxkOyhkPWNbZV0pIT1udWxsO2UrKylhKGQpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtiKGMpfX1lbHNle3ZhciBjPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGIsZSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2V8fCghYnx8YS5maWx0ZXIoYixbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBjLmNhbGwoYSh0aGlzKSxiLGUpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGMsYixkKXt2YXIgaD1jLnNwbGl0KCIuIilbMF0saixjPWMuc3BsaXQoIi4iKVsxXTtqPWgrIi0iK2M7aWYoIWQpZD1iLGI9YS5XaWRnZXQ7YS5leHByWyI6Il1bal09ZnVuY3Rpb24oYil7cmV0dXJuISFhLmRhdGEoYiwKYyl9O2FbaF09YVtoXXx8e307YVtoXVtjXT1mdW5jdGlvbihhLGMpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGMpfTtiPW5ldyBiO2Iub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxiLm9wdGlvbnMpO2FbaF1bY10ucHJvdG90eXBlPWEuZXh0ZW5kKCEwLGIse25hbWVzcGFjZTpoLHdpZGdldE5hbWU6Yyx3aWRnZXRFdmVudFByZWZpeDphW2hdW2NdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8Yyx3aWRnZXRCYXNlQ2xhc3M6an0sZCk7YS53aWRnZXQuYnJpZGdlKGMsYVtoXVtjXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihjLGIpe2EuZm5bY109ZnVuY3Rpb24oZyl7dmFyIGg9dHlwZW9mIGc9PT0ic3RyaW5nIixqPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxsPXRoaXMsZz0haCYmai5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbITAsZ10uY29uY2F0KGopKTpnO2lmKGgmJmcuY2hhckF0KDApPT09Il8iKXJldHVybiBsOwpoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEuZGF0YSh0aGlzLGMpO2lmKCFiKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitjKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIjtpZighYS5pc0Z1bmN0aW9uKGJbZ10pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYysiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGU9YltnXS5hcHBseShiLGopO2lmKGUhPT1iJiZlIT09ZClyZXR1cm4gbD1lLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YS5kYXRhKHRoaXMsYyk7ZD9kLm9wdGlvbihnfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxjLG5ldyBiKGcsdGhpcykpfSk7cmV0dXJuIGx9fTthLldpZGdldD1mdW5jdGlvbihhLGMpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGMpfTthLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsCm9wdGlvbnM6e2Rpc2FibGVkOiExfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGMsYil7YS5kYXRhKGIsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGIpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCghMCx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGMpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBjPXt9O2EubWV0YWRhdGEmJihjPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBjfSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpOwp0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYyxiKXt2YXIgZz1jO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBjPT09InN0cmluZyIpe2lmKGI9PT1kKXJldHVybiB0aGlzLm9wdGlvbnNbY107Zz17fTtnW2NdPWJ9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYyl7dmFyIGI9dGhpczthLmVhY2goYyxmdW5jdGlvbihhLGMpe2IuX3NldE9wdGlvbihhLGMpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxjKXt0aGlzLm9wdGlvbnNbYV09YzthPT09ImRpc2FibGVkIiYmCnRoaXMud2lkZ2V0KClbYz8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixjKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF90cmlnZ2VyOmZ1bmN0aW9uKGMsYixkKXt2YXIgaD10aGlzLm9wdGlvbnNbY10sYj1hLkV2ZW50KGIpO2IudHlwZT0oYz09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yzp0aGlzLndpZGdldEV2ZW50UHJlZml4K2MpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihiLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBjPWEuZXZlbnQucHJvcHMubGVuZ3RoLGo7Yzspaj1hLmV2ZW50LnByb3BzWy0tY10sYltqXT1iLm9yaWdpbmFsRXZlbnRbal07dGhpcy5lbGVtZW50LnRyaWdnZXIoYiwKZCk7cmV0dXJuIShhLmlzRnVuY3Rpb24oaCkmJmguY2FsbCh0aGlzLmVsZW1lbnRbMF0sYixkKT09PSExfHxiLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9e307YS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZT1iLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZSE9PWQmJihjW2FdPWUpfSk7cmV0dXJuIGN9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YSh3aW5kb3cpO3ZhciBkPWEoImh0bWwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBiPXt9LGM9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+IiksZj1hKCI8Ym9keT4iKS5hcHBlbmQoYyk7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBiKSl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxoPSJAbWVkaWEgIithKyIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iO2cudHlwZT0idGV4dC9jc3MiO2cuc3R5bGVTaGVldD9nLnN0eWxlU2hlZXQuY3NzVGV4dD1oOmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCkpO2QucHJlcGVuZChmKS5wcmVwZW5kKGcpO2JbYV09Yy5jc3MoInBvc2l0aW9uIik9PT0iYWJzb2x1dGUiO2YuYWRkKGcpLnJlbW92ZSgpfXJldHVybiBiW2FdfX0oKX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGIoYSl7dmFyIGM9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhKyIgIitlLmpvaW4oYysiICIpK2MpLnNwbGl0KCIgIiksYjtmb3IoYiBpbiBhKWlmKGZbYVtiXV0hPT1kKXJldHVybiEwfXZhciBjPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGY9Y1swXS5zdHlsZSxlPVsiV2Via2l0IiwiTW96IiwiTyJdLGc9InBhbG1HZXRSZXNvdXJjZSJpbiB3aW5kb3csaD13aW5kb3cuYmxhY2tiZXJyeTthLm1vYmlsZS5icm93c2VyPXt9O2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGI9Yy5hbGx8fFtdO2MuaW5uZXJIVE1MPSI8XCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tXD4iLGJbMF07KTtyZXR1cm4gYT40P2E6IWF9KCk7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4Kd2luZG93LHRvdWNoOiJvbnRvdWNoZW5kImluIGRvY3VtZW50LGNzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gd2luZG93LHB1c2hTdGF0ZToicHVzaFN0YXRlImluIGhpc3RvcnkmJiJyZXBsYWNlU3RhdGUiaW4gaGlzdG9yeSxtZWRpYXF1ZXJ5OmEubW9iaWxlLm1lZGlhKCJvbmx5IGFsbCIpLGNzc1BzZXVkb0VsZW1lbnQ6ISFiKCJjb250ZW50IiksdG91Y2hPdmVyZmxvdzohIWIoIm92ZXJmbG93U2Nyb2xsaW5nIiksYm94U2hhZG93OiEhYigiYm94U2hhZG93IikmJiFoLHNjcm9sbFRvcDooInBhZ2VYT2Zmc2V0ImluIHdpbmRvd3x8InNjcm9sbFRvcCJpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnR8fCJzY3JvbGxUb3AiaW4gY1swXSkmJiFnLGR5bmFtaWNCYXNlVGFnOmZ1bmN0aW9uKCl7dmFyIGI9bG9jYXRpb24ucHJvdG9jb2wrIi8vIitsb2NhdGlvbi5ob3N0K2xvY2F0aW9uLnBhdGhuYW1lKyJ1aS1kaXIvIixkPWEoImhlYWQgYmFzZSIpLGY9bnVsbCwKZT0iIixnO2QubGVuZ3RoP2U9ZC5hdHRyKCJocmVmIik6ZD1mPWEoIjxiYXNlPiIse2hyZWY6Yn0pLmFwcGVuZFRvKCJoZWFkIik7Zz1hKCI8YSBocmVmPSd0ZXN0dXJsJz48L2E+IikucHJlcGVuZFRvKGMpWzBdLmhyZWY7ZFswXS5ocmVmPWU/ZTpsb2NhdGlvbi5wYXRobmFtZTtmJiZmLnJlbW92ZSgpO3JldHVybiBnLmluZGV4T2YoYik9PT0wfSgpLGV2ZW50Q2FwdHVyZToiYWRkRXZlbnRMaXN0ZW5lciJpbiBkb2N1bWVudH0pO2MucmVtb3ZlKCk7Zz1mdW5jdGlvbigpe3ZhciBhPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBhLmluZGV4T2YoIk5va2lhIik+LTEmJihhLmluZGV4T2YoIlN5bWJpYW4vMyIpPi0xfHxhLmluZGV4T2YoIlNlcmllczYwLzUiKT4tMSkmJmEuaW5kZXhPZigiQXBwbGVXZWJLaXQiKT4tMSYmYS5tYXRjaCgvKEJyb3dzZXJOR3xOb2tpYUJyb3dzZXIpXC83XC5bMC0zXS8pfSgpO2EubW9iaWxlLmFqYXhCbGFja2xpc3Q9d2luZG93LmJsYWNrYmVycnkmJgohd2luZG93LldlYktpdFBvaW50fHx3aW5kb3cub3BlcmFtaW5pJiZPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwod2luZG93Lm9wZXJhbWluaSk9PT0iW29iamVjdCBPcGVyYU1pbmldInx8ZztnJiZhKGZ1bmN0aW9uKCl7YSgiaGVhZCBsaW5rW3JlbD1zdHlsZXNoZWV0XSIpLmF0dHIoInJlbCIsImFsdGVybmF0ZSBzdHlsZXNoZWV0IikuYXR0cigicmVsIiwic3R5bGVzaGVldCIpfSk7YS5zdXBwb3J0LmJveFNoYWRvd3x8YSgiaHRtbCIpLmFkZENsYXNzKCJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIpfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCxiLGMpe2Z1bmN0aW9uIGYoYSl7Zm9yKDthJiZ0eXBlb2YgYS5vcmlnaW5hbEV2ZW50IT09InVuZGVmaW5lZCI7KWE9YS5vcmlnaW5hbEV2ZW50O3JldHVybiBhfWZ1bmN0aW9uIGUoYyl7Zm9yKHZhciBiPXt9LGQsZjtjOyl7ZD1hLmRhdGEoYyxvKTtmb3IoZiBpbiBkKWlmKGRbZl0pYltmXT1iLmhhc1ZpcnR1YWxCaW5kaW5nPSEwO2M9Yy5wYXJlbnROb2RlfXJldHVybiBifWZ1bmN0aW9uIGcoKXt2JiYoY2xlYXJUaW1lb3V0KHYpLHY9MCk7dj1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Qj12PTA7eC5sZW5ndGg9MDtyPSExO3o9ITB9LGEudm1vdXNlLnJlc2V0VGltZXJEdXJhdGlvbil9ZnVuY3Rpb24gaChiLGQscil7dmFyIGUsZztpZighKGc9ciYmcltiXSkpe2lmKHI9IXIpYTp7Zm9yKHI9ZC50YXJnZXQ7cjspe2lmKChnPWEuZGF0YShyLG8pKSYmKCFifHxnW2JdKSlicmVhayBhO3I9ci5wYXJlbnROb2RlfXI9bnVsbH1nPXJ9aWYoZyl7ZT1kO3ZhciByPWUudHlwZSwKaSx6O2U9YS5FdmVudChlKTtlLnR5cGU9YjtnPWUub3JpZ2luYWxFdmVudDtpPWEuZXZlbnQucHJvcHM7aWYoZylmb3Ioej1pLmxlbmd0aDt6OyliPWlbLS16XSxlW2JdPWdbYl07aWYoci5zZWFyY2goL150b3VjaC8pIT09LTEmJihiPWYoZykscj1iLnRvdWNoZXMsYj1iLmNoYW5nZWRUb3VjaGVzLHI9ciYmci5sZW5ndGg/clswXTpiJiZiLmxlbmd0aD9iWzBdOmMpKXtnPTA7Zm9yKGxlbj15Lmxlbmd0aDtnPGxlbjtnKyspYj15W2ddLGVbYl09cltiXX1hKGQudGFyZ2V0KS50cmlnZ2VyKGUpfXJldHVybiBlfWZ1bmN0aW9uIGooYyl7dmFyIGI9YS5kYXRhKGMudGFyZ2V0LEEpO2lmKCFyJiYoIUJ8fEIhPT1iKSlpZihiPWgoInYiK2MudHlwZSxjKSliLmlzRGVmYXVsdFByZXZlbnRlZCgpJiZjLnByZXZlbnREZWZhdWx0KCksYi5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpJiZjLnN0b3BQcm9wYWdhdGlvbigpLGIuaXNJbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQoKSYmYy5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKX0KZnVuY3Rpb24gbChjKXt2YXIgYj1mKGMpLnRvdWNoZXMsZDtpZihiJiZiLmxlbmd0aD09PTEmJihkPWMudGFyZ2V0LGI9ZShkKSxiLmhhc1ZpcnR1YWxCaW5kaW5nKSlCPUcrKyxhLmRhdGEoZCxBLEIpLHYmJihjbGVhclRpbWVvdXQodiksdj0wKSx3PXo9ITEsZD1mKGMpLnRvdWNoZXNbMF0sdD1kLnBhZ2VYLHU9ZC5wYWdlWSxoKCJ2bW91c2VvdmVyIixjLGIpLGgoInZtb3VzZWRvd24iLGMsYil9ZnVuY3Rpb24gbihhKXt6fHwod3x8aCgidm1vdXNlY2FuY2VsIixhLGUoYS50YXJnZXQpKSx3PSEwLGcoKSl9ZnVuY3Rpb24gcyhjKXtpZigheil7dmFyIGI9ZihjKS50b3VjaGVzWzBdLGQ9dyxyPWEudm1vdXNlLm1vdmVEaXN0YW5jZVRocmVzaG9sZDt3PXd8fE1hdGguYWJzKGIucGFnZVgtdCk+cnx8TWF0aC5hYnMoYi5wYWdlWS11KT5yO2ZsYWdzPWUoYy50YXJnZXQpO3cmJiFkJiZoKCJ2bW91c2VjYW5jZWwiLGMsZmxhZ3MpO2goInZtb3VzZW1vdmUiLGMsZmxhZ3MpO2coKX19ZnVuY3Rpb24gcChhKXtpZigheil7ej0KITA7dmFyIGM9ZShhLnRhcmdldCksYjtoKCJ2bW91c2V1cCIsYSxjKTtpZighdyYmKGI9aCgidmNsaWNrIixhLGMpKSYmYi5pc0RlZmF1bHRQcmV2ZW50ZWQoKSliPWYoYSkuY2hhbmdlZFRvdWNoZXNbMF0seC5wdXNoKHt0b3VjaElEOkIseDpiLmNsaWVudFgseTpiLmNsaWVudFl9KSxyPSEwO2goInZtb3VzZW91dCIsYSxjKTt3PSExO2coKX19ZnVuY3Rpb24gayhjKXt2YXIgYz1hLmRhdGEoYyxvKSxiO2lmKGMpZm9yKGIgaW4gYylpZihjW2JdKXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIGkoKXt9ZnVuY3Rpb24gbShjKXt2YXIgYj1jLnN1YnN0cigxKTtyZXR1cm57c2V0dXA6ZnVuY3Rpb24oKXtrKHRoaXMpfHxhLmRhdGEodGhpcyxvLHt9KTthLmRhdGEodGhpcyxvKVtjXT0hMDtxW2NdPShxW2NdfHwwKSsxO3FbY109PT0xJiZDLmJpbmQoYixqKTthKHRoaXMpLmJpbmQoYixpKTtpZihFKXEudG91Y2hzdGFydD0ocS50b3VjaHN0YXJ0fHwwKSsxLHEudG91Y2hzdGFydD09PTEmJgpDLmJpbmQoInRvdWNoc3RhcnQiLGwpLmJpbmQoInRvdWNoZW5kIixwKS5iaW5kKCJ0b3VjaG1vdmUiLHMpLmJpbmQoInNjcm9sbCIsbil9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS1xW2NdO3FbY118fEMudW5iaW5kKGIsaik7RSYmKC0tcS50b3VjaHN0YXJ0LHEudG91Y2hzdGFydHx8Qy51bmJpbmQoInRvdWNoc3RhcnQiLGwpLnVuYmluZCgidG91Y2htb3ZlIixzKS51bmJpbmQoInRvdWNoZW5kIixwKS51bmJpbmQoInNjcm9sbCIsbikpO3ZhciBkPWEodGhpcykscj1hLmRhdGEodGhpcyxvKTtyJiYocltjXT0hMSk7ZC51bmJpbmQoYixpKTtrKHRoaXMpfHxkLnJlbW92ZURhdGEobyl9fX12YXIgbz0idmlydHVhbE1vdXNlQmluZGluZ3MiLEE9InZpcnR1YWxUb3VjaElEIixkPSJ2bW91c2VvdmVyIHZtb3VzZWRvd24gdm1vdXNlbW92ZSB2bW91c2V1cCB2Y2xpY2sgdm1vdXNlb3V0IHZtb3VzZWNhbmNlbCIuc3BsaXQoIiAiKSx5PSJjbGllbnRYIGNsaWVudFkgcGFnZVggcGFnZVkgc2NyZWVuWCBzY3JlZW5ZIi5zcGxpdCgiICIpLApxPXt9LHY9MCx0PTAsdT0wLHc9ITEseD1bXSxyPSExLHo9ITEsRT1hLnN1cHBvcnQuZXZlbnRDYXB0dXJlLEM9YShiKSxHPTEsQj0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCxyZXNldFRpbWVyRHVyYXRpb246MTUwMH07Zm9yKHZhciBEPTA7RDxkLmxlbmd0aDtEKyspYS5ldmVudC5zcGVjaWFsW2RbRF1dPW0oZFtEXSk7RSYmYi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsZnVuY3Rpb24oYyl7dmFyIGI9eC5sZW5ndGgsZD1jLnRhcmdldCxyLGYsZSxnLGk7aWYoYil7cj1jLmNsaWVudFg7Zj1jLmNsaWVudFk7dGhyZXNob2xkPWEudm1vdXNlLmNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ7Zm9yKGU9ZDtlOyl7Zm9yKGc9MDtnPGI7ZysrKWlmKGk9eFtnXSxlPT09ZCYmTWF0aC5hYnMoaS54LXIpPHRocmVzaG9sZCYmTWF0aC5hYnMoaS55LWYpPHRocmVzaG9sZHx8YS5kYXRhKGUsQSk9PT1pLnRvdWNoSUQpe2MucHJldmVudERlZmF1bHQoKTsKYy5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59ZT1lLnBhcmVudE5vZGV9fX0sITApfSkoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7CihmdW5jdGlvbihhLGQsYil7ZnVuY3Rpb24gYyhjLGIsZCl7dmFyIGY9ZC50eXBlO2QudHlwZT1iO2EuZXZlbnQuaGFuZGxlLmNhbGwoYyxkKTtkLnR5cGU9Zn1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGMsYil7YS5mbltiXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYixhKTp0aGlzLnRyaWdnZXIoYil9O2EuYXR0ckZuW2JdPSEwfSk7dmFyIGY9YS5zdXBwb3J0LnRvdWNoLGU9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsZz1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGg9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKGEsCmUpe2Y9ZTtjKGQsZj8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgZD10aGlzLGYsZTthKGQpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGMpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZnx8YihjLCEwKSxjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YihjLCExKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGQ9YShiKTtkLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGUoKXtjbGVhclRpbWVvdXQobSl9ZnVuY3Rpb24gZygpe2UoKTtkLnVuYmluZCgidmNsaWNrIixoKS51bmJpbmQoInZtb3VzZXVwIixlKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsZyl9ZnVuY3Rpb24gaChhKXtnKCk7aT09YS50YXJnZXQmJmMoYiwidGFwIixhKX1pZihmLndoaWNoJiZmLndoaWNoIT09MSlyZXR1cm4hMTt2YXIgaT1mLnRhcmdldCxtOwpkLmJpbmQoInZtb3VzZWNhbmNlbCIsZykuYmluZCgidm1vdXNldXAiLGUpLmJpbmQoInZjbGljayIsaCk7bT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhiLCJ0YXBob2xkIixhLkV2ZW50KCJ0YXBob2xkIikpfSw3NTApfSl9fTthLmV2ZW50LnNwZWNpYWwuc3dpcGU9e3Njcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6MTAsZHVyYXRpb25UaHJlc2hvbGQ6MUUzLGhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDozMCx2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOjc1LHNldHVwOmZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKTtjLmJpbmQoZSxmdW5jdGlvbihkKXtmdW5jdGlvbiBmKGMpe2lmKHApe3ZhciBiPWMub3JpZ2luYWxFdmVudC50b3VjaGVzP2Mub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdOmM7az17dGltZToobmV3IERhdGUpLmdldFRpbWUoKSxjb29yZHM6W2IucGFnZVgsYi5wYWdlWV19O01hdGguYWJzKHAuY29vcmRzWzBdLWsuY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuc2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZCYmCmMucHJldmVudERlZmF1bHQoKX19dmFyIGU9ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/ZC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06ZCxwPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbZS5wYWdlWCxlLnBhZ2VZXSxvcmlnaW46YShkLnRhcmdldCl9LGs7Yy5iaW5kKGgsZikub25lKGcsZnVuY3Rpb24oKXtjLnVuYmluZChoLGYpO3AmJmsmJmsudGltZS1wLnRpbWU8YS5ldmVudC5zcGVjaWFsLnN3aXBlLmR1cmF0aW9uVGhyZXNob2xkJiZNYXRoLmFicyhwLmNvb3Jkc1swXS1rLmNvb3Jkc1swXSk+YS5ldmVudC5zcGVjaWFsLnN3aXBlLmhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZCYmTWF0aC5hYnMocC5jb29yZHNbMV0tay5jb29yZHNbMV0pPGEuZXZlbnQuc3BlY2lhbC5zd2lwZS52ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkJiZwLm9yaWdpbi50cmlnZ2VyKCJzd2lwZSIpLnRyaWdnZXIocC5jb29yZHNbMF0+ay5jb29yZHNbMF0/InN3aXBlbGVmdCI6InN3aXBlcmlnaHQiKTsKcD1rPWJ9KX0pfX07KGZ1bmN0aW9uKGEsYyl7ZnVuY3Rpb24gYigpe3ZhciBhPWYoKTthIT09ZSYmKGU9YSxkLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlIikpfXZhciBkPWEoYyksZixlO2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZT17c2V0dXA6ZnVuY3Rpb24oKXtpZihhLnN1cHBvcnQub3JpZW50YXRpb24pcmV0dXJuITE7ZT1mKCk7ZC5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGIpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbilyZXR1cm4hMTtkLnVuYmluZCgidGhyb3R0bGVkcmVzaXplIixiKX0sYWRkOmZ1bmN0aW9uKGEpe3ZhciBjPWEuaGFuZGxlcjthLmhhbmRsZXI9ZnVuY3Rpb24oYSl7YS5vcmllbnRhdGlvbj1mKCk7cmV0dXJuIGMuYXBwbHkodGhpcyxhcmd1bWVudHMpfX19O2EuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbj1mPWZ1bmN0aW9uKCl7dmFyIGE9ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50OwpyZXR1cm4gYSYmYS5jbGllbnRXaWR0aC9hLmNsaWVudEhlaWdodDwxLjE/InBvcnRyYWl0IjoibGFuZHNjYXBlIn19KShqUXVlcnksZCk7KGZ1bmN0aW9uKCl7YS5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoInJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7YSh0aGlzKS51bmJpbmQoInJlc2l6ZSIsYyl9fTt2YXIgYz1mdW5jdGlvbigpe2Y9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZT1mLWI7ZT49MjUwPyhiPWYsYSh0aGlzKS50cmlnZ2VyKCJ0aHJvdHRsZWRyZXNpemUiKSk6KGQmJmNsZWFyVGltZW91dChkKSxkPXNldFRpbWVvdXQoYywyNTAtZSkpfSxiPTAsZCxmLGV9KSgpO2EuZWFjaCh7c2Nyb2xsc3RvcDoic2Nyb2xsc3RhcnQiLHRhcGhvbGQ6InRhcCIsc3dpcGVsZWZ0OiJzd2lwZSIsc3dpcGVyaWdodDoic3dpcGUifSxmdW5jdGlvbihjLGIpe2EuZXZlbnQuc3BlY2lhbFtjXT17c2V0dXA6ZnVuY3Rpb24oKXthKHRoaXMpLmJpbmQoYiwKYS5ub29wKX19fSl9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhLGQsYil7ZnVuY3Rpb24gYyhhKXthPWF8fGxvY2F0aW9uLmhyZWY7cmV0dXJuIiMiK2EucmVwbGFjZSgvXlteI10qIz8oLiopJC8sIiQxIil9dmFyIGY9Imhhc2hjaGFuZ2UiLGU9ZG9jdW1lbnQsZyxoPWEuZXZlbnQuc3BlY2lhbCxqPWUuZG9jdW1lbnRNb2RlLGw9Im9uIitmIGluIGQmJihqPT09Ynx8aj43KTthLmZuW2ZdPWZ1bmN0aW9uKGEpe3JldHVybiBhP3RoaXMuYmluZChmLGEpOnRoaXMudHJpZ2dlcihmKX07YS5mbltmXS5kZWxheT01MDtoW2ZdPWEuZXh0ZW5kKGhbZl0se3NldHVwOmZ1bmN0aW9uKCl7aWYobClyZXR1cm4hMTthKGcuc3RhcnQpfSx0ZWFyZG93bjpmdW5jdGlvbigpe2lmKGwpcmV0dXJuITE7YShnLnN0b3ApfX0pO2c9ZnVuY3Rpb24oKXtmdW5jdGlvbiBnKCl7dmFyIGI9YygpLGU9byhrKTtpZihiIT09aylqKGs9YixlKSxhKGQpLnRyaWdnZXIoZik7ZWxzZSBpZihlIT09aylsb2NhdGlvbi5ocmVmPWxvY2F0aW9uLmhyZWYucmVwbGFjZSgvIy4qLywKIiIpK2U7cD1zZXRUaW1lb3V0KGcsYS5mbltmXS5kZWxheSl9dmFyIGg9e30scCxrPWMoKSxpPWZ1bmN0aW9uKGEpe3JldHVybiBhfSxqPWksbz1pO2guc3RhcnQ9ZnVuY3Rpb24oKXtwfHxnKCl9O2guc3RvcD1mdW5jdGlvbigpe3AmJmNsZWFyVGltZW91dChwKTtwPWJ9O2EuYnJvd3Nlci5tc2llJiYhbCYmZnVuY3Rpb24oKXt2YXIgYixkO2guc3RhcnQ9ZnVuY3Rpb24oKXtpZighYilkPShkPWEuZm5bZl0uc3JjKSYmZCtjKCksYj1hKCc8aWZyYW1lIHRhYmluZGV4PSItMSIgdGl0bGU9ImVtcHR5Ii8+JykuaGlkZSgpLm9uZSgibG9hZCIsZnVuY3Rpb24oKXtkfHxqKGMoKSk7ZygpfSkuYXR0cigic3JjIixkfHwiamF2YXNjcmlwdDowIikuaW5zZXJ0QWZ0ZXIoImJvZHkiKVswXS5jb250ZW50V2luZG93LGUub25wcm9wZXJ0eWNoYW5nZT1mdW5jdGlvbigpe3RyeXtpZihldmVudC5wcm9wZXJ0eU5hbWU9PT0idGl0bGUiKWIuZG9jdW1lbnQudGl0bGU9ZS50aXRsZX1jYXRjaChhKXt9fX07Cmguc3RvcD1pO289ZnVuY3Rpb24oKXtyZXR1cm4gYyhiLmxvY2F0aW9uLmhyZWYpfTtqPWZ1bmN0aW9uKGMsZCl7dmFyIGc9Yi5kb2N1bWVudCxpPWEuZm5bZl0uZG9tYWluO2lmKGMhPT1kKWcudGl0bGU9ZS50aXRsZSxnLm9wZW4oKSxpJiZnLndyaXRlKCc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJytpKyciPFwvc2NyaXB0PicpLGcuY2xvc2UoKSxiLmxvY2F0aW9uLmhhc2g9Y319KCk7cmV0dXJuIGh9KCl9KShqUXVlcnksdGhpcyk7KGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUucGFnZSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZToiYyIsZG9tQ2FjaGU6ITF9LF9jcmVhdGU6ZnVuY3Rpb24oKXt0aGlzLl90cmlnZ2VyKCJiZWZvcmVjcmVhdGUiKTt0aGlzLmVsZW1lbnQuYXR0cigidGFiaW5kZXgiLCIwIikuYWRkQ2xhc3MoInVpLXBhZ2UgdWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLmV4dGVuZChhLm1vYmlsZSx7bnM6IiIsc3ViUGFnZVVybEtleToidWktcGFnZSIsYWN0aXZlUGFnZUNsYXNzOiJ1aS1wYWdlLWFjdGl2ZSIsYWN0aXZlQnRuQ2xhc3M6InVpLWJ0bi1hY3RpdmUiLGFqYXhFbmFibGVkOiEwLGhhc2hMaXN0ZW5pbmdFbmFibGVkOiEwLGRlZmF1bHRQYWdlVHJhbnNpdGlvbjoic2xpZGUiLG1pblNjcm9sbEJhY2s6MjUwLGRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiJwb3AiLGxvYWRpbmdNZXNzYWdlOiJsb2FkaW5nIixwYWdlTG9hZEVycm9yTWVzc2FnZToiRXJyb3IgTG9hZGluZyBQYWdlIixhdXRvSW5pdGlhbGl6ZVBhZ2U6ITAscHVzaFN0YXRlRW5hYmxlZDohMCxncmFkZUE6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PTd9LGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsCkNPTU1BTkRfTEVGVDo5MSxDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGMpe2lmKGEudHlwZShjKSE9PSJudW1iZXIiKWM9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2Quc2Nyb2xsVG8oMCxjKTthKGRvY3VtZW50KS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLAp7eDowLHk6Y30pfSwyMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZTpmdW5jdGlvbihjKXtpZihjKXJldHVybiBhLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytjKX19KTthLmZuLmpxbURhdGE9ZnVuY3Rpb24oYyxiKXtyZXR1cm4gdGhpcy5kYXRhKGM/YS5tb2JpbGUubnNOb3JtYWxpemUoYyk6YyxiKX07YS5qcW1EYXRhPWZ1bmN0aW9uKGMsYixkKXtyZXR1cm4gYS5kYXRhKGMsYS5tb2JpbGUubnNOb3JtYWxpemUoYiksZCl9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihjKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGMsYil7cmV0dXJuIGEucmVtb3ZlRGF0YShjLGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1IYXNEYXRhPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuaGFzRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGQpKX07CnZhciBiPWEuZmluZDthLmZpbmQ9ZnVuY3Rpb24oYyxkLGUsZyl7Yz1jLnJlcGxhY2UoLzpqcW1EYXRhXCgoW14pXSopXCkvZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIGIuY2FsbCh0aGlzLGMsZCxlLGcpfTthLmV4dGVuZChhLmZpbmQsYik7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixkKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGQpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsZCl7cmV0dXJuIGEuZmluZChkLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gYihhKXt2YXIgYj1hLmZpbmQoIi51aS10aXRsZTplcSgwKSIpO2IubGVuZ3RoP2IuZm9jdXMoKTphLmZvY3VzKCl9ZnVuY3Rpb24gYyhiKXttJiYoIW0uY2xvc2VzdCgiLnVpLXBhZ2UtYWN0aXZlIikubGVuZ3RofHxiKSYmbS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7bT1udWxsfWZ1bmN0aW9uIGYoKXt5PSExO0EubGVuZ3RoPjAmJmEubW9iaWxlLmNoYW5nZVBhZ2UuYXBwbHkobnVsbCxBLnBvcCgpKX1mdW5jdGlvbiBlKGMsZCxlLGYpe3ZhciBpPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksaD1hLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQscT1pLmxhc3RTY3JvbGx8fChoPzA6YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpLGk9ZygpO3dpbmRvdy5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKTtkJiZkLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiYmVmb3JlaGlkZSIsCm51bGwse25leHRQYWdlOmN9KTtofHxjLmhlaWdodChpK3EpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJiZWZvcmVzaG93IixudWxsLHtwcmV2UGFnZTpkfHxhKCIiKX0pO2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpO2gmJnEmJihjLmFkZENsYXNzKCJ1aS1tb2JpbGUtcHJlLXRyYW5zaXRpb24iKSxiKGMpLGMuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9jLmZpbmQoIi51aS1jb250ZW50Iikuc2Nyb2xsVG9wKHEpOmMuc2Nyb2xsVG9wKHEpKTtlPShhLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnNbZXx8Im5vbmUiXXx8YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyKShlLGYsYyxkKTtlLmRvbmUoZnVuY3Rpb24oKXtofHwoYy5oZWlnaHQoIiIpLGIoYykpO2h8fGEubW9iaWxlLnNpbGVudFNjcm9sbChxKTtkJiYoaHx8ZC5oZWlnaHQoIiIpLGQuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJoaWRlIixudWxsLHtuZXh0UGFnZTpjfSkpO2MuZGF0YSgicGFnZSIpLl90cmlnZ2VyKCJzaG93IiwKbnVsbCx7cHJldlBhZ2U6ZHx8YSgiIil9KX0pO3JldHVybiBlfWZ1bmN0aW9uIGcoKXt2YXIgYj1qUXVlcnkuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbigpPT09InBvcnRyYWl0IixjPWI/c2NyZWVuLmF2YWlsSGVpZ2h0OnNjcmVlbi5hdmFpbFdpZHRoLGI9TWF0aC5tYXgoYj80ODA6MzIwLGEod2luZG93KS5oZWlnaHQoKSk7cmV0dXJuIE1hdGgubWluKGMsYil9ZnVuY3Rpb24gaCgpe2EoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykuY3NzKCJtaW4taGVpZ2h0IixnKCkpfWZ1bmN0aW9uIGooYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyk7Yi5wYWdlKCl9ZnVuY3Rpb24gbChhKXtmb3IoO2E7KXtpZihhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJhIilicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBuKGIpe3ZhciBiPWEoYikuY2xvc2VzdCgiLnVpLXBhZ2UiKS5qcW1EYXRhKCJ1cmwiKSwKYz11LmhyZWZOb0hhc2g7aWYoIWJ8fCFpLmlzUGF0aChiKSliPWM7cmV0dXJuIGkubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIHM9YSh3aW5kb3cpLHA9YSgiaHRtbCIpLGs9YSgiaGVhZCIpLGk9e3VybFBhcnNlUkU6L14oKCgoW146XC8jXD9dKzopPyg/OlwvXC8oKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XF1cW10rfFxbW15cL1xdQCM/XStcXSkoPzpcOihbMC05XSspKT8pKT8pPyk/KChcLz8oPzpbXlwvXD8jXStcLyspKikoW15cPyNdKikpKT8oXD9bXiNdKyk/KSgjLiopPy8scGFyc2VVcmw6ZnVuY3Rpb24oYil7aWYoYS50eXBlKGIpPT09Im9iamVjdCIpcmV0dXJuIGI7dmFyIGI9aS51cmxQYXJzZVJFLmV4ZWMoYiksYztiJiYoYz17aHJlZjpiWzBdfHwiIixocmVmTm9IYXNoOmJbMV18fCIiLGhyZWZOb1NlYXJjaDpiWzJdfHwiIixkb21haW46YlszXXx8IiIscHJvdG9jb2w6Yls0XXx8IiIsYXV0aG9yaXR5OmJbNV18fCIiLHVzZXJuYW1lOmJbN118fAoiIixwYXNzd29yZDpiWzhdfHwiIixob3N0OmJbOV18fCIiLGhvc3RuYW1lOmJbMTBdfHwiIixwb3J0OmJbMTFdfHwiIixwYXRobmFtZTpiWzEyXXx8IiIsZGlyZWN0b3J5OmJbMTNdfHwiIixmaWxlbmFtZTpiWzE0XXx8IiIsc2VhcmNoOmJbMTVdfHwiIixoYXNoOmJbMTZdfHwiIn0pO3JldHVybiBjfHx7fX0sbWFrZVBhdGhBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKGEmJmEuY2hhckF0KDApPT09Ii8iKXJldHVybiBhO2Zvcih2YXIgYT1hfHwiIixjPShiPWI/Yi5yZXBsYWNlKC9eXC98KFwvW15cL10qfFteXC9dKykkL2csIiIpOiIiKT9iLnNwbGl0KCIvIik6W10sZD1hLnNwbGl0KCIvIiksZT0wO2U8ZC5sZW5ndGg7ZSsrKXt2YXIgZj1kW2VdO3N3aXRjaChmKXtjYXNlICIuIjpicmVhaztjYXNlICIuLiI6Yy5sZW5ndGgmJmMucG9wKCk7YnJlYWs7ZGVmYXVsdDpjLnB1c2goZil9fXJldHVybiIvIitjLmpvaW4oIi8iKX0saXNTYW1lRG9tYWluOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGkucGFyc2VVcmwoYSkuZG9tYWluPT09CmkucGFyc2VVcmwoYikuZG9tYWlufSxpc1JlbGF0aXZlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBpLnBhcnNlVXJsKGEpLnByb3RvY29sPT09IiJ9LGlzQWJzb2x1dGVVcmw6ZnVuY3Rpb24oYSl7cmV0dXJuIGkucGFyc2VVcmwoYSkucHJvdG9jb2whPT0iIn0sbWFrZVVybEFic29sdXRlOmZ1bmN0aW9uKGEsYil7aWYoIWkuaXNSZWxhdGl2ZVVybChhKSlyZXR1cm4gYTt2YXIgYz1pLnBhcnNlVXJsKGEpLGQ9aS5wYXJzZVVybChiKSxlPWMucHJvdG9jb2x8fGQucHJvdG9jb2wsZj1jLmF1dGhvcml0eXx8ZC5hdXRob3JpdHksZz1jLnBhdGhuYW1lIT09IiIsaD1pLm1ha2VQYXRoQWJzb2x1dGUoYy5wYXRobmFtZXx8ZC5maWxlbmFtZSxkLnBhdGhuYW1lKTtyZXR1cm4gZSsiLy8iK2YraCsoYy5zZWFyY2h8fCFnJiZkLnNlYXJjaHx8IiIpK2MuaGFzaH0sYWRkU2VhcmNoUGFyYW1zOmZ1bmN0aW9uKGIsYyl7dmFyIGQ9aS5wYXJzZVVybChiKSxlPXR5cGVvZiBjPT09Im9iamVjdCI/YS5wYXJhbShjKToKYyxmPWQuc2VhcmNofHwiPyI7cmV0dXJuIGQuaHJlZk5vU2VhcmNoK2YrKGYuY2hhckF0KGYubGVuZ3RoLTEpIT09Ij8iPyImIjoiIikrZSsoZC5oYXNofHwiIil9LGNvbnZlcnRVcmxUb0RhdGFVcmw6ZnVuY3Rpb24oYSl7dmFyIGI9aS5wYXJzZVVybChhKTtpZihpLmlzRW1iZWRkZWRQYWdlKGIpKXJldHVybiBiLmhhc2guc3BsaXQocSlbMF0ucmVwbGFjZSgvXiMvLCIiKTtlbHNlIGlmKGkuaXNTYW1lRG9tYWluKGIsdSkpcmV0dXJuIGIuaHJlZk5vSGFzaC5yZXBsYWNlKHUuZG9tYWluLCIiKTtyZXR1cm4gYX0sZ2V0OmZ1bmN0aW9uKGEpe2lmKGE9PT1kKWE9bG9jYXRpb24uaGFzaDtyZXR1cm4gaS5zdHJpcEhhc2goYSkucmVwbGFjZSgvW15cL10qXC5bXlwvKl0rJC8sIiIpfSxnZXRGaWxlUGF0aDpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleTtyZXR1cm4gYiYmYi5zcGxpdChjKVswXS5zcGxpdChxKVswXX0sc2V0OmZ1bmN0aW9uKGEpe2xvY2F0aW9uLmhhc2g9CmF9LGlzUGF0aDpmdW5jdGlvbihhKXtyZXR1cm4vXC8vLnRlc3QoYSl9LGNsZWFuOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UodS5kb21haW4sIiIpfSxzdHJpcEhhc2g6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvXiMvLCIiKX0sY2xlYW5IYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBpLnN0cmlwSGFzaChhLnJlcGxhY2UoL1w/LiokLywiIikucmVwbGFjZShxLCIiKSl9LGlzRXh0ZXJuYWw6ZnVuY3Rpb24oYSl7YT1pLnBhcnNlVXJsKGEpO3JldHVybiBhLnByb3RvY29sJiZhLmRvbWFpbiE9PXQuZG9tYWluPyEwOiExfSxoYXNQcm90b2NvbDpmdW5jdGlvbihhKXtyZXR1cm4vXig6P1x3KzopLy50ZXN0KGEpfSxpc0ZpcnN0UGFnZVVybDpmdW5jdGlvbihiKXt2YXIgYj1pLnBhcnNlVXJsKGkubWFrZVVybEFic29sdXRlKGIsdSkpLGM9YS5tb2JpbGUuZmlyc3RQYWdlLGM9YyYmY1swXT9jWzBdLmlkOmQ7cmV0dXJuKGIuaHJlZk5vSGFzaD09PXQuaHJlZk5vSGFzaHx8dyYmCmIuaHJlZk5vSGFzaD09PXUuaHJlZk5vSGFzaCkmJighYi5oYXNofHxiLmhhc2g9PT0iIyJ8fGMmJmIuaGFzaC5yZXBsYWNlKC9eIy8sIiIpPT09Yyl9LGlzRW1iZWRkZWRQYWdlOmZ1bmN0aW9uKGEpe2E9aS5wYXJzZVVybChhKTtpZihhLnByb3RvY29sIT09IiIpcmV0dXJuIGEuaGFzaCYmKGEuaHJlZk5vSGFzaD09PXQuaHJlZk5vSGFzaHx8dyYmYS5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNoKTtyZXR1cm4vXiMvLnRlc3QoYS5ocmVmKX19LG09bnVsbCxvPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBvLnN0YWNrW28uYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG8uc3RhY2tbby5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBvLnN0YWNrW28uYWN0aXZlSW5kZXgrMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkLGUpe28uZ2V0TmV4dCgpJiZvLmNsZWFyRm9yd2FyZCgpO28uc3RhY2sucHVzaCh7dXJsOmEsCnRyYW5zaXRpb246Yix0aXRsZTpjLHBhZ2VVcmw6ZCxyb2xlOmV9KTtvLmFjdGl2ZUluZGV4PW8uc3RhY2subGVuZ3RoLTF9LGNsZWFyRm9yd2FyZDpmdW5jdGlvbigpe28uc3RhY2s9by5zdGFjay5zbGljZSgwLG8uYWN0aXZlSW5kZXgrMSl9LGRpcmVjdEhhc2hDaGFuZ2U6ZnVuY3Rpb24oYil7dmFyIGMsZSxmO3RoaXMuZ2V0QWN0aXZlKCk7YS5lYWNoKG8uc3RhY2ssZnVuY3Rpb24oYSxkKXtiLmN1cnJlbnRVcmw9PT1kLnVybCYmKGM9YTxvLmFjdGl2ZUluZGV4LGU9IWMsZj1hKX0pO3RoaXMuYWN0aXZlSW5kZXg9ZiE9PWQ/Zjp0aGlzLmFjdGl2ZUluZGV4O2M/KGIuZWl0aGVyfHxiLmlzQmFjaykoITApOmUmJihiLmVpdGhlcnx8Yi5pc0ZvcndhcmQpKCExKX0saWdub3JlTmV4dEhhc2hDaGFuZ2U6ITF9LEE9W10seT0hMSxxPSImdWktc3RhdGU9ZGlhbG9nIix2PWsuY2hpbGRyZW4oImJhc2UiKSx0PWkucGFyc2VVcmwobG9jYXRpb24uaHJlZiksdT12Lmxlbmd0aD9pLnBhcnNlVXJsKGkubWFrZVVybEFic29sdXRlKHYuYXR0cigiaHJlZiIpLAp0LmhyZWYpKTp0LHc9dC5ocmVmTm9IYXNoIT09dS5ocmVmTm9IYXNoLHg9YS5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnP3tlbGVtZW50OnYubGVuZ3RoP3Y6YSgiPGJhc2U+Iix7aHJlZjp1LmhyZWZOb0hhc2h9KS5wcmVwZW5kVG8oayksc2V0OmZ1bmN0aW9uKGEpe3guZWxlbWVudC5hdHRyKCJocmVmIixpLm1ha2VVcmxBYnNvbHV0ZShhLHUpKX0scmVzZXQ6ZnVuY3Rpb24oKXt4LmVsZW1lbnQuYXR0cigiaHJlZiIsdS5ocmVmTm9IYXNoKX19OmQsaz1mdW5jdGlvbihiKXtyZXR1cm4gZnVuY3Rpb24oKXtpZihiKXtiPSExO3ZhciBjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksZD1hKCIudWktcGFnZS1hY3RpdmUiKSxlPWEod2luZG93KTthLnN1cHBvcnQudG91Y2hPdmVyZmxvdyYmYS5tb2JpbGUudG91Y2hPdmVyZmxvd0VuYWJsZWQmJihlPWQuaXMoIi51aS1uYXRpdmUtZml4ZWQiKT9kLmZpbmQoIi51aS1jb250ZW50Iik6ZCk7aWYoYylkPWUuc2Nyb2xsVG9wKCksYy5sYXN0U2Nyb2xsPQpkPGEubW9iaWxlLm1pblNjcm9sbEJhY2s/YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw6ZH1lbHNlIGI9ITB9fSghMCk7YShkb2N1bWVudCkuYmluZCgiYmVmb3JlY2hhbmdlcGFnZSIsayk7YSh3aW5kb3cpLmJpbmQoYS5zdXBwb3J0LnB1c2hTdGF0ZT8icG9wc3RhdGUiOiJoYXNoY2hhbmdlIixrKTthLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQ9ZzthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCIsYik6KHNldFRpbWVvdXQoYiwwKSxhKHRoaXMpKX07YS5tb2JpbGUudXBkYXRlSGFzaD1pLnNldDthLm1vYmlsZS5wYXRoPWk7YS5tb2JpbGUuYmFzZT14O2EubW9iaWxlLnVybHN0YWNrPW8uc3RhY2s7YS5tb2JpbGUudXJsSGlzdG9yeT1vO2EubW9iaWxlLmRpYWxvZ0hhc2hLZXk9cTthLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXI9ZnVuY3Rpb24oYiwKYyxkLGUpe2UmJmUucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzKTtkLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7cmV0dXJuIGEuRGVmZXJyZWQoKS5yZXNvbHZlKGIsYyxkLGUpLnByb21pc2UoKX07YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyPWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcjthLm1vYmlsZS50cmFuc2l0aW9uSGFuZGxlcnM9e25vbmU6YS5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyfTthLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXM9ITE7YS5tb2JpbGUuZ2V0RG9jdW1lbnRVcmw9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdCk6dC5ocmVmfTthLm1vYmlsZS5nZXREb2N1bWVudEJhc2U9ZnVuY3Rpb24oYil7cmV0dXJuIGI/YS5leHRlbmQoe30sdSk6dS5ocmVmfTthLm1vYmlsZS5sb2FkUGFnZT1mdW5jdGlvbihiLGMpe3ZhciBlPWEuRGVmZXJyZWQoKSxmPWEuZXh0ZW5kKHt9LAphLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cyxjKSxnPW51bGwsaD1udWxsLHE9aS5tYWtlVXJsQWJzb2x1dGUoYixhLm1vYmlsZS5hY3RpdmVQYWdlJiZuKGEubW9iaWxlLmFjdGl2ZVBhZ2UpfHx1LmhyZWZOb0hhc2gpO2lmKGYuZGF0YSYmZi50eXBlPT09ImdldCIpcT1pLmFkZFNlYXJjaFBhcmFtcyhxLGYuZGF0YSksZi5kYXRhPWQ7dmFyIGs9aS5nZXRGaWxlUGF0aChxKSxwPWkuY29udmVydFVybFRvRGF0YVVybChxKTtmLnBhZ2VDb250YWluZXI9Zi5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2c9Zi5wYWdlQ29udGFpbmVyLmNoaWxkcmVuKCI6anFtRGF0YSh1cmw9JyIrcCsiJykiKTtnLmxlbmd0aD09PTAmJmEubW9iaWxlLmZpcnN0UGFnZSYmaS5pc0ZpcnN0UGFnZVVybChxKSYmKGc9YShhLm1vYmlsZS5maXJzdFBhZ2UpKTt4JiZ4LnJlc2V0KCk7aWYoZy5sZW5ndGgpe2lmKCFmLnJlbG9hZFBhZ2UpcmV0dXJuIGooZyxmLnJvbGUpLGUucmVzb2x2ZShxLApjLGcpLGUucHJvbWlzZSgpO2g9Z31pZihmLnNob3dMb2FkTXNnKXZhciBvPXNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKX0sZi5sb2FkTXNnRGVsYXkpOyFhLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJiFpLmlzU2FtZURvbWFpbih0LHEpP2UucmVqZWN0KHEsYyk6YS5hamF4KHt1cmw6ayx0eXBlOmYudHlwZSxkYXRhOmYuZGF0YSxkYXRhVHlwZToiaHRtbCIsc3VjY2VzczpmdW5jdGlvbihkKXt2YXIgbD1hKCI8ZGl2PjwvZGl2PiIpLG49ZC5tYXRjaCgvPHRpdGxlW14+XSo+KFtePF0qKS8pJiZSZWdFeHAuJDEsdj1SZWdFeHAoIlxcYmRhdGEtIithLm1vYmlsZS5ucysidXJsPVtcIiddPyhbXlwiJz5dKilbXCInXT8iKTtSZWdFeHAoIi4qKDxbXj5dK1xcYmRhdGEtIithLm1vYmlsZS5ucysicm9sZT1bXCInXT9wYWdlW1wiJ10/W14+XSo+KS4qIikudGVzdChkKSYmUmVnRXhwLiQxJiZ2LnRlc3QoUmVnRXhwLiQxKSYmUmVnRXhwLiQxJiYKKGI9az1pLmdldEZpbGVQYXRoKFJlZ0V4cC4kMSkpO3gmJnguc2V0KGspO2wuZ2V0KDApLmlubmVySFRNTD1kO2c9bC5maW5kKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZmlyc3QoKTtnLmxlbmd0aHx8KGc9YSgiPGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J3BhZ2UnPiIrZC5zcGxpdCgvPFwvP2JvZHlbXj5dKj4vZ21pKVsxXSsiPC9kaXY+IikpO24mJiFnLmpxbURhdGEoInRpdGxlIikmJmcuanFtRGF0YSgidGl0bGUiLG4pO2lmKCFhLnN1cHBvcnQuZHluYW1pY0Jhc2VUYWcpe3ZhciBtPWkuZ2V0KGspO2cuZmluZCgiW3NyY10sIGxpbmtbaHJlZl0sIGFbcmVsPSdleHRlcm5hbCddLCA6anFtRGF0YShhamF4PSdmYWxzZScpLCBhW3RhcmdldF0iKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKS5pcygiW2hyZWZdIik/ImhyZWYiOmEodGhpcykuaXMoIltzcmNdIik/InNyYyI6ImFjdGlvbiIsYz1hKHRoaXMpLmF0dHIoYiksCmM9Yy5yZXBsYWNlKGxvY2F0aW9uLnByb3RvY29sKyIvLyIrbG9jYXRpb24uaG9zdCtsb2NhdGlvbi5wYXRobmFtZSwiIik7L14oXHcrOnwjfFwvKS8udGVzdChjKXx8YSh0aGlzKS5hdHRyKGIsbStjKX0pfWcuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLGkuY29udmVydFVybFRvRGF0YVVybChrKSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKTtnLm9uZSgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXtnLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlfHxnLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsZnVuY3Rpb24oKXthKHRoaXMpLnJlbW92ZSgpfSl9KTtqKGcsZi5yb2xlKTtxLmluZGV4T2YoIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkpPi0xJiYoZz1mLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitwKyInKSIpKTtmLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KG8pLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpKTtlLnJlc29sdmUocSwKYyxnLGgpfSxlcnJvcjpmdW5jdGlvbigpe3gmJnguc2V0KGkuZ2V0KCkpO2Yuc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQobyksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCksYSgiPGRpdiBjbGFzcz0ndWktbG9hZGVyIHVpLW92ZXJsYXktc2hhZG93IHVpLWJvZHktZSB1aS1jb3JuZXItYWxsJz48aDE+IithLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSsiPC9oMT48L2Rpdj4iKS5jc3Moe2Rpc3BsYXk6ImJsb2NrIixvcGFjaXR5OjAuOTYsdG9wOnMuc2Nyb2xsVG9wKCkrMTAwfSkuYXBwZW5kVG8oZi5wYWdlQ29udGFpbmVyKS5kZWxheSg4MDApLmZhZGVPdXQoNDAwLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmUoKX0pKTtlLnJlamVjdChxLGMpfX0pO3JldHVybiBlLnByb21pc2UoKX07YS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHM9e3R5cGU6ImdldCIsZGF0YTpkLHJlbG9hZFBhZ2U6ITEscm9sZTpkLHNob3dMb2FkTXNnOiExLHBhZ2VDb250YWluZXI6ZCxsb2FkTXNnRGVsYXk6NTB9OwphLm1vYmlsZS5jaGFuZ2VQYWdlPWZ1bmN0aW9uKGIsZyl7aWYodHlwZW9mIGchPT0ib2JqZWN0Iil7dmFyIGg9bnVsbDtpZih0eXBlb2YgYj09PSJvYmplY3QiJiZiLnVybCYmYi50eXBlKWg9e3R5cGU6Yi50eXBlLGRhdGE6Yi5kYXRhLGZvcmNlUGFnZUxvYWQ6ITB9LGI9Yi51cmw7dmFyIGs9YXJndW1lbnRzLmxlbmd0aDtpZihrPjEpe3ZhciBsPVsidHJhbnNpdGlvbiIsInJldmVyc2UiLCJjaGFuZ2VIYXNoIiwiZnJvbUhhc2hDaGFuZ2UiXSxuO2ZvcihuPTE7bjxrO24rKyl7dmFyIHY9YXJndW1lbnRzW25dO3R5cGVvZiB2IT09InVuZGVmaW5lZCImJihoPWh8fHt9LGhbbFtuLTFdXT12KX19aWYoaClyZXR1cm4gYS5tb2JpbGUuY2hhbmdlUGFnZShiLGgpfWlmKHkpQS51bnNoaWZ0KGFyZ3VtZW50cyk7ZWxzZXt2YXIgbT1hLmV4dGVuZCh7fSxhLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzLGcpO20ucGFnZUNvbnRhaW5lcj1tLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7Cm0uZnJvbVBhZ2U9bS5mcm9tUGFnZXx8YS5tb2JpbGUuYWN0aXZlUGFnZTt2YXIgdT1tLnBhZ2VDb250YWluZXIsaD1uZXcgYS5FdmVudCgicGFnZWJlZm9yZWNoYW5nZSIpLHQ9e3RvUGFnZTpiLG9wdGlvbnM6bX07dS50cmlnZ2VyKGgsdCk7dS50cmlnZ2VyKCJiZWZvcmVjaGFuZ2VwYWdlIix0KTtpZighaC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSlpZihiPXQudG9QYWdlLHk9ITAsdHlwZW9mIGI9PSJzdHJpbmciKWEubW9iaWxlLmxvYWRQYWdlKGIsbSkuZG9uZShmdW5jdGlvbihiLGMsZCxlKXt5PSExO2MuZHVwbGljYXRlQ2FjaGVkUGFnZT1lO2EubW9iaWxlLmNoYW5nZVBhZ2UoZCxjKX0pLmZhaWwoZnVuY3Rpb24oKXt5PSExO2MoITApO2YoKTttLnBhZ2VDb250YWluZXIudHJpZ2dlcigicGFnZWNoYW5nZWZhaWxlZCIsdCk7bS5wYWdlQ29udGFpbmVyLnRyaWdnZXIoImNoYW5nZXBhZ2VmYWlsZWQiLHQpfSk7ZWxzZXtoPW0uZnJvbVBhZ2U7bD1rPW0uZGF0YVVybCYmaS5jb252ZXJ0VXJsVG9EYXRhVXJsKG0uZGF0YVVybCl8fApiLmpxbURhdGEoInVybCIpO2kuZ2V0RmlsZVBhdGgoayk7bj1vLmdldEFjdGl2ZSgpO3ZhciB2PW8uYWN0aXZlSW5kZXg9PT0wLHc9MCxzPWRvY3VtZW50LnRpdGxlLHg9bS5yb2xlPT09ImRpYWxvZyJ8fGIuanFtRGF0YSgicm9sZSIpPT09ImRpYWxvZyI7aWYoaCYmaFswXT09PWJbMF0peT0hMSx1LnRyaWdnZXIoInBhZ2VjaGFuZ2UiLHQpLHUudHJpZ2dlcigiY2hhbmdlcGFnZSIsdCk7ZWxzZXtqKGIsbS5yb2xlKTttLmZyb21IYXNoQ2hhbmdlJiZvLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6ayxpc0JhY2s6ZnVuY3Rpb24oKXt3PS0xfSxpc0ZvcndhcmQ6ZnVuY3Rpb24oKXt3PTF9fSk7dHJ5e2EoZG9jdW1lbnQuYWN0aXZlRWxlbWVudHx8IiIpLmFkZCgiaW5wdXQ6Zm9jdXMsIHRleHRhcmVhOmZvY3VzLCBzZWxlY3Q6Zm9jdXMiKS5ibHVyKCl9Y2F0Y2goSCl7fXgmJm4mJihrPShuLnVybHx8IiIpK3EpO2lmKG0uY2hhbmdlSGFzaCE9PSExJiZrKW8uaWdub3JlTmV4dEhhc2hDaGFuZ2U9CiEwLGkuc2V0KGspO3ZhciBGPWIuanFtRGF0YSgidGl0bGUiKXx8Yi5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS50ZXh0KCk7RiYmcz09ZG9jdW1lbnQudGl0bGUmJihzPUYpO3d8fG8uYWRkTmV3KGssbS50cmFuc2l0aW9uLHMsbCxtLnJvbGUpO2RvY3VtZW50LnRpdGxlPW8uZ2V0QWN0aXZlKCkudGl0bGU7YS5tb2JpbGUuYWN0aXZlUGFnZT1iO20udHJhbnNpdGlvbj1tLnRyYW5zaXRpb258fCh3JiYhdj9uLnRyYW5zaXRpb246ZCl8fCh4P2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbik7bS5yZXZlcnNlPW0ucmV2ZXJzZXx8dzwwO2UoYixoLG0udHJhbnNpdGlvbixtLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oKXtjKCk7bS5kdXBsaWNhdGVDYWNoZWRQYWdlJiZtLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7cC5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpOwpmKCk7dS50cmlnZ2VyKCJwYWdlY2hhbmdlIix0KTt1LnRyaWdnZXIoImNoYW5nZXBhZ2UiLHQpfSl9fX19O2EubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHM9e3RyYW5zaXRpb246ZCxyZXZlcnNlOiExLGNoYW5nZUhhc2g6ITAsZnJvbUhhc2hDaGFuZ2U6ITEscm9sZTpkLGR1cGxpY2F0ZUNhY2hlZFBhZ2U6ZCxwYWdlQ29udGFpbmVyOmQsc2hvd0xvYWRNc2c6ITAsZGF0YVVybDpkLGZyb21QYWdlOmR9O2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzPWZ1bmN0aW9uKCl7YSgiZm9ybSIpLmxpdmUoInN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGM9YSh0aGlzKTtpZihhLm1vYmlsZS5hamF4RW5hYmxlZCYmIWMuaXMoIjpqcW1EYXRhKGFqYXg9J2ZhbHNlJykiKSl7dmFyIGQ9Yy5hdHRyKCJtZXRob2QiKSxlPWMuYXR0cigidGFyZ2V0IiksZj1jLmF0dHIoImFjdGlvbiIpO2lmKCFmJiYoZj1uKGMpLGY9PT11LmhyZWZOb0hhc2gpKWY9dC5ocmVmTm9TZWFyY2g7Zj1pLm1ha2VVcmxBYnNvbHV0ZShmLApuKGMpKTshaS5pc0V4dGVybmFsKGYpJiYhZSYmKGEubW9iaWxlLmNoYW5nZVBhZ2UoZix7dHlwZTpkJiZkLmxlbmd0aCYmZC50b0xvd2VyQ2FzZSgpfHwiZ2V0IixkYXRhOmMuc2VyaWFsaXplKCksdHJhbnNpdGlvbjpjLmpxbURhdGEoInRyYW5zaXRpb24iKSxkaXJlY3Rpb246Yy5qcW1EYXRhKCJkaXJlY3Rpb24iKSxyZWxvYWRQYWdlOiEwfSksYi5wcmV2ZW50RGVmYXVsdCgpKX19KTthKGRvY3VtZW50KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe2lmKChiPWwoYi50YXJnZXQpKSYmaS5wYXJzZVVybChiLmdldEF0dHJpYnV0ZSgiaHJlZiIpfHwiIyIpLmhhc2ghPT0iIyIpYyghMCksbT1hKGIpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLG0uYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLGEoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcysiIC51aS1idG4iKS5ub3QoYikuYmx1cigpfSk7YShkb2N1bWVudCkuYmluZCgiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBmPQpsKGIudGFyZ2V0KTtpZihmKXt2YXIgZT1hKGYpLGc9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2MoITApfSwyMDApfTtpZihlLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiB3aW5kb3cuaGlzdG9yeS5iYWNrKCksITE7aWYoYS5tb2JpbGUuYWpheEVuYWJsZWQpe3ZhciBoPW4oZSksZj1pLm1ha2VVcmxBYnNvbHV0ZShlLmF0dHIoImhyZWYiKXx8IiMiLGgpO2lmKGYuc2VhcmNoKCIjIikhPS0xKWlmKGY9Zi5yZXBsYWNlKC9bXiNdKiMvLCIiKSlmPWkuaXNQYXRoKGYpP2kubWFrZVVybEFic29sdXRlKGYsaCk6aS5tYWtlVXJsQWJzb2x1dGUoIiMiK2YsdC5ocmVmTm9IYXNoKTtlbHNle2IucHJldmVudERlZmF1bHQoKTtyZXR1cm59dmFyIGg9ZS5pcygiW3JlbD0nZXh0ZXJuYWwnXSIpfHxlLmlzKCI6anFtRGF0YShhamF4PSdmYWxzZScpIil8fGUuaXMoIlt0YXJnZXRdIikscT1hLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMmJnQucHJvdG9jb2w9PT0KImZpbGU6IiYmZi5zZWFyY2goL15odHRwcz86LykhPS0xO2h8fGkuaXNFeHRlcm5hbChmKSYmIXE/ZygpOihnPWUuanFtRGF0YSgidHJhbnNpdGlvbiIpLGg9KGg9ZS5qcW1EYXRhKCJkaXJlY3Rpb24iKSkmJmg9PT0icmV2ZXJzZSJ8fGUuanFtRGF0YSgiYmFjayIpLGU9ZS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInJlbCIpfHxkLGEubW9iaWxlLmNoYW5nZVBhZ2UoZix7dHJhbnNpdGlvbjpnLHJldmVyc2U6aCxyb2xlOmV9KSxiLnByZXZlbnREZWZhdWx0KCkpfWVsc2UgZygpfX0pO2EoIi51aS1wYWdlIikubGl2ZSgicGFnZXNob3cucHJlZmV0Y2giLGZ1bmN0aW9uKCl7dmFyIGI9W107YSh0aGlzKS5maW5kKCJhOmpxbURhdGEocHJlZmV0Y2gpIikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcykuYXR0cigiaHJlZiIpO2MmJmEuaW5BcnJheShjLGIpPT09LTEmJihiLnB1c2goYyksYS5tb2JpbGUubG9hZFBhZ2UoYykpfSl9KTthLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZT0KZnVuY3Rpb24oYil7dmFyIGM9aS5zdHJpcEhhc2goYiksZj17dHJhbnNpdGlvbjphLm1vYmlsZS51cmxIaXN0b3J5LnN0YWNrLmxlbmd0aD09PTA/Im5vbmUiOmQsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH07aWYoIWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHxvLmlnbm9yZU5leHRIYXNoQ2hhbmdlKW8uaWdub3JlTmV4dEhhc2hDaGFuZ2U9ITE7ZWxzZXtpZihvLnN0YWNrLmxlbmd0aD4xJiZjLmluZGV4T2YocSk+LTEpaWYoYS5tb2JpbGUuYWN0aXZlUGFnZS5pcygiLnVpLWRpYWxvZyIpKW8uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpjLGVpdGhlcjpmdW5jdGlvbihiKXt2YXIgZD1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpO2M9ZC5wYWdlVXJsO2EuZXh0ZW5kKGYse3JvbGU6ZC5yb2xlLHRyYW5zaXRpb246ZC50cmFuc2l0aW9uLHJldmVyc2U6Yn0pfX0pO2Vsc2V7by5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOmMsaXNCYWNrOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuYmFjaygpfSwKaXNGb3J3YXJkOmZ1bmN0aW9uKCl7d2luZG93Lmhpc3RvcnkuZm9yd2FyZCgpfX0pO3JldHVybn1jPyhjPXR5cGVvZiBjPT09InN0cmluZyImJiFpLmlzUGF0aChjKT8iIyIrYzpjLGEubW9iaWxlLmNoYW5nZVBhZ2UoYyxmKSk6YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2UsZil9fTtzLmJpbmQoImhhc2hjaGFuZ2UiLGZ1bmN0aW9uKCl7YS5tb2JpbGUuX2hhbmRsZUhhc2hDaGFuZ2UobG9jYXRpb24uaGFzaCl9KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlc2hvdyIsaCk7YSh3aW5kb3cpLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsaCl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7dmFyIGI9e30sYz1hKGQpLGY9YS5tb2JpbGUucGF0aC5wYXJzZVVybChsb2NhdGlvbi5ocmVmKTthLmV4dGVuZChiLHtpbml0aWFsRmlsZVBhdGg6Zi5wYXRobmFtZStmLnNlYXJjaCxpbml0aWFsSHJlZjpmLmhyZWZOb0hhc2gsaGFzaGNoYW5nZUZpcmVkOiExLHN0YXRlOmZ1bmN0aW9uKCl7cmV0dXJue2hhc2g6bG9jYXRpb24uaGFzaHx8IiMiK2IuaW5pdGlhbEZpbGVQYXRoLHRpdGxlOmRvY3VtZW50LnRpdGxlLGluaXRpYWxIcmVmOmIuaW5pdGlhbEhyZWZ9fSxyZXNldFVJS2V5czpmdW5jdGlvbihiKXt2YXIgYz0iJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSxkPWIuaW5kZXhPZihhLm1vYmlsZS5kaWFsb2dIYXNoS2V5KTtkPi0xP2I9Yi5zbGljZSgwLGQpKyIjIitiLnNsaWNlKGQpOmIuaW5kZXhPZihjKT4tMSYmKGI9Yi5zcGxpdChjKS5qb2luKCIjIitjKSk7cmV0dXJuIGJ9LG9uSGFzaENoYW5nZTpmdW5jdGlvbigpe3ZhciBjLGQ7Yi5oYXNoY2hhbmdlRmlyZWQ9CiEwO2EubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpJiYoZD1iLnN0YXRlKCksYz1hLm1vYmlsZS5wYXRoLm1ha2VVcmxBYnNvbHV0ZShkLmhhc2gucmVwbGFjZSgiIyIsIiIpLGxvY2F0aW9uLmhyZWYpLGM9Yi5yZXNldFVJS2V5cyhjKSxoaXN0b3J5LnJlcGxhY2VTdGF0ZShkLGRvY3VtZW50LnRpdGxlLGMpKX0sb25Qb3BTdGF0ZTpmdW5jdGlvbihiKXt2YXIgYz1iLm9yaWdpbmFsRXZlbnQuc3RhdGU7aWYoYylhLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlPSEwLHNldFRpbWVvdXQoZnVuY3Rpb24oKXthLm1vYmlsZS51cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlPSExO2EubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlKGMuaGFzaCl9LDEwMCl9LGluaXQ6ZnVuY3Rpb24oKXtjLmJpbmQoImhhc2hjaGFuZ2UiLGIub25IYXNoQ2hhbmdlKTtjLmJpbmQoInBvcHN0YXRlIixiLm9uUG9wU3RhdGUpO2xvY2F0aW9uLmhhc2g9PT0iIiYmaGlzdG9yeS5yZXBsYWNlU3RhdGUoYi5zdGF0ZSgpLApkb2N1bWVudC50aXRsZSxsb2NhdGlvbi5ocmVmKX19KTthKGZ1bmN0aW9uKCl7YS5tb2JpbGUucHVzaFN0YXRlRW5hYmxlZCYmYS5zdXBwb3J0LnB1c2hTdGF0ZSYmYi5pbml0KCl9KX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYixjLGQsZSl7dmFyIGc9bmV3IGEuRGVmZXJyZWQsaD1jPyIgcmV2ZXJzZSI6IiIsaj0idWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitiO2QuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtkLmFkZChlKS5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIitiKTtlJiZlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7ZC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhqKTtnLnJlc29sdmUoYixjLGQsZSl9KTtkLnBhcmVudCgpLmFkZENsYXNzKGopO2UmJmUuYWRkQ2xhc3MoYisiIG91dCIraCk7ZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAiK2IrIiBpbiIraCk7cmV0dXJuIGcucHJvbWlzZSgpfWEubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlcj1kO2lmKGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj09PWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcilhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmR9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiJ0ZXh0Iix0ZWw6ITEsdGltZTohMSx1cmw6ITEsd2VlazohMX07YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5rZWVwTmF0aXZlPSI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSI7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBlbmhhbmNlIixmdW5jdGlvbihkKXt2YXIgYj1hKGQudGFyZ2V0KS5kYXRhKCJwYWdlIikub3B0aW9uczthKGQudGFyZ2V0KS5maW5kKCJpbnB1dCIpLm5vdChiLmtlZXBOYXRpdmUpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9dGhpcy5nZXRBdHRyaWJ1dGUoInR5cGUiKSxlPWIuZGVncmFkZUlucHV0c1tkXXx8InRleHQiOwpiLmRlZ3JhZGVJbnB1dHNbZF0mJmMucmVwbGFjZVdpdGgoYSgiPGRpdj4iKS5odG1sKGMuY2xvbmUoKSkuaHRtbCgpLnJlcGxhY2UoL1xzK3R5cGU9WyInXT9cdytbJyJdPy8sJyB0eXBlPSInK2UrJyIgZGF0YS0nK2EubW9iaWxlLm5zKyd0eXBlPSInK2QrJyIgJykpfSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuZGlhbG9nIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2Nsb3NlQnRuVGV4dDoiQ2xvc2UiLHRoZW1lOiJhIixpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuYXR0cigiY2xhc3MiKS5tYXRjaCgvdWktYm9keS1bYS16XS8pO2MubGVuZ3RoJiZiLnJlbW92ZUNsYXNzKGNbMF0pO2IuYWRkQ2xhc3MoInVpLWJvZHktIit0aGlzLm9wdGlvbnMudGhlbWUpO2IuYXR0cigicm9sZSIsImRpYWxvZyIpLmFkZENsYXNzKCJ1aS1kaWFsb2ciKS5maW5kKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIHVpLW92ZXJsYXktc2hhZG93IikucHJlcGVuZCgiPGEgaHJlZj0nIycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdkZWxldGUnIGRhdGEtIithLm1vYmlsZS5ucysicmVsPSdiYWNrJyBkYXRhLSIrCmEubW9iaWxlLm5zKyJpY29ucG9zPSdub3RleHQnPiIrdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCsiPC9hPiIpLmVuZCgpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSw6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmxhc3QoKS5hZGRDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1vdmVybGF5LXNoYWRvdyIpO2IuYmluZCgidmNsaWNrIHN1Ym1pdCIsZnVuY3Rpb24oYil7dmFyIGI9YShiLnRhcmdldCkuY2xvc2VzdChiLnR5cGU9PT0idmNsaWNrIj8iYSI6ImZvcm0iKSxjO2IubGVuZ3RoJiYhYi5qcW1EYXRhKCJ0cmFuc2l0aW9uIikmJihjPWEubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCl8fHt9LGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0cmFuc2l0aW9uIixjLnRyYW5zaXRpb258fGEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImRpcmVjdGlvbiIsInJldmVyc2UiKSl9KS5iaW5kKCJwYWdlaGlkZSIsCmZ1bmN0aW9uKCl7YSh0aGlzKS5maW5kKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7ZC5oaXN0b3J5LmJhY2soKX19KTthKGEubW9iaWxlLmRpYWxvZy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IpLmxpdmUoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5kaWFsb2coKX0pfSkoalF1ZXJ5LHRoaXMpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGV4dD0iQmFjayI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5hZGRCYWNrQnRuPSExO2EubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lPW51bGw7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5mb290ZXJUaGVtZT0iYSI7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5jb250ZW50VGhlbWU9bnVsbDthKCI6anFtRGF0YShyb2xlPSdwYWdlJyksIDpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikubGl2ZSgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLmRhdGEoInBhZ2UiKS5vcHRpb25zLGI9ZC50aGVtZTthKCI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJyksIDpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSIsCnRoaXMpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGY9Yy5qcW1EYXRhKCJyb2xlIiksZT1jLmpxbURhdGEoInRoZW1lIiksZyxoLGo7Yy5hZGRDbGFzcygidWktIitmKTtpZihmPT09ImhlYWRlciJ8fGY9PT0iZm9vdGVyIil7ZT1lfHwoZj09PSJoZWFkZXIiP2QuaGVhZGVyVGhlbWU6ZC5mb290ZXJUaGVtZSl8fGI7Yy5hZGRDbGFzcygidWktYmFyLSIrZSk7Yy5hdHRyKCJyb2xlIixmPT09ImhlYWRlciI/ImJhbm5lciI6ImNvbnRlbnRpbmZvIik7Zz1jLmNoaWxkcmVuKCJhIik7aD1nLmhhc0NsYXNzKCJ1aS1idG4tbGVmdCIpO2o9Zy5oYXNDbGFzcygidWktYnRuLXJpZ2h0Iik7aWYoIWgpaD1nLmVxKDApLm5vdCgiLnVpLWJ0bi1yaWdodCIpLmFkZENsYXNzKCJ1aS1idG4tbGVmdCIpLmxlbmd0aDtqfHxnLmVxKDEpLmFkZENsYXNzKCJ1aS1idG4tcmlnaHQiKTtkLmFkZEJhY2tCdG4mJmY9PT0iaGVhZGVyIiYmYSgiLnVpLXBhZ2UiKS5sZW5ndGg+MSYmYy5qcW1EYXRhKCJ1cmwiKSE9PQphLm1vYmlsZS5wYXRoLnN0cmlwSGFzaChsb2NhdGlvbi5oYXNoKSYmIWgmJihmPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1idG4tbGVmdCcgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIithLm1vYmlsZS5ucysiaWNvbj0nYXJyb3ctbCc+IitkLmJhY2tCdG5UZXh0KyI8L2E+IikucHJlcGVuZFRvKGMpLGYuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIsZC5iYWNrQnRuVGhlbWV8fGUpKTtjLmNoaWxkcmVuKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLXRpdGxlIikuYXR0cih7dGFiaW5kZXg6IjAiLHJvbGU6ImhlYWRpbmciLCJhcmlhLWxldmVsIjoiMSJ9KX1lbHNlIGlmKGY9PT0iY29udGVudCIpe2lmKGV8fGQuY29udGVudFRoZW1lKWMuYWRkQ2xhc3MoInVpLWJvZHktIisoZXx8ZC5jb250ZW50VGhlbWUpKTtjLmF0dHIoInJvbGUiLCJtYWluIil9fSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITAsaGVhZGluZzoiPjpoZWFkZXIsPmxlZ2VuZCIsdGhlbWU6bnVsbCxpY29uVGhlbWU6ImQiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsYz1kLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250YWluIiksZj1kLmZpbmQoYi5oZWFkaW5nKS5lcSgwKSxlPWMud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5maW5kKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGQ9ZC5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKTsKZi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKTtmLmluc2VydEJlZm9yZShlKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+Iikud3JhcElubmVyKCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT4iKS5maW5kKCJhOmVxKDApIikuYnV0dG9uTWFya3VwKHtzaGFkb3c6IWQubGVuZ3RoLGNvcm5lcnM6ITEsaWNvblBvczoibGVmdCIsaWNvbjoicGx1cyIsdGhlbWU6Yi50aGVtZX0pLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQXR0cigiY2xhc3MiKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLGljb25Qb3M6Im5vdGV4dCIsaWNvbjoicGx1cyIsdGhlbWU6Yi5pY29uVGhlbWV9KTsKZC5sZW5ndGg/Yy5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIik6Zi5maW5kKCJhOmVxKDApIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKTtjLmJpbmQoImNvbGxhcHNlIixmdW5jdGlvbihkKXshZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS5pcyhjKSYmKGQucHJldmVudERlZmF1bHQoKSxmLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYi5leHBhbmRDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLW1pbnVzIikuYWRkQ2xhc3MoInVpLWljb24tcGx1cyIpLAplLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCksYy5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpfSkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYS5wcmV2ZW50RGVmYXVsdCgpLGYucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChiLmNvbGxhcHNlQ3VlVGV4dCksZi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLXBsdXMiKS5hZGRDbGFzcygidWktaWNvbi1taW51cyIpLGUucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIikuYXR0cigiYXJpYS1oaWRkZW4iLCExKSxjLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmCmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpfSkudHJpZ2dlcihiLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpJiYoZC5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIiwhMCkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUtY29udGFpbiIpLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUtY29udGFpbiIpLnRyaWdnZXIoImNvbGxhcHNlIil9KSxkPWQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKSxkLmZpcnN0KCkuZmluZCgiYTplcSgwKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZC5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsITApKTsKZi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBiPWYuaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7Yy50cmlnZ2VyKGIpO2EucHJldmVudERlZmF1bHQoKX0pfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKGEubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkuY29sbGFwc2libGUoKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIil9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsZC50YXJnZXQpLmZpZWxkY29udGFpbigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9YS5leHRlbmQoe2dyaWQ6bnVsbH0sZCksZj1iLmNoaWxkcmVuKCksZT17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0sYz1jLmdyaWQ7aWYoIWMpaWYoZi5sZW5ndGg8PTUpZm9yKHZhciBnIGluIGUpZVtnXT09PWYubGVuZ3RoJiYoYz1nKTtlbHNlIGM9ImEiO2U9ZVtjXTtiLmFkZENsYXNzKCJ1aS1ncmlkLSIrYyk7Zi5maWx0ZXIoIjpudGgtY2hpbGQoIitlKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKTtlPjEmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZSsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIik7ZT4yJiZmLmZpbHRlcigiOm50aC1jaGlsZCgzbiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIik7ZT4zJiZmLmZpbHRlcigiOm50aC1jaGlsZCg0bis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIik7ZT40JiZmLmZpbHRlcigiOm50aC1jaGlsZCg1bis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMuZWxlbWVudCxjPWIuZmluZCgiYSIpLGY9Yy5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmQ7Yi5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmdyaWQoe2dyaWQ6dGhpcy5vcHRpb25zLmdyaWR9KTtmfHxiLmFkZENsYXNzKCJ1aS1uYXZiYXItbm9pY29ucyIpO2MuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpY29ucG9zOmZ9KTtiLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbigpe2Mubm90KCIudWktc3RhdGUtcGVyc2lzdCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTsKYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIudGFyZ2V0KS5uYXZiYXIoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe3ZhciBkPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGMsZCl7cmV0dXJuIGQrIiB1aS1saXN0dmlldyAiKyhhLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiKX0pO2EucmVmcmVzaCghMCl9LF9pdGVtQXBwbHk6ZnVuY3Rpb24oYixjKXt2YXIgZD1jLmZpbmQoIi51aS1saS1jb3VudCIpO2QubGVuZ3RoJiZjLmFkZENsYXNzKCJ1aS1saS1oYXMtY291bnQiKTtkLmFkZENsYXNzKCJ1aS1idG4tdXAtIisKKGIuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrIiB1aS1idG4tY29ybmVyLWFsbCIpO2MuZmluZCgiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIpLmFkZENsYXNzKCJ1aS1saS1oZWFkaW5nIikuZW5kKCkuZmluZCgicCwgZGwiKS5hZGRDbGFzcygidWktbGktZGVzYyIpLmVuZCgpLmZpbmQoIj5pbWc6ZXEoMCksIC51aS1saW5rLWluaGVyaXQ+aW1nOmVxKDApIikuYWRkQ2xhc3MoInVpLWxpLXRodW1iIikuZWFjaChmdW5jdGlvbigpe2MuYWRkQ2xhc3MoYSh0aGlzKS5pcygiLnVpLWxpLWljb24iKT8idWktbGktaGFzLWljb24iOiJ1aS1saS1oYXMtdGh1bWIiKX0pLmVuZCgpLmZpbmQoIi51aS1saS1hc2lkZSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IucHJlcGVuZFRvKGIucGFyZW50KCkpfSl9LF9yZW1vdmVDb3JuZXJzOmZ1bmN0aW9uKGEsYyl7YT1hLmFkZChhLmZpbmQoIi51aS1idG4taW5uZXIsIC51aS1saS1saW5rLWFsdCwgLnVpLWxpLXRodW1iIikpOwpjPT09InRvcCI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIik6Yz09PSJib3R0b20iP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpOmEucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCB1aS1jb3JuZXItYm90dG9tIHVpLWNvcm5lci1iciB1aS1jb3JuZXItYmwiKX0sX3JlZnJlc2hDb3JuZXJzOmZ1bmN0aW9uKGEpe3ZhciBjO3RoaXMub3B0aW9ucy5pbnNldCYmKGM9dGhpcy5lbGVtZW50LmNoaWxkcmVuKCJsaSIpLGE9YT9jLm5vdCgiLnVpLXNjcmVlbi1oaWRkZW4iKTpjLmZpbHRlcigiOnZpc2libGUiKSx0aGlzLl9yZW1vdmVDb3JuZXJzKGMpLGM9YS5maXJzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksYy5hZGQoYy5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksCmM9YS5sYXN0KCkuYWRkQ2xhc3MoInVpLWNvcm5lci1ib3R0b20iKSxjLmFkZChjLmZpbmQoIi51aS1idG4taW5uZXIiKSkuZmluZCgiLnVpLWxpLWxpbmstYWx0IikuYWRkQ2xhc3MoInVpLWNvcm5lci1iciIpLmVuZCgpLmZpbmQoIi51aS1saS10aHVtYiIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYmwiKSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dGhpcy5wYXJlbnRQYWdlPXRoaXMuZWxlbWVudC5jbG9zZXN0KCIudWktcGFnZSIpO3RoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7dmFyIGM9dGhpcy5vcHRpb25zLGQ9dGhpcy5lbGVtZW50LGU9ZC5qcW1EYXRhKCJkaXZpZGVydGhlbWUiKXx8Yy5kaXZpZGVyVGhlbWUsZz1kLmpxbURhdGEoInNwbGl0dGhlbWUiKSxoPWQuanFtRGF0YSgic3BsaXRpY29uIiksaj1kLmNoaWxkcmVuKCJsaSIpLGw9YS5zdXBwb3J0LmNzc1BzZXVkb0VsZW1lbnR8fCFhLm5vZGVOYW1lKGRbMF0sIm9sIik/MDoxLG4scyxwLGssaTtsJiZkLmZpbmQoIi51aS1saS1kZWMiKS5yZW1vdmUoKTsKZm9yKHZhciBtPTAsbz1qLmxlbmd0aDttPG87bSsrKXtuPWouZXEobSk7cz0idWktbGkiO2lmKGJ8fCFuLmhhc0NsYXNzKCJ1aS1saSIpKXA9bi5qcW1EYXRhKCJ0aGVtZSIpfHxjLnRoZW1lLGs9bi5jaGlsZHJlbigiYSIpLGsubGVuZ3RoPyhpPW4uanFtRGF0YSgiaWNvbiIpLG4uYnV0dG9uTWFya3VwKHt3cmFwcGVyRWxzOiJkaXYiLHNoYWRvdzohMSxjb3JuZXJzOiExLGljb25wb3M6InJpZ2h0IixpY29uOmsubGVuZ3RoPjF8fGk9PT0hMT8hMTppfHwiYXJyb3ctciIsdGhlbWU6cH0pLGkhPSExJiZrLmxlbmd0aD09MSYmbi5hZGRDbGFzcygidWktbGktaGFzLWFycm93Iiksay5maXJzdCgpLmFkZENsYXNzKCJ1aS1saW5rLWluaGVyaXQiKSxrLmxlbmd0aD4xJiYocys9IiB1aS1saS1oYXMtYWx0IixrPWsubGFzdCgpLGk9Z3x8ay5qcW1EYXRhKCJ0aGVtZSIpfHxjLnNwbGl0VGhlbWUsay5hcHBlbmRUbyhuKS5hdHRyKCJ0aXRsZSIsay50ZXh0KCkpLmFkZENsYXNzKCJ1aS1saS1saW5rLWFsdCIpLmVtcHR5KCkuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITEsCmNvcm5lcnM6ITEsdGhlbWU6cCxpY29uOiExLGljb25wb3M6ITF9KS5maW5kKCIudWktYnRuLWlubmVyIikuYXBwZW5kKGEoIjxzcGFuIC8+IikuYnV0dG9uTWFya3VwKHtzaGFkb3c6ITAsY29ybmVyczohMCx0aGVtZTppLGljb25wb3M6Im5vdGV4dCIsaWNvbjpofHxrLmpxbURhdGEoImljb24iKXx8Yy5zcGxpdEljb259KSkpKTpuLmpxbURhdGEoInJvbGUiKT09PSJsaXN0LWRpdmlkZXIiPyhzKz0iIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iK2Usbi5hdHRyKCJyb2xlIiwiaGVhZGluZyIpLGwmJihsPTEpKTpzKz0iIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIrcDtsJiZzLmluZGV4T2YoInVpLWxpLWRpdmlkZXIiKTwwJiYocD1uLmlzKCIudWktbGktc3RhdGljOmZpcnN0Iik/bjpuLmZpbmQoIi51aS1saW5rLWluaGVyaXQiKSxwLmFkZENsYXNzKCJ1aS1saS1qc251bWJlcmluZyIpLnByZXBlbmQoIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIrbCsrICsiLiA8L3NwYW4+IikpOwpuLmFkZChuLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikpLmFkZENsYXNzKHMpO3RoaXMuX2l0ZW1BcHBseShkLG4pfXRoaXMuX3JlZnJlc2hDb3JuZXJzKGIpfSxfaWRTdHJpbmdFc2NhcGU6ZnVuY3Rpb24oYSl7cmV0dXJuIGEucmVwbGFjZSgvW15hLXpBLVowLTldL2csIi0iKX0sX2NyZWF0ZVN1YlBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9Yi5jbG9zZXN0KCIudWktcGFnZSIpLGY9Yy5qcW1EYXRhKCJ1cmwiKSxlPWZ8fGNbMF1bYS5leHBhbmRvXSxnPWIuYXR0cigiaWQiKSxoPXRoaXMub3B0aW9ucyxqPSJkYXRhLSIrYS5tb2JpbGUubnMsbD10aGlzLG49Yy5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmpxbURhdGEoImlkIiksczt0eXBlb2YgZFtlXT09PSJ1bmRlZmluZWQiJiYoZFtlXT0tMSk7Zz1nfHwrK2RbZV07YShiLmZpbmQoImxpPnVsLCBsaT5vbCIpLnRvQXJyYXkoKS5yZXZlcnNlKCkpLmVhY2goZnVuY3Rpb24oYyl7dmFyIGQ9YSh0aGlzKSwKZT1kLmF0dHIoImlkIil8fGcrIi0iK2MsYz1kLnBhcmVudCgpLG09YShkLnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpKSxtPW0ubGVuZ3RoP206YSgiPHNwYW4+IithLnRyaW0oYy5jb250ZW50cygpWzBdLm5vZGVWYWx1ZSkrIjwvc3Bhbj4iKSxvPW0uZmlyc3QoKS50ZXh0KCksZT0oZnx8IiIpKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KyI9IitlLGw9ZC5qcW1EYXRhKCJ0aGVtZSIpfHxoLnRoZW1lLHk9ZC5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGIuanFtRGF0YSgiY291bnR0aGVtZSIpfHxoLmNvdW50VGhlbWU7cz0hMDtkLmRldGFjaCgpLndyYXAoIjxkaXYgIitqKyJyb2xlPSdwYWdlJyAiK2orInVybD0nIitlKyInICIraisidGhlbWU9JyIrbCsiJyAiK2orImNvdW50LXRoZW1lPSciK3krIic+PGRpdiAiK2orInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLnBhcmVudCgpLmJlZm9yZSgiPGRpdiAiK2orInJvbGU9J2hlYWRlcicgIitqKyJ0aGVtZT0nIitoLmhlYWRlclRoZW1lKwoiJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitvKyI8L2Rpdj48L2Rpdj4iKS5hZnRlcihuP2EoIjxkaXYgIitqKyJyb2xlPSdmb290ZXInICIraisiaWQ9JyIrbisiJz4iKToiIikucGFyZW50KCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikucGFnZSgpO2Q9Yy5maW5kKCJhOmZpcnN0Iik7ZC5sZW5ndGh8fChkPWEoIjxhLz4iKS5odG1sKG18fG8pLnByZXBlbmRUbyhjLmVtcHR5KCkpKTtkLmF0dHIoImhyZWYiLCIjIitlKX0pLmxpc3R2aWV3KCk7cyYmYy5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZT09PSExJiZjLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIikuYmluZCgicGFnZWhpZGUucmVtb3ZlIixmdW5jdGlvbihiLGQpe3ZhciBlPWQubmV4dFBhZ2U7ZC5uZXh0UGFnZSYmKGU9ZS5qcW1EYXRhKCJ1cmwiKSxlLmluZGV4T2YoZisiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSkhPT0wJiYobC5jaGlsZFBhZ2VzKCkucmVtb3ZlKCksYy5yZW1vdmUoKSkpfSl9LApjaGlsZFBhZ2VzOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoInVybCIpO3JldHVybiBhKCI6anFtRGF0YSh1cmxePSciK2IrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIicpIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoYS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIudGFyZ2V0KS5saXN0dmlldygpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyPSExO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclBsYWNlaG9sZGVyPSJGaWx0ZXIgaXRlbXMuLi4iO2EubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlclRoZW1lPSJjIjthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXJDYWxsYmFjaz1mdW5jdGlvbihhLGIpe3JldHVybiBhLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihiKT09PS0xfTthKCI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIikubGl2ZSgibGlzdHZpZXdjcmVhdGUiLGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxiPWQuZGF0YSgibGlzdHZpZXciKTtpZihiLm9wdGlvbnMuZmlsdGVyKXt2YXIgYz1hKCI8Zm9ybT4iLHsiY2xhc3MiOiJ1aS1saXN0dmlldy1maWx0ZXIgdWktYmFyLSIrYi5vcHRpb25zLmZpbHRlclRoZW1lLHJvbGU6InNlYXJjaCJ9KTsKYSgiPGlucHV0PiIse3BsYWNlaG9sZGVyOmIub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcn0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidHlwZSIsInNlYXJjaCIpLmpxbURhdGEoImxhc3R2YWwiLCIiKS5iaW5kKCJrZXl1cCBjaGFuZ2UiLGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxlPXRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSxnPW51bGwsZz1jLmpxbURhdGEoImxhc3R2YWwiKSsiIixoPSExLGo9IiI7Yy5qcW1EYXRhKCJsYXN0dmFsIixlKTtqPWUucmVwbGFjZShSZWdFeHAoIl4iK2cpLCIiKTtnPWUubGVuZ3RoPGcubGVuZ3RofHxqLmxlbmd0aCE9ZS5sZW5ndGgtZy5sZW5ndGg/ZC5jaGlsZHJlbigpOmQuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoZSl7Zm9yKHZhciBsPWcubGVuZ3RoLTE7bD49MDtsLS0pYz1hKGdbbF0pLGo9Yy5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGMudGV4dCgpLGMuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/CihjLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhaCksaD0hMSk6Yi5vcHRpb25zLmZpbHRlckNhbGxiYWNrKGosZSk/Yy50b2dnbGVDbGFzcygidWktZmlsdGVyLWhpZGVxdWV1ZSIsITApOmg9ITA7Zy5maWx0ZXIoIjpub3QoLnVpLWZpbHRlci1oaWRlcXVldWUpIikudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKTtnLmZpbHRlcigiLnVpLWZpbHRlci1oaWRlcXVldWUiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITApLnRvZ2dsZUNsYXNzKCJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwhMSl9ZWxzZSBnLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMSk7Yi5fcmVmcmVzaENvcm5lcnMoKX0pLmFwcGVuZFRvKGMpLnRleHRpbnB1dCgpO2EodGhpcykuanFtRGF0YSgiaW5zZXQiKSYmYy5hZGRDbGFzcygidWktbGlzdHZpZXctZmlsdGVyLWluc2V0Iik7Yy5iaW5kKCJzdWJtaXQiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KS5pbnNlcnRCZWZvcmUoZCl9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoIjpqcW1EYXRhKHJvbGU9J25vanMnKSIsZC50YXJnZXQpLmFkZENsYXNzKCJ1aS1ub2pzIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuY2hlY2tib3hyYWRpbyIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLmVsZW1lbnQsZj1jLmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgibGFiZWwiKS5maWx0ZXIoIltmb3I9JyIrY1swXS5pZCsiJ10iKSxlPWMuYXR0cigidHlwZSIpLGc9ZSsiLW9uIixoPWUrIi1vZmYiLGo9Yy5wYXJlbnRzKCI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiKS5sZW5ndGg/ZDpoO2lmKCEoZSE9PSJjaGVja2JveCImJmUhPT0icmFkaW8iKSl7YS5leHRlbmQodGhpcyx7bGFiZWw6ZixpbnB1dHR5cGU6ZSxjaGVja2VkQ2xhc3M6InVpLSIrZysoaj8iIjoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLAp1bmNoZWNrZWRDbGFzczoidWktIitoLGNoZWNrZWRpY29uOiJ1aS1pY29uLSIrZyx1bmNoZWNrZWRpY29uOiJ1aS1pY29uLSIraH0pO2lmKCF0aGlzLm9wdGlvbnMudGhlbWUpdGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuZWxlbWVudC5qcW1EYXRhKCJ0aGVtZSIpO2YuYnV0dG9uTWFya3VwKHt0aGVtZTp0aGlzLm9wdGlvbnMudGhlbWUsaWNvbjpqLHNoYWRvdzohMX0pO2MuYWRkKGYpLndyYXBBbGwoIjxkaXYgY2xhc3M9J3VpLSIrZSsiJz48L2Rpdj4iKTtmLmJpbmQoe3Ztb3VzZW92ZXI6ZnVuY3Rpb24oKXtpZihhKHRoaXMpLnBhcmVudCgpLmlzKCIudWktZGlzYWJsZWQiKSlyZXR1cm4hMX0sdmNsaWNrOmZ1bmN0aW9uKGEpe2lmKGMuaXMoIjpkaXNhYmxlZCIpKWEucHJldmVudERlZmF1bHQoKTtlbHNlIHJldHVybiBiLl9jYWNoZVZhbHMoKSxjLnByb3AoImNoZWNrZWQiLGU9PT0icmFkaW8iJiYhMHx8IWMucHJvcCgiY2hlY2tlZCIpKSxiLl9nZXRJbnB1dFNldCgpLm5vdChjKS5wcm9wKCJjaGVja2VkIiwKITEpLGIuX3VwZGF0ZUFsbCgpLCExfX0pO2MuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbigpe3RoaXMuX2NhY2hlVmFscygpfSx2Y2xpY2s6ZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuaXMoIjpjaGVja2VkIik/KGMucHJvcCgiY2hlY2tlZCIsITApLGIuX2dldElucHV0U2V0KCkubm90KGMpLnByb3AoImNoZWNrZWQiLCExKSk6Yy5wcm9wKCJjaGVja2VkIiwhMSk7Yi5fdXBkYXRlQWxsKCl9LGZvY3VzOmZ1bmN0aW9uKCl7Zi5hZGRDbGFzcygidWktZm9jdXMiKX0sYmx1cjpmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9fSk7dGhpcy5yZWZyZXNoKCl9fSxfY2FjaGVWYWxzOmZ1bmN0aW9uKCl7dGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoImNhY2hlVmFsIixiLmlzKCI6Y2hlY2tlZCIpKX0pfSxfZ2V0SW5wdXRTZXQ6ZnVuY3Rpb24oKXtpZih0aGlzLmlucHV0dHlwZT09ImNoZWNrYm94IilyZXR1cm4gdGhpcy5lbGVtZW50OwpyZXR1cm4gdGhpcy5lbGVtZW50LmNsb3Nlc3QoImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIikuZmluZCgiaW5wdXRbbmFtZT0nIit0aGlzLmVsZW1lbnQuYXR0cigibmFtZSIpKyInXVt0eXBlPSciK3RoaXMuaW5wdXR0eXBlKyInXSIpfSxfdXBkYXRlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpczt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpOyhjLmlzKCI6Y2hlY2tlZCIpfHxiLmlucHV0dHlwZT09PSJjaGVja2JveCIpJiZjLnRyaWdnZXIoImNoYW5nZSIpfSkuY2hlY2tib3hyYWRpbygicmVmcmVzaCIpfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5lbGVtZW50LGM9dGhpcy5sYWJlbCxkPWMuZmluZCgiLnVpLWljb24iKTthKGJbMF0pLnByb3AoImNoZWNrZWQiKT8oYy5hZGRDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykucmVtb3ZlQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksZC5hZGRDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKToKKGMucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkQ2xhc3MpLmFkZENsYXNzKHRoaXMudW5jaGVja2VkQ2xhc3MpLGQucmVtb3ZlQ2xhc3ModGhpcy5jaGVja2VkaWNvbikuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRpY29uKSk7Yi5pcygiOmRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITApLnBhcmVudCgpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQucHJvcCgiZGlzYWJsZWQiLCExKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5jaGVja2JveHJhZGlvLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixiLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmNoZWNrYm94cmFkaW8oKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuYnV0dG9uIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaWNvbjpudWxsLGljb25wb3M6bnVsbCxpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLGluaXRTZWxlY3RvcjoiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBkPXRoaXMuZWxlbWVudCxiPXRoaXMub3B0aW9uczt0aGlzLmJ1dHRvbj1hKCI8ZGl2PjwvZGl2PiIpLnRleHQoZC50ZXh0KCl8fGQudmFsKCkpLmJ1dHRvbk1hcmt1cCh7dGhlbWU6Yi50aGVtZSxpY29uOmIuaWNvbixpY29ucG9zOmIuaWNvbnBvcyxpbmxpbmU6Yi5pbmxpbmUsY29ybmVyczpiLmNvcm5lcnMsc2hhZG93OmIuc2hhZG93LGljb25zaGFkb3c6Yi5pY29uc2hhZG93fSkuaW5zZXJ0QmVmb3JlKGQpLmFwcGVuZChkLmFkZENsYXNzKCJ1aS1idG4taGlkZGVuIikpOwpiPWQuYXR0cigidHlwZSIpO2IhPT0iYnV0dG9uIiYmYiE9PSJyZXNldCImJmQuYmluZCgidmNsaWNrIixmdW5jdGlvbigpe3ZhciBiPWEoIjxpbnB1dD4iLHt0eXBlOiJoaWRkZW4iLG5hbWU6ZC5hdHRyKCJuYW1lIiksdmFsdWU6ZC5hdHRyKCJ2YWx1ZSIpfSkuaW5zZXJ0QmVmb3JlKGQpO2EoZG9jdW1lbnQpLnN1Ym1pdChmdW5jdGlvbigpe2IucmVtb3ZlKCl9KX0pO3RoaXMucmVmcmVzaCgpfSxlbmFibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMSk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITApO3RoaXMuYnV0dG9uLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCEwKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsCiEwKX0scmVmcmVzaDpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIpP3RoaXMuZGlzYWJsZSgpOnRoaXMuZW5hYmxlKCl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoYS5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLnNsaWRlciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLHRyYWNrVGhlbWU6bnVsbCxkaXNhYmxlZDohMSxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3JhbmdlJ10sIDpqcW1EYXRhKHR5cGU9J3JhbmdlJyksIDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLmVsZW1lbnQsZj1jLnBhcmVudHMoIltjbGFzcyo9J3VpLWJhci0nXSxbY2xhc3MqPSd1aS1ib2R5LSddIikuZXEoMCksZj1mLmxlbmd0aD9mLmF0dHIoImNsYXNzIikubWF0Y2goL3VpLShiYXJ8Ym9keSktKFthLXpdKS8pWzJdOiJjIixlPXRoaXMub3B0aW9ucy50aGVtZT90aGlzLm9wdGlvbnMudGhlbWU6ZixnPXRoaXMub3B0aW9ucy50cmFja1RoZW1lP3RoaXMub3B0aW9ucy50cmFja1RoZW1lOmYsaD1jWzBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksZj1oPT0ic2VsZWN0Ij8idWktc2xpZGVyLXN3aXRjaCI6CiIiLGo9Yy5hdHRyKCJpZCIpLGw9aisiLWxhYmVsIixqPWEoIltmb3I9JyIraisiJ10iKS5hdHRyKCJpZCIsbCksbj1mdW5jdGlvbigpe3JldHVybiBoPT0iaW5wdXQiP3BhcnNlRmxvYXQoYy52YWwoKSk6Y1swXS5zZWxlY3RlZEluZGV4fSxzPWg9PSJpbnB1dCI/cGFyc2VGbG9hdChjLmF0dHIoIm1pbiIpKTowLHA9aD09ImlucHV0Ij9wYXJzZUZsb2F0KGMuYXR0cigibWF4IikpOmMuZmluZCgib3B0aW9uIikubGVuZ3RoLTEsaz13aW5kb3cucGFyc2VGbG9hdChjLmF0dHIoInN0ZXAiKXx8MSksaT1hKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXIgIitmKyIgdWktYnRuLWRvd24tIitnKyIgdWktYnRuLWNvcm5lci1hbGwnIHJvbGU9J2FwcGxpY2F0aW9uJz48L2Rpdj4iKSxtPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1zbGlkZXItaGFuZGxlJz48L2E+IikuYXBwZW5kVG8oaSkuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiEwLHRoZW1lOmUsc2hhZG93OiEwfSkuYXR0cih7cm9sZToic2xpZGVyIiwKImFyaWEtdmFsdWVtaW4iOnMsImFyaWEtdmFsdWVtYXgiOnAsImFyaWEtdmFsdWVub3ciOm4oKSwiYXJpYS12YWx1ZXRleHQiOm4oKSx0aXRsZTpuKCksImFyaWEtbGFiZWxsZWRieSI6bH0pO2EuZXh0ZW5kKHRoaXMse3NsaWRlcjppLGhhbmRsZTptLGRyYWdnaW5nOiExLGJlZm9yZVN0YXJ0Om51bGwsdXNlck1vZGlmaWVkOiExfSk7aD09InNlbGVjdCImJihpLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWlubmVyb2Zmc2V0Jz48L2Rpdj4iKSxjLmZpbmQoIm9wdGlvbiIpLGMuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbihiKXt2YXIgYz0hYj8iYiI6ImEiLGQ9IWI/InJpZ2h0IjoibGVmdCIsYj0hYj8iIHVpLWJ0bi1kb3duLSIrZzoiICIrYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3M7YSgiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsYmcgdWktc2xpZGVyLWxhYmVsYmctIitjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJz48L2Rpdj4iKS5wcmVwZW5kVG8oaSk7CmEoIjxzcGFuIGNsYXNzPSd1aS1zbGlkZXItbGFiZWwgdWktc2xpZGVyLWxhYmVsLSIrYytiKyIgdWktYnRuLWNvcm5lci0iK2QrIicgcm9sZT0naW1nJz4iK2EodGhpcykudGV4dCgpKyI8L3NwYW4+IikucHJlcGVuZFRvKG0pfSkpO2ouYWRkQ2xhc3MoInVpLXNsaWRlciIpO2MuYWRkQ2xhc3MoaD09PSJpbnB1dCI/InVpLXNsaWRlci1pbnB1dCI6InVpLXNsaWRlci1zd2l0Y2giKS5jaGFuZ2UoZnVuY3Rpb24oKXtiLnJlZnJlc2gobigpLCEwKX0pLmtleXVwKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKG4oKSwhMCwhMCl9KS5ibHVyKGZ1bmN0aW9uKCl7Yi5yZWZyZXNoKG4oKSwhMCl9KTthKGRvY3VtZW50KS5iaW5kKCJ2bW91c2Vtb3ZlIixmdW5jdGlvbihhKXtpZihiLmRyYWdnaW5nKXJldHVybiBiLnJlZnJlc2goYSksYi51c2VyTW9kaWZpZWQ9Yi51c2VyTW9kaWZpZWR8fGIuYmVmb3JlU3RhcnQhPT1jWzBdLnNlbGVjdGVkSW5kZXgsITF9KTtpLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2IuZHJhZ2dpbmc9CiEwO2IudXNlck1vZGlmaWVkPSExO2lmKGg9PT0ic2VsZWN0IiliLmJlZm9yZVN0YXJ0PWNbMF0uc2VsZWN0ZWRJbmRleDtiLnJlZnJlc2goYSk7cmV0dXJuITF9KTtpLmFkZChkb2N1bWVudCkuYmluZCgidm1vdXNldXAiLGZ1bmN0aW9uKCl7aWYoYi5kcmFnZ2luZylyZXR1cm4gYi5kcmFnZ2luZz0hMSxoPT09InNlbGVjdCImJiFiLnVzZXJNb2RpZmllZCYmKG0uYWRkQ2xhc3MoInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciKSxiLnJlZnJlc2goIWIuYmVmb3JlU3RhcnQ/MTowKSksITF9KTtpLmluc2VydEFmdGVyKGMpO3RoaXMuaGFuZGxlLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7YSh0aGlzKS5mb2N1cygpfSkuYmluZCgidmNsaWNrIiwhMSk7dGhpcy5oYW5kbGUuYmluZCgia2V5ZG93biIsZnVuY3Rpb24oYyl7dmFyIGQ9bigpO2lmKCFiLm9wdGlvbnMuZGlzYWJsZWQpe3N3aXRjaChjLmtleUNvZGUpe2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5IT01FOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlJJR0hUOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmlmKGMucHJldmVudERlZmF1bHQoKSwKIWIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz0hMCxhKHRoaXMpLmFkZENsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX1zd2l0Y2goYy5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpiLnJlZnJlc2gocyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkVORDpiLnJlZnJlc2gocCk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfVVA6Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpiLnJlZnJlc2goZCtrKTticmVhaztjYXNlIGEubW9iaWxlLmtleUNvZGUuUEFHRV9ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5ET1dOOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5MRUZUOmIucmVmcmVzaChkLWspfX19KS5rZXl1cChmdW5jdGlvbigpe2lmKGIuX2tleVNsaWRpbmcpYi5fa2V5U2xpZGluZz0hMSxhKHRoaXMpLnJlbW92ZUNsYXNzKCJ1aS1zdGF0ZS1hY3RpdmUiKX0pO3RoaXMucmVmcmVzaChkLGQsITApfSxyZWZyZXNoOmZ1bmN0aW9uKGEsCmMsZCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGU9dGhpcy5lbGVtZW50LGc9ZVswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpLGg9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChlLmF0dHIoIm1pbiIpKTowLGo9Zz09PSJpbnB1dCI/cGFyc2VGbG9hdChlLmF0dHIoIm1heCIpKTplLmZpbmQoIm9wdGlvbiIpLmxlbmd0aC0xO2lmKHR5cGVvZiBhPT09Im9iamVjdCIpe2lmKCF0aGlzLmRyYWdnaW5nfHxhLnBhZ2VYPHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQtOHx8YS5wYWdlWD50aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0K3RoaXMuc2xpZGVyLndpZHRoKCkrOClyZXR1cm47YT1NYXRoLnJvdW5kKChhLnBhZ2VYLXRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQpL3RoaXMuc2xpZGVyLndpZHRoKCkqMTAwKX1lbHNlIGE9PW51bGwmJihhPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS52YWwoKSk6ZVswXS5zZWxlY3RlZEluZGV4KSxhPShwYXJzZUZsb2F0KGEpLWgpLyhqLWgpKgoxMDA7aWYoIWlzTmFOKGEpKXthPDAmJihhPTApO2E+MTAwJiYoYT0xMDApO3ZhciBsPU1hdGgucm91bmQoYS8xMDAqKGotaCkpK2g7bDxoJiYobD1oKTtsPmomJihsPWopO3RoaXMuaGFuZGxlLmNzcygibGVmdCIsYSsiJSIpO3RoaXMuaGFuZGxlLmF0dHIoeyJhcmlhLXZhbHVlbm93IjpnPT09ImlucHV0Ij9sOmUuZmluZCgib3B0aW9uIikuZXEobCkuYXR0cigidmFsdWUiKSwiYXJpYS12YWx1ZXRleHQiOmc9PT0iaW5wdXQiP2w6ZS5maW5kKCJvcHRpb24iKS5lcShsKS50ZXh0KCksdGl0bGU6bH0pO2c9PT0ic2VsZWN0IiYmKGw9PT0wP3RoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1iIik6dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpLnJlbW92ZUNsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWEiKSk7aWYoIWQpZz09PSJpbnB1dCI/ZS52YWwobCk6ZVswXS5zZWxlY3RlZEluZGV4PQpsLGN8fGUudHJpZ2dlcigiY2hhbmdlIil9fX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSk7dGhpcy5zbGlkZXIucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITEpO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMSl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKTt0aGlzLnNsaWRlci5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YShhLm1vYmlsZS5zbGlkZXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGIudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuc2xpZGVyKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLnRleHRpbnB1dCIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgaTt2YXIgZD10aGlzLmVsZW1lbnQsYj10aGlzLm9wdGlvbnMsYz1iLnRoZW1lLGYsZTtjfHwoYz10aGlzLmVsZW1lbnQuY2xvc2VzdCgiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iKSxpPShjPWMubGVuZ3RoJiYvdWktKGJhcnxib2R5KS0oW2Etel0pLy5leGVjKGMuYXR0cigiY2xhc3MiKSkpJiYKY1syXXx8ImMiLGM9aSk7Yz0iIHVpLWJvZHktIitjO2EoImxhYmVsW2Zvcj0nIitkLmF0dHIoImlkIikrIiddIikuYWRkQ2xhc3MoInVpLWlucHV0LXRleHQiKTtkLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIitiLnRoZW1lKTtmPWQ7dHlwZW9mIGRbMF0uYXV0b2NvcnJlY3QhPT0idW5kZWZpbmVkIiYmKGRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29ycmVjdCIsIm9mZiIpLGRbMF0uc2V0QXR0cmlidXRlKCJhdXRvY29tcGxldGUiLCJvZmYiKSk7ZC5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/KGY9ZC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1pbnB1dC1zZWFyY2ggdWktc2hhZG93LWluc2V0IHVpLWJ0bi1jb3JuZXItYWxsIHVpLWJ0bi1zaGFkb3cgdWktaWNvbi1zZWFyY2hmaWVsZCIrYysiJz48L2Rpdj4iKS5wYXJlbnQoKSxlPWEoIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9J2NsZWFyIHRleHQnPmNsZWFyIHRleHQ8L2E+IikudGFwKGZ1bmN0aW9uKGEpe2QudmFsKCIiKS5mb2N1cygpOwpkLnRyaWdnZXIoImNoYW5nZSIpO2UuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpO2EucHJldmVudERlZmF1bHQoKX0pLmFwcGVuZFRvKGYpLmJ1dHRvbk1hcmt1cCh7aWNvbjoiZGVsZXRlIixpY29ucG9zOiJub3RleHQiLGNvcm5lcnM6ITAsc2hhZG93OiEwfSksYj1mdW5jdGlvbigpe2QudmFsKCk/ZS5yZW1vdmVDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIik6ZS5hZGRDbGFzcygidWktaW5wdXQtY2xlYXItaGlkZGVuIil9LGIoKSxkLmtleXVwKGIpLmZvY3VzKGIpKTpkLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLXNoYWRvdy1pbnNldCIrYyk7ZC5mb2N1cyhmdW5jdGlvbigpe2YuYWRkQ2xhc3MoInVpLWZvY3VzIil9KS5ibHVyKGZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX0pO2lmKGQuaXMoInRleHRhcmVhIikpe3ZhciBnPWZ1bmN0aW9uKCl7dmFyIGE9ZFswXS5zY3JvbGxIZWlnaHQ7ZFswXS5jbGllbnRIZWlnaHQ8YSYmZC5jc3Moe2hlaWdodDphKwoxNX0pfSxoO2Qua2V5dXAoZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQoaCk7aD1zZXRUaW1lb3V0KGcsMTAwKX0pfX0sZGlzYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpeyh0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCExKS5pcygiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIik/dGhpcy5lbGVtZW50LnBhcmVudCgpOnRoaXMuZWxlbWVudCkucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIil9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoYS5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLnRleHRpbnB1dCgpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7dmFyIGQ9ZnVuY3Rpb24oYil7dmFyIGM9Yi5zZWxlY3RJRCxkPWIubGFiZWwsZT1iLnNlbGVjdC5jbG9zZXN0KCIudWktcGFnZSIpLGc9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51LXNjcmVlbiB1aS1zY3JlZW4taGlkZGVuIn0pLmFwcGVuZFRvKGUpLGg9Yi5zZWxlY3QuZmluZCgib3B0aW9uIiksaj1iLmlzTXVsdGlwbGU9Yi5zZWxlY3RbMF0ubXVsdGlwbGUsbD1jKyItYnV0dG9uIixuPWMrIi1tZW51IixzPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdkaWFsb2cnIGRhdGEtIithLm1vYmlsZS5ucysidGhlbWU9JyIrYi5vcHRpb25zLm1lbnVQYWdlVGhlbWUrIic+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2hlYWRlcic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrZC50ZXh0KCkrIjwvZGl2PjwvZGl2PjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdjb250ZW50Jz48L2Rpdj48L2Rpdj4iKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCksCnA9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1zZWxlY3RtZW51IHVpLXNlbGVjdG1lbnUtaGlkZGVuIHVpLW92ZXJsYXktc2hhZG93IHVpLWNvcm5lci1hbGwgdWktYm9keS0iK2Iub3B0aW9ucy5vdmVybGF5VGhlbWUrIiAiK2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSkuaW5zZXJ0QWZ0ZXIoZyksaz1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDpuLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmx9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixiLm9wdGlvbnMudGhlbWUpLmFwcGVuZFRvKHApLGk9YSgiPGRpdj4iLHsiY2xhc3MiOiJ1aS1oZWFkZXIgdWktYmFyLSIrYi5vcHRpb25zLnRoZW1lfSkucHJlcGVuZFRvKHApLG09YSgiPGgxPiIseyJjbGFzcyI6InVpLXRpdGxlIn0pLmFwcGVuZFRvKGkpLG89YSgiPGE+Iix7dGV4dDpiLm9wdGlvbnMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIisKYS5tb2JpbGUubnMrImljb25wb3MiLCJub3RleHQiKS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrImljb24iLCJkZWxldGUiKS5hcHBlbmRUbyhpKS5idXR0b25NYXJrdXAoKSxBPXMuZmluZCgiLnVpLWNvbnRlbnQiKSx5PXMuZmluZCgiLnVpLWhlYWRlciBhIik7YS5leHRlbmQoYix7c2VsZWN0OmIuc2VsZWN0LHNlbGVjdElEOmMsYnV0dG9uSWQ6bCxtZW51SWQ6bix0aGlzUGFnZTplLG1lbnVQYWdlOnMsbGFiZWw6ZCxzY3JlZW46ZyxzZWxlY3RPcHRpb25zOmgsaXNNdWx0aXBsZTpqLHRoZW1lOmIub3B0aW9ucy50aGVtZSxsaXN0Ym94OnAsbGlzdDprLGhlYWRlcjppLGhlYWRlclRpdGxlOm0saGVhZGVyQ2xvc2U6byxtZW51UGFnZUNvbnRlbnQ6QSxtZW51UGFnZUNsb3NlOnkscGxhY2Vob2xkZXI6IiIsYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2IucmVmcmVzaCgpO2Iuc2VsZWN0LmF0dHIoInRhYmluZGV4IiwiLTEiKS5mb2N1cyhmdW5jdGlvbigpe2EodGhpcykuYmx1cigpOwpiLmJ1dHRvbi5mb2N1cygpfSk7Yi5idXR0b24uYmluZCgidmNsaWNrIGtleWRvd24iLGZ1bmN0aW9uKGMpe2lmKGMudHlwZT09InZjbGljayJ8fGMua2V5Q29kZSYmKGMua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuRU5URVJ8fGMua2V5Q29kZT09PWEubW9iaWxlLmtleUNvZGUuU1BBQ0UpKWIub3BlbigpLGMucHJldmVudERlZmF1bHQoKX0pO2IubGlzdC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3VzaW4iLGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJ0YWJpbmRleCIsIjAiKX0pLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3Vzb3V0IixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCItMSIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZD1iLnNlbGVjdFswXS5zZWxlY3RlZEluZGV4LGU9Yi5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5pbmRleCh0aGlzKSwKZj1iLnNlbGVjdE9wdGlvbnMuZXEoZSlbMF07Zi5zZWxlY3RlZD1iLmlzTXVsdGlwbGU/IWYuc2VsZWN0ZWQ6ITA7Yi5pc011bHRpcGxlJiZhKHRoaXMpLmZpbmQoIi51aS1pY29uIikudG9nZ2xlQ2xhc3MoInVpLWljb24tY2hlY2tib3gtb24iLGYuc2VsZWN0ZWQpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIsIWYuc2VsZWN0ZWQpOyhiLmlzTXVsdGlwbGV8fGQhPT1lKSYmYi5zZWxlY3QudHJpZ2dlcigiY2hhbmdlIik7Yi5pc011bHRpcGxlfHxiLmNsb3NlKCk7Yy5wcmV2ZW50RGVmYXVsdCgpfSkua2V5ZG93bihmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KSxkPWMuY2xvc2VzdCgibGkiKTtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIDM4OnJldHVybiBiPWQucHJldigpLGIubGVuZ3RoJiYoYy5ibHVyKCkuYXR0cigidGFiaW5kZXgiLCItMSIpLGIuZmluZCgiYSIpLmZpcnN0KCkuZm9jdXMoKSksITE7Y2FzZSA0MDpyZXR1cm4gYj1kLm5leHQoKSxiLmxlbmd0aCYmCihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDEzOmNhc2UgMzI6cmV0dXJuIGMudHJpZ2dlcigiY2xpY2siKSwhMX19KTtiLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2IubGlzdC5hcHBlbmRUbyhiLmxpc3Rib3gpO2IuX2ZvY3VzQnV0dG9uKCl9KTtiLnNjcmVlbi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7Yi5jbG9zZSgpfSk7Yi5oZWFkZXJDbG9zZS5jbGljayhmdW5jdGlvbigpe2lmKGIubWVudVR5cGU9PSJvdmVybGF5IilyZXR1cm4gYi5jbG9zZSgpLCExfSl9LHJlZnJlc2g6ZnVuY3Rpb24oYil7dmFyIGM9dGhpcyxkPXRoaXMuZWxlbWVudDt0aGlzLnNlbGVjdE9wdGlvbnM9ZC5maW5kKCJvcHRpb24iKTt0aGlzLnNlbGVjdGVkKCk7dmFyIGU9dGhpcy5zZWxlY3RlZEluZGljZXMoKTsoYnx8ZFswXS5vcHRpb25zLmxlbmd0aCE9Yy5saXN0LmZpbmQoImxpIikubGVuZ3RoKSYmYy5fYnVpbGRMaXN0KCk7CmMuc2V0QnV0dG9uVGV4dCgpO2Muc2V0QnV0dG9uQ291bnQoKTtjLmxpc3QuZmluZCgibGk6bm90KC51aS1saS1kaXZpZGVyKSIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMSkuZWFjaChmdW5jdGlvbihiKXthLmluQXJyYXkoYixlKT4tMSYmKGI9YSh0aGlzKSxiLmF0dHIoImFyaWEtc2VsZWN0ZWQiLCEwKSxjLmlzTXVsdGlwbGU/Yi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIik6Yi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykpfSl9LGNsb3NlOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCYmdGhpcy5pc09wZW4pe3ZhciBiPXRoaXM7Yi5tZW51VHlwZT09InBhZ2UiPyhiLnRoaXNQYWdlLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlfHxiLnRoaXNQYWdlLmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIsCmZ1bmN0aW9uKCl7YShiKS5yZW1vdmUoKX0pLHdpbmRvdy5oaXN0b3J5LmJhY2soKSk6KGIuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksYi5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksYi5saXN0LmFwcGVuZFRvKGIubGlzdGJveCksYi5fZm9jdXNCdXR0b24oKSk7Yi5pc09wZW49ITF9fSxvcGVuOmZ1bmN0aW9uKCl7aWYoIXRoaXMub3B0aW9ucy5kaXNhYmxlZCl7dmFyIGI9dGhpcyxjPWIubGlzdC5wYXJlbnQoKS5vdXRlckhlaWdodCgpLGQ9Yi5saXN0LnBhcmVudCgpLm91dGVyV2lkdGgoKSxlPWEod2luZG93KS5zY3JvbGxUb3AoKSxmPWIuYnV0dG9uLm9mZnNldCgpLnRvcCxnPXdpbmRvdy5pbm5lckhlaWdodCxoPXdpbmRvdy5pbm5lcldpZHRoO2IuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Yi5idXR0b24ucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSwKMzAwKTtpZihjPmctODB8fCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXtiLnRoaXNQYWdlLnVuYmluZCgicGFnZWhpZGUucmVtb3ZlIik7aWYoZT09MCYmZj5nKWIudGhpc1BhZ2Uub25lKCJwYWdlaGlkZSIsZnVuY3Rpb24oKXthKHRoaXMpLmpxbURhdGEoImxhc3RTY3JvbGwiLGYpfSk7Yi5tZW51UGFnZS5vbmUoInBhZ2VzaG93IixmdW5jdGlvbigpe2Eod2luZG93KS5vbmUoInNpbGVudHNjcm9sbCIsZnVuY3Rpb24oKXtiLmxpc3QuZmluZChhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZm9jdXMoKX0pO2IuaXNPcGVuPSEwfSk7Yi5tZW51VHlwZT0icGFnZSI7Yi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKGIubGlzdCk7YS5tb2JpbGUuY2hhbmdlUGFnZShiLm1lbnVQYWdlLHt0cmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSl9ZWxzZXtiLm1lbnVUeXBlPSJvdmVybGF5IjtiLnNjcmVlbi5oZWlnaHQoYShkb2N1bWVudCkuaGVpZ2h0KCkpLnJlbW92ZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIik7CnZhciBpPWYtZSxrPWUrZy1mLGo9Yy8yLHA9cGFyc2VGbG9hdChiLmxpc3QucGFyZW50KCkuY3NzKCJtYXgtd2lkdGgiKSksYz1pPmMvMiYmaz5jLzI/ZitiLmJ1dHRvbi5vdXRlckhlaWdodCgpLzItajppPms/ZStnLWMtMzA6ZSszMDtkPHA/cD0oaC1kKS8yOihwPWIuYnV0dG9uLm9mZnNldCgpLmxlZnQrYi5idXR0b24ub3V0ZXJXaWR0aCgpLzItZC8yLHA8MzA/cD0zMDpwK2Q+aCYmKHA9aC1kLTMwKSk7Yi5saXN0Ym94LmFwcGVuZChiLmxpc3QpLnJlbW92ZUNsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLmNzcyh7dG9wOmMsbGVmdDpwfSkuYWRkQ2xhc3MoImluIik7Yi5saXN0LmZpbmQoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLmZvY3VzKCk7Yi5pc09wZW49ITB9fX0sX2J1aWxkTGlzdDpmdW5jdGlvbigpe3ZhciBiPXRoaXMsYz10aGlzLm9wdGlvbnMsZD10aGlzLnBsYWNlaG9sZGVyLGU9W10sZj1bXSxnPWIuaXNNdWx0aXBsZT8iY2hlY2tib3gtb2ZmIjoiZmFsc2UiOwpiLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7Yi5zZWxlY3QuZmluZCgib3B0aW9uIikuZWFjaChmdW5jdGlvbihoKXt2YXIgaT1hKHRoaXMpLGs9aS5wYXJlbnQoKSxwPWkudGV4dCgpLGo9IjxhIGhyZWY9JyMnPiIrcCsiPC9hPiIsbT1bXSxvPVtdO2suaXMoIm9wdGdyb3VwIikmJihrPWsuYXR0cigibGFiZWwiKSxhLmluQXJyYXkoayxlKT09PS0xJiYoZi5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdsaXN0LWRpdmlkZXInPiIraysiPC9saT4iKSxlLnB1c2goaykpKTtpZighdGhpcy5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fHAubGVuZ3RoPT0wfHxpLmpxbURhdGEoInBsYWNlaG9sZGVyIikpYy5oaWRlUGxhY2Vob2xkZXJNZW51SXRlbXMmJm0ucHVzaCgidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIpLGQ9Yi5wbGFjZWhvbGRlcj1wO3RoaXMuZGlzYWJsZWQmJihtLnB1c2goInVpLWRpc2FibGVkIiksby5wdXNoKCJhcmlhLWRpc2FibGVkPSd0cnVlJyIpKTsKZi5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKyJvcHRpb24taW5kZXg9JyIraCsiJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249JyIrZysiJyBjbGFzcz0nIittLmpvaW4oIiAiKSsiJyAiK28uam9pbigiICIpKyI+IitqKyI8L2xpPiIpfSk7Yi5saXN0Lmh0bWwoZi5qb2luKCIgIikpO2IubGlzdC5maW5kKCJsaSIpLmF0dHIoe3JvbGU6Im9wdGlvbiIsdGFiaW5kZXg6Ii0xIn0pLmZpcnN0KCkuYXR0cigidGFiaW5kZXgiLCIwIik7dGhpcy5pc011bHRpcGxlfHx0aGlzLmhlYWRlckNsb3NlLmhpZGUoKTshdGhpcy5pc011bHRpcGxlJiYhZC5sZW5ndGg/dGhpcy5oZWFkZXIuaGlkZSgpOnRoaXMuaGVhZGVyVGl0bGUudGV4dCh0aGlzLnBsYWNlaG9sZGVyKTtiLmxpc3QubGlzdHZpZXcoKX0sX2J1dHRvbjpmdW5jdGlvbigpe3JldHVybiBhKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOnRoaXMuYnV0dG9uSWQsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjp0aGlzLm1lbnVJZH0pfX0pfTsKYSgic2VsZWN0IikubGl2ZSgic2VsZWN0bWVudWJlZm9yZWNyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmRhdGEoInNlbGVjdG1lbnUiKTtiLm9wdGlvbnMubmF0aXZlTWVudXx8ZChiKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOiExLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLG1lbnVQYWdlVGhlbWU6ImIiLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAsaW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSJ9LF9idXR0b246ZnVuY3Rpb24oKXtyZXR1cm4gYSgiPGRpdi8+Iil9LF90aGVtZTpmdW5jdGlvbigpe3ZhciBhO2E9dGhpcy5zZWxlY3QuY2xvc2VzdCgiW2NsYXNzKj0ndWktYmFyLSddLCBbY2xhc3MqPSd1aS1ib2R5LSddIik7cmV0dXJuIGEubGVuZ3RoPy91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoYS5hdHRyKCJjbGFzcyIpKVsyXToKImMifSxfc2V0RGlzYWJsZWQ6ZnVuY3Rpb24oYSl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIixhKTt0aGlzLmJ1dHRvbi5hdHRyKCJhcmlhLWRpc2FibGVkIixhKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsYSl9LF9mb2N1c0J1dHRvbjpmdW5jdGlvbigpe3ZhciBhPXRoaXM7c2V0VGltZW91dChmdW5jdGlvbigpe2EuYnV0dG9uLmZvY3VzKCl9LDQwKX0sX3ByZUV4dGVuc2lvbjpmdW5jdGlvbigpe3RoaXMuc2VsZWN0PXRoaXMuZWxlbWVudC53cmFwKCI8ZGl2IGNsYXNzPSd1aS1zZWxlY3QnPiIpO3RoaXMuc2VsZWN0SUQ9dGhpcy5zZWxlY3QuYXR0cigiaWQiKTt0aGlzLmxhYmVsPWEoImxhYmVsW2Zvcj0nIit0aGlzLnNlbGVjdElEKyInXSIpLmFkZENsYXNzKCJ1aS1zZWxlY3QiKTt0aGlzLmlzTXVsdGlwbGU9dGhpcy5zZWxlY3RbMF0ubXVsdGlwbGU7dGhpcy5vcHRpb25zLnRoZW1lPXRoaXMuX3RoZW1lKCk7dGhpcy5zZWxlY3RPcHRpb25zPXRoaXMuc2VsZWN0LmZpbmQoIm9wdGlvbiIpfSwKX2NyZWF0ZTpmdW5jdGlvbigpe3RoaXMuX3ByZUV4dGVuc2lvbigpO3RoaXMuX3RyaWdnZXIoImJlZm9yZUNyZWF0ZSIpO3RoaXMuYnV0dG9uPXRoaXMuX2J1dHRvbigpO3ZhciBkPXRoaXMsYj10aGlzLm9wdGlvbnMsYz10aGlzLmJ1dHRvbi50ZXh0KGEodGhpcy5zZWxlY3RbMF0ub3B0aW9ucy5pdGVtKHRoaXMuc2VsZWN0WzBdLnNlbGVjdGVkSW5kZXg9PS0xPzA6dGhpcy5zZWxlY3RbMF0uc2VsZWN0ZWRJbmRleCkpLnRleHQoKSkuaW5zZXJ0QmVmb3JlKHRoaXMuc2VsZWN0KS5idXR0b25NYXJrdXAoe3RoZW1lOmIudGhlbWUsaWNvbjpiLmljb24saWNvbnBvczpiLmljb25wb3MsaW5saW5lOmIuaW5saW5lLGNvcm5lcnM6Yi5jb3JuZXJzLHNoYWRvdzpiLnNoYWRvdyxpY29uc2hhZG93OmIuaWNvbnNoYWRvd30pO2IubmF0aXZlTWVudSYmd2luZG93Lm9wZXJhJiZ3aW5kb3cub3BlcmEudmVyc2lvbiYmdGhpcy5zZWxlY3QuYWRkQ2xhc3MoInVpLXNlbGVjdC1uYXRpdmVvbmx5Iik7CmlmKHRoaXMuaXNNdWx0aXBsZSl0aGlzLmJ1dHRvbkNvdW50PWEoIjxzcGFuPiIpLmFkZENsYXNzKCJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIpLmhpZGUoKS5hcHBlbmRUbyhjKTtiLmRpc2FibGVkJiZ0aGlzLmRpc2FibGUoKTt0aGlzLnNlbGVjdC5jaGFuZ2UoZnVuY3Rpb24oKXtkLnJlZnJlc2goKX0pO3RoaXMuYnVpbGQoKX0sYnVpbGQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzO3RoaXMuc2VsZWN0LmFwcGVuZFRvKGQuYnV0dG9uKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2QuYnV0dG9uLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImZvY3VzIHZtb3VzZW92ZXIiLGZ1bmN0aW9uKCl7ZC5idXR0b24udHJpZ2dlcigidm1vdXNlb3ZlciIpfSkuYmluZCgidm1vdXNlbW92ZSIsZnVuY3Rpb24oKXtkLmJ1dHRvbi5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLApmdW5jdGlvbigpe2QuYnV0dG9uLnRyaWdnZXIoInZtb3VzZW91dCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0pLmJpbmQoImNoYW5nZSBibHVyIixmdW5jdGlvbigpe2QuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2Qub3B0aW9ucy50aGVtZSl9KX0sc2VsZWN0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWxlY3RPcHRpb25zLmZpbHRlcigiOnNlbGVjdGVkIil9LHNlbGVjdGVkSW5kaWNlczpmdW5jdGlvbigpe3ZhciBhPXRoaXM7cmV0dXJuIHRoaXMuc2VsZWN0ZWQoKS5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYS5zZWxlY3RPcHRpb25zLmluZGV4KHRoaXMpfSkuZ2V0KCl9LHNldEJ1dHRvblRleHQ6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGI9dGhpcy5zZWxlY3RlZCgpO3RoaXMuYnV0dG9uLmZpbmQoIi51aS1idG4tdGV4dCIpLnRleHQoZnVuY3Rpb24oKXtpZighZC5pc011bHRpcGxlKXJldHVybiBiLnRleHQoKTtyZXR1cm4gYi5sZW5ndGg/CmIubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykudGV4dCgpfSkuZ2V0KCkuam9pbigiLCAiKTpkLnBsYWNlaG9sZGVyfSl9LHNldEJ1dHRvbkNvdW50OmZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5zZWxlY3RlZCgpO3RoaXMuaXNNdWx0aXBsZSYmdGhpcy5idXR0b25Db3VudFthLmxlbmd0aD4xPyJzaG93IjoiaGlkZSJdKCkudGV4dChhLmxlbmd0aCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt0aGlzLnNldEJ1dHRvblRleHQoKTt0aGlzLnNldEJ1dHRvbkNvdW50KCl9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLl9zZXREaXNhYmxlZCghMCk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuX3NldERpc2FibGVkKCExKTt0aGlzLmJ1dHRvbi5yZW1vdmVDbGFzcygidWktZGlzYWJsZWQiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShhLm1vYmlsZS5zZWxlY3RtZW51LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwKZC50YXJnZXQpLm5vdCgiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5zZWxlY3RtZW51KCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXtmdW5jdGlvbiBkKGIpe2Zvcig7Yjspe3ZhciBkPWEoYik7aWYoZC5oYXNDbGFzcygidWktYnRuIikmJiFkLmhhc0NsYXNzKCJ1aS1kaXNhYmxlZCIpKWJyZWFrO2I9Yi5wYXJlbnROb2RlfXJldHVybiBifWEuZm4uYnV0dG9uTWFya3VwPWZ1bmN0aW9uKGMpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YS5leHRlbmQoe30sYS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHMsZC5qcW1EYXRhKCksYyksZz0idWktYnRuLWlubmVyIixoLGo7YiYmYigpO2lmKCFlLnRoZW1lKWg9ZC5jbG9zZXN0KCJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIpLGUudGhlbWU9aC5sZW5ndGg/L3VpLShiYXJ8Ym9keSktKFthLXpdKS8uZXhlYyhoLmF0dHIoImNsYXNzIikpWzJdOiJjIjtoPSJ1aS1idG4gdWktYnRuLXVwLSIrZS50aGVtZTtlLmlubGluZSYmKGgrPSIgdWktYnRuLWlubGluZSIpO2lmKGUuaWNvbillLmljb249InVpLWljb24tIisKZS5pY29uLGUuaWNvbnBvcz1lLmljb25wb3N8fCJsZWZ0IixqPSJ1aS1pY29uICIrZS5pY29uLGUuaWNvbnNoYWRvdyYmKGorPSIgdWktaWNvbi1zaGFkb3ciKTtlLmljb25wb3MmJihoKz0iIHVpLWJ0bi1pY29uLSIrZS5pY29ucG9zLGUuaWNvbnBvcz09Im5vdGV4dCImJiFkLmF0dHIoInRpdGxlIikmJmQuYXR0cigidGl0bGUiLGQudGV4dCgpKSk7ZS5jb3JuZXJzJiYoaCs9IiB1aS1idG4tY29ybmVyLWFsbCIsZys9IiB1aS1idG4tY29ybmVyLWFsbCIpO2Uuc2hhZG93JiYoaCs9IiB1aS1zaGFkb3ciKTtkLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiLGUudGhlbWUpLmFkZENsYXNzKGgpO2U9KCI8RCBjbGFzcz0nIitnKyInPjxEIGNsYXNzPSd1aS1idG4tdGV4dCc+PC9EPiIrKGUuaWNvbj8iPHNwYW4gY2xhc3M9JyIraisiJz48L3NwYW4+IjoiIikrIjwvRD4iKS5yZXBsYWNlKC9EL2csZS53cmFwcGVyRWxzKTtkLndyYXBJbm5lcihlKX0pfTthLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cz0Ke2Nvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsd3JhcHBlckVsczoic3BhbiJ9O3ZhciBiPWZ1bmN0aW9uKCl7YShkb2N1bWVudCkuYmluZCh7dm1vdXNlZG93bjpmdW5jdGlvbihiKXt2YXIgYj1kKGIudGFyZ2V0KSxmO2ImJihiPWEoYiksZj1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxiLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitmKS5hZGRDbGFzcygidWktYnRuLWRvd24tIitmKSl9LCJ2bW91c2VjYW5jZWwgdm1vdXNldXAiOmZ1bmN0aW9uKGIpe3ZhciBiPWQoYi50YXJnZXQpLGY7YiYmKGI9YShiKSxmPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGIucmVtb3ZlQ2xhc3MoInVpLWJ0bi1kb3duLSIrZikuYWRkQ2xhc3MoInVpLWJ0bi11cC0iK2YpKX0sInZtb3VzZW92ZXIgZm9jdXMiOmZ1bmN0aW9uKGIpe3ZhciBiPWQoYi50YXJnZXQpLGY7YiYmKGI9YShiKSxmPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLApiLnJlbW92ZUNsYXNzKCJ1aS1idG4tdXAtIitmKS5hZGRDbGFzcygidWktYnRuLWhvdmVyLSIrZikpfSwidm1vdXNlb3V0IGJsdXIiOmZ1bmN0aW9uKGIpe3ZhciBiPWQoYi50YXJnZXQpLGY7YiYmKGI9YShiKSxmPWIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ0aGVtZSIpLGIucmVtb3ZlQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2YpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitmKSl9fSk7Yj1udWxsfTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYil7YSgiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLGIudGFyZ2V0KS5ub3QoIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uTWFya3VwKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLmZuLmNvbnRyb2xncm91cD1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYihhKXthLnJlbW92ZUNsYXNzKCJ1aS1idG4tY29ybmVyLWFsbCB1aS1zaGFkb3ciKS5lcSgwKS5hZGRDbGFzcyhnWzBdKS5lbmQoKS5maWx0ZXIoIjpsYXN0IikuYWRkQ2xhc3MoZ1sxXSkuYWRkQ2xhc3MoInVpLWNvbnRyb2xncm91cC1sYXN0Iil9dmFyIGM9YSh0aGlzKSxmPWEuZXh0ZW5kKHtkaXJlY3Rpb246Yy5qcW1EYXRhKCJ0eXBlIil8fCJ2ZXJ0aWNhbCIsc2hhZG93OiExLGV4Y2x1ZGVJbnZpc2libGU6ITB9LGQpLGU9Yy5maW5kKCI+bGVnZW5kIiksZz1mLmRpcmVjdGlvbj09Imhvcml6b250YWwiP1sidWktY29ybmVyLWxlZnQiLCJ1aS1jb3JuZXItcmlnaHQiXTpbInVpLWNvcm5lci10b3AiLCJ1aS1jb3JuZXItYm90dG9tIl07Yy5maW5kKCJpbnB1dDplcSgwKSIpLmF0dHIoInR5cGUiKTtlLmxlbmd0aCYmKGMud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIpLAphKCI8ZGl2IHJvbGU9J2hlYWRpbmcnIGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtbGFiZWwnPiIrZS5odG1sKCkrIjwvZGl2PiIpLmluc2VydEJlZm9yZShjLmNoaWxkcmVuKDApKSxlLnJlbW92ZSgpKTtjLmFkZENsYXNzKCJ1aS1jb3JuZXItYWxsIHVpLWNvbnRyb2xncm91cCB1aS1jb250cm9sZ3JvdXAtIitmLmRpcmVjdGlvbik7YihjLmZpbmQoIi51aS1idG4iKyhmLmV4Y2x1ZGVJbnZpc2libGU/Ijp2aXNpYmxlIjoiIikpKTtiKGMuZmluZCgiLnVpLWJ0bi1pbm5lciIpKTtmLnNoYWRvdyYmYy5hZGRDbGFzcygidWktc2hhZG93Iil9KX07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGQpe2EoIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIixkLnRhcmdldCkuY29udHJvbGdyb3VwKHtleGNsdWRlSW52aXNpYmxlOiExfSl9KX0pKGpRdWVyeSk7KGZ1bmN0aW9uKGEpe2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKGQudGFyZ2V0KS5maW5kKCJhIikubm90KCIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmFkZENsYXNzKCJ1aS1saW5rIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2EuZm4uZml4SGVhZGVyRm9vdGVyPWZ1bmN0aW9uKCl7aWYoIWEuc3VwcG9ydC5zY3JvbGxUb3ApcmV0dXJuIHRoaXM7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJmdWxsc2NyZWVuIikmJmIuYWRkQ2xhc3MoInVpLXBhZ2UtZnVsbHNjcmVlbiIpO2IuZmluZCgiLnVpLWhlYWRlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWhlYWRlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpO2IuZmluZCgiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIikuYWRkQ2xhc3MoInVpLWZvb3Rlci1maXhlZCB1aS1maXhlZC1pbmxpbmUgZmFkZSIpfSl9O2EubW9iaWxlLmZpeGVkVG9vbGJhcnM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBiKCl7IWomJmg9PT0ib3ZlcmxheSImJihnfHxhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoITApLGEubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKSl9CmZ1bmN0aW9uIGMoYSl7dmFyIGI9MCxjLGQ7aWYoYSl7ZD1kb2N1bWVudC5ib2R5O2M9YS5vZmZzZXRQYXJlbnQ7Zm9yKGI9YS5vZmZzZXRUb3A7YSYmYSE9ZDspe2IrPWEuc2Nyb2xsVG9wfHwwO2lmKGE9PWMpYis9Yy5vZmZzZXRUb3AsYz1hLm9mZnNldFBhcmVudDthPWEucGFyZW50Tm9kZX19cmV0dXJuIGJ9ZnVuY3Rpb24gZihiKXt2YXIgZD1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZT1jKGJbMF0pLGY9Yi5jc3MoInRvcCIpPT0iYXV0byI/MDpwYXJzZUZsb2F0KGIuY3NzKCJ0b3AiKSksZz13aW5kb3cuaW5uZXJIZWlnaHQsaD1iLm91dGVySGVpZ2h0KCksaj1iLnBhcmVudHMoIi51aS1wYWdlOm5vdCgudWktcGFnZS1mdWxsc2NyZWVuKSIpLmxlbmd0aDtyZXR1cm4gYi5pcygiLnVpLWhlYWRlci1maXhlZCIpPyhmPWQtZStmLGY8ZSYmKGY9MCksYi5jc3MoInRvcCIsaj9mOmQpKTpiLmNzcygidG9wIixqP2QrZy1oLShlLWYpOmQrZy1oKX1pZihhLnN1cHBvcnQuc2Nyb2xsVG9wJiYKIWEuc3VwcG9ydC50b3VjaE92ZXJmbG93KXt2YXIgZSxnLGg9ImlubGluZSIsaj0hMSxsPW51bGwsbj0hMSxzPSEwO2EoZnVuY3Rpb24oKXt2YXIgYz1hKGRvY3VtZW50KSxkPWEod2luZG93KTtjLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKCl7cyYmKGw9aCl9KS5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGIpe3MmJiFhKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RoJiYhbiYmKGEubW9iaWxlLmZpeGVkVG9vbGJhcnMudG9nZ2xlKGwpLGw9bnVsbCl9KS5iaW5kKCJzaWxlbnRzY3JvbGwiLGIpOyhjLnNjcm9sbFRvcCgpPT09MD9kOmMpLmJpbmQoInNjcm9sbHN0YXJ0IixmdW5jdGlvbigpe249ITA7bD09PW51bGwmJihsPWgpO3ZhciBiPWw9PSJvdmVybGF5IjtpZihqPWJ8fCEhZylhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCksCmImJmEubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSghMCl9KS5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCJhLGlucHV0LHRleHRhcmVhLHNlbGVjdCxidXR0b24sbGFiZWwsLnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVkIikubGVuZ3RofHwobj0hMSxqJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zdGFydFNob3dUaW1lcigpLGo9ITEpLGw9bnVsbCl9KTtkLmJpbmQoInJlc2l6ZSIsYil9KTthKCIudWktcGFnZSIpLmxpdmUoInBhZ2ViZWZvcmVzaG93IixmdW5jdGlvbihiLGMpe3ZhciBkPWEoYi50YXJnZXQpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksZz1kLmRhdGEoImlkIiksaD1jLnByZXZQYWdlLGg9aCYmaC5maW5kKCI6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLGg9aC5sZW5ndGgmJmguanFtRGF0YSgiaWQiKT09PWc7ZyYmaCYmKGU9ZCxmKGUucmVtb3ZlQ2xhc3MoImZhZGUgaW4gb3V0IikuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikpKX0pLmxpdmUoInBhZ2VzaG93IiwKZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2UmJmUubGVuZ3RoJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZihlLmFwcGVuZFRvKGIpLmFkZENsYXNzKCJmYWRlIikpO2U9bnVsbH0sNTAwKTthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coITAsdGhpcyl9KTthKCIudWktY29sbGFwc2libGUtY29udGFpbiIpLmxpdmUoImNvbGxhcHNlIGV4cGFuZCIsYik7cmV0dXJue3Nob3c6ZnVuY3Rpb24oYixkKXthLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7aD0ib3ZlcmxheSI7cmV0dXJuKGQ/YShkKTphLm1vYmlsZS5hY3RpdmVQYWdlP2EubW9iaWxlLmFjdGl2ZVBhZ2U6YSgiLnVpLXBhZ2UtYWN0aXZlIikpLmNoaWxkcmVuKCIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIpLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGU9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGc9YyhkWzBdKSwKaD13aW5kb3cuaW5uZXJIZWlnaHQsaj1kLm91dGVySGVpZ2h0KCksZT1kLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmU8PWcranx8ZC5pcygiLnVpLWZvb3Rlci1maXhlZCIpJiZnPD1lK2g7ZC5hZGRDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpLnJlbW92ZUNsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKTshZSYmIWImJmQuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtkLnJlbW92ZUNsYXNzKCJpbiIpfSkuYWRkQ2xhc3MoImluIik7ZihkKX0pfSxoaWRlOmZ1bmN0aW9uKGIpe2g9ImlubGluZSI7cmV0dXJuKGEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEodGhpcyksZD1jLmNzcygidG9wIiksZD1kPT0iYXV0byI/MDpwYXJzZUZsb2F0KGQpOwpjLmFkZENsYXNzKCJ1aS1maXhlZC1pbmxpbmUiKS5yZW1vdmVDbGFzcygidWktZml4ZWQtb3ZlcmxheSIpO2lmKGQ8MHx8Yy5pcygiLnVpLWhlYWRlci1maXhlZCIpJiZkIT09MCliP2MuY3NzKCJ0b3AiLDApOmMuY3NzKCJ0b3AiKSE9PSJhdXRvIiYmcGFyc2VGbG9hdChjLmNzcygidG9wIikpIT09MCYmYy5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2MucmVtb3ZlQ2xhc3MoIm91dCByZXZlcnNlIikuY3NzKCJ0b3AiLDApfSkuYWRkQ2xhc3MoIm91dCByZXZlcnNlIil9KX0sc3RhcnRTaG93VGltZXI6ZnVuY3Rpb24oKXthLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7dmFyIGI9W10uc2xpY2UuY2FsbChhcmd1bWVudHMpO2c9c2V0VGltZW91dChmdW5jdGlvbigpe2c9ZDthLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3cuYXBwbHkobnVsbCxiKX0sMTAwKX0sY2xlYXJTaG93VGltZXI6ZnVuY3Rpb24oKXtnJiZjbGVhclRpbWVvdXQoZyk7Zz1kfSx0b2dnbGU6ZnVuY3Rpb24oYil7YiYmCihoPWIpO3JldHVybiBoPT09Im92ZXJsYXkiP2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSgpOmEubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdygpfSxzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6ZnVuY3Rpb24oYSl7cz1hfX19fSgpO2EuZml4ZWRUb29sYmFycz1hLm1vYmlsZS5maXhlZFRvb2xiYXJzO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihiKXthKCI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIsYi50YXJnZXQpLmxlbmd0aCYmYShiLnRhcmdldCkuZWFjaChmdW5jdGlvbigpe2lmKCFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhLnN1cHBvcnQudG91Y2hPdmVyZmxvdylyZXR1cm4gdGhpczt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZiLmFkZENsYXNzKCJ1aS1wYWdlLWZ1bGxzY3JlZW4iKTtiLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKTsKYi5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2EubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkPSExO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKGQpe2Euc3VwcG9ydC50b3VjaE92ZXJmbG93JiZhLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCYmKGQ9YShkLnRhcmdldCksZC5pcygiOmpxbURhdGEocm9sZT0ncGFnZScpIikmJmQuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksYz1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSIpLmZpbHRlcigiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKSxkPWIuanFtRGF0YSgiZnVsbHNjcmVlbiIpLGU9Yy5sZW5ndGg/Yi5maW5kKCIudWktY29udGVudCIpOmI7Yi5hZGRDbGFzcygidWktbW9iaWxlLXRvdWNoLW92ZXJmbG93Iik7ZS5iaW5kKCJzY3JvbGxzdG9wIixmdW5jdGlvbigpe2Uuc2Nyb2xsVG9wKCk+MCYmd2luZG93LnNjcm9sbFRvKDAsYS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwpfSk7CmMubGVuZ3RoJiYoYi5hZGRDbGFzcygidWktbmF0aXZlLWZpeGVkIiksZCYmKGIuYWRkQ2xhc3MoInVpLW5hdGl2ZS1mdWxsc2NyZWVuIiksYy5hZGRDbGFzcygiZmFkZSBpbiIpLGEoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtjLnJlbW92ZUNsYXNzKCJ1aS1uYXRpdmUtYmFycy1oaWRkZW4iKS50b2dnbGVDbGFzcygiaW4gb3V0IikuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXthKHRoaXMpLm5vdCgiLmluIikuYWRkQ2xhc3MoInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIpfSl9KSkpfSkpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZCgpe3ZhciBkPWIud2lkdGgoKSxnPVtdLGg9W10sajtjLnJlbW92ZUNsYXNzKCJtaW4td2lkdGgtIitmLmpvaW4oInB4IG1pbi13aWR0aC0iKSsicHggbWF4LXdpZHRoLSIrZi5qb2luKCJweCBtYXgtd2lkdGgtIikrInB4Iik7YS5lYWNoKGYsZnVuY3Rpb24oYSxiKXtkPj1iJiZnLnB1c2goIm1pbi13aWR0aC0iK2IrInB4Iik7ZDw9YiYmaC5wdXNoKCJtYXgtd2lkdGgtIitiKyJweCIpfSk7Zy5sZW5ndGgmJihqPWcuam9pbigiICIpKTtoLmxlbmd0aCYmKGorPSIgIitoLmpvaW4oIiAiKSk7Yy5hZGRDbGFzcyhqKX12YXIgYj1hKHdpbmRvdyksYz1hKCJodG1sIiksZj1bMzIwLDQ4MCw3NjgsMTAyNF07YS5tb2JpbGUuYWRkUmVzb2x1dGlvbkJyZWFrcG9pbnRzPWZ1bmN0aW9uKGIpe2EudHlwZShiKT09PSJhcnJheSI/Zj1mLmNvbmNhdChiKTpmLnB1c2goYik7Zi5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEtYn0pO2QoKX07YShkb2N1bWVudCkuYmluZCgibW9iaWxlaW5pdC5odG1sY2xhc3MiLApmdW5jdGlvbigpe2IuYmluZCgib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIHRocm90dGxlZHJlc2l6ZS5odG1sY2xhc3MiLGZ1bmN0aW9uKGEpe2Eub3JpZW50YXRpb24mJmMucmVtb3ZlQ2xhc3MoInBvcnRyYWl0IGxhbmRzY2FwZSIpLmFkZENsYXNzKGEub3JpZW50YXRpb24pO2QoKX0pfSk7YShmdW5jdGlvbigpe2IudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIil9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe3ZhciBiPWEoImh0bWwiKTthKCJoZWFkIik7dmFyIGM9YShkKTthKGQuZG9jdW1lbnQpLnRyaWdnZXIoIm1vYmlsZWluaXQiKTtpZihhLm1vYmlsZS5ncmFkZUEoKSl7aWYoYS5tb2JpbGUuYWpheEJsYWNrbGlzdClhLm1vYmlsZS5hamF4RW5hYmxlZD0hMTtiLmFkZENsYXNzKCJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIpO3ZhciBmPWEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1ib2R5LWEgdWktY29ybmVyLWFsbCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nIHNwaW4nPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iKTthLmV4dGVuZChhLm1vYmlsZSx7c2hvd1BhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7aWYoYS5tb2JpbGUubG9hZGluZ01lc3NhZ2Upe3ZhciBkPWEoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5maXJzdCgpO2YuZmluZCgiaDEiKS50ZXh0KGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKS5lbmQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5jc3Moe3RvcDphLnN1cHBvcnQuc2Nyb2xsVG9wJiYKYy5zY3JvbGxUb3AoKStjLmhlaWdodCgpLzJ8fGQubGVuZ3RoJiZkLm9mZnNldCgpLnRvcHx8MTAwfSl9Yi5hZGRDbGFzcygidWktbG9hZGluZyIpfSxoaWRlUGFnZUxvYWRpbmdNc2c6ZnVuY3Rpb24oKXtiLnJlbW92ZUNsYXNzKCJ1aS1sb2FkaW5nIil9LHBhZ2VMb2FkaW5nOmZ1bmN0aW9uKGIpe2I/YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk6YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGluaXRpYWxpemVQYWdlOmZ1bmN0aW9uKCl7dmFyIGI9YSgiOmpxbURhdGEocm9sZT0ncGFnZScpIik7Yi5sZW5ndGh8fChiPWEoImJvZHkiKS53cmFwSW5uZXIoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz48L2Rpdj4iKS5jaGlsZHJlbigwKSk7Yi5hZGQoIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5qcW1EYXRhKCJ1cmwiKXx8Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInVybCIsYi5hdHRyKCJpZCIpfHwKbG9jYXRpb24ucGF0aG5hbWUrbG9jYXRpb24uc2VhcmNoKX0pO2EubW9iaWxlLmZpcnN0UGFnZT1iLmZpcnN0KCk7YS5tb2JpbGUucGFnZUNvbnRhaW5lcj1iLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLW1vYmlsZS12aWV3cG9ydCIpO2EubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpOyFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8IWEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpP2EubW9iaWxlLmNoYW5nZVBhZ2UoYS5tb2JpbGUuZmlyc3RQYWdlLHt0cmFuc2l0aW9uOiJub25lIixyZXZlcnNlOiEwLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KTpjLnRyaWdnZXIoImhhc2hjaGFuZ2UiLFshMF0pfX0pO2EubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzKCk7YShmdW5jdGlvbigpe2Quc2Nyb2xsVG8oMCwxKTthLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbD0hYS5zdXBwb3J0LnNjcm9sbFRvcHx8YShkKS5zY3JvbGxUb3AoKT09PQoxPzA6MTthLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UmJmEubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7Yy5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCl9KX19KShqUXVlcnksdGhpcyk7Cg==", "content_type": "application/javascript"}, "js-libraries/jquery-mobile/jquery.mobile-1.0b3.js": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIzCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCi8qIQogKiBqUXVlcnkgVUkgV2lkZ2V0IEBWRVJTSU9OCiAqCiAqIENvcHlyaWdodCAyMDEwLCBBVVRIT1JTLnR4dCAoaHR0cDovL2pxdWVyeXVpLmNvbS9hYm91dCkKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICoKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9VSS9XaWRnZXQKICovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKLy8galF1ZXJ5IDEuNCsKaWYgKCAkLmNsZWFuRGF0YSApIHsKCXZhciBfY2xlYW5EYXRhID0gJC5jbGVhbkRhdGE7CgkkLmNsZWFuRGF0YSA9IGZ1bmN0aW9uKCBlbGVtcyApIHsKCQlmb3IgKCB2YXIgaSA9IDAsIGVsZW07IChlbGVtID0gZWxlbXNbaV0pICE9IG51bGw7IGkrKyApIHsKCQkJJCggZWxlbSApLnRyaWdnZXJIYW5kbGVyKCAicmVtb3ZlIiApOwoJCX0KCQlfY2xlYW5EYXRhKCBlbGVtcyApOwoJfTsKfSBlbHNlIHsKCXZhciBfcmVtb3ZlID0gJC5mbi5yZW1vdmU7CgkkLmZuLnJlbW92ZSA9IGZ1bmN0aW9uKCBzZWxlY3Rvciwga2VlcERhdGEgKSB7CgkJcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJaWYgKCAha2VlcERhdGEgKSB7CgkJCQlpZiAoICFzZWxlY3RvciB8fCAkLmZpbHRlciggc2VsZWN0b3IsIFsgdGhpcyBdICkubGVuZ3RoICkgewoJCQkJCSQoICIqIiwgdGhpcyApLmFkZCggWyB0aGlzIF0gKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkkKCB0aGlzICkudHJpZ2dlckhhbmRsZXIoICJyZW1vdmUiICk7CgkJCQkJfSk7CgkJCQl9CgkJCX0KCQkJcmV0dXJuIF9yZW1vdmUuY2FsbCggJCh0aGlzKSwgc2VsZWN0b3IsIGtlZXBEYXRhICk7CgkJfSk7Cgl9Owp9CgokLndpZGdldCA9IGZ1bmN0aW9uKCBuYW1lLCBiYXNlLCBwcm90b3R5cGUgKSB7Cgl2YXIgbmFtZXNwYWNlID0gbmFtZS5zcGxpdCggIi4iIClbIDAgXSwKCQlmdWxsTmFtZTsKCW5hbWUgPSBuYW1lLnNwbGl0KCAiLiIgKVsgMSBdOwoJZnVsbE5hbWUgPSBuYW1lc3BhY2UgKyAiLSIgKyBuYW1lOwoKCWlmICggIXByb3RvdHlwZSApIHsKCQlwcm90b3R5cGUgPSBiYXNlOwoJCWJhc2UgPSAkLldpZGdldDsKCX0KCgkvLyBjcmVhdGUgc2VsZWN0b3IgZm9yIHBsdWdpbgoJJC5leHByWyAiOiIgXVsgZnVsbE5hbWUgXSA9IGZ1bmN0aW9uKCBlbGVtICkgewoJCXJldHVybiAhISQuZGF0YSggZWxlbSwgbmFtZSApOwoJfTsKCgkkWyBuYW1lc3BhY2UgXSA9ICRbIG5hbWVzcGFjZSBdIHx8IHt9OwoJJFsgbmFtZXNwYWNlIF1bIG5hbWUgXSA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkgewoJCS8vIGFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCBpbml0aWFsaXppbmcgZm9yIHNpbXBsZSBpbmhlcml0YW5jZQoJCWlmICggYXJndW1lbnRzLmxlbmd0aCApIHsKCQkJdGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7CgkJfQoJfTsKCgl2YXIgYmFzZVByb3RvdHlwZSA9IG5ldyBiYXNlKCk7CgkvLyB3ZSBuZWVkIHRvIG1ha2UgdGhlIG9wdGlvbnMgaGFzaCBhIHByb3BlcnR5IGRpcmVjdGx5IG9uIHRoZSBuZXcgaW5zdGFuY2UKCS8vIG90aGVyd2lzZSB3ZSdsbCBtb2RpZnkgdGhlIG9wdGlvbnMgaGFzaCBvbiB0aGUgcHJvdG90eXBlIHRoYXQgd2UncmUKCS8vIGluaGVyaXRpbmcgZnJvbQovLwkkLmVhY2goIGJhc2VQcm90b3R5cGUsIGZ1bmN0aW9uKCBrZXksIHZhbCApIHsKLy8JCWlmICggJC5pc1BsYWluT2JqZWN0KHZhbCkgKSB7Ci8vCQkJYmFzZVByb3RvdHlwZVsga2V5IF0gPSAkLmV4dGVuZCgge30sIHZhbCApOwovLwkJfQovLwl9KTsKCWJhc2VQcm90b3R5cGUub3B0aW9ucyA9ICQuZXh0ZW5kKCB0cnVlLCB7fSwgYmFzZVByb3RvdHlwZS5vcHRpb25zICk7CgkkWyBuYW1lc3BhY2UgXVsgbmFtZSBdLnByb3RvdHlwZSA9ICQuZXh0ZW5kKCB0cnVlLCBiYXNlUHJvdG90eXBlLCB7CgkJbmFtZXNwYWNlOiBuYW1lc3BhY2UsCgkJd2lkZ2V0TmFtZTogbmFtZSwKCQl3aWRnZXRFdmVudFByZWZpeDogJFsgbmFtZXNwYWNlIF1bIG5hbWUgXS5wcm90b3R5cGUud2lkZ2V0RXZlbnRQcmVmaXggfHwgbmFtZSwKCQl3aWRnZXRCYXNlQ2xhc3M6IGZ1bGxOYW1lCgl9LCBwcm90b3R5cGUgKTsKCgkkLndpZGdldC5icmlkZ2UoIG5hbWUsICRbIG5hbWVzcGFjZSBdWyBuYW1lIF0gKTsKfTsKCiQud2lkZ2V0LmJyaWRnZSA9IGZ1bmN0aW9uKCBuYW1lLCBvYmplY3QgKSB7CgkkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgaXNNZXRob2RDYWxsID0gdHlwZW9mIG9wdGlvbnMgPT09ICJzdHJpbmciLAoJCQlhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoIGFyZ3VtZW50cywgMSApLAoJCQlyZXR1cm5WYWx1ZSA9IHRoaXM7CgoJCS8vIGFsbG93IG11bHRpcGxlIGhhc2hlcyB0byBiZSBwYXNzZWQgb24gaW5pdAoJCW9wdGlvbnMgPSAhaXNNZXRob2RDYWxsICYmIGFyZ3MubGVuZ3RoID8KCQkJJC5leHRlbmQuYXBwbHkoIG51bGwsIFsgdHJ1ZSwgb3B0aW9ucyBdLmNvbmNhdChhcmdzKSApIDoKCQkJb3B0aW9uczsKCgkJLy8gcHJldmVudCBjYWxscyB0byBpbnRlcm5hbCBtZXRob2RzCgkJaWYgKCBpc01ldGhvZENhbGwgJiYgb3B0aW9ucy5jaGFyQXQoIDAgKSA9PT0gIl8iICkgewoJCQlyZXR1cm4gcmV0dXJuVmFsdWU7CgkJfQoKCQlpZiAoIGlzTWV0aG9kQ2FsbCApIHsKCQkJdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJdmFyIGluc3RhbmNlID0gJC5kYXRhKCB0aGlzLCBuYW1lICk7CgkJCQlpZiAoICFpbnN0YW5jZSApIHsKCQkJCQl0aHJvdyAiY2Fubm90IGNhbGwgbWV0aG9kcyBvbiAiICsgbmFtZSArICIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247ICIgKwoJCQkJCQkiYXR0ZW1wdGVkIHRvIGNhbGwgbWV0aG9kICciICsgb3B0aW9ucyArICInIjsKCQkJCX0KCQkJCWlmICggISQuaXNGdW5jdGlvbiggaW5zdGFuY2Vbb3B0aW9uc10gKSApIHsKCQkJCQl0aHJvdyAibm8gc3VjaCBtZXRob2QgJyIgKyBvcHRpb25zICsgIicgZm9yICIgKyBuYW1lICsgIiB3aWRnZXQgaW5zdGFuY2UiOwoJCQkJfQoJCQkJdmFyIG1ldGhvZFZhbHVlID0gaW5zdGFuY2VbIG9wdGlvbnMgXS5hcHBseSggaW5zdGFuY2UsIGFyZ3MgKTsKCQkJCWlmICggbWV0aG9kVmFsdWUgIT09IGluc3RhbmNlICYmIG1ldGhvZFZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJCQkJcmV0dXJuVmFsdWUgPSBtZXRob2RWYWx1ZTsKCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoJCX0gZWxzZSB7CgkJCXRoaXMuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciBpbnN0YW5jZSA9ICQuZGF0YSggdGhpcywgbmFtZSApOwoJCQkJaWYgKCBpbnN0YW5jZSApIHsKCQkJCQlpbnN0YW5jZS5vcHRpb24oIG9wdGlvbnMgfHwge30gKS5faW5pdCgpOwoJCQkJfSBlbHNlIHsKCQkJCQkkLmRhdGEoIHRoaXMsIG5hbWUsIG5ldyBvYmplY3QoIG9wdGlvbnMsIHRoaXMgKSApOwoJCQkJfQoJCQl9KTsKCQl9CgoJCXJldHVybiByZXR1cm5WYWx1ZTsKCX07Cn07CgokLldpZGdldCA9IGZ1bmN0aW9uKCBvcHRpb25zLCBlbGVtZW50ICkgewoJLy8gYWxsb3cgaW5zdGFudGlhdGlvbiB3aXRob3V0IGluaXRpYWxpemluZyBmb3Igc2ltcGxlIGluaGVyaXRhbmNlCglpZiAoIGFyZ3VtZW50cy5sZW5ndGggKSB7CgkJdGhpcy5fY3JlYXRlV2lkZ2V0KCBvcHRpb25zLCBlbGVtZW50ICk7Cgl9Cn07CgokLldpZGdldC5wcm90b3R5cGUgPSB7Cgl3aWRnZXROYW1lOiAid2lkZ2V0IiwKCXdpZGdldEV2ZW50UHJlZml4OiAiIiwKCW9wdGlvbnM6IHsKCQlkaXNhYmxlZDogZmFsc2UKCX0sCglfY3JlYXRlV2lkZ2V0OiBmdW5jdGlvbiggb3B0aW9ucywgZWxlbWVudCApIHsKCQkvLyAkLndpZGdldC5icmlkZ2Ugc3RvcmVzIHRoZSBwbHVnaW4gaW5zdGFuY2UsIGJ1dCB3ZSBkbyBpdCBhbnl3YXkKCQkvLyBzbyB0aGF0IGl0J3Mgc3RvcmVkIGV2ZW4gYmVmb3JlIHRoZSBfY3JlYXRlIGZ1bmN0aW9uIHJ1bnMKCQkkLmRhdGEoIGVsZW1lbnQsIHRoaXMud2lkZ2V0TmFtZSwgdGhpcyApOwoJCXRoaXMuZWxlbWVudCA9ICQoIGVsZW1lbnQgKTsKCQl0aGlzLm9wdGlvbnMgPSAkLmV4dGVuZCggdHJ1ZSwge30sCgkJCXRoaXMub3B0aW9ucywKCQkJdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLAoJCQlvcHRpb25zICk7CgoJCXZhciBzZWxmID0gdGhpczsKCQl0aGlzLmVsZW1lbnQuYmluZCggInJlbW92ZS4iICsgdGhpcy53aWRnZXROYW1lLCBmdW5jdGlvbigpIHsKCQkJc2VsZi5kZXN0cm95KCk7CgkJfSk7CgoJCXRoaXMuX2NyZWF0ZSgpOwoJCXRoaXMuX3RyaWdnZXIoICJjcmVhdGUiICk7CgkJdGhpcy5faW5pdCgpOwoJfSwKCV9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHsKCQl2YXIgb3B0aW9ucyA9IHt9OwoJCWlmICggJC5tZXRhZGF0YSApIHsKCQkJb3B0aW9ucyA9ICQubWV0YWRhdGEuZ2V0KCBlbGVtZW50IClbIHRoaXMud2lkZ2V0TmFtZSBdOwoJCX0KCQlyZXR1cm4gb3B0aW9uczsKCX0sCglfY3JlYXRlOiBmdW5jdGlvbigpIHt9LAoJX2luaXQ6IGZ1bmN0aW9uKCkge30sCgoJZGVzdHJveTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50CgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVEYXRhKCB0aGlzLndpZGdldE5hbWUgKTsKCQl0aGlzLndpZGdldCgpCgkJCS51bmJpbmQoICIuIiArIHRoaXMud2lkZ2V0TmFtZSApCgkJCS5yZW1vdmVBdHRyKCAiYXJpYS1kaXNhYmxlZCIgKQoJCQkucmVtb3ZlQ2xhc3MoCgkJCQl0aGlzLndpZGdldEJhc2VDbGFzcyArICItZGlzYWJsZWQgIiArCgkJCQkidWktc3RhdGUtZGlzYWJsZWQiICk7Cgl9LAoKCXdpZGdldDogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuZWxlbWVudDsKCX0sCgoJb3B0aW9uOiBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQl2YXIgb3B0aW9ucyA9IGtleTsKCgkJaWYgKCBhcmd1bWVudHMubGVuZ3RoID09PSAwICkgewoJCQkvLyBkb24ndCByZXR1cm4gYSByZWZlcmVuY2UgdG8gdGhlIGludGVybmFsIGhhc2gKCQkJcmV0dXJuICQuZXh0ZW5kKCB7fSwgdGhpcy5vcHRpb25zICk7CgkJfQoKCQlpZiAgKHR5cGVvZiBrZXkgPT09ICJzdHJpbmciICkgewoJCQlpZiAoIHZhbHVlID09PSB1bmRlZmluZWQgKSB7CgkJCQlyZXR1cm4gdGhpcy5vcHRpb25zWyBrZXkgXTsKCQkJfQoJCQlvcHRpb25zID0ge307CgkJCW9wdGlvbnNbIGtleSBdID0gdmFsdWU7CgkJfQoKCQl0aGlzLl9zZXRPcHRpb25zKCBvcHRpb25zICk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb25zOiBmdW5jdGlvbiggb3B0aW9ucyApIHsKCQl2YXIgc2VsZiA9IHRoaXM7CgkJJC5lYWNoKCBvcHRpb25zLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHsKCQkJc2VsZi5fc2V0T3B0aW9uKCBrZXksIHZhbHVlICk7CgkJfSk7CgoJCXJldHVybiB0aGlzOwoJfSwKCV9zZXRPcHRpb246IGZ1bmN0aW9uKCBrZXksIHZhbHVlICkgewoJCXRoaXMub3B0aW9uc1sga2V5IF0gPSB2YWx1ZTsKCgkJaWYgKCBrZXkgPT09ICJkaXNhYmxlZCIgKSB7CgkJCXRoaXMud2lkZ2V0KCkKCQkJCVsgdmFsdWUgPyAiYWRkQ2xhc3MiIDogInJlbW92ZUNsYXNzIl0oCgkJCQkJdGhpcy53aWRnZXRCYXNlQ2xhc3MgKyAiLWRpc2FibGVkIiArICIgIiArCgkJCQkJInVpLXN0YXRlLWRpc2FibGVkIiApCgkJCQkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCB2YWx1ZSApOwoJCX0KCgkJcmV0dXJuIHRoaXM7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsKCX0sCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCB0cnVlICk7Cgl9LAoKCV90cmlnZ2VyOiBmdW5jdGlvbiggdHlwZSwgZXZlbnQsIGRhdGEgKSB7CgkJdmFyIGNhbGxiYWNrID0gdGhpcy5vcHRpb25zWyB0eXBlIF07CgoJCWV2ZW50ID0gJC5FdmVudCggZXZlbnQgKTsKCQlldmVudC50eXBlID0gKCB0eXBlID09PSB0aGlzLndpZGdldEV2ZW50UHJlZml4ID8KCQkJdHlwZSA6CgkJCXRoaXMud2lkZ2V0RXZlbnRQcmVmaXggKyB0eXBlICkudG9Mb3dlckNhc2UoKTsKCQlkYXRhID0gZGF0YSB8fCB7fTsKCgkJLy8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudAoJCS8vIHRoaXMgd291bGQgaGFwcGVuIGlmIHdlIGNvdWxkIGNhbGwgJC5ldmVudC5maXggaW5zdGVhZCBvZiAkLkV2ZW50CgkJLy8gYnV0IHdlIGRvbid0IGhhdmUgYSB3YXkgdG8gZm9yY2UgYW4gZXZlbnQgdG8gYmUgZml4ZWQgbXVsdGlwbGUgdGltZXMKCQlpZiAoIGV2ZW50Lm9yaWdpbmFsRXZlbnQgKSB7CgkJCWZvciAoIHZhciBpID0gJC5ldmVudC5wcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgewoJCQkJcHJvcCA9ICQuZXZlbnQucHJvcHNbIC0taSBdOwoJCQkJZXZlbnRbIHByb3AgXSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnRbIHByb3AgXTsKCQkJfQoJCX0KCgkJdGhpcy5lbGVtZW50LnRyaWdnZXIoIGV2ZW50LCBkYXRhICk7CgoJCXJldHVybiAhKCAkLmlzRnVuY3Rpb24oY2FsbGJhY2spICYmCgkJCWNhbGxiYWNrLmNhbGwoIHRoaXMuZWxlbWVudFswXSwgZXZlbnQsIGRhdGEgKSA9PT0gZmFsc2UgfHwKCQkJZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgKTsKCX0KfTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6IHdpZGdldCBmYWN0b3J5IGV4dGVudGlvbnMgZm9yIG1vYmlsZQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQud2lkZ2V0KCAibW9iaWxlLndpZGdldCIsIHsKCV9nZXRDcmVhdGVPcHRpb25zOiBmdW5jdGlvbigpIHsKCgkJdmFyIGVsZW0gPSB0aGlzLmVsZW1lbnQsCgkJCW9wdGlvbnMgPSB7fTsKCgkJJC5lYWNoKCB0aGlzLm9wdGlvbnMsIGZ1bmN0aW9uKCBvcHRpb24gKSB7CgoJCQl2YXIgdmFsdWUgPSBlbGVtLmpxbURhdGEoIG9wdGlvbi5yZXBsYWNlKCAvW0EtWl0vZywgZnVuY3Rpb24oIGMgKSB7CgkJCQkJCQlyZXR1cm4gIi0iICsgYy50b0xvd2VyQ2FzZSgpOwoJCQkJCQl9KQoJCQkJCSk7CgoJCQlpZiAoIHZhbHVlICE9PSB1bmRlZmluZWQgKSB7CgkJCQlvcHRpb25zWyBvcHRpb24gXSA9IHZhbHVlOwoJCQl9CgkJfSk7CgoJCXJldHVybiBvcHRpb25zOwoJfQp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6IHJlc29sdXRpb24gYW5kIENTUyBtZWRpYSBxdWVyeSByZWxhdGVkIGhlbHBlcnMgYW5kIGJlaGF2aW9yCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLAoJJGh0bWwgPSAkKCAiaHRtbCIgKTsKCi8qICQubW9iaWxlLm1lZGlhIG1ldGhvZDogcGFzcyBhIENTUyBtZWRpYSB0eXBlIG9yIHF1ZXJ5IGFuZCBnZXQgYSBib29sIHJldHVybgoJbm90ZTogdGhpcyBmZWF0dXJlIHJlbGllcyBvbiBhY3R1YWwgbWVkaWEgcXVlcnkgc3VwcG9ydCBmb3IgbWVkaWEgcXVlcmllcywgdGhvdWdoIHR5cGVzIHdpbGwgd29yayBtb3N0IGFueXdoZXJlCglleGFtcGxlczoKCQkkLm1vYmlsZS5tZWRpYSgnc2NyZWVuJykgLy8+PiB0ZXN0cyBmb3Igc2NyZWVuIG1lZGlhIHR5cGUKCQkkLm1vYmlsZS5tZWRpYSgnc2NyZWVuIGFuZCAobWluLXdpZHRoOiA0ODBweCknKSAvLz4+IHRlc3RzIGZvciBzY3JlZW4gbWVkaWEgdHlwZSB3aXRoIHdpbmRvdyB3aWR0aCA+IDQ4MHB4CgkJJC5tb2JpbGUubWVkaWEoJ0BtZWRpYSBzY3JlZW4gYW5kICgtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpJykgLy8+PiB0ZXN0cyBmb3Igd2Via2l0IDJ4IHBpeGVsIHJhdGlvIChpUGhvbmUgNCkKKi8KJC5tb2JpbGUubWVkaWEgPSAoZnVuY3Rpb24oKSB7CgkvLyBUT0RPOiB1c2Ugd2luZG93Lm1hdGNoTWVkaWEgb25jZSBhdCBsZWFzdCBvbmUgVUEgaW1wbGVtZW50cyBpdAoJdmFyIGNhY2hlID0ge30sCgkJdGVzdERpdiA9ICQoICI8ZGl2IGlkPSdqcXVlcnktbWVkaWF0ZXN0Jz4iICksCgkJZmFrZUJvZHkgPSAkKCAiPGJvZHk+IiApLmFwcGVuZCggdGVzdERpdiApOwoKCXJldHVybiBmdW5jdGlvbiggcXVlcnkgKSB7CgkJaWYgKCAhKCBxdWVyeSBpbiBjYWNoZSApICkgewoJCQl2YXIgc3R5bGVCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoICJzdHlsZSIgKSwKCQkJCWNzc3J1bGUgPSAiQG1lZGlhICIgKyBxdWVyeSArICIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iOwoKCQkJLy9tdXN0IHNldCB0eXBlIGZvciBJRSEKCQkJc3R5bGVCbG9jay50eXBlID0gInRleHQvY3NzIjsKCgkJCWlmICggc3R5bGVCbG9jay5zdHlsZVNoZWV0ICApewoJCQkJc3R5bGVCbG9jay5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3NydWxlOwoJCQl9IGVsc2UgewoJCQkJc3R5bGVCbG9jay5hcHBlbmRDaGlsZCggZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzcnVsZSkgKTsKCQkJfQoKCQkJJGh0bWwucHJlcGVuZCggZmFrZUJvZHkgKS5wcmVwZW5kKCBzdHlsZUJsb2NrICk7CgkJCWNhY2hlWyBxdWVyeSBdID0gdGVzdERpdi5jc3MoICJwb3NpdGlvbiIgKSA9PT0gImFic29sdXRlIjsKCQkJZmFrZUJvZHkuYWRkKCBzdHlsZUJsb2NrICkucmVtb3ZlKCk7CgkJfQoJCXJldHVybiBjYWNoZVsgcXVlcnkgXTsKCX07Cn0pKCk7Cgp9KShqUXVlcnkpOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBzdXBwb3J0IHRlc3RzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgZmFrZUJvZHkgPSAkKCAiPGJvZHk+IiApLnByZXBlbmRUbyggImh0bWwiICksCglmYkNTUyA9IGZha2VCb2R5WyAwIF0uc3R5bGUsCgl2ZW5kb3JzID0gWyAiV2Via2l0IiwgIk1veiIsICJPIiBdLAoJd2Vib3MgPSAicGFsbUdldFJlc291cmNlIiBpbiB3aW5kb3csIC8vb25seSB1c2VkIHRvIHJ1bGUgb3V0IHNjcm9sbFRvcAoJYmIgPSB3aW5kb3cuYmxhY2tiZXJyeTsgLy9vbmx5IHVzZWQgdG8gcnVsZSBvdXQgYm94IHNoYWRvdywgYXMgaXQncyBmaWxsZWQgb3BhcXVlIG9uIEJCCgovLyB0aHggTW9kZXJuaXpyCmZ1bmN0aW9uIHByb3BFeGlzdHMoIHByb3AgKSB7Cgl2YXIgdWNfcHJvcCA9IHByb3AuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIHByb3Auc3Vic3RyKCAxICksCgkJcHJvcHMgPSAoIHByb3AgKyAiICIgKyB2ZW5kb3JzLmpvaW4oIHVjX3Byb3AgKyAiICIgKSArIHVjX3Byb3AgKS5zcGxpdCggIiAiICk7CgoJZm9yICggdmFyIHYgaW4gcHJvcHMgKXsKCQlpZiAoIGZiQ1NTWyBwcm9wc1sgdiBdIF0gIT09IHVuZGVmaW5lZCApIHsKCQkJcmV0dXJuIHRydWU7CgkJfQoJfQp9CgovLyBUZXN0IGZvciBkeW5hbWljLXVwZGF0aW5nIGJhc2UgdGFnIHN1cHBvcnQgKCBhbGxvd3MgdXMgdG8gYXZvaWQgaHJlZixzcmMgYXR0ciByZXdyaXRpbmcgKQpmdW5jdGlvbiBiYXNlVGFnVGVzdCgpIHsKCXZhciBmYXV4QmFzZSA9IGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSArICJ1aS1kaXIvIiwKCQliYXNlID0gJCggImhlYWQgYmFzZSIgKSwKCQlmYXV4RWxlID0gbnVsbCwKCQlocmVmID0gIiIsCgkJbGluaywgcmViYXNlOwoKCWlmICggIWJhc2UubGVuZ3RoICkgewoJCWJhc2UgPSBmYXV4RWxlID0gJCggIjxiYXNlPiIsIHsgImhyZWYiOiBmYXV4QmFzZSB9KS5hcHBlbmRUbyggImhlYWQiICk7Cgl9IGVsc2UgewoJCWhyZWYgPSBiYXNlLmF0dHIoICJocmVmIiApOwoJfQoKCWxpbmsgPSAkKCAiPGEgaHJlZj0ndGVzdHVybCc+PC9hPiIgKS5wcmVwZW5kVG8oIGZha2VCb2R5ICk7CglyZWJhc2UgPSBsaW5rWyAwIF0uaHJlZjsKCWJhc2VbIDAgXS5ocmVmID0gaHJlZiA/IGhyZWYgOiBsb2NhdGlvbi5wYXRobmFtZTsKCglpZiAoIGZhdXhFbGUgKSB7CgkJZmF1eEVsZS5yZW1vdmUoKTsKCX0KCXJldHVybiByZWJhc2UuaW5kZXhPZiggZmF1eEJhc2UgKSA9PT0gMDsKfQoKCi8vIG5vbi1VQS1iYXNlZCBJRSB2ZXJzaW9uIGNoZWNrIGJ5IEphbWVzIFBhZG9sc2V5LCBtb2RpZmllZCBieSBqZGFsdG9uIC0gZnJvbSBodHRwOi8vZ2lzdC5naXRodWIuY29tLzUyNzY4MwovLyBhbGxvd3MgZm9yIGluY2x1c2lvbiBvZiBJRSA2KywgaW5jbHVkaW5nIFdpbmRvd3MgTW9iaWxlIDcKJC5tb2JpbGUuYnJvd3NlciA9IHt9OwokLm1vYmlsZS5icm93c2VyLmllID0gKGZ1bmN0aW9uKCkgewoJdmFyIHYgPSAzLAoJZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCggImRpdiIgKSwKCWEgPSBkaXYuYWxsIHx8IFtdOwoKCXdoaWxlICggZGl2LmlubmVySFRNTCA9ICI8IS0tW2lmIGd0IElFICIgKyAoICsrdiApICsgIl0+PGJyPjwhW2VuZGlmXS0tPiIsIGFbIDAgXSApOwoKCXJldHVybiB2ID4gNCA/IHYgOiAhdjsKfSkoKTsKCgokLmV4dGVuZCggJC5zdXBwb3J0LCB7CglvcmllbnRhdGlvbjogIm9yaWVudGF0aW9uIiBpbiB3aW5kb3csCgl0b3VjaDogIm9udG91Y2hlbmQiIGluIGRvY3VtZW50LAoJY3NzVHJhbnNpdGlvbnM6ICJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiIGluIHdpbmRvdywKCXB1c2hTdGF0ZTogInB1c2hTdGF0ZSIgaW4gaGlzdG9yeSAmJiAicmVwbGFjZVN0YXRlIiBpbiBoaXN0b3J5LAoJbWVkaWFxdWVyeTogJC5tb2JpbGUubWVkaWEoICJvbmx5IGFsbCIgKSwKCWNzc1BzZXVkb0VsZW1lbnQ6ICEhcHJvcEV4aXN0cyggImNvbnRlbnQiICksCgl0b3VjaE92ZXJmbG93OiAhIXByb3BFeGlzdHMoICJvdmVyZmxvd1Njcm9sbGluZyIgKSwKCWJveFNoYWRvdzogISFwcm9wRXhpc3RzKCAiYm94U2hhZG93IiApICYmICFiYiwKCXNjcm9sbFRvcDogKCAicGFnZVhPZmZzZXQiIGluIHdpbmRvdyB8fCAic2Nyb2xsVG9wIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgInNjcm9sbFRvcCIgaW4gZmFrZUJvZHlbIDAgXSApICYmICF3ZWJvcywKCWR5bmFtaWNCYXNlVGFnOiBiYXNlVGFnVGVzdCgpLAoJLy8gVE9ETzogVGhpcyBpcyBhIHdlYWsgdGVzdC4gV2UgbWF5IHdhbnQgdG8gYmVlZiB0aGlzIHVwIGxhdGVyLgoJZXZlbnRDYXB0dXJlOiAiYWRkRXZlbnRMaXN0ZW5lciIgaW4gZG9jdW1lbnQKfSk7CgpmYWtlQm9keS5yZW1vdmUoKTsKCgovLyAkLm1vYmlsZS5hamF4QmxhY2tsaXN0IGlzIHVzZWQgdG8gb3ZlcnJpZGUgYWpheEVuYWJsZWQgb24gcGxhdGZvcm1zIHRoYXQgaGF2ZSBrbm93biBjb25mbGljdHMgd2l0aCBoYXNoIGhpc3RvcnkgdXBkYXRlcyAoQkI1LCBTeW1iaWFuKQovLyBvciB0aGF0IGdlbmVyYWxseSB3b3JrIGJldHRlciBicm93c2luZyBpbiByZWd1bGFyIGh0dHAgZm9yIGZ1bGwgcGFnZSByZWZyZXNoZXMgKE9wZXJhIE1pbmkpCi8vIE5vdGU6IFRoaXMgZGV0ZWN0aW9uIGJlbG93IGlzIHVzZWQgYXMgYSBsYXN0IHJlc29ydC4KLy8gV2UgcmVjb21tZW5kIG9ubHkgdXNpbmcgdGhlc2UgZGV0ZWN0aW9uIG1ldGhvZHMgd2hlbiBhbGwgb3RoZXIgbW9yZSByZWxpYWJsZS9mb3J3YXJkLWxvb2tpbmcgYXBwcm9hY2hlcyBhcmUgbm90IHBvc3NpYmxlCnZhciBub2tpYUxURTdfMyA9IChmdW5jdGlvbigpewoKCXZhciB1YSA9IHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50OwoKCS8vVGhlIGZvbGxvd2luZyBpcyBhbiBhdHRlbXB0IHRvIG1hdGNoIE5va2lhIGJyb3dzZXJzIHRoYXQgYXJlIHJ1bm5pbmcgU3ltYmlhbi9zNjAsIHdpdGggd2Via2l0LCB2ZXJzaW9uIDcuMyBvciBvbGRlcgoJcmV0dXJuIHVhLmluZGV4T2YoICJOb2tpYSIgKSA+IC0xICYmCgkJCSggdWEuaW5kZXhPZiggIlN5bWJpYW4vMyIgKSA+IC0xIHx8IHVhLmluZGV4T2YoICJTZXJpZXM2MC81IiApID4gLTEgKSAmJgoJCQl1YS5pbmRleE9mKCAiQXBwbGVXZWJLaXQiICkgPiAtMSAmJgoJCQl1YS5tYXRjaCggLyhCcm93c2VyTkd8Tm9raWFCcm93c2VyKVwvN1wuWzAtM10vICk7Cn0pKCk7CgokLm1vYmlsZS5hamF4QmxhY2tsaXN0ID0KCQkJLy8gQmxhY2tCZXJyeSBicm93c2VycywgcHJlLXdlYmtpdAoJCQl3aW5kb3cuYmxhY2tiZXJyeSAmJiAhd2luZG93LldlYktpdFBvaW50IHx8CgkJCS8vIE9wZXJhIE1pbmkKCQkJd2luZG93Lm9wZXJhbWluaSAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIHdpbmRvdy5vcGVyYW1pbmkgKSA9PT0gIltvYmplY3QgT3BlcmFNaW5pXSIgfHwKCQkJLy8gU3ltYmlhbiB3ZWJraXRzIHByZSA3LjMKCQkJbm9raWFMVEU3XzM7CgovLyBMYXN0bHksIHRoaXMgd29ya2Fyb3VuZCBpcyB0aGUgb25seSB3YXkgd2UndmUgZm91bmQgc28gZmFyIHRvIGdldCBwcmUgNy4zIFN5bWJpYW4gd2Via2l0IGRldmljZXMKLy8gdG8gcmVuZGVyIHRoZSBzdHlsZXNoZWV0cyB3aGVuIHRoZXkncmUgcmVmZXJlbmNlZCBiZWZvcmUgdGhpcyBzY3JpcHQsIGFzIHdlJ2QgcmVjb21tZW5kIGRvaW5nLgovLyBUaGlzIHNpbXBseSByZWFwcGVuZHMgdGhlIENTUyBpbiBwbGFjZSwgd2hpY2ggZm9yIHNvbWUgcmVhc29uIG1ha2VzIGl0IGFwcGx5CmlmICggbm9raWFMVEU3XzMgKSB7CgkkKGZ1bmN0aW9uKCkgewoJCSQoICJoZWFkIGxpbmtbcmVsPXN0eWxlc2hlZXRdIiApLmF0dHIoICJyZWwiLCAiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiICkuYXR0ciggInJlbCIsICJzdHlsZXNoZWV0IiApOwoJfSk7Cn0KCi8vIEZvciBydWxpbmcgb3V0IHNoYWRvd3MgdmlhIGNzcwppZiAoICEkLnN1cHBvcnQuYm94U2hhZG93ICkgewoJJCggImh0bWwiICkuYWRkQ2xhc3MoICJ1aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyIgKTsKfQoKfSkoIGpRdWVyeSApOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAibW91c2UiIHBsdWdpbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgovLyBUaGlzIHBsdWdpbiBpcyBhbiBleHBlcmltZW50IGZvciBhYnN0cmFjdGluZyBhd2F5IHRoZSB0b3VjaCBhbmQgbW91c2UKLy8gZXZlbnRzIHNvIHRoYXQgZGV2ZWxvcGVycyBkb24ndCBoYXZlIHRvIHdvcnJ5IGFib3V0IHdoaWNoIG1ldGhvZCBvZiBpbnB1dAovLyB0aGUgZGV2aWNlIHRoZWlyIGRvY3VtZW50IGlzIGxvYWRlZCBvbiBzdXBwb3J0cy4KLy8KLy8gVGhlIGlkZWEgaGVyZSBpcyB0byBhbGxvdyB0aGUgZGV2ZWxvcGVyIHRvIHJlZ2lzdGVyIGxpc3RlbmVycyBmb3IgdGhlCi8vIGJhc2ljIG1vdXNlIGV2ZW50cywgc3VjaCBhcyBtb3VzZWRvd24sIG1vdXNlbW92ZSwgbW91c2V1cCwgYW5kIGNsaWNrLAovLyBhbmQgdGhlIHBsdWdpbiB3aWxsIHRha2UgY2FyZSBvZiByZWdpc3RlcmluZyB0aGUgY29ycmVjdCBsaXN0ZW5lcnMKLy8gYmVoaW5kIHRoZSBzY2VuZXMgdG8gaW52b2tlIHRoZSBsaXN0ZW5lciBhdCB0aGUgZmFzdGVzdCBwb3NzaWJsZSB0aW1lCi8vIGZvciB0aGF0IGRldmljZSwgd2hpbGUgc3RpbGwgcmV0YWluaW5nIHRoZSBvcmRlciBvZiBldmVudCBmaXJpbmcgaW4KLy8gdGhlIHRyYWRpdGlvbmFsIG1vdXNlIGVudmlyb25tZW50LCBzaG91bGQgbXVsdGlwbGUgaGFuZGxlcnMgYmUgcmVnaXN0ZXJlZAovLyBvbiB0aGUgc2FtZSBlbGVtZW50IGZvciBkaWZmZXJlbnQgZXZlbnRzLgovLwovLyBUaGUgY3VycmVudCB2ZXJzaW9uIGV4cG9zZXMgdGhlIGZvbGxvd2luZyB2aXJ0dWFsIGV2ZW50cyB0byBqUXVlcnkgYmluZCBtZXRob2RzOgovLyAidm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiCgooZnVuY3Rpb24oICQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCApIHsKCnZhciBkYXRhUHJvcGVydHlOYW1lID0gInZpcnR1YWxNb3VzZUJpbmRpbmdzIiwKCXRvdWNoVGFyZ2V0UHJvcGVydHlOYW1lID0gInZpcnR1YWxUb3VjaElEIiwKCXZpcnR1YWxFdmVudE5hbWVzID0gInZtb3VzZW92ZXIgdm1vdXNlZG93biB2bW91c2Vtb3ZlIHZtb3VzZXVwIHZjbGljayB2bW91c2VvdXQgdm1vdXNlY2FuY2VsIi5zcGxpdCggIiAiICksCgl0b3VjaEV2ZW50UHJvcHMgPSAiY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoICIgIiApLAoJYWN0aXZlRG9jSGFuZGxlcnMgPSB7fSwKCXJlc2V0VGltZXJJRCA9IDAsCglzdGFydFggPSAwLAoJc3RhcnRZID0gMCwKCWRpZFNjcm9sbCA9IGZhbHNlLAoJY2xpY2tCbG9ja0xpc3QgPSBbXSwKCWJsb2NrTW91c2VUcmlnZ2VycyA9IGZhbHNlLAoJYmxvY2tUb3VjaFRyaWdnZXJzID0gZmFsc2UsCglldmVudENhcHR1cmVTdXBwb3J0ZWQgPSAkLnN1cHBvcnQuZXZlbnRDYXB0dXJlLAoJJGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSwKCW5leHRUb3VjaElEID0gMSwKCWxhc3RUb3VjaElEID0gMDsKCiQudm1vdXNlID0gewoJbW92ZURpc3RhbmNlVGhyZXNob2xkOiAxMCwKCWNsaWNrRGlzdGFuY2VUaHJlc2hvbGQ6IDEwLAoJcmVzZXRUaW1lckR1cmF0aW9uOiAxNTAwCn07CgpmdW5jdGlvbiBnZXROYXRpdmVFdmVudCggZXZlbnQgKSB7CgoJd2hpbGUgKCBldmVudCAmJiB0eXBlb2YgZXZlbnQub3JpZ2luYWxFdmVudCAhPT0gInVuZGVmaW5lZCIgKSB7CgkJZXZlbnQgPSBldmVudC5vcmlnaW5hbEV2ZW50OwoJfQoJcmV0dXJuIGV2ZW50Owp9CgpmdW5jdGlvbiBjcmVhdGVWaXJ0dWFsRXZlbnQoIGV2ZW50LCBldmVudFR5cGUgKSB7CgoJdmFyIHQgPSBldmVudC50eXBlLAoJCW9lLCBwcm9wcywgbmUsIHByb3AsIGN0LCB0b3VjaCwgaSwgajsKCglldmVudCA9ICQuRXZlbnQoZXZlbnQpOwoJZXZlbnQudHlwZSA9IGV2ZW50VHlwZTsKCglvZSA9IGV2ZW50Lm9yaWdpbmFsRXZlbnQ7Cglwcm9wcyA9ICQuZXZlbnQucHJvcHM7CgoJLy8gY29weSBvcmlnaW5hbCBldmVudCBwcm9wZXJ0aWVzIG92ZXIgdG8gdGhlIG5ldyBldmVudAoJLy8gdGhpcyB3b3VsZCBoYXBwZW4gaWYgd2UgY291bGQgY2FsbCAkLmV2ZW50LmZpeCBpbnN0ZWFkIG9mICQuRXZlbnQKCS8vIGJ1dCB3ZSBkb24ndCBoYXZlIGEgd2F5IHRvIGZvcmNlIGFuIGV2ZW50IHRvIGJlIGZpeGVkIG11bHRpcGxlIHRpbWVzCglpZiAoIG9lICkgewoJCWZvciAoIGkgPSBwcm9wcy5sZW5ndGgsIHByb3A7IGk7ICkgewoJCQlwcm9wID0gcHJvcHNbIC0taSBdOwoJCQlldmVudFsgcHJvcCBdID0gb2VbIHByb3AgXTsKCQl9Cgl9CgoJaWYgKCB0LnNlYXJjaCgvXnRvdWNoLykgIT09IC0xICkgewoJCW5lID0gZ2V0TmF0aXZlRXZlbnQoIG9lICk7CgkJdCA9IG5lLnRvdWNoZXM7CgkJY3QgPSBuZS5jaGFuZ2VkVG91Y2hlczsKCQl0b3VjaCA9ICggdCAmJiB0Lmxlbmd0aCApID8gdFswXSA6ICggKGN0ICYmIGN0Lmxlbmd0aCkgPyBjdFsgMCBdIDogdW5kZWZpbmVkICk7CgoJCWlmICggdG91Y2ggKSB7CgkJCWZvciAoIGogPSAwLCBsZW4gPSB0b3VjaEV2ZW50UHJvcHMubGVuZ3RoOyBqIDwgbGVuOyBqKyspewoJCQkJcHJvcCA9IHRvdWNoRXZlbnRQcm9wc1sgaiBdOwoJCQkJZXZlbnRbIHByb3AgXSA9IHRvdWNoWyBwcm9wIF07CgkJCX0KCQl9Cgl9CgoJcmV0dXJuIGV2ZW50Owp9CgpmdW5jdGlvbiBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBlbGVtZW50ICkgewoKCXZhciBmbGFncyA9IHt9LAoJCWIsIGs7CgoJd2hpbGUgKCBlbGVtZW50ICkgewoKCQliID0gJC5kYXRhKCBlbGVtZW50LCBkYXRhUHJvcGVydHlOYW1lICk7CgoJCWZvciAoICBrIGluIGIgKSB7CgkJCWlmICggYlsgayBdICkgewoJCQkJZmxhZ3NbIGsgXSA9IGZsYWdzLmhhc1ZpcnR1YWxCaW5kaW5nID0gdHJ1ZTsKCQkJfQoJCX0KCQllbGVtZW50ID0gZWxlbWVudC5wYXJlbnROb2RlOwoJfQoJcmV0dXJuIGZsYWdzOwp9CgpmdW5jdGlvbiBnZXRDbG9zZXN0RWxlbWVudFdpdGhWaXJ0dWFsQmluZGluZyggZWxlbWVudCwgZXZlbnRUeXBlICkgewoJdmFyIGI7Cgl3aGlsZSAoIGVsZW1lbnQgKSB7CgoJCWIgPSAkLmRhdGEoIGVsZW1lbnQsIGRhdGFQcm9wZXJ0eU5hbWUgKTsKCgkJaWYgKCBiICYmICggIWV2ZW50VHlwZSB8fCBiWyBldmVudFR5cGUgXSApICkgewoJCQlyZXR1cm4gZWxlbWVudDsKCQl9CgkJZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKCX0KCXJldHVybiBudWxsOwp9CgpmdW5jdGlvbiBlbmFibGVUb3VjaEJpbmRpbmdzKCkgewoJYmxvY2tUb3VjaFRyaWdnZXJzID0gZmFsc2U7Cn0KCmZ1bmN0aW9uIGRpc2FibGVUb3VjaEJpbmRpbmdzKCkgewoJYmxvY2tUb3VjaFRyaWdnZXJzID0gdHJ1ZTsKfQoKZnVuY3Rpb24gZW5hYmxlTW91c2VCaW5kaW5ncygpIHsKCWxhc3RUb3VjaElEID0gMDsKCWNsaWNrQmxvY2tMaXN0Lmxlbmd0aCA9IDA7CglibG9ja01vdXNlVHJpZ2dlcnMgPSBmYWxzZTsKCgkvLyBXaGVuIG1vdXNlIGJpbmRpbmdzIGFyZSBlbmFibGVkLCBvdXIKCS8vIHRvdWNoIGJpbmRpbmdzIGFyZSBkaXNhYmxlZC4KCWRpc2FibGVUb3VjaEJpbmRpbmdzKCk7Cn0KCmZ1bmN0aW9uIGRpc2FibGVNb3VzZUJpbmRpbmdzKCkgewoJLy8gV2hlbiBtb3VzZSBiaW5kaW5ncyBhcmUgZGlzYWJsZWQsIG91cgoJLy8gdG91Y2ggYmluZGluZ3MgYXJlIGVuYWJsZWQuCgllbmFibGVUb3VjaEJpbmRpbmdzKCk7Cn0KCmZ1bmN0aW9uIHN0YXJ0UmVzZXRUaW1lcigpIHsKCWNsZWFyUmVzZXRUaW1lcigpOwoJcmVzZXRUaW1lcklEID0gc2V0VGltZW91dChmdW5jdGlvbigpewoJCXJlc2V0VGltZXJJRCA9IDA7CgkJZW5hYmxlTW91c2VCaW5kaW5ncygpOwoJfSwgJC52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uICk7Cn0KCmZ1bmN0aW9uIGNsZWFyUmVzZXRUaW1lcigpIHsKCWlmICggcmVzZXRUaW1lcklEICl7CgkJY2xlYXJUaW1lb3V0KCByZXNldFRpbWVySUQgKTsKCQlyZXNldFRpbWVySUQgPSAwOwoJfQp9CgpmdW5jdGlvbiB0cmlnZ2VyVmlydHVhbEV2ZW50KCBldmVudFR5cGUsIGV2ZW50LCBmbGFncyApIHsKCXZhciB2ZTsKCglpZiAoICggZmxhZ3MgJiYgZmxhZ3NbIGV2ZW50VHlwZSBdICkgfHwKCQkJCSggIWZsYWdzICYmIGdldENsb3Nlc3RFbGVtZW50V2l0aFZpcnR1YWxCaW5kaW5nKCBldmVudC50YXJnZXQsIGV2ZW50VHlwZSApICkgKSB7CgoJCXZlID0gY3JlYXRlVmlydHVhbEV2ZW50KCBldmVudCwgZXZlbnRUeXBlICk7CgoJCSQoIGV2ZW50LnRhcmdldCkudHJpZ2dlciggdmUgKTsKCX0KCglyZXR1cm4gdmU7Cn0KCmZ1bmN0aW9uIG1vdXNlRXZlbnRDYWxsYmFjayggZXZlbnQgKSB7Cgl2YXIgdG91Y2hJRCA9ICQuZGF0YShldmVudC50YXJnZXQsIHRvdWNoVGFyZ2V0UHJvcGVydHlOYW1lKTsKCglpZiAoICFibG9ja01vdXNlVHJpZ2dlcnMgJiYgKCAhbGFzdFRvdWNoSUQgfHwgbGFzdFRvdWNoSUQgIT09IHRvdWNoSUQgKSApewoJCXZhciB2ZSA9IHRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2IiArIGV2ZW50LnR5cGUsIGV2ZW50ICk7CgkJaWYgKCB2ZSApIHsKCQkJaWYgKCB2ZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSApIHsKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCX0KCQkJaWYgKCB2ZS5pc1Byb3BhZ2F0aW9uU3RvcHBlZCgpICkgewoJCQkJZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCX0KCQkJaWYgKCB2ZS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpICkgewoJCQkJZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7CgkJCX0KCQl9Cgl9Cn0KCmZ1bmN0aW9uIGhhbmRsZVRvdWNoU3RhcnQoIGV2ZW50ICkgewoKCXZhciB0b3VjaGVzID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkudG91Y2hlcywKCQl0YXJnZXQsIGZsYWdzOwoKCWlmICggdG91Y2hlcyAmJiB0b3VjaGVzLmxlbmd0aCA9PT0gMSApIHsKCgkJdGFyZ2V0ID0gZXZlbnQudGFyZ2V0OwoJCWZsYWdzID0gZ2V0VmlydHVhbEJpbmRpbmdGbGFncyggdGFyZ2V0ICk7CgoJCWlmICggZmxhZ3MuaGFzVmlydHVhbEJpbmRpbmcgKSB7CgoJCQlsYXN0VG91Y2hJRCA9IG5leHRUb3VjaElEKys7CgkJCSQuZGF0YSggdGFyZ2V0LCB0b3VjaFRhcmdldFByb3BlcnR5TmFtZSwgbGFzdFRvdWNoSUQgKTsKCgkJCWNsZWFyUmVzZXRUaW1lcigpOwoKCQkJZGlzYWJsZU1vdXNlQmluZGluZ3MoKTsKCQkJZGlkU2Nyb2xsID0gZmFsc2U7CgoJCQl2YXIgdCA9IGdldE5hdGl2ZUV2ZW50KCBldmVudCApLnRvdWNoZXNbIDAgXTsKCQkJc3RhcnRYID0gdC5wYWdlWDsKCQkJc3RhcnRZID0gdC5wYWdlWTsKCgkJCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VvdmVyIiwgZXZlbnQsIGZsYWdzICk7CgkJCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2Vkb3duIiwgZXZlbnQsIGZsYWdzICk7CgkJfQoJfQp9CgpmdW5jdGlvbiBoYW5kbGVTY3JvbGwoIGV2ZW50ICkgewoJaWYgKCBibG9ja1RvdWNoVHJpZ2dlcnMgKSB7CgkJcmV0dXJuOwoJfQoKCWlmICggIWRpZFNjcm9sbCApIHsKCQl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlY2FuY2VsIiwgZXZlbnQsIGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIGV2ZW50LnRhcmdldCApICk7Cgl9CgoJZGlkU2Nyb2xsID0gdHJ1ZTsKCXN0YXJ0UmVzZXRUaW1lcigpOwp9CgpmdW5jdGlvbiBoYW5kbGVUb3VjaE1vdmUoIGV2ZW50ICkgewoJaWYgKCBibG9ja1RvdWNoVHJpZ2dlcnMgKSB7CgkJcmV0dXJuOwoJfQoKCXZhciB0ID0gZ2V0TmF0aXZlRXZlbnQoIGV2ZW50ICkudG91Y2hlc1sgMCBdLAoJCWRpZENhbmNlbCA9IGRpZFNjcm9sbCwKCQltb3ZlVGhyZXNob2xkID0gJC52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkOwoJCWRpZFNjcm9sbCA9IGRpZFNjcm9sbCB8fAoJCQkoIE1hdGguYWJzKHQucGFnZVggLSBzdGFydFgpID4gbW92ZVRocmVzaG9sZCB8fAoJCQkJTWF0aC5hYnModC5wYWdlWSAtIHN0YXJ0WSkgPiBtb3ZlVGhyZXNob2xkICksCgkJZmxhZ3MgPSBnZXRWaXJ0dWFsQmluZGluZ0ZsYWdzKCBldmVudC50YXJnZXQgKTsKCglpZiAoIGRpZFNjcm9sbCAmJiAhZGlkQ2FuY2VsICkgewoJCXRyaWdnZXJWaXJ0dWFsRXZlbnQoICJ2bW91c2VjYW5jZWwiLCBldmVudCwgZmxhZ3MgKTsKCX0KCgl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNlbW92ZSIsIGV2ZW50LCBmbGFncyApOwoJc3RhcnRSZXNldFRpbWVyKCk7Cn0KCmZ1bmN0aW9uIGhhbmRsZVRvdWNoRW5kKCBldmVudCApIHsKCWlmICggYmxvY2tUb3VjaFRyaWdnZXJzICkgewoJCXJldHVybjsKCX0KCglkaXNhYmxlVG91Y2hCaW5kaW5ncygpOwoKCXZhciBmbGFncyA9IGdldFZpcnR1YWxCaW5kaW5nRmxhZ3MoIGV2ZW50LnRhcmdldCApLAoJCXQ7Cgl0cmlnZ2VyVmlydHVhbEV2ZW50KCAidm1vdXNldXAiLCBldmVudCwgZmxhZ3MgKTsKCglpZiAoICFkaWRTY3JvbGwgKSB7CgkJdmFyIHZlID0gdHJpZ2dlclZpcnR1YWxFdmVudCggInZjbGljayIsIGV2ZW50LCBmbGFncyApOwoJCWlmICggdmUgJiYgdmUuaXNEZWZhdWx0UHJldmVudGVkKCkgKSB7CgkJCS8vIFRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlIGV2ZW50cyB0aGF0IGZvbGxvdyB0aGUgdG91Y2hlbmQKCQkJLy8gZXZlbnQgZG9uJ3QgbmVjZXNzYXJpbHkgbWF0Y2ggdGhlIHRhcmdldCB1c2VkIGR1cmluZyB0aGUKCQkJLy8gdG91Y2guIFRoaXMgbWVhbnMgd2UgbmVlZCB0byByZWx5IG9uIGNvb3JkaW5hdGVzIGZvciBibG9ja2luZwoJCQkvLyBhbnkgY2xpY2sgdGhhdCBpcyBnZW5lcmF0ZWQuCgkJCXQgPSBnZXROYXRpdmVFdmVudCggZXZlbnQgKS5jaGFuZ2VkVG91Y2hlc1sgMCBdOwoJCQljbGlja0Jsb2NrTGlzdC5wdXNoKHsKCQkJCXRvdWNoSUQ6IGxhc3RUb3VjaElELAoJCQkJeDogdC5jbGllbnRYLAoJCQkJeTogdC5jbGllbnRZCgkJCX0pOwoKCQkJLy8gUHJldmVudCBhbnkgbW91c2UgZXZlbnRzIHRoYXQgZm9sbG93IGZyb20gdHJpZ2dlcmluZwoJCQkvLyB2aXJ0dWFsIGV2ZW50IG5vdGlmaWNhdGlvbnMuCgkJCWJsb2NrTW91c2VUcmlnZ2VycyA9IHRydWU7CgkJfQoJfQoJdHJpZ2dlclZpcnR1YWxFdmVudCggInZtb3VzZW91dCIsIGV2ZW50LCBmbGFncyk7CglkaWRTY3JvbGwgPSBmYWxzZTsKCglzdGFydFJlc2V0VGltZXIoKTsKfQoKZnVuY3Rpb24gaGFzVmlydHVhbEJpbmRpbmdzKCBlbGUgKSB7Cgl2YXIgYmluZGluZ3MgPSAkLmRhdGEoIGVsZSwgZGF0YVByb3BlcnR5TmFtZSApLAoJCWs7CgoJaWYgKCBiaW5kaW5ncyApIHsKCQlmb3IgKCBrIGluIGJpbmRpbmdzICkgewoJCQlpZiAoIGJpbmRpbmdzWyBrIF0gKSB7CgkJCQlyZXR1cm4gdHJ1ZTsKCQkJfQoJCX0KCX0KCXJldHVybiBmYWxzZTsKfQoKZnVuY3Rpb24gZHVtbXlNb3VzZUhhbmRsZXIoKXt9CgpmdW5jdGlvbiBnZXRTcGVjaWFsRXZlbnRPYmplY3QoIGV2ZW50VHlwZSApIHsKCXZhciByZWFsVHlwZSA9IGV2ZW50VHlwZS5zdWJzdHIoIDEgKTsKCglyZXR1cm4gewoJCXNldHVwOiBmdW5jdGlvbiggZGF0YSwgbmFtZXNwYWNlICkgewoJCQkvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgZm9yIHRoaXMgZWxlbWVudCwKCQkJLy8gYWRkIGEgYmluZGluZ3Mgb2JqZWN0IHRvIGl0cyBkYXRhLgoKCQkJaWYgKCAhaGFzVmlydHVhbEJpbmRpbmdzKCB0aGlzICkgKSB7CgkJCQkkLmRhdGEoIHRoaXMsIGRhdGFQcm9wZXJ0eU5hbWUsIHt9KTsKCQkJfQoKCQkJLy8gSWYgc2V0dXAgaXMgY2FsbGVkLCB3ZSBrbm93IGl0IGlzIHRoZSBmaXJzdCBiaW5kaW5nIGZvciB0aGlzCgkJCS8vIGV2ZW50VHlwZSwgc28gaW5pdGlhbGl6ZSB0aGUgY291bnQgZm9yIHRoZSBldmVudFR5cGUgdG8gemVyby4KCQkJdmFyIGJpbmRpbmdzID0gJC5kYXRhKCB0aGlzLCBkYXRhUHJvcGVydHlOYW1lICk7CgkJCWJpbmRpbmdzWyBldmVudFR5cGUgXSA9IHRydWU7CgoJCQkvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB2aXJ0dWFsIG1vdXNlIGV2ZW50IGZvciB0aGlzIHR5cGUsCgkJCS8vIHJlZ2lzdGVyIGEgZ2xvYmFsIGhhbmRsZXIgb24gdGhlIGRvY3VtZW50LgoKCQkJYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdID0gKCBhY3RpdmVEb2NIYW5kbGVyc1sgZXZlbnRUeXBlIF0gfHwgMCApICsgMTsKCgkJCWlmICggYWN0aXZlRG9jSGFuZGxlcnNbIGV2ZW50VHlwZSBdID09PSAxICkgewoJCQkJJGRvY3VtZW50LmJpbmQoIHJlYWxUeXBlLCBtb3VzZUV2ZW50Q2FsbGJhY2sgKTsKCQkJfQoKCQkJLy8gU29tZSBicm93c2VycywgbGlrZSBPcGVyYSBNaW5pLCB3b24ndCBkaXNwYXRjaCBtb3VzZS9jbGljayBldmVudHMKCQkJLy8gZm9yIGVsZW1lbnRzIHVubGVzcyB0aGV5IGFjdHVhbGx5IGhhdmUgaGFuZGxlcnMgcmVnaXN0ZXJlZCBvbiB0aGVtLgoJCQkvLyBUbyBnZXQgYXJvdW5kIHRoaXMsIHdlIHJlZ2lzdGVyIGR1bW15IGhhbmRsZXJzIG9uIHRoZSBlbGVtZW50cy4KCgkJCSQoIHRoaXMgKS5iaW5kKCByZWFsVHlwZSwgZHVtbXlNb3VzZUhhbmRsZXIgKTsKCgkJCS8vIEZvciBub3csIGlmIGV2ZW50IGNhcHR1cmUgaXMgbm90IHN1cHBvcnRlZCwgd2UgcmVseSBvbiBtb3VzZSBoYW5kbGVycy4KCQkJaWYgKCBldmVudENhcHR1cmVTdXBwb3J0ZWQgKSB7CgkJCQkvLyBJZiB0aGlzIGlzIHRoZSBmaXJzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgZm9yIHRoZSBkb2N1bWVudCwKCQkJCS8vIHJlZ2lzdGVyIG91ciB0b3VjaHN0YXJ0IGhhbmRsZXIgb24gdGhlIGRvY3VtZW50LgoKCQkJCWFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXSA9ICggYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdIHx8IDApICsgMTsKCgkJCQlpZiAoYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdID09PSAxKSB7CgkJCQkJJGRvY3VtZW50LmJpbmQoICJ0b3VjaHN0YXJ0IiwgaGFuZGxlVG91Y2hTdGFydCApCgkJCQkJCS5iaW5kKCAidG91Y2hlbmQiLCBoYW5kbGVUb3VjaEVuZCApCgoJCQkJCQkvLyBPbiB0b3VjaCBwbGF0Zm9ybXMsIHRvdWNoaW5nIHRoZSBzY3JlZW4gYW5kIHRoZW4gZHJhZ2dpbmcgeW91ciBmaW5nZXIKCQkJCQkJLy8gY2F1c2VzIHRoZSB3aW5kb3cgY29udGVudCB0byBzY3JvbGwgYWZ0ZXIgc29tZSBkaXN0YW5jZSB0aHJlc2hvbGQgaXMKCQkJCQkJLy8gZXhjZWVkZWQuIE9uIHRoZXNlIHBsYXRmb3JtcywgYSBzY3JvbGwgcHJldmVudHMgYSBjbGljayBldmVudCBmcm9tIGJlaW5nCgkJCQkJCS8vIGRpc3BhdGNoZWQsIGFuZCBvbiBzb21lIHBsYXRmb3JtcywgZXZlbiB0aGUgdG91Y2hlbmQgaXMgc3VwcHJlc3NlZC4gVG8KCQkJCQkJLy8gbWltaWMgdGhlIHN1cHByZXNzaW9uIG9mIHRoZSBjbGljayBldmVudCwgd2UgbmVlZCB0byB3YXRjaCBmb3IgYSBzY3JvbGwKCQkJCQkJLy8gZXZlbnQuIFVuZm9ydHVuYXRlbHksIHNvbWUgcGxhdGZvcm1zIGxpa2UgaU9TIGRvbid0IGRpc3BhdGNoIHNjcm9sbAoJCQkJCQkvLyBldmVudHMgdW50aWwgKkFGVEVSKiB0aGUgdXNlciBsaWZ0cyB0aGVpciBmaW5nZXIgKHRvdWNoZW5kKS4gVGhpcyBtZWFucwoJCQkJCQkvLyB3ZSBuZWVkIHRvIHdhdGNoIGJvdGggc2Nyb2xsIGFuZCB0b3VjaG1vdmUgZXZlbnRzIHRvIGZpZ3VyZSBvdXQgd2hldGhlcgoJCQkJCQkvLyBvciBub3QgYSBzY3JvbGwgaGFwcGVuZW5zIGJlZm9yZSB0aGUgdG91Y2hlbmQgZXZlbnQgaXMgZmlyZWQuCgoJCQkJCQkuYmluZCggInRvdWNobW92ZSIsIGhhbmRsZVRvdWNoTW92ZSApCgkJCQkJCS5iaW5kKCAic2Nyb2xsIiwgaGFuZGxlU2Nyb2xsICk7CgkJCQl9CgkJCX0KCQl9LAoKCQl0ZWFyZG93bjogZnVuY3Rpb24oIGRhdGEsIG5hbWVzcGFjZSApIHsKCQkJLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCB2aXJ0dWFsIGJpbmRpbmcgZm9yIHRoaXMgZXZlbnRUeXBlLAoJCQkvLyByZW1vdmUgaXRzIGdsb2JhbCBoYW5kbGVyIGZyb20gdGhlIGRvY3VtZW50LgoKCQkJLS1hY3RpdmVEb2NIYW5kbGVyc1sgZXZlbnRUeXBlIF07CgoJCQlpZiAoICFhY3RpdmVEb2NIYW5kbGVyc1sgZXZlbnRUeXBlIF0gKSB7CgkJCQkkZG9jdW1lbnQudW5iaW5kKCByZWFsVHlwZSwgbW91c2VFdmVudENhbGxiYWNrICk7CgkJCX0KCgkJCWlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkgewoJCQkJLy8gSWYgdGhpcyBpcyB0aGUgbGFzdCB2aXJ0dWFsIG1vdXNlIGJpbmRpbmcgaW4gZXhpc3RlbmNlLAoJCQkJLy8gcmVtb3ZlIG91ciBkb2N1bWVudCB0b3VjaHN0YXJ0IGxpc3RlbmVyLgoKCQkJCS0tYWN0aXZlRG9jSGFuZGxlcnNbICJ0b3VjaHN0YXJ0IiBdOwoKCQkJCWlmICggIWFjdGl2ZURvY0hhbmRsZXJzWyAidG91Y2hzdGFydCIgXSApIHsKCQkJCQkkZG9jdW1lbnQudW5iaW5kKCAidG91Y2hzdGFydCIsIGhhbmRsZVRvdWNoU3RhcnQgKQoJCQkJCQkudW5iaW5kKCAidG91Y2htb3ZlIiwgaGFuZGxlVG91Y2hNb3ZlICkKCQkJCQkJLnVuYmluZCggInRvdWNoZW5kIiwgaGFuZGxlVG91Y2hFbmQgKQoJCQkJCQkudW5iaW5kKCAic2Nyb2xsIiwgaGFuZGxlU2Nyb2xsICk7CgkJCQl9CgkJCX0KCgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwKCQkJCWJpbmRpbmdzID0gJC5kYXRhKCB0aGlzLCBkYXRhUHJvcGVydHlOYW1lICk7CgoJCQkvLyB0ZWFyZG93biBtYXkgYmUgY2FsbGVkIHdoZW4gYW4gZWxlbWVudCB3YXMKCQkJLy8gcmVtb3ZlZCBmcm9tIHRoZSBET00uIElmIHRoaXMgaXMgdGhlIGNhc2UsCgkJCS8vIGpRdWVyeSBjb3JlIG1heSBoYXZlIGFscmVhZHkgc3RyaXBwZWQgdGhlIGVsZW1lbnQKCQkJLy8gb2YgYW55IGRhdGEgYmluZGluZ3Mgc28gd2UgbmVlZCB0byBjaGVjayBpdCBiZWZvcmUKCQkJLy8gdXNpbmcgaXQuCgkJCWlmICggYmluZGluZ3MgKSB7CgkJCQliaW5kaW5nc1sgZXZlbnRUeXBlIF0gPSBmYWxzZTsKCQkJfQoKCQkJLy8gVW5yZWdpc3RlciB0aGUgZHVtbXkgZXZlbnQgaGFuZGxlci4KCgkJCSR0aGlzLnVuYmluZCggcmVhbFR5cGUsIGR1bW15TW91c2VIYW5kbGVyICk7CgoJCQkvLyBJZiB0aGlzIGlzIHRoZSBsYXN0IHZpcnR1YWwgbW91c2UgYmluZGluZyBvbiB0aGUKCQkJLy8gZWxlbWVudCwgcmVtb3ZlIHRoZSBiaW5kaW5nIGRhdGEgZnJvbSB0aGUgZWxlbWVudC4KCgkJCWlmICggIWhhc1ZpcnR1YWxCaW5kaW5ncyggdGhpcyApICkgewoJCQkJJHRoaXMucmVtb3ZlRGF0YSggZGF0YVByb3BlcnR5TmFtZSApOwoJCQl9CgkJfQoJfTsKfQoKLy8gRXhwb3NlIG91ciBjdXN0b20gZXZlbnRzIHRvIHRoZSBqUXVlcnkgYmluZC91bmJpbmQgbWVjaGFuaXNtLgoKZm9yICggdmFyIGkgPSAwOyBpIDwgdmlydHVhbEV2ZW50TmFtZXMubGVuZ3RoOyBpKysgKXsKCSQuZXZlbnQuc3BlY2lhbFsgdmlydHVhbEV2ZW50TmFtZXNbIGkgXSBdID0gZ2V0U3BlY2lhbEV2ZW50T2JqZWN0KCB2aXJ0dWFsRXZlbnROYW1lc1sgaSBdICk7Cn0KCi8vIEFkZCBhIGNhcHR1cmUgY2xpY2sgaGFuZGxlciB0byBibG9jayBjbGlja3MuCi8vIE5vdGUgdGhhdCB3ZSByZXF1aXJlIGV2ZW50IGNhcHR1cmUgc3VwcG9ydCBmb3IgdGhpcyBzbyBpZiB0aGUgZGV2aWNlCi8vIGRvZXNuJ3Qgc3VwcG9ydCBpdCwgd2UgcHVudCBmb3Igbm93IGFuZCByZWx5IHNvbGVseSBvbiBtb3VzZSBldmVudHMuCmlmICggZXZlbnRDYXB0dXJlU3VwcG9ydGVkICkgewoJZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciggImNsaWNrIiwgZnVuY3Rpb24oIGUgKXsKCQl2YXIgY250ID0gY2xpY2tCbG9ja0xpc3QubGVuZ3RoLAoJCQl0YXJnZXQgPSBlLnRhcmdldCwKCQkJeCwgeSwgZWxlLCBpLCBvLCB0b3VjaElEOwoKCQlpZiAoIGNudCApIHsKCQkJeCA9IGUuY2xpZW50WDsKCQkJeSA9IGUuY2xpZW50WTsKCQkJdGhyZXNob2xkID0gJC52bW91c2UuY2xpY2tEaXN0YW5jZVRocmVzaG9sZDsKCgkJCS8vIFRoZSBpZGVhIGhlcmUgaXMgdG8gcnVuIHRocm91Z2ggdGhlIGNsaWNrQmxvY2tMaXN0IHRvIHNlZSBpZgoJCQkvLyB0aGUgY3VycmVudCBjbGljayBldmVudCBpcyBpbiB0aGUgcHJveGltaXR5IG9mIG9uZSBvZiBvdXIKCQkJLy8gdmNsaWNrIGV2ZW50cyB0aGF0IGhhZCBwcmV2ZW50RGVmYXVsdCgpIGNhbGxlZCBvbiBpdC4gSWYgd2UgZmluZAoJCQkvLyBvbmUsIHRoZW4gd2UgYmxvY2sgdGhlIGNsaWNrLgoJCQkvLwoJCQkvLyBXaHkgZG8gd2UgaGF2ZSB0byByZWx5IG9uIHByb3hpbWl0eT8KCQkJLy8KCQkJLy8gQmVjYXVzZSB0aGUgdGFyZ2V0IG9mIHRoZSB0b3VjaCBldmVudCB0aGF0IHRyaWdnZXJlZCB0aGUgdmNsaWNrCgkJCS8vIGNhbiBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgdGFyZ2V0IG9mIHRoZSBjbGljayBldmVudCBzeW50aGVzaXplZAoJCQkvLyBieSB0aGUgYnJvd3Nlci4gVGhlIHRhcmdldCBvZiBhIG1vdXNlL2NsaWNrIGV2ZW50IHRoYXQgaXMgc3ludGVoc2l6ZWQKCQkJLy8gZnJvbSBhIHRvdWNoIGV2ZW50IHNlZW1zIHRvIGJlIGltcGxlbWVudGF0aW9uIHNwZWNpZmljLiBGb3IgZXhhbXBsZSwKCQkJLy8gc29tZSBicm93c2VycyB3aWxsIGZpcmUgbW91c2UvY2xpY2sgZXZlbnRzIGZvciBhIGxpbmsgdGhhdCBpcyBuZWFyCgkJCS8vIGEgdG91Y2ggZXZlbnQsIGV2ZW4gdGhvdWdoIHRoZSB0YXJnZXQgb2YgdGhlIHRvdWNoc3RhcnQvdG91Y2hlbmQgZXZlbnQKCQkJLy8gc2F5cyB0aGUgdXNlciB0b3VjaGVkIG91dHNpZGUgdGhlIGxpbmsuIEFsc28sIGl0IHNlZW1zIHRoYXQgd2l0aCBtb3N0CgkJCS8vIGJyb3dzZXJzLCB0aGUgdGFyZ2V0IG9mIHRoZSBtb3VzZS9jbGljayBldmVudCBpcyBub3QgY2FsY3VsYXRlZCB1bnRpbCB0aGUKCQkJLy8gdGltZSBpdCBpcyBkaXNwYXRjaGVkLCBzbyBpZiB5b3UgcmVwbGFjZSBhbiBlbGVtZW50IHRoYXQgeW91IHRvdWNoZWQKCQkJLy8gd2l0aCBhbm90aGVyIGVsZW1lbnQsIHRoZSB0YXJnZXQgb2YgdGhlIG1vdXNlL2NsaWNrIHdpbGwgYmUgdGhlIG5ldwoJCQkvLyBlbGVtZW50IHVuZGVybmVhdGggdGhhdCBwb2ludC4KCQkJLy8KCQkJLy8gQXNpZGUgZnJvbSBwcm94aW1pdHksIHdlIGFsc28gY2hlY2sgdG8gc2VlIGlmIHRoZSB0YXJnZXQgYW5kIGFueQoJCQkvLyBvZiBpdHMgYW5jZXN0b3JzIHdlcmUgdGhlIG9uZXMgdGhhdCBibG9ja2VkIGEgY2xpY2suIFRoaXMgaXMgbmVjZXNzYXJ5CgkJCS8vIGJlY2F1c2Ugb2YgdGhlIHN0cmFuZ2UgbW91c2UvY2xpY2sgdGFyZ2V0IGNhbGN1bGF0aW9uIGRvbmUgaW4gdGhlCgkJCS8vIEFuZHJvaWQgMi4xIGJyb3dzZXIsIHdoZXJlIGlmIHlvdSBjbGljayBvbiBhbiBlbGVtZW50LCBhbmQgdGhlcmUgaXMgYQoJCQkvLyBtb3VzZS9jbGljayBoYW5kbGVyIG9uIG9uZSBvZiBpdHMgYW5jZXN0b3JzLCB0aGUgdGFyZ2V0IHdpbGwgYmUgdGhlCgkJCS8vIGlubmVybW9zdCBjaGlsZCBvZiB0aGUgdG91Y2hlZCBlbGVtZW50LCBldmVuIGlmIHRoYXQgY2hpbGQgaXMgbm8gd2hlcmUKCQkJLy8gbmVhciB0aGUgcG9pbnQgb2YgdG91Y2guCgoJCQllbGUgPSB0YXJnZXQ7CgoJCQl3aGlsZSAoIGVsZSApIHsKCQkJCWZvciAoIGkgPSAwOyBpIDwgY250OyBpKysgKSB7CgkJCQkJbyA9IGNsaWNrQmxvY2tMaXN0WyBpIF07CgkJCQkJdG91Y2hJRCA9IDA7CgoJCQkJCWlmICggKCBlbGUgPT09IHRhcmdldCAmJiBNYXRoLmFicyggby54IC0geCApIDwgdGhyZXNob2xkICYmIE1hdGguYWJzKCBvLnkgLSB5ICkgPCB0aHJlc2hvbGQgKSB8fAoJCQkJCQkJCSQuZGF0YSggZWxlLCB0b3VjaFRhcmdldFByb3BlcnR5TmFtZSApID09PSBvLnRvdWNoSUQgKSB7CgkJCQkJCS8vIFhYWDogV2UgbWF5IHdhbnQgdG8gY29uc2lkZXIgcmVtb3ZpbmcgbWF0Y2hlcyBmcm9tIHRoZSBibG9jayBsaXN0CgkJCQkJCS8vICAgICAgaW5zdGVhZCBvZiB3YWl0aW5nIGZvciB0aGUgcmVzZXQgdGltZXIgdG8gZmlyZS4KCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQllLnN0b3BQcm9wYWdhdGlvbigpOwoJCQkJCQlyZXR1cm47CgkJCQkJfQoJCQkJfQoJCQkJZWxlID0gZWxlLnBhcmVudE5vZGU7CgkJCX0KCQl9Cgl9LCB0cnVlKTsKfQp9KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBldmVudHMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwooZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkgewoKLy8gYWRkIG5ldyBldmVudCBzaG9ydGN1dHMKJC5lYWNoKCAoICJ0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCBvcmllbnRhdGlvbmNoYW5nZSB0aHJvdHRsZWRyZXNpemUgIiArCgkJCQkJInRhcCB0YXBob2xkIHN3aXBlIHN3aXBlbGVmdCBzd2lwZXJpZ2h0IHNjcm9sbHN0YXJ0IHNjcm9sbHN0b3AiICkuc3BsaXQoICIgIiApLCBmdW5jdGlvbiggaSwgbmFtZSApIHsKCgkkLmZuWyBuYW1lIF0gPSBmdW5jdGlvbiggZm4gKSB7CgkJcmV0dXJuIGZuID8gdGhpcy5iaW5kKCBuYW1lLCBmbiApIDogdGhpcy50cmlnZ2VyKCBuYW1lICk7Cgl9OwoKCSQuYXR0ckZuWyBuYW1lIF0gPSB0cnVlOwp9KTsKCnZhciBzdXBwb3J0VG91Y2ggPSAkLnN1cHBvcnQudG91Y2gsCglzY3JvbGxFdmVudCA9ICJ0b3VjaG1vdmUgc2Nyb2xsIiwKCXRvdWNoU3RhcnRFdmVudCA9IHN1cHBvcnRUb3VjaCA/ICJ0b3VjaHN0YXJ0IiA6ICJtb3VzZWRvd24iLAoJdG91Y2hTdG9wRXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hlbmQiIDogIm1vdXNldXAiLAoJdG91Y2hNb3ZlRXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2htb3ZlIiA6ICJtb3VzZW1vdmUiOwoKZnVuY3Rpb24gdHJpZ2dlckN1c3RvbUV2ZW50KCBvYmosIGV2ZW50VHlwZSwgZXZlbnQgKSB7Cgl2YXIgb3JpZ2luYWxUeXBlID0gZXZlbnQudHlwZTsKCWV2ZW50LnR5cGUgPSBldmVudFR5cGU7CgkkLmV2ZW50LmhhbmRsZS5jYWxsKCBvYmosIGV2ZW50ICk7CglldmVudC50eXBlID0gb3JpZ2luYWxUeXBlOwp9CgovLyBhbHNvIGhhbmRsZXMgc2Nyb2xsc3RvcAokLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQgPSB7CgoJZW5hYmxlZDogdHJ1ZSwKCglzZXR1cDogZnVuY3Rpb24oKSB7CgoJCXZhciB0aGlzT2JqZWN0ID0gdGhpcywKCQkJJHRoaXMgPSAkKCB0aGlzT2JqZWN0ICksCgkJCXNjcm9sbGluZywKCQkJdGltZXI7CgoJCWZ1bmN0aW9uIHRyaWdnZXIoIGV2ZW50LCBzdGF0ZSApIHsKCQkJc2Nyb2xsaW5nID0gc3RhdGU7CgkJCXRyaWdnZXJDdXN0b21FdmVudCggdGhpc09iamVjdCwgc2Nyb2xsaW5nID8gInNjcm9sbHN0YXJ0IiA6ICJzY3JvbGxzdG9wIiwgZXZlbnQgKTsKCQl9CgoJCS8vIGlQaG9uZSB0cmlnZ2VycyBzY3JvbGwgYWZ0ZXIgYSBzbWFsbCBkZWxheTsgdXNlIHRvdWNobW92ZSBpbnN0ZWFkCgkJJHRoaXMuYmluZCggc2Nyb2xsRXZlbnQsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCWlmICggISQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkICkgewoJCQkJcmV0dXJuOwoJCQl9CgoJCQlpZiAoICFzY3JvbGxpbmcgKSB7CgkJCQl0cmlnZ2VyKCBldmVudCwgdHJ1ZSApOwoJCQl9CgoJCQljbGVhclRpbWVvdXQoIHRpbWVyICk7CgkJCXRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCXRyaWdnZXIoIGV2ZW50LCBmYWxzZSApOwoJCQl9LCA1MCApOwoJCX0pOwoJfQp9OwoKLy8gYWxzbyBoYW5kbGVzIHRhcGhvbGQKJC5ldmVudC5zcGVjaWFsLnRhcCA9IHsKCXNldHVwOiBmdW5jdGlvbigpIHsKCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsCgkJCSR0aGlzID0gJCggdGhpc09iamVjdCApOwoKCQkkdGhpcy5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCWlmICggZXZlbnQud2hpY2ggJiYgZXZlbnQud2hpY2ggIT09IDEgKSB7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCXZhciBvcmlnVGFyZ2V0ID0gZXZlbnQudGFyZ2V0LAoJCQkJb3JpZ0V2ZW50ID0gZXZlbnQub3JpZ2luYWxFdmVudCwKCQkJCXRpbWVyOwoKCQkJZnVuY3Rpb24gY2xlYXJUYXBUaW1lcigpIHsKCQkJCWNsZWFyVGltZW91dCggdGltZXIgKTsKCQkJfQoKCQkJZnVuY3Rpb24gY2xlYXJUYXBIYW5kbGVycygpIHsKCQkJCWNsZWFyVGFwVGltZXIoKTsKCgkJCQkkdGhpcy51bmJpbmQoICJ2Y2xpY2siLCBjbGlja0hhbmRsZXIgKQoJCQkJCS51bmJpbmQoICJ2bW91c2V1cCIsIGNsZWFyVGFwVGltZXIgKQoJCQkJCS51bmJpbmQoICJ2bW91c2VjYW5jZWwiLCBjbGVhclRhcEhhbmRsZXJzICk7CgkJCX0KCgkJCWZ1bmN0aW9uIGNsaWNrSGFuZGxlcihldmVudCkgewoJCQkJY2xlYXJUYXBIYW5kbGVycygpOwoKCQkJCS8vIE9OTFkgdHJpZ2dlciBhICd0YXAnIGV2ZW50IGlmIHRoZSBzdGFydCB0YXJnZXQgaXMKCQkJCS8vIHRoZSBzYW1lIGFzIHRoZSBzdG9wIHRhcmdldC4KCQkJCWlmICggb3JpZ1RhcmdldCA9PSBldmVudC50YXJnZXQgKSB7CgkJCQkJdHJpZ2dlckN1c3RvbUV2ZW50KCB0aGlzT2JqZWN0LCAidGFwIiwgZXZlbnQgKTsKCQkJCX0KCQkJfQoKCQkJJHRoaXMuYmluZCggInZtb3VzZWNhbmNlbCIsIGNsZWFyVGFwSGFuZGxlcnMgKQoJCQkJLmJpbmQoICJ2bW91c2V1cCIsIGNsZWFyVGFwVGltZXIgKQoJCQkJLmJpbmQoICJ2Y2xpY2siLCBjbGlja0hhbmRsZXIgKTsKCgkJCXRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsKCQkJCQl0cmlnZ2VyQ3VzdG9tRXZlbnQoIHRoaXNPYmplY3QsICJ0YXBob2xkIiwgJC5FdmVudCggInRhcGhvbGQiICkgKTsKCQkJfSwgNzUwICk7CgkJfSk7Cgl9Cn07CgovLyBhbHNvIGhhbmRsZXMgc3dpcGVsZWZ0LCBzd2lwZXJpZ2h0CiQuZXZlbnQuc3BlY2lhbC5zd2lwZSA9IHsKCXNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQ6IDEwLCAvLyBNb3JlIHRoYW4gdGhpcyBob3Jpem9udGFsIGRpc3BsYWNlbWVudCwgYW5kIHdlIHdpbGwgc3VwcHJlc3Mgc2Nyb2xsaW5nLgoJCglkdXJhdGlvblRocmVzaG9sZDogMTAwMCwgLy8gTW9yZSB0aW1lIHRoYW4gdGhpcywgYW5kIGl0IGlzbid0IGEgc3dpcGUuCgkKCWhvcml6b250YWxEaXN0YW5jZVRocmVzaG9sZDogMzAsICAvLyBTd2lwZSBob3Jpem9udGFsIGRpc3BsYWNlbWVudCBtdXN0IGJlIG1vcmUgdGhhbiB0aGlzLgoJCgl2ZXJ0aWNhbERpc3RhbmNlVGhyZXNob2xkOiA3NSwgIC8vIFN3aXBlIHZlcnRpY2FsIGRpc3BsYWNlbWVudCBtdXN0IGJlIGxlc3MgdGhhbiB0aGlzLgoKCXNldHVwOiBmdW5jdGlvbigpIHsKCQl2YXIgdGhpc09iamVjdCA9IHRoaXMsCgkJCSR0aGlzID0gJCggdGhpc09iamVjdCApOwoKCQkkdGhpcy5iaW5kKCB0b3VjaFN0YXJ0RXZlbnQsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyIGRhdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgPwoJCQkJCQkJCWV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlc1sgMCBdIDogZXZlbnQsCgkJCQlzdGFydCA9IHsKCQkJCQl0aW1lOiAoIG5ldyBEYXRlKCkgKS5nZXRUaW1lKCksCgkJCQkJY29vcmRzOiBbIGRhdGEucGFnZVgsIGRhdGEucGFnZVkgXSwKCQkJCQlvcmlnaW46ICQoIGV2ZW50LnRhcmdldCApCgkJCQl9LAoJCQkJc3RvcDsKCgkJCWZ1bmN0aW9uIG1vdmVIYW5kbGVyKCBldmVudCApIHsKCgkJCQlpZiAoICFzdGFydCApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJdmFyIGRhdGEgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMgPwoJCQkJCQlldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbIDAgXSA6IGV2ZW50OwoKCQkJCXN0b3AgPSB7CgkJCQkJdGltZTogKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpLAoJCQkJCWNvb3JkczogWyBkYXRhLnBhZ2VYLCBkYXRhLnBhZ2VZIF0KCQkJCX07CgoJCQkJLy8gcHJldmVudCBzY3JvbGxpbmcKCQkJCWlmICggTWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMCBdIC0gc3RvcC5jb29yZHNbIDAgXSApID4gJC5ldmVudC5zcGVjaWFsLnN3aXBlLnNjcm9sbFN1cHJlc3Npb25UaHJlc2hvbGQgKSB7CgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCX0KCQkJfQoKCQkJJHRoaXMuYmluZCggdG91Y2hNb3ZlRXZlbnQsIG1vdmVIYW5kbGVyICkKCQkJCS5vbmUoIHRvdWNoU3RvcEV2ZW50LCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQkJJHRoaXMudW5iaW5kKCB0b3VjaE1vdmVFdmVudCwgbW92ZUhhbmRsZXIgKTsKCgkJCQkJaWYgKCBzdGFydCAmJiBzdG9wICkgewoJCQkJCQlpZiAoIHN0b3AudGltZSAtIHN0YXJ0LnRpbWUgPCAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQgJiYKCQkJCQkJCQlNYXRoLmFicyggc3RhcnQuY29vcmRzWyAwIF0gLSBzdG9wLmNvb3Jkc1sgMCBdICkgPiAkLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkICYmCgkJCQkJCQkJTWF0aC5hYnMoIHN0YXJ0LmNvb3Jkc1sgMSBdIC0gc3RvcC5jb29yZHNbIDEgXSApIDwgJC5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQgKSB7CgoJCQkJCQkJc3RhcnQub3JpZ2luLnRyaWdnZXIoICJzd2lwZSIgKQoJCQkJCQkJCS50cmlnZ2VyKCBzdGFydC5jb29yZHNbMF0gPiBzdG9wLmNvb3Jkc1sgMCBdID8gInN3aXBlbGVmdCIgOiAic3dpcGVyaWdodCIgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlzdGFydCA9IHN0b3AgPSB1bmRlZmluZWQ7CgkJCQl9KTsKCQl9KTsKCX0KfTsKCihmdW5jdGlvbiggJCwgd2luZG93ICkgewoJLy8gIkNvd2JveSIgQmVuIEFsbWFuCgoJdmFyIHdpbiA9ICQoIHdpbmRvdyApLAoJCXNwZWNpYWxfZXZlbnQsCgkJZ2V0X29yaWVudGF0aW9uLAoJCWxhc3Rfb3JpZW50YXRpb247CgoJJC5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlID0gc3BlY2lhbF9ldmVudCA9IHsKCQlzZXR1cDogZnVuY3Rpb24oKSB7CgkJCS8vIElmIHRoZSBldmVudCBpcyBzdXBwb3J0ZWQgbmF0aXZlbHksIHJldHVybiBmYWxzZSBzbyB0aGF0IGpRdWVyeQoJCQkvLyB3aWxsIGJpbmQgdG8gdGhlIGV2ZW50IHVzaW5nIERPTSBtZXRob2RzLgoJCQlpZiAoICQuc3VwcG9ydC5vcmllbnRhdGlvbiApIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJLy8gR2V0IHRoZSBjdXJyZW50IG9yaWVudGF0aW9uIHRvIGF2b2lkIGluaXRpYWwgZG91YmxlLXRyaWdnZXJpbmcuCgkJCWxhc3Rfb3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTsKCgkJCS8vIEJlY2F1c2UgdGhlIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50IGRvZXNuJ3QgZXhpc3QsIHNpbXVsYXRlIHRoZQoJCQkvLyBldmVudCBieSB0ZXN0aW5nIHdpbmRvdyBkaW1lbnNpb25zIG9uIHJlc2l6ZS4KCQkJd2luLmJpbmQoICJ0aHJvdHRsZWRyZXNpemUiLCBoYW5kbGVyICk7CgkJfSwKCQl0ZWFyZG93bjogZnVuY3Rpb24oKXsKCQkJLy8gSWYgdGhlIGV2ZW50IGlzIG5vdCBzdXBwb3J0ZWQgbmF0aXZlbHksIHJldHVybiBmYWxzZSBzbyB0aGF0CgkJCS8vIGpRdWVyeSB3aWxsIHVuYmluZCB0aGUgZXZlbnQgdXNpbmcgRE9NIG1ldGhvZHMuCgkJCWlmICggJC5zdXBwb3J0Lm9yaWVudGF0aW9uICkgewoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9CgoJCQkvLyBCZWNhdXNlIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudCBkb2Vzbid0IGV4aXN0LCB1bmJpbmQgdGhlCgkJCS8vIHJlc2l6ZSBldmVudCBoYW5kbGVyLgoJCQl3aW4udW5iaW5kKCAidGhyb3R0bGVkcmVzaXplIiwgaGFuZGxlciApOwoJCX0sCgkJYWRkOiBmdW5jdGlvbiggaGFuZGxlT2JqICkgewoJCQkvLyBTYXZlIGEgcmVmZXJlbmNlIHRvIHRoZSBib3VuZCBldmVudCBoYW5kbGVyLgoJCQl2YXIgb2xkX2hhbmRsZXIgPSBoYW5kbGVPYmouaGFuZGxlcjsKCgkJCWhhbmRsZU9iai5oYW5kbGVyID0gZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJLy8gTW9kaWZ5IGV2ZW50IG9iamVjdCwgYWRkaW5nIHRoZSAub3JpZW50YXRpb24gcHJvcGVydHkuCgkJCQlldmVudC5vcmllbnRhdGlvbiA9IGdldF9vcmllbnRhdGlvbigpOwoKCQkJCS8vIENhbGwgdGhlIG9yaWdpbmFsbHktYm91bmQgZXZlbnQgaGFuZGxlciBhbmQgcmV0dXJuIGl0cyByZXN1bHQuCgkJCQlyZXR1cm4gb2xkX2hhbmRsZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApOwoJCQl9OwoJCX0KCX07CgoJLy8gSWYgdGhlIGV2ZW50IGlzIG5vdCBzdXBwb3J0ZWQgbmF0aXZlbHksIHRoaXMgaGFuZGxlciB3aWxsIGJlIGJvdW5kIHRvCgkvLyB0aGUgd2luZG93IHJlc2l6ZSBldmVudCB0byBzaW11bGF0ZSB0aGUgb3JpZW50YXRpb25jaGFuZ2UgZXZlbnQuCglmdW5jdGlvbiBoYW5kbGVyKCkgewoJCS8vIEdldCB0aGUgY3VycmVudCBvcmllbnRhdGlvbi4KCQl2YXIgb3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24oKTsKCgkJaWYgKCBvcmllbnRhdGlvbiAhPT0gbGFzdF9vcmllbnRhdGlvbiApIHsKCQkJLy8gVGhlIG9yaWVudGF0aW9uIGhhcyBjaGFuZ2VkLCBzbyB0cmlnZ2VyIHRoZSBvcmllbnRhdGlvbmNoYW5nZSBldmVudC4KCQkJbGFzdF9vcmllbnRhdGlvbiA9IG9yaWVudGF0aW9uOwoJCQl3aW4udHJpZ2dlciggIm9yaWVudGF0aW9uY2hhbmdlIiApOwoJCX0KCX07CgoJLy8gR2V0IHRoZSBjdXJyZW50IHBhZ2Ugb3JpZW50YXRpb24uIFRoaXMgbWV0aG9kIGlzIGV4cG9zZWQgcHVibGljbHksIHNob3VsZCBpdAoJLy8gYmUgbmVlZGVkLCBhcyBqUXVlcnkuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbigpCgkkLmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24gPSBnZXRfb3JpZW50YXRpb24gPSBmdW5jdGlvbigpIHsKCQl2YXIgZWxlbSA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKCQlyZXR1cm4gZWxlbSAmJiBlbGVtLmNsaWVudFdpZHRoIC8gZWxlbS5jbGllbnRIZWlnaHQgPCAxLjEgPyAicG9ydHJhaXQiIDogImxhbmRzY2FwZSI7Cgl9OwoKfSkoIGpRdWVyeSwgd2luZG93ICk7CgoKLy8gdGhyb3R0bGVkIHJlc2l6ZSBldmVudAooZnVuY3Rpb24oKSB7CgoJJC5ldmVudC5zcGVjaWFsLnRocm90dGxlZHJlc2l6ZSA9IHsKCQlzZXR1cDogZnVuY3Rpb24oKSB7CgkJCSQoIHRoaXMgKS5iaW5kKCAicmVzaXplIiwgaGFuZGxlciApOwoJCX0sCgkJdGVhcmRvd246IGZ1bmN0aW9uKCl7CgkJCSQoIHRoaXMgKS51bmJpbmQoICJyZXNpemUiLCBoYW5kbGVyICk7CgkJfQoJfTsKCgl2YXIgdGhyb3R0bGUgPSAyNTAsCgkJaGFuZGxlciA9IGZ1bmN0aW9uKCkgewoJCQljdXJyID0gKCBuZXcgRGF0ZSgpICkuZ2V0VGltZSgpOwoJCQlkaWZmID0gY3VyciAtIGxhc3RDYWxsOwoKCQkJaWYgKCBkaWZmID49IHRocm90dGxlICkgewoKCQkJCWxhc3RDYWxsID0gY3VycjsKCQkJCSQoIHRoaXMgKS50cmlnZ2VyKCAidGhyb3R0bGVkcmVzaXplIiApOwoKCQkJfSBlbHNlIHsKCgkJCQlpZiAoIGhlbGRDYWxsICkgewoJCQkJCWNsZWFyVGltZW91dCggaGVsZENhbGwgKTsKCQkJCX0KCgkJCQkvLyBQcm9taXNlIGEgaGVsZCBjYWxsIHdpbGwgc3RpbGwgZXhlY3V0ZQoJCQkJaGVsZENhbGwgPSBzZXRUaW1lb3V0KCBoYW5kbGVyLCB0aHJvdHRsZSAtIGRpZmYgKTsKCQkJfQoJCX0sCgkJbGFzdENhbGwgPSAwLAoJCWhlbGRDYWxsLAoJCWN1cnIsCgkJZGlmZjsKfSkoKTsKCgokLmVhY2goewoJc2Nyb2xsc3RvcDogInNjcm9sbHN0YXJ0IiwKCXRhcGhvbGQ6ICJ0YXAiLAoJc3dpcGVsZWZ0OiAic3dpcGUiLAoJc3dpcGVyaWdodDogInN3aXBlIgp9LCBmdW5jdGlvbiggZXZlbnQsIHNvdXJjZUV2ZW50ICkgewoKCSQuZXZlbnQuc3BlY2lhbFsgZXZlbnQgXSA9IHsKCQlzZXR1cDogZnVuY3Rpb24oKSB7CgkJCSQoIHRoaXMgKS5iaW5kKCBzb3VyY2VFdmVudCwgJC5ub29wICk7CgkJfQoJfTsKfSk7Cgp9KSggalF1ZXJ5LCB0aGlzICk7Ci8qIQogKiBqUXVlcnkgaGFzaGNoYW5nZSBldmVudCAtIHYxLjMgLSA3LzIxLzIwMTAKICogaHR0cDovL2JlbmFsbWFuLmNvbS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS1wbHVnaW4vCiAqIAogKiBDb3B5cmlnaHQgKGMpIDIwMTAgIkNvd2JveSIgQmVuIEFsbWFuCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzLgogKiBodHRwOi8vYmVuYWxtYW4uY29tL2Fib3V0L2xpY2Vuc2UvCiAqLwoKLy8gU2NyaXB0OiBqUXVlcnkgaGFzaGNoYW5nZSBldmVudAovLwovLyAqVmVyc2lvbjogMS4zLCBMYXN0IHVwZGF0ZWQ6IDcvMjEvMjAxMCoKLy8gCi8vIFByb2plY3QgSG9tZSAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UtcGx1Z2luLwovLyBHaXRIdWIgICAgICAgLSBodHRwOi8vZ2l0aHViLmNvbS9jb3dib3kvanF1ZXJ5LWhhc2hjaGFuZ2UvCi8vIFNvdXJjZSAgICAgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktaGFzaGNoYW5nZS9yYXcvbWFzdGVyL2pxdWVyeS5iYS1oYXNoY2hhbmdlLmpzCi8vIChNaW5pZmllZCkgICAtIGh0dHA6Ly9naXRodWIuY29tL2Nvd2JveS9qcXVlcnktaGFzaGNoYW5nZS9yYXcvbWFzdGVyL2pxdWVyeS5iYS1oYXNoY2hhbmdlLm1pbi5qcyAoMC44a2IgZ3ppcHBlZCkKLy8gCi8vIEFib3V0OiBMaWNlbnNlCi8vIAovLyBDb3B5cmlnaHQgKGMpIDIwMTAgIkNvd2JveSIgQmVuIEFsbWFuLAovLyBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlcy4KLy8gaHR0cDovL2JlbmFsbWFuLmNvbS9hYm91dC9saWNlbnNlLwovLyAKLy8gQWJvdXQ6IEV4YW1wbGVzCi8vIAovLyBUaGVzZSB3b3JraW5nIGV4YW1wbGVzLCBjb21wbGV0ZSB3aXRoIGZ1bGx5IGNvbW1lbnRlZCBjb2RlLCBpbGx1c3RyYXRlIGEgZmV3Ci8vIHdheXMgaW4gd2hpY2ggdGhpcyBwbHVnaW4gY2FuIGJlIHVzZWQuCi8vIAovLyBoYXNoY2hhbmdlIGV2ZW50IC0gaHR0cDovL2JlbmFsbWFuLmNvbS9jb2RlL3Byb2plY3RzL2pxdWVyeS1oYXNoY2hhbmdlL2V4YW1wbGVzL2hhc2hjaGFuZ2UvCi8vIGRvY3VtZW50LmRvbWFpbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9kb2N1bWVudF9kb21haW4vCi8vIAovLyBBYm91dDogU3VwcG9ydCBhbmQgVGVzdGluZwovLyAKLy8gSW5mb3JtYXRpb24gYWJvdXQgd2hhdCB2ZXJzaW9uIG9yIHZlcnNpb25zIG9mIGpRdWVyeSB0aGlzIHBsdWdpbiBoYXMgYmVlbgovLyB0ZXN0ZWQgd2l0aCwgd2hhdCBicm93c2VycyBpdCBoYXMgYmVlbiB0ZXN0ZWQgaW4sIGFuZCB3aGVyZSB0aGUgdW5pdCB0ZXN0cwovLyByZXNpZGUgKHNvIHlvdSBjYW4gdGVzdCBpdCB5b3Vyc2VsZikuCi8vIAovLyBqUXVlcnkgVmVyc2lvbnMgLSAxLjIuNiwgMS4zLjIsIDEuNC4xLCAxLjQuMgovLyBCcm93c2VycyBUZXN0ZWQgLSBJbnRlcm5ldCBFeHBsb3JlciA2LTgsIEZpcmVmb3ggMi00LCBDaHJvbWUgNS02LCBTYWZhcmkgMy4yLTUsCi8vICAgICAgICAgICAgICAgICAgIE9wZXJhIDkuNi0xMC42MCwgaVBob25lIDMuMSwgQW5kcm9pZCAxLjYtMi4yLCBCbGFja0JlcnJ5IDQuNi01LgovLyBVbml0IFRlc3RzICAgICAgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvdW5pdC8KLy8gCi8vIEFib3V0OiBLbm93biBpc3N1ZXMKLy8gCi8vIFdoaWxlIHRoaXMgalF1ZXJ5IGhhc2hjaGFuZ2UgZXZlbnQgaW1wbGVtZW50YXRpb24gaXMgcXVpdGUgc3RhYmxlIGFuZAovLyByb2J1c3QsIHRoZXJlIGFyZSBhIGZldyB1bmZvcnR1bmF0ZSBicm93c2VyIGJ1Z3Mgc3Vycm91bmRpbmcgZXhwZWN0ZWQKLy8gaGFzaGNoYW5nZSBldmVudC1iYXNlZCBiZWhhdmlvcnMsIGluZGVwZW5kZW50IG9mIGFueSBKYXZhU2NyaXB0Ci8vIHdpbmRvdy5vbmhhc2hjaGFuZ2UgYWJzdHJhY3Rpb24uIFNlZSB0aGUgZm9sbG93aW5nIGV4YW1wbGVzIGZvciBtb3JlCi8vIGluZm9ybWF0aW9uOgovLyAKLy8gQ2hyb21lOiBCYWNrIEJ1dHRvbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctY2hyb21lLWJhY2stYnV0dG9uLwovLyBGaXJlZm94OiBSZW1vdGUgWE1MSHR0cFJlcXVlc3QgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLWZpcmVmb3gtcmVtb3RlLXhoci8KLy8gV2ViS2l0OiBCYWNrIEJ1dHRvbiBpbiBhbiBJZnJhbWUgLSBodHRwOi8vYmVuYWxtYW4uY29tL2NvZGUvcHJvamVjdHMvanF1ZXJ5LWhhc2hjaGFuZ2UvZXhhbXBsZXMvYnVnLXdlYmtpdC1oYXNoLWlmcmFtZS8KLy8gU2FmYXJpOiBCYWNrIEJ1dHRvbiBmcm9tIGEgZGlmZmVyZW50IGRvbWFpbiAtIGh0dHA6Ly9iZW5hbG1hbi5jb20vY29kZS9wcm9qZWN0cy9qcXVlcnktaGFzaGNoYW5nZS9leGFtcGxlcy9idWctc2FmYXJpLWJhY2stZnJvbS1kaWZmLWRvbWFpbi8KLy8gCi8vIEFsc28gbm90ZSB0aGF0IHNob3VsZCBhIGJyb3dzZXIgbmF0aXZlbHkgc3VwcG9ydCB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSAKLy8gZXZlbnQsIGJ1dCBub3QgcmVwb3J0IHRoYXQgaXQgZG9lcywgdGhlIGZhbGxiYWNrIHBvbGxpbmcgbG9vcCB3aWxsIGJlIHVzZWQuCi8vIAovLyBBYm91dDogUmVsZWFzZSBIaXN0b3J5Ci8vIAovLyAxLjMgICAtICg3LzIxLzIwMTApIFJlb3JnYW5pemVkIElFNi83IElmcmFtZSBjb2RlIHRvIG1ha2UgaXQgbW9yZQovLyAgICAgICAgICJyZW1vdmFibGUiIGZvciBtb2JpbGUtb25seSBkZXZlbG9wbWVudC4gQWRkZWQgSUU2LzcgZG9jdW1lbnQudGl0bGUKLy8gICAgICAgICBzdXBwb3J0LiBBdHRlbXB0ZWQgdG8gbWFrZSBJZnJhbWUgYXMgaGlkZGVuIGFzIHBvc3NpYmxlIGJ5IHVzaW5nCi8vICAgICAgICAgdGVjaG5pcXVlcyBmcm9tIGh0dHA6Ly93d3cucGFjaWVsbG9ncm91cC5jb20vYmxvZy8/cD02MDQuIEFkZGVkIAovLyAgICAgICAgIHN1cHBvcnQgZm9yIHRoZSAic2hvcnRjdXQiIGZvcm1hdCAkKHdpbmRvdykuaGFzaGNoYW5nZSggZm4gKSBhbmQKLy8gICAgICAgICAkKHdpbmRvdykuaGFzaGNoYW5nZSgpIGxpa2UgalF1ZXJ5IHByb3ZpZGVzIGZvciBidWlsdC1pbiBldmVudHMuCi8vICAgICAgICAgUmVuYW1lZCBqUXVlcnkuaGFzaGNoYW5nZURlbGF5IHRvIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kZWxheT4gYW5kCi8vICAgICAgICAgbG93ZXJlZCBpdHMgZGVmYXVsdCB2YWx1ZSB0byA1MC4gQWRkZWQgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbj4KLy8gICAgICAgICBhbmQgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYz4gcHJvcGVydGllcyBwbHVzIGRvY3VtZW50LWRvbWFpbi5odG1sCi8vICAgICAgICAgZmlsZSB0byBhZGRyZXNzIGFjY2VzcyBkZW5pZWQgaXNzdWVzIHdoZW4gc2V0dGluZyBkb2N1bWVudC5kb21haW4gaW4KLy8gICAgICAgICBJRTYvNy4KLy8gMS4yICAgLSAoMi8xMS8yMDEwKSBGaXhlZCBhIGJ1ZyB3aGVyZSBjb21pbmcgYmFjayB0byBhIHBhZ2UgdXNpbmcgdGhpcyBwbHVnaW4KLy8gICAgICAgICBmcm9tIGEgcGFnZSBvbiBhbm90aGVyIGRvbWFpbiB3b3VsZCBjYXVzZSBhbiBlcnJvciBpbiBTYWZhcmkgNC4gQWxzbywKLy8gICAgICAgICBJRTYvNyBJZnJhbWUgaXMgbm93IGluc2VydGVkIGFmdGVyIHRoZSBib2R5ICh0aGlzIGFjdHVhbGx5IHdvcmtzKSwKLy8gICAgICAgICB3aGljaCBwcmV2ZW50cyB0aGUgcGFnZSBmcm9tIHNjcm9sbGluZyB3aGVuIHRoZSBldmVudCBpcyBmaXJzdCBib3VuZC4KLy8gICAgICAgICBFdmVudCBjYW4gYWxzbyBub3cgYmUgYm91bmQgYmVmb3JlIERPTSByZWFkeSwgYnV0IGl0IHdvbid0IGJlIHVzYWJsZQovLyAgICAgICAgIGJlZm9yZSB0aGVuIGluIElFNi83LgovLyAxLjEgICAtICgxLzIxLzIwMTApIEluY29ycG9yYXRlZCBkb2N1bWVudC5kb2N1bWVudE1vZGUgdGVzdCB0byBmaXggSUU4IGJ1ZwovLyAgICAgICAgIHdoZXJlIGJyb3dzZXIgdmVyc2lvbiBpcyBpbmNvcnJlY3RseSByZXBvcnRlZCBhcyA4LjAsIGRlc3BpdGUKLy8gICAgICAgICBpbmNsdXNpb24gb2YgdGhlIFgtVUEtQ29tcGF0aWJsZSBJRT1FbXVsYXRlSUU3IG1ldGEgdGFnLgovLyAxLjAgICAtICgxLzkvMjAxMCkgSW5pdGlhbCBSZWxlYXNlLiBCcm9rZSBvdXQgdGhlIGpRdWVyeSBCQlEgZXZlbnQuc3BlY2lhbAovLyAgICAgICAgIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZnVuY3Rpb25hbGl0eSBpbnRvIGEgc2VwYXJhdGUgcGx1Z2luIGZvciB1c2VycwovLyAgICAgICAgIHdobyB3YW50IGp1c3QgdGhlIGJhc2ljIGV2ZW50ICYgYmFjayBidXR0b24gc3VwcG9ydCwgd2l0aG91dCBhbGwgdGhlCi8vICAgICAgICAgZXh0cmEgYXdlc29tZW5lc3MgdGhhdCBCQlEgcHJvdmlkZXMuIFRoaXMgcGx1Z2luIHdpbGwgYmUgaW5jbHVkZWQgYXMKLy8gICAgICAgICBwYXJ0IG9mIGpRdWVyeSBCQlEsIGJ1dCBhbHNvIGJlIGF2YWlsYWJsZSBzZXBhcmF0ZWx5LgoKKGZ1bmN0aW9uKCQsd2luZG93LHVuZGVmaW5lZCl7CiAgJyQ6bm9tdW5nZSc7IC8vIFVzZWQgYnkgWVVJIGNvbXByZXNzb3IuCiAgCiAgLy8gUmV1c2VkIHN0cmluZy4KICB2YXIgc3RyX2hhc2hjaGFuZ2UgPSAnaGFzaGNoYW5nZScsCiAgICAKICAgIC8vIE1ldGhvZCAvIG9iamVjdCByZWZlcmVuY2VzLgogICAgZG9jID0gZG9jdW1lbnQsCiAgICBmYWtlX29uaGFzaGNoYW5nZSwKICAgIHNwZWNpYWwgPSAkLmV2ZW50LnNwZWNpYWwsCiAgICAKICAgIC8vIERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCB3aW5kb3cub25oYXNoY2hhbmdlPyBOb3RlIHRoYXQgSUU4IHJ1bm5pbmcgaW4KICAgIC8vIElFNyBjb21wYXRpYmlsaXR5IG1vZGUgcmVwb3J0cyB0cnVlIGZvciAnb25oYXNoY2hhbmdlJyBpbiB3aW5kb3csIGV2ZW4KICAgIC8vIHRob3VnaCB0aGUgZXZlbnQgaXNuJ3Qgc3VwcG9ydGVkLCBzbyBhbHNvIHRlc3QgZG9jdW1lbnQuZG9jdW1lbnRNb2RlLgogICAgZG9jX21vZGUgPSBkb2MuZG9jdW1lbnRNb2RlLAogICAgc3VwcG9ydHNfb25oYXNoY2hhbmdlID0gJ29uJyArIHN0cl9oYXNoY2hhbmdlIGluIHdpbmRvdyAmJiAoIGRvY19tb2RlID09PSB1bmRlZmluZWQgfHwgZG9jX21vZGUgPiA3ICk7CiAgCiAgLy8gR2V0IGxvY2F0aW9uLmhhc2ggKG9yIHdoYXQgeW91J2QgZXhwZWN0IGxvY2F0aW9uLmhhc2ggdG8gYmUpIHNhbnMgYW55CiAgLy8gbGVhZGluZyAjLiBUaGFua3MgZm9yIG1ha2luZyB0aGlzIG5lY2Vzc2FyeSwgRmlyZWZveCEKICBmdW5jdGlvbiBnZXRfZnJhZ21lbnQoIHVybCApIHsKICAgIHVybCA9IHVybCB8fCBsb2NhdGlvbi5ocmVmOwogICAgcmV0dXJuICcjJyArIHVybC5yZXBsYWNlKCAvXlteI10qIz8oLiopJC8sICckMScgKTsKICB9OwogIAogIC8vIE1ldGhvZDogalF1ZXJ5LmZuLmhhc2hjaGFuZ2UKICAvLyAKICAvLyBCaW5kIGEgaGFuZGxlciB0byB0aGUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBvciB0cmlnZ2VyIGFsbCBib3VuZAogIC8vIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgaGFuZGxlcnMuIFRoaXMgYmVoYXZpb3IgaXMgY29uc2lzdGVudCB3aXRoCiAgLy8galF1ZXJ5J3MgYnVpbHQtaW4gZXZlbnQgaGFuZGxlcnMuCiAgLy8gCiAgLy8gVXNhZ2U6CiAgLy8gCiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCBbIGhhbmRsZXIgXSApOwogIC8vIAogIC8vIEFyZ3VtZW50czoKICAvLyAKICAvLyAgaGFuZGxlciAtIChGdW5jdGlvbikgT3B0aW9uYWwgaGFuZGxlciB0byBiZSBib3VuZCB0byB0aGUgaGFzaGNoYW5nZQogIC8vICAgIGV2ZW50LiBUaGlzIGlzIGEgInNob3J0Y3V0IiBmb3IgdGhlIG1vcmUgdmVyYm9zZSBmb3JtOgogIC8vICAgIGpRdWVyeSh3aW5kb3cpLmJpbmQoICdoYXNoY2hhbmdlJywgaGFuZGxlciApLiBJZiBoYW5kbGVyIGlzIG9taXR0ZWQsCiAgLy8gICAgYWxsIGJvdW5kIHdpbmRvdy5vbmhhc2hjaGFuZ2UgZXZlbnQgaGFuZGxlcnMgd2lsbCBiZSB0cmlnZ2VyZWQuIFRoaXMKICAvLyAgICBpcyBhIHNob3J0Y3V0IGZvciB0aGUgbW9yZSB2ZXJib3NlCiAgLy8gICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICkuIFRoZXNlIGZvcm1zIGFyZSBkZXNjcmliZWQgaW4KICAvLyAgICB0aGUgPGhhc2hjaGFuZ2UgZXZlbnQ+IHNlY3Rpb24uCiAgLy8gCiAgLy8gUmV0dXJuczoKICAvLyAKICAvLyAgKGpRdWVyeSkgVGhlIGluaXRpYWwgalF1ZXJ5IGNvbGxlY3Rpb24gb2YgZWxlbWVudHMuCiAgCiAgLy8gQWxsb3cgdGhlICJzaG9ydGN1dCIgZm9ybWF0ICQoZWxlbSkuaGFzaGNoYW5nZSggZm4gKSBmb3IgYmluZGluZyBhbmQKICAvLyAkKGVsZW0pLmhhc2hjaGFuZ2UoKSBmb3IgdHJpZ2dlcmluZywgbGlrZSBqUXVlcnkgZG9lcyBmb3IgYnVpbHQtaW4gZXZlbnRzLgogICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0gPSBmdW5jdGlvbiggZm4gKSB7CiAgICByZXR1cm4gZm4gPyB0aGlzLmJpbmQoIHN0cl9oYXNoY2hhbmdlLCBmbiApIDogdGhpcy50cmlnZ2VyKCBzdHJfaGFzaGNoYW5nZSApOwogIH07CiAgCiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRlbGF5CiAgLy8gCiAgLy8gVGhlIG51bWVyaWMgaW50ZXJ2YWwgKGluIG1pbGxpc2Vjb25kcykgYXQgd2hpY2ggdGhlIDxoYXNoY2hhbmdlIGV2ZW50PgogIC8vIHBvbGxpbmcgbG9vcCBleGVjdXRlcy4gRGVmYXVsdHMgdG8gNTAuCiAgCiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLmRvbWFpbgogIC8vIAogIC8vIElmIHlvdSdyZSBzZXR0aW5nIGRvY3VtZW50LmRvbWFpbiBpbiB5b3VyIEphdmFTY3JpcHQsIGFuZCB5b3Ugd2FudCBoYXNoCiAgLy8gaGlzdG9yeSB0byB3b3JrIGluIElFNi83LCBub3Qgb25seSBtdXN0IHRoaXMgcHJvcGVydHkgYmUgc2V0LCBidXQgeW91IG11c3QKICAvLyBhbHNvIHNldCBkb2N1bWVudC5kb21haW4gQkVGT1JFIGpRdWVyeSBpcyBsb2FkZWQgaW50byB0aGUgcGFnZS4gVGhpcwogIC8vIHByb3BlcnR5IGlzIG9ubHkgYXBwbGljYWJsZSBpZiB5b3UgYXJlIHN1cHBvcnRpbmcgSUU2LzcgKG9yIElFOCBvcGVyYXRpbmcKICAvLyBpbiAiSUU3IGNvbXBhdGliaWxpdHkiIG1vZGUpLgogIC8vIAogIC8vIEluIGFkZGl0aW9uLCB0aGUgPGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYz4gcHJvcGVydHkgbXVzdCBiZSBzZXQgdG8gdGhlCiAgLy8gcGF0aCBvZiB0aGUgaW5jbHVkZWQgImRvY3VtZW50LWRvbWFpbi5odG1sIiBmaWxlLCB3aGljaCBjYW4gYmUgcmVuYW1lZCBvcgogIC8vIG1vZGlmaWVkIGlmIG5lY2Vzc2FyeSAobm90ZSB0aGF0IHRoZSBkb2N1bWVudC5kb21haW4gc3BlY2lmaWVkIG11c3QgYmUgdGhlCiAgLy8gc2FtZSBpbiBib3RoIHlvdXIgbWFpbiBKYXZhU2NyaXB0IGFzIHdlbGwgYXMgaW4gdGhpcyBmaWxlKS4KICAvLyAKICAvLyBVc2FnZToKICAvLyAKICAvLyBqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4gPSBkb2N1bWVudC5kb21haW47CiAgCiAgLy8gUHJvcGVydHk6IGpRdWVyeS5mbi5oYXNoY2hhbmdlLnNyYwogIC8vIAogIC8vIElmLCBmb3Igc29tZSByZWFzb24sIHlvdSBuZWVkIHRvIHNwZWNpZnkgYW4gSWZyYW1lIHNyYyBmaWxlIChmb3IgZXhhbXBsZSwKICAvLyB3aGVuIHNldHRpbmcgZG9jdW1lbnQuZG9tYWluIGFzIGluIDxqUXVlcnkuZm4uaGFzaGNoYW5nZS5kb21haW4+KSwgeW91IGNhbgogIC8vIGRvIHNvIHVzaW5nIHRoaXMgcHJvcGVydHkuIE5vdGUgdGhhdCB3aGVuIHVzaW5nIHRoaXMgcHJvcGVydHksIGhpc3RvcnkKICAvLyB3b24ndCBiZSByZWNvcmRlZCBpbiBJRTYvNyB1bnRpbCB0aGUgSWZyYW1lIHNyYyBmaWxlIGxvYWRzLiBUaGlzIHByb3BlcnR5CiAgLy8gaXMgb25seSBhcHBsaWNhYmxlIGlmIHlvdSBhcmUgc3VwcG9ydGluZyBJRTYvNyAob3IgSUU4IG9wZXJhdGluZyBpbiAiSUU3CiAgLy8gY29tcGF0aWJpbGl0eSIgbW9kZSkuCiAgLy8gCiAgLy8gVXNhZ2U6CiAgLy8gCiAgLy8galF1ZXJ5LmZuLmhhc2hjaGFuZ2Uuc3JjID0gJ3BhdGgvdG8vZmlsZS5odG1sJzsKICAKICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRlbGF5ID0gNTA7CiAgLyoKICAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRvbWFpbiA9IG51bGw7CiAgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5zcmMgPSBudWxsOwogICovCiAgCiAgLy8gRXZlbnQ6IGhhc2hjaGFuZ2UgZXZlbnQKICAvLyAKICAvLyBGaXJlZCB3aGVuIGxvY2F0aW9uLmhhc2ggY2hhbmdlcy4gSW4gYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGl0LCB0aGUgbmF0aXZlCiAgLy8gSFRNTDUgd2luZG93Lm9uaGFzaGNoYW5nZSBldmVudCBpcyB1c2VkLCBvdGhlcndpc2UgYSBwb2xsaW5nIGxvb3AgaXMKICAvLyBpbml0aWFsaXplZCwgcnVubmluZyBldmVyeSA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2UuZGVsYXk+IG1pbGxpc2Vjb25kcyB0bwogIC8vIHNlZSBpZiB0aGUgaGFzaCBoYXMgY2hhbmdlZC4gSW4gSUU2LzcgKGFuZCBJRTggb3BlcmF0aW5nIGluICJJRTcKICAvLyBjb21wYXRpYmlsaXR5IiBtb2RlKSwgYSBoaWRkZW4gSWZyYW1lIGlzIGNyZWF0ZWQgdG8gYWxsb3cgdGhlIGJhY2sgYnV0dG9uCiAgLy8gYW5kIGhhc2gtYmFzZWQgaGlzdG9yeSB0byB3b3JrLgogIC8vIAogIC8vIFVzYWdlIGFzIGRlc2NyaWJlZCBpbiA8alF1ZXJ5LmZuLmhhc2hjaGFuZ2U+OgogIC8vIAogIC8vID4gLy8gQmluZCBhbiBldmVudCBoYW5kbGVyLgogIC8vID4galF1ZXJ5KHdpbmRvdykuaGFzaGNoYW5nZSggZnVuY3Rpb24oZSkgewogIC8vID4gICB2YXIgaGFzaCA9IGxvY2F0aW9uLmhhc2g7CiAgLy8gPiAgIC4uLgogIC8vID4gfSk7CiAgLy8gPiAKICAvLyA+IC8vIE1hbnVhbGx5IHRyaWdnZXIgdGhlIGV2ZW50IGhhbmRsZXIuCiAgLy8gPiBqUXVlcnkod2luZG93KS5oYXNoY2hhbmdlKCk7CiAgLy8gCiAgLy8gQSBtb3JlIHZlcmJvc2UgdXNhZ2UgdGhhdCBhbGxvd3MgZm9yIGV2ZW50IG5hbWVzcGFjaW5nOgogIC8vIAogIC8vID4gLy8gQmluZCBhbiBldmVudCBoYW5kbGVyLgogIC8vID4galF1ZXJ5KHdpbmRvdykuYmluZCggJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbihlKSB7CiAgLy8gPiAgIHZhciBoYXNoID0gbG9jYXRpb24uaGFzaDsKICAvLyA+ICAgLi4uCiAgLy8gPiB9KTsKICAvLyA+IAogIC8vID4gLy8gTWFudWFsbHkgdHJpZ2dlciB0aGUgZXZlbnQgaGFuZGxlci4KICAvLyA+IGpRdWVyeSh3aW5kb3cpLnRyaWdnZXIoICdoYXNoY2hhbmdlJyApOwogIC8vIAogIC8vIEFkZGl0aW9uYWwgTm90ZXM6CiAgLy8gCiAgLy8gKiBUaGUgcG9sbGluZyBsb29wIGFuZCBJZnJhbWUgYXJlIG5vdCBjcmVhdGVkIHVudGlsIGF0IGxlYXN0IG9uZSBoYW5kbGVyCiAgLy8gICBpcyBhY3R1YWxseSBib3VuZCB0byB0aGUgJ2hhc2hjaGFuZ2UnIGV2ZW50LgogIC8vICogSWYgeW91IG5lZWQgdGhlIGJvdW5kIGhhbmRsZXIocykgdG8gZXhlY3V0ZSBpbW1lZGlhdGVseSwgaW4gY2FzZXMgd2hlcmUKICAvLyAgIGEgbG9jYXRpb24uaGFzaCBleGlzdHMgb24gcGFnZSBsb2FkLCB2aWEgYm9va21hcmsgb3IgcGFnZSByZWZyZXNoIGZvcgogIC8vICAgZXhhbXBsZSwgdXNlIGpRdWVyeSh3aW5kb3cpLmhhc2hjaGFuZ2UoKSBvciB0aGUgbW9yZSB2ZXJib3NlIAogIC8vICAgalF1ZXJ5KHdpbmRvdykudHJpZ2dlciggJ2hhc2hjaGFuZ2UnICkuCiAgLy8gKiBUaGUgZXZlbnQgY2FuIGJlIGJvdW5kIGJlZm9yZSBET00gcmVhZHksIGJ1dCBzaW5jZSBpdCB3b24ndCBiZSB1c2FibGUKICAvLyAgIGJlZm9yZSB0aGVuIGluIElFNi83IChkdWUgdG8gdGhlIG5lY2Vzc2FyeSBJZnJhbWUpLCByZWNvbW1lbmRlZCB1c2FnZSBpcwogIC8vICAgdG8gYmluZCBpdCBpbnNpZGUgYSBET00gcmVhZHkgaGFuZGxlci4KICAKICAvLyBPdmVycmlkZSBleGlzdGluZyAkLmV2ZW50LnNwZWNpYWwuaGFzaGNoYW5nZSBtZXRob2RzIChhbGxvd2luZyB0aGlzIHBsdWdpbgogIC8vIHRvIGJlIGRlZmluZWQgYWZ0ZXIgalF1ZXJ5IEJCUSBpbiBCQlEncyBzb3VyY2UgY29kZSkuCiAgc3BlY2lhbFsgc3RyX2hhc2hjaGFuZ2UgXSA9ICQuZXh0ZW5kKCBzcGVjaWFsWyBzdHJfaGFzaGNoYW5nZSBdLCB7CiAgICAKICAgIC8vIENhbGxlZCBvbmx5IHdoZW4gdGhlIGZpcnN0ICdoYXNoY2hhbmdlJyBldmVudCBpcyBib3VuZCB0byB3aW5kb3cuCiAgICBzZXR1cDogZnVuY3Rpb24oKSB7CiAgICAgIC8vIElmIHdpbmRvdy5vbmhhc2hjaGFuZ2UgaXMgc3VwcG9ydGVkIG5hdGl2ZWx5LCB0aGVyZSdzIG5vdGhpbmcgdG8gZG8uLgogICAgICBpZiAoIHN1cHBvcnRzX29uaGFzaGNoYW5nZSApIHsgcmV0dXJuIGZhbHNlOyB9CiAgICAgIAogICAgICAvLyBPdGhlcndpc2UsIHdlIG5lZWQgdG8gY3JlYXRlIG91ciBvd24uIEFuZCB3ZSBkb24ndCB3YW50IHRvIGNhbGwgdGhpcwogICAgICAvLyB1bnRpbCB0aGUgdXNlciBiaW5kcyB0byB0aGUgZXZlbnQsIGp1c3QgaW4gY2FzZSB0aGV5IG5ldmVyIGRvLCBzaW5jZSBpdAogICAgICAvLyB3aWxsIGNyZWF0ZSBhIHBvbGxpbmcgbG9vcCBhbmQgcG9zc2libHkgZXZlbiBhIGhpZGRlbiBJZnJhbWUuCiAgICAgICQoIGZha2Vfb25oYXNoY2hhbmdlLnN0YXJ0ICk7CiAgICB9LAogICAgCiAgICAvLyBDYWxsZWQgb25seSB3aGVuIHRoZSBsYXN0ICdoYXNoY2hhbmdlJyBldmVudCBpcyB1bmJvdW5kIGZyb20gd2luZG93LgogICAgdGVhcmRvd246IGZ1bmN0aW9uKCkgewogICAgICAvLyBJZiB3aW5kb3cub25oYXNoY2hhbmdlIGlzIHN1cHBvcnRlZCBuYXRpdmVseSwgdGhlcmUncyBub3RoaW5nIHRvIGRvLi4KICAgICAgaWYgKCBzdXBwb3J0c19vbmhhc2hjaGFuZ2UgKSB7IHJldHVybiBmYWxzZTsgfQogICAgICAKICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSBuZWVkIHRvIHN0b3Agb3VycyAoaWYgcG9zc2libGUpLgogICAgICAkKCBmYWtlX29uaGFzaGNoYW5nZS5zdG9wICk7CiAgICB9CiAgICAKICB9KTsKICAKICAvLyBmYWtlX29uaGFzaGNoYW5nZSBkb2VzIGFsbCB0aGUgd29yayBvZiB0cmlnZ2VyaW5nIHRoZSB3aW5kb3cub25oYXNoY2hhbmdlCiAgLy8gZXZlbnQgZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3QgbmF0aXZlbHkgc3VwcG9ydCBpdCwgaW5jbHVkaW5nIGNyZWF0aW5nIGEKICAvLyBwb2xsaW5nIGxvb3AgdG8gd2F0Y2ggZm9yIGhhc2ggY2hhbmdlcyBhbmQgaW4gSUUgNi83IGNyZWF0aW5nIGEgaGlkZGVuCiAgLy8gSWZyYW1lIHRvIGVuYWJsZSBiYWNrIGFuZCBmb3J3YXJkLgogIGZha2Vfb25oYXNoY2hhbmdlID0gKGZ1bmN0aW9uKCl7CiAgICB2YXIgc2VsZiA9IHt9LAogICAgICB0aW1lb3V0X2lkLAogICAgICAKICAgICAgLy8gUmVtZW1iZXIgdGhlIGluaXRpYWwgaGFzaCBzbyBpdCBkb2Vzbid0IGdldCB0cmlnZ2VyZWQgaW1tZWRpYXRlbHkuCiAgICAgIGxhc3RfaGFzaCA9IGdldF9mcmFnbWVudCgpLAogICAgICAKICAgICAgZm5fcmV0dmFsID0gZnVuY3Rpb24odmFsKXsgcmV0dXJuIHZhbDsgfSwKICAgICAgaGlzdG9yeV9zZXQgPSBmbl9yZXR2YWwsCiAgICAgIGhpc3RvcnlfZ2V0ID0gZm5fcmV0dmFsOwogICAgCiAgICAvLyBTdGFydCB0aGUgcG9sbGluZyBsb29wLgogICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uKCkgewogICAgICB0aW1lb3V0X2lkIHx8IHBvbGwoKTsKICAgIH07CiAgICAKICAgIC8vIFN0b3AgdGhlIHBvbGxpbmcgbG9vcC4KICAgIHNlbGYuc3RvcCA9IGZ1bmN0aW9uKCkgewogICAgICB0aW1lb3V0X2lkICYmIGNsZWFyVGltZW91dCggdGltZW91dF9pZCApOwogICAgICB0aW1lb3V0X2lkID0gdW5kZWZpbmVkOwogICAgfTsKICAgIAogICAgLy8gVGhpcyBwb2xsaW5nIGxvb3AgY2hlY2tzIGV2ZXJ5ICQuZm4uaGFzaGNoYW5nZS5kZWxheSBtaWxsaXNlY29uZHMgdG8gc2VlCiAgICAvLyBpZiBsb2NhdGlvbi5oYXNoIGhhcyBjaGFuZ2VkLCBhbmQgdHJpZ2dlcnMgdGhlICdoYXNoY2hhbmdlJyBldmVudCBvbgogICAgLy8gd2luZG93IHdoZW4gbmVjZXNzYXJ5LgogICAgZnVuY3Rpb24gcG9sbCgpIHsKICAgICAgdmFyIGhhc2ggPSBnZXRfZnJhZ21lbnQoKSwKICAgICAgICBoaXN0b3J5X2hhc2ggPSBoaXN0b3J5X2dldCggbGFzdF9oYXNoICk7CiAgICAgIAogICAgICBpZiAoIGhhc2ggIT09IGxhc3RfaGFzaCApIHsKICAgICAgICBoaXN0b3J5X3NldCggbGFzdF9oYXNoID0gaGFzaCwgaGlzdG9yeV9oYXNoICk7CiAgICAgICAgCiAgICAgICAgJCh3aW5kb3cpLnRyaWdnZXIoIHN0cl9oYXNoY2hhbmdlICk7CiAgICAgICAgCiAgICAgIH0gZWxzZSBpZiAoIGhpc3RvcnlfaGFzaCAhPT0gbGFzdF9oYXNoICkgewogICAgICAgIGxvY2F0aW9uLmhyZWYgPSBsb2NhdGlvbi5ocmVmLnJlcGxhY2UoIC8jLiovLCAnJyApICsgaGlzdG9yeV9oYXNoOwogICAgICB9CiAgICAgIAogICAgICB0aW1lb3V0X2lkID0gc2V0VGltZW91dCggcG9sbCwgJC5mblsgc3RyX2hhc2hjaGFuZ2UgXS5kZWxheSApOwogICAgfTsKICAgIAogICAgLy8gdnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2CiAgICAvLyB2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2IFJFTU9WRSBJRiBOT1QgU1VQUE9SVElORyBJRTYvNy84IHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnYKICAgIC8vIHZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dnZ2dgogICAgJC5icm93c2VyLm1zaWUgJiYgIXN1cHBvcnRzX29uaGFzaGNoYW5nZSAmJiAoZnVuY3Rpb24oKXsKICAgICAgLy8gTm90IG9ubHkgZG8gSUU2LzcgbmVlZCB0aGUgIm1hZ2ljYWwiIElmcmFtZSB0cmVhdG1lbnQsIGJ1dCBzbyBkb2VzIElFOAogICAgICAvLyB3aGVuIHJ1bm5pbmcgaW4gIklFNyBjb21wYXRpYmlsaXR5IiBtb2RlLgogICAgICAKICAgICAgdmFyIGlmcmFtZSwKICAgICAgICBpZnJhbWVfc3JjOwogICAgICAKICAgICAgLy8gV2hlbiB0aGUgZXZlbnQgaXMgYm91bmQgYW5kIHBvbGxpbmcgc3RhcnRzIGluIElFIDYvNywgY3JlYXRlIGEgaGlkZGVuCiAgICAgIC8vIElmcmFtZSBmb3IgaGlzdG9yeSBoYW5kbGluZy4KICAgICAgc2VsZi5zdGFydCA9IGZ1bmN0aW9uKCl7CiAgICAgICAgaWYgKCAhaWZyYW1lICkgewogICAgICAgICAgaWZyYW1lX3NyYyA9ICQuZm5bIHN0cl9oYXNoY2hhbmdlIF0uc3JjOwogICAgICAgICAgaWZyYW1lX3NyYyA9IGlmcmFtZV9zcmMgJiYgaWZyYW1lX3NyYyArIGdldF9mcmFnbWVudCgpOwogICAgICAgICAgCiAgICAgICAgICAvLyBDcmVhdGUgaGlkZGVuIElmcmFtZS4gQXR0ZW1wdCB0byBtYWtlIElmcmFtZSBhcyBoaWRkZW4gYXMgcG9zc2libGUKICAgICAgICAgIC8vIGJ5IHVzaW5nIHRlY2huaXF1ZXMgZnJvbSBodHRwOi8vd3d3LnBhY2llbGxvZ3JvdXAuY29tL2Jsb2cvP3A9NjA0LgogICAgICAgICAgaWZyYW1lID0gJCgnPGlmcmFtZSB0YWJpbmRleD0iLTEiIHRpdGxlPSJlbXB0eSIvPicpLmhpZGUoKQogICAgICAgICAgICAKICAgICAgICAgICAgLy8gV2hlbiBJZnJhbWUgaGFzIGNvbXBsZXRlbHkgbG9hZGVkLCBpbml0aWFsaXplIHRoZSBoaXN0b3J5IGFuZAogICAgICAgICAgICAvLyBzdGFydCBwb2xsaW5nLgogICAgICAgICAgICAub25lKCAnbG9hZCcsIGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgaWZyYW1lX3NyYyB8fCBoaXN0b3J5X3NldCggZ2V0X2ZyYWdtZW50KCkgKTsKICAgICAgICAgICAgICBwb2xsKCk7CiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIAogICAgICAgICAgICAvLyBMb2FkIElmcmFtZSBzcmMgaWYgc3BlY2lmaWVkLCBvdGhlcndpc2Ugbm90aGluZy4KICAgICAgICAgICAgLmF0dHIoICdzcmMnLCBpZnJhbWVfc3JjIHx8ICdqYXZhc2NyaXB0OjAnICkKICAgICAgICAgICAgCiAgICAgICAgICAgIC8vIEFwcGVuZCBJZnJhbWUgYWZ0ZXIgdGhlIGVuZCBvZiB0aGUgYm9keSB0byBwcmV2ZW50IHVubmVjZXNzYXJ5CiAgICAgICAgICAgIC8vIGluaXRpYWwgcGFnZSBzY3JvbGxpbmcgKHllcywgdGhpcyB3b3JrcykuCiAgICAgICAgICAgIC5pbnNlcnRBZnRlciggJ2JvZHknIClbMF0uY29udGVudFdpbmRvdzsKICAgICAgICAgIAogICAgICAgICAgLy8gV2hlbmV2ZXIgYGRvY3VtZW50LnRpdGxlYCBjaGFuZ2VzLCB1cGRhdGUgdGhlIElmcmFtZSdzIHRpdGxlIHRvCiAgICAgICAgICAvLyBwcmV0dGlmeSB0aGUgYmFjay9uZXh0IGhpc3RvcnkgbWVudSBlbnRyaWVzLiBTaW5jZSBJRSBzb21ldGltZXMKICAgICAgICAgIC8vIGVycm9ycyB3aXRoICJVbnNwZWNpZmllZCBlcnJvciIgdGhlIHZlcnkgZmlyc3QgdGltZSB0aGlzIGlzIHNldAogICAgICAgICAgLy8gKHllcywgdmVyeSB1c2VmdWwpIHdyYXAgdGhpcyB3aXRoIGEgdHJ5L2NhdGNoIGJsb2NrLgogICAgICAgICAgZG9jLm9ucHJvcGVydHljaGFuZ2UgPSBmdW5jdGlvbigpewogICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgIGlmICggZXZlbnQucHJvcGVydHlOYW1lID09PSAndGl0bGUnICkgewogICAgICAgICAgICAgICAgaWZyYW1lLmRvY3VtZW50LnRpdGxlID0gZG9jLnRpdGxlOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSBjYXRjaChlKSB7fQogICAgICAgICAgfTsKICAgICAgICAgIAogICAgICAgIH0KICAgICAgfTsKICAgICAgCiAgICAgIC8vIE92ZXJyaWRlIHRoZSAic3RvcCIgbWV0aG9kIHNpbmNlIGFuIElFNi83IElmcmFtZSB3YXMgY3JlYXRlZC4gRXZlbgogICAgICAvLyBpZiB0aGVyZSBhcmUgbm8gbG9uZ2VyIGFueSBib3VuZCBldmVudCBoYW5kbGVycywgdGhlIHBvbGxpbmcgbG9vcAogICAgICAvLyBpcyBzdGlsbCBuZWNlc3NhcnkgZm9yIGJhY2svbmV4dCB0byB3b3JrIGF0IGFsbCEKICAgICAgc2VsZi5zdG9wID0gZm5fcmV0dmFsOwogICAgICAKICAgICAgLy8gR2V0IGhpc3RvcnkgYnkgbG9va2luZyBhdCB0aGUgaGlkZGVuIElmcmFtZSdzIGxvY2F0aW9uLmhhc2guCiAgICAgIGhpc3RvcnlfZ2V0ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIGdldF9mcmFnbWVudCggaWZyYW1lLmxvY2F0aW9uLmhyZWYgKTsKICAgICAgfTsKICAgICAgCiAgICAgIC8vIFNldCBhIG5ldyBoaXN0b3J5IGl0ZW0gYnkgb3BlbmluZyBhbmQgdGhlbiBjbG9zaW5nIHRoZSBJZnJhbWUKICAgICAgLy8gZG9jdW1lbnQsICp0aGVuKiBzZXR0aW5nIGl0cyBsb2NhdGlvbi5oYXNoLiBJZiBkb2N1bWVudC5kb21haW4gaGFzCiAgICAgIC8vIGJlZW4gc2V0LCB1cGRhdGUgdGhhdCBhcyB3ZWxsLgogICAgICBoaXN0b3J5X3NldCA9IGZ1bmN0aW9uKCBoYXNoLCBoaXN0b3J5X2hhc2ggKSB7CiAgICAgICAgdmFyIGlmcmFtZV9kb2MgPSBpZnJhbWUuZG9jdW1lbnQsCiAgICAgICAgICBkb21haW4gPSAkLmZuWyBzdHJfaGFzaGNoYW5nZSBdLmRvbWFpbjsKICAgICAgICAKICAgICAgICBpZiAoIGhhc2ggIT09IGhpc3RvcnlfaGFzaCApIHsKICAgICAgICAgIC8vIFVwZGF0ZSBJZnJhbWUgd2l0aCBhbnkgaW5pdGlhbCBgZG9jdW1lbnQudGl0bGVgIHRoYXQgbWlnaHQgYmUgc2V0LgogICAgICAgICAgaWZyYW1lX2RvYy50aXRsZSA9IGRvYy50aXRsZTsKICAgICAgICAgIAogICAgICAgICAgLy8gT3BlbmluZyB0aGUgSWZyYW1lJ3MgZG9jdW1lbnQgYWZ0ZXIgaXQgaGFzIGJlZW4gY2xvc2VkIGlzIHdoYXQKICAgICAgICAgIC8vIGFjdHVhbGx5IGFkZHMgYSBoaXN0b3J5IGVudHJ5LgogICAgICAgICAgaWZyYW1lX2RvYy5vcGVuKCk7CiAgICAgICAgICAKICAgICAgICAgIC8vIFNldCBkb2N1bWVudC5kb21haW4gZm9yIHRoZSBJZnJhbWUgZG9jdW1lbnQgYXMgd2VsbCwgaWYgbmVjZXNzYXJ5LgogICAgICAgICAgZG9tYWluICYmIGlmcmFtZV9kb2Mud3JpdGUoICc8c2NyaXB0PmRvY3VtZW50LmRvbWFpbj0iJyArIGRvbWFpbiArICciPC9zY3JpcHQ+JyApOwogICAgICAgICAgCiAgICAgICAgICBpZnJhbWVfZG9jLmNsb3NlKCk7CiAgICAgICAgICAKICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgSWZyYW1lJ3MgaGFzaCwgZm9yIGdyZWF0IGp1c3RpY2UuCiAgICAgICAgICBpZnJhbWUubG9jYXRpb24uaGFzaCA9IGhhc2g7CiAgICAgICAgfQogICAgICB9OwogICAgICAKICAgIH0pKCk7CiAgICAvLyBeXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl4KICAgIC8vIF5eXl5eXl5eXl5eXl5eXl5eXl4gUkVNT1ZFIElGIE5PVCBTVVBQT1JUSU5HIElFNi83LzggXl5eXl5eXl5eXl5eXl5eXl5eXgogICAgLy8gXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eXl5eCiAgICAKICAgIHJldHVybiBzZWxmOwogIH0pKCk7CiAgCn0pKGpRdWVyeSx0aGlzKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJwYWdlIiBwbHVnaW4KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5wYWdlIiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6ICJjIiwKCQlkb21DYWNoZTogZmFsc2UKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCXRoaXMuX3RyaWdnZXIoICJiZWZvcmVjcmVhdGUiICk7CgoJCXRoaXMuZWxlbWVudAoJCQkuYXR0ciggInRhYmluZGV4IiwgIjAiICkKCQkJLmFkZENsYXNzKCAidWktcGFnZSB1aS1ib2R5LSIgKyB0aGlzLm9wdGlvbnMudGhlbWUgKTsKCX0KfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qIQogKiBqUXVlcnkgTW9iaWxlIHZAVkVSU0lPTgogKiBodHRwOi8vanF1ZXJ5bW9iaWxlLmNvbS8KICoKICogQ29weXJpZ2h0IDIwMTAsIGpRdWVyeSBQcm9qZWN0CiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgogKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiAqLwoKKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsKCgkvLyBqUXVlcnkubW9iaWxlIGNvbmZpZ3VyYWJsZSBvcHRpb25zCgkkLmV4dGVuZCggJC5tb2JpbGUsIHsKCgkJLy8gTmFtZXNwYWNlIHVzZWQgZnJhbWV3b3JrLXdpZGUgZm9yIGRhdGEtYXR0cnMuIERlZmF1bHQgaXMgbm8gbmFtZXNwYWNlCgkJbnM6ICIiLAoKCQkvLyBEZWZpbmUgdGhlIHVybCBwYXJhbWV0ZXIgdXNlZCBmb3IgcmVmZXJlbmNpbmcgd2lkZ2V0LWdlbmVyYXRlZCBzdWItcGFnZXMuCgkJLy8gVHJhbnNsYXRlcyB0byB0byBleGFtcGxlLmh0bWwmdWktcGFnZT1zdWJwYWdlSWRlbnRpZmllcgoJCS8vIGhhc2ggc2VnbWVudCBiZWZvcmUgJnVpLXBhZ2U9IGlzIHVzZWQgdG8gbWFrZSBBamF4IHJlcXVlc3QKCQlzdWJQYWdlVXJsS2V5OiAidWktcGFnZSIsCgoJCS8vIENsYXNzIGFzc2lnbmVkIHRvIHBhZ2UgY3VycmVudGx5IGluIHZpZXcsIGFuZCBkdXJpbmcgdHJhbnNpdGlvbnMKCQlhY3RpdmVQYWdlQ2xhc3M6ICJ1aS1wYWdlLWFjdGl2ZSIsCgoJCS8vIENsYXNzIHVzZWQgZm9yICJhY3RpdmUiIGJ1dHRvbiBzdGF0ZSwgZnJvbSBDU1MgZnJhbWV3b3JrCgkJYWN0aXZlQnRuQ2xhc3M6ICJ1aS1idG4tYWN0aXZlIiwKCgkJLy8gQXV0b21hdGljYWxseSBoYW5kbGUgY2xpY2tzIGFuZCBmb3JtIHN1Ym1pc3Npb25zIHRocm91Z2ggQWpheCwgd2hlbiBzYW1lLWRvbWFpbgoJCWFqYXhFbmFibGVkOiB0cnVlLAoKCQkvLyBBdXRvbWF0aWNhbGx5IGxvYWQgYW5kIHNob3cgcGFnZXMgYmFzZWQgb24gbG9jYXRpb24uaGFzaAoJCWhhc2hMaXN0ZW5pbmdFbmFibGVkOiB0cnVlLAoKCQkvLyBTZXQgZGVmYXVsdCBwYWdlIHRyYW5zaXRpb24gLSAnbm9uZScgZm9yIG5vIHRyYW5zaXRpb25zCgkJZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiAic2xpZGUiLAoKCQkvLyBNaW5pbXVtIHNjcm9sbCBkaXN0YW5jZSB0aGF0IHdpbGwgYmUgcmVtZW1iZXJlZCB3aGVuIHJldHVybmluZyB0byBhIHBhZ2UKCQltaW5TY3JvbGxCYWNrOiAyNTAsCgoJCS8vIFNldCBkZWZhdWx0IGRpYWxvZyB0cmFuc2l0aW9uIC0gJ25vbmUnIGZvciBubyB0cmFuc2l0aW9ucwoJCWRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOiAicG9wIiwKCgkJLy8gU2hvdyBsb2FkaW5nIG1lc3NhZ2UgZHVyaW5nIEFqYXggcmVxdWVzdHMKCQkvLyBpZiBmYWxzZSwgbWVzc2FnZSB3aWxsIG5vdCBhcHBlYXIsIGJ1dCBsb2FkaW5nIGNsYXNzZXMgd2lsbCBzdGlsbCBiZSB0b2dnbGVkIG9uIGh0bWwgZWwKCQlsb2FkaW5nTWVzc2FnZTogImxvYWRpbmciLAoKCQkvLyBFcnJvciByZXNwb25zZSBtZXNzYWdlIC0gYXBwZWFycyB3aGVuIGFuIEFqYXggcGFnZSByZXF1ZXN0IGZhaWxzCgkJcGFnZUxvYWRFcnJvck1lc3NhZ2U6ICJFcnJvciBMb2FkaW5nIFBhZ2UiLAoKCQkvL2F1dG9tYXRpY2FsbHkgaW5pdGlhbGl6ZSB0aGUgRE9NIHdoZW4gaXQncyByZWFkeQoJCWF1dG9Jbml0aWFsaXplUGFnZTogdHJ1ZSwKCgkJcHVzaFN0YXRlRW5hYmxlZDogdHJ1ZSwKCgkJLy8gU3VwcG9ydCBjb25kaXRpb25zIHRoYXQgbXVzdCBiZSBtZXQgaW4gb3JkZXIgdG8gcHJvY2VlZAoJCS8vIGRlZmF1bHQgZW5oYW5jZWQgcXVhbGlmaWNhdGlvbnMgYXJlIG1lZGlhIHF1ZXJ5IHN1cHBvcnQgT1IgSUUgNysKCQlncmFkZUE6IGZ1bmN0aW9uKCl7CgkJCXJldHVybiAkLnN1cHBvcnQubWVkaWFxdWVyeSB8fCAkLm1vYmlsZS5icm93c2VyLmllICYmICQubW9iaWxlLmJyb3dzZXIuaWUgPj0gNzsKCQl9LAoKCQkvLyBUT0RPIG1pZ2h0IGJlIHVzZWZ1bCB1cHN0cmVhbSBpbiBqcXVlcnkgaXRzZWxmID8KCQlrZXlDb2RlOiB7CgkJCUFMVDogMTgsCgkJCUJBQ0tTUEFDRTogOCwKCQkJQ0FQU19MT0NLOiAyMCwKCQkJQ09NTUE6IDE4OCwKCQkJQ09NTUFORDogOTEsCgkJCUNPTU1BTkRfTEVGVDogOTEsIC8vIENPTU1BTkQKCQkJQ09NTUFORF9SSUdIVDogOTMsCgkJCUNPTlRST0w6IDE3LAoJCQlERUxFVEU6IDQ2LAoJCQlET1dOOiA0MCwKCQkJRU5EOiAzNSwKCQkJRU5URVI6IDEzLAoJCQlFU0NBUEU6IDI3LAoJCQlIT01FOiAzNiwKCQkJSU5TRVJUOiA0NSwKCQkJTEVGVDogMzcsCgkJCU1FTlU6IDkzLCAvLyBDT01NQU5EX1JJR0hUCgkJCU5VTVBBRF9BREQ6IDEwNywKCQkJTlVNUEFEX0RFQ0lNQUw6IDExMCwKCQkJTlVNUEFEX0RJVklERTogMTExLAoJCQlOVU1QQURfRU5URVI6IDEwOCwKCQkJTlVNUEFEX01VTFRJUExZOiAxMDYsCgkJCU5VTVBBRF9TVUJUUkFDVDogMTA5LAoJCQlQQUdFX0RPV046IDM0LAoJCQlQQUdFX1VQOiAzMywKCQkJUEVSSU9EOiAxOTAsCgkJCVJJR0hUOiAzOSwKCQkJU0hJRlQ6IDE2LAoJCQlTUEFDRTogMzIsCgkJCVRBQjogOSwKCQkJVVA6IDM4LAoJCQlXSU5ET1dTOiA5MSAvLyBDT01NQU5ECgkJfSwKCgkJLy8gU2Nyb2xsIHBhZ2UgdmVydGljYWxseTogc2Nyb2xsIHRvIDAgdG8gaGlkZSBpT1MgYWRkcmVzcyBiYXIsIG9yIHBhc3MgYSBZIHZhbHVlCgkJc2lsZW50U2Nyb2xsOiBmdW5jdGlvbiggeXBvcyApIHsKCQkJaWYgKCAkLnR5cGUoIHlwb3MgKSAhPT0gIm51bWJlciIgKSB7CgkJCQl5cG9zID0gJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7CgkJCX0KCgkJCS8vIHByZXZlbnQgc2Nyb2xsc3RhcnQgYW5kIHNjcm9sbHN0b3AgZXZlbnRzCgkJCSQuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkID0gZmFsc2U7CgoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJd2luZG93LnNjcm9sbFRvKCAwLCB5cG9zICk7CgkJCQkkKCBkb2N1bWVudCApLnRyaWdnZXIoICJzaWxlbnRzY3JvbGwiLCB7IHg6IDAsIHk6IHlwb3MgfSk7CgkJCX0sIDIwICk7CgoJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJJC5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQgPSB0cnVlOwoJCQl9LCAxNTAgKTsKCQl9LAoKCQkvLyBUYWtlIGEgZGF0YSBhdHRyaWJ1dGUgcHJvcGVydHksIHByZXBlbmQgdGhlIG5hbWVzcGFjZQoJCS8vIGFuZCB0aGVuIGNhbWVsIGNhc2UgdGhlIGF0dHJpYnV0ZSBzdHJpbmcKCQluc05vcm1hbGl6ZTogZnVuY3Rpb24oIHByb3AgKSB7CgkJCWlmICggIXByb3AgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCXJldHVybiAkLmNhbWVsQ2FzZSggJC5tb2JpbGUubnMgKyBwcm9wICk7CgkJfQoJfSk7CgoJLy8gTW9iaWxlIHZlcnNpb24gb2YgZGF0YSBhbmQgcmVtb3ZlRGF0YSBhbmQgaGFzRGF0YSBtZXRob2RzCgkvLyBlbnN1cmVzIGFsbCBkYXRhIGlzIHNldCBhbmQgcmV0cmlldmVkIHVzaW5nIGpRdWVyeSBNb2JpbGUncyBkYXRhIG5hbWVzcGFjZQoJJC5mbi5qcW1EYXRhID0gZnVuY3Rpb24oIHByb3AsIHZhbHVlICkgewoJCXJldHVybiB0aGlzLmRhdGEoIHByb3AgPyAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApIDogcHJvcCwgdmFsdWUgKTsKCX07CgoJJC5qcW1EYXRhID0gZnVuY3Rpb24oIGVsZW0sIHByb3AsIHZhbHVlICkgewoJCXJldHVybiAkLmRhdGEoIGVsZW0sICQubW9iaWxlLm5zTm9ybWFsaXplKCBwcm9wICksIHZhbHVlICk7Cgl9OwoKCSQuZm4uanFtUmVtb3ZlRGF0YSA9IGZ1bmN0aW9uKCBwcm9wICkgewoJCXJldHVybiB0aGlzLnJlbW92ZURhdGEoICQubW9iaWxlLm5zTm9ybWFsaXplKCBwcm9wICkgKTsKCX07CgoJJC5qcW1SZW1vdmVEYXRhID0gZnVuY3Rpb24oIGVsZW0sIHByb3AgKSB7CgkJcmV0dXJuICQucmVtb3ZlRGF0YSggZWxlbSwgJC5tb2JpbGUubnNOb3JtYWxpemUoIHByb3AgKSApOwoJfTsKCgkkLmpxbUhhc0RhdGEgPSBmdW5jdGlvbiggZWxlbSwgcHJvcCApIHsKCQlyZXR1cm4gJC5oYXNEYXRhKCBlbGVtLCAkLm1vYmlsZS5uc05vcm1hbGl6ZSggcHJvcCApICk7Cgl9OwoKCS8vIE1vbmtleS1wYXRjaGluZyBTaXp6bGUgdG8gZmlsdGVyIHRoZSA6anFtRGF0YSBzZWxlY3RvcgoJdmFyIG9sZEZpbmQgPSAkLmZpbmQ7CgoJJC5maW5kID0gZnVuY3Rpb24oIHNlbGVjdG9yLCBjb250ZXh0LCByZXQsIGV4dHJhICkgewoJCXNlbGVjdG9yID0gc2VsZWN0b3IucmVwbGFjZSgvOmpxbURhdGFcKChbXildKilcKS9nLCAiW2RhdGEtIiArICggJC5tb2JpbGUubnMgfHwgIiIgKSArICIkMV0iKTsKCgkJcmV0dXJuIG9sZEZpbmQuY2FsbCggdGhpcywgc2VsZWN0b3IsIGNvbnRleHQsIHJldCwgZXh0cmEgKTsKCX07CgoJJC5leHRlbmQoICQuZmluZCwgb2xkRmluZCApOwoKCSQuZmluZC5tYXRjaGVzID0gZnVuY3Rpb24oIGV4cHIsIHNldCApIHsKCQlyZXR1cm4gJC5maW5kKCBleHByLCBudWxsLCBudWxsLCBzZXQgKTsKCX07CgoJJC5maW5kLm1hdGNoZXNTZWxlY3RvciA9IGZ1bmN0aW9uKCBub2RlLCBleHByICkgewoJCXJldHVybiAkLmZpbmQoIGV4cHIsIG51bGwsIG51bGwsIFsgbm9kZSBdICkubGVuZ3RoID4gMDsKCX07Cn0pKCBqUXVlcnksIHRoaXMgKTsKCi8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBjb3JlIHV0aWxpdGllcyBmb3IgYXV0byBhamF4IG5hdmlnYXRpb24sIGJhc2UgdGFnIG1nbXQsCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KKCBmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKCS8vZGVmaW5lIHZhcnMgZm9yIGludGVyYWwgdXNlCgl2YXIgJHdpbmRvdyA9ICQoIHdpbmRvdyApLAoJCSRodG1sID0gJCggJ2h0bWwnICksCgkJJGhlYWQgPSAkKCAnaGVhZCcgKSwKCgkJLy91cmwgcGF0aCBoZWxwZXJzIGZvciB1c2UgaW4gcmVsYXRpdmUgdXJsIG1hbmFnZW1lbnQKCQlwYXRoID0gewoKCQkJLy8gVGhpcyBzY2FyeSBsb29raW5nIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXJzZXMgYW4gYWJzb2x1dGUgVVJMIG9yIGl0cyByZWxhdGl2ZQoJCQkvLyB2YXJpYW50cyAocHJvdG9jb2wsIHNpdGUsIGRvY3VtZW50LCBxdWVyeSwgYW5kIGhhc2gpLCBpbnRvIHRoZSB2YXJpb3VzCgkJCS8vIGNvbXBvbmVudHMgKHByb3RvY29sLCBob3N0LCBwYXRoLCBxdWVyeSwgZnJhZ21lbnQsIGV0YyB0aGF0IG1ha2UgdXAgdGhlCgkJCS8vIFVSTCBhcyB3ZWxsIGFzIHNvbWUgb3RoZXIgY29tbW9ubHkgdXNlZCBzdWItcGFydHMuIFdoZW4gdXNlZCB3aXRoIFJlZ0V4cC5leGVjKCkKCQkJLy8gb3IgU3RyaW5nLm1hdGNoLCBpdCBwYXJzZXMgdGhlIFVSTCBpbnRvIGEgcmVzdWx0cyBhcnJheSB0aGF0IGxvb2tzIGxpa2UgdGhpczoKCQkJLy8KCQkJLy8gICAgIFswXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MC9tYWlsL2luYm94P21zZz0xMjM0JnR5cGU9dW5yZWFkI21zZy1jb250ZW50CgkJCS8vICAgICBbMV06IGh0dHA6Ly9qYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAvbWFpbC9pbmJveD9tc2c9MTIzNCZ0eXBlPXVucmVhZAoJCQkvLyAgICAgWzJdOiBodHRwOi8vamJsYXM6cGFzc3dvcmRAbXljb21wYW55LmNvbTo4MDgwL21haWwvaW5ib3gKCQkJLy8gICAgIFszXTogaHR0cDovL2pibGFzOnBhc3N3b3JkQG15Y29tcGFueS5jb206ODA4MAoJCQkvLyAgICAgWzRdOiBodHRwOgoJCQkvLyAgICAgWzVdOiBqYmxhczpwYXNzd29yZEBteWNvbXBhbnkuY29tOjgwODAKCQkJLy8gICAgIFs2XTogamJsYXM6cGFzc3dvcmQKCQkJLy8gICAgIFs3XTogamJsYXMKCQkJLy8gICAgIFs4XTogcGFzc3dvcmQKCQkJLy8gICAgIFs5XTogbXljb21wYW55LmNvbTo4MDgwCgkJCS8vICAgIFsxMF06IG15Y29tcGFueS5jb20KCQkJLy8gICAgWzExXTogODA4MAoJCQkvLyAgICBbMTJdOiAvbWFpbC9pbmJveAoJCQkvLyAgICBbMTNdOiAvbWFpbC8KCQkJLy8gICAgWzE0XTogaW5ib3gKCQkJLy8gICAgWzE1XTogP21zZz0xMjM0JnR5cGU9dW5yZWFkCgkJCS8vICAgIFsxNl06ICNtc2ctY29udGVudAoJCQkvLwoJCQl1cmxQYXJzZVJFOiAvXigoKChbXjpcLyNcP10rOik/KD86XC9cLygoPzooKFteOkBcLyNcP10rKSg/Olw6KFteOkBcLyNcP10rKSk/KUApPygoW146XC8jXD9cXVxbXSt8XFtbXlwvXF1AIz9dK1xdKSg/Olw6KFswLTldKykpPykpPyk/KT8oKFwvPyg/OlteXC9cPyNdK1wvKykqKShbXlw/I10qKSkpPyhcP1teI10rKT8pKCMuKik/LywKCgkJCS8vUGFyc2UgYSBVUkwgaW50byBhIHN0cnVjdHVyZSB0aGF0IGFsbG93cyBlYXN5IGFjY2VzcyB0bwoJCQkvL2FsbCBvZiB0aGUgVVJMIGNvbXBvbmVudHMgYnkgbmFtZS4KCQkJcGFyc2VVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQkvLyBJZiB3ZSdyZSBwYXNzZWQgYW4gb2JqZWN0LCB3ZSdsbCBhc3N1bWUgdGhhdCBpdCBpcwoJCQkJLy8gYSBwYXJzZWQgdXJsIG9iamVjdCBhbmQganVzdCByZXR1cm4gaXQgYmFjayB0byB0aGUgY2FsbGVyLgoJCQkJaWYgKCAkLnR5cGUoIHVybCApID09PSAib2JqZWN0IiApIHsKCQkJCQlyZXR1cm4gdXJsOwoJCQkJfQoKCQkJCXZhciB1ID0gdXJsIHx8ICIiLAoJCQkJCW1hdGNoZXMgPSBwYXRoLnVybFBhcnNlUkUuZXhlYyggdXJsICksCgkJCQkJcmVzdWx0czsKCQkJCWlmICggbWF0Y2hlcyApIHsKCQkJCQkvLyBDcmVhdGUgYW4gb2JqZWN0IHRoYXQgYWxsb3dzIHRoZSBjYWxsZXIgdG8gYWNjZXNzIHRoZSBzdWItbWF0Y2hlcwoJCQkJCS8vIGJ5IG5hbWUuIE5vdGUgdGhhdCBJRSByZXR1cm5zIGFuIGVtcHR5IHN0cmluZyBpbnN0ZWFkIG9mIHVuZGVmaW5lZCwKCQkJCQkvLyBsaWtlIGFsbCBvdGhlciBicm93c2VycyBkbywgc28gd2Ugbm9ybWFsaXplIGV2ZXJ5dGhpbmcgc28gaXRzIGNvbnNpc3RlbnQKCQkJCQkvLyBubyBtYXR0ZXIgd2hhdCBicm93c2VyIHdlJ3JlIHJ1bm5pbmcgb24uCgkJCQkJcmVzdWx0cyA9IHsKCQkJCQkJaHJlZjogICAgICAgICBtYXRjaGVzWzBdIHx8ICIiLAoJCQkJCQlocmVmTm9IYXNoOiAgIG1hdGNoZXNbMV0gfHwgIiIsCgkJCQkJCWhyZWZOb1NlYXJjaDogbWF0Y2hlc1syXSB8fCAiIiwKCQkJCQkJZG9tYWluOiAgICAgICBtYXRjaGVzWzNdIHx8ICIiLAoJCQkJCQlwcm90b2NvbDogICAgIG1hdGNoZXNbNF0gfHwgIiIsCgkJCQkJCWF1dGhvcml0eTogICAgbWF0Y2hlc1s1XSB8fCAiIiwKCQkJCQkJdXNlcm5hbWU6ICAgICBtYXRjaGVzWzddIHx8ICIiLAoJCQkJCQlwYXNzd29yZDogICAgIG1hdGNoZXNbOF0gfHwgIiIsCgkJCQkJCWhvc3Q6ICAgICAgICAgbWF0Y2hlc1s5XSB8fCAiIiwKCQkJCQkJaG9zdG5hbWU6ICAgICBtYXRjaGVzWzEwXSB8fCAiIiwKCQkJCQkJcG9ydDogICAgICAgICBtYXRjaGVzWzExXSB8fCAiIiwKCQkJCQkJcGF0aG5hbWU6ICAgICBtYXRjaGVzWzEyXSB8fCAiIiwKCQkJCQkJZGlyZWN0b3J5OiAgICBtYXRjaGVzWzEzXSB8fCAiIiwKCQkJCQkJZmlsZW5hbWU6ICAgICBtYXRjaGVzWzE0XSB8fCAiIiwKCQkJCQkJc2VhcmNoOiAgICAgICBtYXRjaGVzWzE1XSB8fCAiIiwKCQkJCQkJaGFzaDogICAgICAgICBtYXRjaGVzWzE2XSB8fCAiIgoJCQkJCX07CgkJCQl9CgkJCQlyZXR1cm4gcmVzdWx0cyB8fCB7fTsKCQkJfSwKCgkJCS8vVHVybiByZWxQYXRoIGludG8gYW4gYXNib2x1dGUgcGF0aC4gYWJzUGF0aCBpcwoJCQkvL2FuIG9wdGlvbmFsIGFic29sdXRlIHBhdGggd2hpY2ggZGVzY3JpYmVzIHdoYXQKCQkJLy9yZWxQYXRoIGlzIHJlbGF0aXZlIHRvLgoJCQltYWtlUGF0aEFic29sdXRlOiBmdW5jdGlvbiggcmVsUGF0aCwgYWJzUGF0aCApIHsKCQkJCWlmICggcmVsUGF0aCAmJiByZWxQYXRoLmNoYXJBdCggMCApID09PSAiLyIgKSB7CgkJCQkJcmV0dXJuIHJlbFBhdGg7CgkJCQl9CgoJCQkJcmVsUGF0aCA9IHJlbFBhdGggfHwgIiI7CgkJCQlhYnNQYXRoID0gYWJzUGF0aCA/IGFic1BhdGgucmVwbGFjZSggL15cL3woXC9bXlwvXSp8W15cL10rKSQvZywgIiIgKSA6ICIiOwoKCQkJCXZhciBhYnNTdGFjayA9IGFic1BhdGggPyBhYnNQYXRoLnNwbGl0KCAiLyIgKSA6IFtdLAoJCQkJCXJlbFN0YWNrID0gcmVsUGF0aC5zcGxpdCggIi8iICk7CgkJCQlmb3IgKCB2YXIgaSA9IDA7IGkgPCByZWxTdGFjay5sZW5ndGg7IGkrKyApIHsKCQkJCQl2YXIgZCA9IHJlbFN0YWNrWyBpIF07CgkJCQkJc3dpdGNoICggZCApIHsKCQkJCQkJY2FzZSAiLiI6CgkJCQkJCQlicmVhazsKCQkJCQkJY2FzZSAiLi4iOgoJCQkJCQkJaWYgKCBhYnNTdGFjay5sZW5ndGggKSB7CgkJCQkJCQkJYWJzU3RhY2sucG9wKCk7CgkJCQkJCQl9CgkJCQkJCQlicmVhazsKCQkJCQkJZGVmYXVsdDoKCQkJCQkJCWFic1N0YWNrLnB1c2goIGQgKTsKCQkJCQkJCWJyZWFrOwoJCQkJCX0KCQkJCX0KCQkJCXJldHVybiAiLyIgKyBhYnNTdGFjay5qb2luKCAiLyIgKTsKCQkJfSwKCgkJCS8vUmV0dXJucyB0cnVlIGlmIGJvdGggdXJscyBoYXZlIHRoZSBzYW1lIGRvbWFpbi4KCQkJaXNTYW1lRG9tYWluOiBmdW5jdGlvbiggYWJzVXJsMSwgYWJzVXJsMiApIHsKCQkJCXJldHVybiBwYXRoLnBhcnNlVXJsKCBhYnNVcmwxICkuZG9tYWluID09PSBwYXRoLnBhcnNlVXJsKCBhYnNVcmwyICkuZG9tYWluOwoJCQl9LAoKCQkJLy9SZXR1cm5zIHRydWUgZm9yIGFueSByZWxhdGl2ZSB2YXJpYW50LgoJCQlpc1JlbGF0aXZlVXJsOiBmdW5jdGlvbiggdXJsICkgewoJCQkJLy8gQWxsIHJlbGF0aXZlIFVybCB2YXJpYW50cyBoYXZlIG9uZSB0aGluZyBpbiBjb21tb24sIG5vIHByb3RvY29sLgoJCQkJcmV0dXJuIHBhdGgucGFyc2VVcmwoIHVybCApLnByb3RvY29sID09PSAiIjsKCQkJfSwKCgkJCS8vUmV0dXJucyB0cnVlIGZvciBhbiBhYnNvbHV0ZSB1cmwuCgkJCWlzQWJzb2x1dGVVcmw6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQlyZXR1cm4gcGF0aC5wYXJzZVVybCggdXJsICkucHJvdG9jb2wgIT09ICIiOwoJCQl9LAoKCQkJLy9UdXJuIHRoZSBzcGVjaWZpZWQgcmVhbHRpdmUgVVJMIGludG8gYW4gYWJzb2x1dGUgb25lLiBUaGlzIGZ1bmN0aW9uCgkJCS8vY2FuIGhhbmRsZSBhbGwgcmVsYXRpdmUgdmFyaWFudHMgKHByb3RvY29sLCBzaXRlLCBkb2N1bWVudCwgcXVlcnksIGZyYWdtZW50KS4KCQkJbWFrZVVybEFic29sdXRlOiBmdW5jdGlvbiggcmVsVXJsLCBhYnNVcmwgKSB7CgkJCQlpZiAoICFwYXRoLmlzUmVsYXRpdmVVcmwoIHJlbFVybCApICkgewoJCQkJCXJldHVybiByZWxVcmw7CgkJCQl9CgoJCQkJdmFyIHJlbE9iaiA9IHBhdGgucGFyc2VVcmwoIHJlbFVybCApLAoJCQkJCWFic09iaiA9IHBhdGgucGFyc2VVcmwoIGFic1VybCApLAoJCQkJCXByb3RvY29sID0gcmVsT2JqLnByb3RvY29sIHx8IGFic09iai5wcm90b2NvbCwKCQkJCQlhdXRob3JpdHkgPSByZWxPYmouYXV0aG9yaXR5IHx8IGFic09iai5hdXRob3JpdHksCgkJCQkJaGFzUGF0aCA9IHJlbE9iai5wYXRobmFtZSAhPT0gIiIsCgkJCQkJcGF0aG5hbWUgPSBwYXRoLm1ha2VQYXRoQWJzb2x1dGUoIHJlbE9iai5wYXRobmFtZSB8fCBhYnNPYmouZmlsZW5hbWUsIGFic09iai5wYXRobmFtZSApLAoJCQkJCXNlYXJjaCA9IHJlbE9iai5zZWFyY2ggfHwgKCAhaGFzUGF0aCAmJiBhYnNPYmouc2VhcmNoICkgfHwgIiIsCgkJCQkJaGFzaCA9IHJlbE9iai5oYXNoOwoKCQkJCXJldHVybiBwcm90b2NvbCArICIvLyIgKyBhdXRob3JpdHkgKyBwYXRobmFtZSArIHNlYXJjaCArIGhhc2g7CgkJCX0sCgoJCQkvL0FkZCBzZWFyY2ggKGFrYSBxdWVyeSkgcGFyYW1zIHRvIHRoZSBzcGVjaWZpZWQgdXJsLgoJCQlhZGRTZWFyY2hQYXJhbXM6IGZ1bmN0aW9uKCB1cmwsIHBhcmFtcyApIHsKCQkJCXZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICksCgkJCQkJcCA9ICggdHlwZW9mIHBhcmFtcyA9PT0gIm9iamVjdCIgKSA/ICQucGFyYW0oIHBhcmFtcyApIDogcGFyYW1zLAoJCQkJCXMgPSB1LnNlYXJjaCB8fCAiPyI7CgkJCQlyZXR1cm4gdS5ocmVmTm9TZWFyY2ggKyBzICsgKCBzLmNoYXJBdCggcy5sZW5ndGggLSAxICkgIT09ICI/IiA/ICImIiA6ICIiICkgKyBwICsgKCB1Lmhhc2ggfHwgIiIgKTsKCQkJfSwKCgkJCWNvbnZlcnRVcmxUb0RhdGFVcmw6IGZ1bmN0aW9uKCBhYnNVcmwgKSB7CgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIGFic1VybCApOwoJCQkJaWYgKCBwYXRoLmlzRW1iZWRkZWRQYWdlKCB1ICkgKSB7CgkJCQkgICAgLy8gRm9yIGVtYmVkZGVkIHBhZ2VzLCByZW1vdmUgdGhlIGRpYWxvZyBoYXNoIGtleSBhcyBpbiBnZXRGaWxlUGF0aCgpLAoJCQkJICAgIC8vIG90aGVyd2lzZSB0aGUgRGF0YSBVcmwgd29uJ3QgbWF0Y2ggdGhlIGlkIG9mIHRoZSBlbWJlZGRlZCBQYWdlLgoJCQkJCXJldHVybiB1Lmhhc2guc3BsaXQoIGRpYWxvZ0hhc2hLZXkgKVswXS5yZXBsYWNlKCAvXiMvLCAiIiApOwoJCQkJfSBlbHNlIGlmICggcGF0aC5pc1NhbWVEb21haW4oIHUsIGRvY3VtZW50QmFzZSApICkgewoJCQkJCXJldHVybiB1LmhyZWZOb0hhc2gucmVwbGFjZSggZG9jdW1lbnRCYXNlLmRvbWFpbiwgIiIgKTsKCQkJCX0KCQkJCXJldHVybiBhYnNVcmw7CgkJCX0sCgoJCQkvL2dldCBwYXRoIGZyb20gY3VycmVudCBoYXNoLCBvciBmcm9tIGEgZmlsZSBwYXRoCgkJCWdldDogZnVuY3Rpb24oIG5ld1BhdGggKSB7CgkJCQlpZiggbmV3UGF0aCA9PT0gdW5kZWZpbmVkICkgewoJCQkJCW5ld1BhdGggPSBsb2NhdGlvbi5oYXNoOwoJCQkJfQoJCQkJcmV0dXJuIHBhdGguc3RyaXBIYXNoKCBuZXdQYXRoICkucmVwbGFjZSggL1teXC9dKlwuW15cLypdKyQvLCAnJyApOwoJCQl9LAoKCQkJLy9yZXR1cm4gdGhlIHN1YnN0cmluZyBvZiBhIGZpbGVwYXRoIGJlZm9yZSB0aGUgc3ViLXBhZ2Uga2V5LCBmb3IgbWFraW5nIGEgc2VydmVyIHJlcXVlc3QKCQkJZ2V0RmlsZVBhdGg6IGZ1bmN0aW9uKCBwYXRoICkgewoJCQkJdmFyIHNwbGl0a2V5ID0gJyYnICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleTsKCQkJCXJldHVybiBwYXRoICYmIHBhdGguc3BsaXQoIHNwbGl0a2V5IClbMF0uc3BsaXQoIGRpYWxvZ0hhc2hLZXkgKVswXTsKCQkJfSwKCgkJCS8vc2V0IGxvY2F0aW9uIGhhc2ggdG8gcGF0aAoJCQlzZXQ6IGZ1bmN0aW9uKCBwYXRoICkgewoJCQkJbG9jYXRpb24uaGFzaCA9IHBhdGg7CgkJCX0sCgoJCQkvL3Rlc3QgaWYgYSBnaXZlbiB1cmwgKHN0cmluZykgaXMgYSBwYXRoCgkJCS8vTk9URSBtaWdodCBiZSBleGNlcHRpb25hbGx5IG5haXZlCgkJCWlzUGF0aDogZnVuY3Rpb24oIHVybCApIHsKCQkJCXJldHVybiAoIC9cLy8gKS50ZXN0KCB1cmwgKTsKCQkJfSwKCgkJCS8vcmV0dXJuIGEgdXJsIHBhdGggd2l0aCB0aGUgd2luZG93J3MgbG9jYXRpb24gcHJvdG9jb2wvaG9zdG5hbWUvcGF0aG5hbWUgcmVtb3ZlZAoJCQljbGVhbjogZnVuY3Rpb24oIHVybCApIHsKCQkJCXJldHVybiB1cmwucmVwbGFjZSggZG9jdW1lbnRCYXNlLmRvbWFpbiwgIiIgKTsKCQkJfSwKCgkJCS8vanVzdCByZXR1cm4gdGhlIHVybCB3aXRob3V0IGFuIGluaXRpYWwgIwoJCQlzdHJpcEhhc2g6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQlyZXR1cm4gdXJsLnJlcGxhY2UoIC9eIy8sICIiICk7CgkJCX0sCgoJCQkvL3JlbW92ZSB0aGUgcHJlY2VkaW5nIGhhc2gsIGFueSBxdWVyeSBwYXJhbXMsIGFuZCBkaWFsb2cgbm90YXRpb25zCgkJCWNsZWFuSGFzaDogZnVuY3Rpb24oIGhhc2ggKSB7CgkJCQlyZXR1cm4gcGF0aC5zdHJpcEhhc2goIGhhc2gucmVwbGFjZSggL1w/LiokLywgIiIgKS5yZXBsYWNlKCBkaWFsb2dIYXNoS2V5LCAiIiApICk7CgkJCX0sCgoJCQkvL2NoZWNrIHdoZXRoZXIgYSB1cmwgaXMgcmVmZXJlbmNpbmcgdGhlIHNhbWUgZG9tYWluLCBvciBhbiBleHRlcm5hbCBkb21haW4gb3IgZGlmZmVyZW50IHByb3RvY29sCgkJCS8vY291bGQgYmUgbWFpbHRvLCBldGMKCQkJaXNFeHRlcm5hbDogZnVuY3Rpb24oIHVybCApIHsKCQkJCXZhciB1ID0gcGF0aC5wYXJzZVVybCggdXJsICk7CgkJCQlyZXR1cm4gdS5wcm90b2NvbCAmJiB1LmRvbWFpbiAhPT0gZG9jdW1lbnRVcmwuZG9tYWluID8gdHJ1ZSA6IGZhbHNlOwoJCQl9LAoKCQkJaGFzUHJvdG9jb2w6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQlyZXR1cm4gKCAvXig6P1x3KzopLyApLnRlc3QoIHVybCApOwoJCQl9LAoKCQkJLy9jaGVjayBpZiB0aGUgc3BlY2lmaWVkIHVybCByZWZlcnMgdG8gdGhlIGZpcnN0IHBhZ2UgaW4gdGhlIG1haW4gYXBwbGljYXRpb24gZG9jdW1lbnQuCgkJCWlzRmlyc3RQYWdlVXJsOiBmdW5jdGlvbiggdXJsICkgewoJCQkJLy8gV2Ugb25seSBkZWFsIHdpdGggYWJzb2x1dGUgcGF0aHMuCgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIHBhdGgubWFrZVVybEFic29sdXRlKCB1cmwsIGRvY3VtZW50QmFzZSApICksCgoJCQkJCS8vIERvZXMgdGhlIHVybCBoYXZlIHRoZSBzYW1lIHBhdGggYXMgdGhlIGRvY3VtZW50PwoJCQkJCXNhbWVQYXRoID0gdS5ocmVmTm9IYXNoID09PSBkb2N1bWVudFVybC5ocmVmTm9IYXNoIHx8ICggZG9jdW1lbnRCYXNlRGlmZmVycyAmJiB1LmhyZWZOb0hhc2ggPT09IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoICksCgoJCQkJCS8vIEdldCB0aGUgZmlyc3QgcGFnZSBlbGVtZW50LgoJCQkJCWZwID0gJC5tb2JpbGUuZmlyc3RQYWdlLAoKCQkJCQkvLyBHZXQgdGhlIGlkIG9mIHRoZSBmaXJzdCBwYWdlIGVsZW1lbnQgaWYgaXQgaGFzIG9uZS4KCQkJCQlmcElkID0gZnAgJiYgZnBbMF0gPyBmcFswXS5pZCA6IHVuZGVmaW5lZDsKCgkJCQkJLy8gVGhlIHVybCByZWZlcnMgdG8gdGhlIGZpcnN0IHBhZ2UgaWYgdGhlIHBhdGggbWF0Y2hlcyB0aGUgZG9jdW1lbnQgYW5kCgkJCQkJLy8gaXQgZWl0aGVyIGhhcyBubyBoYXNoIHZhbHVlLCBvciB0aGUgaGFzaCBpcyBleGFjdGx5IGVxdWFsIHRvIHRoZSBpZCBvZiB0aGUKCQkJCQkvLyBmaXJzdCBwYWdlIGVsZW1lbnQuCgkJCQkJcmV0dXJuIHNhbWVQYXRoICYmICggIXUuaGFzaCB8fCB1Lmhhc2ggPT09ICIjIiB8fCAoIGZwSWQgJiYgdS5oYXNoLnJlcGxhY2UoIC9eIy8sICIiICkgPT09IGZwSWQgKSApOwoJCQl9LAoKCQkJaXNFbWJlZGRlZFBhZ2U6IGZ1bmN0aW9uKCB1cmwgKSB7CgkJCQl2YXIgdSA9IHBhdGgucGFyc2VVcmwoIHVybCApOwoKCQkJCS8vaWYgdGhlIHBhdGggaXMgYWJzb2x1dGUsIHRoZW4gd2UgbmVlZCB0byBjb21wYXJlIHRoZSB1cmwgYWdhaW5zdAoJCQkJLy9ib3RoIHRoZSBkb2N1bWVudFVybCBhbmQgdGhlIGRvY3VtZW50QmFzZS4gVGhlIG1haW4gcmVhc29uIGZvciB0aGlzCgkJCQkvL2lzIHRoYXQgbGlua3MgZW1iZWRkZWQgd2l0aGluIGV4dGVybmFsIGRvY3VtZW50cyB3aWxsIHJlZmVyIHRvIHRoZQoJCQkJLy9hcHBsaWNhdGlvbiBkb2N1bWVudCwgd2hlcmVhcyBsaW5rcyBlbWJlZGRlZCB3aXRoaW4gdGhlIGFwcGxpY2F0aW9uCgkJCQkvL2RvY3VtZW50IHdpbGwgYmUgcmVzb2x2ZWQgYWdhaW5zdCB0aGUgZG9jdW1lbnQgYmFzZS4KCQkJCWlmICggdS5wcm90b2NvbCAhPT0gIiIgKSB7CgkJCQkJcmV0dXJuICggdS5oYXNoICYmICggdS5ocmVmTm9IYXNoID09PSBkb2N1bWVudFVybC5ocmVmTm9IYXNoIHx8ICggZG9jdW1lbnRCYXNlRGlmZmVycyAmJiB1LmhyZWZOb0hhc2ggPT09IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoICkgKSApOwoJCQkJfQoJCQkJcmV0dXJuICgvXiMvKS50ZXN0KCB1LmhyZWYgKTsKCQkJfQoJCX0sCgoJCS8vd2lsbCBiZSBkZWZpbmVkIHdoZW4gYSBsaW5rIGlzIGNsaWNrZWQgYW5kIGdpdmVuIGFuIGFjdGl2ZSBjbGFzcwoJCSRhY3RpdmVDbGlja2VkTGluayA9IG51bGwsCgoJCS8vdXJsSGlzdG9yeSBpcyBwdXJlbHkgaGVyZSB0byBtYWtlIGd1ZXNzZXMgYXQgd2hldGhlciB0aGUgYmFjayBvciBmb3J3YXJkIGJ1dHRvbiB3YXMgY2xpY2tlZAoJCS8vYW5kIHByb3ZpZGUgYW4gYXBwcm9wcmlhdGUgdHJhbnNpdGlvbgoJCXVybEhpc3RvcnkgPSB7CgkJCS8vIEFycmF5IG9mIHBhZ2VzIHRoYXQgYXJlIHZpc2l0ZWQgZHVyaW5nIGEgc2luZ2xlIHBhZ2UgbG9hZC4KCQkJLy8gRWFjaCBoYXMgYSB1cmwgYW5kIG9wdGlvbmFsIHRyYW5zaXRpb24sIHRpdGxlLCBhbmQgcGFnZVVybCAod2hpY2ggcmVwcmVzZW50cyB0aGUgZmlsZSBwYXRoLCBpbiBjYXNlcyB3aGVyZSBVUkwgaXMgb2JzY3VyZWQsIHN1Y2ggYXMgZGlhbG9ncykKCQkJc3RhY2s6IFtdLAoKCQkJLy9tYWludGFpbiBhbiBpbmRleCBudW1iZXIgZm9yIHRoZSBhY3RpdmUgcGFnZSBpbiB0aGUgc3RhY2sKCQkJYWN0aXZlSW5kZXg6IDAsCgoJCQkvL2dldCBhY3RpdmUKCQkJZ2V0QWN0aXZlOiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiB1cmxIaXN0b3J5LnN0YWNrWyB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4IF07CgkJCX0sCgoJCQlnZXRQcmV2OiBmdW5jdGlvbigpIHsKCQkJCXJldHVybiB1cmxIaXN0b3J5LnN0YWNrWyB1cmxIaXN0b3J5LmFjdGl2ZUluZGV4IC0gMSBdOwoJCQl9LAoKCQkJZ2V0TmV4dDogZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gdXJsSGlzdG9yeS5zdGFja1sgdXJsSGlzdG9yeS5hY3RpdmVJbmRleCArIDEgXTsKCQkJfSwKCgkJCS8vIGFkZE5ldyBpcyB1c2VkIHdoZW5ldmVyIGEgbmV3IHBhZ2UgaXMgYWRkZWQKCQkJYWRkTmV3OiBmdW5jdGlvbiggdXJsLCB0cmFuc2l0aW9uLCB0aXRsZSwgcGFnZVVybCwgcm9sZSApIHsKCQkJCS8vaWYgdGhlcmUncyBmb3J3YXJkIGhpc3RvcnksIHdpcGUgaXQKCQkJCWlmKCB1cmxIaXN0b3J5LmdldE5leHQoKSApIHsKCQkJCQl1cmxIaXN0b3J5LmNsZWFyRm9yd2FyZCgpOwoJCQkJfQoKCQkJCXVybEhpc3Rvcnkuc3RhY2sucHVzaCgge3VybCA6IHVybCwgdHJhbnNpdGlvbjogdHJhbnNpdGlvbiwgdGl0bGU6IHRpdGxlLCBwYWdlVXJsOiBwYWdlVXJsLCByb2xlOiByb2xlIH0gKTsKCgkJCQl1cmxIaXN0b3J5LmFjdGl2ZUluZGV4ID0gdXJsSGlzdG9yeS5zdGFjay5sZW5ndGggLSAxOwoJCQl9LAoKCQkJLy93aXBlIHVybHMgYWhlYWQgb2YgYWN0aXZlIGluZGV4CgkJCWNsZWFyRm9yd2FyZDogZnVuY3Rpb24oKSB7CgkJCQl1cmxIaXN0b3J5LnN0YWNrID0gdXJsSGlzdG9yeS5zdGFjay5zbGljZSggMCwgdXJsSGlzdG9yeS5hY3RpdmVJbmRleCArIDEgKTsKCQkJfSwKCgkJCWRpcmVjdEhhc2hDaGFuZ2U6IGZ1bmN0aW9uKCBvcHRzICkgewoJCQkJdmFyIGJhY2sgLCBmb3J3YXJkLCBuZXdBY3RpdmVJbmRleCwgcHJldiA9IHRoaXMuZ2V0QWN0aXZlKCk7CgoJCQkJLy8gY2hlY2sgaWYgdXJsIGlzcCBpbiBoaXN0b3J5IGFuZCBpZiBpdCdzIGFoZWFkIG9yIGJlaGluZCBjdXJyZW50IHBhZ2UKCQkJCSQuZWFjaCggdXJsSGlzdG9yeS5zdGFjaywgZnVuY3Rpb24oIGksIGhpc3RvcnlFbnRyeSApIHsKCgkJCQkJLy9pZiB0aGUgdXJsIGlzIGluIHRoZSBzdGFjaywgaXQncyBhIGZvcndhcmQgb3IgYSBiYWNrCgkJCQkJaWYoIG9wdHMuY3VycmVudFVybCA9PT0gaGlzdG9yeUVudHJ5LnVybCApIHsKCQkJCQkJLy9kZWZpbmUgYmFjayBhbmQgZm9yd2FyZCBieSB3aGV0aGVyIHVybCBpcyBvbGRlciBvciBuZXdlciB0aGFuIGN1cnJlbnQgcGFnZQoJCQkJCQliYWNrID0gaSA8IHVybEhpc3RvcnkuYWN0aXZlSW5kZXg7CgkJCQkJCWZvcndhcmQgPSAhYmFjazsKCQkJCQkJbmV3QWN0aXZlSW5kZXggPSBpOwoJCQkJCX0KCQkJCX0pOwoKCQkJCS8vIHNhdmUgbmV3IHBhZ2UgaW5kZXgsIG51bGwgY2hlY2sgdG8gcHJldmVudCBmYWxzZXkgMCByZXN1bHQKCQkJCXRoaXMuYWN0aXZlSW5kZXggPSBuZXdBY3RpdmVJbmRleCAhPT0gdW5kZWZpbmVkID8gbmV3QWN0aXZlSW5kZXggOiB0aGlzLmFjdGl2ZUluZGV4OwoKCQkJCWlmKCBiYWNrICkgewoJCQkJCSggb3B0cy5laXRoZXIgfHwgb3B0cy5pc0JhY2sgKSggdHJ1ZSApOwoJCQkJfSBlbHNlIGlmKCBmb3J3YXJkICkgewoJCQkJCSggb3B0cy5laXRoZXIgfHwgb3B0cy5pc0ZvcndhcmQgKSggZmFsc2UgKTsKCQkJCX0KCQkJfSwKCgkJCS8vZGlzYWJsZSBoYXNoY2hhbmdlIGV2ZW50IGxpc3RlbmVyIGludGVybmFsbHkgdG8gaWdub3JlIG9uZSBjaGFuZ2UKCQkJLy90b2dnbGVkIGludGVybmFsbHkgd2hlbiBsb2NhdGlvbi5oYXNoIGlzIHVwZGF0ZWQgdG8gbWF0Y2ggdGhlIHVybCBvZiBhIHN1Y2Nlc3NmdWwgcGFnZSBsb2FkCgkJCWlnbm9yZU5leHRIYXNoQ2hhbmdlOiBmYWxzZQoJCX0sCgoJCS8vZGVmaW5lIGZpcnN0IHNlbGVjdG9yIHRvIHJlY2VpdmUgZm9jdXMgd2hlbiBhIHBhZ2UgaXMgc2hvd24KCQlmb2N1c2FibGUgPSAiW3RhYmluZGV4XSxhLGJ1dHRvbjp2aXNpYmxlLHNlbGVjdDp2aXNpYmxlLGlucHV0IiwKCgkJLy9xdWV1ZSB0byBob2xkIHNpbXVsdGFuaW91cyBwYWdlIHRyYW5zaXRpb25zCgkJcGFnZVRyYW5zaXRpb25RdWV1ZSA9IFtdLAoKCQkvL2luZGljYXRlcyB3aGV0aGVyIG9yIG5vdCBwYWdlIGlzIGluIHByb2Nlc3Mgb2YgdHJhbnNpdGlvbmluZwoJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZSwKCgkJLy9ub25zZW5zZSBoYXNoIGNoYW5nZSBrZXkgZm9yIGRpYWxvZ3MsIHNvIHRoZXkgY3JlYXRlIGEgaGlzdG9yeSBlbnRyeQoJCWRpYWxvZ0hhc2hLZXkgPSAiJnVpLXN0YXRlPWRpYWxvZyIsCgoJCS8vZXhpc3RpbmcgYmFzZSB0YWc/CgkJJGJhc2UgPSAkaGVhZC5jaGlsZHJlbiggImJhc2UiICksCgoJCS8vdHVjayBhd2F5IHRoZSBvcmlnaW5hbCBkb2N1bWVudCBVUkwgbWludXMgYW55IGZyYWdtZW50LgoJCWRvY3VtZW50VXJsID0gcGF0aC5wYXJzZVVybCggbG9jYXRpb24uaHJlZiApLAoKCQkvL2lmIHRoZSBkb2N1bWVudCBoYXMgYW4gZW1iZWRkZWQgYmFzZSB0YWcsIGRvY3VtZW50QmFzZSBpcyBzZXQgdG8gaXRzCgkJLy9pbml0aWFsIHZhbHVlLiBJZiBhIGJhc2UgdGFnIGRvZXMgbm90IGV4aXN0LCB0aGVuIHdlIGRlZmF1bHQgdG8gdGhlIGRvY3VtZW50VXJsLgoJCWRvY3VtZW50QmFzZSA9ICRiYXNlLmxlbmd0aCA/IHBhdGgucGFyc2VVcmwoIHBhdGgubWFrZVVybEFic29sdXRlKCAkYmFzZS5hdHRyKCAiaHJlZiIgKSwgZG9jdW1lbnRVcmwuaHJlZiApICkgOiBkb2N1bWVudFVybCwKCgkJLy9jYWNoZSB0aGUgY29tcGFyaXNvbiBvbmNlLgoJCWRvY3VtZW50QmFzZURpZmZlcnMgPSAoIGRvY3VtZW50VXJsLmhyZWZOb0hhc2ggIT09IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoICk7CgoJCS8vYmFzZSBlbGVtZW50IG1hbmFnZW1lbnQsIGRlZmluZWQgZGVwZW5kaW5nIG9uIGR5bmFtaWMgYmFzZSB0YWcgc3VwcG9ydAoJCXZhciBiYXNlID0gJC5zdXBwb3J0LmR5bmFtaWNCYXNlVGFnID8gewoKCQkJLy9kZWZpbmUgYmFzZSBlbGVtZW50LCBmb3IgdXNlIGluIHJvdXRpbmcgYXNzZXQgdXJscyB0aGF0IGFyZSByZWZlcmVuY2VkIGluIEFqYXgtcmVxdWVzdGVkIG1hcmt1cAoJCQllbGVtZW50OiAoICRiYXNlLmxlbmd0aCA/ICRiYXNlIDogJCggIjxiYXNlPiIsIHsgaHJlZjogZG9jdW1lbnRCYXNlLmhyZWZOb0hhc2ggfSApLnByZXBlbmRUbyggJGhlYWQgKSApLAoKCQkJLy9zZXQgdGhlIGdlbmVyYXRlZCBCQVNFIGVsZW1lbnQncyBocmVmIGF0dHJpYnV0ZSB0byBhIG5ldyBwYWdlJ3MgYmFzZSBwYXRoCgkJCXNldDogZnVuY3Rpb24oIGhyZWYgKSB7CgkJCQliYXNlLmVsZW1lbnQuYXR0ciggImhyZWYiLCBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggaHJlZiwgZG9jdW1lbnRCYXNlICkgKTsKCQkJfSwKCgkJCS8vc2V0IHRoZSBnZW5lcmF0ZWQgQkFTRSBlbGVtZW50J3MgaHJlZiBhdHRyaWJ1dGUgdG8gYSBuZXcgcGFnZSdzIGJhc2UgcGF0aAoJCQlyZXNldDogZnVuY3Rpb24oKSB7CgkJCQliYXNlLmVsZW1lbnQuYXR0ciggImhyZWYiLCBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApOwoJCQl9CgoJCX0gOiB1bmRlZmluZWQ7CgovKgoJaW50ZXJuYWwgdXRpbGl0eSBmdW5jdGlvbnMKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLwoKCgkvL2RpcmVjdCBmb2N1cyB0byB0aGUgcGFnZSB0aXRsZSwgb3Igb3RoZXJ3aXNlIGZpcnN0IGZvY3VzYWJsZSBlbGVtZW50CglmdW5jdGlvbiByZUZvY3VzKCBwYWdlICkgewoJCXZhciBwYWdlVGl0bGUgPSBwYWdlLmZpbmQoICIudWktdGl0bGU6ZXEoMCkiICk7CgoJCWlmKCBwYWdlVGl0bGUubGVuZ3RoICkgewoJCQlwYWdlVGl0bGUuZm9jdXMoKTsKCQl9CgkJZWxzZXsKCQkJcGFnZS5mb2N1cygpOwoJCX0KCX0KCgkvL3JlbW92ZSBhY3RpdmUgY2xhc3NlcyBhZnRlciBwYWdlIHRyYW5zaXRpb24gb3IgZXJyb3IKCWZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUxpbmtDbGFzcyggZm9yY2VSZW1vdmFsICkgewoJCWlmKCAhISRhY3RpdmVDbGlja2VkTGluayAmJiAoICEkYWN0aXZlQ2xpY2tlZExpbmsuY2xvc2VzdCggJy51aS1wYWdlLWFjdGl2ZScgKS5sZW5ndGggfHwgZm9yY2VSZW1vdmFsICkgKSB7CgkJCSRhY3RpdmVDbGlja2VkTGluay5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQl9CgkJJGFjdGl2ZUNsaWNrZWRMaW5rID0gbnVsbDsKCX0KCglmdW5jdGlvbiByZWxlYXNlUGFnZVRyYW5zaXRpb25Mb2NrKCkgewoJCWlzUGFnZVRyYW5zaXRpb25pbmcgPSBmYWxzZTsKCQlpZiggcGFnZVRyYW5zaXRpb25RdWV1ZS5sZW5ndGggPiAwICkgewoJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlLmFwcGx5KCBudWxsLCBwYWdlVHJhbnNpdGlvblF1ZXVlLnBvcCgpICk7CgkJfQoJfQoJCgkvLyBTYXZlIHRoZSBsYXN0IHNjcm9sbCBkaXN0YW5jZSBwZXIgcGFnZSwgYmVmb3JlIGl0IGlzIGhpZGRlbgoJdmFyIGdldExhc3RTY3JvbGwgPSAoZnVuY3Rpb24oIGxhc3RTY3JvbGxFbmFibGVkICl7CgkJcmV0dXJuIGZ1bmN0aW9uKCl7CgkJCWlmKCAhbGFzdFNjcm9sbEVuYWJsZWQgKXsKCQkJCWxhc3RTY3JvbGxFbmFibGVkID0gdHJ1ZTsKCQkJCXJldHVybjsKCQkJfQoJCQkKCQkJbGFzdFNjcm9sbEVuYWJsZWQgPSBmYWxzZTsKCQkKCQkJdmFyIGFjdGl2ZSA9ICQubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCksCgkJCQlhY3RpdmVQYWdlID0gJCggIi51aS1wYWdlLWFjdGl2ZSIgKSwKCQkJCXNjcm9sbEVsZW0gPSAkKCB3aW5kb3cgKSwKCQkJCXRvdWNoT3ZlcmZsb3cgPSAkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyAmJiAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZDsKCQkJCgkJCWlmKCB0b3VjaE92ZXJmbG93ICl7CgkJCQlzY3JvbGxFbGVtID0gYWN0aXZlUGFnZS5pcyggIi51aS1uYXRpdmUtZml4ZWQiICkgPyBhY3RpdmVQYWdlLmZpbmQoICIudWktY29udGVudCIgKSA6IGFjdGl2ZVBhZ2U7CgkJCX0JCgkJCQoJCQlpZiggYWN0aXZlICl7CgkJCQl2YXIgbGFzdFNjcm9sbCA9IHNjcm9sbEVsZW0uc2Nyb2xsVG9wKCk7CgoJCQkJLy8gU2V0IGFjdGl2ZSBwYWdlJ3MgbGFzdFNjcm9sbCBwcm9wLgoJCQkJLy8gSWYgdGhlIFkgbG9jYXRpb24gd2UncmUgc2Nyb2xsaW5nIHRvIGlzIGxlc3MgdGhhbiBtaW5TY3JvbGxCYWNrLCBsZXQgaXQgZ28uCgkJCQlhY3RpdmUubGFzdFNjcm9sbCA9IGxhc3RTY3JvbGwgPCAkLm1vYmlsZS5taW5TY3JvbGxCYWNrID8gJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgOiBsYXN0U2Nyb2xsOwoJCQl9CgkJfTsKCX0pKCB0cnVlICk7CgkKCS8vIHRvIGdldCBsYXN0IHNjcm9sbCwgd2UgbmVlZCB0byBnZXQgc2Nyb2xsdG9wIGJlZm9yZSB0aGUgcGFnZSBjaGFuZ2UKCS8vIHVzaW5nIGJlZm9yZWNoYW5nZXBhZ2Ugb3IgcG9wc3RhdGUvaGFzaGNoYW5nZSAod2hpY2hldmVyIGNvbWVzIGZpcnN0KQoJJCggZG9jdW1lbnQgKS5iaW5kKCAiYmVmb3JlY2hhbmdlcGFnZSIsIGdldExhc3RTY3JvbGwgKTsKCSQoIHdpbmRvdyApLmJpbmQoICQuc3VwcG9ydC5wdXNoU3RhdGUgPyAicG9wc3RhdGUiIDogImhhc2hjaGFuZ2UiLCBnZXRMYXN0U2Nyb2xsICk7CgkKCS8vIE1ha2UgdGhlIGlPUyBjbG9jayBxdWljay1zY3JvbGwgd29yayBhZ2FpbiBpZiB3ZSdyZSB1c2luZyBuYXRpdmUgb3ZlcmZsb3cgc2Nyb2xsaW5nCgkvKgoJaWYoICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICl7CgkJaWYoICQubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkICl7CgkJCSQoIHdpbmRvdyApLmJpbmQoICJzY3JvbGxzdG9wIiwgZnVuY3Rpb24oKXsKCQkJCWlmKCAkKCB0aGlzICkuc2Nyb2xsVG9wKCkgPT09IDAgKXsKCQkJCQkkLm1vYmlsZS5hY3RpdmVQYWdlLnNjcm9sbFRvcCggMCApOwoJCQkJfQoJCQl9KTsKCQl9Cgl9CgkqLwoKCS8vZnVuY3Rpb24gZm9yIHRyYW5zaXRpb25pbmcgYmV0d2VlbiB0d28gZXhpc3RpbmcgcGFnZXMKCWZ1bmN0aW9uIHRyYW5zaXRpb25QYWdlcyggdG9QYWdlLCBmcm9tUGFnZSwgdHJhbnNpdGlvbiwgcmV2ZXJzZSApIHsKCgkJLy9nZXQgY3VycmVudCBzY3JvbGwgZGlzdGFuY2UKCQl2YXIgYWN0aXZlCT0gJC5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKSwKCQkJdG91Y2hPdmVyZmxvdyA9ICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICYmICQubW9iaWxlLnRvdWNoT3ZlcmZsb3dFbmFibGVkLAoJCQl0b1Njcm9sbCA9IGFjdGl2ZS5sYXN0U2Nyb2xsIHx8ICggdG91Y2hPdmVyZmxvdyA/IDAgOiAkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCApLAoJCQlzY3JlZW5IZWlnaHQgPSBnZXRTY3JlZW5IZWlnaHQoKTsKCQkJCgkJLy8gU2Nyb2xsIHRvIHRvcCwgaGlkZSBhZGRyIGJhcgoJCXdpbmRvdy5zY3JvbGxUbyggMCwgJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgKTsKCgkJaWYoIGZyb21QYWdlICkgewoJCQkvL3RyaWdnZXIgYmVmb3JlIHNob3cvaGlkZSBldmVudHMKCQkJZnJvbVBhZ2UuZGF0YSggInBhZ2UiICkuX3RyaWdnZXIoICJiZWZvcmVoaWRlIiwgbnVsbCwgeyBuZXh0UGFnZTogdG9QYWdlIH0gKTsKCQl9CgkJCgkJaWYoICF0b3VjaE92ZXJmbG93KXsKCQkJdG9QYWdlLmhlaWdodCggc2NyZWVuSGVpZ2h0ICsgdG9TY3JvbGwgKTsKCQl9CQoJCQoJCXRvUGFnZS5kYXRhKCAicGFnZSIgKS5fdHJpZ2dlciggImJlZm9yZXNob3ciLCBudWxsLCB7IHByZXZQYWdlOiBmcm9tUGFnZSB8fCAkKCAiIiApIH0gKTsKCgkJLy9jbGVhciBwYWdlIGxvYWRlcgoJCSQubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOwoJCQoJCWlmKCB0b3VjaE92ZXJmbG93ICYmIHRvU2Nyb2xsICl7CgkJCQoJCQl0b1BhZ2UuYWRkQ2xhc3MoICJ1aS1tb2JpbGUtcHJlLXRyYW5zaXRpb24iICk7CgkJCS8vIFNlbmQgZm9jdXMgdG8gcGFnZSBhcyBpdCBpcyBub3cgZGlzcGxheTogYmxvY2sKCQkJcmVGb2N1cyggdG9QYWdlICk7CgkJCQoJCQkvL3NldCBwYWdlJ3Mgc2Nyb2xsVG9wIHRvIHJlbWVtYmVyZWQgZGlzdGFuY2UKCQkJaWYoIHRvUGFnZS5pcyggIi51aS1uYXRpdmUtZml4ZWQiICkgKXsKCQkJCXRvUGFnZS5maW5kKCAiLnVpLWNvbnRlbnQiICkuc2Nyb2xsVG9wKCB0b1Njcm9sbCApOwoJCQl9CgkJCWVsc2V7CgkJCQl0b1BhZ2Uuc2Nyb2xsVG9wKCB0b1Njcm9sbCApOwoJCQl9CgkJfQoKCQkvL2ZpbmQgdGhlIHRyYW5zaXRpb24gaGFuZGxlciBmb3IgdGhlIHNwZWNpZmllZCB0cmFuc2l0aW9uLiBJZiB0aGVyZQoJCS8vaXNuJ3Qgb25lIGluIG91ciB0cmFuc2l0aW9uSGFuZGxlcnMgZGljdGlvbmFyeSwgdXNlIHRoZSBkZWZhdWx0IG9uZS4KCQkvL2NhbGwgdGhlIGhhbmRsZXIgaW1tZWRpYXRlbHkgdG8ga2ljay1vZmYgdGhlIHRyYW5zaXRpb24uCgkJdmFyIHRoID0gJC5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW3RyYW5zaXRpb24gfHwgIm5vbmUiXSB8fCAkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIsCgkJCXByb21pc2UgPSB0aCggdHJhbnNpdGlvbiwgcmV2ZXJzZSwgdG9QYWdlLCBmcm9tUGFnZSApOwoKCQlwcm9taXNlLmRvbmUoZnVuY3Rpb24oKSB7CgkJCS8vcmVzZXQgdG9QYWdlIGhlaWdodCBiYWNrCgkJCWlmKCAhdG91Y2hPdmVyZmxvdyApewoJCQkJdG9QYWdlLmhlaWdodCggIiIgKTsKCQkJCS8vIFNlbmQgZm9jdXMgdG8gdGhlIG5ld2x5IHNob3duIHBhZ2UKCQkJCXJlRm9jdXMoIHRvUGFnZSApOwoJCQl9CgkJCQoJCQkvLyBKdW1wIHRvIHRvcCBvciBwcmV2IHNjcm9sbCwgc29tZXRpbWVzIG9uIGlPUyB0aGUgcGFnZSBoYXMgbm90IHJlbmRlcmVkIHlldC4KCQkJaWYoICF0b3VjaE92ZXJmbG93ICl7CgkJCQkkLm1vYmlsZS5zaWxlbnRTY3JvbGwoIHRvU2Nyb2xsICk7CgkJCX0KCgkJCS8vdHJpZ2dlciBzaG93L2hpZGUgZXZlbnRzCgkJCWlmKCBmcm9tUGFnZSApIHsKCQkJCWlmKCAhdG91Y2hPdmVyZmxvdyApewoJCQkJCWZyb21QYWdlLmhlaWdodCggIiIgKTsKCQkJCX0KCQkJCQoJCQkJZnJvbVBhZ2UuZGF0YSggInBhZ2UiICkuX3RyaWdnZXIoICJoaWRlIiwgbnVsbCwgeyBuZXh0UGFnZTogdG9QYWdlIH0gKTsKCQkJfQoKCQkJLy90cmlnZ2VyIHBhZ2VzaG93LCBkZWZpbmUgcHJldlBhZ2UgYXMgZWl0aGVyIGZyb21QYWdlIG9yIGVtcHR5IGpRdWVyeSBvYmoKCQkJdG9QYWdlLmRhdGEoICJwYWdlIiApLl90cmlnZ2VyKCAic2hvdyIsIG51bGwsIHsgcHJldlBhZ2U6IGZyb21QYWdlIHx8ICQoICIiICkgfSApOwoJCX0pOwoKCQlyZXR1cm4gcHJvbWlzZTsKCX0KCgkvL3NpbXBseSBzZXQgdGhlIGFjdGl2ZSBwYWdlJ3MgbWluaW11bSBoZWlnaHQgdG8gc2NyZWVuIGhlaWdodCwgZGVwZW5kaW5nIG9uIG9yaWVudGF0aW9uCglmdW5jdGlvbiBnZXRTY3JlZW5IZWlnaHQoKXsKCQl2YXIgb3JpZW50YXRpb24gCT0galF1ZXJ5LmV2ZW50LnNwZWNpYWwub3JpZW50YXRpb25jaGFuZ2Uub3JpZW50YXRpb24oKSwKCQkJcG9ydAkJCT0gb3JpZW50YXRpb24gPT09ICJwb3J0cmFpdCIsCgkJCXdpbk1pbgkJCT0gcG9ydCA/IDQ4MCA6IDMyMCwKCQkJc2NyZWVuSGVpZ2h0CT0gcG9ydCA/IHNjcmVlbi5hdmFpbEhlaWdodCA6IHNjcmVlbi5hdmFpbFdpZHRoLAoJCQl3aW5IZWlnaHQJCT0gTWF0aC5tYXgoIHdpbk1pbiwgJCggd2luZG93ICkuaGVpZ2h0KCkgKSwKCQkJcGFnZU1pbgkJCT0gTWF0aC5taW4oIHNjcmVlbkhlaWdodCwgd2luSGVpZ2h0ICk7CgoJCXJldHVybiBwYWdlTWluOwoJfQoJCgkkLm1vYmlsZS5nZXRTY3JlZW5IZWlnaHQgPSBnZXRTY3JlZW5IZWlnaHQ7CgoJLy9zaW1wbHkgc2V0IHRoZSBhY3RpdmUgcGFnZSdzIG1pbmltdW0gaGVpZ2h0IHRvIHNjcmVlbiBoZWlnaHQsIGRlcGVuZGluZyBvbiBvcmllbnRhdGlvbgoJZnVuY3Rpb24gcmVzZXRBY3RpdmVQYWdlSGVpZ2h0KCl7CgkJJCggIi4iICsgJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICkuY3NzKCAibWluLWhlaWdodCIsIGdldFNjcmVlbkhlaWdodCgpICk7Cgl9CgoJLy9zaGFyZWQgcGFnZSBlbmhhbmNlbWVudHMKCWZ1bmN0aW9uIGVuaGFuY2VQYWdlKCAkcGFnZSwgcm9sZSApIHsKCQkvLyBJZiBhIHJvbGUgd2FzIHNwZWNpZmllZCwgbWFrZSBzdXJlIHRoZSBkYXRhLXJvbGUgYXR0cmlidXRlCgkJLy8gb24gdGhlIHBhZ2UgZWxlbWVudCBpcyBpbiBzeW5jLgoJCWlmKCByb2xlICkgewoJCQkkcGFnZS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZSIsIHJvbGUgKTsKCQl9CgoJCS8vcnVuIHBhZ2UgcGx1Z2luCgkJJHBhZ2UucGFnZSgpOwoJfQoKLyogZXhwb3NlZCAkLm1vYmlsZSBtZXRob2RzCSAqLwoKCS8vYW5pbWF0aW9uIGNvbXBsZXRlIGNhbGxiYWNrCgkkLmZuLmFuaW1hdGlvbkNvbXBsZXRlID0gZnVuY3Rpb24oIGNhbGxiYWNrICkgewoJCWlmKCAkLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnMgKSB7CgkJCXJldHVybiAkKCB0aGlzICkub25lKCAnd2Via2l0QW5pbWF0aW9uRW5kJywgY2FsbGJhY2sgKTsKCQl9CgkJZWxzZXsKCQkJLy8gZGVmZXIgZXhlY3V0aW9uIGZvciBjb25zaXN0ZW5jeSBiZXR3ZWVuIHdlYmtpdC9ub24gd2Via2l0CgkJCXNldFRpbWVvdXQoIGNhbGxiYWNrLCAwICk7CgkJCXJldHVybiAkKCB0aGlzICk7CgkJfQoJfTsKCgkvL3VwZGF0ZSBsb2NhdGlvbi5oYXNoLCB3aXRoIG9yIHdpdGhvdXQgdHJpZ2dlcmluZyBoYXNoY2hhbmdlIGV2ZW50CgkvL1RPRE8gLSBkZXByZWNhdGUgdGhpcyBvbmUgYXQgMS4wCgkkLm1vYmlsZS51cGRhdGVIYXNoID0gcGF0aC5zZXQ7CgoJLy9leHBvc2UgcGF0aCBvYmplY3Qgb24gJC5tb2JpbGUKCSQubW9iaWxlLnBhdGggPSBwYXRoOwoKCS8vZXhwb3NlIGJhc2Ugb2JqZWN0IG9uICQubW9iaWxlCgkkLm1vYmlsZS5iYXNlID0gYmFzZTsKCgkvL3VybCBzdGFjaywgdXNlZnVsIHdoZW4gcGx1Z2lucyBuZWVkIHRvIGJlIGF3YXJlIG9mIHByZXZpb3VzIHBhZ2VzIHZpZXdlZAoJLy9UT0RPOiBkZXByZWNhdGUgdGhpcyBvbmUgYXQgMS4wCgkkLm1vYmlsZS51cmxzdGFjayA9IHVybEhpc3Rvcnkuc3RhY2s7CgoJLy9oaXN0b3J5IHN0YWNrCgkkLm1vYmlsZS51cmxIaXN0b3J5ID0gdXJsSGlzdG9yeTsKCgkkLm1vYmlsZS5kaWFsb2dIYXNoS2V5ID0gZGlhbG9nSGFzaEtleTsKCgkvL2RlZmF1bHQgbm9uLWFuaW1hdGlvbiB0cmFuc2l0aW9uIGhhbmRsZXIKCSQubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlciA9IGZ1bmN0aW9uKCBuYW1lLCByZXZlcnNlLCAkdG9QYWdlLCAkZnJvbVBhZ2UgKSB7CgkJaWYgKCAkZnJvbVBhZ2UgKSB7CgkJCSRmcm9tUGFnZS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlUGFnZUNsYXNzICk7CgkJfQoJCSR0b1BhZ2UuYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyApOwoKCQlyZXR1cm4gJC5EZWZlcnJlZCgpLnJlc29sdmUoIG5hbWUsIHJldmVyc2UsICR0b1BhZ2UsICRmcm9tUGFnZSApLnByb21pc2UoKTsKCX07CgoJLy9kZWZhdWx0IGhhbmRsZXIgZm9yIHVua25vd24gdHJhbnNpdGlvbnMKCSQubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlciA9ICQubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcjsKCgkvL3RyYW5zaXRpb24gaGFuZGxlciBkaWN0aW9uYXJ5IGZvciAzcmQgcGFydHkgdHJhbnNpdGlvbnMKCSQubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycyA9IHsKCQlub25lOiAkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIKCX07CgoJLy9lbmFibGUgY3Jvc3MtZG9tYWluIHBhZ2Ugc3VwcG9ydAoJJC5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzID0gZmFsc2U7CgoJLy9yZXR1cm4gdGhlIG9yaWdpbmFsIGRvY3VtZW50IHVybAoJJC5tb2JpbGUuZ2V0RG9jdW1lbnRVcmwgPSBmdW5jdGlvbihhc1BhcnNlZE9iamVjdCkgewoJCXJldHVybiBhc1BhcnNlZE9iamVjdCA/ICQuZXh0ZW5kKCB7fSwgZG9jdW1lbnRVcmwgKSA6IGRvY3VtZW50VXJsLmhyZWY7Cgl9OwoKCS8vcmV0dXJuIHRoZSBvcmlnaW5hbCBkb2N1bWVudCBiYXNlIHVybAoJJC5tb2JpbGUuZ2V0RG9jdW1lbnRCYXNlID0gZnVuY3Rpb24oYXNQYXJzZWRPYmplY3QpIHsKCQlyZXR1cm4gYXNQYXJzZWRPYmplY3QgPyAkLmV4dGVuZCgge30sIGRvY3VtZW50QmFzZSApIDogZG9jdW1lbnRCYXNlLmhyZWY7Cgl9OwoKCS8vIExvYWQgYSBwYWdlIGludG8gdGhlIERPTS4KCSQubW9iaWxlLmxvYWRQYWdlID0gZnVuY3Rpb24oIHVybCwgb3B0aW9ucyApIHsKCQkvLyBUaGlzIGZ1bmN0aW9uIHVzZXMgZGVmZXJyZWQgbm90aWZpY2F0aW9ucyB0byBsZXQgY2FsbGVycwoJCS8vIGtub3cgd2hlbiB0aGUgcGFnZSBpcyBkb25lIGxvYWRpbmcsIG9yIGlmIGFuIGVycm9yIGhhcyBvY2N1cnJlZC4KCQl2YXIgZGVmZXJyZWQgPSAkLkRlZmVycmVkKCksCgoJCQkvLyBUaGUgZGVmYXVsdCBsb2FkUGFnZSBvcHRpb25zIHdpdGggb3ZlcnJpZGVzIHNwZWNpZmllZCBieQoJCQkvLyB0aGUgY2FsbGVyLgoJCQlzZXR0aW5ncyA9ICQuZXh0ZW5kKCB7fSwgJC5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsIG9wdGlvbnMgKSwKCgkJCS8vIFRoZSBET00gZWxlbWVudCBmb3IgdGhlIHBhZ2UgYWZ0ZXIgaXQgaGFzIGJlZW4gbG9hZGVkLgoJCQlwYWdlID0gbnVsbCwKCgkJCS8vIElmIHRoZSByZWxvYWRQYWdlIG9wdGlvbiBpcyB0cnVlLCBhbmQgdGhlIHBhZ2UgaXMgYWxyZWFkeQoJCQkvLyBpbiB0aGUgRE9NLCBkdXBDYWNoZWRQYWdlIHdpbGwgYmUgc2V0IHRvIHRoZSBwYWdlIGVsZW1lbnQKCQkJLy8gc28gdGhhdCBpdCBjYW4gYmUgcmVtb3ZlZCBhZnRlciB0aGUgbmV3IHZlcnNpb24gb2YgdGhlCgkJCS8vIHBhZ2UgaXMgbG9hZGVkIG9mZiB0aGUgbmV0d29yay4KCQkJZHVwQ2FjaGVkUGFnZSA9IG51bGwsCgoJCQkvLyBkZXRlcm1pbmUgdGhlIGN1cnJlbnQgYmFzZSB1cmwKCQkJZmluZEJhc2VXaXRoRGVmYXVsdCA9IGZ1bmN0aW9uKCl7CgkJCQl2YXIgY2xvc2VzdEJhc2UgPSAoICQubW9iaWxlLmFjdGl2ZVBhZ2UgJiYgZ2V0Q2xvc2VzdEJhc2VVcmwoICQubW9iaWxlLmFjdGl2ZVBhZ2UgKSApOwoJCQkJcmV0dXJuIGNsb3Nlc3RCYXNlIHx8IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoOwoJCQl9LAoKCQkJLy8gVGhlIGFic29sdXRlIHZlcnNpb24gb2YgdGhlIFVSTCBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24uIFRoaXMKCQkJLy8gdmVyc2lvbiBvZiB0aGUgVVJMIG1heSBjb250YWluIGRpYWxvZy9zdWJwYWdlIHBhcmFtcyBpbiBpdC4KCQkJYWJzVXJsID0gcGF0aC5tYWtlVXJsQWJzb2x1dGUoIHVybCwgZmluZEJhc2VXaXRoRGVmYXVsdCgpICk7CgoKCQkvLyBJZiB0aGUgY2FsbGVyIHByb3ZpZGVkIGRhdGEsIGFuZCB3ZSdyZSB1c2luZyAiZ2V0IiByZXF1ZXN0LAoJCS8vIGFwcGVuZCB0aGUgZGF0YSB0byB0aGUgVVJMLgoJCWlmICggc2V0dGluZ3MuZGF0YSAmJiBzZXR0aW5ncy50eXBlID09PSAiZ2V0IiApIHsKCQkJYWJzVXJsID0gcGF0aC5hZGRTZWFyY2hQYXJhbXMoIGFic1VybCwgc2V0dGluZ3MuZGF0YSApOwoJCQlzZXR0aW5ncy5kYXRhID0gdW5kZWZpbmVkOwoJCX0KCgkJCS8vIFRoZSBhYnNvbHV0ZSB2ZXJzaW9uIG9mIHRoZSBVUkwgbWludXMgYW55IGRpYWxvZy9zdWJwYWdlIHBhcmFtcy4KCQkJLy8gSW4gb3RoZXJ3b3JkcyB0aGUgcmVhbCBVUkwgb2YgdGhlIHBhZ2UgdG8gYmUgbG9hZGVkLgoJCXZhciBmaWxlVXJsID0gcGF0aC5nZXRGaWxlUGF0aCggYWJzVXJsICksCgoJCQkvLyBUaGUgdmVyc2lvbiBvZiB0aGUgVXJsIGFjdHVhbGx5IHN0b3JlZCBpbiB0aGUgZGF0YS11cmwgYXR0cmlidXRlIG9mCgkJCS8vIHRoZSBwYWdlLiBGb3IgZW1iZWRkZWQgcGFnZXMsIGl0IGlzIGp1c3QgdGhlIGlkIG9mIHRoZSBwYWdlLiBGb3IgcGFnZXMKCQkJLy8gd2l0aGluIHRoZSBzYW1lIGRvbWFpbiBhcyB0aGUgZG9jdW1lbnQgYmFzZSwgaXQgaXMgdGhlIHNpdGUgcmVsYXRpdmUKCQkJLy8gcGF0aC4gRm9yIGNyb3NzLWRvbWFpbiBwYWdlcyAoUGhvbmUgR2FwIG9ubHkpIHRoZSBlbnRpcmUgYWJzb2x1dGUgVXJsCgkJCS8vIHVzZWQgdG8gbG9hZCB0aGUgcGFnZS4KCQkJZGF0YVVybCA9IHBhdGguY29udmVydFVybFRvRGF0YVVybCggYWJzVXJsICk7CgoJCS8vIE1ha2Ugc3VyZSB3ZSBoYXZlIGEgcGFnZUNvbnRhaW5lciB0byB3b3JrIHdpdGguCgkJc2V0dGluZ3MucGFnZUNvbnRhaW5lciA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIgfHwgJC5tb2JpbGUucGFnZUNvbnRhaW5lcjsKCgkJLy8gQ2hlY2sgdG8gc2VlIGlmIHRoZSBwYWdlIGFscmVhZHkgZXhpc3RzIGluIHRoZSBET00uCgkJcGFnZSA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oICI6anFtRGF0YSh1cmw9JyIgKyBkYXRhVXJsICsgIicpIiApOwoKCQkvLyBJZiB3ZSBmYWlsZWQgdG8gZmluZCBhIHBhZ2UgaW4gdGhlIERPTSwgY2hlY2sgdGhlIFVSTCB0byBzZWUgaWYgaXQKCQkvLyByZWZlcnMgdG8gdGhlIGZpcnN0IHBhZ2UgaW4gdGhlIGFwcGxpY2F0aW9uLgoJCWlmICggcGFnZS5sZW5ndGggPT09IDAgJiYgJC5tb2JpbGUuZmlyc3RQYWdlICYmIHBhdGguaXNGaXJzdFBhZ2VVcmwoIGFic1VybCApICkgewoJCQlwYWdlID0gJCggJC5tb2JpbGUuZmlyc3RQYWdlICk7CgkJfQoKCQkvLyBSZXNldCBiYXNlIHRvIHRoZSBkZWZhdWx0IGRvY3VtZW50IGJhc2UuCgkJaWYgKCBiYXNlICkgewoJCQliYXNlLnJlc2V0KCk7CgkJfQoKCQkvLyBJZiB0aGUgcGFnZSB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBpcyBhbHJlYWR5IGluIHRoZSBET00sCgkJLy8gYW5kIHRoZSBjYWxsZXIgZGlkIG5vdCBpbmRpY2F0ZSB0aGF0IHdlIHNob3VsZCBmb3JjZSBhCgkJLy8gcmVsb2FkIG9mIHRoZSBmaWxlLCB3ZSBhcmUgZG9uZS4gT3RoZXJ3aXNlLCB0cmFjayB0aGUKCQkvLyBleGlzdGluZyBwYWdlIGFzIGEgZHVwbGljYXRlZC4KCQlpZiAoIHBhZ2UubGVuZ3RoICkgewoJCQlpZiAoICFzZXR0aW5ncy5yZWxvYWRQYWdlICkgewoJCQkJZW5oYW5jZVBhZ2UoIHBhZ2UsIHNldHRpbmdzLnJvbGUgKTsKCQkJCWRlZmVycmVkLnJlc29sdmUoIGFic1VybCwgb3B0aW9ucywgcGFnZSApOwoJCQkJcmV0dXJuIGRlZmVycmVkLnByb21pc2UoKTsKCQkJfQoJCQlkdXBDYWNoZWRQYWdlID0gcGFnZTsKCQl9CgoJCWlmICggc2V0dGluZ3Muc2hvd0xvYWRNc2cgKSB7CgoJCQkvLyBUaGlzIGNvbmZpZ3VyYWJsZSB0aW1lb3V0IGFsbG93cyBjYWNoZWQgcGFnZXMgYSBicmllZiBkZWxheSB0byBsb2FkIHdpdGhvdXQgc2hvd2luZyBhIG1lc3NhZ2UKCQkJdmFyIGxvYWRNc2dEZWxheSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKCQkJCQkkLm1vYmlsZS5zaG93UGFnZUxvYWRpbmdNc2coKTsKCQkJCX0sIHNldHRpbmdzLmxvYWRNc2dEZWxheSApLAoKCQkJCS8vIFNoYXJlZCBsb2dpYyBmb3IgY2xlYXJpbmcgdGltZW91dCBhbmQgcmVtb3ZpbmcgbWVzc2FnZS4KCQkJCWhpZGVNc2cgPSBmdW5jdGlvbigpewoKCQkJCQkvLyBTdG9wIG1lc3NhZ2Ugc2hvdyB0aW1lcgoJCQkJCWNsZWFyVGltZW91dCggbG9hZE1zZ0RlbGF5ICk7CgoJCQkJCS8vIEhpZGUgbG9hZGluZyBtZXNzYWdlCgkJCQkJJC5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7CgkJCQl9OwoJCX0KCgkJaWYgKCAhKCAkLm1vYmlsZS5hbGxvd0Nyb3NzRG9tYWluUGFnZXMgfHwgcGF0aC5pc1NhbWVEb21haW4oIGRvY3VtZW50VXJsLCBhYnNVcmwgKSApICkgewoJCQlkZWZlcnJlZC5yZWplY3QoIGFic1VybCwgb3B0aW9ucyApOwoJCX0gZWxzZSB7CgkJCS8vIExvYWQgdGhlIG5ldyBwYWdlLgoJCQkkLmFqYXgoewoJCQkJdXJsOiBmaWxlVXJsLAoJCQkJdHlwZTogc2V0dGluZ3MudHlwZSwKCQkJCWRhdGE6IHNldHRpbmdzLmRhdGEsCgkJCQlkYXRhVHlwZTogImh0bWwiLAoJCQkJc3VjY2VzczogZnVuY3Rpb24oIGh0bWwgKSB7CgkJCQkJLy9wcmUtcGFyc2UgaHRtbCB0byBjaGVjayBmb3IgYSBkYXRhLXVybCwKCQkJCQkvL3VzZSBpdCBhcyB0aGUgbmV3IGZpbGVVcmwsIGJhc2UgcGF0aCwgZXRjCgkJCQkJdmFyIGFsbCA9ICQoICI8ZGl2PjwvZGl2PiIgKSwKCgkJCQkJCS8vcGFnZSB0aXRsZSByZWdleHAKCQkJCQkJbmV3UGFnZVRpdGxlID0gaHRtbC5tYXRjaCggLzx0aXRsZVtePl0qPihbXjxdKikvICkgJiYgUmVnRXhwLiQxLAoKCQkJCQkJLy8gVE9ETyBoYW5kbGUgZGlhbG9ncyBhZ2FpbgoJCQkJCQlwYWdlRWxlbVJlZ2V4ID0gbmV3IFJlZ0V4cCggIi4qKDxbXj5dK1xcYmRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9W1wiJ10/cGFnZVtcIiddP1tePl0qPikuKiIgKSwKCQkJCQkJZGF0YVVybFJlZ2V4ID0gbmV3IFJlZ0V4cCggIlxcYmRhdGEtIiArICQubW9iaWxlLm5zICsgInVybD1bXCInXT8oW15cIic+XSopW1wiJ10/IiApOwoKCgkJCQkJLy8gZGF0YS11cmwgbXVzdCBiZSBwcm92aWRlZCBmb3IgdGhlIGJhc2UgdGFnIHNvIHJlc291cmNlIHJlcXVlc3RzIGNhbiBiZSBkaXJlY3RlZCB0byB0aGUKCQkJCQkvLyBjb3JyZWN0IHVybC4gbG9hZGluZyBpbnRvIGEgdGVtcHJvcmFyeSBlbGVtZW50IG1ha2VzIHRoZXNlIHJlcXVlc3RzIGltbWVkaWF0ZWx5CgkJCQkJaWYoIHBhZ2VFbGVtUmVnZXgudGVzdCggaHRtbCApCgkJCQkJCQkmJiBSZWdFeHAuJDEKCQkJCQkJCSYmIGRhdGFVcmxSZWdleC50ZXN0KCBSZWdFeHAuJDEgKQoJCQkJCQkJJiYgUmVnRXhwLiQxICkgewoJCQkJCQl1cmwgPSBmaWxlVXJsID0gcGF0aC5nZXRGaWxlUGF0aCggUmVnRXhwLiQxICk7CgkJCQkJfQoJCQkJCWVsc2V7CgoJCQkJCX0KCgkJCQkJaWYgKCBiYXNlICkgewoJCQkJCQliYXNlLnNldCggZmlsZVVybCApOwoJCQkJCX0KCgkJCQkJLy93b3JrYXJvdW5kIHRvIGFsbG93IHNjcmlwdHMgdG8gZXhlY3V0ZSB3aGVuIGluY2x1ZGVkIGluIHBhZ2UgZGl2cwoJCQkJCWFsbC5nZXQoIDAgKS5pbm5lckhUTUwgPSBodG1sOwoJCQkJCXBhZ2UgPSBhbGwuZmluZCggIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiICkuZmlyc3QoKTsKCgkJCQkJLy9pZiBwYWdlIGVsZW0gY291bGRuJ3QgYmUgZm91bmQsIGNyZWF0ZSBvbmUgYW5kIGluc2VydCB0aGUgYm9keSBlbGVtZW50J3MgY29udGVudHMKCQkJCQlpZiggIXBhZ2UubGVuZ3RoICl7CgkJCQkJCXBhZ2UgPSAkKCAiPGRpdiBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyb2xlPSdwYWdlJz4iICsgaHRtbC5zcGxpdCggLzxcLz9ib2R5W14+XSo+L2dtaSApWzFdICsgIjwvZGl2PiIgKTsKCQkJCQl9CgoJCQkJCWlmICggbmV3UGFnZVRpdGxlICYmICFwYWdlLmpxbURhdGEoICJ0aXRsZSIgKSApIHsKCQkJCQkJcGFnZS5qcW1EYXRhKCAidGl0bGUiLCBuZXdQYWdlVGl0bGUgKTsKCQkJCQl9CgoJCQkJCS8vcmV3cml0ZSBzcmMgYW5kIGhyZWYgYXR0cnMgdG8gdXNlIGEgYmFzZSB1cmwKCQkJCQlpZiggISQuc3VwcG9ydC5keW5hbWljQmFzZVRhZyApIHsKCQkJCQkJdmFyIG5ld1BhdGggPSBwYXRoLmdldCggZmlsZVVybCApOwoJCQkJCQlwYWdlLmZpbmQoICJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIgKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQkJCQkJdmFyIHRoaXNBdHRyID0gJCggdGhpcyApLmlzKCAnW2hyZWZdJyApID8gJ2hyZWYnIDoKCQkJCQkJCQkJJCh0aGlzKS5pcygnW3NyY10nKSA/ICdzcmMnIDogJ2FjdGlvbicsCgkJCQkJCQkJdGhpc1VybCA9ICQoIHRoaXMgKS5hdHRyKCB0aGlzQXR0ciApOwoKCQkJCQkJCS8vIFhYWF9qYmxhczogV2UgbmVlZCB0byBmaXggdGhpcyBzbyB0aGF0IGl0IHJlbW92ZXMgdGhlIGRvY3VtZW50CgkJCQkJCQkvLyAgICAgICAgICAgIGJhc2UgVVJMLCBhbmQgdGhlbiBwcmVwZW5kcyB3aXRoIHRoZSBuZXcgcGFnZSBVUkwuCgkJCQkJCQkvL2lmIGZ1bGwgcGF0aCBleGlzdHMgYW5kIGlzIHNhbWUsIGNob3AgaXQgLSBoZWxwcyBJRSBvdXQKCQkJCQkJCXRoaXNVcmwgPSB0aGlzVXJsLnJlcGxhY2UoIGxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIGxvY2F0aW9uLmhvc3QgKyBsb2NhdGlvbi5wYXRobmFtZSwgJycgKTsKCgkJCQkJCQlpZiggIS9eKFx3Kzp8I3xcLykvLnRlc3QoIHRoaXNVcmwgKSApIHsKCQkJCQkJCQkkKCB0aGlzICkuYXR0ciggdGhpc0F0dHIsIG5ld1BhdGggKyB0aGlzVXJsICk7CgkJCQkJCQl9CgkJCQkJCX0pOwoJCQkJCX0KCgkJCQkJLy9hcHBlbmQgdG8gcGFnZSBhbmQgZW5oYW5jZQoJCQkJCXBhZ2UKCQkJCQkJLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ1cmwiLCBwYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoIGZpbGVVcmwgKSApCgkJCQkJCS5hcHBlbmRUbyggc2V0dGluZ3MucGFnZUNvbnRhaW5lciApOwoKCQkJCQkvLyB3YWl0IGZvciBwYWdlIGNyZWF0aW9uIHRvIGxldmVyYWdlIG9wdGlvbnMgZGVmaW5lZCBvbiB3aWRnZXQKCQkJCQlwYWdlLm9uZSgncGFnZWNyZWF0ZScsIGZ1bmN0aW9uKCl7CgoJCQkJCQkvLyB3aGVuIGRvbSBjYWNoaW5nIGlzIG5vdCBlbmFibGVkIGJpbmQgdG8gcmVtb3ZlIHRoZSBwYWdlIG9uIGhpZGUKCQkJCQkJaWYoICFwYWdlLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlICl7CgkJCQkJCQlwYWdlLmJpbmQoICJwYWdlaGlkZS5yZW1vdmUiLCBmdW5jdGlvbigpewoJCQkJCQkJCSQodGhpcykucmVtb3ZlKCk7CgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCX0pOwoKCQkJCQllbmhhbmNlUGFnZSggcGFnZSwgc2V0dGluZ3Mucm9sZSApOwoKCQkJCQkvLyBFbmhhbmNpbmcgdGhlIHBhZ2UgbWF5IHJlc3VsdCBpbiBuZXcgZGlhbG9ncy9zdWIgcGFnZXMgYmVpbmcgaW5zZXJ0ZWQKCQkJCQkvLyBpbnRvIHRoZSBET00uIElmIHRoZSBvcmlnaW5hbCBhYnNVcmwgcmVmZXJzIHRvIGEgc3ViLXBhZ2UsIHRoYXQgaXMgdGhlCgkJCQkJLy8gcmVhbCBwYWdlIHdlIGFyZSBpbnRlcmVzdGVkIGluLgoJCQkJCWlmICggYWJzVXJsLmluZGV4T2YoICImIiArICQubW9iaWxlLnN1YlBhZ2VVcmxLZXkgKSA+IC0xICkgewoJCQkJCQlwYWdlID0gc2V0dGluZ3MucGFnZUNvbnRhaW5lci5jaGlsZHJlbiggIjpqcW1EYXRhKHVybD0nIiArIGRhdGFVcmwgKyAiJykiICk7CgkJCQkJfQoKCQkJCQkvL2JpbmQgcGFnZUhpZGUgdG8gcmVtb3ZlUGFnZSBhZnRlciBpdCdzIGhpZGRlbiwgaWYgdGhlIHBhZ2Ugb3B0aW9ucyBzcGVjaWZ5IHRvIGRvIHNvCgoJCQkJCS8vIFJlbW92ZSBsb2FkaW5nIG1lc3NhZ2UuCgkJCQkJaWYgKCBzZXR0aW5ncy5zaG93TG9hZE1zZyApIHsKCQkJCQkJaGlkZU1zZygpOwoJCQkJCX0KCgkJCQkJZGVmZXJyZWQucmVzb2x2ZSggYWJzVXJsLCBvcHRpb25zLCBwYWdlLCBkdXBDYWNoZWRQYWdlICk7CgkJCQl9LAoJCQkJZXJyb3I6IGZ1bmN0aW9uKCkgewoJCQkJCS8vc2V0IGJhc2UgYmFjayB0byBjdXJyZW50IHBhdGgKCQkJCQlpZiggYmFzZSApIHsKCQkJCQkJYmFzZS5zZXQoIHBhdGguZ2V0KCkgKTsKCQkJCQl9CgoJCQkJCS8vIFJlbW92ZSBsb2FkaW5nIG1lc3NhZ2UuCgkJCQkJaWYgKCBzZXR0aW5ncy5zaG93TG9hZE1zZyApIHsKCgkJCQkJCS8vIFJlbW92ZSBsb2FkaW5nIG1lc3NhZ2UuCgkJCQkJCWhpZGVNc2coKTsKCgkJCQkJCS8vc2hvdyBlcnJvciBtZXNzYWdlCgkJCQkJCSQoICI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktb3ZlcmxheS1zaGFkb3cgdWktYm9keS1lIHVpLWNvcm5lci1hbGwnPjxoMT4iKyAkLm1vYmlsZS5wYWdlTG9hZEVycm9yTWVzc2FnZSArIjwvaDE+PC9kaXY+IiApCgkJCQkJCQkuY3NzKHsgImRpc3BsYXkiOiAiYmxvY2siLCAib3BhY2l0eSI6IDAuOTYsICJ0b3AiOiAkd2luZG93LnNjcm9sbFRvcCgpICsgMTAwIH0pCgkJCQkJCQkuYXBwZW5kVG8oIHNldHRpbmdzLnBhZ2VDb250YWluZXIgKQoJCQkJCQkJLmRlbGF5KCA4MDAgKQoJCQkJCQkJLmZhZGVPdXQoIDQwMCwgZnVuY3Rpb24oKSB7CgkJCQkJCQkJJCggdGhpcyApLnJlbW92ZSgpOwoJCQkJCQkJfSk7CgkJCQkJfQoKCQkJCQlkZWZlcnJlZC5yZWplY3QoIGFic1VybCwgb3B0aW9ucyApOwoJCQkJfQoJCQl9KTsKCQl9CgoJCXJldHVybiBkZWZlcnJlZC5wcm9taXNlKCk7Cgl9OwoKCSQubW9iaWxlLmxvYWRQYWdlLmRlZmF1bHRzID0gewoJCXR5cGU6ICJnZXQiLAoJCWRhdGE6IHVuZGVmaW5lZCwKCQlyZWxvYWRQYWdlOiBmYWxzZSwKCQlyb2xlOiB1bmRlZmluZWQsIC8vIEJ5IGRlZmF1bHQgd2UgcmVseSBvbiB0aGUgcm9sZSBkZWZpbmVkIGJ5IHRoZSBAZGF0YS1yb2xlIGF0dHJpYnV0ZS4KCQlzaG93TG9hZE1zZzogZmFsc2UsCgkJcGFnZUNvbnRhaW5lcjogdW5kZWZpbmVkLAoJCWxvYWRNc2dEZWxheTogNTAgLy8gVGhpcyBkZWxheSBhbGxvd3MgbG9hZHMgdGhhdCBwdWxsIGZyb20gYnJvd3NlciBjYWNoZSB0byBvY2N1ciB3aXRob3V0IHNob3dpbmcgdGhlIGxvYWRpbmcgbWVzc2FnZS4KCX07CgoJLy8gU2hvdyBhIHNwZWNpZmljIHBhZ2UgaW4gdGhlIHBhZ2UgY29udGFpbmVyLgoJJC5tb2JpbGUuY2hhbmdlUGFnZSA9IGZ1bmN0aW9uKCB0b1BhZ2UsIG9wdGlvbnMgKSB7CgkJLy8gWFhYOiBSRU1PVkVfQkVGT1JFX1NISVBQSU5HXzEuMAoJCS8vIFRoaXMgaXMgdGVtcG9yYXJ5IGNvZGUgdGhhdCBtYWtlcyBjaGFuZ2VQYWdlKCkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzIGFscGhhIHZlcnNpb25zLgoJCWlmICggdHlwZW9mIG9wdGlvbnMgIT09ICJvYmplY3QiICkgewoJCQl2YXIgb3B0cyA9IG51bGw7CgoJCQkvLyBNYXAgb2xkLXN0eWxlIGNhbGwgc2lnbmF0dXJlIGZvciBmb3JtIHN1Ym1pdCB0byB0aGUgbmV3IG9wdGlvbnMgb2JqZWN0IGZvcm1hdC4KCQkJaWYgKCB0eXBlb2YgdG9QYWdlID09PSAib2JqZWN0IiAmJiB0b1BhZ2UudXJsICYmIHRvUGFnZS50eXBlICkgewoJCQkJb3B0cyA9IHsKCQkJCQl0eXBlOiB0b1BhZ2UudHlwZSwKCQkJCQlkYXRhOiB0b1BhZ2UuZGF0YSwKCQkJCQlmb3JjZVBhZ2VMb2FkOiB0cnVlCgkJCQl9OwoJCQkJdG9QYWdlID0gdG9QYWdlLnVybDsKCQkJfQoKCQkJLy8gVGhlIGFyZ3VtZW50cyBwYXNzZWQgaW50byB0aGUgZnVuY3Rpb24gbmVlZCB0byBiZSByZS1tYXBwZWQKCQkJLy8gdG8gdGhlIG5ldyBvcHRpb25zIG9iamVjdCBmb3JtYXQuCgkJCXZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoOwoJCQlpZiAoIGxlbiA+IDEgKSB7CgkJCQl2YXIgYXJnTmFtZXMgPSBbICJ0cmFuc2l0aW9uIiwgInJldmVyc2UiLCAiY2hhbmdlSGFzaCIsICJmcm9tSGFzaENoYW5nZSIgXSwgaTsKCQkJCWZvciAoIGkgPSAxOyBpIDwgbGVuOyBpKysgKSB7CgkJCQkJdmFyIGEgPSBhcmd1bWVudHNbIGkgXTsKCQkJCQlpZiAoIHR5cGVvZiBhICE9PSAidW5kZWZpbmVkIiApIHsKCQkJCQkJb3B0cyA9IG9wdHMgfHwge307CgkJCQkJCW9wdHNbIGFyZ05hbWVzWyBpIC0gMSBdIF0gPSBhOwoJCQkJCX0KCQkJCX0KCQkJfQoKCQkJLy8gSWYgYW4gb3B0aW9ucyBvYmplY3Qgd2FzIGNyZWF0ZWQsIHRoZW4gd2Uga25vdyBjaGFuZ2VQYWdlKCkgd2FzIGNhbGxlZAoJCQkvLyB3aXRoIGFuIG9sZCBzaWduYXR1cmUuCgkJCWlmICggb3B0cyApIHsKCQkJCXJldHVybiAkLm1vYmlsZS5jaGFuZ2VQYWdlKCB0b1BhZ2UsIG9wdHMgKTsKCQkJfQoJCX0KCQkvLyBYWFg6IFJFTU9WRV9CRUZPUkVfU0hJUFBJTkdfMS4wCgoJCS8vIElmIHdlIGFyZSBpbiB0aGUgbWlkc3Qgb2YgYSB0cmFuc2l0aW9uLCBxdWV1ZSB0aGUgY3VycmVudCByZXF1ZXN0LgoJCS8vIFdlJ2xsIGNhbGwgY2hhbmdlUGFnZSgpIG9uY2Ugd2UncmUgZG9uZSB3aXRoIHRoZSBjdXJyZW50IHRyYW5zaXRpb24gdG8KCQkvLyBzZXJ2aWNlIHRoZSByZXF1ZXN0LgoJCWlmKCBpc1BhZ2VUcmFuc2l0aW9uaW5nICkgewoJCQlwYWdlVHJhbnNpdGlvblF1ZXVlLnVuc2hpZnQoIGFyZ3VtZW50cyApOwoJCQlyZXR1cm47CgkJfQoKCQl2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCgge30sICQubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMsIG9wdGlvbnMgKTsKCgkJLy8gTWFrZSBzdXJlIHdlIGhhdmUgYSBwYWdlQ29udGFpbmVyIHRvIHdvcmsgd2l0aC4KCQlzZXR0aW5ncy5wYWdlQ29udGFpbmVyID0gc2V0dGluZ3MucGFnZUNvbnRhaW5lciB8fCAkLm1vYmlsZS5wYWdlQ29udGFpbmVyOwoKCQkvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIGZyb21QYWdlLgoJCXNldHRpbmdzLmZyb21QYWdlID0gc2V0dGluZ3MuZnJvbVBhZ2UgfHwgJC5tb2JpbGUuYWN0aXZlUGFnZTsKCgkJdmFyIG1wYyA9IHNldHRpbmdzLnBhZ2VDb250YWluZXIsCgkJCXBiY0V2ZW50ID0gbmV3ICQuRXZlbnQoICJwYWdlYmVmb3JlY2hhbmdlIiApLAoJCQl0cmlnZ2VyRGF0YSA9IHsgdG9QYWdlOiB0b1BhZ2UsIG9wdGlvbnM6IHNldHRpbmdzIH07CgoJCS8vIExldCBsaXN0ZW5lcnMga25vdyB3ZSdyZSBhYm91dCB0byBjaGFuZ2UgdGhlIGN1cnJlbnQgcGFnZS4KCQltcGMudHJpZ2dlciggcGJjRXZlbnQsIHRyaWdnZXJEYXRhICk7CgoJCW1wYy50cmlnZ2VyKCAiYmVmb3JlY2hhbmdlcGFnZSIsIHRyaWdnZXJEYXRhICk7IC8vIFhYWDogREVQUkVDQVRFRCBmb3IgMS4wCgkJCgkJLy8gSWYgdGhlIGRlZmF1bHQgYmVoYXZpb3IgaXMgcHJldmVudGVkLCBzdG9wIGhlcmUhCgkJaWYoIHBiY0V2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICl7CgkJCXJldHVybjsKCQl9CgoJCS8vIFdlIGFsbG93ICJwYWdlYmVmb3JlY2hhbmdlIiBvYnNlcnZlcnMgdG8gbW9kaWZ5IHRoZSB0b1BhZ2UgaW4gdGhlIHRyaWdnZXIKCQkvLyBkYXRhIHRvIGFsbG93IGZvciByZWRpcmVjdHMuIE1ha2Ugc3VyZSBvdXIgdG9QYWdlIGlzIHVwZGF0ZWQuCgoJCXRvUGFnZSA9IHRyaWdnZXJEYXRhLnRvUGFnZTsKCgkJLy8gU2V0IHRoZSBpc1BhZ2VUcmFuc2l0aW9uaW5nIGZsYWcgdG8gcHJldmVudCBhbnkgcmVxdWVzdHMgZnJvbQoJCS8vIGVudGVyaW5nIHRoaXMgbWV0aG9kIHdoaWxlIHdlIGFyZSBpbiB0aGUgbWlkc3Qgb2YgbG9hZGluZyBhIHBhZ2UKCQkvLyBvciB0cmFuc2l0aW9uaW5nLgoKCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gdHJ1ZTsKCgkJLy8gSWYgdGhlIGNhbGxlciBwYXNzZWQgdXMgYSB1cmwsIGNhbGwgbG9hZFBhZ2UoKQoJCS8vIHRvIG1ha2Ugc3VyZSBpdCBpcyBsb2FkZWQgaW50byB0aGUgRE9NLiBXZSdsbCBsaXN0ZW4KCQkvLyB0byB0aGUgcHJvbWlzZSBvYmplY3QgaXQgcmV0dXJucyBzbyB3ZSBrbm93IHdoZW4KCQkvLyBpdCBpcyBkb25lIGxvYWRpbmcgb3IgaWYgYW4gZXJyb3Igb2N1cnJlZC4KCQlpZiAoIHR5cGVvZiB0b1BhZ2UgPT0gInN0cmluZyIgKSB7CgkJCSQubW9iaWxlLmxvYWRQYWdlKCB0b1BhZ2UsIHNldHRpbmdzICkKCQkJCS5kb25lKGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMsIG5ld1BhZ2UsIGR1cENhY2hlZFBhZ2UgKSB7CgkJCQkJaXNQYWdlVHJhbnNpdGlvbmluZyA9IGZhbHNlOwoJCQkJCW9wdGlvbnMuZHVwbGljYXRlQ2FjaGVkUGFnZSA9IGR1cENhY2hlZFBhZ2U7CgkJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggbmV3UGFnZSwgb3B0aW9ucyApOwoJCQkJfSkKCQkJCS5mYWlsKGZ1bmN0aW9uKCB1cmwsIG9wdGlvbnMgKSB7CgkJCQkJLy8gWFhYX2pibGFzOiBGaXJlIG9mZiBjaGFuZ2VwYWdlZmFpbGVkIG5vdGlmaWNhaXRvbi4KCQkJCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gZmFsc2U7CgoJCQkJCS8vY2xlYXIgb3V0IHRoZSBhY3RpdmUgYnV0dG9uIHN0YXRlCgkJCQkJcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCB0cnVlICk7CgoJCQkJCS8vcmVsZWFzZSB0cmFuc2l0aW9uIGxvY2sgc28gbmF2aWdhdGlvbiBpcyBmcmVlIGFnYWluCgkJCQkJcmVsZWFzZVBhZ2VUcmFuc2l0aW9uTG9jaygpOwoJCQkJCXNldHRpbmdzLnBhZ2VDb250YWluZXIudHJpZ2dlciggInBhZ2VjaGFuZ2VmYWlsZWQiLCB0cmlnZ2VyRGF0YSApOwoJCQkJCXNldHRpbmdzLnBhZ2VDb250YWluZXIudHJpZ2dlciggImNoYW5nZXBhZ2VmYWlsZWQiLCB0cmlnZ2VyRGF0YSApOyAvLyBYWFg6IERFUFJFQ0FURUQgZm9yIDEuMAoJCQkJfSk7CgkJCXJldHVybjsKCQl9CgoJCS8vIFRoZSBjYWxsZXIgcGFzc2VkIHVzIGEgcmVhbCBwYWdlIERPTSBlbGVtZW50LiBVcGRhdGUgb3VyCgkJLy8gaW50ZXJuYWwgc3RhdGUgYW5kIHRoZW4gdHJpZ2dlciBhIHRyYW5zaXRpb24gdG8gdGhlIHBhZ2UuCgkJdmFyIGZyb21QYWdlID0gc2V0dGluZ3MuZnJvbVBhZ2UsCgkJCXVybCA9ICggc2V0dGluZ3MuZGF0YVVybCAmJiBwYXRoLmNvbnZlcnRVcmxUb0RhdGFVcmwoIHNldHRpbmdzLmRhdGFVcmwgKSApIHx8IHRvUGFnZS5qcW1EYXRhKCAidXJsIiApLAoJCQkvLyBUaGUgcGFnZVVybCB2YXIgaXMgdXN1YWxseSB0aGUgc2FtZSBhcyB1cmwsIGV4Y2VwdCB3aGVuIHVybCBpcyBvYnNjdXJlZCBhcyBhIGRpYWxvZyB1cmwuIHBhZ2VVcmwgYWx3YXlzIGNvbnRhaW5zIHRoZSBmaWxlIHBhdGgKCQkJcGFnZVVybCA9IHVybCwKCQkJZmlsZVVybCA9IHBhdGguZ2V0RmlsZVBhdGgoIHVybCApLAoJCQlhY3RpdmUgPSB1cmxIaXN0b3J5LmdldEFjdGl2ZSgpLAoJCQlhY3RpdmVJc0luaXRpYWxQYWdlID0gdXJsSGlzdG9yeS5hY3RpdmVJbmRleCA9PT0gMCwKCQkJaGlzdG9yeURpciA9IDAsCgkJCXBhZ2VUaXRsZSA9IGRvY3VtZW50LnRpdGxlLAoJCQlpc0RpYWxvZyA9IHNldHRpbmdzLnJvbGUgPT09ICJkaWFsb2ciIHx8IHRvUGFnZS5qcW1EYXRhKCAicm9sZSIgKSA9PT0gImRpYWxvZyI7CgoJCS8vIElmIHdlIGFyZSB0cnlpbmcgdG8gdHJhbnNpdGlvbiB0byB0aGUgc2FtZSBwYWdlIHRoYXQgd2UgYXJlIGN1cnJlbnRseSBvbiBpZ25vcmUgdGhlIHJlcXVlc3QuCgkJLy8gYW4gaWxsZWdhbCBzYW1lIHBhZ2UgcmVxdWVzdCBpcyBkZWZpbmVkIGJ5IHRoZSBjdXJyZW50IHBhZ2UgYmVpbmcgdGhlIHNhbWUgYXMgdGhlIHVybCwgYXMgbG9uZyBhcyB0aGVyZSdzIGhpc3RvcnkKCQkvLyBhbmQgdG9QYWdlIGlzIG5vdCBhbiBhcnJheSBvciBvYmplY3QgKHRob3NlIGFyZSBhbGxvd2VkIHRvIGJlICJzYW1lIikKCQkvLwoJCS8vIFhYWF9qYmxhczogV2UgbmVlZCB0byByZW1vdmUgdGhpcyBhdCBzb21lIHBvaW50IHdoZW4gd2UgYWxsb3cgZm9yIHRyYW5zaXRpb25zCgkJLy8gICAgICAgICAgICB0byB0aGUgc2FtZSBwYWdlLgoJCWlmKCBmcm9tUGFnZSAmJiBmcm9tUGFnZVswXSA9PT0gdG9QYWdlWzBdICkgewoJCQlpc1BhZ2VUcmFuc2l0aW9uaW5nID0gZmFsc2U7CgkJCW1wYy50cmlnZ2VyKCAicGFnZWNoYW5nZSIsIHRyaWdnZXJEYXRhICk7CgkJCW1wYy50cmlnZ2VyKCAiY2hhbmdlcGFnZSIsIHRyaWdnZXJEYXRhICk7IC8vIFhYWDogREVQUkVDQVRFRCBmb3IgMS4wCgkJCXJldHVybjsKCQl9CgoJCS8vIFdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZSBwYWdlIHdlIGFyZSBnaXZlbiBoYXMgYWxyZWFkeSBiZWVuIGVuaGFuY2VkLgoJCWVuaGFuY2VQYWdlKCB0b1BhZ2UsIHNldHRpbmdzLnJvbGUgKTsKCgkJLy8gSWYgdGhlIGNoYW5nZVBhZ2UgcmVxdWVzdCB3YXMgc2VudCBmcm9tIGEgaGFzaENoYW5nZSBldmVudCwgY2hlY2sgdG8gc2VlIGlmIHRoZQoJCS8vIHBhZ2UgaXMgYWxyZWFkeSB3aXRoaW4gdGhlIHVybEhpc3Rvcnkgc3RhY2suIElmIHNvLCB3ZSdsbCBhc3N1bWUgdGhlIHVzZXIgaGl0CgkJLy8gdGhlIGZvcndhcmQvYmFjayBidXR0b24gYW5kIHdpbGwgdHJ5IHRvIG1hdGNoIHRoZSB0cmFuc2l0aW9uIGFjY29yZGluZ2x5LgoJCWlmKCBzZXR0aW5ncy5mcm9tSGFzaENoYW5nZSApIHsKCQkJdXJsSGlzdG9yeS5kaXJlY3RIYXNoQ2hhbmdlKHsKCQkJCWN1cnJlbnRVcmw6CXVybCwKCQkJCWlzQmFjazoJCWZ1bmN0aW9uKCkgeyBoaXN0b3J5RGlyID0gLTE7IH0sCgkJCQlpc0ZvcndhcmQ6CWZ1bmN0aW9uKCkgeyBoaXN0b3J5RGlyID0gMTsgfQoJCQl9KTsKCQl9CgoJCS8vIEtpbGwgdGhlIGtleWJvYXJkLgoJCS8vIFhYWF9qYmxhczogV2UgbmVlZCB0byBzdG9wIGNyYXdsaW5nIHRoZSBlbnRpcmUgZG9jdW1lbnQgdG8ga2lsbCBmb2N1cy4gSW5zdGVhZCwKCQkvLyAgICAgICAgICAgIHdlIHNob3VsZCBiZSB0cmFja2luZyBmb2N1cyB3aXRoIGEgbGl2ZSgpIGhhbmRsZXIgc28gd2UgYWxyZWFkeSBoYXZlCgkJLy8gICAgICAgICAgICB0aGUgZWxlbWVudCBpbiBoYW5kIGF0IHRoaXMgcG9pbnQuCgkJLy8gV3JhcCB0aGlzIGluIGEgdHJ5L2NhdGNoIGJsb2NrIHNpbmNlIElFOSB0aHJvdyAiVW5zcGVjaWZpZWQgZXJyb3IiIGlmIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQKCQkvLyBpcyB1bmRlZmluZWQgd2hlbiB3ZSBhcmUgaW4gYW4gSUZyYW1lLgoJCXRyeSB7CgkJCSQoIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgfHwgIiIgKS5hZGQoICJpbnB1dDpmb2N1cywgdGV4dGFyZWE6Zm9jdXMsIHNlbGVjdDpmb2N1cyIgKS5ibHVyKCk7CgkJfSBjYXRjaChlKSB7fQoKCQkvLyBJZiB3ZSdyZSBkaXNwbGF5aW5nIHRoZSBwYWdlIGFzIGEgZGlhbG9nLCB3ZSBkb24ndCB3YW50IHRoZSB1cmwKCQkvLyBmb3IgdGhlIGRpYWxvZyBjb250ZW50IHRvIGJlIHVzZWQgaW4gdGhlIGhhc2guIEluc3RlYWQsIHdlIHdhbnQKCQkvLyB0byBhcHBlbmQgdGhlIGRpYWxvZ0hhc2hLZXkgdG8gdGhlIHVybCBvZiB0aGUgY3VycmVudCBwYWdlLgoJCWlmICggaXNEaWFsb2cgJiYgYWN0aXZlICkgewoJCQkvLyBvbiB0aGUgaW5pdGlhbCBwYWdlIGxvYWQgYWN0aXZlLnVybCBpcyB1bmRlZmluZWQgYW5kIGluIHRoYXQgY2FzZSBzaG91bGQKCQkJLy8gYmUgYW4gZW1wdHkgc3RyaW5nLiBNb3ZpbmcgdGhlIHVuZGVmaW5lZCAtPiBlbXB0eSBzdHJpbmcgYmFjayBpbnRvCgkJCS8vIHVybEhpc3RvcnkuYWRkTmV3IHNlZW1lZCBpbXBydWRlbnQgZ2l2ZW4gdW5kZWZpbmVkIGJldHRlciByZXByZXNlbnRzCgkJCS8vIHRoZSB1cmwgc3RhdGUKCQkJdXJsID0gKCBhY3RpdmUudXJsIHx8ICIiICkgKyBkaWFsb2dIYXNoS2V5OwoJCX0KCgkJLy8gU2V0IHRoZSBsb2NhdGlvbiBoYXNoLgoJCWlmKCBzZXR0aW5ncy5jaGFuZ2VIYXNoICE9PSBmYWxzZSAmJiB1cmwgKSB7CgkJCS8vZGlzYWJsZSBoYXNoIGxpc3RlbmluZyB0ZW1wb3JhcmlseQoJCQl1cmxIaXN0b3J5Lmlnbm9yZU5leHRIYXNoQ2hhbmdlID0gdHJ1ZTsKCQkJLy91cGRhdGUgaGFzaCBhbmQgaGlzdG9yeQoJCQlwYXRoLnNldCggdXJsICk7CgkJfQoKCQkvL2lmIHRpdGxlIGVsZW1lbnQgd2Fzbid0IGZvdW5kLCB0cnkgdGhlIHBhZ2UgZGl2IGRhdGEgYXR0ciB0b28KCQl2YXIgbmV3UGFnZVRpdGxlID0gdG9QYWdlLmpxbURhdGEoICJ0aXRsZSIgKSB8fCB0b1BhZ2UuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuZmluZCgiLnVpLXRpdGxlIiApLnRleHQoKTsKCQlpZiggISFuZXdQYWdlVGl0bGUgJiYgcGFnZVRpdGxlID09IGRvY3VtZW50LnRpdGxlICkgewoJCQlwYWdlVGl0bGUgPSBuZXdQYWdlVGl0bGU7CgkJfQoKCQkvL2FkZCBwYWdlIHRvIGhpc3Rvcnkgc3RhY2sgaWYgaXQncyBub3QgYmFjayBvciBmb3J3YXJkCgkJaWYoICFoaXN0b3J5RGlyICkgewoJCQl1cmxIaXN0b3J5LmFkZE5ldyggdXJsLCBzZXR0aW5ncy50cmFuc2l0aW9uLCBwYWdlVGl0bGUsIHBhZ2VVcmwsIHNldHRpbmdzLnJvbGUgKTsKCQl9CgoJCS8vc2V0IHBhZ2UgdGl0bGUKCQlkb2N1bWVudC50aXRsZSA9IHVybEhpc3RvcnkuZ2V0QWN0aXZlKCkudGl0bGU7CgoJCS8vc2V0ICJ0b1BhZ2UiIGFzIGFjdGl2ZVBhZ2UKCQkkLm1vYmlsZS5hY3RpdmVQYWdlID0gdG9QYWdlOwoKCQkvLyBNYWtlIHN1cmUgd2UgaGF2ZSBhIHRyYW5zaXRpb24gZGVmaW5lZC4KCQlzZXR0aW5ncy50cmFuc2l0aW9uID0gc2V0dGluZ3MudHJhbnNpdGlvbgoJCQl8fCAoICggaGlzdG9yeURpciAmJiAhYWN0aXZlSXNJbml0aWFsUGFnZSApID8gYWN0aXZlLnRyYW5zaXRpb24gOiB1bmRlZmluZWQgKQoJCQl8fCAoIGlzRGlhbG9nID8gJC5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24gOiAkLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24gKTsKCgkJLy8gSWYgd2UncmUgbmF2aWdhdGluZyBiYWNrIGluIHRoZSBVUkwgaGlzdG9yeSwgc2V0IHJldmVyc2UgYWNjb3JkaW5nbHkuCgkJc2V0dGluZ3MucmV2ZXJzZSA9IHNldHRpbmdzLnJldmVyc2UgfHwgaGlzdG9yeURpciA8IDA7CgoJCXRyYW5zaXRpb25QYWdlcyggdG9QYWdlLCBmcm9tUGFnZSwgc2V0dGluZ3MudHJhbnNpdGlvbiwgc2V0dGluZ3MucmV2ZXJzZSApCgkJCS5kb25lKGZ1bmN0aW9uKCkgewoJCQkJcmVtb3ZlQWN0aXZlTGlua0NsYXNzKCk7CgoJCQkJLy9pZiB0aGVyZSdzIGEgZHVwbGljYXRlQ2FjaGVkUGFnZSwgcmVtb3ZlIGl0IGZyb20gdGhlIERPTSBub3cgdGhhdCBpdCdzIGhpZGRlbgoJCQkJaWYgKCBzZXR0aW5ncy5kdXBsaWNhdGVDYWNoZWRQYWdlICkgewoJCQkJCXNldHRpbmdzLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7CgkJCQl9CgoJCQkJLy9yZW1vdmUgaW5pdGlhbCBidWlsZCBjbGFzcyAob25seSBwcmVzZW50IG9uIGZpcnN0IHBhZ2VzaG93KQoJCQkJJGh0bWwucmVtb3ZlQ2xhc3MoICJ1aS1tb2JpbGUtcmVuZGVyaW5nIiApOwoKCQkJCXJlbGVhc2VQYWdlVHJhbnNpdGlvbkxvY2soKTsKCgkJCQkvLyBMZXQgbGlzdGVuZXJzIGtub3cgd2UncmUgYWxsIGRvbmUgY2hhbmdpbmcgdGhlIGN1cnJlbnQgcGFnZS4KCQkJCW1wYy50cmlnZ2VyKCAicGFnZWNoYW5nZSIsIHRyaWdnZXJEYXRhICk7CgoJCQkJbXBjLnRyaWdnZXIoICJjaGFuZ2VwYWdlIiwgdHJpZ2dlckRhdGEgKTsgLy8gWFhYOiBERVBSRUNBVEVEIGZvciAxLjAKCQkJfSk7Cgl9OwoKCSQubW9iaWxlLmNoYW5nZVBhZ2UuZGVmYXVsdHMgPSB7CgkJdHJhbnNpdGlvbjogdW5kZWZpbmVkLAoJCXJldmVyc2U6IGZhbHNlLAoJCWNoYW5nZUhhc2g6IHRydWUsCgkJZnJvbUhhc2hDaGFuZ2U6IGZhbHNlLAoJCXJvbGU6IHVuZGVmaW5lZCwgLy8gQnkgZGVmYXVsdCB3ZSByZWx5IG9uIHRoZSByb2xlIGRlZmluZWQgYnkgdGhlIEBkYXRhLXJvbGUgYXR0cmlidXRlLgoJCWR1cGxpY2F0ZUNhY2hlZFBhZ2U6IHVuZGVmaW5lZCwKCQlwYWdlQ29udGFpbmVyOiB1bmRlZmluZWQsCgkJc2hvd0xvYWRNc2c6IHRydWUsIC8vbG9hZGluZyBtZXNzYWdlIHNob3dzIGJ5IGRlZmF1bHQgd2hlbiBwYWdlcyBhcmUgYmVpbmcgZmV0Y2hlZCBkdXJpbmcgY2hhbmdlUGFnZQoJCWRhdGFVcmw6IHVuZGVmaW5lZCwKCQlmcm9tUGFnZTogdW5kZWZpbmVkCgl9OwoKLyogRXZlbnQgQmluZGluZ3MgLSBoYXNoY2hhbmdlLCBzdWJtaXQsIGFuZCBjbGljayAqLwoJZnVuY3Rpb24gZmluZENsb3Nlc3RMaW5rKCBlbGUgKQoJewoJCXdoaWxlICggZWxlICkgewoJCQlpZiAoIGVsZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09ICJhIiApIHsKCQkJCWJyZWFrOwoJCQl9CgkJCWVsZSA9IGVsZS5wYXJlbnROb2RlOwoJCX0KCQlyZXR1cm4gZWxlOwoJfQoKCS8vIFRoZSBiYXNlIFVSTCBmb3IgYW55IGdpdmVuIGVsZW1lbnQgZGVwZW5kcyBvbiB0aGUgcGFnZSBpdCByZXNpZGVzIGluLgoJZnVuY3Rpb24gZ2V0Q2xvc2VzdEJhc2VVcmwoIGVsZSApCgl7CgkJLy8gRmluZCB0aGUgY2xvc2VzdCBwYWdlIGFuZCBleHRyYWN0IG91dCBpdHMgdXJsLgoJCXZhciB1cmwgPSAkKCBlbGUgKS5jbG9zZXN0KCAiLnVpLXBhZ2UiICkuanFtRGF0YSggInVybCIgKSwKCQkJYmFzZSA9IGRvY3VtZW50QmFzZS5ocmVmTm9IYXNoOwoKCQlpZiAoICF1cmwgfHwgIXBhdGguaXNQYXRoKCB1cmwgKSApIHsKCQkJdXJsID0gYmFzZTsKCQl9CgoJCXJldHVybiBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggdXJsLCBiYXNlKTsKCX0KCgoJLy9UaGUgZm9sbG93aW5nIGV2ZW50IGJpbmRpbmdzIHNob3VsZCBiZSBib3VuZCBhZnRlciBtb2JpbGVpbml0IGhhcyBiZWVuIHRyaWdnZXJlZAoJLy90aGUgZm9sbG93aW5nIGZ1bmN0aW9uIGlzIGNhbGxlZCBpbiB0aGUgaW5pdCBmaWxlCgkkLm1vYmlsZS5fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cyA9IGZ1bmN0aW9uKCl7CgoJCS8vYmluZCB0byBmb3JtIHN1Ym1pdCBldmVudHMsIGhhbmRsZSB3aXRoIEFqYXgKCQkkKCAiZm9ybSIgKS5saXZlKCdzdWJtaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsKCQkJaWYoICEkLm1vYmlsZS5hamF4RW5hYmxlZCB8fAoJCQkJJHRoaXMuaXMoICI6anFtRGF0YShhamF4PSdmYWxzZScpIiApICkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCXZhciB0eXBlID0gJHRoaXMuYXR0ciggIm1ldGhvZCIgKSwKCQkJCXRhcmdldCA9ICR0aGlzLmF0dHIoICJ0YXJnZXQiICksCgkJCQl1cmwgPSAkdGhpcy5hdHRyKCAiYWN0aW9uIiApOwoKCQkJLy8gSWYgbm8gYWN0aW9uIGlzIHNwZWNpZmllZCwgYnJvd3NlcnMgZGVmYXVsdCB0byB1c2luZyB0aGUKCQkJLy8gVVJMIG9mIHRoZSBkb2N1bWVudCBjb250YWluaW5nIHRoZSBmb3JtLiBTaW5jZSB3ZSBkeW5hbWljYWxseQoJCQkvLyBwdWxsIGluIHBhZ2VzIGZyb20gZXh0ZXJuYWwgZG9jdW1lbnRzLCB0aGUgZm9ybSBzaG91bGQgc3VibWl0CgkJCS8vIHRvIHRoZSBVUkwgZm9yIHRoZSBzb3VyY2UgZG9jdW1lbnQgb2YgdGhlIHBhZ2UgY29udGFpbmluZwoJCQkvLyB0aGUgZm9ybS4KCQkJaWYgKCAhdXJsICkgewoJCQkJLy8gR2V0IHRoZSBAZGF0YS11cmwgZm9yIHRoZSBwYWdlIGNvbnRhaW5pbmcgdGhlIGZvcm0uCgkJCQl1cmwgPSBnZXRDbG9zZXN0QmFzZVVybCggJHRoaXMgKTsKCQkJCWlmICggdXJsID09PSBkb2N1bWVudEJhc2UuaHJlZk5vSGFzaCApIHsKCQkJCQkvLyBUaGUgdXJsIHdlIGdvdCBiYWNrIG1hdGNoZXMgdGhlIGRvY3VtZW50IGJhc2UsCgkJCQkJLy8gd2hpY2ggbWVhbnMgdGhlIHBhZ2UgbXVzdCBiZSBhbiBpbnRlcm5hbC9lbWJlZGRlZCBwYWdlLAoJCQkJCS8vIHNvIGRlZmF1bHQgdG8gdXNpbmcgdGhlIGFjdHVhbCBkb2N1bWVudCB1cmwgYXMgYSBicm93c2VyCgkJCQkJLy8gd291bGQuCgkJCQkJdXJsID0gZG9jdW1lbnRVcmwuaHJlZk5vU2VhcmNoOwoJCQkJfQoJCQl9CgoJCQl1cmwgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggIHVybCwgZ2V0Q2xvc2VzdEJhc2VVcmwoJHRoaXMpICk7CgoJCQkvL2V4dGVybmFsIHN1Ym1pdHMgdXNlIHJlZ3VsYXIgSFRUUAoJCQlpZiggcGF0aC5pc0V4dGVybmFsKCB1cmwgKSB8fCB0YXJnZXQgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCSQubW9iaWxlLmNoYW5nZVBhZ2UoCgkJCQl1cmwsCgkJCQl7CgkJCQkJdHlwZToJCXR5cGUgJiYgdHlwZS5sZW5ndGggJiYgdHlwZS50b0xvd2VyQ2FzZSgpIHx8ICJnZXQiLAoJCQkJCWRhdGE6CQkkdGhpcy5zZXJpYWxpemUoKSwKCQkJCQl0cmFuc2l0aW9uOgkkdGhpcy5qcW1EYXRhKCAidHJhbnNpdGlvbiIgKSwKCQkJCQlkaXJlY3Rpb246CSR0aGlzLmpxbURhdGEoICJkaXJlY3Rpb24iICksCgkJCQkJcmVsb2FkUGFnZToJdHJ1ZQoJCQkJfQoJCQkpOwoJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCX0pOwoKCQkvL2FkZCBhY3RpdmUgc3RhdGUgb24gdmNsaWNrCgkJJCggZG9jdW1lbnQgKS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgbGluayA9IGZpbmRDbG9zZXN0TGluayggZXZlbnQudGFyZ2V0ICk7CgkJCWlmICggbGluayApIHsKCQkJCWlmICggcGF0aC5wYXJzZVVybCggbGluay5nZXRBdHRyaWJ1dGUoICJocmVmIiApIHx8ICIjIiApLmhhc2ggIT09ICIjIiApIHsKCQkJCQlyZW1vdmVBY3RpdmVMaW5rQ2xhc3MoIHRydWUgKTsKCQkJCQkkYWN0aXZlQ2xpY2tlZExpbmsgPSAkKCBsaW5rICkuY2xvc2VzdCggIi51aS1idG4iICkubm90KCAiLnVpLWRpc2FibGVkIiApOwoJCQkJCSRhY3RpdmVDbGlja2VkTGluay5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQkJCQkkKCAiLiIgKyAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKyAiIC51aS1idG4iICkubm90KCBsaW5rICkuYmx1cigpOwoJCQkJfQoJCQl9CgkJfSk7CgoJCS8vIGNsaWNrIHJvdXRpbmcgLSBkaXJlY3QgdG8gSFRUUCBvciBBamF4LCBhY2NvcmRpbmdseQoJCSQoIGRvY3VtZW50ICkuYmluZCggImNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgbGluayA9IGZpbmRDbG9zZXN0TGluayggZXZlbnQudGFyZ2V0ICk7CgkJCWlmICggIWxpbmsgKSB7CgkJCQlyZXR1cm47CgkJCX0KCgkJCXZhciAkbGluayA9ICQoIGxpbmsgKSwKCQkJCS8vcmVtb3ZlIGFjdGl2ZSBsaW5rIGNsYXNzIGlmIGV4dGVybmFsICh0aGVuIGl0IHdvbid0IGJlIHRoZXJlIGlmIHlvdSBjb21lIGJhY2spCgkJCQlodHRwQ2xlYW51cCA9IGZ1bmN0aW9uKCl7CgkJCQkJd2luZG93LnNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgeyByZW1vdmVBY3RpdmVMaW5rQ2xhc3MoIHRydWUgKTsgfSwgMjAwICk7CgkJCQl9OwoKCQkJLy9pZiB0aGVyZSdzIGEgZGF0YS1yZWw9YmFjayBhdHRyLCBnbyBiYWNrIGluIGhpc3RvcnkKCQkJaWYoICRsaW5rLmlzKCAiOmpxbURhdGEocmVsPSdiYWNrJykiICkgKSB7CgkJCQl3aW5kb3cuaGlzdG9yeS5iYWNrKCk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJCS8vaWYgYWpheCBpcyBkaXNhYmxlZCwgZXhpdCBlYXJseQoJCQlpZiggISQubW9iaWxlLmFqYXhFbmFibGVkICl7CgkJCQlodHRwQ2xlYW51cCgpOwoJCQkJLy91c2UgZGVmYXVsdCBjbGljayBoYW5kbGluZwoJCQkJcmV0dXJuOwoJCQl9CgoJCQl2YXIgYmFzZVVybCA9IGdldENsb3Nlc3RCYXNlVXJsKCAkbGluayApLAoKCQkJCS8vZ2V0IGhyZWYsIGlmIGRlZmluZWQsIG90aGVyd2lzZSBkZWZhdWx0IHRvIGVtcHR5IGhhc2gKCQkJCWhyZWYgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggJGxpbmsuYXR0ciggImhyZWYiICkgfHwgIiMiLCBiYXNlVXJsICk7CgoJCQkvLyBYWFhfamJsYXM6IElkZWFsbHkgbGlua3MgdG8gYXBwbGljYXRpb24gcGFnZXMgc2hvdWxkIGJlIHNwZWNpZmllZCBhcwoJCQkvLyAgICAgICAgICAgIGFuIHVybCB0byB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQgd2l0aCBhIGhhc2ggdGhhdCBpcyBlaXRoZXIKCQkJLy8gICAgICAgICAgICB0aGUgc2l0ZSByZWxhdGl2ZSBwYXRoIG9yIGlkIHRvIHRoZSBwYWdlLiBCdXQgc29tZSBvZiB0aGUKCQkJLy8gICAgICAgICAgICBpbnRlcm5hbCBjb2RlIHRoYXQgZHluYW1pY2FsbHkgZ2VuZXJhdGVzIHN1Yi1wYWdlcyBmb3IgbmVzdGVkCgkJCS8vICAgICAgICAgICAgbGlzdHMgYW5kIHNlbGVjdCBkaWFsb2dzLCBqdXN0IHdyaXRlIGEgaGFzaCBpbiB0aGUgbGluayB0aGV5CgkJCS8vICAgICAgICAgICAgY3JlYXRlLiBUaGlzIG1lYW5zIHRoZSBhY3R1YWwgVVJMIHBhdGggaXMgYmFzZWQgb24gd2hhdGV2ZXIKCQkJLy8gICAgICAgICAgICB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgYmFzZSB0YWcgaXMgYXQgdGhlIHRpbWUgdGhpcyBjb2RlCgkJCS8vICAgICAgICAgICAgaXMgY2FsbGVkLiBGb3Igbm93IHdlIGFyZSBqdXN0IGFzc3VtaW5nIHRoYXQgYW55IHVybCB3aXRoIGEKCQkJLy8gICAgICAgICAgICBoYXNoIGluIGl0IGlzIGFuIGFwcGxpY2F0aW9uIHBhZ2UgcmVmZXJlbmNlLgoJCQlpZiAoIGhyZWYuc2VhcmNoKCAiIyIgKSAhPSAtMSApIHsKCQkJCWhyZWYgPSBocmVmLnJlcGxhY2UoIC9bXiNdKiMvLCAiIiApOwoJCQkJaWYgKCAhaHJlZiApIHsKCQkJCQkvL2xpbmsgd2FzIGFuIGVtcHR5IGhhc2ggbWVhbnQgcHVyZWx5CgkJCQkJLy9mb3IgaW50ZXJhY3Rpb24sIHNvIHdlIGlnbm9yZSBpdC4KCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXJldHVybjsKCQkJCX0gZWxzZSBpZiAoIHBhdGguaXNQYXRoKCBocmVmICkgKSB7CgkJCQkJLy93ZSBoYXZlIGFwYXRoIHNvIG1ha2UgaXQgdGhlIGhyZWYgd2Ugd2FudCB0byBsb2FkLgoJCQkJCWhyZWYgPSBwYXRoLm1ha2VVcmxBYnNvbHV0ZSggaHJlZiwgYmFzZVVybCApOwoJCQkJfSBlbHNlIHsKCQkJCQkvL3dlIGhhdmUgYSBzaW1wbGUgaWQgc28gdXNlIHRoZSBkb2N1bWVudFVybCBhcyBpdHMgYmFzZS4KCQkJCQlocmVmID0gcGF0aC5tYWtlVXJsQWJzb2x1dGUoICIjIiArIGhyZWYsIGRvY3VtZW50VXJsLmhyZWZOb0hhc2ggKTsKCQkJCX0KCQkJfQoKCQkJCS8vIFNob3VsZCB3ZSBoYW5kbGUgdGhpcyBsaW5rLCBvciBsZXQgdGhlIGJyb3dzZXIgZGVhbCB3aXRoIGl0PwoJCQl2YXIgdXNlRGVmYXVsdFVybEhhbmRsaW5nID0gJGxpbmsuaXMoICJbcmVsPSdleHRlcm5hbCddIiApIHx8ICRsaW5rLmlzKCAiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIgKSB8fCAkbGluay5pcyggIlt0YXJnZXRdIiApLAoKCQkJCS8vIFNvbWUgZW1iZWRkZWQgYnJvd3NlcnMsIGxpa2UgdGhlIHdlYiB2aWV3IGluIFBob25lIEdhcCwgYWxsb3cgY3Jvc3MtZG9tYWluIFhIUgoJCQkJLy8gcmVxdWVzdHMgaWYgdGhlIGRvY3VtZW50IGRvaW5nIHRoZSByZXF1ZXN0IHdhcyBsb2FkZWQgdmlhIHRoZSBmaWxlOi8vIHByb3RvY29sLgoJCQkJLy8gVGhpcyBpcyB1c3VhbGx5IHRvIGFsbG93IHRoZSBhcHBsaWNhdGlvbiB0byAicGhvbmUgaG9tZSIgYW5kIGZldGNoIGFwcCBzcGVjaWZpYwoJCQkJLy8gZGF0YS4gV2Ugbm9ybWFsbHkgbGV0IHRoZSBicm93c2VyIGhhbmRsZSBleHRlcm5hbC9jcm9zcy1kb21haW4gdXJscywgYnV0IGlmIHRoZQoJCQkJLy8gYWxsb3dDcm9zc0RvbWFpblBhZ2VzIG9wdGlvbiBpcyB0cnVlLCB3ZSB3aWxsIGFsbG93IGNyb3NzLWRvbWFpbiBodHRwL2h0dHBzCgkJCQkvLyByZXF1ZXN0cyB0byBnbyB0aHJvdWdoIG91ciBwYWdlIGxvYWRpbmcgbG9naWMuCgkJCQlpc0Nyb3NzRG9tYWluUGFnZUxvYWQgPSAoICQubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcyAmJiBkb2N1bWVudFVybC5wcm90b2NvbCA9PT0gImZpbGU6IiAmJiBocmVmLnNlYXJjaCggL15odHRwcz86LyApICE9IC0xICksCgoJCQkJLy9jaGVjayBmb3IgcHJvdG9jb2wgb3IgcmVsIGFuZCBpdHMgbm90IGFuIGVtYmVkZGVkIHBhZ2UKCQkJCS8vVE9ETyBvdmVybGFwIGluIGxvZ2ljIGZyb20gaXNFeHRlcm5hbCwgcmVsPWV4dGVybmFsIGNoZWNrIHNob3VsZCBiZQoJCQkJLy8gICAgIG1vdmVkIGludG8gbW9yZSBjb21wcmVoZW5zaXZlIGlzRXh0ZXJuYWxMaW5rCgkJCQlpc0V4dGVybmFsID0gdXNlRGVmYXVsdFVybEhhbmRsaW5nIHx8ICggcGF0aC5pc0V4dGVybmFsKCBocmVmICkgJiYgIWlzQ3Jvc3NEb21haW5QYWdlTG9hZCApOwoKCQkJaWYoIGlzRXh0ZXJuYWwgKSB7CgkJCQlodHRwQ2xlYW51cCgpOwoJCQkJLy91c2UgZGVmYXVsdCBjbGljayBoYW5kbGluZwoJCQkJcmV0dXJuOwoJCQl9CgoJCQkvL3VzZSBhamF4CgkJCXZhciB0cmFuc2l0aW9uID0gJGxpbmsuanFtRGF0YSggInRyYW5zaXRpb24iICksCgkJCQlkaXJlY3Rpb24gPSAkbGluay5qcW1EYXRhKCAiZGlyZWN0aW9uIiApLAoJCQkJcmV2ZXJzZSA9ICggZGlyZWN0aW9uICYmIGRpcmVjdGlvbiA9PT0gInJldmVyc2UiICkgfHwKCQkJCQkJCS8vIGRlcHJlY2F0ZWQgLSByZW1vdmUgYnkgMS4wCgkJCQkJCQkkbGluay5qcW1EYXRhKCAiYmFjayIgKSwKCgkJCQkvL3RoaXMgbWF5IG5lZWQgdG8gYmUgbW9yZSBzcGVjaWZpYyBhcyB3ZSB1c2UgZGF0YS1yZWwgbW9yZQoJCQkJcm9sZSA9ICRsaW5rLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyZWwiICkgfHwgdW5kZWZpbmVkOwoKCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggaHJlZiwgeyB0cmFuc2l0aW9uOiB0cmFuc2l0aW9uLCByZXZlcnNlOiByZXZlcnNlLCByb2xlOiByb2xlIH0gKTsKCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQl9KTsKCgkJLy9wcmVmZXRjaCBwYWdlcyB3aGVuIGFuY2hvcnMgd2l0aCBkYXRhLXByZWZldGNoIGFyZSBlbmNvdW50ZXJlZAoJCSQoICIudWktcGFnZSIgKS5saXZlKCAicGFnZXNob3cucHJlZmV0Y2giLCBmdW5jdGlvbigpewoJCQl2YXIgdXJscyA9IFtdOwoJCQkkKCB0aGlzICkuZmluZCggImE6anFtRGF0YShwcmVmZXRjaCkiICkuZWFjaChmdW5jdGlvbigpewoJCQkJdmFyIHVybCA9ICQoIHRoaXMgKS5hdHRyKCAiaHJlZiIgKTsKCQkJCWlmICggdXJsICYmICQuaW5BcnJheSggdXJsLCB1cmxzICkgPT09IC0xICkgewoJCQkJCXVybHMucHVzaCggdXJsICk7CgkJCQkJJC5tb2JpbGUubG9hZFBhZ2UoIHVybCApOwoJCQkJfQoJCQl9KTsKCQl9ICk7CgoJCSQubW9iaWxlLl9oYW5kbGVIYXNoQ2hhbmdlID0gZnVuY3Rpb24oIGhhc2ggKSB7CgkJCS8vZmluZCBmaXJzdCBwYWdlIHZpYSBoYXNoCgkJCXZhciB0byA9IHBhdGguc3RyaXBIYXNoKCBoYXNoICksCgkJCQkvL3RyYW5zaXRpb24gaXMgZmFsc2UgaWYgaXQncyB0aGUgZmlyc3QgcGFnZSwgdW5kZWZpbmVkIG90aGVyd2lzZSAoYW5kIG1heSBiZSBvdmVycmlkZGVuIGJ5IGRlZmF1bHQpCgkJCQl0cmFuc2l0aW9uID0gJC5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGggPT09IDAgPyAibm9uZSIgOiB1bmRlZmluZWQsCgoJCQkJLy8gZGVmYXVsdCBvcHRpb25zIGZvciB0aGUgY2hhbmdQYWdlIGNhbGxzIG1hZGUgYWZ0ZXIgZXhhbWluaW5nIHRoZSBjdXJyZW50IHN0YXRlCgkJCQkvLyBvZiB0aGUgcGFnZSBhbmQgdGhlIGhhc2gKCQkJCWNoYW5nZVBhZ2VPcHRpb25zID0gewoJCQkJCXRyYW5zaXRpb246IHRyYW5zaXRpb24sCgkJCQkJY2hhbmdlSGFzaDogZmFsc2UsCgkJCQkJZnJvbUhhc2hDaGFuZ2U6IHRydWUKCQkJCX07CgoJCQkvL2lmIGxpc3RlbmluZyBpcyBkaXNhYmxlZCAoZWl0aGVyIGdsb2JhbGx5IG9yIHRlbXBvcmFyaWx5KSwgb3IgaXQncyBhIGRpYWxvZyBoYXNoCgkJCWlmKCAhJC5tb2JpbGUuaGFzaExpc3RlbmluZ0VuYWJsZWQgfHwgdXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZSApIHsKCQkJCXVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2UgPSBmYWxzZTsKCQkJCXJldHVybjsKCQkJfQoKCQkJLy8gc3BlY2lhbCBjYXNlIGZvciBkaWFsb2dzCgkJCWlmKCB1cmxIaXN0b3J5LnN0YWNrLmxlbmd0aCA+IDEgJiYgdG8uaW5kZXhPZiggZGlhbG9nSGFzaEtleSApID4gLTEgKSB7CgoJCQkJLy8gSWYgY3VycmVudCBhY3RpdmUgcGFnZSBpcyBub3QgYSBkaWFsb2cgc2tpcCB0aGUgZGlhbG9nIGFuZCBjb250aW51ZQoJCQkJLy8gaW4gdGhlIHNhbWUgZGlyZWN0aW9uCgkJCQlpZighJC5tb2JpbGUuYWN0aXZlUGFnZS5pcyggIi51aS1kaWFsb2ciICkpIHsKCQkJCQkvL2RldGVybWluZSBpZiB3ZSdyZSBoZWFkaW5nIGZvcndhcmQgb3IgYmFja3dhcmQgYW5kIGNvbnRpbnVlIGFjY29yZGluZ2x5IHBhc3QKCQkJCQkvL3RoZSBjdXJyZW50IGRpYWxvZwoJCQkJCXVybEhpc3RvcnkuZGlyZWN0SGFzaENoYW5nZSh7CgkJCQkJCWN1cnJlbnRVcmw6IHRvLAoJCQkJCQlpc0JhY2s6IGZ1bmN0aW9uKCkgeyB3aW5kb3cuaGlzdG9yeS5iYWNrKCk7IH0sCgkJCQkJCWlzRm9yd2FyZDogZnVuY3Rpb24oKSB7IHdpbmRvdy5oaXN0b3J5LmZvcndhcmQoKTsgfQoJCQkJCX0pOwoKCQkJCQkvLyBwcmV2ZW50IGNoYW5nZXBhZ2UKCQkJCQlyZXR1cm47CgkJCQl9IGVsc2UgewoJCQkJCS8vIGlmIHRoZSBjdXJyZW50IGFjdGl2ZSBwYWdlIGlzIGEgZGlhbG9nIGFuZCB3ZSdyZSBuYXZpZ2F0aW5nCgkJCQkJLy8gdG8gYSBkaWFsb2cgdXNlIHRoZSBkaWFsb2cgb2JqZWN0ZWQgc2F2ZWQgaW4gdGhlIHN0YWNrCgkJCQkJdXJsSGlzdG9yeS5kaXJlY3RIYXNoQ2hhbmdlKHsKCQkJCQkJY3VycmVudFVybDogdG8sCgoJCQkJCQkvLyByZWdhcmRsZXNzIG9mIHRoZSBkaXJlY3Rpb24gb2YgdGhlIGhpc3RvcnkgY2hhbmdlCgkJCQkJCS8vIGRvIHRoZSBmb2xsb3dpbmcKCQkJCQkJZWl0aGVyOiBmdW5jdGlvbiggaXNCYWNrICkgewoJCQkJCQkJdmFyIGFjdGl2ZSA9ICQubW9iaWxlLnVybEhpc3RvcnkuZ2V0QWN0aXZlKCk7CgoJCQkJCQkJdG8gPSBhY3RpdmUucGFnZVVybDsKCgkJCQkJCQkvLyBtYWtlIHN1cmUgdG8gc2V0IHRoZSByb2xlLCB0cmFuc2l0aW9uIGFuZCByZXZlcnNhbAoJCQkJCQkJLy8gYXMgbW9zdCBvZiB0aGlzIGlzIGxvc3QgYnkgdGhlIGRvbUNhY2hlIGNsZWFuaW5nCgkJCQkJCQkkLmV4dGVuZCggY2hhbmdlUGFnZU9wdGlvbnMsIHsKCQkJCQkJCQlyb2xlOiBhY3RpdmUucm9sZSwKCQkJCQkJCQl0cmFuc2l0aW9uOgkgYWN0aXZlLnRyYW5zaXRpb24sCgkJCQkJCQkJcmV2ZXJzZTogaXNCYWNrCgkJCQkJCQl9KTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoJCQl9CgoJCQkvL2lmIHRvIGlzIGRlZmluZWQsIGxvYWQgaXQKCQkJaWYgKCB0byApIHsKCQkJCXRvID0gKCB0eXBlb2YgdG8gPT09ICJzdHJpbmciICYmICFwYXRoLmlzUGF0aCggdG8gKSApID8gKCAnIycgKyB0byApIDogdG87CgkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCB0bywgY2hhbmdlUGFnZU9wdGlvbnMgKTsKCQkJfQllbHNlIHsKCQkJCS8vdGhlcmUncyBubyBoYXNoLCBnbyB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgZG9tCgkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCAkLm1vYmlsZS5maXJzdFBhZ2UsIGNoYW5nZVBhZ2VPcHRpb25zICk7CgkJCX0KCQl9OwoKCQkvL2hhc2hjaGFuZ2UgZXZlbnQgaGFuZGxlcgoJCSR3aW5kb3cuYmluZCggImhhc2hjaGFuZ2UiLCBmdW5jdGlvbiggZSwgdHJpZ2dlcmVkICkgewoJCQkkLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZSggbG9jYXRpb24uaGFzaCApOwoJCX0pOwoKCQkvL3NldCBwYWdlIG1pbi1oZWlnaHRzIHRvIGJlIGRldmljZSBzcGVjaWZpYwoJCSQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VzaG93IiwgcmVzZXRBY3RpdmVQYWdlSGVpZ2h0ICk7CgkJJCggd2luZG93ICkuYmluZCggInRocm90dGxlZHJlc2l6ZSIsIHJlc2V0QWN0aXZlUGFnZUhlaWdodCApOwoKCX07Ly9fcmVnaXN0ZXJJbnRlcm5hbEV2ZW50cyBjYWxsYmFjawoKfSkoIGpRdWVyeSApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogaGlzdG9yeS5wdXNoU3RhdGUgc3VwcG9ydCwgbGF5ZXJlZCBvbiB0b3Agb2YgaGFzaGNoYW5nZQoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCiggZnVuY3Rpb24oICQsIHdpbmRvdyApIHsKCS8vIEZvciBub3csIGxldCdzIE1vbmtleXBhdGNoIHRoaXMgb250byB0aGUgZW5kIG9mICQubW9iaWxlLl9yZWdpc3RlckludGVybmFsRXZlbnRzCgkvLyBTY29wZSBzZWxmIHRvIHB1c2hTdGF0ZUhhbmRsZXIgc28gd2UgY2FuIHJlZmVyZW5jZSBpdCBzYW5lbHkgd2l0aGluIHRoZQoJLy8gbWV0aG9kcyBoYW5kZWQgb2ZmIGFzIGV2ZW50IGhhbmRsZXJzCgl2YXIJcHVzaFN0YXRlSGFuZGxlciA9IHt9LAoJCXNlbGYgPSBwdXNoU3RhdGVIYW5kbGVyLAoJCSR3aW4gPSAkKCB3aW5kb3cgKSwKCQl1cmwgPSAkLm1vYmlsZS5wYXRoLnBhcnNlVXJsKCBsb2NhdGlvbi5ocmVmICk7CgoJJC5leHRlbmQoIHB1c2hTdGF0ZUhhbmRsZXIsIHsKCQkvLyBUT0RPIG1vdmUgdG8gYSBwYXRoIGhlbHBlciwgdGhpcyBpcyByYXRoZXIgY29tbW9uIGZ1bmN0aW9uYWxpdHkKCQlpbml0aWFsRmlsZVBhdGg6IChmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHVybC5wYXRobmFtZSArIHVybC5zZWFyY2g7CgkJfSkoKSwKCgkJaW5pdGlhbEhyZWY6IHVybC5ocmVmTm9IYXNoLAoKCQkvLyBGbGFnIGZvciB0cmFja2luZyBpZiBhIEhhc2hjaGFuZ2UgbmF0dXJhbGx5IG9jY3VycyBhZnRlciBlYWNoIHBvcHN0YXRlICsgcmVwbGFjZQoJCWhhc2hjaGFuZ2VGaXJlZDogZmFsc2UsCgoJCXN0YXRlOiBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHsKCQkJCWhhc2g6IGxvY2F0aW9uLmhhc2ggfHwgIiMiICsgc2VsZi5pbml0aWFsRmlsZVBhdGgsCgkJCQl0aXRsZTogZG9jdW1lbnQudGl0bGUsCgoJCQkJLy8gcGVyc2lzdCBhY3Jvc3MgcmVmcmVzaAoJCQkJaW5pdGlhbEhyZWY6IHNlbGYuaW5pdGlhbEhyZWYKCQkJfTsKCQl9LAoKCQlyZXNldFVJS2V5czogZnVuY3Rpb24oIHVybCApIHsKCQkJdmFyIGRpYWxvZyA9ICQubW9iaWxlLmRpYWxvZ0hhc2hLZXksCgkJCQlzdWJrZXkgPSAiJiIgKyAkLm1vYmlsZS5zdWJQYWdlVXJsS2V5LAoJCQkJZGlhbG9nSW5kZXggPSB1cmwuaW5kZXhPZiggZGlhbG9nICk7CgoJCQlpZiggZGlhbG9nSW5kZXggPiAtMSApIHsKCQkJCXVybCA9IHVybC5zbGljZSggMCwgZGlhbG9nSW5kZXggKSArICIjIiArIHVybC5zbGljZSggZGlhbG9nSW5kZXggKTsKCQkJfSBlbHNlIGlmKCB1cmwuaW5kZXhPZiggc3Via2V5ICkgPiAtMSApIHsKCQkJCXVybCA9IHVybC5zcGxpdCggc3Via2V5ICkuam9pbiggIiMiICsgc3Via2V5ICk7CgkJCX0KCgkJCXJldHVybiB1cmw7CgkJfSwKCgkJLy8gb24gaGFzaCBjaGFuZ2Ugd2Ugd2FudCB0byBjbGVhbiB1cCB0aGUgdXJsCgkJLy8gTk9URSB0aGlzIHRha2VzIHBsYWNlICphZnRlciogdGhlIHZhbmlsbGEgbmF2aWdhdGlvbiBoYXNoIGNoYW5nZQoJCS8vIGhhbmRsaW5nIGhhcyB0YWtlbiBwbGFjZSBhbmQgc2V0IHRoZSBzdGF0ZSBvZiB0aGUgRE9NCgkJb25IYXNoQ2hhbmdlOiBmdW5jdGlvbiggZSApIHsKCQkJdmFyIGhyZWYsIHN0YXRlOwoKCQkJc2VsZi5oYXNoY2hhbmdlRmlyZWQgPSB0cnVlOwoKCQkJLy8gb25seSByZXBsYWNlU3RhdGUgd2hlbiB0aGUgaGFzaCBkb2Vzbid0IHJlcHJlc2VudCBhbiBlbWJlZGVkIHBhZ2UKCQkJaWYoICQubW9iaWxlLnBhdGguaXNQYXRoKGxvY2F0aW9uLmhhc2gpICkgewoKCQkJCS8vIHByb3B1bGF0ZSB0aGUgaGFzaCB3aGVuIGl0cyBub3QgYXZhaWxhYmxlCgkJCQlzdGF0ZSA9IHNlbGYuc3RhdGUoKTsKCgkJCQkvLyBtYWtlIHRoZSBoYXNoIGFib2x1dGUgd2l0aCB0aGUgY3VycmVudCBocmVmCgkJCQlocmVmID0gJC5tb2JpbGUucGF0aC5tYWtlVXJsQWJzb2x1dGUoIHN0YXRlLmhhc2gucmVwbGFjZSgiIyIsICIiKSwgbG9jYXRpb24uaHJlZiApOwoKCQkJCWhyZWYgPSBzZWxmLnJlc2V0VUlLZXlzKCBocmVmICk7CgoJCQkJLy8gcmVwbGFjZSB0aGUgY3VycmVudCB1cmwgd2l0aCB0aGUgbmV3IGhyZWYgYW5kIHN0b3JlIHRoZSBzdGF0ZQoJCQkJaGlzdG9yeS5yZXBsYWNlU3RhdGUoIHN0YXRlLCBkb2N1bWVudC50aXRsZSwgaHJlZiApOwoJCQl9CgkJfSwKCgkJLy8gb24gcG9wc3RhdGUgKGllIGJhY2sgb3IgZm9yd2FyZCkgd2UgbmVlZCB0byByZXBsYWNlIHRoZSBoYXNoIHRoYXQgd2FzIHRoZXJlIHByZXZpb3VzbHkKCQkvLyBjbGVhbmVkIHVwIGJ5IHRoZSBhZGRpdGlvbmFsIGhhc2ggaGFuZGxpbmcKCQlvblBvcFN0YXRlOiBmdW5jdGlvbiggZSApIHsKCQkJdmFyIHBvcHBlZFN0YXRlID0gZS5vcmlnaW5hbEV2ZW50LnN0YXRlLCBob2xkbmV4dGhhc2hjaGFuZ2UgPSBmYWxzZTsKCgkJCS8vIGlmIHRoZXJlJ3Mgbm8gc3RhdGUgaXRzIG5vdCBhIHBvcHN0YXRlIHdlIGNhcmUgYWJvdXQsIGllIGNocm9tZSdzIGluaXRpYWwgcG9wc3RhdGUKCQkJLy8gb3IgZm9yd2FyZCBwb3BzdGF0ZQoJCQlpZiggcG9wcGVkU3RhdGUgKSB7CgkJCQkvLyBkaXNhYmxlIGFueSBoYXNoY2hhbmdlIHRyaWdnZXJlZCBieSB0aGUgYnJvd3NlcgoJCQkJJC5tb2JpbGUudXJsSGlzdG9yeS5pZ25vcmVOZXh0SGFzaENoYW5nZSA9IHRydWU7CgoJCQkJLy8gZGVmZXIgb3VyIG1hbnVhbCBoYXNoY2hhbmdlIHVudGlsIGFmdGVyIHRoZSBicm93c2VyIGZpcmVkCgkJCQkvLyB2ZXJzaW9uIGhhcyBjb21lIGFuZCBnb25lCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCS8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBtYW51YWwgaGFzaCBoYW5kbGluZyB0YWtlcyBwbGFjZQoJCQkJCSQubW9iaWxlLnVybEhpc3RvcnkuaWdub3JlTmV4dEhhc2hDaGFuZ2UgPSBmYWxzZTsKCQkJCQkKCQkJCQkvLyBjaGFuZ2UgdGhlIHBhZ2UgYmFzZWQgb24gdGhlIGhhc2gKCQkJCQkkLm1vYmlsZS5faGFuZGxlSGFzaENoYW5nZSggcG9wcGVkU3RhdGUuaGFzaCApOwoJCQkJfSwgMTAwKTsKCQkJfQoJCX0sCgoJCWluaXQ6IGZ1bmN0aW9uKCkgewoJCQkkd2luLmJpbmQoICJoYXNoY2hhbmdlIiwgc2VsZi5vbkhhc2hDaGFuZ2UgKTsKCgkJCS8vIEhhbmRsZSBwb3BzdGF0ZSBldmVudHMgdGhlIG9jY3VyIHRocm91Z2ggaGlzdG9yeSBjaGFuZ2VzCgkJCSR3aW4uYmluZCggInBvcHN0YXRlIiwgc2VsZi5vblBvcFN0YXRlICk7CgoJCQkvLyBpZiB0aGVyZSdzIG5vIGhhc2gsIHdlIG5lZWQgdG8gcmVwbGFjZXN0YXRlIGZvciByZXR1cm5pbmcgdG8gaG9tZQoJCQlpZiAoIGxvY2F0aW9uLmhhc2ggPT09ICIiICkgewoJCQkJaGlzdG9yeS5yZXBsYWNlU3RhdGUoIHNlbGYuc3RhdGUoKSwgZG9jdW1lbnQudGl0bGUsIGxvY2F0aW9uLmhyZWYgKTsKCQkJfQoJCX0KCX0pOwoKCSQoIGZ1bmN0aW9uKCkgewoJCWlmKCAkLm1vYmlsZS5wdXNoU3RhdGVFbmFibGVkICYmICQuc3VwcG9ydC5wdXNoU3RhdGUgKXsKCQkJcHVzaFN0YXRlSGFuZGxlci5pbml0KCk7CgkJfQoJfSk7Cn0pKCBqUXVlcnksIHRoaXMgKTsvKiEKICogalF1ZXJ5IE1vYmlsZSB2QFZFUlNJT04KICogaHR0cDovL2pxdWVyeW1vYmlsZS5jb20vCiAqCiAqIENvcHlyaWdodCAyMDEwLCBqUXVlcnkgUHJvamVjdAogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKi8KCihmdW5jdGlvbiggJCwgd2luZG93LCB1bmRlZmluZWQgKSB7CgpmdW5jdGlvbiBjc3MzVHJhbnNpdGlvbkhhbmRsZXIoIG5hbWUsIHJldmVyc2UsICR0bywgJGZyb20gKSB7CgoJdmFyIGRlZmVycmVkID0gbmV3ICQuRGVmZXJyZWQoKSwKCQlyZXZlcnNlQ2xhc3MgPSByZXZlcnNlID8gIiByZXZlcnNlIiA6ICIiLAoJCXZpZXdwb3J0Q2xhc3MgPSAidWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIiArIG5hbWUsCgkJZG9uZUZ1bmMgPSBmdW5jdGlvbigpIHsKCgkJCSR0by5hZGQoICRmcm9tICkucmVtb3ZlQ2xhc3MoICJvdXQgaW4gcmV2ZXJzZSAiICsgbmFtZSApOwoKCQkJaWYgKCAkZnJvbSApIHsKCQkJCSRmcm9tLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKTsKCQkJfQoKCQkJJHRvLnBhcmVudCgpLnJlbW92ZUNsYXNzKCB2aWV3cG9ydENsYXNzICk7CgoJCQlkZWZlcnJlZC5yZXNvbHZlKCBuYW1lLCByZXZlcnNlLCAkdG8sICRmcm9tICk7CgkJfTsKCgkkdG8uYW5pbWF0aW9uQ29tcGxldGUoIGRvbmVGdW5jICk7CgoJJHRvLnBhcmVudCgpLmFkZENsYXNzKCB2aWV3cG9ydENsYXNzICk7CgoJaWYgKCAkZnJvbSApIHsKCQkkZnJvbS5hZGRDbGFzcyggbmFtZSArICIgb3V0IiArIHJldmVyc2VDbGFzcyApOwoJfQoJJHRvLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MgKyAiICIgKyBuYW1lICsgIiBpbiIgKyByZXZlcnNlQ2xhc3MgKTsKCglyZXR1cm4gZGVmZXJyZWQucHJvbWlzZSgpOwp9CgovLyBNYWtlIG91ciB0cmFuc2l0aW9uIGhhbmRsZXIgcHVibGljLgokLm1vYmlsZS5jc3MzVHJhbnNpdGlvbkhhbmRsZXIgPSBjc3MzVHJhbnNpdGlvbkhhbmRsZXI7CgovLyBJZiB0aGUgZGVmYXVsdCB0cmFuc2l0aW9uIGhhbmRsZXIgaXMgdGhlICdub25lJyBoYW5kbGVyLCByZXBsYWNlIGl0IHdpdGggb3VyIGhhbmRsZXIuCmlmICggJC5tb2JpbGUuZGVmYXVsdFRyYW5zaXRpb25IYW5kbGVyID09PSAkLm1vYmlsZS5ub25lVHJhbnNpdGlvbkhhbmRsZXIgKSB7CgkkLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXIgPSBjc3MzVHJhbnNpdGlvbkhhbmRsZXI7Cn0KCn0pKCBqUXVlcnksIHRoaXMgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJkZWdyYWRlSW5wdXRzIiBwbHVnaW4gLSBkZWdyYWRlcyBpbnB1dHMgdG8gYW5vdGhlciB0eXBlIGFmdGVyIGN1c3RvbSBlbmhhbmNlbWVudHMgYXJlIG1hZGUuCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5kZWdyYWRlSW5wdXRzID0gewoJY29sb3I6IGZhbHNlLAoJZGF0ZTogZmFsc2UsCglkYXRldGltZTogZmFsc2UsCgkiZGF0ZXRpbWUtbG9jYWwiOiBmYWxzZSwKCWVtYWlsOiBmYWxzZSwKCW1vbnRoOiBmYWxzZSwKCW51bWJlcjogZmFsc2UsCglyYW5nZTogIm51bWJlciIsCglzZWFyY2g6ICJ0ZXh0IiwKCXRlbDogZmFsc2UsCgl0aW1lOiBmYWxzZSwKCXVybDogZmFsc2UsCgl3ZWVrOiBmYWxzZQp9OwoKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5rZWVwTmF0aXZlID0gIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIjsKCgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBlbmhhbmNlIiwgZnVuY3Rpb24oIGUgKXsKCQoJdmFyIHBhZ2UgPSAkKCBlLnRhcmdldCApLmRhdGEoICJwYWdlIiApLAoJCW8gPSBwYWdlLm9wdGlvbnM7CgkKCS8vIGRlZ3JhZGUgaW5wdXRzIHRvIGF2b2lkIHBvb3JseSBpbXBsZW1lbnRlZCBuYXRpdmUgZnVuY3Rpb25hbGl0eQoJJCggZS50YXJnZXQgKS5maW5kKCAiaW5wdXQiICkubm90KCBvLmtlZXBOYXRpdmUgKS5lYWNoKGZ1bmN0aW9uKCkgewoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwKCQkJdHlwZSA9IHRoaXMuZ2V0QXR0cmlidXRlKCAidHlwZSIgKSwKCQkJb3B0VHlwZSA9IG8uZGVncmFkZUlucHV0c1sgdHlwZSBdIHx8ICJ0ZXh0IjsKCgkJaWYgKCBvLmRlZ3JhZGVJbnB1dHNbIHR5cGUgXSApIHsKCQkJJHRoaXMucmVwbGFjZVdpdGgoCgkJCQkkKCAiPGRpdj4iICkuaHRtbCggJHRoaXMuY2xvbmUoKSApLmh0bWwoKQoJCQkJCS5yZXBsYWNlKCAvXHMrdHlwZT1bIiddP1x3K1snIl0/LywgIiB0eXBlPVwiIiArIG9wdFR5cGUgKyAiXCIgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidHlwZT1cIiIgKyB0eXBlICsgIlwiICIgKQoJCQkpOwoJCX0KCX0pOwoJCn0pOwoKfSkoIGpRdWVyeSApOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAiZGlhbG9nIiBwbHVnaW4uCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KSBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgoqLwoKKGZ1bmN0aW9uKCAkLCB3aW5kb3csIHVuZGVmaW5lZCApIHsKCiQud2lkZ2V0KCAibW9iaWxlLmRpYWxvZyIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCWNsb3NlQnRuVGV4dCAJOiAiQ2xvc2UiLAoJCXRoZW1lCQkJOiAiYSIsCgkJaW5pdFNlbGVjdG9yCTogIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciAkZWwgPSB0aGlzLmVsZW1lbnQsCgkJCXBhZ2VUaGVtZSA9ICRlbC5hdHRyKCAiY2xhc3MiICkubWF0Y2goIC91aS1ib2R5LVthLXpdLyApOwoJCQkKCQlpZiggcGFnZVRoZW1lLmxlbmd0aCApewoJCQkkZWwucmVtb3ZlQ2xhc3MoIHBhZ2VUaGVtZVsgMCBdICk7CgkJfQkKCQkKCQkkZWwuYWRkQ2xhc3MoICJ1aS1ib2R5LSIgKyB0aGlzLm9wdGlvbnMudGhlbWUgKTsKCQkKCQkvLyBDbGFzcyB0aGUgbWFya3VwIGZvciBkaWFsb2cgc3R5bGluZwoJCS8vIFNldCBhcmlhIHJvbGUKCQkkZWwuYXR0ciggInJvbGUiLCAiZGlhbG9nIiApCgkJCS5hZGRDbGFzcyggInVpLWRpYWxvZyIgKQoJCQkuZmluZCggIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIiApCgkJCS5hZGRDbGFzcyggInVpLWNvcm5lci10b3AgdWktb3ZlcmxheS1zaGFkb3ciICkKCQkJCS5wcmVwZW5kKCAiPGEgaHJlZj0nIycgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiaWNvbj0nZGVsZXRlJyBkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJyZWw9J2JhY2snIGRhdGEtIiArICQubW9iaWxlLm5zICsgImljb25wb3M9J25vdGV4dCc+IisgdGhpcy5vcHRpb25zLmNsb3NlQnRuVGV4dCArICI8L2E+IiApCgkJCS5lbmQoKQoJCQkuZmluZCggIjpqcW1EYXRhKHJvbGU9J2NvbnRlbnQnKSw6anFtRGF0YShyb2xlPSdmb290ZXInKSIgKQoJCQkJLmxhc3QoKQoJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJvdHRvbSB1aS1vdmVybGF5LXNoYWRvdyIgKTsKCgkJLyogYmluZCBldmVudHMKCQkJLSBjbGlja3MgYW5kIHN1Ym1pdHMgc2hvdWxkIHVzZSB0aGUgY2xvc2luZyB0cmFuc2l0aW9uIHRoYXQgdGhlIGRpYWxvZyBvcGVuZWQgd2l0aAoJCQkgIHVubGVzcyBhIGRhdGEtdHJhbnNpdGlvbiBpcyBzcGVjaWZpZWQgb24gdGhlIGxpbmsvZm9ybQoJCQktIGlmIHRoZSBjbGljayB3YXMgb24gdGhlIGNsb3NlIGJ1dHRvbiwgb3IgdGhlIGxpbmsgaGFzIGEgZGF0YS1yZWw9ImJhY2siIGl0J2xsIGdvIGJhY2sgaW4gaGlzdG9yeSBuYXR1cmFsbHkKCQkqLwoJCSRlbC5iaW5kKCAidmNsaWNrIHN1Ym1pdCIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyICR0YXJnZXQgPSAkKCBldmVudC50YXJnZXQgKS5jbG9zZXN0KCBldmVudC50eXBlID09PSAidmNsaWNrIiA/ICJhIiA6ICJmb3JtIiApLAoJCQkJYWN0aXZlOwoKCQkJaWYgKCAkdGFyZ2V0Lmxlbmd0aCAmJiAhJHRhcmdldC5qcW1EYXRhKCAidHJhbnNpdGlvbiIgKSApIHsKCgkJCQlhY3RpdmUgPSAkLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpIHx8IHt9OwoKCQkJCSR0YXJnZXQuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRyYW5zaXRpb24iLCAoIGFjdGl2ZS50cmFuc2l0aW9uIHx8ICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uICkgKQoJCQkJCS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiZGlyZWN0aW9uIiwgInJldmVyc2UiICk7CgkJCX0KCQl9KQoJCS5iaW5kKCAicGFnZWhpZGUiLCBmdW5jdGlvbigpIHsKCQkJJCggdGhpcyApLmZpbmQoICIuIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICkucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJfSk7Cgl9LAoKCS8vIENsb3NlIG1ldGhvZCBnb2VzIGJhY2sgaW4gaGlzdG9yeQoJY2xvc2U6IGZ1bmN0aW9uKCkgewoJCXdpbmRvdy5oaXN0b3J5LmJhY2soKTsKCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggJC5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciApLmxpdmUoICJwYWdlY3JlYXRlIiwgZnVuY3Rpb24oKXsKCSQoIHRoaXMgKS5kaWFsb2coKTsKfSk7Cgp9KSggalF1ZXJ5LCB0aGlzICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBUaGlzIHBsdWdpbiBoYW5kbGVzIHRoZW1pbmcgYW5kIGxheW91dCBvZiBoZWFkZXJzLCBmb290ZXJzLCBhbmQgY29udGVudCBhcmVhcwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRleHQJCT0gIkJhY2siOwokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG4JCT0gZmFsc2U7CiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuYmFja0J0blRoZW1lCT0gbnVsbDsKJC5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5oZWFkZXJUaGVtZQkJPSAiYSI7CiQubW9iaWxlLnBhZ2UucHJvdG90eXBlLm9wdGlvbnMuZm9vdGVyVGhlbWUJCT0gImEiOwokLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZQk9IG51bGw7CgokKCAiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIgKS5saXZlKCAicGFnZWNyZWF0ZSIsIGZ1bmN0aW9uKCBlICkgewoJCgl2YXIgJHBhZ2UJCT0gJCggdGhpcyApLAoJCW8JCQk9ICRwYWdlLmRhdGEoICJwYWdlIiApLm9wdGlvbnMsCgkJcGFnZVRoZW1lCT0gby50aGVtZTsKCQoJJCggIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIiwgdGhpcyApLmVhY2goZnVuY3Rpb24oKSB7CgkJdmFyICR0aGlzCT0gJCggdGhpcyApLAoJCQlyb2xlCT0gJHRoaXMuanFtRGF0YSggInJvbGUiICksCgkJCXRoZW1lCT0gJHRoaXMuanFtRGF0YSggInRoZW1lIiApLAoJCQkkaGVhZGVyYW5jaG9ycywKCQkJbGVmdGJ0biwKCQkJcmlnaHRidG4sCgkJCWJhY2tCdG47CgkJCQoJCSR0aGlzLmFkZENsYXNzKCAidWktIiArIHJvbGUgKTsJCgoJCS8vYXBwbHkgdGhlbWluZyBhbmQgbWFya3VwIG1vZGlmaWNhdGlvbnMgdG8gcGFnZSxoZWFkZXIsY29udGVudCxmb290ZXIKCQlpZiAoIHJvbGUgPT09ICJoZWFkZXIiIHx8IHJvbGUgPT09ICJmb290ZXIiICkgewoJCQkKCQkJdmFyIHRoaXNUaGVtZSA9IHRoZW1lIHx8ICggcm9sZSA9PT0gImhlYWRlciIgPyBvLmhlYWRlclRoZW1lIDogby5mb290ZXJUaGVtZSApIHx8IHBhZ2VUaGVtZTsKCgkJCS8vYWRkIHRoZW1lIGNsYXNzCgkJCSR0aGlzLmFkZENsYXNzKCAidWktYmFyLSIgKyB0aGlzVGhlbWUgKTsKCgkJCS8vIEFkZCBBUklBIHJvbGUKCQkJJHRoaXMuYXR0ciggInJvbGUiLCByb2xlID09PSAiaGVhZGVyIiA/ICJiYW5uZXIiIDogImNvbnRlbnRpbmZvIiApOwoKCQkJLy8gUmlnaHQsbGVmdCBidXR0b25zCgkJCSRoZWFkZXJhbmNob3JzCT0gJHRoaXMuY2hpbGRyZW4oICJhIiApOwoJCQlsZWZ0YnRuCQkJPSAkaGVhZGVyYW5jaG9ycy5oYXNDbGFzcyggInVpLWJ0bi1sZWZ0IiApOwoJCQlyaWdodGJ0bgkJPSAkaGVhZGVyYW5jaG9ycy5oYXNDbGFzcyggInVpLWJ0bi1yaWdodCIgKTsKCgkJCWlmICggIWxlZnRidG4gKSB7CgkJCQlsZWZ0YnRuID0gJGhlYWRlcmFuY2hvcnMuZXEoIDAgKS5ub3QoICIudWktYnRuLXJpZ2h0IiApLmFkZENsYXNzKCAidWktYnRuLWxlZnQiICkubGVuZ3RoOwoJCQl9CgoJCQlpZiAoICFyaWdodGJ0biApIHsKCQkJCXJpZ2h0YnRuID0gJGhlYWRlcmFuY2hvcnMuZXEoIDEgKS5hZGRDbGFzcyggInVpLWJ0bi1yaWdodCIgKS5sZW5ndGg7CgkJCX0KCgkJCS8vIEF1dG8tYWRkIGJhY2sgYnRuIG9uIHBhZ2VzIGJleW9uZCBmaXJzdCB2aWV3CgkJCWlmICggby5hZGRCYWNrQnRuICYmIHJvbGUgPT09ICJoZWFkZXIiICYmCgkJCQkJJCggIi51aS1wYWdlIiApLmxlbmd0aCA+IDEgJiYKCQkJCQkkdGhpcy5qcW1EYXRhKCAidXJsIiApICE9PSAkLm1vYmlsZS5wYXRoLnN0cmlwSGFzaCggbG9jYXRpb24uaGFzaCApICYmCgkJCQkJIWxlZnRidG4gKSB7CgoJCQkJYmFja0J0biA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktYnRuLWxlZnQnIGRhdGEtIisgJC5tb2JpbGUubnMgKyJyZWw9J2JhY2snIGRhdGEtIisgJC5tb2JpbGUubnMgKyJpY29uPSdhcnJvdy1sJz4iKyBvLmJhY2tCdG5UZXh0ICsiPC9hPiIgKS5wcmVwZW5kVG8oICR0aGlzICk7CgoJCQkJLy8gSWYgdGhlbWUgaXMgcHJvdmlkZWQsIG92ZXJyaWRlIGRlZmF1bHQgaW5oZXJpdGFuY2UKCQkJCWJhY2tCdG4uYXR0ciggImRhdGEtIisgJC5tb2JpbGUubnMgKyJ0aGVtZSIsIG8uYmFja0J0blRoZW1lIHx8IHRoaXNUaGVtZSApOwoJCQl9CgoJCQkvLyBQYWdlIHRpdGxlCgkJCSR0aGlzLmNoaWxkcmVuKCAiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIgKQoJCQkJLmFkZENsYXNzKCAidWktdGl0bGUiICkKCQkJCS8vIFJlZ2FyZGxlc3Mgb2YgaCBlbGVtZW50IG51bWJlciBpbiBzcmMsIGl0IGJlY29tZXMgaDEgZm9yIHRoZSBlbmhhbmNlZCBwYWdlCgkJCQkuYXR0cih7CgkJCQkJInRhYmluZGV4IjogIjAiLAoJCQkJCSJyb2xlIjogImhlYWRpbmciLAoJCQkJCSJhcmlhLWxldmVsIjogIjEiCgkJCQl9KTsKCgkJfSBlbHNlIGlmICggcm9sZSA9PT0gImNvbnRlbnQiICkgewoKCQkJaWYgKHRoZW1lIHx8IG8uY29udGVudFRoZW1lKSB7CgkJCSAgICAkdGhpcy5hZGRDbGFzcyggInVpLWJvZHktIiArICggdGhlbWUgfHwgby5jb250ZW50VGhlbWUgKSApOwoJCQl9CgoJCQkvLyBBZGQgQVJJQSByb2xlCgkJCSR0aGlzLmF0dHIoICJyb2xlIiwgIm1haW4iICk7CgoJCX0KCX0pOwp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImNvbGxhcHNpYmxlIiBwbHVnaW4KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQud2lkZ2V0KCAibW9iaWxlLmNvbGxhcHNpYmxlIiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJZXhwYW5kQ3VlVGV4dDogIiBjbGljayB0byBleHBhbmQgY29udGVudHMiLAoJCWNvbGxhcHNlQ3VlVGV4dDogIiBjbGljayB0byBjb2xsYXBzZSBjb250ZW50cyIsCgkJY29sbGFwc2VkOiB0cnVlLAoJCWhlYWRpbmc6ICI+OmhlYWRlciw+bGVnZW5kIiwKCQl0aGVtZTogbnVsbCwKCQlpY29uVGhlbWU6ICJkIiwKCQlpbml0U2VsZWN0b3I6ICI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZScpIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoKCQl2YXIgJGVsID0gdGhpcy5lbGVtZW50LAoJCQlvID0gdGhpcy5vcHRpb25zLAoJCQljb2xsYXBzaWJsZUNvbnRhaW4gPSAkZWwuYWRkQ2xhc3MoICJ1aS1jb2xsYXBzaWJsZS1jb250YWluIiApLAoJCQljb2xsYXBzaWJsZUhlYWRpbmcgPSAkZWwuZmluZCggby5oZWFkaW5nICkuZXEoIDAgKSwKCQkJY29sbGFwc2libGVDb250ZW50ID0gY29sbGFwc2libGVDb250YWluLndyYXBJbm5lciggIjxkaXYgY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWNvbnRlbnQnPjwvZGl2PiIgKS5maW5kKCAiLnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQiICksCgkJCWNvbGxhcHNpYmxlUGFyZW50ID0gJGVsLmNsb3Nlc3QoICI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIgKS5hZGRDbGFzcyggInVpLWNvbGxhcHNpYmxlLXNldCIgKTsKCgkJLy8gUmVwbGFjZSBjb2xsYXBzaWJsZUhlYWRpbmcgaWYgaXQncyBhIGxlZ2VuZAoJCWlmICggY29sbGFwc2libGVIZWFkaW5nLmlzKCAibGVnZW5kIiApICkgewoJCQljb2xsYXBzaWJsZUhlYWRpbmcgPSAkKCAiPGRpdiByb2xlPSdoZWFkaW5nJz4iKyBjb2xsYXBzaWJsZUhlYWRpbmcuaHRtbCgpICsiPC9kaXY+IiApLmluc2VydEJlZm9yZSggY29sbGFwc2libGVIZWFkaW5nICk7CgkJCWNvbGxhcHNpYmxlSGVhZGluZy5uZXh0KCkucmVtb3ZlKCk7CgkJfQoKCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJLy9kcm9wIGhlYWRpbmcgaW4gYmVmb3JlIGNvbnRlbnQKCQkJLmluc2VydEJlZm9yZSggY29sbGFwc2libGVDb250ZW50ICkKCQkJLy9tb2RpZnkgbWFya3VwICYgYXR0cmlidXRlcwoJCQkuYWRkQ2xhc3MoICJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nIiApCgkJCS5hcHBlbmQoICI8c3BhbiBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMnPjwvc3Bhbj4iICkKCQkJLndyYXBJbm5lciggIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXRvZ2dsZSc+PC9hPiIgKQoJCQkuZmluZCggImE6ZXEoMCkiICkKCQkJCS5idXR0b25NYXJrdXAoewoJCQkJCXNoYWRvdzogIWNvbGxhcHNpYmxlUGFyZW50Lmxlbmd0aCwKCQkJCQljb3JuZXJzOiBmYWxzZSwKCQkJCQlpY29uUG9zOiAibGVmdCIsCgkJCQkJaWNvbjogInBsdXMiLAoJCQkJCXRoZW1lOiBvLnRoZW1lCgkJCQl9KQoJCQkJLmZpbmQoICIudWktaWNvbiIgKQoJCQkJCS5yZW1vdmVBdHRyKCAiY2xhc3MiICkKCQkJCQkuYnV0dG9uTWFya3VwKHsKCQkJCQkJc2hhZG93OiB0cnVlLAoJCQkJCQljb3JuZXJzOiB0cnVlLAoJCQkJCQlpY29uUG9zOiAibm90ZXh0IiwKCQkJCQkJaWNvbjogInBsdXMiLAoJCQkJCQl0aGVtZTogby5pY29uVGhlbWUKCQkJCQl9KTsKCgkJCWlmICggIWNvbGxhcHNpYmxlUGFyZW50Lmxlbmd0aCApIHsKCQkJCWNvbGxhcHNpYmxlSGVhZGluZwoJCQkJCS5maW5kKCAiYTplcSgwKSIgKQoJCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYWxsIiApCgkJCQkJCS5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKQoJCQkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWFsbCIgKTsKCQkJfSBlbHNlIHsKCQkJCWlmICggY29sbGFwc2libGVDb250YWluLmpxbURhdGEoICJjb2xsYXBzaWJsZS1sYXN0IiApICkgewoJCQkJCWNvbGxhcHNpYmxlSGVhZGluZwoJCQkJCQkuZmluZCggImE6ZXEoMCksIC51aS1idG4taW5uZXIiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICk7CgkJCQl9CgkJCX0KCgkJLy9ldmVudHMKCQljb2xsYXBzaWJsZUNvbnRhaW4KCQkJLmJpbmQoICJjb2xsYXBzZSIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCWlmICggISBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSAmJgoJCQkJCQkJJCggZXZlbnQudGFyZ2V0ICkuY2xvc2VzdCggIi51aS1jb2xsYXBzaWJsZS1jb250YWluIiApLmlzKCBjb2xsYXBzaWJsZUNvbnRhaW4gKSApIHsKCgkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCgkJCQkJY29sbGFwc2libGVIZWFkaW5nCgkJCQkJCS5hZGRDbGFzcyggInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIiApCgkJCQkJCS5maW5kKCAiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIiApCgkJCQkJCQkudGV4dCggby5leHBhbmRDdWVUZXh0ICkKCQkJCQkJLmVuZCgpCgkJCQkJCS5maW5kKCAiLnVpLWljb24iICkKCQkJCQkJCS5yZW1vdmVDbGFzcyggInVpLWljb24tbWludXMiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWljb24tcGx1cyIgKTsKCgkJCQkJY29sbGFwc2libGVDb250ZW50LmFkZENsYXNzKCAidWktY29sbGFwc2libGUtY29udGVudC1jb2xsYXBzZWQiICkuYXR0ciggImFyaWEtaGlkZGVuIiwgdHJ1ZSApOwoKCQkJCQlpZiAoIGNvbGxhcHNpYmxlQ29udGFpbi5qcW1EYXRhKCAiY29sbGFwc2libGUtbGFzdCIgKSApIHsKCQkJCQkJY29sbGFwc2libGVIZWFkaW5nCgkJCQkJCQkuZmluZCggImE6ZXEoMCksIC51aS1idG4taW5uZXIiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICk7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCQkuYmluZCggImV4cGFuZCIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCWlmICggIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpICkgewoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQljb2xsYXBzaWJsZUhlYWRpbmcKCQkJCQkJLnJlbW92ZUNsYXNzKCAidWktY29sbGFwc2libGUtaGVhZGluZy1jb2xsYXBzZWQiICkKCQkJCQkJLmZpbmQoICIudWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXMiICkudGV4dCggby5jb2xsYXBzZUN1ZVRleHQgKTsKCgkJCQkJY29sbGFwc2libGVIZWFkaW5nLmZpbmQoICIudWktaWNvbiIgKS5yZW1vdmVDbGFzcyggInVpLWljb24tcGx1cyIgKS5hZGRDbGFzcyggInVpLWljb24tbWludXMiICk7CgoJCQkJCWNvbGxhcHNpYmxlQ29udGVudC5yZW1vdmVDbGFzcyggInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIiApLmF0dHIoICJhcmlhLWhpZGRlbiIsIGZhbHNlICk7CgoJCQkJCWlmICggY29sbGFwc2libGVDb250YWluLmpxbURhdGEoICJjb2xsYXBzaWJsZS1sYXN0IiApICkgewoKCQkJCQkJY29sbGFwc2libGVIZWFkaW5nCgkJCQkJCQkuZmluZCggImE6ZXEoMCksIC51aS1idG4taW5uZXIiICkKCQkJCQkJCS5yZW1vdmVDbGFzcyggInVpLWNvcm5lci1ib3R0b20iICk7CgkJCQkJfQoJCQkJfQoJCQl9KQoJCQkudHJpZ2dlciggby5jb2xsYXBzZWQgPyAiY29sbGFwc2UiIDogImV4cGFuZCIgKTsKCgkJLy8gQ2xvc2Ugb3RoZXJzIGluIGEgc2V0CgkJaWYgKCBjb2xsYXBzaWJsZVBhcmVudC5sZW5ndGggJiYgIWNvbGxhcHNpYmxlUGFyZW50LmpxbURhdGEoICJjb2xsYXBzaWJsZWJvdW5kIiApICkgewoKCQkJY29sbGFwc2libGVQYXJlbnQKCQkJCS5qcW1EYXRhKCAiY29sbGFwc2libGVib3VuZCIsIHRydWUgKQoJCQkJLmJpbmQoICJleHBhbmQiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJCQkJCSQoIGV2ZW50LnRhcmdldCApCgkJCQkJCS5jbG9zZXN0KCAiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iICkKCQkJCQkJLnNpYmxpbmdzKCAiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iICkKCQkJCQkJLnRyaWdnZXIoICJjb2xsYXBzZSIgKTsKCgkJCQl9KTsKCgkJCXZhciBzZXQgPSBjb2xsYXBzaWJsZVBhcmVudC5jaGlsZHJlbiggIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiICk7CgoJCQlzZXQuZmlyc3QoKQoJCQkJLmZpbmQoICJhOmVxKDApIiApCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLXRvcCIgKQoJCQkJCQkuZmluZCggIi51aS1idG4taW5uZXIiICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci10b3AiICk7CgoJCQlzZXQubGFzdCgpLmpxbURhdGEoICJjb2xsYXBzaWJsZS1sYXN0IiwgdHJ1ZSApOwoJCX0KCgkJY29sbGFwc2libGVIZWFkaW5nCgkJCS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkJCXZhciB0eXBlID0gY29sbGFwc2libGVIZWFkaW5nLmlzKCAiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIiApID8KCQkJCQkJCQkJCSJleHBhbmQiIDogImNvbGxhcHNlIjsKCgkJCQljb2xsYXBzaWJsZUNvbnRhaW4udHJpZ2dlciggdHlwZSApOwoKCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCX0pOwoJfQp9KTsKCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cwokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAkLm1vYmlsZS5jb2xsYXBzaWJsZS5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkuY29sbGFwc2libGUoKTsKfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAiZmllbGRjb250YWluIiBwbHVnaW4gLSBzaW1wbGUgY2xhc3MgYWRkaXRpb25zIHRvIG1ha2UgZm9ybSByb3cgc2VwYXJhdG9ycwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQuZm4uZmllbGRjb250YWluID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CglyZXR1cm4gdGhpcy5hZGRDbGFzcyggInVpLWZpZWxkLWNvbnRhaW4gdWktYm9keSB1aS1iciIgKTsKfTsKCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cwokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAiOmpxbURhdGEocm9sZT0nZmllbGRjb250YWluJykiLCBlLnRhcmdldCApLmZpZWxkY29udGFpbigpOwp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogcGx1Z2luIGZvciBjcmVhdGluZyBDU1MgZ3JpZHMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLmZuLmdyaWQgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7CgoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKSwKCQkJbyA9ICQuZXh0ZW5kKHsKCQkJCWdyaWQ6IG51bGwKCQkJfSxvcHRpb25zKSwKCQkJJGtpZHMgPSAkdGhpcy5jaGlsZHJlbigpLAoJCQlncmlkQ29scyA9IHtzb2xvOjEsIGE6MiwgYjozLCBjOjQsIGQ6NX0sCgkJCWdyaWQgPSBvLmdyaWQsCgkJCWl0ZXJhdG9yOwoKCQkJaWYgKCAhZ3JpZCApIHsKCQkJCWlmICggJGtpZHMubGVuZ3RoIDw9IDUgKSB7CgkJCQkJZm9yICggdmFyIGxldHRlciBpbiBncmlkQ29scyApIHsKCQkJCQkJaWYgKCBncmlkQ29sc1sgbGV0dGVyIF0gPT09ICRraWRzLmxlbmd0aCApIHsKCQkJCQkJCWdyaWQgPSBsZXR0ZXI7CgkJCQkJCX0KCQkJCQl9CgkJCQl9IGVsc2UgewoJCQkJCWdyaWQgPSAiYSI7CgkJCQl9CgkJCX0KCQkJaXRlcmF0b3IgPSBncmlkQ29sc1tncmlkXTsKCgkJJHRoaXMuYWRkQ2xhc3MoICJ1aS1ncmlkLSIgKyBncmlkICk7CgoJCSRraWRzLmZpbHRlciggIjpudGgtY2hpbGQoIiArIGl0ZXJhdG9yICsgIm4rMSkiICkuYWRkQ2xhc3MoICJ1aS1ibG9jay1hIiApOwoKCQlpZiAoIGl0ZXJhdG9yID4gMSApIHsKCQkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCgiICsgaXRlcmF0b3IgKyAibisyKSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWIiICk7CgkJfQoJCWlmICggaXRlcmF0b3IgPiAyICkgewoJCQkka2lkcy5maWx0ZXIoICI6bnRoLWNoaWxkKDNuKzMpIiApLmFkZENsYXNzKCAidWktYmxvY2stYyIgKTsKCQl9CgkJaWYgKCBpdGVyYXRvciA+IDMgKSB7CgkJCSRraWRzLmZpbHRlciggIjpudGgtY2hpbGQoNG4rNCkiICkuYWRkQ2xhc3MoICJ1aS1ibG9jay1kIiApOwoJCX0KCQlpZiAoIGl0ZXJhdG9yID4gNCApIHsKCQkJJGtpZHMuZmlsdGVyKCAiOm50aC1jaGlsZCg1bis1KSIgKS5hZGRDbGFzcyggInVpLWJsb2NrLWUiICk7CgkJfQoJfSk7Cn07Cn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogIm5hdmJhciIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUubmF2YmFyIiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJaWNvbnBvczogInRvcCIsCgkJZ3JpZDogbnVsbCwKCQlpbml0U2VsZWN0b3I6ICI6anFtRGF0YShyb2xlPSduYXZiYXInKSIKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKXsKCgkJdmFyICRuYXZiYXIgPSB0aGlzLmVsZW1lbnQsCgkJCSRuYXZidG5zID0gJG5hdmJhci5maW5kKCAiYSIgKSwKCQkJaWNvbnBvcyA9ICRuYXZidG5zLmZpbHRlciggIjpqcW1EYXRhKGljb24pIiApLmxlbmd0aCA/CgkJCQkJCQkJCXRoaXMub3B0aW9ucy5pY29ucG9zIDogdW5kZWZpbmVkOwoKCQkkbmF2YmFyLmFkZENsYXNzKCAidWktbmF2YmFyIiApCgkJCS5hdHRyKCAicm9sZSIsIm5hdmlnYXRpb24iICkKCQkJLmZpbmQoICJ1bCIgKQoJCQkJLmdyaWQoeyBncmlkOiB0aGlzLm9wdGlvbnMuZ3JpZCB9KTsKCgkJaWYgKCAhaWNvbnBvcyApIHsKCQkJJG5hdmJhci5hZGRDbGFzcyggInVpLW5hdmJhci1ub2ljb25zIiApOwoJCX0KCgkJJG5hdmJ0bnMuYnV0dG9uTWFya3VwKHsKCQkJY29ybmVyczoJZmFsc2UsCgkJCXNoYWRvdzoJCWZhbHNlLAoJCQlpY29ucG9zOglpY29ucG9zCgkJfSk7CgoJCSRuYXZiYXIuZGVsZWdhdGUoICJhIiwgInZjbGljayIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJJG5hdmJ0bnMubm90KCAiLnVpLXN0YXRlLXBlcnNpc3QiICkucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJCSQoIHRoaXMgKS5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQl9KTsKCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUubmF2YmFyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKS5uYXZiYXIoKTsKfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAibGlzdHZpZXciIHBsdWdpbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCi8vS2VlcHMgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBsaXN0cyBwZXIgcGFnZSBVSUQKLy9UaGlzIGFsbG93cyBzdXBwb3J0IGZvciBtdWx0aXBsZSBuZXN0ZWQgbGlzdCBpbiB0aGUgc2FtZSBwYWdlCi8vaHR0cHM6Ly9naXRodWIuY29tL2pxdWVyeS9qcXVlcnktbW9iaWxlL2lzc3Vlcy8xNjE3CnZhciBsaXN0Q291bnRQZXJQYWdlID0ge307CgokLndpZGdldCggIm1vYmlsZS5saXN0dmlldyIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCXRoZW1lOiAiYyIsCgkJY291bnRUaGVtZTogImMiLAoJCWhlYWRlclRoZW1lOiAiYiIsCgkJZGl2aWRlclRoZW1lOiAiYiIsCgkJc3BsaXRJY29uOiAiYXJyb3ctciIsCgkJc3BsaXRUaGVtZTogImIiLAoJCWluc2V0OiBmYWxzZSwKCQlpbml0U2VsZWN0b3I6ICI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIgoJfSwKCglfY3JlYXRlOiBmdW5jdGlvbigpIHsKCQl2YXIgdCA9IHRoaXM7CgoJCS8vIGNyZWF0ZSBsaXN0dmlldyBtYXJrdXAKCQl0LmVsZW1lbnQuYWRkQ2xhc3MoZnVuY3Rpb24oIGksIG9yaWcgKSB7CgkJCXJldHVybiBvcmlnICsgIiB1aS1saXN0dmlldyAiICsgKCB0Lm9wdGlvbnMuaW5zZXQgPyAiIHVpLWxpc3R2aWV3LWluc2V0IHVpLWNvcm5lci1hbGwgdWktc2hhZG93ICIgOiAiIiApOwoJCX0pOwoKCQl0LnJlZnJlc2goIHRydWUgKTsKCX0sCgoJX2l0ZW1BcHBseTogZnVuY3Rpb24oICRsaXN0LCBpdGVtICkgewoJCXZhciAkY291bnRsaSA9IGl0ZW0uZmluZCggIi51aS1saS1jb3VudCIgKTsKCQlpZiAoICRjb3VudGxpLmxlbmd0aCApIHsKCQkJaXRlbS5hZGRDbGFzcyggInVpLWxpLWhhcy1jb3VudCIgKTsKCQl9CgkJJGNvdW50bGkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArICggJGxpc3QuanFtRGF0YSggImNvdW50dGhlbWUiICkgfHwgdGhpcy5vcHRpb25zLmNvdW50VGhlbWUgKSArICIgdWktYnRuLWNvcm5lci1hbGwiICk7CgoJCS8vIFRPRE8gY2xhc3MgaGFzIHRvIGJlIGRlZmluZWQgaW4gbWFya3VwCgkJaXRlbS5maW5kKCAiaDEsIGgyLCBoMywgaDQsIGg1LCBoNiIgKS5hZGRDbGFzcyggInVpLWxpLWhlYWRpbmciICkuZW5kKCkKCQkJLmZpbmQoICJwLCBkbCIgKS5hZGRDbGFzcyggInVpLWxpLWRlc2MiICkuZW5kKCkKCQkJLmZpbmQoICI+aW1nOmVxKDApLCAudWktbGluay1pbmhlcml0PmltZzplcSgwKSIgKS5hZGRDbGFzcyggInVpLWxpLXRodW1iIiApLmVhY2goZnVuY3Rpb24oKSB7CgkJCQlpdGVtLmFkZENsYXNzKCAkKHRoaXMpLmlzKCAiLnVpLWxpLWljb24iICkgPyAidWktbGktaGFzLWljb24iIDogInVpLWxpLWhhcy10aHVtYiIgKTsKCQkJfSkuZW5kKCkKCQkJLmZpbmQoICIudWktbGktYXNpZGUiICkuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciAkdGhpcyA9ICQodGhpcyk7CgkJCQkkdGhpcy5wcmVwZW5kVG8oICR0aGlzLnBhcmVudCgpICk7IC8vc2hpZnQgYXNpZGUgdG8gZnJvbnQgZm9yIGNzcyBmbG9hdAoJCQl9KTsKCX0sCgoJX3JlbW92ZUNvcm5lcnM6IGZ1bmN0aW9uKCBsaSwgd2hpY2ggKSB7CgkJdmFyIHRvcCA9ICJ1aS1jb3JuZXItdG9wIHVpLWNvcm5lci10ciB1aS1jb3JuZXItdGwiLAoJCQlib3QgPSAidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIjsKCgkJbGkgPSBsaS5hZGQoIGxpLmZpbmQoICIudWktYnRuLWlubmVyLCAudWktbGktbGluay1hbHQsIC51aS1saS10aHVtYiIgKSApOwoKCQlpZiAoIHdoaWNoID09PSAidG9wIiApIHsKCQkJbGkucmVtb3ZlQ2xhc3MoIHRvcCApOwoJCX0gZWxzZSBpZiAoIHdoaWNoID09PSAiYm90dG9tIiApIHsKCQkJbGkucmVtb3ZlQ2xhc3MoIGJvdCApOwoJCX0gZWxzZSB7CgkJCWxpLnJlbW92ZUNsYXNzKCB0b3AgKyAiICIgKyBib3QgKTsKCQl9Cgl9LAoKCV9yZWZyZXNoQ29ybmVyczogZnVuY3Rpb24oIGNyZWF0ZSApIHsKCQl2YXIgJGxpLAoJCQkkdmlzaWJsZWxpLAoJCQkkdG9wbGksCgkJCSRib3R0b21saTsKCgkJaWYgKCB0aGlzLm9wdGlvbnMuaW5zZXQgKSB7CgkJCSRsaSA9IHRoaXMuZWxlbWVudC5jaGlsZHJlbiggImxpIiApOwoJCQkvLyBhdCBjcmVhdGUgdGltZSB0aGUgbGkgYXJlIG5vdCB2aXNpYmxlIHlldCBzbyB3ZSBuZWVkIHRvIHJlbHkgb24gLnVpLXNjcmVlbi1oaWRkZW4KCQkJJHZpc2libGVsaSA9IGNyZWF0ZT8kbGkubm90KCAiLnVpLXNjcmVlbi1oaWRkZW4iICk6JGxpLmZpbHRlciggIjp2aXNpYmxlIiApOwoJCQkKCQkJdGhpcy5fcmVtb3ZlQ29ybmVycyggJGxpICk7CgoJCQkvLyBTZWxlY3QgdGhlIGZpcnN0IHZpc2libGUgbGkgZWxlbWVudAoJCQkkdG9wbGkgPSAkdmlzaWJsZWxpLmZpcnN0KCkKCQkJCS5hZGRDbGFzcyggInVpLWNvcm5lci10b3AiICk7CgoJCQkkdG9wbGkuYWRkKCAkdG9wbGkuZmluZCggIi51aS1idG4taW5uZXIiICkgKQoJCQkJLmZpbmQoICIudWktbGktbGluay1hbHQiICkKCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdHIiICkKCQkJCS5lbmQoKQoJCQkJLmZpbmQoICIudWktbGktdGh1bWIiICkKCQkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItdGwiICk7CgoJCQkvLyBTZWxlY3QgdGhlIGxhc3QgdmlzaWJsZSBsaSBlbGVtZW50CgkJCSRib3R0b21saSA9ICR2aXNpYmxlbGkubGFzdCgpCgkJCQkuYWRkQ2xhc3MoICJ1aS1jb3JuZXItYm90dG9tIiApOwoKCQkJJGJvdHRvbWxpLmFkZCggJGJvdHRvbWxpLmZpbmQoICIudWktYnRuLWlubmVyIiApICkKCQkJCS5maW5kKCAiLnVpLWxpLWxpbmstYWx0IiApCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJyIiApCgkJCQkuZW5kKCkKCQkJCS5maW5kKCAiLnVpLWxpLXRodW1iIiApCgkJCQkJLmFkZENsYXNzKCAidWktY29ybmVyLWJsIiApOwoJCX0KCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oIGNyZWF0ZSApIHsKCQl0aGlzLnBhcmVudFBhZ2UgPSB0aGlzLmVsZW1lbnQuY2xvc2VzdCggIi51aS1wYWdlIiApOwoJCXRoaXMuX2NyZWF0ZVN1YlBhZ2VzKCk7CgoJCXZhciBvID0gdGhpcy5vcHRpb25zLAoJCQkkbGlzdCA9IHRoaXMuZWxlbWVudCwKCQkJc2VsZiA9IHRoaXMsCgkJCWRpdmlkZXJ0aGVtZSA9ICRsaXN0LmpxbURhdGEoICJkaXZpZGVydGhlbWUiICkgfHwgby5kaXZpZGVyVGhlbWUsCgkJCWxpc3RzcGxpdHRoZW1lID0gJGxpc3QuanFtRGF0YSggInNwbGl0dGhlbWUiICksCgkJCWxpc3RzcGxpdGljb24gPSAkbGlzdC5qcW1EYXRhKCAic3BsaXRpY29uIiApLAoJCQlsaSA9ICRsaXN0LmNoaWxkcmVuKCAibGkiICksCgkJCWNvdW50ZXIgPSAkLnN1cHBvcnQuY3NzUHNldWRvRWxlbWVudCB8fCAhJC5ub2RlTmFtZSggJGxpc3RbIDAgXSwgIm9sIiApID8gMCA6IDEsCgkJCWl0ZW0sIGl0ZW1DbGFzcywgaXRlbVRoZW1lLAoJCQlhLCBsYXN0LCBzcGxpdHRoZW1lLCBjb3VudFBhcmVudCwgaWNvbjsKCgkJaWYgKCBjb3VudGVyICkgewoJCQkkbGlzdC5maW5kKCAiLnVpLWxpLWRlYyIgKS5yZW1vdmUoKTsKCQl9CgoJCWZvciAoIHZhciBwb3MgPSAwLCBudW1saSA9IGxpLmxlbmd0aDsgcG9zIDwgbnVtbGk7IHBvcysrICkgewoJCQlpdGVtID0gbGkuZXEoIHBvcyApOwoJCQlpdGVtQ2xhc3MgPSAidWktbGkiOwoKCQkJLy8gSWYgd2UncmUgY3JlYXRpbmcgdGhlIGVsZW1lbnQsIHdlIHVwZGF0ZSBpdCByZWdhcmRsZXNzCgkJCWlmICggY3JlYXRlIHx8ICFpdGVtLmhhc0NsYXNzKCAidWktbGkiICkgKSB7CgkJCQlpdGVtVGhlbWUgPSBpdGVtLmpxbURhdGEoInRoZW1lIikgfHwgby50aGVtZTsKCQkJCWEgPSBpdGVtLmNoaWxkcmVuKCAiYSIgKTsKCgkJCQlpZiAoIGEubGVuZ3RoICkgewoJCQkJCWljb24gPSBpdGVtLmpxbURhdGEoImljb24iKTsKCgkJCQkJaXRlbS5idXR0b25NYXJrdXAoewoJCQkJCQl3cmFwcGVyRWxzOiAiZGl2IiwKCQkJCQkJc2hhZG93OiBmYWxzZSwKCQkJCQkJY29ybmVyczogZmFsc2UsCgkJCQkJCWljb25wb3M6ICJyaWdodCIsCgkJCQkJCWljb246IGEubGVuZ3RoID4gMSB8fCBpY29uID09PSBmYWxzZSA/IGZhbHNlIDogaWNvbiB8fCAiYXJyb3ctciIsCgkJCQkJCXRoZW1lOiBpdGVtVGhlbWUKCQkJCQl9KTsKCgkJCQkJaWYgKCAoIGljb24gIT0gZmFsc2UgKSAmJiAoIGEubGVuZ3RoID09IDEgKSApIHsKCQkJCQkJaXRlbS5hZGRDbGFzcyggInVpLWxpLWhhcy1hcnJvdyIgKTsKCQkJCQl9CgoJCQkJCWEuZmlyc3QoKS5hZGRDbGFzcyggInVpLWxpbmstaW5oZXJpdCIgKTsKCgkJCQkJaWYgKCBhLmxlbmd0aCA+IDEgKSB7CgkJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLWhhcy1hbHQiOwoKCQkJCQkJbGFzdCA9IGEubGFzdCgpOwoJCQkJCQlzcGxpdHRoZW1lID0gbGlzdHNwbGl0dGhlbWUgfHwgbGFzdC5qcW1EYXRhKCAidGhlbWUiICkgfHwgby5zcGxpdFRoZW1lOwoKCQkJCQkJbGFzdC5hcHBlbmRUbyhpdGVtKQoJCQkJCQkJLmF0dHIoICJ0aXRsZSIsIGxhc3QudGV4dCgpICkKCQkJCQkJCS5hZGRDbGFzcyggInVpLWxpLWxpbmstYWx0IiApCgkJCQkJCQkuZW1wdHkoKQoJCQkJCQkJLmJ1dHRvbk1hcmt1cCh7CgkJCQkJCQkJc2hhZG93OiBmYWxzZSwKCQkJCQkJCQljb3JuZXJzOiBmYWxzZSwKCQkJCQkJCQl0aGVtZTogaXRlbVRoZW1lLAoJCQkJCQkJCWljb246IGZhbHNlLAoJCQkJCQkJCWljb25wb3M6IGZhbHNlCgkJCQkJCQl9KQoJCQkJCQkJLmZpbmQoICIudWktYnRuLWlubmVyIiApCgkJCQkJCQkJLmFwcGVuZCgKCQkJCQkJCQkJJCggIjxzcGFuIC8+IiApLmJ1dHRvbk1hcmt1cCh7CgkJCQkJCQkJCQlzaGFkb3c6IHRydWUsCgkJCQkJCQkJCQljb3JuZXJzOiB0cnVlLAoJCQkJCQkJCQkJdGhlbWU6IHNwbGl0dGhlbWUsCgkJCQkJCQkJCQlpY29ucG9zOiAibm90ZXh0IiwKCQkJCQkJCQkJCWljb246IGxpc3RzcGxpdGljb24gfHwgbGFzdC5qcW1EYXRhKCAiaWNvbiIgKSB8fCBvLnNwbGl0SWNvbgoJCQkJCQkJCQl9KQoJCQkJCQkJCSk7CgkJCQkJfQoJCQkJfSBlbHNlIGlmICggaXRlbS5qcW1EYXRhKCAicm9sZSIgKSA9PT0gImxpc3QtZGl2aWRlciIgKSB7CgoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLWRpdmlkZXIgdWktYnRuIHVpLWJhci0iICsgZGl2aWRlcnRoZW1lOwoJCQkJCWl0ZW0uYXR0ciggInJvbGUiLCAiaGVhZGluZyIgKTsKCgkJCQkJLy9yZXNldCBjb3VudGVyIHdoZW4gYSBkaXZpZGVyIGhlYWRpbmcgaXMgZW5jb3VudGVyZWQKCQkJCQlpZiAoIGNvdW50ZXIgKSB7CgkJCQkJCWNvdW50ZXIgPSAxOwoJCQkJCX0KCgkJCQl9IGVsc2UgewoJCQkJCWl0ZW1DbGFzcyArPSAiIHVpLWxpLXN0YXRpYyB1aS1ib2R5LSIgKyBpdGVtVGhlbWU7CgkJCQl9CgkJCX0KCgkJCWlmICggY291bnRlciAmJiBpdGVtQ2xhc3MuaW5kZXhPZiggInVpLWxpLWRpdmlkZXIiICkgPCAwICkgewoJCQkJY291bnRQYXJlbnQgPSBpdGVtLmlzKCAiLnVpLWxpLXN0YXRpYzpmaXJzdCIgKSA/IGl0ZW0gOiBpdGVtLmZpbmQoICIudWktbGluay1pbmhlcml0IiApOwoKCQkJCWNvdW50UGFyZW50LmFkZENsYXNzKCAidWktbGktanNudW1iZXJpbmciICkKCQkJCQkucHJlcGVuZCggIjxzcGFuIGNsYXNzPSd1aS1saS1kZWMnPiIgKyAoY291bnRlcisrKSArICIuIDwvc3Bhbj4iICk7CgkJCX0KCgkJCWl0ZW0uYWRkKCBpdGVtLmNoaWxkcmVuKCAiLnVpLWJ0bi1pbm5lciIgKSApLmFkZENsYXNzKCBpdGVtQ2xhc3MgKTsKCgkJCXNlbGYuX2l0ZW1BcHBseSggJGxpc3QsIGl0ZW0gKTsKCQl9CgkJCgkJdGhpcy5fcmVmcmVzaENvcm5lcnMoIGNyZWF0ZSApOwoJfSwKCgkvL2NyZWF0ZSBhIHN0cmluZyBmb3IgSUQvc3VicGFnZSB1cmwgY3JlYXRpb24KCV9pZFN0cmluZ0VzY2FwZTogZnVuY3Rpb24oIHN0ciApIHsKCQlyZXR1cm4gc3RyLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLCAnLScpOwoJfSwKCglfY3JlYXRlU3ViUGFnZXM6IGZ1bmN0aW9uKCkgewoJCXZhciBwYXJlbnRMaXN0ID0gdGhpcy5lbGVtZW50LAoJCQlwYXJlbnRQYWdlID0gcGFyZW50TGlzdC5jbG9zZXN0KCAiLnVpLXBhZ2UiICksCgkJCXBhcmVudFVybCA9IHBhcmVudFBhZ2UuanFtRGF0YSggInVybCIgKSwKCQkJcGFyZW50SWQgPSBwYXJlbnRVcmwgfHwgcGFyZW50UGFnZVsgMCBdWyAkLmV4cGFuZG8gXSwKCQkJcGFyZW50TGlzdElkID0gcGFyZW50TGlzdC5hdHRyKCAiaWQiICksCgkJCW8gPSB0aGlzLm9wdGlvbnMsCgkJCWRucyA9ICJkYXRhLSIgKyAkLm1vYmlsZS5ucywKCQkJc2VsZiA9IHRoaXMsCgkJCXBlcnNpc3RlbnRGb290ZXJJRCA9IHBhcmVudFBhZ2UuZmluZCggIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiApLmpxbURhdGEoICJpZCIgKSwKCQkJaGFzU3ViUGFnZXM7CgoJCWlmICggdHlwZW9mIGxpc3RDb3VudFBlclBhZ2VbIHBhcmVudElkIF0gPT09ICJ1bmRlZmluZWQiICkgewoJCQlsaXN0Q291bnRQZXJQYWdlWyBwYXJlbnRJZCBdID0gLTE7CgkJfQoKCQlwYXJlbnRMaXN0SWQgPSBwYXJlbnRMaXN0SWQgfHwgKytsaXN0Q291bnRQZXJQYWdlWyBwYXJlbnRJZCBdOwoKCQkkKCBwYXJlbnRMaXN0LmZpbmQoICJsaT51bCwgbGk+b2wiICkudG9BcnJheSgpLnJldmVyc2UoKSApLmVhY2goZnVuY3Rpb24oIGkgKSB7CgkJCXZhciBzZWxmID0gdGhpcywKCQkJCWxpc3QgPSAkKCB0aGlzICksCgkJCQlsaXN0SWQgPSBsaXN0LmF0dHIoICJpZCIgKSB8fCBwYXJlbnRMaXN0SWQgKyAiLSIgKyBpLAoJCQkJcGFyZW50ID0gbGlzdC5wYXJlbnQoKSwKCQkJCW5vZGVFbHMgPSAkKCBsaXN0LnByZXZBbGwoKS50b0FycmF5KCkucmV2ZXJzZSgpICksCgkJCQlub2RlRWxzID0gbm9kZUVscy5sZW5ndGggPyBub2RlRWxzIDogJCggIjxzcGFuPiIgKyAkLnRyaW0ocGFyZW50LmNvbnRlbnRzKClbIDAgXS5ub2RlVmFsdWUpICsgIjwvc3Bhbj4iICksCgkJCQl0aXRsZSA9IG5vZGVFbHMuZmlyc3QoKS50ZXh0KCksLy91cmwgbGltaXRzIHRvIGZpcnN0IDMwIGNoYXJzIG9mIHRleHQKCQkJCWlkID0gKCBwYXJlbnRVcmwgfHwgIiIgKSArICImIiArICQubW9iaWxlLnN1YlBhZ2VVcmxLZXkgKyAiPSIgKyBsaXN0SWQsCgkJCQl0aGVtZSA9IGxpc3QuanFtRGF0YSggInRoZW1lIiApIHx8IG8udGhlbWUsCgkJCQljb3VudFRoZW1lID0gbGlzdC5qcW1EYXRhKCAiY291bnR0aGVtZSIgKSB8fCBwYXJlbnRMaXN0LmpxbURhdGEoICJjb3VudHRoZW1lIiApIHx8IG8uY291bnRUaGVtZSwKCQkJCW5ld1BhZ2UsIGFuY2hvcjsKCgkJCS8vZGVmaW5lIGhhc1N1YlBhZ2VzIGZvciB1c2UgaW4gbGF0ZXIgcmVtb3ZhbAoJCQloYXNTdWJQYWdlcyA9IHRydWU7CgoJCQluZXdQYWdlID0gbGlzdC5kZXRhY2goKQoJCQkJCQkud3JhcCggIjxkaXYgIiArIGRucyArICJyb2xlPSdwYWdlJyAiICsJZG5zICsgInVybD0nIiArIGlkICsgIicgIiArIGRucyArICJ0aGVtZT0nIiArIHRoZW1lICsgIicgIiArIGRucyArICJjb3VudC10aGVtZT0nIiArIGNvdW50VGhlbWUgKyAiJz48ZGl2ICIgKyBkbnMgKyAicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IiApCgkJCQkJCS5wYXJlbnQoKQoJCQkJCQkJLmJlZm9yZSggIjxkaXYgIiArIGRucyArICJyb2xlPSdoZWFkZXInICIgKyBkbnMgKyAidGhlbWU9JyIgKyBvLmhlYWRlclRoZW1lICsgIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIgKyB0aXRsZSArICI8L2Rpdj48L2Rpdj4iICkKCQkJCQkJCS5hZnRlciggcGVyc2lzdGVudEZvb3RlcklEID8gJCggIjxkaXYgIiArIGRucyArICJyb2xlPSdmb290ZXInICIgKyBkbnMgKyAiaWQ9JyIrIHBlcnNpc3RlbnRGb290ZXJJRCArIic+IikgOiAiIiApCgkJCQkJCQkucGFyZW50KCkKCQkJCQkJCQkuYXBwZW5kVG8oICQubW9iaWxlLnBhZ2VDb250YWluZXIgKTsKCgkJCW5ld1BhZ2UucGFnZSgpOwoKCQkJYW5jaG9yID0gcGFyZW50LmZpbmQoJ2E6Zmlyc3QnKTsKCgkJCWlmICggIWFuY2hvci5sZW5ndGggKSB7CgkJCQlhbmNob3IgPSAkKCAiPGEvPiIgKS5odG1sKCBub2RlRWxzIHx8IHRpdGxlICkucHJlcGVuZFRvKCBwYXJlbnQuZW1wdHkoKSApOwoJCQl9CgoJCQlhbmNob3IuYXR0ciggImhyZWYiLCAiIyIgKyBpZCApOwoKCQl9KS5saXN0dmlldygpOwoKCQkvL29uIHBhZ2VoaWRlLCByZW1vdmUgYW55IG5lc3RlZCBwYWdlcyBhbG9uZyB3aXRoIHRoZSBwYXJlbnQgcGFnZSwgYXMgbG9uZyBhcyB0aGV5IGFyZW4ndCBhY3RpdmUKCQlpZiggaGFzU3ViUGFnZXMgJiYgcGFyZW50UGFnZS5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZSA9PT0gZmFsc2UgKXsKCQkJdmFyIG5ld1JlbW92ZSA9IGZ1bmN0aW9uKCBlLCB1aSApewoJCQkJdmFyIG5leHRQYWdlID0gdWkubmV4dFBhZ2UsIG5wVVJMOwoKCQkJCWlmKCB1aS5uZXh0UGFnZSApewoJCQkJCW5wVVJMID0gbmV4dFBhZ2UuanFtRGF0YSggInVybCIgKTsKCQkJCQlpZiggbnBVUkwuaW5kZXhPZiggcGFyZW50VXJsICsgIiYiICsgJC5tb2JpbGUuc3ViUGFnZVVybEtleSApICE9PSAwICl7CgkJCQkJCXNlbGYuY2hpbGRQYWdlcygpLnJlbW92ZSgpOwoJCQkJCQlwYXJlbnRQYWdlLnJlbW92ZSgpOwoJCQkJCX0KCQkJCX0KCQkJfTsKCgkJCS8vIHVuYmluZCB0aGUgb3JpZ2luYWwgcGFnZSByZW1vdmUgYW5kIHJlcGxhY2Ugd2l0aCBvdXIgc3BlY2lhbGl6ZWQgdmVyc2lvbgoJCQlwYXJlbnRQYWdlCgkJCQkudW5iaW5kKCAicGFnZWhpZGUucmVtb3ZlIiApCgkJCQkuYmluZCggInBhZ2VoaWRlLnJlbW92ZSIsIG5ld1JlbW92ZSk7CgkJfQoJfSwKCgkvLyBUT0RPIHNvcnQgb3V0IGEgYmV0dGVyIHdheSB0byB0cmFjayBzdWIgcGFnZXMgb2YgdGhlIGxpc3R2aWV3IHRoaXMgaXMgYnJpdHRsZQoJY2hpbGRQYWdlczogZnVuY3Rpb24oKXsKCQl2YXIgcGFyZW50VXJsID0gdGhpcy5wYXJlbnRQYWdlLmpxbURhdGEoICJ1cmwiICk7CgoJCXJldHVybiAkKCAiOmpxbURhdGEodXJsXj0nIisgIHBhcmVudFVybCArICImIiArICQubW9iaWxlLnN1YlBhZ2VVcmxLZXkgKyInKSIpOwoJfQp9KTsKCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cwokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAkLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkubGlzdHZpZXcoKTsKfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAibGlzdHZpZXciIGZpbHRlciBleHRlbnNpb24KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXIgPSBmYWxzZTsKJC5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXIgPSAiRmlsdGVyIGl0ZW1zLi4uIjsKJC5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWUgPSAiYyI7CiQubW9iaWxlLmxpc3R2aWV3LnByb3RvdHlwZS5vcHRpb25zLmZpbHRlckNhbGxiYWNrID0gZnVuY3Rpb24oIHRleHQsIHNlYXJjaFZhbHVlICl7CglyZXR1cm4gdGV4dC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoIHNlYXJjaFZhbHVlICkgPT09IC0xOwp9OwoKJCggIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiICkubGl2ZSggImxpc3R2aWV3Y3JlYXRlIiwgZnVuY3Rpb24oKSB7CgoJdmFyIGxpc3QgPSAkKCB0aGlzICksCgkJbGlzdHZpZXcgPSBsaXN0LmRhdGEoICJsaXN0dmlldyIgKTsKCglpZiAoICFsaXN0dmlldy5vcHRpb25zLmZpbHRlciApIHsKCQlyZXR1cm47Cgl9CgoJdmFyIHdyYXBwZXIgPSAkKCAiPGZvcm0+IiwgewoJCQkiY2xhc3MiOiAidWktbGlzdHZpZXctZmlsdGVyIHVpLWJhci0iICsgbGlzdHZpZXcub3B0aW9ucy5maWx0ZXJUaGVtZSwKCQkJInJvbGUiOiAic2VhcmNoIgoJCX0pLAoJCXNlYXJjaCA9ICQoICI8aW5wdXQ+IiwgewoJCQlwbGFjZWhvbGRlcjogbGlzdHZpZXcub3B0aW9ucy5maWx0ZXJQbGFjZWhvbGRlcgoJCX0pCgkJLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0eXBlIiwgInNlYXJjaCIgKQoJCS5qcW1EYXRhKCAibGFzdHZhbCIsICIiICkKCQkuYmluZCggImtleXVwIGNoYW5nZSIsIGZ1bmN0aW9uKCkgewoKCQkJdmFyICR0aGlzID0gJCh0aGlzKSwKCQkJCXZhbCA9IHRoaXMudmFsdWUudG9Mb3dlckNhc2UoKSwKCQkJCWxpc3RJdGVtcyA9IG51bGwsCgkJCQlsYXN0dmFsID0gJHRoaXMuanFtRGF0YSggImxhc3R2YWwiICkgKyAiIiwKCQkJCWNoaWxkSXRlbXMgPSBmYWxzZSwKCQkJCWl0ZW10ZXh0ID0gIiIsCgkJCQlpdGVtLCBjaGFuZ2U7CgoJCQkvLyBDaGFuZ2UgdmFsIGFzIGxhc3R2YWwgZm9yIG5leHQgZXhlY3V0aW9uCgkJCSR0aGlzLmpxbURhdGEoICJsYXN0dmFsIiAsIHZhbCApOwoKCQkJY2hhbmdlID0gdmFsLnJlcGxhY2UoIG5ldyBSZWdFeHAoICJeIiArIGxhc3R2YWwgKSAsICIiICk7CgoJCQlpZiAoIHZhbC5sZW5ndGggPCBsYXN0dmFsLmxlbmd0aCB8fCBjaGFuZ2UubGVuZ3RoICE9ICggdmFsLmxlbmd0aCAtIGxhc3R2YWwubGVuZ3RoICkgKSB7CgoJCQkJLy8gUmVtb3ZlZCBjaGFycyBvciBwYXN0ZWQgc29tZXRoaW5nIHRvdGFseSBkaWZmZXJlbnQsIGNoZWNrIGFsbCBpdGVtcwoJCQkJbGlzdEl0ZW1zID0gbGlzdC5jaGlsZHJlbigpOwoJCQl9IGVsc2UgewoKCQkJCS8vIE9ubHkgY2hhcnMgYWRkZWQsIG5vdCByZW1vdmVkLCBvbmx5IHVzZSB2aXNpYmxlIHN1YnNldAoJCQkJbGlzdEl0ZW1zID0gbGlzdC5jaGlsZHJlbiggIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIiApOwoJCQl9CgoJCQlpZiAoIHZhbCApIHsKCgkJCQkvLyBUaGlzIGhhbmRsZXMgaGlkaW5nIHJlZ3VsYXIgcm93cyB3aXRob3V0IHRoZSB0ZXh0IHdlIHNlYXJjaCBmb3IKCQkJCS8vIGFuZCBhbnkgbGlzdCBkaXZpZGVycyB3aXRob3V0IHJlZ3VsYXIgcm93cyBzaG93biB1bmRlciBpdAoKCQkJCWZvciAoIHZhciBpID0gbGlzdEl0ZW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkgewoJCQkJCWl0ZW0gPSAkKCBsaXN0SXRlbXNbIGkgXSApOwoJCQkJCWl0ZW10ZXh0ID0gaXRlbS5qcW1EYXRhKCAiZmlsdGVydGV4dCIgKSB8fCBpdGVtLnRleHQoKTsKCgkJCQkJaWYgKCBpdGVtLmlzKCAibGk6anFtRGF0YShyb2xlPWxpc3QtZGl2aWRlcikiICkgKSB7CgoJCQkJCQlpdGVtLnRvZ2dsZUNsYXNzKCAidWktZmlsdGVyLWhpZGVxdWV1ZSIgLCAhY2hpbGRJdGVtcyApOwoKCQkJCQkJLy8gTmV3IGJ1Y2tldCEKCQkJCQkJY2hpbGRJdGVtcyA9IGZhbHNlOwoKCQkJCQl9IGVsc2UgaWYgKCBsaXN0dmlldy5vcHRpb25zLmZpbHRlckNhbGxiYWNrKCBpdGVtdGV4dCwgdmFsICkgKSB7CgoJCQkJCQkvL21hcmsgdG8gYmUgaGlkZGVuCgkJCQkJCWl0ZW0udG9nZ2xlQ2xhc3MoICJ1aS1maWx0ZXItaGlkZXF1ZXVlIiAsIHRydWUgKTsKCQkJCQl9IGVsc2UgewoKCQkJCQkJLy8gVGhlcmUicyBhIHNob3duIGl0ZW0gaW4gdGhlIGJ1Y2tldAoJCQkJCQljaGlsZEl0ZW1zID0gdHJ1ZTsKCQkJCQl9CgkJCQl9CgoJCQkJLy8gU2hvdyBpdGVtcywgbm90IG1hcmtlZCB0byBiZSBoaWRkZW4KCQkJCWxpc3RJdGVtcwoJCQkJCS5maWx0ZXIoICI6bm90KC51aS1maWx0ZXItaGlkZXF1ZXVlKSIgKQoJCQkJCS50b2dnbGVDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iLCBmYWxzZSApOwoKCQkJCS8vIEhpZGUgaXRlbXMsIG1hcmtlZCB0byBiZSBoaWRkZW4KCQkJCWxpc3RJdGVtcwoJCQkJCS5maWx0ZXIoICIudWktZmlsdGVyLWhpZGVxdWV1ZSIgKQoJCQkJCS50b2dnbGVDbGFzcyggInVpLXNjcmVlbi1oaWRkZW4iLCB0cnVlICkKCQkJCQkudG9nZ2xlQ2xhc3MoICJ1aS1maWx0ZXItaGlkZXF1ZXVlIiwgZmFsc2UgKTsKCgkJCX0gZWxzZSB7CgoJCQkJLy9maWx0ZXJ2YWx1ZSBpcyBlbXB0eSA9PiBzaG93IGFsbAoJCQkJbGlzdEl0ZW1zLnRvZ2dsZUNsYXNzKCAidWktc2NyZWVuLWhpZGRlbiIsIGZhbHNlICk7CgkJCX0KCQkJbGlzdHZpZXcuX3JlZnJlc2hDb3JuZXJzKCk7CgkJfSkKCQkuYXBwZW5kVG8oIHdyYXBwZXIgKQoJCS50ZXh0aW5wdXQoKTsKCglpZiAoICQoIHRoaXMgKS5qcW1EYXRhKCAiaW5zZXQiICkgKSB7CgkJd3JhcHBlci5hZGRDbGFzcyggInVpLWxpc3R2aWV3LWZpbHRlci1pbnNldCIgKTsKCX0KCgl3cmFwcGVyLmJpbmQoICJzdWJtaXQiLCBmdW5jdGlvbigpIHsKCQlyZXR1cm4gZmFsc2U7Cgl9KQoJLmluc2VydEJlZm9yZSggbGlzdCApOwp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImZpZWxkY29udGFpbiIgcGx1Z2luIC0gc2ltcGxlIGNsYXNzIGFkZGl0aW9ucyB0byBtYWtlIGZvcm0gcm93IHNlcGFyYXRvcnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgkkKCAiOmpxbURhdGEocm9sZT0nbm9qcycpIiwgZS50YXJnZXQgKS5hZGRDbGFzcyggInVpLW5vanMiICk7CgkKfSk7Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJjaGVja2JveHJhZGlvIiBwbHVnaW4KKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5jaGVja2JveHJhZGlvIiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6IG51bGwsCgkJaW5pdFNlbGVjdG9yOiAiaW5wdXRbdHlwZT0nY2hlY2tib3gnXSxpbnB1dFt0eXBlPSdyYWRpbyddIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpcywKCQkJaW5wdXQgPSB0aGlzLmVsZW1lbnQsCgkJCS8vIE5PVEU6IFdpbmRvd3MgUGhvbmUgY291bGQgbm90IGZpbmQgdGhlIGxhYmVsIHRocm91Z2ggYSBzZWxlY3RvcgoJCQkvLyBmaWx0ZXIgd29ya3MgdGhvdWdoLgoJCQlsYWJlbCA9IGlucHV0LmNsb3Nlc3QoICJmb3JtLGZpZWxkc2V0LDpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIgKS5maW5kKCAibGFiZWwiICkuZmlsdGVyKCAiW2Zvcj0nIiArIGlucHV0WyAwIF0uaWQgKyAiJ10iKSwKCQkJaW5wdXR0eXBlID0gaW5wdXQuYXR0ciggInR5cGUiICksCgkJCWNoZWNrZWRTdGF0ZSA9IGlucHV0dHlwZSArICItb24iLAoJCQl1bmNoZWNrZWRTdGF0ZSA9IGlucHV0dHlwZSArICItb2ZmIiwKCQkJaWNvbiA9IGlucHV0LnBhcmVudHMoICI6anFtRGF0YSh0eXBlPSdob3Jpem9udGFsJykiICkubGVuZ3RoID8gdW5kZWZpbmVkIDogdW5jaGVja2VkU3RhdGUsCgkJCWFjdGl2ZUJ0biA9IGljb24gPyAiIiA6ICIgIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzLAoJCQljaGVja2VkQ2xhc3MgPSAidWktIiArIGNoZWNrZWRTdGF0ZSArIGFjdGl2ZUJ0biwKCQkJdW5jaGVja2VkQ2xhc3MgPSAidWktIiArIHVuY2hlY2tlZFN0YXRlLAoJCQljaGVja2VkaWNvbiA9ICJ1aS1pY29uLSIgKyBjaGVja2VkU3RhdGUsCgkJCXVuY2hlY2tlZGljb24gPSAidWktaWNvbi0iICsgdW5jaGVja2VkU3RhdGU7CgoJCWlmICggaW5wdXR0eXBlICE9PSAiY2hlY2tib3giICYmIGlucHV0dHlwZSAhPT0gInJhZGlvIiApIHsKCQkJcmV0dXJuOwoJCX0KCgkJLy8gRXhwb3NlIGZvciBvdGhlciBtZXRob2RzCgkJJC5leHRlbmQoIHRoaXMsIHsKCQkJbGFiZWw6IGxhYmVsLAoJCQlpbnB1dHR5cGU6IGlucHV0dHlwZSwKCQkJY2hlY2tlZENsYXNzOiBjaGVja2VkQ2xhc3MsCgkJCXVuY2hlY2tlZENsYXNzOiB1bmNoZWNrZWRDbGFzcywKCQkJY2hlY2tlZGljb246IGNoZWNrZWRpY29uLAoJCQl1bmNoZWNrZWRpY29uOiB1bmNoZWNrZWRpY29uCgkJfSk7CgoJCS8vIElmIHRoZXJlJ3Mgbm8gc2VsZWN0ZWQgdGhlbWUuLi4KCQlpZiggIXRoaXMub3B0aW9ucy50aGVtZSApIHsKCQkJdGhpcy5vcHRpb25zLnRoZW1lID0gdGhpcy5lbGVtZW50LmpxbURhdGEoICJ0aGVtZSIgKTsKCQl9CgoJCWxhYmVsLmJ1dHRvbk1hcmt1cCh7CgkJCXRoZW1lOiB0aGlzLm9wdGlvbnMudGhlbWUsCgkJCWljb246IGljb24sCgkJCXNoYWRvdzogZmFsc2UKCQl9KTsKCgkJLy8gV3JhcCB0aGUgaW5wdXQgKyBsYWJlbCBpbiBhIGRpdgoJCWlucHV0LmFkZCggbGFiZWwgKQoJCQkud3JhcEFsbCggIjxkaXYgY2xhc3M9J3VpLSIgKyBpbnB1dHR5cGUgKyAiJz48L2Rpdj4iICk7CgoJCWxhYmVsLmJpbmQoewoJCQl2bW91c2VvdmVyOiBmdW5jdGlvbigpIHsKCQkJCWlmICggJCggdGhpcyApLnBhcmVudCgpLmlzKCAiLnVpLWRpc2FibGVkIiApICkgewoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0KCQkJfSwKCgkJCXZjbGljazogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCBpbnB1dC5pcyggIjpkaXNhYmxlZCIgKSApIHsKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQlzZWxmLl9jYWNoZVZhbHMoKTsKCgkJCQlpbnB1dC5wcm9wKCAiY2hlY2tlZCIsIGlucHV0dHlwZSA9PT0gInJhZGlvIiAmJiB0cnVlIHx8ICFpbnB1dC5wcm9wKCAiY2hlY2tlZCIgKSApOwoKCQkJCS8vIElucHV0IHNldCBmb3IgY29tbW9uIHJhZGlvIGJ1dHRvbnMgd2lsbCBjb250YWluIGFsbCB0aGUgcmFkaW8KCQkJCS8vIGJ1dHRvbnMsIGJ1dCB3aWxsIG5vdCBmb3IgY2hlY2tib3hlcy4gY2xlYXJpbmcgdGhlIGNoZWNrZWQgc3RhdHVzCgkJCQkvLyBvZiBvdGhlciByYWRpb3MgZW5zdXJlcyB0aGUgYWN0aXZlIGJ1dHRvbiBzdGF0ZSBpcyBhcHBsaWVkIHByb3Blcmx5CgkJCQlzZWxmLl9nZXRJbnB1dFNldCgpLm5vdCggaW5wdXQgKS5wcm9wKCAiY2hlY2tlZCIsIGZhbHNlICk7CgoJCQkJc2VsZi5fdXBkYXRlQWxsKCk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCgkJfSk7CgoJCWlucHV0CgkJCS5iaW5kKHsKCQkJCXZtb3VzZWRvd246IGZ1bmN0aW9uKCkgewoJCQkJCXRoaXMuX2NhY2hlVmFscygpOwoJCQkJfSwKCgkJCQl2Y2xpY2s6IGZ1bmN0aW9uKCkgewoKCQkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJCQkvLyBBZGRzIGNoZWNrZWQgYXR0cmlidXRlIHRvIGNoZWNrZWQgaW5wdXQgd2hlbiBrZXlib2FyZCBpcyB1c2VkCgkJCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApICkgewoKCQkJCQkJJHRoaXMucHJvcCggImNoZWNrZWQiLCB0cnVlKTsKCQkJCQkJc2VsZi5fZ2V0SW5wdXRTZXQoKS5ub3QoJHRoaXMpLnByb3AoICJjaGVja2VkIiwgZmFsc2UgKTsKCQkJCQl9IGVsc2UgewoKCQkJCQkJJHRoaXMucHJvcCggImNoZWNrZWQiLCBmYWxzZSApOwoJCQkJCX0KCgkJCQkJc2VsZi5fdXBkYXRlQWxsKCk7CgkJCQl9LAoKCQkJCWZvY3VzOiBmdW5jdGlvbigpIHsKCQkJCQlsYWJlbC5hZGRDbGFzcyggInVpLWZvY3VzIiApOwoJCQkJfSwKCgkJCQlibHVyOiBmdW5jdGlvbigpIHsKCQkJCQlsYWJlbC5yZW1vdmVDbGFzcyggInVpLWZvY3VzIiApOwoJCQkJfQoJCQl9KTsKCgkJdGhpcy5yZWZyZXNoKCk7Cgl9LAoKCV9jYWNoZVZhbHM6IGZ1bmN0aW9uKCkgewoJCXRoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpIHsKCQkJdmFyICR0aGlzID0gJCh0aGlzKTsKCgkJCSR0aGlzLmpxbURhdGEoICJjYWNoZVZhbCIsICR0aGlzLmlzKCAiOmNoZWNrZWQiICkgKTsKCQl9KTsKCX0sCgoJLy9yZXR1cm5zIGVpdGhlciBhIHNldCBvZiByYWRpb3Mgd2l0aCB0aGUgc2FtZSBuYW1lIGF0dHJpYnV0ZSwgb3IgYSBzaW5nbGUgY2hlY2tib3gKCV9nZXRJbnB1dFNldDogZnVuY3Rpb24oKXsKICAgICAgICBpZih0aGlzLmlucHV0dHlwZSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiB0aGlzLmVsZW1lbnQuY2xvc2VzdCggImZvcm0sZmllbGRzZXQsOmpxbURhdGEocm9sZT0ncGFnZScpIiApCgkJCQkuZmluZCggImlucHV0W25hbWU9JyIrIHRoaXMuZWxlbWVudC5hdHRyKCAibmFtZSIgKSArIiddW3R5cGU9JyIrIHRoaXMuaW5wdXR0eXBlICsiJ10iICk7Cgl9LAoKCV91cGRhdGVBbGw6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpczsKCgkJdGhpcy5fZ2V0SW5wdXRTZXQoKS5lYWNoKGZ1bmN0aW9uKCkgewoJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJaWYgKCAkdGhpcy5pcyggIjpjaGVja2VkIiApIHx8IHNlbGYuaW5wdXR0eXBlID09PSAiY2hlY2tib3giICkgewoJCQkJJHRoaXMudHJpZ2dlciggImNoYW5nZSIgKTsKCQkJfQoJCX0pCgkJLmNoZWNrYm94cmFkaW8oICJyZWZyZXNoIiApOwoJfSwKCglyZWZyZXNoOiBmdW5jdGlvbigpIHsKCQl2YXIgaW5wdXQgPSB0aGlzLmVsZW1lbnQsCgkJCWxhYmVsID0gdGhpcy5sYWJlbCwKCQkJaWNvbiA9IGxhYmVsLmZpbmQoICIudWktaWNvbiIgKTsKCgkJLy8gaW5wdXRbMF0uY2hlY2tlZCBleHBhbmRvIGRvZXNuJ3QgYWx3YXlzIHJlcG9ydCB0aGUgcHJvcGVyIHZhbHVlCgkJLy8gZm9yIGNoZWNrZWQ9J2NoZWNrZWQnCgkJaWYgKCAkKCBpbnB1dFsgMCBdICkucHJvcCggImNoZWNrZWQiICkgKSB7CgoJCQlsYWJlbC5hZGRDbGFzcyggdGhpcy5jaGVja2VkQ2xhc3MgKS5yZW1vdmVDbGFzcyggdGhpcy51bmNoZWNrZWRDbGFzcyApOwoJCQlpY29uLmFkZENsYXNzKCB0aGlzLmNoZWNrZWRpY29uICkucmVtb3ZlQ2xhc3MoIHRoaXMudW5jaGVja2VkaWNvbiApOwoKCQl9IGVsc2UgewoKCQkJbGFiZWwucmVtb3ZlQ2xhc3MoIHRoaXMuY2hlY2tlZENsYXNzICkuYWRkQ2xhc3MoIHRoaXMudW5jaGVja2VkQ2xhc3MgKTsKCQkJaWNvbi5yZW1vdmVDbGFzcyggdGhpcy5jaGVja2VkaWNvbiApLmFkZENsYXNzKCB0aGlzLnVuY2hlY2tlZGljb24gKTsKCQl9CgoJCWlmICggaW5wdXQuaXMoICI6ZGlzYWJsZWQiICkgKSB7CgkJCXRoaXMuZGlzYWJsZSgpOwoJCX0gZWxzZSB7CgkJCXRoaXMuZW5hYmxlKCk7CgkJfQoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLmVsZW1lbnQucHJvcCggImRpc2FibGVkIiwgdHJ1ZSApLnBhcmVudCgpLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICk7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LnByb3AoICJkaXNhYmxlZCIsIGZhbHNlICkucGFyZW50KCkucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsKCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUuY2hlY2tib3hyYWRpby5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkKCQkubm90KCAiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiICkKCQkuY2hlY2tib3hyYWRpbygpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJidXR0b24iIHBsdWdpbiAtIGxpbmtzIHRoYXQgcHJveHkgdG8gbmF0aXZlIGlucHV0L2J1dHRvbnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5idXR0b24iLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQl0aGVtZTogbnVsbCwKCQlpY29uOiBudWxsLAoJCWljb25wb3M6IG51bGwsCgkJaW5saW5lOiBudWxsLAoJCWNvcm5lcnM6IHRydWUsCgkJc2hhZG93OiB0cnVlLAoJCWljb25zaGFkb3c6IHRydWUsCgkJaW5pdFNlbGVjdG9yOiAiYnV0dG9uLCBbdHlwZT0nYnV0dG9uJ10sIFt0eXBlPSdzdWJtaXQnXSwgW3R5cGU9J3Jlc2V0J10sIFt0eXBlPSdpbWFnZSddIgoJfSwKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXZhciAkZWwgPSB0aGlzLmVsZW1lbnQsCgkJCW8gPSB0aGlzLm9wdGlvbnMsCgkJCXR5cGU7CgoJCS8vIEFkZCBBUklBIHJvbGUKCQl0aGlzLmJ1dHRvbiA9ICQoICI8ZGl2PjwvZGl2PiIgKQoJCQkudGV4dCggJGVsLnRleHQoKSB8fCAkZWwudmFsKCkgKQoJCQkuYnV0dG9uTWFya3VwKHsKCQkJCXRoZW1lOiBvLnRoZW1lLAoJCQkJaWNvbjogby5pY29uLAoJCQkJaWNvbnBvczogby5pY29ucG9zLAoJCQkJaW5saW5lOiBvLmlubGluZSwKCQkJCWNvcm5lcnM6IG8uY29ybmVycywKCQkJCXNoYWRvdzogby5zaGFkb3csCgkJCQlpY29uc2hhZG93OiBvLmljb25zaGFkb3cKCQkJfSkKCQkJLmluc2VydEJlZm9yZSggJGVsICkKCQkJLmFwcGVuZCggJGVsLmFkZENsYXNzKCAidWktYnRuLWhpZGRlbiIgKSApOwoKCQkvLyBBZGQgaGlkZGVuIGlucHV0IGR1cmluZyBzdWJtaXQKCQl0eXBlID0gJGVsLmF0dHIoICJ0eXBlIiApOwoKCQlpZiAoIHR5cGUgIT09ICJidXR0b24iICYmIHR5cGUgIT09ICJyZXNldCIgKSB7CgoJCQkkZWwuYmluZCggInZjbGljayIsIGZ1bmN0aW9uKCkgewoKCQkJCXZhciAkYnV0dG9uUGxhY2Vob2xkZXIgPSAkKCAiPGlucHV0PiIsIHsKCQkJCQkJCXR5cGU6ICJoaWRkZW4iLAoJCQkJCQkJbmFtZTogJGVsLmF0dHIoICJuYW1lIiApLAoJCQkJCQkJdmFsdWU6ICRlbC5hdHRyKCAidmFsdWUiICkKCQkJCQkJfSkKCQkJCQkJLmluc2VydEJlZm9yZSggJGVsICk7CgoJCQkJLy8gQmluZCB0byBkb2MgdG8gcmVtb3ZlIGFmdGVyIHN1Ym1pdCBoYW5kbGluZwoJCQkJJCggZG9jdW1lbnQgKS5zdWJtaXQoZnVuY3Rpb24oKXsKCQkJCQkgJGJ1dHRvblBsYWNlaG9sZGVyLnJlbW92ZSgpOwoJCQkJfSk7CgkJCX0pOwoJCX0KCgkJdGhpcy5yZWZyZXNoKCk7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIGZhbHNlICk7CgkJdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKS5hdHRyKCAiYXJpYS1kaXNhYmxlZCIsIGZhbHNlICk7CgkJcmV0dXJuIHRoaXMuX3NldE9wdGlvbiggImRpc2FibGVkIiwgZmFsc2UgKTsKCX0sCgoJZGlzYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIHRydWUgKTsKCQl0aGlzLmJ1dHRvbi5hZGRDbGFzcyggInVpLWRpc2FibGVkIiApLmF0dHIoICJhcmlhLWRpc2FibGVkIiwgdHJ1ZSApOwoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHRydWUgKTsKCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oKSB7CgkJaWYgKCB0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiApICkgewoJCQl0aGlzLmRpc2FibGUoKTsKCQl9IGVsc2UgewoJCQl0aGlzLmVuYWJsZSgpOwoJCX0KCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUuYnV0dG9uLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKQoJCS5ub3QoICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS5idXR0b24oKTsKfSk7Cgp9KSggalF1ZXJ5ICk7LyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yayA6ICJzbGlkZXIiIHBsdWdpbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLndpZGdldCggIm1vYmlsZS5zbGlkZXIiLCAkLm1vYmlsZS53aWRnZXQsIHsKCW9wdGlvbnM6IHsKCQl0aGVtZTogbnVsbCwKCQl0cmFja1RoZW1lOiBudWxsLAoJCWRpc2FibGVkOiBmYWxzZSwKCQlpbml0U2VsZWN0b3I6ICJpbnB1dFt0eXBlPSdyYW5nZSddLCA6anFtRGF0YSh0eXBlPSdyYW5nZScpLCA6anFtRGF0YShyb2xlPSdzbGlkZXInKSIKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCS8vIFRPRE86IEVhY2ggb2YgdGhlc2Ugc2hvdWxkIGhhdmUgY29tbWVudHMgZXhwbGFpbiB3aGF0IHRoZXkncmUgZm9yCgkJdmFyIHNlbGYgPSB0aGlzLAoKCQkJY29udHJvbCA9IHRoaXMuZWxlbWVudCwKCgkJCXBhcmVudFRoZW1lID0gY29udHJvbC5wYXJlbnRzKCAiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iICkuZXEoIDAgKSwKCgkJCXBhcmVudFRoZW1lID0gcGFyZW50VGhlbWUubGVuZ3RoID8gcGFyZW50VGhlbWUuYXR0ciggImNsYXNzIiApLm1hdGNoKCAvdWktKGJhcnxib2R5KS0oW2Etel0pLyApWyAyIF0gOiAiYyIsCgoJCQl0aGVtZSA9IHRoaXMub3B0aW9ucy50aGVtZSA/IHRoaXMub3B0aW9ucy50aGVtZSA6IHBhcmVudFRoZW1lLAoKCQkJdHJhY2tUaGVtZSA9IHRoaXMub3B0aW9ucy50cmFja1RoZW1lID8gdGhpcy5vcHRpb25zLnRyYWNrVGhlbWUgOiBwYXJlbnRUaGVtZSwKCgkJCWNUeXBlID0gY29udHJvbFsgMCBdLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgoJCQlzZWxlY3RDbGFzcyA9ICggY1R5cGUgPT0gInNlbGVjdCIgKSA/ICJ1aS1zbGlkZXItc3dpdGNoIiA6ICIiLAoKCQkJY29udHJvbElEID0gY29udHJvbC5hdHRyKCAiaWQiICksCgoJCQlsYWJlbElEID0gY29udHJvbElEICsgIi1sYWJlbCIsCgoJCQlsYWJlbCA9ICQoICJbZm9yPSciKyBjb250cm9sSUQgKyInXSIgKS5hdHRyKCAiaWQiLCBsYWJlbElEICksCgoJCQl2YWwgPSBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAgY1R5cGUgPT0gImlucHV0IiAgPyBwYXJzZUZsb2F0KCBjb250cm9sLnZhbCgpICkgOiBjb250cm9sWzBdLnNlbGVjdGVkSW5kZXg7CgkJCX0sCgoJCQltaW4gPSAgY1R5cGUgPT0gImlucHV0IiA/IHBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggIm1pbiIgKSApIDogMCwKCgkJCW1heCA9ICBjVHlwZSA9PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC5hdHRyKCAibWF4IiApICkgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkubGVuZ3RoLTEsCgoJCQlzdGVwID0gd2luZG93LnBhcnNlRmxvYXQoIGNvbnRyb2wuYXR0ciggInN0ZXAiICkgfHwgMSApLAoKCQkJc2xpZGVyID0gJCggIjxkaXYgY2xhc3M9J3VpLXNsaWRlciAiICsgc2VsZWN0Q2xhc3MgKyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lICsKCQkJCQkJCQkJIiB1aS1idG4tY29ybmVyLWFsbCcgcm9sZT0nYXBwbGljYXRpb24nPjwvZGl2PiIgKSwKCgkJCWhhbmRsZSA9ICQoICI8YSBocmVmPScjJyBjbGFzcz0ndWktc2xpZGVyLWhhbmRsZSc+PC9hPiIgKQoJCQkJLmFwcGVuZFRvKCBzbGlkZXIgKQoJCQkJLmJ1dHRvbk1hcmt1cCh7IGNvcm5lcnM6IHRydWUsIHRoZW1lOiB0aGVtZSwgc2hhZG93OiB0cnVlIH0pCgkJCQkuYXR0cih7CgkJCQkJInJvbGUiOiAic2xpZGVyIiwKCQkJCQkiYXJpYS12YWx1ZW1pbiI6IG1pbiwKCQkJCQkiYXJpYS12YWx1ZW1heCI6IG1heCwKCQkJCQkiYXJpYS12YWx1ZW5vdyI6IHZhbCgpLAoJCQkJCSJhcmlhLXZhbHVldGV4dCI6IHZhbCgpLAoJCQkJCSJ0aXRsZSI6IHZhbCgpLAoJCQkJCSJhcmlhLWxhYmVsbGVkYnkiOiBsYWJlbElECgkJCQl9KSwKCQkJb3B0aW9uczsKCgkJJC5leHRlbmQoIHRoaXMsIHsKCQkJc2xpZGVyOiBzbGlkZXIsCgkJCWhhbmRsZTogaGFuZGxlLAoJCQlkcmFnZ2luZzogZmFsc2UsCgkJCWJlZm9yZVN0YXJ0OiBudWxsLAoJCQl1c2VyTW9kaWZpZWQ6IGZhbHNlCgkJfSk7CgoJCWlmICggY1R5cGUgPT0gInNlbGVjdCIgKSB7CgoJCQlzbGlkZXIud3JhcElubmVyKCAiPGRpdiBjbGFzcz0ndWktc2xpZGVyLWlubmVyb2Zmc2V0Jz48L2Rpdj4iICk7CgoJCQlvcHRpb25zID0gY29udHJvbC5maW5kKCAib3B0aW9uIiApOwoKCQkJY29udHJvbC5maW5kKCAib3B0aW9uIiApLmVhY2goZnVuY3Rpb24oIGkgKSB7CgoJCQkJdmFyIHNpZGUgPSAhaSA/ICJiIjoiYSIsCgkJCQkJY29ybmVycyA9ICFpID8gInJpZ2h0IiA6ImxlZnQiLAoJCQkJCXRoZW1lID0gIWkgPyAiIHVpLWJ0bi1kb3duLSIgKyB0cmFja1RoZW1lIDooICIgIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgoJCQkJJCggIjxkaXYgY2xhc3M9J3VpLXNsaWRlci1sYWJlbGJnIHVpLXNsaWRlci1sYWJlbGJnLSIgKyBzaWRlICsgdGhlbWUgKyAiIHVpLWJ0bi1jb3JuZXItIiArIGNvcm5lcnMgKyAiJz48L2Rpdj4iICkKCQkJCQkucHJlcGVuZFRvKCBzbGlkZXIgKTsKCgkJCQkkKCAiPHNwYW4gY2xhc3M9J3VpLXNsaWRlci1sYWJlbCB1aS1zbGlkZXItbGFiZWwtIiArIHNpZGUgKyB0aGVtZSArICIgdWktYnRuLWNvcm5lci0iICsgY29ybmVycyArICInIHJvbGU9J2ltZyc+IiArICQoIHRoaXMgKS50ZXh0KCkgKyAiPC9zcGFuPiIgKQoJCQkJCS5wcmVwZW5kVG8oIGhhbmRsZSApOwoJCQl9KTsKCgkJfQoKCQlsYWJlbC5hZGRDbGFzcyggInVpLXNsaWRlciIgKTsKCgkJLy8gbW9uaXRvciB0aGUgaW5wdXQgZm9yIHVwZGF0ZWQgdmFsdWVzCgkJY29udHJvbC5hZGRDbGFzcyggY1R5cGUgPT09ICJpbnB1dCIgPyAidWktc2xpZGVyLWlucHV0IiA6ICJ1aS1zbGlkZXItc3dpdGNoIiApCgkJCS5jaGFuZ2UoIGZ1bmN0aW9uKCkgewoJCQkJc2VsZi5yZWZyZXNoKCB2YWwoKSwgdHJ1ZSApOwoJCQl9KQoJCQkua2V5dXAoIGZ1bmN0aW9uKCkgeyAvLyBuZWNlc3Nhcnk/CgkJCQlzZWxmLnJlZnJlc2goIHZhbCgpLCB0cnVlLCB0cnVlICk7CgkJCX0pCgkJCS5ibHVyKCBmdW5jdGlvbigpIHsKCQkJCXNlbGYucmVmcmVzaCggdmFsKCksIHRydWUgKTsKCQkJfSk7CgoJCS8vIHByZXZlbnQgc2NyZWVuIGRyYWcgd2hlbiBzbGlkZXIgYWN0aXZhdGVkCgkJJCggZG9jdW1lbnQgKS5iaW5kKCAidm1vdXNlbW92ZSIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJaWYgKCBzZWxmLmRyYWdnaW5nICkgewoJCQkJc2VsZi5yZWZyZXNoKCBldmVudCApOwoJCQkJc2VsZi51c2VyTW9kaWZpZWQgPSBzZWxmLnVzZXJNb2RpZmllZCB8fCBzZWxmLmJlZm9yZVN0YXJ0ICE9PSBjb250cm9sWzBdLnNlbGVjdGVkSW5kZXg7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0KCQl9KTsKCgkJc2xpZGVyLmJpbmQoICJ2bW91c2Vkb3duIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQlzZWxmLmRyYWdnaW5nID0gdHJ1ZTsKCQkJc2VsZi51c2VyTW9kaWZpZWQgPSBmYWxzZTsKCgkJCWlmICggY1R5cGUgPT09ICJzZWxlY3QiICkgewoJCQkJc2VsZi5iZWZvcmVTdGFydCA9IGNvbnRyb2xbMF0uc2VsZWN0ZWRJbmRleDsKCQkJfQoJCQlzZWxmLnJlZnJlc2goIGV2ZW50ICk7CgkJCXJldHVybiBmYWxzZTsKCQl9KTsKCgkJc2xpZGVyLmFkZCggZG9jdW1lbnQgKQoJCQkuYmluZCggInZtb3VzZXVwIiwgZnVuY3Rpb24oKSB7CgkJCQlpZiAoIHNlbGYuZHJhZ2dpbmcgKSB7CgoJCQkJCXNlbGYuZHJhZ2dpbmcgPSBmYWxzZTsKCgkJCQkJaWYgKCBjVHlwZSA9PT0gInNlbGVjdCIgKSB7CgoJCQkJCQlpZiAoICFzZWxmLnVzZXJNb2RpZmllZCApIHsKCQkJCQkJCS8vdGFwIG9jY3VycmVkLCBidXQgdmFsdWUgZGlkbid0IGNoYW5nZS4gZmxpcCBpdCEKCQkJCQkJCWhhbmRsZS5hZGRDbGFzcyggInVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmciICk7CgkJCQkJCQlzZWxmLnJlZnJlc2goICFzZWxmLmJlZm9yZVN0YXJ0ID8gMSA6IDAgKTsKCQkJCQkJfQoJCQkJCX0KCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9CgkJCX0pOwoKCQlzbGlkZXIuaW5zZXJ0QWZ0ZXIoIGNvbnRyb2wgKTsKCgkJLy8gTk9URSBmb3JjZSBmb2N1cyBvbiBoYW5kbGUKCQl0aGlzLmhhbmRsZQoJCQkuYmluZCggInZtb3VzZWRvd24iLCBmdW5jdGlvbigpIHsKCQkJCSQoIHRoaXMgKS5mb2N1cygpOwoJCQl9KQoJCQkuYmluZCggInZjbGljayIsIGZhbHNlICk7CgoJCXRoaXMuaGFuZGxlCgkJCS5iaW5kKCAia2V5ZG93biIsIGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCXZhciBpbmRleCA9IHZhbCgpOwoKCQkJCWlmICggc2VsZi5vcHRpb25zLmRpc2FibGVkICkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQkvLyBJbiBhbGwgY2FzZXMgcHJldmVudCB0aGUgZGVmYXVsdCBhbmQgbWFyayB0aGUgaGFuZGxlIGFzIGFjdGl2ZQoJCQkJc3dpdGNoICggZXZlbnQua2V5Q29kZSApIHsKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuSE9NRToKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRU5EOgoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOgoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlVQOgoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5SSUdIVDoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRE9XTjoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuTEVGVDoKCQkJCQlldmVudC5wcmV2ZW50RGVmYXVsdCgpOwoKCQkJCQlpZiAoICFzZWxmLl9rZXlTbGlkaW5nICkgewoJCQkJCQlzZWxmLl9rZXlTbGlkaW5nID0gdHJ1ZTsKCQkJCQkJJCggdGhpcyApLmFkZENsYXNzKCAidWktc3RhdGUtYWN0aXZlIiApOwoJCQkJCX0KCQkJCQlicmVhazsKCQkJCX0KCgkJCQkvLyBtb3ZlIHRoZSBzbGlkZXIgYWNjb3JkaW5nIHRvIHRoZSBrZXlwcmVzcwoJCQkJc3dpdGNoICggZXZlbnQua2V5Q29kZSApIHsKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuSE9NRToKCQkJCQlzZWxmLnJlZnJlc2goIG1pbiApOwoJCQkJCWJyZWFrOwoJCQkJIGNhc2UgJC5tb2JpbGUua2V5Q29kZS5FTkQ6CgkJCQkJc2VsZi5yZWZyZXNoKCBtYXggKTsKCQkJCQlicmVhazsKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuUEFHRV9VUDoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuVVA6CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlJJR0hUOgoJCQkJCXNlbGYucmVmcmVzaCggaW5kZXggKyBzdGVwICk7CgkJCQkJYnJlYWs7CgkJCQkgY2FzZSAkLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuRE9XTjoKCQkJCSBjYXNlICQubW9iaWxlLmtleUNvZGUuTEVGVDoKCQkJCQlzZWxmLnJlZnJlc2goIGluZGV4IC0gc3RlcCApOwoJCQkJCWJyZWFrOwoJCQkJfQoJCQl9KSAvLyByZW1vdmUgYWN0aXZlIG1hcmsKCQkJLmtleXVwKCBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCQlpZiAoIHNlbGYuX2tleVNsaWRpbmcgKSB7CgkJCQkJc2VsZi5fa2V5U2xpZGluZyA9IGZhbHNlOwoJCQkJCSQoIHRoaXMgKS5yZW1vdmVDbGFzcyggInVpLXN0YXRlLWFjdGl2ZSIgKTsKCQkJCX0KCQkJfSk7CgoJCXRoaXMucmVmcmVzaCh1bmRlZmluZWQsIHVuZGVmaW5lZCwgdHJ1ZSk7Cgl9LAoKCXJlZnJlc2g6IGZ1bmN0aW9uKCB2YWwsIGlzZnJvbUNvbnRyb2wsIHByZXZlbnRJbnB1dFVwZGF0ZSApIHsKCQlpZiAoIHRoaXMub3B0aW9ucy5kaXNhYmxlZCApIHsgcmV0dXJuOyB9CgoJCXZhciBjb250cm9sID0gdGhpcy5lbGVtZW50LCBwZXJjZW50LAoJCQljVHlwZSA9IGNvbnRyb2xbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSwKCQkJbWluID0gY1R5cGUgPT09ICJpbnB1dCIgPyBwYXJzZUZsb2F0KCBjb250cm9sLmF0dHIoICJtaW4iICkgKSA6IDAsCgkJCW1heCA9IGNUeXBlID09PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC5hdHRyKCAibWF4IiApICkgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkubGVuZ3RoIC0gMTsKCgkJaWYgKCB0eXBlb2YgdmFsID09PSAib2JqZWN0IiApIHsKCQkJdmFyIGRhdGEgPSB2YWwsCgkJCQkvLyBhIHNsaWdodCB0b2xlcmFuY2UgaGVscGVkIGdldCB0byB0aGUgZW5kcyBvZiB0aGUgc2xpZGVyCgkJCQl0b2wgPSA4OwoJCQlpZiAoICF0aGlzLmRyYWdnaW5nIHx8CgkJCQkJZGF0YS5wYWdlWCA8IHRoaXMuc2xpZGVyLm9mZnNldCgpLmxlZnQgLSB0b2wgfHwKCQkJCQlkYXRhLnBhZ2VYID4gdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCArIHRoaXMuc2xpZGVyLndpZHRoKCkgKyB0b2wgKSB7CgkJCQlyZXR1cm47CgkJCX0KCQkJcGVyY2VudCA9IE1hdGgucm91bmQoICggKCBkYXRhLnBhZ2VYIC0gdGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCApIC8gdGhpcy5zbGlkZXIud2lkdGgoKSApICogMTAwICk7CgkJfSBlbHNlIHsKCQkJaWYgKCB2YWwgPT0gbnVsbCApIHsKCQkJCXZhbCA9IGNUeXBlID09PSAiaW5wdXQiID8gcGFyc2VGbG9hdCggY29udHJvbC52YWwoKSApIDogY29udHJvbFswXS5zZWxlY3RlZEluZGV4OwoJCQl9CgkJCXBlcmNlbnQgPSAoIHBhcnNlRmxvYXQoIHZhbCApIC0gbWluICkgLyAoIG1heCAtIG1pbiApICogMTAwOwoJCX0KCgkJaWYgKCBpc05hTiggcGVyY2VudCApICkgewoJCQlyZXR1cm47CgkJfQoKCQlpZiAoIHBlcmNlbnQgPCAwICkgewoJCQlwZXJjZW50ID0gMDsKCQl9CgoJCWlmICggcGVyY2VudCA+IDEwMCApIHsKCQkJcGVyY2VudCA9IDEwMDsKCQl9CgoJCXZhciBuZXd2YWwgPSBNYXRoLnJvdW5kKCAoIHBlcmNlbnQgLyAxMDAgKSAqICggbWF4IC0gbWluICkgKSArIG1pbjsKCgkJaWYgKCBuZXd2YWwgPCBtaW4gKSB7CgkJCW5ld3ZhbCA9IG1pbjsKCQl9CgoJCWlmICggbmV3dmFsID4gbWF4ICkgewoJCQluZXd2YWwgPSBtYXg7CgkJfQoKCQkvLyBGbGlwIHRoZSBzdGFjayBvZiB0aGUgYmcgY29sb3JzCgkJaWYgKCBwZXJjZW50ID4gNjAgJiYgY1R5cGUgPT09ICJzZWxlY3QiICkgewoJCQkvLyBUT0RPOiBEZWFkIHBhdGg/CgkJfQoJCXRoaXMuaGFuZGxlLmNzcyggImxlZnQiLCBwZXJjZW50ICsgIiUiICk7CgkJdGhpcy5oYW5kbGUuYXR0ciggewoJCQkJImFyaWEtdmFsdWVub3ciOiBjVHlwZSA9PT0gImlucHV0IiA/IG5ld3ZhbCA6IGNvbnRyb2wuZmluZCggIm9wdGlvbiIgKS5lcSggbmV3dmFsICkuYXR0ciggInZhbHVlIiApLAoJCQkJImFyaWEtdmFsdWV0ZXh0IjogY1R5cGUgPT09ICJpbnB1dCIgPyBuZXd2YWwgOiBjb250cm9sLmZpbmQoICJvcHRpb24iICkuZXEoIG5ld3ZhbCApLnRleHQoKSwKCQkJCXRpdGxlOiBuZXd2YWwKCQkJfSk7CgoJCS8vIGFkZC9yZW1vdmUgY2xhc3NlcyBmb3IgZmxpcCB0b2dnbGUgc3dpdGNoCgkJaWYgKCBjVHlwZSA9PT0gInNlbGVjdCIgKSB7CgkJCWlmICggbmV3dmFsID09PSAwICkgewoJCQkJdGhpcy5zbGlkZXIuYWRkQ2xhc3MoICJ1aS1zbGlkZXItc3dpdGNoLWEiICkKCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zbGlkZXItc3dpdGNoLWIiICk7CgkJCX0gZWxzZSB7CgkJCQl0aGlzLnNsaWRlci5hZGRDbGFzcyggInVpLXNsaWRlci1zd2l0Y2gtYiIgKQoJCQkJCS5yZW1vdmVDbGFzcyggInVpLXNsaWRlci1zd2l0Y2gtYSIgKTsKCQkJfQoJCX0KCgkJaWYgKCAhcHJldmVudElucHV0VXBkYXRlICkgewoJCQkvLyB1cGRhdGUgY29udHJvbCJzIHZhbHVlCgkJCWlmICggY1R5cGUgPT09ICJpbnB1dCIgKSB7CgkJCQljb250cm9sLnZhbCggbmV3dmFsICk7CgkJCX0gZWxzZSB7CgkJCQljb250cm9sWyAwIF0uc2VsZWN0ZWRJbmRleCA9IG5ld3ZhbDsKCQkJfQoJCQlpZiAoICFpc2Zyb21Db250cm9sICkgewoJCQkJY29udHJvbC50cmlnZ2VyKCAiY2hhbmdlIiApOwoJCQl9CgkJfQoJfSwKCgllbmFibGU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCBmYWxzZSApOwoJCXRoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCAidWktZGlzYWJsZWQiICkuYXR0ciggImFyaWEtZGlzYWJsZWQiLCBmYWxzZSApOwoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIGZhbHNlICk7Cgl9LAoKCWRpc2FibGU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuZWxlbWVudC5hdHRyKCAiZGlzYWJsZWQiLCB0cnVlICk7CgkJdGhpcy5zbGlkZXIuYWRkQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKS5hdHRyKCAiYXJpYS1kaXNhYmxlZCIsIHRydWUgKTsKCQlyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCAiZGlzYWJsZWQiLCB0cnVlICk7Cgl9Cgp9KTsKCi8vYXV0byBzZWxmLWluaXQgd2lkZ2V0cwokKCBkb2N1bWVudCApLmJpbmQoICJwYWdlY3JlYXRlIGNyZWF0ZSIsIGZ1bmN0aW9uKCBlICl7CgoJJCggJC5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKQoJCS5ub3QoICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS5zbGlkZXIoKTsKCn0pOwoKfSkoIGpRdWVyeSApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogInRleHRpbnB1dCIgcGx1Z2luIGZvciB0ZXh0IGlucHV0cywgdGV4dGFyZWFzCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUudGV4dGlucHV0IiwgJC5tb2JpbGUud2lkZ2V0LCB7CglvcHRpb25zOiB7CgkJdGhlbWU6IG51bGwsCgkJaW5pdFNlbGVjdG9yOiAiaW5wdXRbdHlwZT0ndGV4dCddLCBpbnB1dFt0eXBlPSdzZWFyY2gnXSwgOmpxbURhdGEodHlwZT0nc2VhcmNoJyksIGlucHV0W3R5cGU9J251bWJlciddLCA6anFtRGF0YSh0eXBlPSdudW1iZXInKSwgaW5wdXRbdHlwZT0ncGFzc3dvcmQnXSwgaW5wdXRbdHlwZT0nZW1haWwnXSwgaW5wdXRbdHlwZT0ndXJsJ10sIGlucHV0W3R5cGU9J3RlbCddLCB0ZXh0YXJlYSIKCX0sCgoJX2NyZWF0ZTogZnVuY3Rpb24oKSB7CgoJCXZhciBpbnB1dCA9IHRoaXMuZWxlbWVudCwKCQkJbyA9IHRoaXMub3B0aW9ucywKCQkJdGhlbWUgPSBvLnRoZW1lLAoJCQl0aGVtZWRQYXJlbnQsIHRoZW1lY2xhc3MsIHRoZW1lTGV0dGVyLCBmb2N1c2VkRWwsIGNsZWFyYnRuOwoKCQlpZiAoICF0aGVtZSApIHsKCQkJdGhlbWVkUGFyZW50ID0gdGhpcy5lbGVtZW50LmNsb3Nlc3QoICJbY2xhc3MqPSd1aS1iYXItJ10sW2NsYXNzKj0ndWktYm9keS0nXSIgKTsKCQkJdGhlbWVMZXR0ZXIgPSB0aGVtZWRQYXJlbnQubGVuZ3RoICYmIC91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoIHRoZW1lZFBhcmVudC5hdHRyKCAiY2xhc3MiICkgKTsKCQkJdGhlbWUgPSB0aGVtZUxldHRlciAmJiB0aGVtZUxldHRlclsyXSB8fCAiYyI7CgkJfQoKCQl0aGVtZWNsYXNzID0gIiB1aS1ib2R5LSIgKyB0aGVtZTsKCgkJJCggImxhYmVsW2Zvcj0nIiArIGlucHV0LmF0dHIoICJpZCIgKSArICInXSIgKS5hZGRDbGFzcyggInVpLWlucHV0LXRleHQiICk7CgoJCWlucHV0LmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0IHVpLWJvZHktIisgby50aGVtZSApOwoKCQlmb2N1c2VkRWwgPSBpbnB1dDsKCQkKCQkvLyBYWFg6IFRlbXBvcmFyeSB3b3JrYXJvdW5kIGZvciBpc3N1ZSA3ODUuIFR1cm4gb2ZmIGF1dG9jb3JyZWN0IGFuZAoJCS8vICAgICAgYXV0b2NvbXBsZXRlIHNpbmNlIHRoZSBwb3B1cCB0aGV5IHVzZSBjYW4ndCBiZSBkaXNtaXNzZWQgYnkKCQkvLyAgICAgIHRoZSB1c2VyLiBOb3RlIHRoYXQgd2UgdGVzdCBmb3IgdGhlIHByZXNlbmNlIG9mIHRoZSBmZWF0dXJlCgkJLy8gICAgICBieSBsb29raW5nIGZvciB0aGUgYXV0b2NvcnJlY3QgcHJvcGVydHkgb24gdGhlIGlucHV0IGVsZW1lbnQuCgkJaWYgKCB0eXBlb2YgaW5wdXRbMF0uYXV0b2NvcnJlY3QgIT09ICJ1bmRlZmluZWQiICkgewoJCQkvLyBTZXQgdGhlIGF0dHJpYnV0ZSBpbnN0ZWFkIG9mIHRoZSBwcm9wZXJ0eSBqdXN0IGluIGNhc2UgdGhlcmUKCQkJLy8gaXMgY29kZSB0aGF0IGF0dGVtcHRzIHRvIG1ha2UgbW9kaWZpY2F0aW9ucyB2aWEgSFRNTC4KCQkJaW5wdXRbMF0uc2V0QXR0cmlidXRlKCAiYXV0b2NvcnJlY3QiLCAib2ZmIiApOwoJCQlpbnB1dFswXS5zZXRBdHRyaWJ1dGUoICJhdXRvY29tcGxldGUiLCAib2ZmIiApOwoJCX0KCQkKCgkJLy8ic2VhcmNoIiBpbnB1dCB3aWRnZXQKCQlpZiAoIGlucHV0LmlzKCAiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiApICkgewoKCQkJZm9jdXNlZEVsID0gaW5wdXQud3JhcCggIjxkaXYgY2xhc3M9J3VpLWlucHV0LXNlYXJjaCB1aS1zaGFkb3ctaW5zZXQgdWktYnRuLWNvcm5lci1hbGwgdWktYnRuLXNoYWRvdyB1aS1pY29uLXNlYXJjaGZpZWxkIiArIHRoZW1lY2xhc3MgKyAiJz48L2Rpdj4iICkucGFyZW50KCk7CgkJCWNsZWFyYnRuID0gJCggIjxhIGhyZWY9JyMnIGNsYXNzPSd1aS1pbnB1dC1jbGVhcicgdGl0bGU9J2NsZWFyIHRleHQnPmNsZWFyIHRleHQ8L2E+IiApCgkJCQkudGFwKGZ1bmN0aW9uKCBldmVudCApIHsKCQkJCQlpbnB1dC52YWwoICIiICkuZm9jdXMoKTsKCQkJCQlpbnB1dC50cmlnZ2VyKCAiY2hhbmdlIiApOwoJCQkJCWNsZWFyYnRuLmFkZENsYXNzKCAidWktaW5wdXQtY2xlYXItaGlkZGVuIiApOwoJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQl9KQoJCQkJLmFwcGVuZFRvKCBmb2N1c2VkRWwgKQoJCQkJLmJ1dHRvbk1hcmt1cCh7CgkJCQkJaWNvbjogImRlbGV0ZSIsCgkJCQkJaWNvbnBvczogIm5vdGV4dCIsCgkJCQkJY29ybmVyczogdHJ1ZSwKCQkJCQlzaGFkb3c6IHRydWUKCQkJCX0pOwoKCQkJZnVuY3Rpb24gdG9nZ2xlQ2xlYXIoKSB7CgkJCQlpZiAoICFpbnB1dC52YWwoKSApIHsKCQkJCQljbGVhcmJ0bi5hZGRDbGFzcyggInVpLWlucHV0LWNsZWFyLWhpZGRlbiIgKTsKCQkJCX0gZWxzZSB7CgkJCQkJY2xlYXJidG4ucmVtb3ZlQ2xhc3MoICJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iICk7CgkJCQl9CgkJCX0KCgkJCXRvZ2dsZUNsZWFyKCk7CgoJCQlpbnB1dC5rZXl1cCggdG9nZ2xlQ2xlYXIgKQoJCQkJLmZvY3VzKCB0b2dnbGVDbGVhciApOwoKCQl9IGVsc2UgewoJCQlpbnB1dC5hZGRDbGFzcyggInVpLWNvcm5lci1hbGwgdWktc2hhZG93LWluc2V0IiArIHRoZW1lY2xhc3MgKTsKCQl9CgoJCWlucHV0LmZvY3VzKGZ1bmN0aW9uKCkgewoJCQkJZm9jdXNlZEVsLmFkZENsYXNzKCAidWktZm9jdXMiICk7CgkJCX0pCgkJCS5ibHVyKGZ1bmN0aW9uKCl7CgkJCQlmb2N1c2VkRWwucmVtb3ZlQ2xhc3MoICJ1aS1mb2N1cyIgKTsKCQkJfSk7CgoJCS8vIEF1dG9ncm93CgkJaWYgKCBpbnB1dC5pcyggInRleHRhcmVhIiApICkgewoJCQl2YXIgZXh0cmFMaW5lSGVpZ2h0ID0gMTUsCgkJCQlrZXl1cFRpbWVvdXRCdWZmZXIgPSAxMDAsCgkJCQlrZXl1cCA9IGZ1bmN0aW9uKCkgewoJCQkJCXZhciBzY3JvbGxIZWlnaHQgPSBpbnB1dFsgMCBdLnNjcm9sbEhlaWdodCwKCQkJCQkJY2xpZW50SGVpZ2h0ID0gaW5wdXRbIDAgXS5jbGllbnRIZWlnaHQ7CgoJCQkJCWlmICggY2xpZW50SGVpZ2h0IDwgc2Nyb2xsSGVpZ2h0ICkgewoJCQkJCQlpbnB1dC5jc3MoewoJCQkJCQkJaGVpZ2h0OiAoc2Nyb2xsSGVpZ2h0ICsgZXh0cmFMaW5lSGVpZ2h0KQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9LAoJCQkJa2V5dXBUaW1lb3V0OwoKCQkJaW5wdXQua2V5dXAoZnVuY3Rpb24oKSB7CgkJCQljbGVhclRpbWVvdXQoIGtleXVwVGltZW91dCApOwoJCQkJa2V5dXBUaW1lb3V0ID0gc2V0VGltZW91dCgga2V5dXAsIGtleXVwVGltZW91dEJ1ZmZlciApOwoJCQl9KTsKCQl9Cgl9LAoKCWRpc2FibGU6IGZ1bmN0aW9uKCl7CgkJKCB0aGlzLmVsZW1lbnQuYXR0ciggImRpc2FibGVkIiwgdHJ1ZSApLmlzKCAiW3R5cGU9J3NlYXJjaCddLDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpIiApID8KCQkJdGhpcy5lbGVtZW50LnBhcmVudCgpIDogdGhpcy5lbGVtZW50ICkuYWRkQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsKCX0sCgoJZW5hYmxlOiBmdW5jdGlvbigpewoJCSggdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIGZhbHNlKS5pcyggIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIgKSA/CgkJCXRoaXMuZWxlbWVudC5wYXJlbnQoKSA6IHRoaXMuZWxlbWVudCApLnJlbW92ZUNsYXNzKCAidWktZGlzYWJsZWQiICk7Cgl9Cn0pOwoKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCQoJJCggJC5tb2JpbGUudGV4dGlucHV0LnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvciwgZS50YXJnZXQgKQoJCS5ub3QoICI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS50ZXh0aW5wdXQoKTsKCQkKfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiBjdXN0b20gInNlbGVjdG1lbnUiIHBsdWdpbgoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCXZhciBleHRlbmRTZWxlY3QgPSBmdW5jdGlvbiggd2lkZ2V0ICl7CgoJCXZhciBzZWxlY3QgPSB3aWRnZXQuc2VsZWN0LAoJCQlzZWxlY3RJRCAgPSB3aWRnZXQuc2VsZWN0SUQsCgkJCWxhYmVsID0gd2lkZ2V0LmxhYmVsLAoJCQl0aGlzUGFnZSA9IHdpZGdldC5zZWxlY3QuY2xvc2VzdCggIi51aS1wYWdlIiApLAoJCQlzY3JlZW4gPSAkKCAiPGRpdj4iLCB7ImNsYXNzIjogInVpLXNlbGVjdG1lbnUtc2NyZWVuIHVpLXNjcmVlbi1oaWRkZW4ifSApLmFwcGVuZFRvKCB0aGlzUGFnZSApLAoJCQlzZWxlY3RPcHRpb25zID0gd2lkZ2V0LnNlbGVjdC5maW5kKCJvcHRpb24iKSwKCQkJaXNNdWx0aXBsZSA9IHdpZGdldC5pc011bHRpcGxlID0gd2lkZ2V0LnNlbGVjdFsgMCBdLm11bHRpcGxlLAoJCQlidXR0b25JZCA9IHNlbGVjdElEICsgIi1idXR0b24iLAoJCQltZW51SWQgPSBzZWxlY3RJRCArICItbWVudSIsCgkJCW1lbnVQYWdlID0gJCggIjxkaXYgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0nZGlhbG9nJyBkYXRhLSIgKyQubW9iaWxlLm5zICsgInRoZW1lPSciKyB3aWRnZXQub3B0aW9ucy5tZW51UGFnZVRoZW1lICsiJz4iICsKCQkJCSI8ZGl2IGRhdGEtIiArICQubW9iaWxlLm5zICsgInJvbGU9J2hlYWRlcic+IiArCgkJCQkiPGRpdiBjbGFzcz0ndWktdGl0bGUnPiIgKyBsYWJlbC50ZXh0KCkgKyAiPC9kaXY+IisKCQkJCSI8L2Rpdj4iKwoJCQkJIjxkaXYgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0nY29udGVudCc+PC9kaXY+IisKCQkJCSI8L2Rpdj4iICkuYXBwZW5kVG8oICQubW9iaWxlLnBhZ2VDb250YWluZXIgKS5wYWdlKCksCgoJCQlsaXN0Ym94ID0gICQoIjxkaXY+IiwgeyAiY2xhc3MiOiAidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktIiArIHdpZGdldC5vcHRpb25zLm92ZXJsYXlUaGVtZSArICIgIiArICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uIH0gKS5pbnNlcnRBZnRlcihzY3JlZW4pLAoKCQkJbGlzdCA9ICQoICI8dWw+IiwgewoJCQkJImNsYXNzIjogInVpLXNlbGVjdG1lbnUtbGlzdCIsCgkJCQkiaWQiOiBtZW51SWQsCgkJCQkicm9sZSI6ICJsaXN0Ym94IiwKCQkJCSJhcmlhLWxhYmVsbGVkYnkiOiBidXR0b25JZAoJCQl9KS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiLCB3aWRnZXQub3B0aW9ucy50aGVtZSApLmFwcGVuZFRvKCBsaXN0Ym94ICksCgoJCQloZWFkZXIgPSAkKCAiPGRpdj4iLCB7CgkJCQkiY2xhc3MiOiAidWktaGVhZGVyIHVpLWJhci0iICsgd2lkZ2V0Lm9wdGlvbnMudGhlbWUKCQkJfSkucHJlcGVuZFRvKCBsaXN0Ym94ICksCgoJCQloZWFkZXJUaXRsZSA9ICQoICI8aDE+IiwgewoJCQkJImNsYXNzIjogInVpLXRpdGxlIgoJCQl9KS5hcHBlbmRUbyggaGVhZGVyICksCgoJCQloZWFkZXJDbG9zZSA9ICQoICI8YT4iLCB7CgkJCQkidGV4dCI6IHdpZGdldC5vcHRpb25zLmNsb3NlVGV4dCwKCQkJCSJocmVmIjogIiMiLAoJCQkJImNsYXNzIjogInVpLWJ0bi1sZWZ0IgoJCQl9KS5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAiaWNvbnBvcyIsICJub3RleHQiICkuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgImljb24iLCAiZGVsZXRlIiApLmFwcGVuZFRvKCBoZWFkZXIgKS5idXR0b25NYXJrdXAoKSwKCgkJCW1lbnVQYWdlQ29udGVudCA9IG1lbnVQYWdlLmZpbmQoICIudWktY29udGVudCIgKSwKCgkJCW1lbnVQYWdlQ2xvc2UgPSBtZW51UGFnZS5maW5kKCAiLnVpLWhlYWRlciBhIiApOwoKCgkJJC5leHRlbmQoIHdpZGdldCwgewoJCQlzZWxlY3Q6IHdpZGdldC5zZWxlY3QsCgkJCXNlbGVjdElEOiBzZWxlY3RJRCwKCQkJYnV0dG9uSWQ6IGJ1dHRvbklkLAoJCQltZW51SWQ6IG1lbnVJZCwKCQkJdGhpc1BhZ2U6IHRoaXNQYWdlLAoJCQltZW51UGFnZTogbWVudVBhZ2UsCgkJCWxhYmVsOiBsYWJlbCwKCQkJc2NyZWVuOiBzY3JlZW4sCgkJCXNlbGVjdE9wdGlvbnM6IHNlbGVjdE9wdGlvbnMsCgkJCWlzTXVsdGlwbGU6IGlzTXVsdGlwbGUsCgkJCXRoZW1lOiB3aWRnZXQub3B0aW9ucy50aGVtZSwKCQkJbGlzdGJveDogbGlzdGJveCwKCQkJbGlzdDogbGlzdCwKCQkJaGVhZGVyOiBoZWFkZXIsCgkJCWhlYWRlclRpdGxlOiBoZWFkZXJUaXRsZSwKCQkJaGVhZGVyQ2xvc2U6IGhlYWRlckNsb3NlLAoJCQltZW51UGFnZUNvbnRlbnQ6IG1lbnVQYWdlQ29udGVudCwKCQkJbWVudVBhZ2VDbG9zZTogbWVudVBhZ2VDbG9zZSwKCQkJcGxhY2Vob2xkZXI6ICIiLAoKCQkJYnVpbGQ6IGZ1bmN0aW9uKCkgewoJCQkJdmFyIHNlbGYgPSB0aGlzOwoKCQkJCS8vIENyZWF0ZSBsaXN0IGZyb20gc2VsZWN0LCB1cGRhdGUgc3RhdGUKCQkJCXNlbGYucmVmcmVzaCgpOwoKCQkJCXNlbGYuc2VsZWN0LmF0dHIoICJ0YWJpbmRleCIsICItMSIgKS5mb2N1cyhmdW5jdGlvbigpIHsKCQkJCQkkKCB0aGlzICkuYmx1cigpOwoJCQkJCXNlbGYuYnV0dG9uLmZvY3VzKCk7CgkJCQl9KTsKCgkJCQkvLyBCdXR0b24gZXZlbnRzCgkJCQlzZWxmLmJ1dHRvbi5iaW5kKCAidmNsaWNrIGtleWRvd24iICwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJCWlmICggZXZlbnQudHlwZSA9PSAidmNsaWNrIiB8fAoJCQkJCQkJIGV2ZW50LmtleUNvZGUgJiYgKCBldmVudC5rZXlDb2RlID09PSAkLm1vYmlsZS5rZXlDb2RlLkVOVEVSIHx8CgkJCQkJCQkJCQkJCQkJCQkJZXZlbnQua2V5Q29kZSA9PT0gJC5tb2JpbGUua2V5Q29kZS5TUEFDRSApICkgewoKCQkJCQkJc2VsZi5vcGVuKCk7CgkJCQkJCWV2ZW50LnByZXZlbnREZWZhdWx0KCk7CgkJCQkJfQoJCQkJfSk7CgoJCQkJLy8gRXZlbnRzIGZvciBsaXN0IGl0ZW1zCgkJCQlzZWxmLmxpc3QuYXR0ciggInJvbGUiLCAibGlzdGJveCIgKQoJCQkJCS5kZWxlZ2F0ZSggIi51aS1saT5hIiwgImZvY3VzaW4iLCBmdW5jdGlvbigpIHsKCQkJCQkJJCggdGhpcyApLmF0dHIoICJ0YWJpbmRleCIsICIwIiApOwoJCQkJCX0pCgkJCQkJLmRlbGVnYXRlKCAiLnVpLWxpPmEiLCAiZm9jdXNvdXQiLCBmdW5jdGlvbigpIHsKCQkJCQkJJCggdGhpcyApLmF0dHIoICJ0YWJpbmRleCIsICItMSIgKTsKCQkJCQl9KQoJCQkJCS5kZWxlZ2F0ZSggImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsICJjbGljayIsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQkJCS8vIGluZGV4IG9mIG9wdGlvbiB0YWcgdG8gYmUgc2VsZWN0ZWQKCQkJCQkJdmFyIG9sZEluZGV4ID0gc2VsZi5zZWxlY3RbIDAgXS5zZWxlY3RlZEluZGV4LAoJCQkJCQkJbmV3SW5kZXggPSBzZWxmLmxpc3QuZmluZCggImxpOm5vdCgudWktbGktZGl2aWRlcikiICkuaW5kZXgoIHRoaXMgKSwKCQkJCQkJCW9wdGlvbiA9IHNlbGYuc2VsZWN0T3B0aW9ucy5lcSggbmV3SW5kZXggKVsgMCBdOwoKCQkJCQkJLy8gdG9nZ2xlIHNlbGVjdGVkIHN0YXR1cyBvbiB0aGUgdGFnIGZvciBtdWx0aSBzZWxlY3RzCgkJCQkJCW9wdGlvbi5zZWxlY3RlZCA9IHNlbGYuaXNNdWx0aXBsZSA/ICFvcHRpb24uc2VsZWN0ZWQgOiB0cnVlOwoKCQkJCQkJLy8gdG9nZ2xlIGNoZWNrYm94IGNsYXNzIGZvciBtdWx0aXBsZSBzZWxlY3RzCgkJCQkJCWlmICggc2VsZi5pc011bHRpcGxlICkgewoJCQkJCQkJJCggdGhpcyApLmZpbmQoICIudWktaWNvbiIgKQoJCQkJCQkJCS50b2dnbGVDbGFzcyggInVpLWljb24tY2hlY2tib3gtb24iLCBvcHRpb24uc2VsZWN0ZWQgKQoJCQkJCQkJCS50b2dnbGVDbGFzcyggInVpLWljb24tY2hlY2tib3gtb2ZmIiwgIW9wdGlvbi5zZWxlY3RlZCApOwoJCQkJCQl9CgoJCQkJCQkvLyB0cmlnZ2VyIGNoYW5nZSBpZiB2YWx1ZSBjaGFuZ2VkCgkJCQkJCWlmICggc2VsZi5pc011bHRpcGxlIHx8IG9sZEluZGV4ICE9PSBuZXdJbmRleCApIHsKCQkJCQkJCXNlbGYuc2VsZWN0LnRyaWdnZXIoICJjaGFuZ2UiICk7CgkJCQkJCX0KCgkJCQkJCS8vaGlkZSBjdXN0b20gc2VsZWN0IGZvciBzaW5nbGUgc2VsZWN0cyBvbmx5CgkJCQkJCWlmICggIXNlbGYuaXNNdWx0aXBsZSApIHsKCQkJCQkJCXNlbGYuY2xvc2UoKTsKCQkJCQkJfQoKCQkJCQkJZXZlbnQucHJldmVudERlZmF1bHQoKTsKCQkJCQl9KQoJCQkJCS5rZXlkb3duKGZ1bmN0aW9uKCBldmVudCApIHsgIC8va2V5Ym9hcmQgZXZlbnRzIGZvciBtZW51IGl0ZW1zCgkJCQkJCXZhciB0YXJnZXQgPSAkKCBldmVudC50YXJnZXQgKSwKCQkJCQkJCWxpID0gdGFyZ2V0LmNsb3Nlc3QoICJsaSIgKSwKCQkJCQkJCXByZXYsIG5leHQ7CgoJCQkJCQkvLyBzd2l0Y2ggbG9naWMgYmFzZWQgb24gd2hpY2gga2V5IHdhcyBwcmVzc2VkCgkJCQkJCXN3aXRjaCAoIGV2ZW50LmtleUNvZGUgKSB7CgkJCQkJCQkvLyB1cCBvciBsZWZ0IGFycm93IGtleXMKCQkJCQkJIGNhc2UgMzg6CgkJCQkJCQlwcmV2ID0gbGkucHJldigpOwoKCQkJCQkJCS8vIGlmIHRoZXJlJ3MgYSBwcmV2aW91cyBvcHRpb24sIGZvY3VzIGl0CgkJCQkJCQlpZiAoIHByZXYubGVuZ3RoICkgewoJCQkJCQkJCXRhcmdldAoJCQkJCQkJCQkuYmx1cigpCgkJCQkJCQkJCS5hdHRyKCAidGFiaW5kZXgiLCAiLTEiICk7CgoJCQkJCQkJCXByZXYuZmluZCggImEiICkuZmlyc3QoKS5mb2N1cygpOwoJCQkJCQkJfQoKCQkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQkJCWJyZWFrOwoKCQkJCQkJCS8vIGRvd24gb3IgcmlnaHQgYXJyb3cga2V5cwoJCQkJCQkgY2FzZSA0MDoKCQkJCQkJCW5leHQgPSBsaS5uZXh0KCk7CgoJCQkJCQkJLy8gaWYgdGhlcmUncyBhIG5leHQgb3B0aW9uLCBmb2N1cyBpdAoJCQkJCQkJaWYgKCBuZXh0Lmxlbmd0aCApIHsKCQkJCQkJCQl0YXJnZXQKCQkJCQkJCQkJLmJsdXIoKQoJCQkJCQkJCQkuYXR0ciggInRhYmluZGV4IiwgIi0xIiApOwoKCQkJCQkJCQluZXh0LmZpbmQoICJhIiApLmZpcnN0KCkuZm9jdXMoKTsKCQkJCQkJCX0KCgkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQlicmVhazsKCgkJCQkJCQkvLyBJZiBlbnRlciBvciBzcGFjZSBpcyBwcmVzc2VkLCB0cmlnZ2VyIGNsaWNrCgkJCQkJCSBjYXNlIDEzOgoJCQkJCQkgY2FzZSAzMjoKCQkJCQkJCXRhcmdldC50cmlnZ2VyKCAiY2xpY2siICk7CgoJCQkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJCQkJYnJlYWs7CgkJCQkJCX0KCQkJCQl9KTsKCgkJCQkvLyBidXR0b24gcmVmb2N1cyBlbnN1cmVzIHByb3BlciBoZWlnaHQgY2FsY3VsYXRpb24KCQkJCS8vIGJ5IHJlbW92aW5nIHRoZSBpbmxpbmUgc3R5bGUgYW5kIGVuc3VyaW5nIHBhZ2UgaW5jbHVzaW9uCgkJCQlzZWxmLm1lbnVQYWdlLmJpbmQoICJwYWdlaGlkZSIsIGZ1bmN0aW9uKCkgewoJCQkJCXNlbGYubGlzdC5hcHBlbmRUbyggc2VsZi5saXN0Ym94ICk7CgkJCQkJc2VsZi5fZm9jdXNCdXR0b24oKTsKCQkJCX0pOwoKCQkJCS8vIEV2ZW50cyBvbiAic2NyZWVuIiBvdmVybGF5CgkJCQlzZWxmLnNjcmVlbi5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJCXNlbGYuY2xvc2UoKTsKCQkJCX0pOwoKCQkJCS8vIENsb3NlIGJ1dHRvbiBvbiBzbWFsbCBvdmVybGF5cwoJCQkJc2VsZi5oZWFkZXJDbG9zZS5jbGljayggZnVuY3Rpb24oKSB7CgkJCQkJaWYgKCBzZWxmLm1lbnVUeXBlID09ICJvdmVybGF5IiApIHsKCQkJCQkJc2VsZi5jbG9zZSgpOwoJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgoJCQlyZWZyZXNoOiBmdW5jdGlvbiggZm9yY2VSZWJ1aWxkICl7CgkJCQl2YXIgc2VsZiA9IHRoaXMsCgkJCQlzZWxlY3QgPSB0aGlzLmVsZW1lbnQsCgkJCQlpc011bHRpcGxlID0gdGhpcy5pc011bHRpcGxlLAoJCQkJb3B0aW9ucyA9IHRoaXMuc2VsZWN0T3B0aW9ucyA9IHNlbGVjdC5maW5kKCAib3B0aW9uIiApLAoJCQkJc2VsZWN0ZWQgPSB0aGlzLnNlbGVjdGVkKCksCgkJCQkvLyByZXR1cm4gYW4gYXJyYXkgb2YgYWxsIHNlbGVjdGVkIGluZGV4J3MKCQkJCWluZGljaWVzID0gdGhpcy5zZWxlY3RlZEluZGljZXMoKTsKCgkJCQlpZiAoICBmb3JjZVJlYnVpbGQgfHwgc2VsZWN0WzBdLm9wdGlvbnMubGVuZ3RoICE9IHNlbGYubGlzdC5maW5kKCAibGkiICkubGVuZ3RoICkgewoJCQkJCXNlbGYuX2J1aWxkTGlzdCgpOwoJCQkJfQoKCQkJCXNlbGYuc2V0QnV0dG9uVGV4dCgpOwoJCQkJc2VsZi5zZXRCdXR0b25Db3VudCgpOwoKCQkJCXNlbGYubGlzdC5maW5kKCAibGk6bm90KC51aS1saS1kaXZpZGVyKSIgKQoJCQkJCS5yZW1vdmVDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKQoJCQkJCS5hdHRyKCAiYXJpYS1zZWxlY3RlZCIsIGZhbHNlICkKCQkJCQkuZWFjaChmdW5jdGlvbiggaSApIHsKCgkJCQkJCWlmICggJC5pbkFycmF5KCBpLCBpbmRpY2llcyApID4gLTEgKSB7CgkJCQkJCQl2YXIgaXRlbSA9ICQoIHRoaXMgKTsKCgkJCQkJCQkvLyBBcmlhIHNlbGVjdGVkIGF0dHIKCQkJCQkJCWl0ZW0uYXR0ciggImFyaWEtc2VsZWN0ZWQiLCB0cnVlICk7CgoJCQkJCQkJLy8gTXVsdGlwbGUgc2VsZWN0czogYWRkIHRoZSAib24iIGNoZWNrYm94IHN0YXRlIHRvIHRoZSBpY29uCgkJCQkJCQlpZiAoIHNlbGYuaXNNdWx0aXBsZSApIHsKCQkJCQkJCQlpdGVtLmZpbmQoICIudWktaWNvbiIgKS5yZW1vdmVDbGFzcyggInVpLWljb24tY2hlY2tib3gtb2ZmIiApLmFkZENsYXNzKCAidWktaWNvbi1jaGVja2JveC1vbiIgKTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJaXRlbS5hZGRDbGFzcyggJC5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MgKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0pOwoJCQl9LAoKCQkJY2xvc2U6IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgfHwgIXRoaXMuaXNPcGVuICkgewoJCQkJCXJldHVybjsKCQkJCX0KCgkJCQl2YXIgc2VsZiA9IHRoaXM7CgoJCQkJaWYgKCBzZWxmLm1lbnVUeXBlID09ICJwYWdlIiApIHsKCQkJCQkvLyBUT0RPIGNlbnRyYWxpemUgcGFnZSByZW1vdmFsIGJpbmRpbmcgLyBoYW5kbGluZyBpbiB0aGUgcGFnZSBwbHVnaW4uCgkJCQkJLy8gU3VnZ2VzdGlvbiBmcm9tIEBqYmxhcyB0byBkbyByZWZjb3VudGluZwoJCQkJCS8vCgkJCQkJLy8gcmViaW5kIHRoZSBwYWdlIHJlbW92ZSB0aGF0IHdhcyB1bmJvdW5kIGluIHRoZSBvcGVuIGZ1bmN0aW9uCgkJCQkJLy8gdG8gYWxsb3cgZm9yIHRoZSBwYXJlbnQgcGFnZSByZW1vdmFsIGZyb20gYWN0aW9ucyBvdGhlciB0aGFuIHRoZSB1c2UKCQkJCQkvLyBvZiBhIGRpYWxvZyBzaXplZCBjdXN0b20gc2VsZWN0CgkJCQkJaWYoICFzZWxmLnRoaXNQYWdlLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlICl7CgkJCQkJCXNlbGYudGhpc1BhZ2UuYmluZCggInBhZ2VoaWRlLnJlbW92ZSIsIGZ1bmN0aW9uKCkgewoJCQkJCQkJJChzZWxmKS5yZW1vdmUoKTsKCQkJCQkJfSk7CgkJCQkJfQoKCQkJCQkvLyBkb2Vzbid0IHNvbHZlIHRoZSBwb3NzaWJsZSBpc3N1ZSB3aXRoIGNhbGxpbmcgY2hhbmdlIHBhZ2UKCQkJCQkvLyB3aGVyZSB0aGUgb2JqZWN0cyBkb24ndCBkZWZpbmUgZGF0YSB1cmxzIHdoaWNoIHByZXZlbnRzIGRpYWxvZyBrZXkKCQkJCQkvLyBzdHJpcHBpbmcgLSBjaGFuZ2VQYWdlIGhhcyBpbmNvbWluZyByZWZhY3RvcgoJCQkJCXdpbmRvdy5oaXN0b3J5LmJhY2soKTsKCQkJCX0gZWxzZSB7CgkJCQkJc2VsZi5zY3JlZW4uYWRkQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiApOwoJCQkJCXNlbGYubGlzdGJveC5hZGRDbGFzcyggInVpLXNlbGVjdG1lbnUtaGlkZGVuIiApLnJlbW92ZUF0dHIoICJzdHlsZSIgKS5yZW1vdmVDbGFzcyggImluIiApOwoJCQkJCXNlbGYubGlzdC5hcHBlbmRUbyggc2VsZi5saXN0Ym94ICk7CgkJCQkJc2VsZi5fZm9jdXNCdXR0b24oKTsKCQkJCX0KCgkJCQkvLyBhbGxvdyB0aGUgZGlhbG9nIHRvIGJlIGNsb3NlZCBhZ2FpbgoJCQkJc2VsZi5pc09wZW4gPSBmYWxzZTsKCQkJfSwKCgkJCW9wZW46IGZ1bmN0aW9uKCkgewoJCQkJaWYgKCB0aGlzLm9wdGlvbnMuZGlzYWJsZWQgKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXZhciBzZWxmID0gdGhpcywKCQkJCQltZW51SGVpZ2h0ID0gc2VsZi5saXN0LnBhcmVudCgpLm91dGVySGVpZ2h0KCksCgkJCQkJbWVudVdpZHRoID0gc2VsZi5saXN0LnBhcmVudCgpLm91dGVyV2lkdGgoKSwKCQkJCQlzY3JvbGxUb3AgPSAkKCB3aW5kb3cgKS5zY3JvbGxUb3AoKSwKCQkJCQlidG5PZmZzZXQgPSBzZWxmLmJ1dHRvbi5vZmZzZXQoKS50b3AsCgkJCQkJc2NyZWVuSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LAoJCQkJCXNjcmVlbldpZHRoID0gd2luZG93LmlubmVyV2lkdGg7CgoJCQkJLy9hZGQgYWN0aXZlIGNsYXNzIHRvIGJ1dHRvbgoJCQkJc2VsZi5idXR0b24uYWRkQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgoJCQkJLy9yZW1vdmUgYWZ0ZXIgZGVsYXkKCQkJCXNldFRpbWVvdXQoIGZ1bmN0aW9uKCkgewoJCQkJCXNlbGYuYnV0dG9uLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCQkJfSwgMzAwKTsKCgkJCQlmdW5jdGlvbiBmb2N1c01lbnVJdGVtKCkgewoJCQkJCXNlbGYubGlzdC5maW5kKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApLmZvY3VzKCk7CgkJCQl9CgoJCQkJaWYgKCBtZW51SGVpZ2h0ID4gc2NyZWVuSGVpZ2h0IC0gODAgfHwgISQuc3VwcG9ydC5zY3JvbGxUb3AgKSB7CgkJCQkJLy8gcHJldmVudCB0aGUgcGFyZW50IHBhZ2UgZnJvbSBiZWluZyByZW1vdmVkIGZyb20gdGhlIERPTSwKCQkJCQkvLyBvdGhlcndpc2UgdGhlIHJlc3VsdHMgb2Ygc2VsZWN0aW5nIGEgbGlzdCBpdGVtIGluIHRoZSBkaWFsb2cKCQkJCQkvLyBmYWxsIGludG8gYSBibGFjayBob2xlCgkJCQkJc2VsZi50aGlzUGFnZS51bmJpbmQoICJwYWdlaGlkZS5yZW1vdmUiICk7CgoJCQkJCS8vZm9yIHdlYm9zIChzZXQgbGFzdHNjcm9sbCB1c2luZyBidXR0b24gb2Zmc2V0KQoJCQkJCWlmICggc2Nyb2xsVG9wID09IDAgJiYgYnRuT2Zmc2V0ID4gc2NyZWVuSGVpZ2h0ICkgewoJCQkJCQlzZWxmLnRoaXNQYWdlLm9uZSggInBhZ2VoaWRlIiwgZnVuY3Rpb24oKSB7CgkJCQkJCQkkKCB0aGlzICkuanFtRGF0YSggImxhc3RTY3JvbGwiLCBidG5PZmZzZXQgKTsKCQkJCQkJfSk7CgkJCQkJfQoKCQkJCQlzZWxmLm1lbnVQYWdlLm9uZSggInBhZ2VzaG93IiwgZnVuY3Rpb24oKSB7CgkJCQkJCS8vIHNpbGVudFNjcm9sbCgpIGlzIGNhbGxlZCB3aGVuZXZlciBhIHBhZ2UgaXMgc2hvd24gdG8gcmVzdG9yZQoJCQkJCQkvLyBhbnkgcHJldmlvdXMgc2Nyb2xsIHBvc2l0aW9uIHRoZSBwYWdlIG1heSBoYXZlIGhhZC4gV2UgbmVlZCB0bwoJCQkJCQkvLyB3YWl0IGZvciB0aGUgInNpbGVudHNjcm9sbCIgZXZlbnQgYmVmb3JlIHNldHRpbmcgZm9jdXMgdG8gYXZvaWQKCQkJCQkJLy8gdGhlIGJyb3dzZXIicyAiZmVhdHVyZSIgd2hpY2ggb2Zmc2V0cyByZW5kZXJpbmcgdG8gbWFrZSBzdXJlCgkJCQkJCS8vIHdoYXRldmVyIGhhcyBmb2N1cyBpcyBpbiB2aWV3LgoJCQkJCQkkKCB3aW5kb3cgKS5vbmUoICJzaWxlbnRzY3JvbGwiLCBmdW5jdGlvbigpIHsKCQkJCQkJCWZvY3VzTWVudUl0ZW0oKTsKCQkJCQkJfSk7CgoJCQkJCQlzZWxmLmlzT3BlbiA9IHRydWU7CgkJCQkJfSk7CgoJCQkJCXNlbGYubWVudVR5cGUgPSAicGFnZSI7CgkJCQkJc2VsZi5tZW51UGFnZUNvbnRlbnQuYXBwZW5kKCBzZWxmLmxpc3QgKTsKCQkJCQkkLm1vYmlsZS5jaGFuZ2VQYWdlKCBzZWxmLm1lbnVQYWdlLCB7CgkJCQkJCXRyYW5zaXRpb246ICQubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uCgkJCQkJfSk7CgkJCQl9IGVsc2UgewoJCQkJCXNlbGYubWVudVR5cGUgPSAib3ZlcmxheSI7CgoJCQkJCXNlbGYuc2NyZWVuLmhlaWdodCggJChkb2N1bWVudCkuaGVpZ2h0KCkgKQoJCQkJCQkucmVtb3ZlQ2xhc3MoICJ1aS1zY3JlZW4taGlkZGVuIiApOwoKCQkJCQkvLyBUcnkgYW5kIGNlbnRlciB0aGUgb3ZlcmxheSBvdmVyIHRoZSBidXR0b24KCQkJCQl2YXIgcm9vbXRvcCA9IGJ0bk9mZnNldCAtIHNjcm9sbFRvcCwKCQkJCQkJcm9vbWJvdCA9IHNjcm9sbFRvcCArIHNjcmVlbkhlaWdodCAtIGJ0bk9mZnNldCwKCQkJCQkJaGFsZmhlaWdodCA9IG1lbnVIZWlnaHQgLyAyLAoJCQkJCQltYXh3aWR0aCA9IHBhcnNlRmxvYXQoIHNlbGYubGlzdC5wYXJlbnQoKS5jc3MoICJtYXgtd2lkdGgiICkgKSwKCQkJCQkJbmV3dG9wLCBuZXdsZWZ0OwoKCQkJCQlpZiAoIHJvb210b3AgPiBtZW51SGVpZ2h0IC8gMiAmJiByb29tYm90ID4gbWVudUhlaWdodCAvIDIgKSB7CgkJCQkJCW5ld3RvcCA9IGJ0bk9mZnNldCArICggc2VsZi5idXR0b24ub3V0ZXJIZWlnaHQoKSAvIDIgKSAtIGhhbGZoZWlnaHQ7CgkJCQkJfSBlbHNlIHsKCQkJCQkJLy8gMzBweCB0b2xlcmFuY2Ugb2ZmIHRoZSBlZGdlcwoJCQkJCQluZXd0b3AgPSByb29tdG9wID4gcm9vbWJvdCA/IHNjcm9sbFRvcCArIHNjcmVlbkhlaWdodCAtIG1lbnVIZWlnaHQgLSAzMCA6IHNjcm9sbFRvcCArIDMwOwoJCQkJCX0KCgkJCQkJLy8gSWYgdGhlIG1lbnV3aWR0aCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNjcmVlbiBjZW50ZXIgaXMKCQkJCQlpZiAoIG1lbnVXaWR0aCA8IG1heHdpZHRoICkgewoJCQkJCQluZXdsZWZ0ID0gKCBzY3JlZW5XaWR0aCAtIG1lbnVXaWR0aCApIC8gMjsKCQkJCQl9IGVsc2UgewoKCQkJCQkJLy9vdGhlcndpc2UgaW5zdXJlIGEgPj0gMzBweCBvZmZzZXQgZnJvbSB0aGUgbGVmdAoJCQkJCQluZXdsZWZ0ID0gc2VsZi5idXR0b24ub2Zmc2V0KCkubGVmdCArIHNlbGYuYnV0dG9uLm91dGVyV2lkdGgoKSAvIDIgLSBtZW51V2lkdGggLyAyOwoKCQkJCQkJLy8gMzBweCB0b2xlcmFuY2Ugb2ZmIHRoZSBlZGdlcwoJCQkJCQlpZiAoIG5ld2xlZnQgPCAzMCApIHsKCQkJCQkJCW5ld2xlZnQgPSAzMDsKCQkJCQkJfSBlbHNlIGlmICggKG5ld2xlZnQgKyBtZW51V2lkdGgpID4gc2NyZWVuV2lkdGggKSB7CgkJCQkJCQluZXdsZWZ0ID0gc2NyZWVuV2lkdGggLSBtZW51V2lkdGggLSAzMDsKCQkJCQkJfQoJCQkJCX0KCgkJCQkJc2VsZi5saXN0Ym94LmFwcGVuZCggc2VsZi5saXN0ICkKCQkJCQkJLnJlbW92ZUNsYXNzKCAidWktc2VsZWN0bWVudS1oaWRkZW4iICkKCQkJCQkJLmNzcyh7CgkJCQkJCQl0b3A6IG5ld3RvcCwKCQkJCQkJCWxlZnQ6IG5ld2xlZnQKCQkJCQkJfSkKCQkJCQkJLmFkZENsYXNzKCAiaW4iICk7CgoJCQkJCWZvY3VzTWVudUl0ZW0oKTsKCgkJCQkJLy8gZHVwbGljYXRlIHdpdGggdmFsdWUgc2V0IGluIHBhZ2Ugc2hvdyBmb3IgZGlhbG9nIHNpemVkIHNlbGVjdHMKCQkJCQlzZWxmLmlzT3BlbiA9IHRydWU7CgkJCQl9CgkJCX0sCgoJCQlfYnVpbGRMaXN0OiBmdW5jdGlvbigpIHsKCQkJCXZhciBzZWxmID0gdGhpcywKCQkJCQlvID0gdGhpcy5vcHRpb25zLAoJCQkJCXBsYWNlaG9sZGVyID0gdGhpcy5wbGFjZWhvbGRlciwKCQkJCQlvcHRncm91cHMgPSBbXSwKCQkJCQlsaXMgPSBbXSwKCQkJCQlkYXRhSWNvbiA9IHNlbGYuaXNNdWx0aXBsZSA/ICJjaGVja2JveC1vZmYiIDogImZhbHNlIjsKCgkJCQlzZWxmLmxpc3QuZW1wdHkoKS5maWx0ZXIoICIudWktbGlzdHZpZXciICkubGlzdHZpZXcoICJkZXN0cm95IiApOwoKCQkJCS8vIFBvcHVsYXRlIG1lbnUgd2l0aCBvcHRpb25zIGZyb20gc2VsZWN0IGVsZW1lbnQKCQkJCXNlbGYuc2VsZWN0LmZpbmQoICJvcHRpb24iICkuZWFjaCggZnVuY3Rpb24oIGkgKSB7CgkJCQkJdmFyICR0aGlzID0gJCggdGhpcyApLAoJCQkJCQkkcGFyZW50ID0gJHRoaXMucGFyZW50KCksCgkJCQkJCXRleHQgPSAkdGhpcy50ZXh0KCksCgkJCQkJCWFuY2hvciA9ICI8YSBocmVmPScjJz4iKyB0ZXh0ICsiPC9hPiIsCgkJCQkJCWNsYXNzZXMgPSBbXSwKCQkJCQkJZXh0cmFBdHRycyA9IFtdOwoKCQkJCQkvLyBBcmUgd2UgaW5zaWRlIGFuIG9wdGdyb3VwPwoJCQkJCWlmICggJHBhcmVudC5pcyggIm9wdGdyb3VwIiApICkgewoJCQkJCQl2YXIgb3B0TGFiZWwgPSAkcGFyZW50LmF0dHIoICJsYWJlbCIgKTsKCgkJCQkJCS8vIGhhcyB0aGlzIG9wdGdyb3VwIGFscmVhZHkgYmVlbiBidWlsdCB5ZXQ/CgkJCQkJCWlmICggJC5pbkFycmF5KCBvcHRMYWJlbCwgb3B0Z3JvdXBzICkgPT09IC0xICkgewoJCQkJCQkJbGlzLnB1c2goICI8bGkgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0nbGlzdC1kaXZpZGVyJz4iKyBvcHRMYWJlbCArIjwvbGk+IiApOwoJCQkJCQkJb3B0Z3JvdXBzLnB1c2goIG9wdExhYmVsICk7CgkJCQkJCX0KCQkJCQl9CgoJCQkJCS8vIEZpbmQgcGxhY2Vob2xkZXIgdGV4dAoJCQkJCS8vIFRPRE86IEFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byB1c2UgZ2V0QXR0cmlidXRlPyBeUlcKCQkJCQlpZiAoICF0aGlzLmdldEF0dHJpYnV0ZSggInZhbHVlIiApIHx8IHRleHQubGVuZ3RoID09IDAgfHwgJHRoaXMuanFtRGF0YSggInBsYWNlaG9sZGVyIiApICkgewoJCQkJCQlpZiAoIG8uaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zICkgewoJCQkJCQkJY2xhc3Nlcy5wdXNoKCAidWktc2VsZWN0bWVudS1wbGFjZWhvbGRlciIgKTsKCQkJCQkJfQoJCQkJCQlwbGFjZWhvbGRlciA9IHNlbGYucGxhY2Vob2xkZXIgPSB0ZXh0OwoJCQkJCX0KCgkJCQkJLy8gc3VwcG9ydCBkaXNhYmxlZCBvcHRpb24gdGFncwoJCQkJCWlmICggdGhpcy5kaXNhYmxlZCApIHsKCQkJCQkJY2xhc3Nlcy5wdXNoKCAidWktZGlzYWJsZWQiICk7CgkJCQkJCWV4dHJhQXR0cnMucHVzaCggImFyaWEtZGlzYWJsZWQ9J3RydWUnIiApOwoJCQkJCX0KCgkJCQkJbGlzLnB1c2goICI8bGkgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAib3B0aW9uLWluZGV4PSciICsgaSArICInIGRhdGEtIiArICQubW9iaWxlLm5zICsgImljb249JyIrIGRhdGFJY29uICsiJyBjbGFzcz0nIisgY2xhc3Nlcy5qb2luKCIgIikgKyAiJyAiICsgZXh0cmFBdHRycy5qb2luKCIgIikgKyI+IisgYW5jaG9yICsiPC9saT4iICk7CgkJCQl9KTsKCgkJCQlzZWxmLmxpc3QuaHRtbCggbGlzLmpvaW4oIiAiKSApOwoKCQkJCXNlbGYubGlzdC5maW5kKCAibGkiICkKCQkJCQkuYXR0cih7ICJyb2xlIjogIm9wdGlvbiIsICJ0YWJpbmRleCI6ICItMSIgfSkKCQkJCQkuZmlyc3QoKS5hdHRyKCAidGFiaW5kZXgiLCAiMCIgKTsKCgkJCQkvLyBIaWRlIGhlYWRlciBjbG9zZSBsaW5rIGZvciBzaW5nbGUgc2VsZWN0cwoJCQkJaWYgKCAhdGhpcy5pc011bHRpcGxlICkgewoJCQkJCXRoaXMuaGVhZGVyQ2xvc2UuaGlkZSgpOwoJCQkJfQoKCQkJCS8vIEhpZGUgaGVhZGVyIGlmIGl0J3Mgbm90IGEgbXVsdGlzZWxlY3QgYW5kIHRoZXJlJ3Mgbm8gcGxhY2Vob2xkZXIKCQkJCWlmICggIXRoaXMuaXNNdWx0aXBsZSAmJiAhcGxhY2Vob2xkZXIubGVuZ3RoICkgewoJCQkJCXRoaXMuaGVhZGVyLmhpZGUoKTsKCQkJCX0gZWxzZSB7CgkJCQkJdGhpcy5oZWFkZXJUaXRsZS50ZXh0KCB0aGlzLnBsYWNlaG9sZGVyICk7CgkJCQl9CgoJCQkJLy8gTm93IHBvcHVsYXRlZCwgY3JlYXRlIGxpc3R2aWV3CgkJCQlzZWxmLmxpc3QubGlzdHZpZXcoKTsKCQkJfSwKCgkJCV9idXR0b246IGZ1bmN0aW9uKCl7CgkJCQlyZXR1cm4gJCggIjxhPiIsIHsKCQkJCQkiaHJlZiI6ICIjIiwKCQkJCQkicm9sZSI6ICJidXR0b24iLAoJCQkJCS8vIFRPRE8gdmFsdWUgaXMgdW5kZWZpbmVkIGF0IGNyZWF0aW9uCgkJCQkJImlkIjogdGhpcy5idXR0b25JZCwKCQkJCQkiYXJpYS1oYXNwb3B1cCI6ICJ0cnVlIiwKCgkJCQkJLy8gVE9ETyB2YWx1ZSBpcyB1bmRlZmluZWQgYXQgY3JlYXRpb24KCQkJCQkiYXJpYS1vd25zIjogdGhpcy5tZW51SWQKCQkJCX0pOwoJCQl9CgkJfSk7Cgl9OwoKCSQoICJzZWxlY3QiICkubGl2ZSggInNlbGVjdG1lbnViZWZvcmVjcmVhdGUiLCBmdW5jdGlvbigpewoJCXZhciBzZWxlY3RtZW51V2lkZ2V0ID0gJCggdGhpcyApLmRhdGEoICJzZWxlY3RtZW51IiApOwoKCQlpZiggIXNlbGVjdG1lbnVXaWRnZXQub3B0aW9ucy5uYXRpdmVNZW51ICl7CgkJCWV4dGVuZFNlbGVjdCggc2VsZWN0bWVudVdpZGdldCApOwoJCX0KCX0pOwp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAic2VsZWN0bWVudSIgcGx1Z2luCiogQ29weXJpZ2h0IChjKSBqUXVlcnkgUHJvamVjdAoqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBvciBHUEwgVmVyc2lvbiAyIGxpY2Vuc2VzLgoqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKKi8KCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC53aWRnZXQoICJtb2JpbGUuc2VsZWN0bWVudSIsICQubW9iaWxlLndpZGdldCwgewoJb3B0aW9uczogewoJCXRoZW1lOiBudWxsLAoJCWRpc2FibGVkOiBmYWxzZSwKCQlpY29uOiAiYXJyb3ctZCIsCgkJaWNvbnBvczogInJpZ2h0IiwKCQlpbmxpbmU6IG51bGwsCgkJY29ybmVyczogdHJ1ZSwKCQlzaGFkb3c6IHRydWUsCgkJaWNvbnNoYWRvdzogdHJ1ZSwKCQltZW51UGFnZVRoZW1lOiAiYiIsCgkJb3ZlcmxheVRoZW1lOiAiYSIsCgkJaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiB0cnVlLAoJCWNsb3NlVGV4dDogIkNsb3NlIiwKCQluYXRpdmVNZW51OiB0cnVlLAoJCWluaXRTZWxlY3RvcjogInNlbGVjdDpub3QoOmpxbURhdGEocm9sZT0nc2xpZGVyJykpIgoJfSwKCglfYnV0dG9uOiBmdW5jdGlvbigpewoJCXJldHVybiAkKCAiPGRpdi8+IiApOwoJfSwKCglfdGhlbWU6IGZ1bmN0aW9uKCl7CgkJdmFyIHRoZW1lZFBhcmVudCwgdGhlbWU7CgkJLy8gaWYgbm8gdGhlbWUgaXMgZGVmaW5lZCwgdHJ5IHRvIGZpbmQgY2xvc2VzdCB0aGVtZSBjb250YWluZXIKCQkvLyBUT0RPIG1vdmUgdG8gY29yZSBhcyBzb21ldGhpbmcgbGlrZSBmaW5kQ3VycmVudFRoZW1lCgkJdGhlbWVkUGFyZW50ID0gdGhpcy5zZWxlY3QuY2xvc2VzdCggIltjbGFzcyo9J3VpLWJhci0nXSwgW2NsYXNzKj0ndWktYm9keS0nXSIgKTsKCQl0aGVtZSA9IHRoZW1lZFBhcmVudC5sZW5ndGggPwoJCQkvdWktKGJhcnxib2R5KS0oW2Etel0pLy5leGVjKCB0aGVtZWRQYXJlbnQuYXR0ciggImNsYXNzIiApIClbMl0gOgoJCQkiYyI7CgoJCXJldHVybiB0aGVtZTsKCX0sCgoJX3NldERpc2FibGVkOiBmdW5jdGlvbiggdmFsdWUgKSB7CgkJdGhpcy5lbGVtZW50LmF0dHIoICJkaXNhYmxlZCIsIHZhbHVlICk7CgkJdGhpcy5idXR0b24uYXR0ciggImFyaWEtZGlzYWJsZWQiLCB2YWx1ZSApOwoJCXJldHVybiB0aGlzLl9zZXRPcHRpb24oICJkaXNhYmxlZCIsIHZhbHVlICk7Cgl9LAoKCV9mb2N1c0J1dHRvbiA6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpczsKCgkJc2V0VGltZW91dCggZnVuY3Rpb24oKSB7CgkJCXNlbGYuYnV0dG9uLmZvY3VzKCk7CgkJfSwgNDApOwoJfSwKCgkvLyBzZXR1cCBpdGVtcyB0aGF0IGFyZSBnZW5lcmFsbHkgbmVjZXNzYXJ5IGZvciBzZWxlY3QgbWVudSBleHRlbnNpb24KCV9wcmVFeHRlbnNpb246IGZ1bmN0aW9uKCl7CgkJdGhpcy5zZWxlY3QgPSB0aGlzLmVsZW1lbnQud3JhcCggIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCc+IiApOwoJCXRoaXMuc2VsZWN0SUQgID0gdGhpcy5zZWxlY3QuYXR0ciggImlkIiApOwoJCXRoaXMubGFiZWwgPSAkKCAibGFiZWxbZm9yPSciKyB0aGlzLnNlbGVjdElEICsiJ10iICkuYWRkQ2xhc3MoICJ1aS1zZWxlY3QiICk7CgkJdGhpcy5pc011bHRpcGxlID0gdGhpcy5zZWxlY3RbIDAgXS5tdWx0aXBsZTsKCQl0aGlzLm9wdGlvbnMudGhlbWUgPSB0aGlzLl90aGVtZSgpOwoJCXRoaXMuc2VsZWN0T3B0aW9ucyA9IHRoaXMuc2VsZWN0LmZpbmQoICJvcHRpb24iICk7Cgl9LAoKCV9jcmVhdGU6IGZ1bmN0aW9uKCkgewoJCXRoaXMuX3ByZUV4dGVuc2lvbigpOwoKIAkJLy8gQWxsb3dzIGZvciBleHRlbnNpb24gb2YgdGhlIG5hdGl2ZSBzZWxlY3QgZm9yIGN1c3RvbSBzZWxlY3RzIGFuZCBvdGhlciBwbHVnaW5zCgkJLy8gc2VlIHNlbGVjdC5jdXN0b20gZm9yIGV4YW1wbGUgZXh0ZW5zaW9uCgkJLy8gVE9ETyBleHBsb3JlIHBsdWdpbiByZWdpc3RyYXRpb24KCQl0aGlzLl90cmlnZ2VyKCAiYmVmb3JlQ3JlYXRlIiApOwoKCQl0aGlzLmJ1dHRvbiA9IHRoaXMuX2J1dHRvbigpOwoKCQl2YXIgc2VsZiA9IHRoaXMsCgoJCQlvcHRpb25zID0gdGhpcy5vcHRpb25zLAoKCQkJLy8gSUUgdGhyb3dzIGFuIGV4Y2VwdGlvbiBhdCBvcHRpb25zLml0ZW0oKSBmdW5jdGlvbiB3aGVuCgkJCS8vIHRoZXJlIGlzIG5vIHNlbGVjdGVkIGl0ZW0KCQkJLy8gc2VsZWN0IGZpcnN0IGluIHRoaXMgY2FzZQoJCQlzZWxlY3RlZEluZGV4ID0gdGhpcy5zZWxlY3RbIDAgXS5zZWxlY3RlZEluZGV4ID09IC0xID8gMCA6IHRoaXMuc2VsZWN0WyAwIF0uc2VsZWN0ZWRJbmRleCwKCgkJCS8vIFRPRE8gdmFsdWVzIGJ1dHRvbklkIGFuZCBtZW51SWQgYXJlIHVuZGVmaW5lZCBoZXJlCgkJCWJ1dHRvbiA9IHRoaXMuYnV0dG9uCgkJCQkudGV4dCggJCggdGhpcy5zZWxlY3RbIDAgXS5vcHRpb25zLml0ZW0oIHNlbGVjdGVkSW5kZXggKSApLnRleHQoKSApCgkJCQkuaW5zZXJ0QmVmb3JlKCB0aGlzLnNlbGVjdCApCgkJCQkuYnV0dG9uTWFya3VwKCB7CgkJCQkJdGhlbWU6IG9wdGlvbnMudGhlbWUsCgkJCQkJaWNvbjogb3B0aW9ucy5pY29uLAoJCQkJCWljb25wb3M6IG9wdGlvbnMuaWNvbnBvcywKCQkJCQlpbmxpbmU6IG9wdGlvbnMuaW5saW5lLAoJCQkJCWNvcm5lcnM6IG9wdGlvbnMuY29ybmVycywKCQkJCQlzaGFkb3c6IG9wdGlvbnMuc2hhZG93LAoJCQkJCWljb25zaGFkb3c6IG9wdGlvbnMuaWNvbnNoYWRvdwoJCQkJfSk7CgoJCS8vIE9wZXJhIGRvZXMgbm90IHByb3Blcmx5IHN1cHBvcnQgb3BhY2l0eSBvbiBzZWxlY3QgZWxlbWVudHMKCQkvLyBJbiBNaW5pLCBpdCBoaWRlcyB0aGUgZWxlbWVudCwgYnV0IG5vdCBpdHMgdGV4dAoJCS8vIE9uIHRoZSBkZXNrdG9wLGl0IHNlZW1zIHRvIGRvIHRoZSBvcHBvc2l0ZQoJCS8vIGZvciB0aGVzZSByZWFzb25zLCB1c2luZyB0aGUgbmF0aXZlTWVudSBvcHRpb24gcmVzdWx0cyBpbiBhIGZ1bGwgbmF0aXZlIHNlbGVjdCBpbiBPcGVyYQoJCWlmICggb3B0aW9ucy5uYXRpdmVNZW51ICYmIHdpbmRvdy5vcGVyYSAmJiB3aW5kb3cub3BlcmEudmVyc2lvbiApIHsKCQkJdGhpcy5zZWxlY3QuYWRkQ2xhc3MoICJ1aS1zZWxlY3QtbmF0aXZlb25seSIgKTsKCQl9CgoJCS8vIEFkZCBjb3VudGVyIGZvciBtdWx0aSBzZWxlY3RzCgkJaWYgKCB0aGlzLmlzTXVsdGlwbGUgKSB7CgkJCXRoaXMuYnV0dG9uQ291bnQgPSAkKCAiPHNwYW4+IiApCgkJCQkuYWRkQ2xhc3MoICJ1aS1saS1jb3VudCB1aS1idG4tdXAtYyB1aS1idG4tY29ybmVyLWFsbCIgKQoJCQkJLmhpZGUoKQoJCQkJLmFwcGVuZFRvKCBidXR0b24gKTsKCQl9CgoJCS8vIERpc2FibGUgaWYgc3BlY2lmaWVkCgkJaWYgKCBvcHRpb25zLmRpc2FibGVkICkgewoJCQl0aGlzLmRpc2FibGUoKTsKCQl9CgoJCS8vIEV2ZW50cyBvbiBuYXRpdmUgc2VsZWN0CgkJdGhpcy5zZWxlY3QuY2hhbmdlKCBmdW5jdGlvbigpIHsKCQkJc2VsZi5yZWZyZXNoKCk7CgkJfSk7CgoJCXRoaXMuYnVpbGQoKTsKCX0sCgoJYnVpbGQ6IGZ1bmN0aW9uKCkgewoJCXZhciBzZWxmID0gdGhpczsKCgkJdGhpcy5zZWxlY3QKCQkJLmFwcGVuZFRvKCBzZWxmLmJ1dHRvbiApCgkJCS5iaW5kKCAidm1vdXNlZG93biIsIGZ1bmN0aW9uKCkgewoJCQkJLy8gQWRkIGFjdGl2ZSBjbGFzcyB0byBidXR0b24KCQkJCXNlbGYuYnV0dG9uLmFkZENsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCQl9KQoJCQkuYmluZCggImZvY3VzIHZtb3VzZW92ZXIiLCBmdW5jdGlvbigpIHsKCQkJCXNlbGYuYnV0dG9uLnRyaWdnZXIoICJ2bW91c2VvdmVyIiApOwoJCQl9KQoJCQkuYmluZCggInZtb3VzZW1vdmUiLCBmdW5jdGlvbigpIHsKCQkJCS8vIFJlbW92ZSBhY3RpdmUgY2xhc3Mgb24gc2Nyb2xsL3RvdWNobW92ZQoJCQkJc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICk7CgkJCX0pCgkJCS5iaW5kKCAiY2hhbmdlIGJsdXIgdm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CgkJCQlzZWxmLmJ1dHRvbi50cmlnZ2VyKCAidm1vdXNlb3V0IiApCgkJCQkJLnJlbW92ZUNsYXNzKCAkLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyApOwoJCQl9KQoJCQkuYmluZCggImNoYW5nZSBibHVyIiwgZnVuY3Rpb24oKSB7CgkJCQlzZWxmLmJ1dHRvbi5yZW1vdmVDbGFzcyggInVpLWJ0bi1kb3duLSIgKyBzZWxmLm9wdGlvbnMudGhlbWUgKTsKCQkJfSk7Cgl9LAoKCXNlbGVjdGVkOiBmdW5jdGlvbigpIHsKCQlyZXR1cm4gdGhpcy5zZWxlY3RPcHRpb25zLmZpbHRlciggIjpzZWxlY3RlZCIgKTsKCX0sCgoJc2VsZWN0ZWRJbmRpY2VzOiBmdW5jdGlvbigpIHsKCQl2YXIgc2VsZiA9IHRoaXM7CgoJCXJldHVybiB0aGlzLnNlbGVjdGVkKCkubWFwKCBmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHNlbGYuc2VsZWN0T3B0aW9ucy5pbmRleCggdGhpcyApOwoJCX0pLmdldCgpOwoJfSwKCglzZXRCdXR0b25UZXh0OiBmdW5jdGlvbigpIHsKCQl2YXIgc2VsZiA9IHRoaXMsIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCgpOwoKCQl0aGlzLmJ1dHRvbi5maW5kKCAiLnVpLWJ0bi10ZXh0IiApLnRleHQoIGZ1bmN0aW9uKCkgewoJCQlpZiAoICFzZWxmLmlzTXVsdGlwbGUgKSB7CgkJCQlyZXR1cm4gc2VsZWN0ZWQudGV4dCgpOwoJCQl9CgoJCQlyZXR1cm4gc2VsZWN0ZWQubGVuZ3RoID8gc2VsZWN0ZWQubWFwKCBmdW5jdGlvbigpIHsKCQkJCXJldHVybiAkKCB0aGlzICkudGV4dCgpOwoJCQl9KS5nZXQoKS5qb2luKCAiLCAiICkgOiBzZWxmLnBsYWNlaG9sZGVyOwoJCX0pOwoJfSwKCglzZXRCdXR0b25Db3VudDogZnVuY3Rpb24oKSB7CgkJdmFyIHNlbGVjdGVkID0gdGhpcy5zZWxlY3RlZCgpOwoKCQkvLyBtdWx0aXBsZSBjb3VudCBpbnNpZGUgYnV0dG9uCgkJaWYgKCB0aGlzLmlzTXVsdGlwbGUgKSB7CgkJCXRoaXMuYnV0dG9uQ291bnRbIHNlbGVjdGVkLmxlbmd0aCA+IDEgPyAic2hvdyIgOiAiaGlkZSIgXSgpLnRleHQoIHNlbGVjdGVkLmxlbmd0aCApOwoJCX0KCX0sCgoJcmVmcmVzaDogZnVuY3Rpb24oKSB7CgkJdGhpcy5zZXRCdXR0b25UZXh0KCk7CgkJdGhpcy5zZXRCdXR0b25Db3VudCgpOwoJfSwKCglkaXNhYmxlOiBmdW5jdGlvbigpIHsKCQl0aGlzLl9zZXREaXNhYmxlZCggdHJ1ZSApOwoJCXRoaXMuYnV0dG9uLmFkZENsYXNzKCAidWktZGlzYWJsZWQiICk7Cgl9LAoKCWVuYWJsZTogZnVuY3Rpb24oKSB7CgkJdGhpcy5fc2V0RGlzYWJsZWQoIGZhbHNlICk7CgkJdGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoICJ1aS1kaXNhYmxlZCIgKTsKCX0KfSk7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggJC5tb2JpbGUuc2VsZWN0bWVudS5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsIGUudGFyZ2V0ICkKCQkubm90KCAiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiICkKCQkuc2VsZWN0bWVudSgpOwp9KTsKfSkoIGpRdWVyeSApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogcGx1Z2luIGZvciBtYWtpbmcgYnV0dG9uLWxpa2UgbGlua3MKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwooIGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLmZuLmJ1dHRvbk1hcmt1cCA9IGZ1bmN0aW9uKCBvcHRpb25zICkgewoJcmV0dXJuIHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7CgkJdmFyIGVsID0gJCggdGhpcyApLAoJCQlvID0gJC5leHRlbmQoIHt9LCAkLmZuLmJ1dHRvbk1hcmt1cC5kZWZhdWx0cywgZWwuanFtRGF0YSgpLCBvcHRpb25zICksCgoJCQkvLyBDbGFzc2VzIERlZmluZWQKCQkJaW5uZXJDbGFzcyA9ICJ1aS1idG4taW5uZXIiLAoJCQlidXR0b25DbGFzcywgaWNvbkNsYXNzLAoJCQl0aGVtZWRQYXJlbnQsIHdyYXA7CgoJCWlmICggYXR0YWNoRXZlbnRzICkgewoJCQlhdHRhY2hFdmVudHMoKTsKCQl9CgoJCS8vIGlmIG5vdCwgdHJ5IHRvIGZpbmQgY2xvc2VzdCB0aGVtZSBjb250YWluZXIKCQlpZiAoICFvLnRoZW1lICkgewoJCQl0aGVtZWRQYXJlbnQgPSBlbC5jbG9zZXN0KCAiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iICk7CgkJCW8udGhlbWUgPSB0aGVtZWRQYXJlbnQubGVuZ3RoID8KCQkJCS91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoIHRoZW1lZFBhcmVudC5hdHRyKCAiY2xhc3MiICkgKVsyXSA6CgkJCQkiYyI7CgkJfQoKCQlidXR0b25DbGFzcyA9ICJ1aS1idG4gdWktYnRuLXVwLSIgKyBvLnRoZW1lOwoKCQlpZiAoIG8uaW5saW5lICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1pbmxpbmUiOwoJCX0KCgkJaWYgKCBvLmljb24gKSB7CgkJCW8uaWNvbiA9ICJ1aS1pY29uLSIgKyBvLmljb247CgkJCW8uaWNvbnBvcyA9IG8uaWNvbnBvcyB8fCAibGVmdCI7CgoJCQlpY29uQ2xhc3MgPSAidWktaWNvbiAiICsgby5pY29uOwoKCQkJaWYgKCBvLmljb25zaGFkb3cgKSB7CgkJCQlpY29uQ2xhc3MgKz0gIiB1aS1pY29uLXNoYWRvdyI7CgkJCX0KCQl9CgoJCWlmICggby5pY29ucG9zICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1pY29uLSIgKyBvLmljb25wb3M7CgoJCQlpZiAoIG8uaWNvbnBvcyA9PSAibm90ZXh0IiAmJiAhZWwuYXR0ciggInRpdGxlIiApICkgewoJCQkJZWwuYXR0ciggInRpdGxlIiwgZWwudGV4dCgpICk7CgkJCX0KCQl9CgoJCWlmICggby5jb3JuZXJzICkgewoJCQlidXR0b25DbGFzcyArPSAiIHVpLWJ0bi1jb3JuZXItYWxsIjsKCQkJaW5uZXJDbGFzcyArPSAiIHVpLWJ0bi1jb3JuZXItYWxsIjsKCQl9CgoJCWlmICggby5zaGFkb3cgKSB7CgkJCWJ1dHRvbkNsYXNzICs9ICIgdWktc2hhZG93IjsKCQl9CgoJCWVsLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0aGVtZSIsIG8udGhlbWUgKQoJCQkuYWRkQ2xhc3MoIGJ1dHRvbkNsYXNzICk7CgoJCXdyYXAgPSAoICI8RCBjbGFzcz0nIiArIGlubmVyQ2xhc3MgKyAiJz48RCBjbGFzcz0ndWktYnRuLXRleHQnPjwvRD4iICsKCQkJKCBvLmljb24gPyAiPHNwYW4gY2xhc3M9JyIgKyBpY29uQ2xhc3MgKyAiJz48L3NwYW4+IiA6ICIiICkgKwoJCQkiPC9EPiIgKS5yZXBsYWNlKCAvRC9nLCBvLndyYXBwZXJFbHMgKTsKCgkJZWwud3JhcElubmVyKCB3cmFwICk7Cgl9KTsKfTsKCiQuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzID0gewoJY29ybmVyczogdHJ1ZSwKCXNoYWRvdzogdHJ1ZSwKCWljb25zaGFkb3c6IHRydWUsCgl3cmFwcGVyRWxzOiAic3BhbiIKfTsKCmZ1bmN0aW9uIGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBlbGVtZW50ICkgewoJd2hpbGUgKCBlbGVtZW50ICkgewoJCXZhciAkZWxlID0gJCggZWxlbWVudCApOwoJCWlmICggJGVsZS5oYXNDbGFzcyggInVpLWJ0biIgKSAmJiAhJGVsZS5oYXNDbGFzcyggInVpLWRpc2FibGVkIiApICkgewoJCQlicmVhazsKCQl9CgkJZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTsKCX0KCXJldHVybiBlbGVtZW50Owp9Cgp2YXIgYXR0YWNoRXZlbnRzID0gZnVuY3Rpb24oKSB7CgkkKCBkb2N1bWVudCApLmJpbmQoIHsKCQkidm1vdXNlZG93biI6IGZ1bmN0aW9uKCBldmVudCApIHsKCQkJdmFyIGJ0biA9IGNsb3Nlc3RFbmFibGVkQnV0dG9uKCBldmVudC50YXJnZXQgKSwKCQkJCSRidG4sIHRoZW1lOwoKCQkJaWYgKCBidG4gKSB7CgkJCQkkYnRuID0gJCggYnRuICk7CgkJCQl0aGVtZSA9ICRidG4uYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInRoZW1lIiApOwoJCQkJJGJ0bi5yZW1vdmVDbGFzcyggInVpLWJ0bi11cC0iICsgdGhlbWUgKS5hZGRDbGFzcyggInVpLWJ0bi1kb3duLSIgKyB0aGVtZSApOwoJCQl9CgkJfSwKCQkidm1vdXNlY2FuY2VsIHZtb3VzZXVwIjogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgYnRuID0gY2xvc2VzdEVuYWJsZWRCdXR0b24oIGV2ZW50LnRhcmdldCApLAoJCQkJJGJ0biwgdGhlbWU7CgoJCQlpZiAoIGJ0biApIHsKCQkJCSRidG4gPSAkKCBidG4gKTsKCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7CgkJCQkkYnRuLnJlbW92ZUNsYXNzKCAidWktYnRuLWRvd24tIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICk7CgkJCX0KCQl9LAoJCSJ2bW91c2VvdmVyIGZvY3VzIjogZnVuY3Rpb24oIGV2ZW50ICkgewoJCQl2YXIgYnRuID0gY2xvc2VzdEVuYWJsZWRCdXR0b24oIGV2ZW50LnRhcmdldCApLAoJCQkJJGJ0biwgdGhlbWU7CgoJCQlpZiAoIGJ0biApIHsKCQkJCSRidG4gPSAkKCBidG4gKTsKCQkJCXRoZW1lID0gJGJ0bi5hdHRyKCAiZGF0YS0iICsgJC5tb2JpbGUubnMgKyAidGhlbWUiICk7CgkJCQkkYnRuLnJlbW92ZUNsYXNzKCAidWktYnRuLXVwLSIgKyB0aGVtZSApLmFkZENsYXNzKCAidWktYnRuLWhvdmVyLSIgKyB0aGVtZSApOwoJCQl9CgkJfSwKCQkidm1vdXNlb3V0IGJsdXIiOiBmdW5jdGlvbiggZXZlbnQgKSB7CgkJCXZhciBidG4gPSBjbG9zZXN0RW5hYmxlZEJ1dHRvbiggZXZlbnQudGFyZ2V0ICksCgkJCQkkYnRuLCB0aGVtZTsKCgkJCWlmICggYnRuICkgewoJCQkJJGJ0biA9ICQoIGJ0biApOwoJCQkJdGhlbWUgPSAkYnRuLmF0dHIoICJkYXRhLSIgKyAkLm1vYmlsZS5ucyArICJ0aGVtZSIgKTsKCQkJCSRidG4ucmVtb3ZlQ2xhc3MoICJ1aS1idG4taG92ZXItIiArIHRoZW1lICkuYWRkQ2xhc3MoICJ1aS1idG4tdXAtIiArIHRoZW1lICk7CgkJCX0KCQl9Cgl9KTsKCglhdHRhY2hFdmVudHMgPSBudWxsOwp9OwoKLy9saW5rcyBpbiBiYXJzLCBvciB0aG9zZSB3aXRoICBkYXRhLXJvbGUgYmVjb21lIGJ1dHRvbnMKLy9hdXRvIHNlbGYtaW5pdCB3aWRnZXRzCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCgkkKCAiOmpxbURhdGEocm9sZT0nYnV0dG9uJyksIC51aS1iYXIgPiBhLCAudWktaGVhZGVyID4gYSwgLnVpLWZvb3RlciA+IGEsIC51aS1iYXIgPiA6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSA+IGEiLCBlLnRhcmdldCApCgkJLm5vdCggIi51aS1idG4sIDpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIiApCgkJLmJ1dHRvbk1hcmt1cCgpOwp9KTsKCn0pKCBqUXVlcnkgKTsKLyoKKiBqUXVlcnkgTW9iaWxlIEZyYW1ld29yazogImNvbnRyb2xncm91cCIgcGx1Z2luIC0gY29ybmVyLXJvdW5kaW5nIGZvciBncm91cHMgb2YgYnV0dG9ucywgY2hlY2tzLCByYWRpb3MsIGV0YwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCihmdW5jdGlvbiggJCwgdW5kZWZpbmVkICkgewoKJC5mbi5jb250cm9sZ3JvdXAgPSBmdW5jdGlvbiggb3B0aW9ucyApIHsKCglyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoKCQl2YXIgJGVsID0gJCggdGhpcyApLAoJCQlvID0gJC5leHRlbmQoewoJCQkJCQlkaXJlY3Rpb246ICRlbC5qcW1EYXRhKCAidHlwZSIgKSB8fCAidmVydGljYWwiLAoJCQkJCQlzaGFkb3c6IGZhbHNlLAoJCQkJCQlleGNsdWRlSW52aXNpYmxlOiB0cnVlCgkJCQkJfSwgb3B0aW9ucyApLAoJCQlncm91cGhlYWRpbmcgPSAkZWwuZmluZCggIj5sZWdlbmQiICksCgkJCWZsQ29ybmVycyA9IG8uZGlyZWN0aW9uID09ICJob3Jpem9udGFsIiA/IFsgInVpLWNvcm5lci1sZWZ0IiwgInVpLWNvcm5lci1yaWdodCIgXSA6IFsgInVpLWNvcm5lci10b3AiLCAidWktY29ybmVyLWJvdHRvbSIgXSwKCQkJdHlwZSA9ICRlbC5maW5kKCAiaW5wdXQ6ZXEoMCkiICkuYXR0ciggInR5cGUiICk7CgoJCS8vIFJlcGxhY2UgbGVnZW5kIHdpdGggbW9yZSBzdHlsYWJsZSByZXBsYWNlbWVudCBkaXYKCQlpZiAoIGdyb3VwaGVhZGluZy5sZW5ndGggKSB7CgkJCSRlbC53cmFwSW5uZXIoICI8ZGl2IGNsYXNzPSd1aS1jb250cm9sZ3JvdXAtY29udHJvbHMnPjwvZGl2PiIgKTsKCQkJJCggIjxkaXYgcm9sZT0naGVhZGluZycgY2xhc3M9J3VpLWNvbnRyb2xncm91cC1sYWJlbCc+IiArIGdyb3VwaGVhZGluZy5odG1sKCkgKyAiPC9kaXY+IiApLmluc2VydEJlZm9yZSggJGVsLmNoaWxkcmVuKDApICk7CgkJCWdyb3VwaGVhZGluZy5yZW1vdmUoKTsKCQl9CgoJCSRlbC5hZGRDbGFzcyggInVpLWNvcm5lci1hbGwgdWktY29udHJvbGdyb3VwIHVpLWNvbnRyb2xncm91cC0iICsgby5kaXJlY3Rpb24gKTsKCgkJLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgbW92ZWQgb3V0IHRvIHRoZSBjbG9zdXJlCgkJLy8gb3RoZXJ3aXNlIGl0IGlzIHJlZGVmaW5lZCBlYWNoIHRpbWUgY29udHJvbGdyb3VwKCkgaXMgY2FsbGVkCgkJZnVuY3Rpb24gZmxpcENsYXNzZXMoIGVscyApIHsKCQkJZWxzLnJlbW92ZUNsYXNzKCAidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IiApCgkJCQkuZXEoIDAgKS5hZGRDbGFzcyggZmxDb3JuZXJzWyAwIF0gKQoJCQkJLmVuZCgpCgkJCQkuZmlsdGVyKCAiOmxhc3QiICkuYWRkQ2xhc3MoIGZsQ29ybmVyc1sgMSBdICkuYWRkQ2xhc3MoICJ1aS1jb250cm9sZ3JvdXAtbGFzdCIgKTsKCQl9CgoJCWZsaXBDbGFzc2VzKCAkZWwuZmluZCggIi51aS1idG4iICsgKCBvLmV4Y2x1ZGVJbnZpc2libGUgPyAiOnZpc2libGUiIDogIiIgKSApICk7CgkJZmxpcENsYXNzZXMoICRlbC5maW5kKCAiLnVpLWJ0bi1pbm5lciIgKSApOwoKCQlpZiAoIG8uc2hhZG93ICkgewoJCQkkZWwuYWRkQ2xhc3MoICJ1aS1zaGFkb3ciICk7CgkJfQoJfSk7Cn07CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZSApewoJJCggIjpqcW1EYXRhKHJvbGU9J2NvbnRyb2xncm91cCcpIiwgZS50YXJnZXQgKS5jb250cm9sZ3JvdXAoeyBleGNsdWRlSW52aXNpYmxlOiBmYWxzZSB9KTsKfSk7Cgp9KShqUXVlcnkpOy8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAiZmllbGRjb250YWluIiBwbHVnaW4gLSBzaW1wbGUgY2xhc3MgYWRkaXRpb25zIHRvIG1ha2UgZm9ybSByb3cgc2VwYXJhdG9ycwoqIENvcHlyaWdodCAoYykgalF1ZXJ5IFByb2plY3QKKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KKiBodHRwOi8vanF1ZXJ5Lm9yZy9saWNlbnNlCiovCgooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCiQoIGRvY3VtZW50ICkuYmluZCggInBhZ2VjcmVhdGUgY3JlYXRlIiwgZnVuY3Rpb24oIGUgKXsKCQoJLy9saW5rcyB3aXRoaW4gY29udGVudCBhcmVhcwoJJCggZS50YXJnZXQgKQoJCS5maW5kKCAiYSIgKQoJCS5ub3QoICIudWktYnRuLCAudWktbGluay1pbmhlcml0LCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIgKQoJCS5hZGRDbGFzcyggInVpLWxpbmsiICk7Cgp9KTsKCn0pKCBqUXVlcnkgKTsvKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogImZpeEhlYWRlckZvb3RlciIgcGx1Z2luIC0gb24tZGVtYW5kIHBvc2l0aW9uaW5nIGZvciBoZWFkZXJzLGZvb3RlcnMKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7Cgp2YXIgc2xpZGVEb3duQ2xhc3MgPSAidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIiwKCXNsaWRlVXBDbGFzcyA9ICJ1aS1mb290ZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiLAoKCXNsaWRlRG93blNlbGVjdG9yID0gIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIsCglzbGlkZVVwU2VsZWN0b3IgPSAiLnVpLWZvb3RlcjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIjsKCiQuZm4uZml4SGVhZGVyRm9vdGVyID0gZnVuY3Rpb24oIG9wdGlvbnMgKSB7CgoJaWYgKCAhJC5zdXBwb3J0LnNjcm9sbFRvcCApIHsKCQlyZXR1cm4gdGhpczsKCX0KCglyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgewoJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsKCgkJaWYgKCAkdGhpcy5qcW1EYXRhKCAiZnVsbHNjcmVlbiIgKSApIHsKCQkJJHRoaXMuYWRkQ2xhc3MoICJ1aS1wYWdlLWZ1bGxzY3JlZW4iICk7CgkJfQoKCQkvLyBTaG91bGQgYmUgc2xpZGVkb3duCgkJJHRoaXMuZmluZCggc2xpZGVEb3duU2VsZWN0b3IgKS5hZGRDbGFzcyggc2xpZGVEb3duQ2xhc3MgKTsKCgkJLy8gU2hvdWxkIGJlIHNsaWRldXAKCQkkdGhpcy5maW5kKCBzbGlkZVVwU2VsZWN0b3IgKS5hZGRDbGFzcyggc2xpZGVVcENsYXNzICk7Cgl9KTsKfTsKCi8vIHNpbmdsZSBjb250cm9sbGVyIGZvciBhbGwgc2hvd2luZyxoaWRpbmcsdG9nZ2xpbmcKJC5tb2JpbGUuZml4ZWRUb29sYmFycyA9IChmdW5jdGlvbigpIHsKCglpZiAoICEkLnN1cHBvcnQuc2Nyb2xsVG9wIHx8ICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICkgewoJCXJldHVybjsKCX0KCgl2YXIgc3RpY2t5Rm9vdGVyLCBkZWxheVRpbWVyLAoJCWN1cnJlbnRzdGF0ZSA9ICJpbmxpbmUiLAoJCWF1dG9IaWRlTW9kZSA9IGZhbHNlLAoJCXNob3dEZWxheSA9IDEwMCwKCQlpZ25vcmVUYXJnZXRzID0gImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiLAoJCXRvb2xiYXJTZWxlY3RvciA9ICIudWktaGVhZGVyLWZpeGVkOmZpcnN0LCAudWktZm9vdGVyLWZpeGVkOm5vdCgudWktZm9vdGVyLWR1cGxpY2F0ZSk6bGFzdCIsCgkJLy8gZm9yIHN0b3JpbmcgcXVpY2sgcmVmZXJlbmNlcyB0byBkdXBsaWNhdGUgZm9vdGVycwoJCXN1cHBvcnRUb3VjaCA9ICQuc3VwcG9ydC50b3VjaCwKCQl0b3VjaFN0YXJ0RXZlbnQgPSBzdXBwb3J0VG91Y2ggPyAidG91Y2hzdGFydCIgOiAibW91c2Vkb3duIiwKCQl0b3VjaFN0b3BFdmVudCA9IHN1cHBvcnRUb3VjaCA/ICJ0b3VjaGVuZCIgOiAibW91c2V1cCIsCgkJc3RhdGVCZWZvcmUgPSBudWxsLAoJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlLAoJCXRvdWNoVG9nZ2xlRW5hYmxlZCA9IHRydWU7CgoJZnVuY3Rpb24gc2hvd0V2ZW50Q2FsbGJhY2soIGV2ZW50ICkgewoJCS8vIEFuIGV2ZW50IHRoYXQgYWZmZWN0cyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgdmlzdWFsIHZpZXdwb3J0IGhhcwoJCS8vIGJlZW4gdHJpZ2dlcmVkLiBJZiB0aGUgaGVhZGVyIGFuZC9vciBmb290ZXIgZm9yIHRoZSBjdXJyZW50IHBhZ2UgYXJlIGluIG92ZXJsYXkKCQkvLyBtb2RlLCB3ZSB3YW50IHRvIGhpZGUgdGhlbSwgYW5kIHRoZW4gZmlyZSBvZmYgYSB0aW1lciB0byBzaG93IHRoZW0gYXQgYSBsYXRlcgoJCS8vIHBvaW50LiBFdmVudHMgbGlrZSBhIHJlc2l6ZSBjYW4gYmUgdHJpZ2dlcmVkIGNvbnRpbnVvdXNseSBkdXJpbmcgYSBzY3JvbGwsIG9uCgkJLy8gc29tZSBwbGF0Zm9ybXMsIHNvIHRoZSB0aW1lciBpcyB1c2VkIHRvIGRlbGF5IHRoZSBhY3R1YWwgcG9zaXRpb25pbmcgdW50aWwgdGhlCgkJLy8gZmxvb2Qgb2YgZXZlbnRzIGhhdmUgc3Vic2lkZWQuCgkJLy8KCQkvLyBJZiB3ZSBhcmUgaW4gYXV0b0hpZGVNb2RlLCB3ZSBkb24ndCBkbyBhbnl0aGluZyBiZWNhdXNlIHdlIGtub3cgdGhlIHNjcm9sbAoJCS8vIGNhbGxiYWNrcyBmb3IgdGhlIHBsdWdpbiB3aWxsIGZpcmUgb2ZmIGEgc2hvdyB3aGVuIHRoZSBzY3JvbGxpbmcgaGFzIHN0b3BwZWQuCgkJaWYgKCAhYXV0b0hpZGVNb2RlICYmIGN1cnJlbnRzdGF0ZSA9PT0gIm92ZXJsYXkiICkgewoJCQlpZiAoICFkZWxheVRpbWVyICkgewoJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCB0cnVlICk7CgkJCX0KCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsKCQl9Cgl9CgoJJChmdW5jdGlvbigpIHsKCQl2YXIgJGRvY3VtZW50ID0gJCggZG9jdW1lbnQgKSwKCQkJJHdpbmRvdyA9ICQoIHdpbmRvdyApOwoKCQkkZG9jdW1lbnQKCQkJLmJpbmQoICJ2bW91c2Vkb3duIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCB0b3VjaFRvZ2dsZUVuYWJsZWQgKSB7CgkJCQkJc3RhdGVCZWZvcmUgPSBjdXJyZW50c3RhdGU7CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAidmNsaWNrIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoJCQkJaWYgKCB0b3VjaFRvZ2dsZUVuYWJsZWQgKSB7CgoJCQkJCWlmICggJChldmVudC50YXJnZXQpLmNsb3Nlc3QoIGlnbm9yZVRhcmdldHMgKS5sZW5ndGggKSB7CgkJCQkJCXJldHVybjsKCQkJCQl9CgoJCQkJCWlmICggIXNjcm9sbFRyaWdnZXJlZCApIHsKCQkJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy50b2dnbGUoIHN0YXRlQmVmb3JlICk7CgkJCQkJCXN0YXRlQmVmb3JlID0gbnVsbDsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAic2lsZW50c2Nyb2xsIiwgc2hvd0V2ZW50Q2FsbGJhY2sgKTsKCgoJCS8vIFRoZSBiZWxvdyBjaGVja3MgZmlyc3QgZm9yIGEgJChkb2N1bWVudCkuc2Nyb2xsVG9wKCkgdmFsdWUsIGFuZCBpZiB6ZXJvLCBiaW5kcyBzY3JvbGwgZXZlbnRzIHRvICQod2luZG93KSBpbnN0ZWFkLgoJCS8vIElmIHRoZSBzY3JvbGxUb3AgdmFsdWUgaXMgYWN0dWFsbHkgemVybywgYm90aCB3aWxsIHJldHVybiB6ZXJvIGFueXdheS4KCQkvLwoJCS8vIFdvcmtzIHdpdGggJChkb2N1bWVudCksIG5vdCAkKHdpbmRvdykgOiBPcGVyYSBNb2JpbGUgKFdpbk1PIHBob25lOyBraW5kYSBicm9rZW4gYW55d2F5KQoJCS8vIFdvcmtzIHdpdGggJCh3aW5kb3cpLCBub3QgJChkb2N1bWVudCkgOiBJRSA3LzgKCQkvLyBXb3JrcyB3aXRoIGVpdGhlciAkKHdpbmRvdykgb3IgJChkb2N1bWVudCkgOiBDaHJvbWUsIEZGIDMuNi80LCBBbmRyb2lkIDEuNi8yLjEsIGlPUwoJCS8vIE5lZWRzIHdvcmsgZWl0aGVyIHdheSA6IEJCNSwgT3BlcmEgTW9iaWxlIChpT1MpCgoJCSggKCAkZG9jdW1lbnQuc2Nyb2xsVG9wKCkgPT09IDAgKSA/ICR3aW5kb3cgOiAkZG9jdW1lbnQgKQoJCQkuYmluZCggInNjcm9sbHN0YXJ0IiwgZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkJCXNjcm9sbFRyaWdnZXJlZCA9IHRydWU7CgoJCQkJaWYgKCBzdGF0ZUJlZm9yZSA9PT0gbnVsbCApIHsKCQkJCQlzdGF0ZUJlZm9yZSA9IGN1cnJlbnRzdGF0ZTsKCQkJCX0KCgkJCQkvLyBXZSBvbmx5IGVudGVyIGF1dG9IaWRlTW9kZSBpZiB0aGUgaGVhZGVycy9mb290ZXJzIGFyZSBpbgoJCQkJLy8gYW4gb3ZlcmxheSBzdGF0ZSBvciB0aGUgc2hvdyB0aW1lciB3YXMgc3RhcnRlZC4gSWYgdGhlCgkJCQkvLyBzaG93IHRpbWVyIGlzIHNldCwgY2xlYXIgaXQgc28gdGhlIGhlYWRlcnMvZm9vdGVycyBkb24ndAoJCQkJLy8gc2hvdyB1cCB1bnRpbCBhZnRlciB3ZSdyZSBkb25lIHNjcm9sbGluZy4KCQkJCXZhciBpc092ZXJsYXlTdGF0ZSA9IHN0YXRlQmVmb3JlID09ICJvdmVybGF5IjsKCgkJCQlhdXRvSGlkZU1vZGUgPSBpc092ZXJsYXlTdGF0ZSB8fCAhIWRlbGF5VGltZXI7CgoJCQkJaWYgKCBhdXRvSGlkZU1vZGUgKSB7CgkJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5jbGVhclNob3dUaW1lcigpOwoKCQkJCQlpZiAoIGlzT3ZlcmxheVN0YXRlICkgewoJCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoIHRydWUgKTsKCQkJCQl9CgkJCQl9CgkJCX0pCgkJCS5iaW5kKCAic2Nyb2xsc3RvcCIsIGZ1bmN0aW9uKCBldmVudCApIHsKCgkJCQlpZiAoICQoIGV2ZW50LnRhcmdldCApLmNsb3Nlc3QoIGlnbm9yZVRhcmdldHMgKS5sZW5ndGggKSB7CgkJCQkJcmV0dXJuOwoJCQkJfQoKCQkJCXNjcm9sbFRyaWdnZXJlZCA9IGZhbHNlOwoKCQkJCWlmICggYXV0b0hpZGVNb2RlICkgewoJCQkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuc3RhcnRTaG93VGltZXIoKTsKCQkJCQlhdXRvSGlkZU1vZGUgPSBmYWxzZTsKCQkJCX0KCQkJCXN0YXRlQmVmb3JlID0gbnVsbDsKCQkJfSk7CgoJCQkkd2luZG93LmJpbmQoICJyZXNpemUiLCBzaG93RXZlbnRDYWxsYmFjayApOwoJfSk7CgoJLy8gMS4gQmVmb3JlIHBhZ2UgaXMgc2hvd24sIGNoZWNrIGZvciBkdXBsaWNhdGUgZm9vdGVyCgkvLyAyLiBBZnRlciBwYWdlIGlzIHNob3duLCBhcHBlbmQgZm9vdGVyIHRvIG5ldyBwYWdlCgkkKCAiLnVpLXBhZ2UiICkKCQkubGl2ZSggInBhZ2ViZWZvcmVzaG93IiwgZnVuY3Rpb24oIGV2ZW50LCB1aSApIHsKCgkJCXZhciBwYWdlID0gJCggZXZlbnQudGFyZ2V0ICksCgkJCQlmb290ZXIgPSBwYWdlLmZpbmQoICI6anFtRGF0YShyb2xlPSdmb290ZXInKSIgKSwKCQkJCWlkID0gZm9vdGVyLmRhdGEoICJpZCIgKSwKCQkJCXByZXZQYWdlID0gdWkucHJldlBhZ2UsCgkJCQlwcmV2Rm9vdGVyID0gcHJldlBhZ2UgJiYgcHJldlBhZ2UuZmluZCggIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiApLAoJCQkJcHJldkZvb3Rlck1hdGNoZXMgPSBwcmV2Rm9vdGVyLmxlbmd0aCAmJiBwcmV2Rm9vdGVyLmpxbURhdGEoICJpZCIgKSA9PT0gaWQ7CgoJCQlpZiAoIGlkICYmIHByZXZGb290ZXJNYXRjaGVzICkgewoJCQkJc3RpY2t5Rm9vdGVyID0gZm9vdGVyOwoJCQkJc2V0VG9wKCBzdGlja3lGb290ZXIucmVtb3ZlQ2xhc3MoICJmYWRlIGluIG91dCIgKS5hcHBlbmRUbyggJC5tb2JpbGUucGFnZUNvbnRhaW5lciApICk7CgkJCX0KCQl9KQoJCS5saXZlKCAicGFnZXNob3ciLCBmdW5jdGlvbiggZXZlbnQsIHVpICkgewoKCQkJdmFyICR0aGlzID0gJCggdGhpcyApOwoKCQkJaWYgKCBzdGlja3lGb290ZXIgJiYgc3RpY2t5Rm9vdGVyLmxlbmd0aCApIHsKCgkJCQlzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJCXNldFRvcCggc3RpY2t5Rm9vdGVyLmFwcGVuZFRvKCAkdGhpcyApLmFkZENsYXNzKCAiZmFkZSIgKSApOwoJCQkJCXN0aWNreUZvb3RlciA9IG51bGw7CgkJCQl9LCA1MDApOwoJCQl9CgoJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coIHRydWUsIHRoaXMgKTsKCQl9KTsKCgkvLyBXaGVuIGEgY29sbGFwc2lhYmxlIGlzIGhpZGRlbiBvciBzaG93biB3ZSBuZWVkIHRvIHRyaWdnZXIgdGhlIGZpeGVkIHRvb2xiYXIgdG8gcmVwb3NpdGlvbiBpdHNlbGYgKCMxNjM1KQoJJCggIi51aS1jb2xsYXBzaWJsZS1jb250YWluIiApLmxpdmUoICJjb2xsYXBzZSBleHBhbmQiLCBzaG93RXZlbnRDYWxsYmFjayApOwoKCS8vIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgaXMgYnJva2VuIGluIGlPUyAzLjIuMSBvbiB0aGUgaVBhZC4gVGhlCgkvLyBjb29yZGluYXRlcyBpbnNpZGUgb2YgdGhlIHJlY3QgaXQgcmV0dXJucyBkb24ndCBoYXZlIHRoZSBwYWdlIHNjcm9sbCBwb3NpdGlvbgoJLy8gZmFjdG9yZWQgb3V0IG9mIGl0IGxpa2UgdGhlIG90aGVyIHBsYXRmb3JtcyBkby4gVG8gZ2V0IGFyb3VuZCB0aGlzLAoJLy8gd2UnbGwganVzdCBjYWxjdWxhdGUgdGhlIHRvcCBvZmZzZXQgdGhlIG9sZCBmYXNoaW9uZWQgd2F5IHVudGlsIGNvcmUgaGFzCgkvLyBhIGNoYW5jZSB0byBmaWd1cmUgb3V0IGhvdyB0byBoYW5kbGUgdGhpcyBzaXR1YXRpb24uCgkvLwoJLy8gVE9ETzogV2UnbGwgbmVlZCB0byBnZXQgcmlkIG9mIGdldE9mZnNldFRvcCgpIG9uY2UgYSBmaXggZ2V0cyBmb2xkZWQgaW50byBjb3JlLgoKCWZ1bmN0aW9uIGdldE9mZnNldFRvcCggZWxlICkgewoJCXZhciB0b3AgPSAwLAoJCQlvcCwgYm9keTsKCgkJaWYgKCBlbGUgKSB7CgkJCWJvZHkgPSBkb2N1bWVudC5ib2R5OwoJCQlvcCA9IGVsZS5vZmZzZXRQYXJlbnQ7CgkJCXRvcCA9IGVsZS5vZmZzZXRUb3A7CgoJCQl3aGlsZSAoIGVsZSAmJiBlbGUgIT0gYm9keSApIHsKCQkJCXRvcCArPSBlbGUuc2Nyb2xsVG9wIHx8IDA7CgoJCQkJaWYgKCBlbGUgPT0gb3AgKSB7CgkJCQkJdG9wICs9IG9wLm9mZnNldFRvcDsKCQkJCQlvcCA9IGVsZS5vZmZzZXRQYXJlbnQ7CgkJCQl9CgoJCQkJZWxlID0gZWxlLnBhcmVudE5vZGU7CgkJCX0KCQl9CgkJcmV0dXJuIHRvcDsKCX0KCglmdW5jdGlvbiBzZXRUb3AoIGVsICkgewoJCXZhciBmcm9tVG9wID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpLAoJCQl0aGlzVG9wID0gZ2V0T2Zmc2V0VG9wKCBlbFsgMCBdICksIC8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLgoJCQl0aGlzQ1NTdG9wID0gZWwuY3NzKCAidG9wIiApID09ICJhdXRvIiA/IDAgOiBwYXJzZUZsb2F0KGVsLmNzcyggInRvcCIgKSksCgkJCXNjcmVlbkhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCwKCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksCgkJCXVzZVJlbGF0aXZlID0gZWwucGFyZW50cyggIi51aS1wYWdlOm5vdCgudWktcGFnZS1mdWxsc2NyZWVuKSIgKS5sZW5ndGgsCgkJCXJlbHZhbDsKCgkJaWYgKCBlbC5pcyggIi51aS1oZWFkZXItZml4ZWQiICkgKSB7CgoJCQlyZWx2YWwgPSBmcm9tVG9wIC0gdGhpc1RvcCArIHRoaXNDU1N0b3A7CgoJCQlpZiAoIHJlbHZhbCA8IHRoaXNUb3AgKSB7CgkJCQlyZWx2YWwgPSAwOwoJCQl9CgoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICk7CgkJfSBlbHNlIHsKCQkJLy8gcmVsdmFsID0gLTEgKiAodGhpc1RvcCAtIChmcm9tVG9wICsgc2NyZWVuSGVpZ2h0KSArIHRoaXNDU1N0b3AgKyB0aGlzSGVpZ2h0KTsKCQkJLy8gaWYgKCByZWx2YWwgPiB0aGlzVG9wICkgeyByZWx2YWwgPSAwOyB9CgkJCXJlbHZhbCA9IGZyb21Ub3AgKyBzY3JlZW5IZWlnaHQgLSB0aGlzSGVpZ2h0IC0gKHRoaXNUb3AgLSB0aGlzQ1NTdG9wICk7CgoJCQlyZXR1cm4gZWwuY3NzKCAidG9wIiwgdXNlUmVsYXRpdmUgPyByZWx2YWwgOiBmcm9tVG9wICsgc2NyZWVuSGVpZ2h0IC0gdGhpc0hlaWdodCApOwoJCX0KCX0KCgkvLyBFeHBvc2VkIG1ldGhvZHMKCXJldHVybiB7CgoJCXNob3c6IGZ1bmN0aW9uKCBpbW1lZGlhdGVseSwgcGFnZSApIHsKCgkJCSQubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTsKCgkJCWN1cnJlbnRzdGF0ZSA9ICJvdmVybGF5IjsKCgkJCXZhciAkYXAgPSBwYWdlID8gJCggcGFnZSApIDoKCQkJCQkoICQubW9iaWxlLmFjdGl2ZVBhZ2UgPyAkLm1vYmlsZS5hY3RpdmVQYWdlIDoKCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKSApOwoKCQkJcmV0dXJuICRhcC5jaGlsZHJlbiggdG9vbGJhclNlbGVjdG9yICkuZWFjaChmdW5jdGlvbigpIHsKCgkJCQl2YXIgZWwgPSAkKCB0aGlzICksCgkJCQkJZnJvbVRvcCA9ICQoIHdpbmRvdyApLnNjcm9sbFRvcCgpLAoJCQkJCS8vIGVsLm9mZnNldCgpLnRvcCByZXR1cm5zIHRoZSB3cm9uZyB2YWx1ZSBvbiBpUGFkIGlPUyAzLjIuMSwgY2FsbCBvdXIgd29ya2Fyb3VuZCBpbnN0ZWFkLgoJCQkJCXRoaXNUb3AgPSBnZXRPZmZzZXRUb3AoIGVsWyAwIF0gKSwKCQkJCQlzY3JlZW5IZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQsCgkJCQkJdGhpc0hlaWdodCA9IGVsLm91dGVySGVpZ2h0KCksCgkJCQkJYWxyZWFkeVZpc2libGUgPSAoIGVsLmlzKCAiLnVpLWhlYWRlci1maXhlZCIgKSAmJiBmcm9tVG9wIDw9IHRoaXNUb3AgKyB0aGlzSGVpZ2h0ICkgfHwKCQkJCQkJCQkJCQkJCQkoIGVsLmlzKCAiLnVpLWZvb3Rlci1maXhlZCIgKSAmJiB0aGlzVG9wIDw9IGZyb21Ub3AgKyBzY3JlZW5IZWlnaHQgKTsKCgkJCQkvLyBBZGQgc3RhdGUgY2xhc3MKCQkJCWVsLmFkZENsYXNzKCAidWktZml4ZWQtb3ZlcmxheSIgKS5yZW1vdmVDbGFzcyggInVpLWZpeGVkLWlubGluZSIgKTsKCgkJCQlpZiAoICFhbHJlYWR5VmlzaWJsZSAmJiAhaW1tZWRpYXRlbHkgKSB7CgkJCQkJZWwuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKSB7CgkJCQkJCWVsLnJlbW92ZUNsYXNzKCAiaW4iICk7CgkJCQkJfSkuYWRkQ2xhc3MoICJpbiIgKTsKCQkJCX0KCQkJCXNldFRvcChlbCk7CgkJCX0pOwoJCX0sCgoJCWhpZGU6IGZ1bmN0aW9uKCBpbW1lZGlhdGVseSApIHsKCgkJCWN1cnJlbnRzdGF0ZSA9ICJpbmxpbmUiOwoKCQkJdmFyICRhcCA9ICQubW9iaWxlLmFjdGl2ZVBhZ2UgPyAkLm1vYmlsZS5hY3RpdmVQYWdlIDoKCQkJCQkJCQkJJCggIi51aS1wYWdlLWFjdGl2ZSIgKTsKCgkJCXJldHVybiAkYXAuY2hpbGRyZW4oIHRvb2xiYXJTZWxlY3RvciApLmVhY2goZnVuY3Rpb24oKSB7CgoJCQkJdmFyIGVsID0gJCh0aGlzKSwKCQkJCQl0aGlzQ1NTdG9wID0gZWwuY3NzKCAidG9wIiApLAoJCQkJCWNsYXNzZXM7CgoJCQkJdGhpc0NTU3RvcCA9IHRoaXNDU1N0b3AgPT0gImF1dG8iID8gMCA6CgkJCQkJCQkJCQkJcGFyc2VGbG9hdCh0aGlzQ1NTdG9wKTsKCgkJCQkvLyBBZGQgc3RhdGUgY2xhc3MKCQkJCWVsLmFkZENsYXNzKCAidWktZml4ZWQtaW5saW5lIiApLnJlbW92ZUNsYXNzKCAidWktZml4ZWQtb3ZlcmxheSIgKTsKCgkJCQlpZiAoIHRoaXNDU1N0b3AgPCAwIHx8ICggZWwuaXMoICIudWktaGVhZGVyLWZpeGVkIiApICYmIHRoaXNDU1N0b3AgIT09IDAgKSApIHsKCgkJCQkJaWYgKCBpbW1lZGlhdGVseSApIHsKCQkJCQkJZWwuY3NzKCAidG9wIiwgMCk7CgkJCQkJfSBlbHNlIHsKCgkJCQkJCWlmICggZWwuY3NzKCAidG9wIiApICE9PSAiYXV0byIgJiYgcGFyc2VGbG9hdCggZWwuY3NzKCAidG9wIiApICkgIT09IDAgKSB7CgoJCQkJCQkJY2xhc3NlcyA9ICJvdXQgcmV2ZXJzZSI7CgoJCQkJCQkJZWwuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKSB7CgkJCQkJCQkJZWwucmVtb3ZlQ2xhc3MoIGNsYXNzZXMgKS5jc3MoICJ0b3AiLCAwICk7CgkJCQkJCQl9KS5hZGRDbGFzcyggY2xhc3NlcyApOwoJCQkJCQl9CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9LAoKCQlzdGFydFNob3dUaW1lcjogZnVuY3Rpb24oKSB7CgoJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLmNsZWFyU2hvd1RpbWVyKCk7CgoJCQl2YXIgYXJncyA9IFtdLnNsaWNlLmNhbGwoIGFyZ3VtZW50cyApOwoKCQkJZGVsYXlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQlkZWxheVRpbWVyID0gdW5kZWZpbmVkOwoJCQkJJC5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93LmFwcGx5KCBudWxsLCBhcmdzICk7CgkJCX0sIHNob3dEZWxheSk7CgkJfSwKCgkJY2xlYXJTaG93VGltZXI6IGZ1bmN0aW9uKCkgewoJCQlpZiAoIGRlbGF5VGltZXIgKSB7CgkJCQljbGVhclRpbWVvdXQoIGRlbGF5VGltZXIgKTsKCQkJfQoJCQlkZWxheVRpbWVyID0gdW5kZWZpbmVkOwoJCX0sCgoJCXRvZ2dsZTogZnVuY3Rpb24oIGZyb20gKSB7CgkJCWlmICggZnJvbSApIHsKCQkJCWN1cnJlbnRzdGF0ZSA9IGZyb207CgkJCX0KCQkJcmV0dXJuICggY3VycmVudHN0YXRlID09PSAib3ZlcmxheSIgKSA/ICQubW9iaWxlLmZpeGVkVG9vbGJhcnMuaGlkZSgpIDoKCQkJCQkJCQkkLm1vYmlsZS5maXhlZFRvb2xiYXJzLnNob3coKTsKCQl9LAoKCQlzZXRUb3VjaFRvZ2dsZUVuYWJsZWQ6IGZ1bmN0aW9uKCBlbmFibGVkICkgewoJCQl0b3VjaFRvZ2dsZUVuYWJsZWQgPSBlbmFibGVkOwoJCX0KCX07Cn0pKCk7CgovLyBUT0RPIC0gRGVwcmVjYXRlZCBuYW1lcGFjZSBvbiAkLiBSZW1vdmUgaW4gYSBsYXRlciByZWxlYXNlCiQuZml4ZWRUb29sYmFycyA9ICQubW9iaWxlLmZpeGVkVG9vbGJhcnM7CgovL2F1dG8gc2VsZi1pbml0IHdpZGdldHMKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSBjcmVhdGUiLCBmdW5jdGlvbiggZXZlbnQgKSB7CgoJaWYgKCAkKCAiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiLCBldmVudC50YXJnZXQgKS5sZW5ndGggKSB7CgoJCSQoIGV2ZW50LnRhcmdldCApLmVhY2goZnVuY3Rpb24oKSB7CgoJCQlpZiAoICEkLnN1cHBvcnQuc2Nyb2xsVG9wIHx8ICQuc3VwcG9ydC50b3VjaE92ZXJmbG93ICkgewoJCQkJcmV0dXJuIHRoaXM7CgkJCX0KCgkJCXZhciAkdGhpcyA9ICQoIHRoaXMgKTsKCgkJCWlmICggJHRoaXMuanFtRGF0YSggImZ1bGxzY3JlZW4iICkgKSB7CgkJCQkkdGhpcy5hZGRDbGFzcyggInVpLXBhZ2UtZnVsbHNjcmVlbiIgKTsKCQkJfQoKCQkJLy8gU2hvdWxkIGJlIHNsaWRlZG93bgoJCQkkdGhpcy5maW5kKCBzbGlkZURvd25TZWxlY3RvciApLmFkZENsYXNzKCBzbGlkZURvd25DbGFzcyApOwoKCQkJLy8gU2hvdWxkIGJlIHNsaWRldXAKCQkJJHRoaXMuZmluZCggc2xpZGVVcFNlbGVjdG9yICkuYWRkQ2xhc3MoIHNsaWRlVXBDbGFzcyApOwoKCQl9KQoKCX0KfSk7Cgp9KSggalF1ZXJ5ICk7Ci8qCiogalF1ZXJ5IE1vYmlsZSBGcmFtZXdvcmsgOiAiZml4SGVhZGVyRm9vdGVyIiBuYXRpdmUgcGx1Z2luIC0gQmVoYXZpb3IgZm9yICJmaXhlZCIgaGVhZGVycyxmb290ZXJzLCBhbmQgc2Nyb2xsaW5nIGlubmVyIGNvbnRlbnQKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwoKKGZ1bmN0aW9uKCAkLCB1bmRlZmluZWQgKSB7CgokLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCA9IGZhbHNlOwoKJCggZG9jdW1lbnQgKS5iaW5kKCAicGFnZWNyZWF0ZSIsIGZ1bmN0aW9uKCBldmVudCApIHsKCWlmKCAkLnN1cHBvcnQudG91Y2hPdmVyZmxvdyAmJiAkLm1vYmlsZS50b3VjaE92ZXJmbG93RW5hYmxlZCApewoJCQoJCXZhciAkdGFyZ2V0ID0gJCggZXZlbnQudGFyZ2V0ICksCgkJCXNjcm9sbFN0YXJ0WSA9IDA7CgkJCQoJCWlmKCAkdGFyZ2V0LmlzKCAiOmpxbURhdGEocm9sZT0ncGFnZScpIiApICl7CgkJCQoJCQkkdGFyZ2V0LmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgJHBhZ2UgPSAkKCB0aGlzICksCgkJCQkJJGZpeGllcyA9ICRwYWdlLmZpbmQoICI6anFtRGF0YShyb2xlPSdoZWFkZXInKSwgOmpxbURhdGEocm9sZT0nZm9vdGVyJykiICkuZmlsdGVyKCAiOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiICksCgkJCQkJZnVsbFNjcmVlbiA9ICRwYWdlLmpxbURhdGEoICJmdWxsc2NyZWVuIiApLAoJCQkJCSRzY3JvbGxFbGVtID0gJGZpeGllcy5sZW5ndGggPyAkcGFnZS5maW5kKCAiLnVpLWNvbnRlbnQiICkgOiAkcGFnZTsKCQkJCQoJCQkJJHBhZ2UuYWRkQ2xhc3MoICJ1aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3ciICk7CgkJCQkKCQkJCSRzY3JvbGxFbGVtLmJpbmQoICJzY3JvbGxzdG9wIiwgZnVuY3Rpb24oKXsKCQkJCQlpZiggJHNjcm9sbEVsZW0uc2Nyb2xsVG9wKCkgPiAwICl7CgkJCQkJCXdpbmRvdy5zY3JvbGxUbyggMCwgJC5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGwgKTsKCQkJCQl9CgkJCQl9KTsJCgkJCQkKCQkJCWlmKCAkZml4aWVzLmxlbmd0aCApewoJCQkJCQoJCQkJCSRwYWdlLmFkZENsYXNzKCAidWktbmF0aXZlLWZpeGVkIiApOwoJCQkJCQoJCQkJCWlmKCBmdWxsU2NyZWVuICl7CgoJCQkJCQkkcGFnZS5hZGRDbGFzcyggInVpLW5hdGl2ZS1mdWxsc2NyZWVuIiApOwoKCQkJCQkJJGZpeGllcy5hZGRDbGFzcyggImZhZGUgaW4iICk7CgoJCQkJCQkkKCBkb2N1bWVudCApLmJpbmQoICJ2Y2xpY2siLCBmdW5jdGlvbigpewoJCQkJCQkJJGZpeGllcwoJCQkJCQkJCS5yZW1vdmVDbGFzcyggInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIgKQoJCQkJCQkJCS50b2dnbGVDbGFzcyggImluIG91dCIgKQoJCQkJCQkJCS5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpewoJCQkJCQkJCQkkKHRoaXMpLm5vdCggIi5pbiIgKS5hZGRDbGFzcyggInVpLW5hdGl2ZS1iYXJzLWhpZGRlbiIgKTsKCQkJCQkJCQl9KTsKCQkJCQkJfSk7CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9Cgl9Cn0pOwoKfSkoIGpRdWVyeSApOwovKgoqIGpRdWVyeSBNb2JpbGUgRnJhbWV3b3JrIDogcmVzb2x1dGlvbiBhbmQgQ1NTIG1lZGlhIHF1ZXJ5IHJlbGF0ZWQgaGVscGVycyBhbmQgYmVoYXZpb3IKKiBDb3B5cmlnaHQgKGMpIGpRdWVyeSBQcm9qZWN0CiogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQoqLwooZnVuY3Rpb24oICQsIHVuZGVmaW5lZCApIHsKCnZhciAkd2luZG93ID0gJCggd2luZG93ICksCgkkaHRtbCA9ICQoICJodG1sIiApLAoKCS8vbWVkaWEtcXVlcnktbGlrZSB3aWR0aCBicmVha3BvaW50cywgd2hpY2ggYXJlIHRyYW5zbGF0ZWQgdG8gY2xhc3NlcyBvbiB0aGUgaHRtbCBlbGVtZW50CglyZXNvbHV0aW9uQnJlYWtwb2ludHMgPSBbIDMyMCwgNDgwLCA3NjgsIDEwMjQgXTsKCi8qCglwcml2YXRlIGZ1bmN0aW9uIGZvciBhZGRpbmcvcmVtb3ZpbmcgYnJlYWtwb2ludCBjbGFzc2VzIHRvIEhUTUwgZWxlbWVudCBmb3IgZmF1eCBtZWRpYS1xdWVyeSBzdXBwb3J0CglJdCBkb2VzIG5vdCByZXF1aXJlIG1lZGlhIHF1ZXJ5IHN1cHBvcnQsIGluc3RlYWQgdXNpbmcgSlMgdG8gZGV0ZWN0IHNjcmVlbiB3aWR0aCA+IGNyb3NzLWJyb3dzZXIgc3VwcG9ydAoJVGhpcyBmdW5jdGlvbiBpcyBjYWxsZWQgb24gb3JpZW50YXRpb25jaGFuZ2UsIHJlc2l6ZSwgYW5kIG1vYmlsZWluaXQsIGFuZCBpcyBib3VuZCB2aWEgdGhlICdodG1sY2xhc3MnIGV2ZW50IG5hbWVzcGFjZQoqLwpmdW5jdGlvbiBkZXRlY3RSZXNvbHV0aW9uQnJlYWtwb2ludHMoKSB7Cgl2YXIgY3VycldpZHRoID0gJHdpbmRvdy53aWR0aCgpLAoJCW1pblByZWZpeCA9ICJtaW4td2lkdGgtIiwKCQltYXhQcmVmaXggPSAibWF4LXdpZHRoLSIsCgkJbWluQnJlYWtwb2ludHMgPSBbXSwKCQltYXhCcmVha3BvaW50cyA9IFtdLAoJCXVuaXQgPSAicHgiLAoJCWJyZWFrcG9pbnRDbGFzc2VzOwoKCSRodG1sLnJlbW92ZUNsYXNzKCBtaW5QcmVmaXggKyByZXNvbHV0aW9uQnJlYWtwb2ludHMuam9pbih1bml0ICsgIiAiICsgbWluUHJlZml4KSArIHVuaXQgKyAiICIgKwoJCW1heFByZWZpeCArIHJlc29sdXRpb25CcmVha3BvaW50cy5qb2luKCB1bml0ICsgIiAiICsgbWF4UHJlZml4KSArIHVuaXQgKTsKCgkkLmVhY2goIHJlc29sdXRpb25CcmVha3BvaW50cywgZnVuY3Rpb24oIGksIGJyZWFrUG9pbnQgKSB7CgkJaWYoIGN1cnJXaWR0aCA+PSBicmVha1BvaW50ICkgewoJCQltaW5CcmVha3BvaW50cy5wdXNoKCBtaW5QcmVmaXggKyBicmVha1BvaW50ICsgdW5pdCApOwoJCX0KCQlpZiggY3VycldpZHRoIDw9IGJyZWFrUG9pbnQgKSB7CgkJCW1heEJyZWFrcG9pbnRzLnB1c2goIG1heFByZWZpeCArIGJyZWFrUG9pbnQgKyB1bml0ICk7CgkJfQoJfSk7CgoJaWYgKCBtaW5CcmVha3BvaW50cy5sZW5ndGggKSB7CgkJYnJlYWtwb2ludENsYXNzZXMgPSBtaW5CcmVha3BvaW50cy5qb2luKCIgIik7Cgl9CglpZiAoIG1heEJyZWFrcG9pbnRzLmxlbmd0aCApIHsKCQlicmVha3BvaW50Q2xhc3NlcyArPSAiICIgKyAgbWF4QnJlYWtwb2ludHMuam9pbigiICIpOwoJfQoKCSRodG1sLmFkZENsYXNzKCBicmVha3BvaW50Q2xhc3NlcyApOwp9OwoKLyogJC5tb2JpbGUuYWRkUmVzb2x1dGlvbkJyZWFrcG9pbnRzIG1ldGhvZDoKCXBhc3MgZWl0aGVyIGEgbnVtYmVyIG9yIGFuIGFycmF5IG9mIG51bWJlcnMgYW5kIHRoZXknbGwgYmUgYWRkZWQgdG8gdGhlIG1pbi9tYXggYnJlYWtwb2ludCBjbGFzc2VzCglFeGFtcGxlczoKCQkkLm1vYmlsZS5hZGRSZXNvbHV0aW9uQnJlYWtwb2ludHMoIDUwMCApOwoJCSQubW9iaWxlLmFkZFJlc29sdXRpb25CcmVha3BvaW50cyggWzUwMCwgMTIwMF0gKTsKKi8KJC5tb2JpbGUuYWRkUmVzb2x1dGlvbkJyZWFrcG9pbnRzID0gZnVuY3Rpb24oIG5ld2JwcyApIHsKCWlmKCAkLnR5cGUoIG5ld2JwcyApID09PSAiYXJyYXkiICl7CgkJcmVzb2x1dGlvbkJyZWFrcG9pbnRzID0gcmVzb2x1dGlvbkJyZWFrcG9pbnRzLmNvbmNhdCggbmV3YnBzICk7Cgl9IGVsc2UgewoJCXJlc29sdXRpb25CcmVha3BvaW50cy5wdXNoKCBuZXdicHMgKTsKCX0KCglyZXNvbHV0aW9uQnJlYWtwb2ludHMuc29ydChmdW5jdGlvbiggYSwgYiApIHsKCQlyZXR1cm4gYSAtIGI7Cgl9KTsKCglkZXRlY3RSZXNvbHV0aW9uQnJlYWtwb2ludHMoKTsKfTsKCi8qIG9uIG1vYmlsZWluaXQsIGFkZCBjbGFzc2VzIHRvIEhUTUwgZWxlbWVudAoJYW5kIHNldCBoYW5kbGVycyB0byB1cGRhdGUgdGhvc2Ugb24gb3JpZW50YXRpb25jaGFuZ2UgYW5kIHJlc2l6ZQoqLwokKCBkb2N1bWVudCApLmJpbmQoICJtb2JpbGVpbml0Lmh0bWxjbGFzcyIsIGZ1bmN0aW9uKCkgewoJLy8gYmluZCB0byBvcmllbnRhdGlvbmNoYW5nZSBhbmQgcmVzaXplCgkvLyB0byBhZGQgY2xhc3NlcyB0byBIVE1MIGVsZW1lbnQgZm9yIG1pbi9tYXggYnJlYWtwb2ludHMgYW5kIG9yaWVudGF0aW9uCgoJdmFyIGV2ID0gJC5zdXBwb3J0Lm9yaWVudGF0aW9uOwoKCSR3aW5kb3cuYmluZCggIm9yaWVudGF0aW9uY2hhbmdlLmh0bWxjbGFzcyB0aHJvdHRsZWRyZXNpemUuaHRtbGNsYXNzIiwgZnVuY3Rpb24oIGV2ZW50ICkgewoKCQkvLyBhZGQgb3JpZW50YXRpb24gY2xhc3MgdG8gSFRNTCBlbGVtZW50IG9uIGZsaXAvcmVzaXplLgoJCWlmICggZXZlbnQub3JpZW50YXRpb24gKSB7CgkJCSRodG1sLnJlbW92ZUNsYXNzKCAicG9ydHJhaXQgbGFuZHNjYXBlIiApLmFkZENsYXNzKCBldmVudC5vcmllbnRhdGlvbiApOwoJCX0KCgkJLy8gYWRkIGNsYXNzZXMgdG8gSFRNTCBlbGVtZW50IGZvciBtaW4vbWF4IGJyZWFrcG9pbnRzCgkJZGV0ZWN0UmVzb2x1dGlvbkJyZWFrcG9pbnRzKCk7Cgl9KTsKfSk7CgovKiBNYW51YWxseSB0cmlnZ2VyIGFuIG9yaWVudGF0aW9uY2hhbmdlIGV2ZW50IHdoZW4gdGhlIGRvbSByZWFkeSBldmVudCBmaXJlcy4KCVRoaXMgd2lsbCBlbnN1cmUgdGhhdCBhbnkgdmlld3BvcnQgbWV0YSB0YWcgdGhhdCBtYXkgaGF2ZSBiZWVuIGluamVjdGVkCgloYXMgdGFrZW4gZWZmZWN0IGFscmVhZHksIGFsbG93aW5nIHVzIHRvIHByb3Blcmx5IGNhbGN1bGF0ZSB0aGUgd2lkdGggb2YgdGhlCglkb2N1bWVudC4KKi8KJChmdW5jdGlvbigpIHsKCS8vdHJpZ2dlciBldmVudCBtYW51YWxseQoJJHdpbmRvdy50cmlnZ2VyKCAib3JpZW50YXRpb25jaGFuZ2UuaHRtbGNsYXNzIiApOwp9KTsKCn0pKGpRdWVyeSk7LyohCiAqIGpRdWVyeSBNb2JpbGUgdkBWRVJTSU9OCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCgooZnVuY3Rpb24oICQsIHdpbmRvdywgdW5kZWZpbmVkICkgewoJdmFyCSRodG1sID0gJCggImh0bWwiICksCgkJCSRoZWFkID0gJCggImhlYWQiICksCgkJCSR3aW5kb3cgPSAkKCB3aW5kb3cgKTsKCiAJLy8gdHJpZ2dlciBtb2JpbGVpbml0IGV2ZW50IC0gdXNlZnVsIGhvb2sgZm9yIGNvbmZpZ3VyaW5nICQubW9iaWxlIHNldHRpbmdzIGJlZm9yZSB0aGV5J3JlIHVzZWQKCSQoIHdpbmRvdy5kb2N1bWVudCApLnRyaWdnZXIoICJtb2JpbGVpbml0IiApOwoKCS8vIHN1cHBvcnQgY29uZGl0aW9ucwoJLy8gaWYgZGV2aWNlIHN1cHBvcnQgY29uZGl0aW9uKHMpIGFyZW4ndCBtZXQsIGxlYXZlIHRoaW5ncyBhcyB0aGV5IGFyZSAtPiBhIGJhc2ljLCB1c2FibGUgZXhwZXJpZW5jZSwKCS8vIG90aGVyd2lzZSwgcHJvY2VlZCB3aXRoIHRoZSBlbmhhbmNlbWVudHMKCWlmICggISQubW9iaWxlLmdyYWRlQSgpICkgewoJCXJldHVybjsKCX0KCgkvLyBvdmVycmlkZSBhamF4RW5hYmxlZCBvbiBwbGF0Zm9ybXMgdGhhdCBoYXZlIGtub3duIGNvbmZsaWN0cyB3aXRoIGhhc2ggaGlzdG9yeSB1cGRhdGVzCgkvLyBvciBnZW5lcmFsbHkgd29yayBiZXR0ZXIgYnJvd3NpbmcgaW4gcmVndWxhciBodHRwIGZvciBmdWxsIHBhZ2UgcmVmcmVzaGVzIChCQjUsIE9wZXJhIE1pbmkpCglpZiAoICQubW9iaWxlLmFqYXhCbGFja2xpc3QgKSB7CgkJJC5tb2JpbGUuYWpheEVuYWJsZWQgPSBmYWxzZTsKCX0KCgkvLyBhZGQgbW9iaWxlLCBpbml0aWFsIGxvYWQgInJlbmRlcmluZyIgY2xhc3NlcyB0byBkb2NFbAoJJGh0bWwuYWRkQ2xhc3MoICJ1aS1tb2JpbGUgdWktbW9iaWxlLXJlbmRlcmluZyIgKTsKCgkvLyBsb2FkaW5nIGRpdiB3aGljaCBhcHBlYXJzIGR1cmluZyBBamF4IHJlcXVlc3RzCgkvLyB3aWxsIG5vdCBhcHBlYXIgaWYgJC5tb2JpbGUubG9hZGluZ01lc3NhZ2UgaXMgZmFsc2UKCXZhciAkbG9hZGVyID0gJCggIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1ib2R5LWEgdWktY29ybmVyLWFsbCc+PHNwYW4gY2xhc3M9J3VpLWljb24gdWktaWNvbi1sb2FkaW5nIHNwaW4nPjwvc3Bhbj48aDE+PC9oMT48L2Rpdj4iICk7CgoJJC5leHRlbmQoJC5tb2JpbGUsIHsKCQkvLyB0dXJuIG9uL29mZiBwYWdlIGxvYWRpbmcgbWVzc2FnZS4KCQlzaG93UGFnZUxvYWRpbmdNc2c6IGZ1bmN0aW9uKCkgewoJCQlpZiAoICQubW9iaWxlLmxvYWRpbmdNZXNzYWdlICkgewoJCQkJdmFyIGFjdGl2ZUJ0biA9ICQoICIuIiArICQubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzICkuZmlyc3QoKTsKCgkJCQkkbG9hZGVyCgkJCQkJLmZpbmQoICJoMSIgKQoJCQkJCQkudGV4dCggJC5tb2JpbGUubG9hZGluZ01lc3NhZ2UgKQoJCQkJCQkuZW5kKCkKCQkJCQkuYXBwZW5kVG8oICQubW9iaWxlLnBhZ2VDb250YWluZXIgKQoJCQkJCS8vIHBvc2l0aW9uIGF0IHkgY2VudGVyIChpZiBzY3JvbGxUb3Agc3VwcG9ydGVkKSwgYWJvdmUgdGhlIGFjdGl2ZUJ0biAoaWYgZGVmaW5lZCksIG9yIGp1c3QgMTAwcHggZnJvbSB0b3AKCQkJCQkuY3NzKHsKCQkJCQkJdG9wOiAkLnN1cHBvcnQuc2Nyb2xsVG9wICYmICR3aW5kb3cuc2Nyb2xsVG9wKCkgKyAkd2luZG93LmhlaWdodCgpIC8gMiB8fAoJCQkJCQlhY3RpdmVCdG4ubGVuZ3RoICYmIGFjdGl2ZUJ0bi5vZmZzZXQoKS50b3AgfHwgMTAwCgkJCQkJfSk7CgkJCX0KCgkJCSRodG1sLmFkZENsYXNzKCAidWktbG9hZGluZyIgKTsKCQl9LAoKCQloaWRlUGFnZUxvYWRpbmdNc2c6IGZ1bmN0aW9uKCkgewoJCQkkaHRtbC5yZW1vdmVDbGFzcyggInVpLWxvYWRpbmciICk7CgkJfSwKCgkJLy8gWFhYOiBkZXByZWNhdGUgZm9yIDEuMAoJCXBhZ2VMb2FkaW5nOiBmdW5jdGlvbiAoIGRvbmUgKSB7CgkJCWlmICggZG9uZSApIHsKCQkJCSQubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOwoJCQl9IGVsc2UgewoJCQkJJC5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7CgkJCX0KCQl9LAoKCQkvLyBmaW5kIGFuZCBlbmhhbmNlIHRoZSBwYWdlcyBpbiB0aGUgZG9tIGFuZCB0cmFuc2l0aW9uIHRvIHRoZSBmaXJzdCBwYWdlLgoJCWluaXRpYWxpemVQYWdlOiBmdW5jdGlvbigpIHsKCQkJLy8gZmluZCBwcmVzZW50IHBhZ2VzCgkJCXZhciAkcGFnZXMgPSAkKCAiOmpxbURhdGEocm9sZT0ncGFnZScpIiApOwoKCQkJLy8gaWYgbm8gcGFnZXMgYXJlIGZvdW5kLCBjcmVhdGUgb25lIHdpdGggYm9keSdzIGlubmVyIGh0bWwKCQkJaWYgKCAhJHBhZ2VzLmxlbmd0aCApIHsKCQkJCSRwYWdlcyA9ICQoICJib2R5IiApLndyYXBJbm5lciggIjxkaXYgZGF0YS0iICsgJC5tb2JpbGUubnMgKyAicm9sZT0ncGFnZSc+PC9kaXY+IiApLmNoaWxkcmVuKCAwICk7CgkJCX0KCgkJCS8vIGFkZCBkaWFsb2dzLCBzZXQgZGF0YS11cmwgYXR0cnMKCQkJJHBhZ2VzLmFkZCggIjpqcW1EYXRhKHJvbGU9J2RpYWxvZycpIiApLmVhY2goZnVuY3Rpb24oKSB7CgkJCQl2YXIgJHRoaXMgPSAkKHRoaXMpOwoKCQkJCS8vIHVubGVzcyB0aGUgZGF0YSB1cmwgaXMgYWxyZWFkeSBzZXQgc2V0IGl0IHRvIHRoZSBwYXRobmFtZQoJCQkJaWYgKCAhJHRoaXMuanFtRGF0YSgidXJsIikgKSB7CgkJCQkJJHRoaXMuYXR0ciggImRhdGEtIiArICQubW9iaWxlLm5zICsgInVybCIsICR0aGlzLmF0dHIoICJpZCIgKSB8fCBsb2NhdGlvbi5wYXRobmFtZSArIGxvY2F0aW9uLnNlYXJjaCApOwoJCQkJfQoJCQl9KTsKCgkJCS8vIGRlZmluZSBmaXJzdCBwYWdlIGluIGRvbSBjYXNlIG9uZSBiYWNrcyBvdXQgdG8gdGhlIGRpcmVjdG9yeSByb290IChub3QgYWx3YXlzIHRoZSBmaXJzdCBwYWdlIHZpc2l0ZWQsIGJ1dCBkZWZpbmVkIGFzIGZhbGxiYWNrKQoJCQkkLm1vYmlsZS5maXJzdFBhZ2UgPSAkcGFnZXMuZmlyc3QoKTsKCgkJCS8vIGRlZmluZSBwYWdlIGNvbnRhaW5lcgoJCQkkLm1vYmlsZS5wYWdlQ29udGFpbmVyID0gJHBhZ2VzLmZpcnN0KCkucGFyZW50KCkuYWRkQ2xhc3MoICJ1aS1tb2JpbGUtdmlld3BvcnQiICk7CgoJCQkvLyBjdWUgcGFnZSBsb2FkaW5nIG1lc3NhZ2UKCQkJJC5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7CgoJCQkvLyBpZiBoYXNoY2hhbmdlIGxpc3RlbmluZyBpcyBkaXNhYmxlZCBvciB0aGVyZSdzIG5vIGhhc2ggZGVlcGxpbmssIGNoYW5nZSB0byB0aGUgZmlyc3QgcGFnZSBpbiB0aGUgRE9NCgkJCWlmICggISQubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkIHx8ICEkLm1vYmlsZS5wYXRoLnN0cmlwSGFzaCggbG9jYXRpb24uaGFzaCApICkgewoJCQkJJC5tb2JpbGUuY2hhbmdlUGFnZSggJC5tb2JpbGUuZmlyc3RQYWdlLCB7IHRyYW5zaXRpb246ICJub25lIiwgcmV2ZXJzZTogdHJ1ZSwgY2hhbmdlSGFzaDogZmFsc2UsIGZyb21IYXNoQ2hhbmdlOiB0cnVlIH0gKTsKCQkJfQoJCQkvLyBvdGhlcndpc2UsIHRyaWdnZXIgYSBoYXNoY2hhbmdlIHRvIGxvYWQgYSBkZWVwbGluawoJCQllbHNlIHsKCQkJCSR3aW5kb3cudHJpZ2dlciggImhhc2hjaGFuZ2UiLCBbIHRydWUgXSApOwoJCQl9CgkJfQoJfSk7CgoJLy8gaW5pdGlhbGl6ZSBldmVudHMgbm93LCBhZnRlciBtb2JpbGVpbml0IGhhcyBvY2N1cnJlZAoJJC5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKTsKCgkvLyBjaGVjayB3aGljaCBzY3JvbGxUb3AgdmFsdWUgc2hvdWxkIGJlIHVzZWQgYnkgc2Nyb2xsaW5nIHRvIDEgaW1tZWRpYXRlbHkgYXQgZG9tcmVhZHkKCS8vIHRoZW4gY2hlY2sgd2hhdCB0aGUgc2Nyb2xsIHRvcCBpcy4gQW5kcm9pZCB3aWxsIHJlcG9ydCAwLi4uIG90aGVycyAxCgkvLyBub3RlIHRoYXQgdGhpcyBpbml0aWFsIHNjcm9sbCB3b24ndCBoaWRlIHRoZSBhZGRyZXNzIGJhci4gSXQncyBqdXN0IGZvciB0aGUgY2hlY2suCgkkKGZ1bmN0aW9uKCkgewoJCXdpbmRvdy5zY3JvbGxUbyggMCwgMSApOwoKCQkvLyBpZiBkZWZhdWx0SG9tZVNjcm9sbCBoYXNuJ3QgYmVlbiBzZXQgeWV0LCBzZWUgaWYgc2Nyb2xsVG9wIGlzIDEKCQkvLyBpdCBzaG91bGQgYmUgMSBpbiBtb3N0IGJyb3dzZXJzLCBidXQgYW5kcm9pZCB0cmVhdHMgMSBhcyAwIChmb3IgaGlkaW5nIGFkZHIgYmFyKQoJCS8vIHNvIGlmIGl0J3MgMSwgdXNlIDAgZnJvbSBub3cgb24KCQkkLm1vYmlsZS5kZWZhdWx0SG9tZVNjcm9sbCA9ICggISQuc3VwcG9ydC5zY3JvbGxUb3AgfHwgJCh3aW5kb3cpLnNjcm9sbFRvcCgpID09PSAxICkgPyAwIDogMTsKCgkJLy9kb20tcmVhZHkgaW5pdHMKCQlpZiggJC5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlICl7CgkJCSQubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7CgkJfQoKCQkvLyB3aW5kb3cgbG9hZCBldmVudAoJCS8vIGhpZGUgaU9TIGJyb3dzZXIgY2hyb21lIG9uIGxvYWQKCQkkd2luZG93LmxvYWQoICQubW9iaWxlLnNpbGVudFNjcm9sbCApOwoJfSk7Cn0pKCBqUXVlcnksIHRoaXMgKTsK", "content_type": "application/javascript"}, "images/icons-18-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAAjAAAAAUBAMAAABhfRpVAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX///8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAv3aB7AAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMC8xNi8xMNNnoNMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAACjElEQVRYhe1XMW/TQBQ++1I3aYYCYmCIqJlhKIxBMpYaMXQJA2ulTIgFhZ2BTIwNLExI7T8AxFBQEW4lxIJE+AcVVGKqegUFlDZ2HheJRvneM8StEEjgb/J9eXfv+bvvnS9K5ciRI8d/huI9QV2e50zpPo71s2Plclq/+LH8ZOL8U0pdZNQNGZVCZcE5HFbn+tUTLKS5zSdVDnAcfMuQyW1xZqbHmebm6HF2b9KCzrt5vYPFutTgUR75GYqTi++CHbTpJGYTInQ0oGs4aZnM+/HxFJl+iCE0u0csVUmoVxc1R93R42RhtNkOBszNTZFEMqWPOHbe2K1usKCZBCTXhohQmCB+Rdg55cFLYsL0o6+4boowVxKfMW/P83ap3v7x4Nbq3RqP5wgGhpvZ45YRhJUK39mW33A6G0CdVHe7QJxuJ8t0HaitBm+U5lPZSoXdtMrHUIyIBmtATfeKTE7ljsLtBlELfhsy6CJtuGFscfs4XhGG8WgLt96aqhKjVo8uGUxep88ewVbrAxU0cJ3Ir/DD95Nqh8AIx+iO8OLZXpHtnWp/OKx+PeqvY97fJYyUQUjlmh1WmRSmYA/IM1hhpByezL4SnkOylSpErJ62MMXRzpjjtZI3bBxuGb5BAWEnpbSSG9t5LQh6HKYUuSL2jsE2BybTlNyiLxj0Bw5f627FHc+PY1vbKs8lDB89mDI+MPXXsshijGPpGCsMllim+AL1MehIwqR8rgtpn+tQzpy0tFpiFkr5XFf4C9lXlHcvYp6WwpT3F/HaMjc8NFjQmDCF8KdVHyLlgvdQRt2cuE4WyAuec+dFyIIWW2Lec34rFJj21VUgdM1iAYOWVjPU+HeQ8pcgR44cOf4pfAcm/R8omO3EagAAAABJRU5ErkJggg==", "content_type": "image/png"}, "models/timer.coffee": {"data": "dGhyb3cgIk5vIGFzc2Vzc21lbnQgbG9hZGVkIiBpZiAkLmFzc2Vzc21lbnQgaXMgdW5kZWZpbmVkCgojIExpdmUgaGFuZGxlciBmb3IgYnV0dG9ucyBpbiB0aW1lciBjb250cm9sCiQoImRpdi50aW1lciBidXR0b24iKS5saXZlICdtb3VzZWRvd24nLCAoZXZlbnREYXRhKSAtPgogIGJ1dHRvblByZXNzZWQgPSBldmVudERhdGEudGFyZ2V0LmlubmVySFRNTAojIENhbGwgdGhlIHRpbWVyIG1ldGhvZCB0aGF0IGhhcyB0aGUgc2FtZSBuYW1lIGFzIHRoZSBidXR0b24ganVzdCBwcmVzc2VkLCBpLmUuICJzdGFydCIgCiAgJC5hc3Nlc3NtZW50LmN1cnJlbnRQYWdlLnRpbWVyW2J1dHRvblByZXNzZWRdKCkKCmNsYXNzIFRpbWVyCiAgY29uc3RydWN0b3I6IChvcHRpb25zKS0+CiAgICBAcGFnZSA9IG9wdGlvbnMucGFnZQogICAgQGVsZW1lbnRMb2NhdGlvbiA9IG51bGwKCiAgc3RhcnQ6IC0+CiAgICBAc2hvd0dyaWRJdGVtcygpCiAgICByZXR1cm4gaWYgQHJ1bm5pbmcKICAgIEBzdGFydGVkID0gdHJ1ZQogICAgQHJ1bm5pbmcgPSB0cnVlCiAgICBAdGlja192YWx1ZSA9IDEKICAgIGRlY3JlbWVudCA9ID0+CiAgICAgIEBzZWNvbmRzIC09IEB0aWNrX3ZhbHVlCiAgICAgIGlmIEBzZWNvbmRzID09IDAKICAgICAgICBAc3RvcCgpCiAgICAgICAgJC5hc3Nlc3NtZW50LmZsYXNoKCkKICAgICAgQHJlbmRlclNlY29uZHMoKQogICAgQGludGVydmFsSWQgPSBzZXRJbnRlcnZhbChkZWNyZW1lbnQsQHRpY2tfdmFsdWUqMTAwMCkKCiAgc3RvcDogLT4KICAgIEBydW5uaW5nID0gZmFsc2UKICAgIGNsZWFySW50ZXJ2YWwoQGludGVydmFsSWQpCgogIGhhc1N0YXJ0ZWRBbmRTdG9wcGVkOiAtPgogICAgcmV0dXJuIChAc2Vjb25kcyAhPSA2MCkgYW5kIChAcnVubmluZyA9PSBmYWxzZSkKCiAgcmVzZXQ6IC0+CiAgICBAc2Vjb25kcyA9IDYwCiAgICBAcmVuZGVyU2Vjb25kcygpCgogIHJlbmRlclNlY29uZHM6IC0+CiAgICAkKCJkaXYjI3tAcGFnZS5wYWdlSWR9IC50aW1lci1zZWNvbmRzIikuaHRtbChAc2Vjb25kcykKCiAgcmVuZGVyOiAtPgogICAgQGlkID0gInRpbWVyIgogICAgQHNlY29uZHMgPSA2MAogICAgTXVzdGFjaGUudG9faHRtbChAX3RlbXBsYXRlKCksdGhpcykKCiAgaGlkZUdyaWRJdGVtczogLT4KICAgICQoIiMje0BwYWdlLnBhZ2VJZH0gLmdyaWQiKS5yZW1vdmVDbGFzcygic2hvdyIpCgogIHNob3dHcmlkSXRlbXM6IC0+CiAgICAkKCIjI3tAcGFnZS5wYWdlSWR9IC5ncmlkIikuYWRkQ2xhc3MoInNob3ciKQoKICBfdGVtcGxhdGU6IC0+ICIKICA8c3BhbiBjbGFzcz0ndGltZXItc2Vjb25kcyc+PC9zcGFuPgoiCg==", "content_type": ""}, "js-libraries/jquery-mobile/jquery.mobile-1.0b2.min.js": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIyCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovCihmdW5jdGlvbihhLGQpe2lmKGEuY2xlYW5EYXRhKXt2YXIgYz1hLmNsZWFuRGF0YTthLmNsZWFuRGF0YT1mdW5jdGlvbihmKXtmb3IodmFyIGI9MCxkOyhkPWZbYl0pIT1udWxsO2IrKylhKGQpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKTtjKGYpfX1lbHNle3ZhciBiPWEuZm4ucmVtb3ZlO2EuZm4ucmVtb3ZlPWZ1bmN0aW9uKGYsYyl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2N8fCghZnx8YS5maWx0ZXIoZixbdGhpc10pLmxlbmd0aCkmJmEoIioiLHRoaXMpLmFkZChbdGhpc10pLmVhY2goZnVuY3Rpb24oKXthKHRoaXMpLnRyaWdnZXJIYW5kbGVyKCJyZW1vdmUiKX0pO3JldHVybiBiLmNhbGwoYSh0aGlzKSxmLGMpfSl9fWEud2lkZ2V0PWZ1bmN0aW9uKGIsYyxkKXt2YXIgaD1iLnNwbGl0KCIuIilbMF0saSxiPWIuc3BsaXQoIi4iKVsxXTtpPWgrIi0iK2I7aWYoIWQpZD1jLGM9YS5XaWRnZXQ7YS5leHByWyI6Il1baV09ZnVuY3Rpb24oYyl7cmV0dXJuISFhLmRhdGEoYywKYil9O2FbaF09YVtoXXx8e307YVtoXVtiXT1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTtjPW5ldyBjO2Mub3B0aW9ucz1hLmV4dGVuZCghMCx7fSxjLm9wdGlvbnMpO2FbaF1bYl0ucHJvdG90eXBlPWEuZXh0ZW5kKCEwLGMse25hbWVzcGFjZTpoLHdpZGdldE5hbWU6Yix3aWRnZXRFdmVudFByZWZpeDphW2hdW2JdLnByb3RvdHlwZS53aWRnZXRFdmVudFByZWZpeHx8Yix3aWRnZXRCYXNlQ2xhc3M6aX0sZCk7YS53aWRnZXQuYnJpZGdlKGIsYVtoXVtiXSl9O2Eud2lkZ2V0LmJyaWRnZT1mdW5jdGlvbihiLGMpe2EuZm5bYl09ZnVuY3Rpb24oZyl7dmFyIGg9dHlwZW9mIGc9PT0ic3RyaW5nIixpPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKSxrPXRoaXMsZz0haCYmaS5sZW5ndGg/YS5leHRlbmQuYXBwbHkobnVsbCxbITAsZ10uY29uY2F0KGkpKTpnO2lmKGgmJmcuY2hhckF0KDApPT09Il8iKXJldHVybiBrOwpoP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBjPWEuZGF0YSh0aGlzLGIpO2lmKCFjKXRocm93ImNhbm5vdCBjYWxsIG1ldGhvZHMgb24gIitiKyIgcHJpb3IgdG8gaW5pdGlhbGl6YXRpb247IGF0dGVtcHRlZCB0byBjYWxsIG1ldGhvZCAnIitnKyInIjtpZighYS5pc0Z1bmN0aW9uKGNbZ10pKXRocm93Im5vIHN1Y2ggbWV0aG9kICciK2crIicgZm9yICIrYisiIHdpZGdldCBpbnN0YW5jZSI7dmFyIGU9Y1tnXS5hcHBseShjLGkpO2lmKGUhPT1jJiZlIT09ZClyZXR1cm4gaz1lLCExfSk6dGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YS5kYXRhKHRoaXMsYik7ZD9kLm9wdGlvbihnfHx7fSkuX2luaXQoKTphLmRhdGEodGhpcyxiLG5ldyBjKGcsdGhpcykpfSk7cmV0dXJuIGt9fTthLldpZGdldD1mdW5jdGlvbihhLGIpe2FyZ3VtZW50cy5sZW5ndGgmJnRoaXMuX2NyZWF0ZVdpZGdldChhLGIpfTthLldpZGdldC5wcm90b3R5cGU9e3dpZGdldE5hbWU6IndpZGdldCIsd2lkZ2V0RXZlbnRQcmVmaXg6IiIsCm9wdGlvbnM6e2Rpc2FibGVkOiExfSxfY3JlYXRlV2lkZ2V0OmZ1bmN0aW9uKGIsYyl7YS5kYXRhKGMsdGhpcy53aWRnZXROYW1lLHRoaXMpO3RoaXMuZWxlbWVudD1hKGMpO3RoaXMub3B0aW9ucz1hLmV4dGVuZCghMCx7fSx0aGlzLm9wdGlvbnMsdGhpcy5fZ2V0Q3JlYXRlT3B0aW9ucygpLGIpO3ZhciBkPXRoaXM7dGhpcy5lbGVtZW50LmJpbmQoInJlbW92ZS4iK3RoaXMud2lkZ2V0TmFtZSxmdW5jdGlvbigpe2QuZGVzdHJveSgpfSk7dGhpcy5fY3JlYXRlKCk7dGhpcy5fdHJpZ2dlcigiY3JlYXRlIik7dGhpcy5faW5pdCgpfSxfZ2V0Q3JlYXRlT3B0aW9uczpmdW5jdGlvbigpe3ZhciBiPXt9O2EubWV0YWRhdGEmJihiPWEubWV0YWRhdGEuZ2V0KGVsZW1lbnQpW3RoaXMud2lkZ2V0TmFtZV0pO3JldHVybiBifSxfY3JlYXRlOmZ1bmN0aW9uKCl7fSxfaW5pdDpmdW5jdGlvbigpe30sZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC51bmJpbmQoIi4iK3RoaXMud2lkZ2V0TmFtZSkucmVtb3ZlRGF0YSh0aGlzLndpZGdldE5hbWUpOwp0aGlzLndpZGdldCgpLnVuYmluZCgiLiIrdGhpcy53aWRnZXROYW1lKS5yZW1vdmVBdHRyKCJhcmlhLWRpc2FibGVkIikucmVtb3ZlQ2xhc3ModGhpcy53aWRnZXRCYXNlQ2xhc3MrIi1kaXNhYmxlZCB1aS1zdGF0ZS1kaXNhYmxlZCIpfSx3aWRnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lbGVtZW50fSxvcHRpb246ZnVuY3Rpb24oYixjKXt2YXIgZz1iO2lmKGFyZ3VtZW50cy5sZW5ndGg9PT0wKXJldHVybiBhLmV4dGVuZCh7fSx0aGlzLm9wdGlvbnMpO2lmKHR5cGVvZiBiPT09InN0cmluZyIpe2lmKGM9PT1kKXJldHVybiB0aGlzLm9wdGlvbnNbYl07Zz17fTtnW2JdPWN9dGhpcy5fc2V0T3B0aW9ucyhnKTtyZXR1cm4gdGhpc30sX3NldE9wdGlvbnM6ZnVuY3Rpb24oYil7dmFyIGM9dGhpczthLmVhY2goYixmdW5jdGlvbihhLGIpe2MuX3NldE9wdGlvbihhLGIpfSk7cmV0dXJuIHRoaXN9LF9zZXRPcHRpb246ZnVuY3Rpb24oYSxiKXt0aGlzLm9wdGlvbnNbYV09YjthPT09ImRpc2FibGVkIiYmCnRoaXMud2lkZ2V0KClbYj8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKHRoaXMud2lkZ2V0QmFzZUNsYXNzKyItZGlzYWJsZWQgdWktc3RhdGUtZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIixiKTtyZXR1cm4gdGhpc30sZW5hYmxlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCExKX0sZGlzYWJsZTpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9LF90cmlnZ2VyOmZ1bmN0aW9uKGIsYyxkKXt2YXIgaD10aGlzLm9wdGlvbnNbYl0sYz1hLkV2ZW50KGMpO2MudHlwZT0oYj09PXRoaXMud2lkZ2V0RXZlbnRQcmVmaXg/Yjp0aGlzLndpZGdldEV2ZW50UHJlZml4K2IpLnRvTG93ZXJDYXNlKCk7ZD1kfHx7fTtpZihjLm9yaWdpbmFsRXZlbnQpZm9yKHZhciBiPWEuZXZlbnQucHJvcHMubGVuZ3RoLGk7YjspaT1hLmV2ZW50LnByb3BzWy0tYl0sY1tpXT1jLm9yaWdpbmFsRXZlbnRbaV07dGhpcy5lbGVtZW50LnRyaWdnZXIoYywKZCk7cmV0dXJuIShhLmlzRnVuY3Rpb24oaCkmJmguY2FsbCh0aGlzLmVsZW1lbnRbMF0sYyxkKT09PSExfHxjLmlzRGVmYXVsdFByZXZlbnRlZCgpKX19fSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLndpZGdldCIse19nZXRDcmVhdGVPcHRpb25zOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9e307YS5lYWNoKHRoaXMub3B0aW9ucyxmdW5jdGlvbihhKXt2YXIgZT1jLmpxbURhdGEoYS5yZXBsYWNlKC9bQS1aXS9nLGZ1bmN0aW9uKGEpe3JldHVybiItIithLnRvTG93ZXJDYXNlKCl9KSk7ZSE9PWQmJihiW2FdPWUpfSk7cmV0dXJuIGJ9fSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YSh3aW5kb3cpO3ZhciBkPWEoImh0bWwiKTthLm1vYmlsZS5tZWRpYT1mdW5jdGlvbigpe3ZhciBjPXt9LGI9YSgiPGRpdiBpZD0nanF1ZXJ5LW1lZGlhdGVzdCc+IiksZj1hKCI8Ym9keT4iKS5hcHBlbmQoYik7cmV0dXJuIGZ1bmN0aW9uKGEpe2lmKCEoYSBpbiBjKSl7dmFyIGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxoPSJAbWVkaWEgIithKyIgeyAjanF1ZXJ5LW1lZGlhdGVzdCB7IHBvc2l0aW9uOmFic29sdXRlOyB9IH0iO2cudHlwZT0idGV4dC9jc3MiO2cuc3R5bGVTaGVldD9nLnN0eWxlU2hlZXQuY3NzVGV4dD1oOmcuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoaCkpO2QucHJlcGVuZChmKS5wcmVwZW5kKGcpO2NbYV09Yi5jc3MoInBvc2l0aW9uIik9PT0iYWJzb2x1dGUiO2YuYWRkKGcpLnJlbW92ZSgpfXJldHVybiBjW2FdfX0oKX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Z1bmN0aW9uIGMoYSl7dmFyIGI9YS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSthLnN1YnN0cigxKSxhPShhKyIgIitlLmpvaW4oYisiICIpK2IpLnNwbGl0KCIgIiksYztmb3IoYyBpbiBhKWlmKGZbY10hPT1kKXJldHVybiEwfXZhciBiPWEoIjxib2R5PiIpLnByZXBlbmRUbygiaHRtbCIpLGY9YlswXS5zdHlsZSxlPVsid2Via2l0IiwibW96IiwibyJdLGc9InBhbG1HZXRSZXNvdXJjZSJpbiB3aW5kb3csaD13aW5kb3cuYmxhY2tiZXJyeTthLm1vYmlsZS5icm93c2VyPXt9O2EubW9iaWxlLmJyb3dzZXIuaWU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MyxiPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGM9Yi5hbGx8fFtdO2IuaW5uZXJIVE1MPSI8XCEtLVtpZiBndCBJRSAiKyArK2ErIl0+PGJyPjwhW2VuZGlmXS0tXD4iLGNbMF07KTtyZXR1cm4gYT40P2E6IWF9KCk7YS5leHRlbmQoYS5zdXBwb3J0LHtvcmllbnRhdGlvbjoib3JpZW50YXRpb24iaW4Kd2luZG93LHRvdWNoOiJvbnRvdWNoZW5kImluIGRvY3VtZW50LGNzc1RyYW5zaXRpb25zOiJXZWJLaXRUcmFuc2l0aW9uRXZlbnQiaW4gd2luZG93LHB1c2hTdGF0ZTohIWhpc3RvcnkucHVzaFN0YXRlLG1lZGlhcXVlcnk6YS5tb2JpbGUubWVkaWEoIm9ubHkgYWxsIiksY3NzUHNldWRvRWxlbWVudDohIWMoImNvbnRlbnQiKSxib3hTaGFkb3c6ISFjKCJib3hTaGFkb3ciKSYmIWgsc2Nyb2xsVG9wOigicGFnZVhPZmZzZXQiaW4gd2luZG93fHwic2Nyb2xsVG9wImluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudHx8InNjcm9sbFRvcCJpbiBiWzBdKSYmIWcsZHluYW1pY0Jhc2VUYWc6ZnVuY3Rpb24oKXt2YXIgYz1sb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUrInVpLWRpci8iLGY9YSgiaGVhZCBiYXNlIiksZD1udWxsLGU9IiIsZztmLmxlbmd0aD9lPWYuYXR0cigiaHJlZiIpOmY9ZD1hKCI8YmFzZT4iLHtocmVmOmN9KS5hcHBlbmRUbygiaGVhZCIpOwpnPWEoIjxhIGhyZWY9J3Rlc3R1cmwnPjwvYT4iKS5wcmVwZW5kVG8oYilbMF0uaHJlZjtmWzBdLmhyZWY9ZT9lOmxvY2F0aW9uLnBhdGhuYW1lO2QmJmQucmVtb3ZlKCk7cmV0dXJuIGcuaW5kZXhPZihjKT09PTB9KCksZXZlbnRDYXB0dXJlOiJhZGRFdmVudExpc3RlbmVyImluIGRvY3VtZW50fSk7Yi5yZW1vdmUoKTtnPWZ1bmN0aW9uKCl7dmFyIGE9d2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQ7cmV0dXJuIGEuaW5kZXhPZigiTm9raWEiKT4tMSYmKGEuaW5kZXhPZigiU3ltYmlhbi8zIik+LTF8fGEuaW5kZXhPZigiU2VyaWVzNjAvNSIpPi0xKSYmYS5pbmRleE9mKCJBcHBsZVdlYktpdCIpPi0xJiZhLm1hdGNoKC8oQnJvd3Nlck5HfE5va2lhQnJvd3NlcilcLzdcLlswLTNdLyl9KCk7YS5tb2JpbGUuYWpheEJsYWNrbGlzdD13aW5kb3cuYmxhY2tiZXJyeSYmIXdpbmRvdy5XZWJLaXRQb2ludHx8d2luZG93Lm9wZXJhbWluaSYmT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdpbmRvdy5vcGVyYW1pbmkpPT09CiJbb2JqZWN0IE9wZXJhTWluaV0ifHxnO2cmJmEoZnVuY3Rpb24oKXthKCJoZWFkIGxpbmtbcmVsPXN0eWxlc2hlZXRdIikuYXR0cigicmVsIiwiYWx0ZXJuYXRlIHN0eWxlc2hlZXQiKS5hdHRyKCJyZWwiLCJzdHlsZXNoZWV0Iil9KTthLnN1cHBvcnQuYm94U2hhZG93fHxhKCJodG1sIikuYWRkQ2xhc3MoInVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93Iil9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkLGMsYil7ZnVuY3Rpb24gZihhKXtmb3IoO2EmJnR5cGVvZiBhLm9yaWdpbmFsRXZlbnQhPT0idW5kZWZpbmVkIjspYT1hLm9yaWdpbmFsRXZlbnQ7cmV0dXJuIGF9ZnVuY3Rpb24gZShiKXtmb3IodmFyIGM9e30sZixkO2I7KXtmPWEuZGF0YShiLG4pO2ZvcihkIGluIGYpaWYoZltkXSljW2RdPWMuaGFzVmlydHVhbEJpbmRpbmc9ITA7Yj1iLnBhcmVudE5vZGV9cmV0dXJuIGN9ZnVuY3Rpb24gZygpe3YmJihjbGVhclRpbWVvdXQodiksdj0wKTt2PXNldFRpbWVvdXQoZnVuY3Rpb24oKXtCPXY9MDtBLmxlbmd0aD0wO3c9ITE7cj0hMH0sYS52bW91c2UucmVzZXRUaW1lckR1cmF0aW9uKX1mdW5jdGlvbiBoKGMsZCxyKXt2YXIgZT0hMSxnO2lmKCEoZz1yJiZyW2NdKSl7aWYocj0hcilhOntmb3Iocj1kLnRhcmdldDtyOyl7aWYoKGc9YS5kYXRhKHIsbikpJiYoIWN8fGdbY10pKWJyZWFrIGE7cj1yLnBhcmVudE5vZGV9cj1udWxsfWc9cn1pZihnKXt2YXIgZT1kLHI9CmUudHlwZSxqLGgsZT1hLkV2ZW50KGUpO2UudHlwZT1jO2c9ZS5vcmlnaW5hbEV2ZW50O2o9YS5ldmVudC5wcm9wcztpZihnKWZvcihoPWoubGVuZ3RoO2g7KWM9alstLWhdLGVbY109Z1tjXTtpZihyLnNlYXJjaCgvXnRvdWNoLykhPT0tMSYmKGM9ZihnKSxyPWMudG91Y2hlcyxjPWMuY2hhbmdlZFRvdWNoZXMscj1yJiZyLmxlbmd0aD9yWzBdOmMmJmMubGVuZ3RoP2NbMF06Yikpe2c9MDtmb3IobGVuPXoubGVuZ3RoO2c8bGVuO2crKyljPXpbZ10sZVtjXT1yW2NdfWEoZC50YXJnZXQpLnRyaWdnZXIoZSk7ZT1lLmlzRGVmYXVsdFByZXZlbnRlZCgpfXJldHVybiBlfWZ1bmN0aW9uIGkoYil7dmFyIGM9YS5kYXRhKGIudGFyZ2V0LHgpOyF3JiYoIUJ8fEIhPT1jKSYmaCgidiIrYi50eXBlLGIpfWZ1bmN0aW9uIGsoYil7dmFyIGM9ZihiKS50b3VjaGVzLGQ7aWYoYyYmYy5sZW5ndGg9PT0xJiYoZD1iLnRhcmdldCxjPWUoZCksYy5oYXNWaXJ0dWFsQmluZGluZykpQj1GKyssYS5kYXRhKGQsCngsQiksdiYmKGNsZWFyVGltZW91dCh2KSx2PTApLHM9cj0hMSxkPWYoYikudG91Y2hlc1swXSx5PWQucGFnZVgsdT1kLnBhZ2VZLGgoInZtb3VzZW92ZXIiLGIsYyksaCgidm1vdXNlZG93biIsYixjKX1mdW5jdGlvbiBsKGEpe3J8fChzfHxoKCJ2bW91c2VjYW5jZWwiLGEsZShhLnRhcmdldCkpLHM9ITAsZygpKX1mdW5jdGlvbiBtKGIpe2lmKCFyKXt2YXIgYz1mKGIpLnRvdWNoZXNbMF0sZD1zLGo9YS52bW91c2UubW92ZURpc3RhbmNlVGhyZXNob2xkO3M9c3x8TWF0aC5hYnMoYy5wYWdlWC15KT5qfHxNYXRoLmFicyhjLnBhZ2VZLXUpPmo7ZmxhZ3M9ZShiLnRhcmdldCk7cyYmIWQmJmgoInZtb3VzZWNhbmNlbCIsYixmbGFncyk7aCgidm1vdXNlbW92ZSIsYixmbGFncyk7ZygpfX1mdW5jdGlvbiBwKGEpe2lmKCFyKXtyPSEwO3ZhciBiPWUoYS50YXJnZXQpLGM7aCgidm1vdXNldXAiLGEsYik7IXMmJmgoInZjbGljayIsYSxiKSYmKGM9ZihhKS5jaGFuZ2VkVG91Y2hlc1swXSxBLnB1c2goe3RvdWNoSUQ6QiwKeDpjLmNsaWVudFgseTpjLmNsaWVudFl9KSx3PSEwKTtoKCJ2bW91c2VvdXQiLGEsYik7cz0hMTtnKCl9fWZ1bmN0aW9uIG8oYil7dmFyIGI9YS5kYXRhKGIsbiksYztpZihiKWZvcihjIGluIGIpaWYoYltjXSlyZXR1cm4hMDtyZXR1cm4hMX1mdW5jdGlvbiBqKCl7fWZ1bmN0aW9uIHEoYil7dmFyIGM9Yi5zdWJzdHIoMSk7cmV0dXJue3NldHVwOmZ1bmN0aW9uKCl7byh0aGlzKXx8YS5kYXRhKHRoaXMsbix7fSk7YS5kYXRhKHRoaXMsbilbYl09ITA7dFtiXT0odFtiXXx8MCkrMTt0W2JdPT09MSYmQy5iaW5kKGMsaSk7YSh0aGlzKS5iaW5kKGMsaik7aWYoRSl0LnRvdWNoc3RhcnQ9KHQudG91Y2hzdGFydHx8MCkrMSx0LnRvdWNoc3RhcnQ9PT0xJiZDLmJpbmQoInRvdWNoc3RhcnQiLGspLmJpbmQoInRvdWNoZW5kIixwKS5iaW5kKCJ0b3VjaG1vdmUiLG0pLmJpbmQoInNjcm9sbCIsbCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7LS10W2JdO3RbYl18fEMudW5iaW5kKGMsaSk7RSYmKC0tdC50b3VjaHN0YXJ0LAp0LnRvdWNoc3RhcnR8fEMudW5iaW5kKCJ0b3VjaHN0YXJ0IixrKS51bmJpbmQoInRvdWNobW92ZSIsbSkudW5iaW5kKCJ0b3VjaGVuZCIscCkudW5iaW5kKCJzY3JvbGwiLGwpKTt2YXIgZj1hKHRoaXMpLGQ9YS5kYXRhKHRoaXMsbik7ZCYmKGRbYl09ITEpO2YudW5iaW5kKGMsaik7byh0aGlzKXx8Zi5yZW1vdmVEYXRhKG4pfX19dmFyIG49InZpcnR1YWxNb3VzZUJpbmRpbmdzIix4PSJ2aXJ0dWFsVG91Y2hJRCIsZD0idm1vdXNlb3ZlciB2bW91c2Vkb3duIHZtb3VzZW1vdmUgdm1vdXNldXAgdmNsaWNrIHZtb3VzZW91dCB2bW91c2VjYW5jZWwiLnNwbGl0KCIgIiksej0iY2xpZW50WCBjbGllbnRZIHBhZ2VYIHBhZ2VZIHNjcmVlblggc2NyZWVuWSIuc3BsaXQoIiAiKSx0PXt9LHY9MCx5PTAsdT0wLHM9ITEsQT1bXSx3PSExLHI9ITEsRT1hLnN1cHBvcnQuZXZlbnRDYXB0dXJlLEM9YShjKSxGPTEsQj0wO2Eudm1vdXNlPXttb3ZlRGlzdGFuY2VUaHJlc2hvbGQ6MTAsY2xpY2tEaXN0YW5jZVRocmVzaG9sZDoxMCwKcmVzZXRUaW1lckR1cmF0aW9uOjE1MDB9O2Zvcih2YXIgRD0wO0Q8ZC5sZW5ndGg7RCsrKWEuZXZlbnQuc3BlY2lhbFtkW0RdXT1xKGRbRF0pO0UmJmMuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGZ1bmN0aW9uKGIpe3ZhciBjPUEubGVuZ3RoLGY9Yi50YXJnZXQsZCxyLGUsZyxqO2lmKGMpe2Q9Yi5jbGllbnRYO3I9Yi5jbGllbnRZO3RocmVzaG9sZD1hLnZtb3VzZS5jbGlja0Rpc3RhbmNlVGhyZXNob2xkO2ZvcihlPWY7ZTspe2ZvcihnPTA7ZzxjO2crKylpZihqPUFbZ10sZT09PWYmJk1hdGguYWJzKGoueC1kKTx0aHJlc2hvbGQmJk1hdGguYWJzKGoueS1yKTx0aHJlc2hvbGR8fGEuZGF0YShlLHgpPT09ai50b3VjaElEKXtiLnByZXZlbnREZWZhdWx0KCk7Yi5zdG9wUHJvcGFnYXRpb24oKTtyZXR1cm59ZT1lLnBhcmVudE5vZGV9fX0sITApfSkoalF1ZXJ5LHdpbmRvdyxkb2N1bWVudCk7CihmdW5jdGlvbihhLGQsYyl7ZnVuY3Rpb24gYihiLGMsZil7dmFyIGQ9Zi50eXBlO2YudHlwZT1jO2EuZXZlbnQuaGFuZGxlLmNhbGwoYixmKTtmLnR5cGU9ZH1hLmVhY2goInRvdWNoc3RhcnQgdG91Y2htb3ZlIHRvdWNoZW5kIG9yaWVudGF0aW9uY2hhbmdlIHRocm90dGxlZHJlc2l6ZSB0YXAgdGFwaG9sZCBzd2lwZSBzd2lwZWxlZnQgc3dpcGVyaWdodCBzY3JvbGxzdGFydCBzY3JvbGxzdG9wIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGIsYyl7YS5mbltjXT1mdW5jdGlvbihhKXtyZXR1cm4gYT90aGlzLmJpbmQoYyxhKTp0aGlzLnRyaWdnZXIoYyl9O2EuYXR0ckZuW2NdPSEwfSk7dmFyIGY9YS5zdXBwb3J0LnRvdWNoLGU9Zj8idG91Y2hzdGFydCI6Im1vdXNlZG93biIsZz1mPyJ0b3VjaGVuZCI6Im1vdXNldXAiLGg9Zj8idG91Y2htb3ZlIjoibW91c2Vtb3ZlIjthLmV2ZW50LnNwZWNpYWwuc2Nyb2xsc3RhcnQ9e2VuYWJsZWQ6ITAsc2V0dXA6ZnVuY3Rpb24oKXtmdW5jdGlvbiBjKGEsCmUpe2Q9ZTtiKGYsZD8ic2Nyb2xsc3RhcnQiOiJzY3JvbGxzdG9wIixhKX12YXIgZj10aGlzLGQsZTthKGYpLmJpbmQoInRvdWNobW92ZSBzY3JvbGwiLGZ1bmN0aW9uKGIpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkJiYoZHx8YyhiLCEwKSxjbGVhclRpbWVvdXQoZSksZT1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YyhiLCExKX0sNTApKX0pfX07YS5ldmVudC5zcGVjaWFsLnRhcD17c2V0dXA6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLGY9YShjKTtmLmJpbmQoInZtb3VzZWRvd24iLGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoKXtnPSExO2NsZWFyVGltZW91dChoKTtmLnVuYmluZCgidmNsaWNrIixlKS51bmJpbmQoInZtb3VzZWNhbmNlbCIsZCl9ZnVuY3Rpb24gZShhKXtkKCk7aj09YS50YXJnZXQmJmIoYywidGFwIixhKX1pZihhLndoaWNoJiZhLndoaWNoIT09MSlyZXR1cm4hMTt2YXIgZz0hMCxqPWEudGFyZ2V0LGg7Zi5iaW5kKCJ2bW91c2VjYW5jZWwiLGQpLmJpbmQoInZjbGljayIsCmUpO2g9c2V0VGltZW91dChmdW5jdGlvbigpe2cmJmIoYywidGFwaG9sZCIsYSl9LDc1MCl9KX19O2EuZXZlbnQuc3BlY2lhbC5zd2lwZT17c2Nyb2xsU3VwcmVzc2lvblRocmVzaG9sZDoxMCxkdXJhdGlvblRocmVzaG9sZDoxRTMsaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkOjMwLHZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQ6NzUsc2V0dXA6ZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuYmluZChlLGZ1bmN0aW9uKGYpe2Z1bmN0aW9uIGQoYil7aWYocCl7dmFyIGM9Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXM/Yi5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF06YjtvPXt0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpLGNvb3JkczpbYy5wYWdlWCxjLnBhZ2VZXX07TWF0aC5hYnMocC5jb29yZHNbMF0tby5jb29yZHNbMF0pPmEuZXZlbnQuc3BlY2lhbC5zd2lwZS5zY3JvbGxTdXByZXNzaW9uVGhyZXNob2xkJiZiLnByZXZlbnREZWZhdWx0KCl9fXZhciBlPWYub3JpZ2luYWxFdmVudC50b3VjaGVzPwpmLm9yaWdpbmFsRXZlbnQudG91Y2hlc1swXTpmLHA9e3RpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCksY29vcmRzOltlLnBhZ2VYLGUucGFnZVldLG9yaWdpbjphKGYudGFyZ2V0KX0sbztiLmJpbmQoaCxkKS5vbmUoZyxmdW5jdGlvbigpe2IudW5iaW5kKGgsZCk7cCYmbyYmby50aW1lLXAudGltZTxhLmV2ZW50LnNwZWNpYWwuc3dpcGUuZHVyYXRpb25UaHJlc2hvbGQmJk1hdGguYWJzKHAuY29vcmRzWzBdLW8uY29vcmRzWzBdKT5hLmV2ZW50LnNwZWNpYWwuc3dpcGUuaG9yaXpvbnRhbERpc3RhbmNlVGhyZXNob2xkJiZNYXRoLmFicyhwLmNvb3Jkc1sxXS1vLmNvb3Jkc1sxXSk8YS5ldmVudC5zcGVjaWFsLnN3aXBlLnZlcnRpY2FsRGlzdGFuY2VUaHJlc2hvbGQmJnAub3JpZ2luLnRyaWdnZXIoInN3aXBlIikudHJpZ2dlcihwLmNvb3Jkc1swXT5vLmNvb3Jkc1swXT8ic3dpcGVsZWZ0Ijoic3dpcGVyaWdodCIpO3A9bz1jfSl9KX19OyhmdW5jdGlvbihhLGIpe2Z1bmN0aW9uIGMoKXt2YXIgYT0KZCgpO2EhPT1lJiYoZT1hLGYudHJpZ2dlcigib3JpZW50YXRpb25jaGFuZ2UiKSl9dmFyIGY9YShiKSxkLGU7YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlPXtzZXR1cDpmdW5jdGlvbigpe2lmKGEuc3VwcG9ydC5vcmllbnRhdGlvbilyZXR1cm4hMTtlPWQoKTtmLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsYyl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoYS5zdXBwb3J0Lm9yaWVudGF0aW9uKXJldHVybiExO2YudW5iaW5kKCJ0aHJvdHRsZWRyZXNpemUiLGMpfSxhZGQ6ZnVuY3Rpb24oYSl7dmFyIGI9YS5oYW5kbGVyO2EuaGFuZGxlcj1mdW5jdGlvbihhKXthLm9yaWVudGF0aW9uPWQoKTtyZXR1cm4gYi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fX07YS5ldmVudC5zcGVjaWFsLm9yaWVudGF0aW9uY2hhbmdlLm9yaWVudGF0aW9uPWQ9ZnVuY3Rpb24oKXt2YXIgYT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7cmV0dXJuIGEmJmEuY2xpZW50V2lkdGgvYS5jbGllbnRIZWlnaHQ8CjEuMT8icG9ydHJhaXQiOiJsYW5kc2NhcGUifX0pKGpRdWVyeSxkKTsoZnVuY3Rpb24oKXthLmV2ZW50LnNwZWNpYWwudGhyb3R0bGVkcmVzaXplPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZCgicmVzaXplIixiKX0sdGVhcmRvd246ZnVuY3Rpb24oKXthKHRoaXMpLnVuYmluZCgicmVzaXplIixiKX19O3ZhciBiPWZ1bmN0aW9uKCl7ZD0obmV3IERhdGUpLmdldFRpbWUoKTtlPWQtYztlPj0yNTA/KGM9ZCxhKHRoaXMpLnRyaWdnZXIoInRocm90dGxlZHJlc2l6ZSIpKTooZiYmY2xlYXJUaW1lb3V0KGYpLGY9c2V0VGltZW91dChiLDI1MC1lKSl9LGM9MCxmLGQsZX0pKCk7YS5lYWNoKHtzY3JvbGxzdG9wOiJzY3JvbGxzdGFydCIsdGFwaG9sZDoidGFwIixzd2lwZWxlZnQ6InN3aXBlIixzd2lwZXJpZ2h0OiJzd2lwZSJ9LGZ1bmN0aW9uKGIsYyl7YS5ldmVudC5zcGVjaWFsW2JdPXtzZXR1cDpmdW5jdGlvbigpe2EodGhpcykuYmluZChjLGEubm9vcCl9fX0pfSkoalF1ZXJ5LAp0aGlzKTsKKGZ1bmN0aW9uKGEsZCxjKXtmdW5jdGlvbiBiKGEpe2E9YXx8bG9jYXRpb24uaHJlZjtyZXR1cm4iIyIrYS5yZXBsYWNlKC9eW14jXSojPyguKikkLywiJDEiKX12YXIgZj0iaGFzaGNoYW5nZSIsZT1kb2N1bWVudCxnLGg9YS5ldmVudC5zcGVjaWFsLGk9ZS5kb2N1bWVudE1vZGUsaz0ib24iK2YgaW4gZCYmKGk9PT1jfHxpPjcpO2EuZm5bZl09ZnVuY3Rpb24oYSl7cmV0dXJuIGE/dGhpcy5iaW5kKGYsYSk6dGhpcy50cmlnZ2VyKGYpfTthLmZuW2ZdLmRlbGF5PTUwO2hbZl09YS5leHRlbmQoaFtmXSx7c2V0dXA6ZnVuY3Rpb24oKXtpZihrKXJldHVybiExO2EoZy5zdGFydCl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7aWYoaylyZXR1cm4hMTthKGcuc3RvcCl9fSk7Zz1mdW5jdGlvbigpe2Z1bmN0aW9uIGcoKXt2YXIgYz1iKCksZT1uKG8pO2lmKGMhPT1vKXEobz1jLGUpLGEoZCkudHJpZ2dlcihmKTtlbHNlIGlmKGUhPT1vKWxvY2F0aW9uLmhyZWY9bG9jYXRpb24uaHJlZi5yZXBsYWNlKC8jLiovLCIiKSsKZTtpPXNldFRpbWVvdXQoZyxhLmZuW2ZdLmRlbGF5KX12YXIgaD17fSxpLG89YigpLGo9ZnVuY3Rpb24oYSl7cmV0dXJuIGF9LHE9aixuPWo7aC5zdGFydD1mdW5jdGlvbigpe2l8fGcoKX07aC5zdG9wPWZ1bmN0aW9uKCl7aSYmY2xlYXJUaW1lb3V0KGkpO2k9Y307YS5icm93c2VyLm1zaWUmJiFrJiZmdW5jdGlvbigpe3ZhciBjLGQ7aC5zdGFydD1mdW5jdGlvbigpe2lmKCFjKWQ9KGQ9YS5mbltmXS5zcmMpJiZkK2IoKSxjPWEoJzxpZnJhbWUgdGFiaW5kZXg9Ii0xIiB0aXRsZT0iZW1wdHkiLz4nKS5oaWRlKCkub25lKCJsb2FkIixmdW5jdGlvbigpe2R8fHEoYigpKTtnKCl9KS5hdHRyKCJzcmMiLGR8fCJqYXZhc2NyaXB0OjAiKS5pbnNlcnRBZnRlcigiYm9keSIpWzBdLmNvbnRlbnRXaW5kb3csZS5vbnByb3BlcnR5Y2hhbmdlPWZ1bmN0aW9uKCl7dHJ5e2lmKGV2ZW50LnByb3BlcnR5TmFtZT09PSJ0aXRsZSIpYy5kb2N1bWVudC50aXRsZT1lLnRpdGxlfWNhdGNoKGEpe319fTtoLnN0b3A9Cmo7bj1mdW5jdGlvbigpe3JldHVybiBiKGMubG9jYXRpb24uaHJlZil9O3E9ZnVuY3Rpb24oYixkKXt2YXIgZz1jLmRvY3VtZW50LGg9YS5mbltmXS5kb21haW47aWYoYiE9PWQpZy50aXRsZT1lLnRpdGxlLGcub3BlbigpLGgmJmcud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuZG9tYWluPSInK2grJyI8XC9zY3JpcHQ+JyksZy5jbG9zZSgpLGMubG9jYXRpb24uaGFzaD1ifX0oKTtyZXR1cm4gaH0oKX0pKGpRdWVyeSx0aGlzKTsoZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5wYWdlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOiJjIixkb21DYWNoZTohMX0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXMuZWxlbWVudCxjPXRoaXMub3B0aW9uczt0aGlzLl90cmlnZ2VyKCJiZWZvcmVDcmVhdGUiKSE9PSExJiZhLmFkZENsYXNzKCJ1aS1wYWdlIHVpLWJvZHktIitjLnRoZW1lKX19KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2EuZXh0ZW5kKGEubW9iaWxlLHtuczoiIixzdWJQYWdlVXJsS2V5OiJ1aS1wYWdlIixhY3RpdmVQYWdlQ2xhc3M6InVpLXBhZ2UtYWN0aXZlIixhY3RpdmVCdG5DbGFzczoidWktYnRuLWFjdGl2ZSIsYWpheEVuYWJsZWQ6ITAsaGFzaExpc3RlbmluZ0VuYWJsZWQ6ITAsZGVmYXVsdFBhZ2VUcmFuc2l0aW9uOiJzbGlkZSIsbWluU2Nyb2xsQmFjazpzY3JlZW4uaGVpZ2h0LzIsZGVmYXVsdERpYWxvZ1RyYW5zaXRpb246InBvcCIsbG9hZGluZ01lc3NhZ2U6ImxvYWRpbmciLHBhZ2VMb2FkRXJyb3JNZXNzYWdlOiJFcnJvciBMb2FkaW5nIFBhZ2UiLGF1dG9Jbml0aWFsaXplUGFnZTohMCxncmFkZUE6ZnVuY3Rpb24oKXtyZXR1cm4gYS5zdXBwb3J0Lm1lZGlhcXVlcnl8fGEubW9iaWxlLmJyb3dzZXIuaWUmJmEubW9iaWxlLmJyb3dzZXIuaWU+PTd9LGtleUNvZGU6e0FMVDoxOCxCQUNLU1BBQ0U6OCxDQVBTX0xPQ0s6MjAsQ09NTUE6MTg4LENPTU1BTkQ6OTEsQ09NTUFORF9MRUZUOjkxLApDT01NQU5EX1JJR0hUOjkzLENPTlRST0w6MTcsREVMRVRFOjQ2LERPV046NDAsRU5EOjM1LEVOVEVSOjEzLEVTQ0FQRToyNyxIT01FOjM2LElOU0VSVDo0NSxMRUZUOjM3LE1FTlU6OTMsTlVNUEFEX0FERDoxMDcsTlVNUEFEX0RFQ0lNQUw6MTEwLE5VTVBBRF9ESVZJREU6MTExLE5VTVBBRF9FTlRFUjoxMDgsTlVNUEFEX01VTFRJUExZOjEwNixOVU1QQURfU1VCVFJBQ1Q6MTA5LFBBR0VfRE9XTjozNCxQQUdFX1VQOjMzLFBFUklPRDoxOTAsUklHSFQ6MzksU0hJRlQ6MTYsU1BBQ0U6MzIsVEFCOjksVVA6MzgsV0lORE9XUzo5MX0sc2lsZW50U2Nyb2xsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKSE9PSJudW1iZXIiKWI9YS5tb2JpbGUuZGVmYXVsdEhvbWVTY3JvbGw7YS5ldmVudC5zcGVjaWFsLnNjcm9sbHN0YXJ0LmVuYWJsZWQ9ITE7c2V0VGltZW91dChmdW5jdGlvbigpe2Quc2Nyb2xsVG8oMCxiKTthKGRvY3VtZW50KS50cmlnZ2VyKCJzaWxlbnRzY3JvbGwiLHt4OjAseTpifSl9LAoyMCk7c2V0VGltZW91dChmdW5jdGlvbigpe2EuZXZlbnQuc3BlY2lhbC5zY3JvbGxzdGFydC5lbmFibGVkPSEwfSwxNTApfSxuc05vcm1hbGl6ZTpmdW5jdGlvbihiKXtpZihiKXJldHVybiBhLmNhbWVsQ2FzZShhLm1vYmlsZS5ucytiKX19KTthLmZuLmpxbURhdGE9ZnVuY3Rpb24oYixjKXtyZXR1cm4gdGhpcy5kYXRhKGI/YS5tb2JpbGUubnNOb3JtYWxpemUoYik6YixjKX07YS5qcW1EYXRhPWZ1bmN0aW9uKGIsYyxkKXtyZXR1cm4gYS5kYXRhKGIsYS5tb2JpbGUubnNOb3JtYWxpemUoYyksZCl9O2EuZm4uanFtUmVtb3ZlRGF0YT1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5yZW1vdmVEYXRhKGEubW9iaWxlLm5zTm9ybWFsaXplKGIpKX07YS5qcW1SZW1vdmVEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEucmVtb3ZlRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07YS5qcW1IYXNEYXRhPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuaGFzRGF0YShiLGEubW9iaWxlLm5zTm9ybWFsaXplKGMpKX07CnZhciBjPWEuZmluZDthLmZpbmQ9ZnVuY3Rpb24oYixkLGUsZyl7Yj1iLnJlcGxhY2UoLzpqcW1EYXRhXCgoW14pXSopXCkvZywiW2RhdGEtIisoYS5tb2JpbGUubnN8fCIiKSsiJDFdIik7cmV0dXJuIGMuY2FsbCh0aGlzLGIsZCxlLGcpfTthLmV4dGVuZChhLmZpbmQsYyk7YS5maW5kLm1hdGNoZXM9ZnVuY3Rpb24oYixjKXtyZXR1cm4gYS5maW5kKGIsbnVsbCxudWxsLGMpfTthLmZpbmQubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGIsYyl7cmV0dXJuIGEuZmluZChjLG51bGwsbnVsbCxbYl0pLmxlbmd0aD4wfX0pKGpRdWVyeSx0aGlzKTsKKGZ1bmN0aW9uKGEsZCl7ZnVuY3Rpb24gYyhhKXt2YXIgYj1hLmpxbURhdGEoImxhc3RDbGlja2VkIik7YiYmYi5sZW5ndGg/Yi5mb2N1cygpOihiPWEuZmluZCgiLnVpLXRpdGxlOmVxKDApIiksYi5sZW5ndGg/Yi5mb2N1cygpOmEuZmluZCh4KS5lcSgwKS5mb2N1cygpKX1mdW5jdGlvbiBiKGIpe3EmJighcS5jbG9zZXN0KCIudWktcGFnZS1hY3RpdmUiKS5sZW5ndGh8fGIpJiZxLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTtxPW51bGx9ZnVuY3Rpb24gZigpe3Q9ITE7ei5sZW5ndGg+MCYmYS5tb2JpbGUuY2hhbmdlUGFnZS5hcHBseShudWxsLHoucG9wKCkpfWZ1bmN0aW9uIGUoYixkLGYsZSl7dmFyIGg9YS5zdXBwb3J0LnNjcm9sbFRvcD9tLnNjcm9sbFRvcCgpOiEwLGo9Yi5kYXRhKCJsYXN0U2Nyb2xsIil8fGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsLGk9ZygpO2gmJndpbmRvdy5zY3JvbGxUbygwLGEubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsKTtqPAphLm1vYmlsZS5taW5TY3JvbGxCYWNrJiYoaj0wKTtkJiYoZC5oZWlnaHQoaStoKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixoKS5qcW1EYXRhKCJsYXN0Q2xpY2tlZCIscSksZC5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZWhpZGUiLG51bGwse25leHRQYWdlOmJ9KSk7Yi5oZWlnaHQoaStqKS5kYXRhKCJwYWdlIikuX3RyaWdnZXIoImJlZm9yZXNob3ciLG51bGwse3ByZXZQYWdlOmR8fGEoIiIpfSk7YS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCk7Zj0oYS5tb2JpbGUudHJhbnNpdGlvbkhhbmRsZXJzW2Z8fCJub25lIl18fGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcikoZixlLGIsZCk7Zi5kb25lKGZ1bmN0aW9uKCl7Yi5oZWlnaHQoIiIpO2o/KGEubW9iaWxlLnNpbGVudFNjcm9sbChqKSxhKGRvY3VtZW50KS5vbmUoInNpbGVudHNjcm9sbCIsZnVuY3Rpb24oKXtjKGIpfSkpOmMoYik7ZCYmZC5oZWlnaHQoIiIpLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigiaGlkZSIsCm51bGwse25leHRQYWdlOmJ9KTtiLmRhdGEoInBhZ2UiKS5fdHJpZ2dlcigic2hvdyIsbnVsbCx7cHJldlBhZ2U6ZHx8YSgiIil9KX0pO3JldHVybiBmfWZ1bmN0aW9uIGcoKXt2YXIgYj1qUXVlcnkuZXZlbnQuc3BlY2lhbC5vcmllbnRhdGlvbmNoYW5nZS5vcmllbnRhdGlvbigpPT09InBvcnRyYWl0IixjPWI/c2NyZWVuLmF2YWlsSGVpZ2h0OnNjcmVlbi5hdmFpbFdpZHRoLGI9TWF0aC5tYXgoYj80ODA6MzIwLGEod2luZG93KS5oZWlnaHQoKSk7cmV0dXJuIE1hdGgubWluKGMsYil9ZnVuY3Rpb24gaCgpe2EoIi4iK2EubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcykuY3NzKCJtaW4taGVpZ2h0IixnKCkpfWZ1bmN0aW9uIGkoYixjKXtjJiZiLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysicm9sZSIsYyk7Yi5wYWdlKCl9ZnVuY3Rpb24gayhhKXtmb3IoO2E7KXtpZihhLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PSJhIilicmVhazthPWEucGFyZW50Tm9kZX1yZXR1cm4gYX1mdW5jdGlvbiBsKGIpe3ZhciBiPQphKGIpLmNsb3Nlc3QoIi51aS1wYWdlIikuanFtRGF0YSgidXJsIiksYz1zLmhyZWZOb0hhc2g7aWYoIWJ8fCFqLmlzUGF0aChiKSliPWM7cmV0dXJuIGoubWFrZVVybEFic29sdXRlKGIsYyl9dmFyIG09YSh3aW5kb3cpLHA9YSgiaHRtbCIpLG89YSgiaGVhZCIpLGo9e3VybFBhcnNlUkU6L14oKCgoW146XC8jXD9dKzopPyg/OlwvXC8oKD86KChbXjpAXC8jXD9dKykoPzpcOihbXjpAXC8jXD9dKykpPylAKT8oKFteOlwvI1w/XSspKD86XDooWzAtOV0rKSk/KSk/KT8pPygoXC8/KD86W15cL1w/I10rXC8rKSopKFteXD8jXSopKSk/KFw/W14jXSspPykoIy4qKT8vLHBhcnNlVXJsOmZ1bmN0aW9uKGIpe2lmKGEudHlwZShiKT09PSJvYmplY3QiKXJldHVybiBiO3ZhciBiPWoudXJsUGFyc2VSRS5leGVjKGIpLGM7YiYmKGM9e2hyZWY6YlswXXx8IiIsaHJlZk5vSGFzaDpiWzFdfHwiIixocmVmTm9TZWFyY2g6YlsyXXx8IiIsZG9tYWluOmJbM118fCIiLHByb3RvY29sOmJbNF18fCIiLGF1dGhvcml0eTpiWzVdfHwKIiIsdXNlcm5hbWU6Yls3XXx8IiIscGFzc3dvcmQ6Yls4XXx8IiIsaG9zdDpiWzldfHwiIixob3N0bmFtZTpiWzEwXXx8IiIscG9ydDpiWzExXXx8IiIscGF0aG5hbWU6YlsxMl18fCIiLGRpcmVjdG9yeTpiWzEzXXx8IiIsZmlsZW5hbWU6YlsxNF18fCIiLHNlYXJjaDpiWzE1XXx8IiIsaGFzaDpiWzE2XXx8IiJ9KTtyZXR1cm4gY3x8e319LG1ha2VQYXRoQWJzb2x1dGU6ZnVuY3Rpb24oYSxiKXtpZihhJiZhLmNoYXJBdCgwKT09PSIvIilyZXR1cm4gYTtmb3IodmFyIGE9YXx8IiIsYz0oYj1iP2IucmVwbGFjZSgvXlwvfChcL1teXC9dKnxbXlwvXSspJC9nLCIiKToiIik/Yi5zcGxpdCgiLyIpOltdLGQ9YS5zcGxpdCgiLyIpLGY9MDtmPGQubGVuZ3RoO2YrKyl7dmFyIGU9ZFtmXTtzd2l0Y2goZSl7Y2FzZSAiLiI6YnJlYWs7Y2FzZSAiLi4iOmMubGVuZ3RoJiZjLnBvcCgpO2JyZWFrO2RlZmF1bHQ6Yy5wdXNoKGUpfX1yZXR1cm4iLyIrYy5qb2luKCIvIil9LGlzU2FtZURvbWFpbjpmdW5jdGlvbihhLApiKXtyZXR1cm4gai5wYXJzZVVybChhKS5kb21haW49PT1qLnBhcnNlVXJsKGIpLmRvbWFpbn0saXNSZWxhdGl2ZVVybDpmdW5jdGlvbihhKXtyZXR1cm4gai5wYXJzZVVybChhKS5wcm90b2NvbD09PSIifSxpc0Fic29sdXRlVXJsOmZ1bmN0aW9uKGEpe3JldHVybiBqLnBhcnNlVXJsKGEpLnByb3RvY29sIT09IiJ9LG1ha2VVcmxBYnNvbHV0ZTpmdW5jdGlvbihhLGIpe2lmKCFqLmlzUmVsYXRpdmVVcmwoYSkpcmV0dXJuIGE7dmFyIGM9ai5wYXJzZVVybChhKSxkPWoucGFyc2VVcmwoYiksZj1jLnByb3RvY29sfHxkLnByb3RvY29sLGU9Yy5hdXRob3JpdHl8fGQuYXV0aG9yaXR5LGc9Yy5wYXRobmFtZSE9PSIiLGg9ai5tYWtlUGF0aEFic29sdXRlKGMucGF0aG5hbWV8fGQuZmlsZW5hbWUsZC5wYXRobmFtZSk7cmV0dXJuIGYrIi8vIitlK2grKGMuc2VhcmNofHwhZyYmZC5zZWFyY2h8fCIiKStjLmhhc2h9LGFkZFNlYXJjaFBhcmFtczpmdW5jdGlvbihiLGMpe3ZhciBkPWoucGFyc2VVcmwoYiksCmY9dHlwZW9mIGM9PT0ib2JqZWN0Ij9hLnBhcmFtKGMpOmMsZT1kLnNlYXJjaHx8Ij8iO3JldHVybiBkLmhyZWZOb1NlYXJjaCtlKyhlLmNoYXJBdChlLmxlbmd0aC0xKSE9PSI/Ij8iJiI6IiIpK2YrKGQuaGFzaHx8IiIpfSxjb252ZXJ0VXJsVG9EYXRhVXJsOmZ1bmN0aW9uKGEpe3ZhciBiPWoucGFyc2VVcmwoYSk7aWYoai5pc0VtYmVkZGVkUGFnZShiKSlyZXR1cm4gYi5oYXNoLnNwbGl0KHYpWzBdLnJlcGxhY2UoL14jLywiIik7ZWxzZSBpZihqLmlzU2FtZURvbWFpbihiLHMpKXJldHVybiBiLmhyZWZOb0hhc2gucmVwbGFjZShzLmRvbWFpbiwiIik7cmV0dXJuIGF9LGdldDpmdW5jdGlvbihhKXtpZihhPT09ZClhPWxvY2F0aW9uLmhhc2g7cmV0dXJuIGouc3RyaXBIYXNoKGEpLnJlcGxhY2UoL1teXC9dKlwuW15cLypdKyQvLCIiKX0sZ2V0RmlsZVBhdGg6ZnVuY3Rpb24oYil7dmFyIGM9IiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXk7cmV0dXJuIGImJmIuc3BsaXQoYylbMF0uc3BsaXQodilbMF19LApzZXQ6ZnVuY3Rpb24oYSl7bG9jYXRpb24uaGFzaD1hfSxpc1BhdGg6ZnVuY3Rpb24oYSl7cmV0dXJuL1wvLy50ZXN0KGEpfSxjbGVhbjpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKHMuZG9tYWluLCIiKX0sc3RyaXBIYXNoOmZ1bmN0aW9uKGEpe3JldHVybiBhLnJlcGxhY2UoL14jLywiIil9LGNsZWFuSGFzaDpmdW5jdGlvbihhKXtyZXR1cm4gai5zdHJpcEhhc2goYS5yZXBsYWNlKC9cPy4qJC8sIiIpLnJlcGxhY2UodiwiIikpfSxpc0V4dGVybmFsOmZ1bmN0aW9uKGEpe2E9ai5wYXJzZVVybChhKTtyZXR1cm4gYS5wcm90b2NvbCYmYS5kb21haW4hPT11LmRvbWFpbj8hMDohMX0saGFzUHJvdG9jb2w6ZnVuY3Rpb24oYSl7cmV0dXJuL14oOj9cdys6KS8udGVzdChhKX0saXNFbWJlZGRlZFBhZ2U6ZnVuY3Rpb24oYSl7YT1qLnBhcnNlVXJsKGEpO2lmKGEucHJvdG9jb2whPT0iIilyZXR1cm4gYS5oYXNoJiYoYS5ocmVmTm9IYXNoPT09dS5ocmVmTm9IYXNofHxBJiZhLmhyZWZOb0hhc2g9PT0Kcy5ocmVmTm9IYXNoKTtyZXR1cm4vXiMvLnRlc3QoYS5ocmVmKX19LHE9bnVsbCxuPXtzdGFjazpbXSxhY3RpdmVJbmRleDowLGdldEFjdGl2ZTpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXhdfSxnZXRQcmV2OmZ1bmN0aW9uKCl7cmV0dXJuIG4uc3RhY2tbbi5hY3RpdmVJbmRleC0xXX0sZ2V0TmV4dDpmdW5jdGlvbigpe3JldHVybiBuLnN0YWNrW24uYWN0aXZlSW5kZXgrMV19LGFkZE5ldzpmdW5jdGlvbihhLGIsYyxkKXtuLmdldE5leHQoKSYmbi5jbGVhckZvcndhcmQoKTtuLnN0YWNrLnB1c2goe3VybDphLHRyYW5zaXRpb246Yix0aXRsZTpjLHBhZ2VVcmw6ZH0pO24uYWN0aXZlSW5kZXg9bi5zdGFjay5sZW5ndGgtMX0sY2xlYXJGb3J3YXJkOmZ1bmN0aW9uKCl7bi5zdGFjaz1uLnN0YWNrLnNsaWNlKDAsbi5hY3RpdmVJbmRleCsxKX0sZGlyZWN0SGFzaENoYW5nZTpmdW5jdGlvbihiKXt2YXIgYyxmLGU7YS5lYWNoKG4uc3RhY2ssZnVuY3Rpb24oYSxkKXtiLmN1cnJlbnRVcmw9PT0KZC51cmwmJihjPWE8bi5hY3RpdmVJbmRleCxmPSFjLGU9YSl9KTt0aGlzLmFjdGl2ZUluZGV4PWUhPT1kP2U6dGhpcy5hY3RpdmVJbmRleDtjP2IuaXNCYWNrKCk6ZiYmYi5pc0ZvcndhcmQoKX0saWdub3JlTmV4dEhhc2hDaGFuZ2U6ITF9LHg9Ilt0YWJpbmRleF0sYSxidXR0b246dmlzaWJsZSxzZWxlY3Q6dmlzaWJsZSxpbnB1dCIsej1bXSx0PSExLHY9IiZ1aS1zdGF0ZT1kaWFsb2ciLHk9by5jaGlsZHJlbigiYmFzZSIpLHU9ai5wYXJzZVVybChsb2NhdGlvbi5ocmVmKSxzPXkubGVuZ3RoP2oucGFyc2VVcmwoai5tYWtlVXJsQWJzb2x1dGUoeS5hdHRyKCJocmVmIiksdS5ocmVmKSk6dSxBPXUuaHJlZk5vSGFzaCE9PXMuaHJlZk5vSGFzaCx3PWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZz97ZWxlbWVudDp5Lmxlbmd0aD95OmEoIjxiYXNlPiIse2hyZWY6cy5ocmVmTm9IYXNofSkucHJlcGVuZFRvKG8pLHNldDpmdW5jdGlvbihhKXt3LmVsZW1lbnQuYXR0cigiaHJlZiIsai5tYWtlVXJsQWJzb2x1dGUoYSwKcykpfSxyZXNldDpmdW5jdGlvbigpe3cuZWxlbWVudC5hdHRyKCJocmVmIixzLmhyZWZOb0hhc2gpfX06ZDthLmZuLmFuaW1hdGlvbkNvbXBsZXRlPWZ1bmN0aW9uKGIpe3JldHVybiBhLnN1cHBvcnQuY3NzVHJhbnNpdGlvbnM/YSh0aGlzKS5vbmUoIndlYmtpdEFuaW1hdGlvbkVuZCIsYik6KHNldFRpbWVvdXQoYiwwKSxhKHRoaXMpKX07YS5tb2JpbGUudXBkYXRlSGFzaD1qLnNldDthLm1vYmlsZS5wYXRoPWo7YS5tb2JpbGUuYmFzZT13O2EubW9iaWxlLnVybHN0YWNrPW4uc3RhY2s7YS5tb2JpbGUudXJsSGlzdG9yeT1uO2EubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcj1mdW5jdGlvbihiLGMsZCxmKXtmJiZmLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7ZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MpO3JldHVybiBhLkRlZmVycmVkKCkucmVzb2x2ZShiLGMsZCxmKS5wcm9taXNlKCl9O2EubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj0KYS5tb2JpbGUubm9uZVRyYW5zaXRpb25IYW5kbGVyO2EubW9iaWxlLnRyYW5zaXRpb25IYW5kbGVycz17bm9uZTphLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXJ9O2EubW9iaWxlLmFsbG93Q3Jvc3NEb21haW5QYWdlcz0hMTthLm1vYmlsZS5nZXREb2N1bWVudFVybD1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSx1KTp1LmhyZWZ9O2EubW9iaWxlLmdldERvY3VtZW50QmFzZT1mdW5jdGlvbihiKXtyZXR1cm4gYj9hLmV4dGVuZCh7fSxzKTpzLmhyZWZ9O2EubW9iaWxlLmxvYWRQYWdlPWZ1bmN0aW9uKGIsYyl7dmFyIGY9YS5EZWZlcnJlZCgpLGU9YS5leHRlbmQoe30sYS5tb2JpbGUubG9hZFBhZ2UuZGVmYXVsdHMsYyksZz1udWxsLGg9bnVsbCxwPWoubWFrZVVybEFic29sdXRlKGIsYS5tb2JpbGUuYWN0aXZlUGFnZSYmbChhLm1vYmlsZS5hY3RpdmVQYWdlKXx8cy5ocmVmTm9IYXNoKTtpZihlLmRhdGEmJmUudHlwZT09PSJnZXQiKXA9ai5hZGRTZWFyY2hQYXJhbXMocCwKZS5kYXRhKSxlLmRhdGE9ZDt2YXIgbj1qLmdldEZpbGVQYXRoKHApLG89ai5jb252ZXJ0VXJsVG9EYXRhVXJsKHApO2UucGFnZUNvbnRhaW5lcj1lLnBhZ2VDb250YWluZXJ8fGEubW9iaWxlLnBhZ2VDb250YWluZXI7Zz1lLnBhZ2VDb250YWluZXIuY2hpbGRyZW4oIjpqcW1EYXRhKHVybD0nIitvKyInKSIpO3cmJncucmVzZXQoKTtpZihnLmxlbmd0aCl7aWYoIWUucmVsb2FkUGFnZSlyZXR1cm4gaShnLGUucm9sZSksZi5yZXNvbHZlKHAsYyxnKSxmLnByb21pc2UoKTtoPWd9aWYoZS5zaG93TG9hZE1zZyl2YXIgaz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCl9LGUubG9hZE1zZ0RlbGF5KTshYS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiYhai5pc1NhbWVEb21haW4odSxwKT9mLnJlamVjdChwLGMpOmEuYWpheCh7dXJsOm4sdHlwZTplLnR5cGUsZGF0YTplLmRhdGEsZGF0YVR5cGU6Imh0bWwiLHN1Y2Nlc3M6ZnVuY3Rpb24oZCl7dmFyIGw9CmEoIjxkaXY+PC9kaXY+IikscT1kLm1hdGNoKC88dGl0bGVbXj5dKj4oW148XSopLykmJlJlZ0V4cC4kMSxtPVJlZ0V4cCgiXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmw9W1wiJ10/KFteXCInPl0qKVtcIiddPyIpO1JlZ0V4cCgiLiooPFtePl0rXFxiZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPVtcIiddP3BhZ2VbXCInXT9bXj5dKj4pLioiKS50ZXN0KGQpJiZSZWdFeHAuJDEmJm0udGVzdChSZWdFeHAuJDEpJiZSZWdFeHAuJDEmJihiPW49ai5nZXRGaWxlUGF0aChSZWdFeHAuJDEpKTt3JiZ3LnNldChuKTtsLmdldCgwKS5pbm5lckhUTUw9ZDtnPWwuZmluZCgiOmpxbURhdGEocm9sZT0ncGFnZScpLCA6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmZpcnN0KCk7Zy5sZW5ndGh8fChnPWEoIjxkaXYgZGF0YS0iK2EubW9iaWxlLm5zKyJyb2xlPSdwYWdlJz4iK2Quc3BsaXQoLzxcLz9ib2R5W14+XSo+L2dtaSlbMV0rIjwvZGl2PiIpKTtxJiYhZy5qcW1EYXRhKCJ0aXRsZSIpJiZnLmpxbURhdGEoInRpdGxlIiwKcSk7aWYoIWEuc3VwcG9ydC5keW5hbWljQmFzZVRhZyl7dmFyIHM9ai5nZXQobik7Zy5maW5kKCJbc3JjXSwgbGlua1tocmVmXSwgYVtyZWw9J2V4dGVybmFsJ10sIDpqcW1EYXRhKGFqYXg9J2ZhbHNlJyksIGFbdGFyZ2V0XSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLmlzKCJbaHJlZl0iKT8iaHJlZiI6YSh0aGlzKS5pcygiW3NyY10iKT8ic3JjIjoiYWN0aW9uIixjPWEodGhpcykuYXR0cihiKSxjPWMucmVwbGFjZShsb2NhdGlvbi5wcm90b2NvbCsiLy8iK2xvY2F0aW9uLmhvc3QrbG9jYXRpb24ucGF0aG5hbWUsIiIpOy9eKFx3Kzp8I3xcLykvLnRlc3QoYyl8fGEodGhpcykuYXR0cihiLHMrYyl9KX1nLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidXJsIixqLmNvbnZlcnRVcmxUb0RhdGFVcmwobikpLmFwcGVuZFRvKGUucGFnZUNvbnRhaW5lcik7Zy5vbmUoInBhZ2VjcmVhdGUiLGZ1bmN0aW9uKCl7Zy5kYXRhKCJwYWdlIikub3B0aW9ucy5kb21DYWNoZXx8Zy5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLApmdW5jdGlvbigpe2EodGhpcykucmVtb3ZlKCl9KX0pO2koZyxlLnJvbGUpO3AuaW5kZXhPZigiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSk+LTEmJihnPWUucGFnZUNvbnRhaW5lci5jaGlsZHJlbigiOmpxbURhdGEodXJsPSciK28rIicpIikpO2Uuc2hvd0xvYWRNc2cmJihjbGVhclRpbWVvdXQoayksYS5tb2JpbGUuaGlkZVBhZ2VMb2FkaW5nTXNnKCkpO2YucmVzb2x2ZShwLGMsZyxoKX0sZXJyb3I6ZnVuY3Rpb24oKXt3JiZ3LnNldChqLmdldCgpKTtlLnNob3dMb2FkTXNnJiYoY2xlYXJUaW1lb3V0KGspLGEubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpLGEoIjxkaXYgY2xhc3M9J3VpLWxvYWRlciB1aS1vdmVybGF5LXNoYWRvdyB1aS1ib2R5LWUgdWktY29ybmVyLWFsbCc+PGgxPiIrYS5tb2JpbGUucGFnZUxvYWRFcnJvck1lc3NhZ2UrIjwvaDE+PC9kaXY+IikuY3NzKHtkaXNwbGF5OiJibG9jayIsb3BhY2l0eTowLjk2LHRvcDptLnNjcm9sbFRvcCgpKzEwMH0pLmFwcGVuZFRvKGUucGFnZUNvbnRhaW5lcikuZGVsYXkoODAwKS5mYWRlT3V0KDQwMCwKZnVuY3Rpb24oKXthKHRoaXMpLnJlbW92ZSgpfSkpO2YucmVqZWN0KHAsYyl9fSk7cmV0dXJuIGYucHJvbWlzZSgpfTthLm1vYmlsZS5sb2FkUGFnZS5kZWZhdWx0cz17dHlwZToiZ2V0IixkYXRhOmQscmVsb2FkUGFnZTohMSxyb2xlOmQsc2hvd0xvYWRNc2c6ITEscGFnZUNvbnRhaW5lcjpkLGxvYWRNc2dEZWxheTo1MH07YS5tb2JpbGUuY2hhbmdlUGFnZT1mdW5jdGlvbihjLGcpe2lmKHR5cGVvZiBnIT09Im9iamVjdCIpe3ZhciBoPW51bGw7aWYodHlwZW9mIGM9PT0ib2JqZWN0IiYmYy51cmwmJmMudHlwZSloPXt0eXBlOmMudHlwZSxkYXRhOmMuZGF0YSxmb3JjZVBhZ2VMb2FkOiEwfSxjPWMudXJsO3ZhciBvPWFyZ3VtZW50cy5sZW5ndGg7aWYobz4xKXt2YXIgaz1bInRyYW5zaXRpb24iLCJyZXZlcnNlIiwiY2hhbmdlSGFzaCIsImZyb21IYXNoQ2hhbmdlIl0sbDtmb3IobD0xO2w8bztsKyspe3ZhciBxPWFyZ3VtZW50c1tsXTt0eXBlb2YgcSE9PSJ1bmRlZmluZWQiJiYoaD1ofHwKe30saFtrW2wtMV1dPXEpfX1pZihoKXJldHVybiBhLm1vYmlsZS5jaGFuZ2VQYWdlKGMsaCl9aWYodCl6LnVuc2hpZnQoYXJndW1lbnRzKTtlbHNle3Q9ITA7dmFyIG09YS5leHRlbmQoe30sYS5tb2JpbGUuY2hhbmdlUGFnZS5kZWZhdWx0cyxnKTttLnBhZ2VDb250YWluZXI9bS5wYWdlQ29udGFpbmVyfHxhLm1vYmlsZS5wYWdlQ29udGFpbmVyO2lmKHR5cGVvZiBjPT0ic3RyaW5nIilhLm1vYmlsZS5sb2FkUGFnZShjLG0pLmRvbmUoZnVuY3Rpb24oYixjLGQsZil7dD0hMTtjLmR1cGxpY2F0ZUNhY2hlZFBhZ2U9ZjthLm1vYmlsZS5jaGFuZ2VQYWdlKGQsYyl9KS5mYWlsKGZ1bmN0aW9uKCl7dD0hMTtiKCEwKTtmKCk7bS5wYWdlQ29udGFpbmVyLnRyaWdnZXIoImNoYW5nZXBhZ2VmYWlsZWQiKX0pO2Vsc2V7dmFyIHM9bS5wYWdlQ29udGFpbmVyLGg9YS5tb2JpbGUuYWN0aXZlUGFnZSxrPW89Yy5qcW1EYXRhKCJ1cmwiKTtqLmdldEZpbGVQYXRoKG8pO2w9bi5nZXRBY3RpdmUoKTt2YXIgcT0Kbi5hY3RpdmVJbmRleD09PTAseT0wLHU9ZG9jdW1lbnQudGl0bGUseD1tLnJvbGU9PT0iZGlhbG9nInx8Yy5qcW1EYXRhKCJyb2xlIik9PT0iZGlhbG9nIjtzLnRyaWdnZXIoImJlZm9yZWNoYW5nZXBhZ2UiKTtpZihoJiZoWzBdPT09Y1swXSl0PSExLHMudHJpZ2dlcigiY2hhbmdlcGFnZSIpO2Vsc2V7aShjLG0ucm9sZSk7bS5mcm9tSGFzaENoYW5nZSYmbi5kaXJlY3RIYXNoQ2hhbmdlKHtjdXJyZW50VXJsOm8saXNCYWNrOmZ1bmN0aW9uKCl7eT0tMX0saXNGb3J3YXJkOmZ1bmN0aW9uKCl7eT0xfX0pO3RyeXthKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnR8fCIiKS5hZGQoImlucHV0OmZvY3VzLCB0ZXh0YXJlYTpmb2N1cywgc2VsZWN0OmZvY3VzIikuYmx1cigpfWNhdGNoKHcpe314JiZsJiYobz1sLnVybCt2KTtpZihtLmNoYW5nZUhhc2ghPT0hMSYmbyluLmlnbm9yZU5leHRIYXNoQ2hhbmdlPSEwLGouc2V0KG8pO3ZhciBBPWMuanFtRGF0YSgidGl0bGUiKXx8Yy5jaGlsZHJlbigiOmpxbURhdGEocm9sZT0naGVhZGVyJykiKS5maW5kKCIudWktdGl0bGUiKS50ZXh0KCk7CkEmJnU9PWRvY3VtZW50LnRpdGxlJiYodT1BKTt5fHxuLmFkZE5ldyhvLG0udHJhbnNpdGlvbix1LGspO2RvY3VtZW50LnRpdGxlPW4uZ2V0QWN0aXZlKCkudGl0bGU7YS5tb2JpbGUuYWN0aXZlUGFnZT1jO20udHJhbnNpdGlvbj1tLnRyYW5zaXRpb258fCh5JiYhcT9sLnRyYW5zaXRpb246ZCl8fCh4P2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9uOmEubW9iaWxlLmRlZmF1bHRQYWdlVHJhbnNpdGlvbik7bS5yZXZlcnNlPW0ucmV2ZXJzZXx8eTwwO2UoYyxoLG0udHJhbnNpdGlvbixtLnJldmVyc2UpLmRvbmUoZnVuY3Rpb24oKXtiKCk7bS5kdXBsaWNhdGVDYWNoZWRQYWdlJiZtLmR1cGxpY2F0ZUNhY2hlZFBhZ2UucmVtb3ZlKCk7cC5yZW1vdmVDbGFzcygidWktbW9iaWxlLXJlbmRlcmluZyIpO2YoKTtzLnRyaWdnZXIoImNoYW5nZXBhZ2UiKX0pfX19fTthLm1vYmlsZS5jaGFuZ2VQYWdlLmRlZmF1bHRzPXt0cmFuc2l0aW9uOmQscmV2ZXJzZTohMSxjaGFuZ2VIYXNoOiEwLApmcm9tSGFzaENoYW5nZTohMSxyb2xlOmQsZHVwbGljYXRlQ2FjaGVkUGFnZTpkLHBhZ2VDb250YWluZXI6ZCxzaG93TG9hZE1zZzohMH07YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHM9ZnVuY3Rpb24oKXthKCJmb3JtIikubGl2ZSgic3VibWl0IixmdW5jdGlvbihiKXt2YXIgYz1hKHRoaXMpO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkJiYhYy5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpKXt2YXIgZD1jLmF0dHIoIm1ldGhvZCIpLGY9Yy5hdHRyKCJ0YXJnZXQiKSxlPWMuYXR0cigiYWN0aW9uIik7aWYoIWUmJihlPWwoYyksZT09PXMuaHJlZk5vSGFzaCkpZT11LmhyZWZOb1NlYXJjaDtlPWoubWFrZVVybEFic29sdXRlKGUsbChjKSk7IWouaXNFeHRlcm5hbChlKSYmIWYmJihhLm1vYmlsZS5jaGFuZ2VQYWdlKGUse3R5cGU6ZCYmZC5sZW5ndGgmJmQudG9Mb3dlckNhc2UoKXx8ImdldCIsZGF0YTpjLnNlcmlhbGl6ZSgpLHRyYW5zaXRpb246Yy5qcW1EYXRhKCJ0cmFuc2l0aW9uIiksCmRpcmVjdGlvbjpjLmpxbURhdGEoImRpcmVjdGlvbiIpLHJlbG9hZFBhZ2U6ITB9KSxiLnByZXZlbnREZWZhdWx0KCkpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7aWYoKGI9ayhiLnRhcmdldCkpJiZqLnBhcnNlVXJsKGIuZ2V0QXR0cmlidXRlKCJocmVmIil8fCIjIikuaGFzaCE9PSIjIilhKGIpLmNsb3Nlc3QoIi51aS1idG4iKS5ub3QoIi51aS1kaXNhYmxlZCIpLmFkZENsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKSxhKCIuIithLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAudWktYnRuIikubm90KGIpLmJsdXIoKX0pO2EoZG9jdW1lbnQpLmJpbmQoImNsaWNrIixmdW5jdGlvbihjKXt2YXIgZj1rKGMudGFyZ2V0KTtpZihmKXt2YXIgZT1hKGYpLGc9ZnVuY3Rpb24oKXt3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpe2IoITApfSwyMDApfTtpZihlLmlzKCI6anFtRGF0YShyZWw9J2JhY2snKSIpKXJldHVybiB3aW5kb3cuaGlzdG9yeS5iYWNrKCksCiExO2lmKGEubW9iaWxlLmFqYXhFbmFibGVkKXt2YXIgaD1sKGUpLGY9ai5tYWtlVXJsQWJzb2x1dGUoZS5hdHRyKCJocmVmIil8fCIjIixoKTtpZihmLnNlYXJjaCgiIyIpIT0tMSlpZihmPWYucmVwbGFjZSgvW14jXSojLywiIikpZj1qLmlzUGF0aChmKT9qLm1ha2VVcmxBYnNvbHV0ZShmLGgpOmoubWFrZVVybEFic29sdXRlKCIjIitmLHUuaHJlZk5vSGFzaCk7ZWxzZXtjLnByZXZlbnREZWZhdWx0KCk7cmV0dXJufXZhciBoPWUuaXMoIltyZWw9J2V4dGVybmFsJ10iKXx8ZS5pcygiOmpxbURhdGEoYWpheD0nZmFsc2UnKSIpfHxlLmlzKCJbdGFyZ2V0XSIpLGk9YS5tb2JpbGUuYWxsb3dDcm9zc0RvbWFpblBhZ2VzJiZ1LnByb3RvY29sPT09ImZpbGU6IiYmZi5zZWFyY2goL15odHRwcz86LykhPS0xLGg9aHx8ai5pc0V4dGVybmFsKGYpJiYhaTtxPWUuY2xvc2VzdCgiLnVpLWJ0biIpO2g/ZygpOihnPWUuanFtRGF0YSgidHJhbnNpdGlvbiIpLGg9KGg9ZS5qcW1EYXRhKCJkaXJlY3Rpb24iKSkmJgpoPT09InJldmVyc2UifHxlLmpxbURhdGEoImJhY2siKSxlPWUuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJyZWwiKXx8ZCxhLm1vYmlsZS5jaGFuZ2VQYWdlKGYse3RyYW5zaXRpb246ZyxyZXZlcnNlOmgscm9sZTplfSksYy5wcmV2ZW50RGVmYXVsdCgpKX1lbHNlIGcoKX19KTthKCIudWktcGFnZSIpLmxpdmUoInBhZ2VzaG93LnByZWZldGNoIixmdW5jdGlvbigpe3ZhciBiPVtdO2EodGhpcykuZmluZCgiYTpqcW1EYXRhKHByZWZldGNoKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLmF0dHIoImhyZWYiKTtjJiZhLmluQXJyYXkoYyxiKT09PS0xJiYoYi5wdXNoKGMpLGEubW9iaWxlLmxvYWRQYWdlKGMpKX0pfSk7bS5iaW5kKCJoYXNoY2hhbmdlIixmdW5jdGlvbigpe3ZhciBiPWouc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpLGM9YS5tb2JpbGUudXJsSGlzdG9yeS5zdGFjay5sZW5ndGg9PT0wPyJub25lIjpkO2lmKCFhLm1vYmlsZS5oYXNoTGlzdGVuaW5nRW5hYmxlZHx8Cm4uaWdub3JlTmV4dEhhc2hDaGFuZ2Upbi5pZ25vcmVOZXh0SGFzaENoYW5nZT0hMTtlbHNle2lmKG4uc3RhY2subGVuZ3RoPjEmJmIuaW5kZXhPZih2KT4tMSlpZihhLm1vYmlsZS5hY3RpdmVQYWdlLmlzKCIudWktZGlhbG9nIikpe3ZhciBmPWZ1bmN0aW9uKCl7Yj1hLm1vYmlsZS51cmxIaXN0b3J5LmdldEFjdGl2ZSgpLnBhZ2VVcmx9O24uZGlyZWN0SGFzaENoYW5nZSh7Y3VycmVudFVybDpiLGlzQmFjazpmLGlzRm9yd2FyZDpmfSl9ZWxzZXtuLmRpcmVjdEhhc2hDaGFuZ2Uoe2N1cnJlbnRVcmw6Yixpc0JhY2s6ZnVuY3Rpb24oKXt3aW5kb3cuaGlzdG9yeS5iYWNrKCl9LGlzRm9yd2FyZDpmdW5jdGlvbigpe3dpbmRvdy5oaXN0b3J5LmZvcndhcmQoKX19KTtyZXR1cm59Yj8oYj10eXBlb2YgYj09PSJzdHJpbmciJiYhai5pc1BhdGgoYik/IiMiK2I6YixhLm1vYmlsZS5jaGFuZ2VQYWdlKGIse3RyYW5zaXRpb246YyxjaGFuZ2VIYXNoOiExLGZyb21IYXNoQ2hhbmdlOiEwfSkpOgphLm1vYmlsZS5jaGFuZ2VQYWdlKGEubW9iaWxlLmZpcnN0UGFnZSx7dHJhbnNpdGlvbjpjLGNoYW5nZUhhc2g6ITEsZnJvbUhhc2hDaGFuZ2U6ITB9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlc2hvdyIsaCk7YSh3aW5kb3cpLmJpbmQoInRocm90dGxlZHJlc2l6ZSIsaCl9fSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoYyxiLGQsZSl7dmFyIGc9bmV3IGEuRGVmZXJyZWQsaD1iPyIgcmV2ZXJzZSI6IiIsaT0idWktbW9iaWxlLXZpZXdwb3J0LXRyYW5zaXRpb25pbmcgdmlld3BvcnQtIitjO2QuYW5pbWF0aW9uQ29tcGxldGUoZnVuY3Rpb24oKXtkLmFkZChlKS5yZW1vdmVDbGFzcygib3V0IGluIHJldmVyc2UgIitjKTtlJiZlLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZVBhZ2VDbGFzcyk7ZC5wYXJlbnQoKS5yZW1vdmVDbGFzcyhpKTtnLnJlc29sdmUoYyxiLGQsZSl9KTtkLnBhcmVudCgpLmFkZENsYXNzKGkpO2UmJmUuYWRkQ2xhc3MoYysiIG91dCIraCk7ZC5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVQYWdlQ2xhc3MrIiAiK2MrIiBpbiIraCk7cmV0dXJuIGcucHJvbWlzZSgpfWEubW9iaWxlLmNzczNUcmFuc2l0aW9uSGFuZGxlcj1kO2lmKGEubW9iaWxlLmRlZmF1bHRUcmFuc2l0aW9uSGFuZGxlcj09PWEubW9iaWxlLm5vbmVUcmFuc2l0aW9uSGFuZGxlcilhLm1vYmlsZS5kZWZhdWx0VHJhbnNpdGlvbkhhbmRsZXI9CmR9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmRlZ3JhZGVJbnB1dHM9e2NvbG9yOiExLGRhdGU6ITEsZGF0ZXRpbWU6ITEsImRhdGV0aW1lLWxvY2FsIjohMSxlbWFpbDohMSxtb250aDohMSxudW1iZXI6ITEscmFuZ2U6Im51bWJlciIsc2VhcmNoOiEwLHRlbDohMSx0aW1lOiExLHVybDohMSx3ZWVrOiExfTthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmtlZXBOYXRpdmU9IjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIjthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGVuaGFuY2UiLGZ1bmN0aW9uKGQpe3ZhciBjPWEoZC50YXJnZXQpLmRhdGEoInBhZ2UiKS5vcHRpb25zO2EoZC50YXJnZXQpLmZpbmQoImlucHV0Iikubm90KGMua2VlcE5hdGl2ZSkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZD10aGlzLmdldEF0dHJpYnV0ZSgidHlwZSIpLGU9Yy5kZWdyYWRlSW5wdXRzW2RdfHwidGV4dCI7CmMuZGVncmFkZUlucHV0c1tkXSYmYi5yZXBsYWNlV2l0aChhKCI8ZGl2PiIpLmh0bWwoYi5jbG9uZSgpKS5odG1sKCkucmVwbGFjZSgvXHMrdHlwZT1bIiddP1x3K1snIl0/LywnIHR5cGU9IicrZSsnIiBkYXRhLScrYS5tb2JpbGUubnMrJ3R5cGU9IicrZCsnIiAnKSl9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5kaWFsb2ciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7Y2xvc2VCdG5UZXh0OiJDbG9zZSIsdGhlbWU6ImEiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nZGlhbG9nJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcy5lbGVtZW50LGI9Yy5hdHRyKCJjbGFzcyIpLm1hdGNoKC91aS1ib2R5LVthLXpdLyk7Yi5sZW5ndGgmJmMucmVtb3ZlQ2xhc3MoYlswXSk7Yy5hZGRDbGFzcygidWktYm9keS0iK3RoaXMub3B0aW9ucy50aGVtZSk7Yy5hdHRyKCJyb2xlIiwiZGlhbG9nIikuYWRkQ2xhc3MoInVpLWRpYWxvZyIpLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpIikuYWRkQ2xhc3MoInVpLWNvcm5lci10b3AgdWktb3ZlcmxheS1zaGFkb3ciKS5wcmVwZW5kKCI8YSBocmVmPScjJyBkYXRhLSIrYS5tb2JpbGUubnMrImljb249J2RlbGV0ZScgZGF0YS0iK2EubW9iaWxlLm5zKyJyZWw9J2JhY2snIGRhdGEtIisKYS5tb2JpbGUubnMrImljb25wb3M9J25vdGV4dCc+Iit0aGlzLm9wdGlvbnMuY2xvc2VCdG5UZXh0KyI8L2E+IikuZW5kKCkuZmluZCgiOmpxbURhdGEocm9sZT0nY29udGVudCcpLDpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikubGFzdCgpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIHVpLW92ZXJsYXktc2hhZG93Iik7Yy5iaW5kKCJ2Y2xpY2sgc3VibWl0IixmdW5jdGlvbihiKXt2YXIgYj1hKGIudGFyZ2V0KS5jbG9zZXN0KGIudHlwZT09PSJ2Y2xpY2siPyJhIjoiZm9ybSIpLGM7Yi5sZW5ndGgmJiFiLmpxbURhdGEoInRyYW5zaXRpb24iKSYmKGM9YS5tb2JpbGUudXJsSGlzdG9yeS5nZXRBY3RpdmUoKXx8e30sYi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRyYW5zaXRpb24iLGMudHJhbnNpdGlvbnx8YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb24pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiZGlyZWN0aW9uIiwicmV2ZXJzZSIpKX0pLmJpbmQoInBhZ2VoaWRlIiwKZnVuY3Rpb24oKXthKHRoaXMpLmZpbmQoIi4iK2EubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX0sY2xvc2U6ZnVuY3Rpb24oKXtkLmhpc3RvcnkuYmFjaygpfX0pO2EoYS5tb2JpbGUuZGlhbG9nLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcikubGl2ZSgicGFnZWNyZWF0ZSIsZnVuY3Rpb24oKXthKHRoaXMpLmRpYWxvZygpfSl9KShqUXVlcnksdGhpcyk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmJhY2tCdG5UZXh0PSJCYWNrIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmFkZEJhY2tCdG49ITE7YS5tb2JpbGUucGFnZS5wcm90b3R5cGUub3B0aW9ucy5iYWNrQnRuVGhlbWU9bnVsbDthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmhlYWRlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmZvb3RlclRoZW1lPSJhIjthLm1vYmlsZS5wYWdlLnByb3RvdHlwZS5vcHRpb25zLmNvbnRlbnRUaGVtZT1udWxsO2EoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSwgOmpxbURhdGEocm9sZT0nZGlhbG9nJykiKS5saXZlKCJwYWdlY3JlYXRlIixmdW5jdGlvbigpe3ZhciBkPWEodGhpcykuZGF0YSgicGFnZSIpLm9wdGlvbnMsYz1kLnRoZW1lO2EoIjpqcW1EYXRhKHJvbGU9J2hlYWRlcicpLCA6anFtRGF0YShyb2xlPSdmb290ZXInKSwgOmpxbURhdGEocm9sZT0nY29udGVudCcpIiwKdGhpcykuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyksZj1iLmpxbURhdGEoInJvbGUiKSxlPWIuanFtRGF0YSgidGhlbWUiKSxnLGgsaTtiLmFkZENsYXNzKCJ1aS0iK2YpO2lmKGY9PT0iaGVhZGVyInx8Zj09PSJmb290ZXIiKXtlPWV8fChmPT09ImhlYWRlciI/ZC5oZWFkZXJUaGVtZTpkLmZvb3RlclRoZW1lKXx8YztiLmFkZENsYXNzKCJ1aS1iYXItIitlKTtiLmF0dHIoInJvbGUiLGY9PT0iaGVhZGVyIj8iYmFubmVyIjoiY29udGVudGluZm8iKTtnPWIuY2hpbGRyZW4oImEiKTtoPWcuaGFzQ2xhc3MoInVpLWJ0bi1sZWZ0Iik7aT1nLmhhc0NsYXNzKCJ1aS1idG4tcmlnaHQiKTtpZighaCloPWcuZXEoMCkubm90KCIudWktYnRuLXJpZ2h0IikuYWRkQ2xhc3MoInVpLWJ0bi1sZWZ0IikubGVuZ3RoO2l8fGcuZXEoMSkuYWRkQ2xhc3MoInVpLWJ0bi1yaWdodCIpO2QuYWRkQmFja0J0biYmZj09PSJoZWFkZXIiJiZhKCIudWktcGFnZSIpLmxlbmd0aD4xJiZiLmpxbURhdGEoInVybCIpIT09CmEubW9iaWxlLnBhdGguc3RyaXBIYXNoKGxvY2F0aW9uLmhhc2gpJiYhaCYmKGY9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLWJ0bi1sZWZ0JyBkYXRhLSIrYS5tb2JpbGUubnMrInJlbD0nYmFjaycgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSdhcnJvdy1sJz4iK2QuYmFja0J0blRleHQrIjwvYT4iKS5wcmVwZW5kVG8oYiksZi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixkLmJhY2tCdG5UaGVtZXx8ZSkpO2IuY2hpbGRyZW4oImgxLCBoMiwgaDMsIGg0LCBoNSwgaDYiKS5hZGRDbGFzcygidWktdGl0bGUiKS5hdHRyKHt0YWJpbmRleDoiMCIscm9sZToiaGVhZGluZyIsImFyaWEtbGV2ZWwiOiIxIn0pfWVsc2UgZj09PSJjb250ZW50IiYmKGIuYWRkQ2xhc3MoInVpLWJvZHktIisoZXx8Y3x8ZC5jb250ZW50VGhlbWUpKSxiLmF0dHIoInJvbGUiLCJtYWluIikpfSl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLndpZGdldCgibW9iaWxlLmNvbGxhcHNpYmxlIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e2V4cGFuZEN1ZVRleHQ6IiBjbGljayB0byBleHBhbmQgY29udGVudHMiLGNvbGxhcHNlQ3VlVGV4dDoiIGNsaWNrIHRvIGNvbGxhcHNlIGNvbnRlbnRzIixjb2xsYXBzZWQ6ITEsaGVhZGluZzoiPjpoZWFkZXIsPmxlZ2VuZCIsdGhlbWU6bnVsbCxpY29uVGhlbWU6ImQiLGluaXRTZWxlY3RvcjoiOmpxbURhdGEocm9sZT0nY29sbGFwc2libGUnKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLmVsZW1lbnQsYz10aGlzLm9wdGlvbnMsYj1kLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250YWluIiksZj1kLmZpbmQoYy5oZWFkaW5nKS5lcSgwKSxlPWIud3JhcElubmVyKCI8ZGl2IGNsYXNzPSd1aS1jb2xsYXBzaWJsZS1jb250ZW50Jz48L2Rpdj4iKS5maW5kKCIudWktY29sbGFwc2libGUtY29udGVudCIpLGQ9ZC5jbG9zZXN0KCI6anFtRGF0YShyb2xlPSdjb2xsYXBzaWJsZS1zZXQnKSIpLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1zZXQiKTsKZi5pcygibGVnZW5kIikmJihmPWEoIjxkaXYgcm9sZT0naGVhZGluZyc+IitmLmh0bWwoKSsiPC9kaXY+IikuaW5zZXJ0QmVmb3JlKGYpLGYubmV4dCgpLnJlbW92ZSgpKTtmLmluc2VydEJlZm9yZShlKS5hZGRDbGFzcygidWktY29sbGFwc2libGUtaGVhZGluZyIpLmFwcGVuZCgiPHNwYW4gY2xhc3M9J3VpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzJz48L3NwYW4+Iikud3JhcElubmVyKCI8YSBocmVmPScjJyBjbGFzcz0ndWktY29sbGFwc2libGUtaGVhZGluZy10b2dnbGUnPjwvYT4iKS5maW5kKCJhOmVxKDApIikuYnV0dG9uTWFya3VwKHtzaGFkb3c6IWQubGVuZ3RoLGNvcm5lcnM6ITEsaWNvblBvczoibGVmdCIsaWNvbjoicGx1cyIsdGhlbWU6Yy50aGVtZX0pLmZpbmQoIi51aS1pY29uIikucmVtb3ZlQXR0cigiY2xhc3MiKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLGljb25Qb3M6Im5vdGV4dCIsaWNvbjoicGx1cyIsdGhlbWU6Yy5pY29uVGhlbWV9KTsKZC5sZW5ndGg/Yi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIik6Zi5maW5kKCJhOmVxKDApIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKS5maW5kKCIudWktYnRuLWlubmVyIikuYWRkQ2xhc3MoInVpLWNvcm5lci1hbGwiKTtiLmJpbmQoImNvbGxhcHNlIixmdW5jdGlvbihkKXshZC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSYmYShkLnRhcmdldCkuY2xvc2VzdCgiLnVpLWNvbGxhcHNpYmxlLWNvbnRhaW4iKS5pcyhiKSYmKGQucHJldmVudERlZmF1bHQoKSxmLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpLmZpbmQoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLXN0YXR1cyIpLnRleHQoYy5leHBhbmRDdWVUZXh0KS5lbmQoKS5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLW1pbnVzIikuYWRkQ2xhc3MoInVpLWljb24tcGx1cyIpLAplLmFkZENsYXNzKCJ1aS1jb2xsYXBzaWJsZS1jb250ZW50LWNvbGxhcHNlZCIpLmF0dHIoImFyaWEtaGlkZGVuIiwhMCksYi5qcW1EYXRhKCJjb2xsYXBzaWJsZS1sYXN0IikmJmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpfSkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihhKXthLmlzRGVmYXVsdFByZXZlbnRlZCgpfHwoYS5wcmV2ZW50RGVmYXVsdCgpLGYucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWhlYWRpbmctY29sbGFwc2VkIikuZmluZCgiLnVpLWNvbGxhcHNpYmxlLWhlYWRpbmctc3RhdHVzIikudGV4dChjLmNvbGxhcHNlQ3VlVGV4dCksZi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLXBsdXMiKS5hZGRDbGFzcygidWktaWNvbi1taW51cyIpLGUucmVtb3ZlQ2xhc3MoInVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2VkIikuYXR0cigiYXJpYS1oaWRkZW4iLCExKSxiLmpxbURhdGEoImNvbGxhcHNpYmxlLWxhc3QiKSYmCmYuZmluZCgiYTplcSgwKSwgLnVpLWJ0bi1pbm5lciIpLnJlbW92ZUNsYXNzKCJ1aS1jb3JuZXItYm90dG9tIikpfSkudHJpZ2dlcihjLmNvbGxhcHNlZD8iY29sbGFwc2UiOiJleHBhbmQiKTtkLmxlbmd0aCYmIWQuanFtRGF0YSgiY29sbGFwc2libGVib3VuZCIpJiYoZC5qcW1EYXRhKCJjb2xsYXBzaWJsZWJvdW5kIiwhMCkuYmluZCgiZXhwYW5kIixmdW5jdGlvbihiKXthKGIudGFyZ2V0KS5jbG9zZXN0KCIudWktY29sbGFwc2libGUtY29udGFpbiIpLnNpYmxpbmdzKCIudWktY29sbGFwc2libGUtY29udGFpbiIpLnRyaWdnZXIoImNvbGxhcHNlIil9KSxkPWQuY2hpbGRyZW4oIjpqcW1EYXRhKHJvbGU9J2NvbGxhcHNpYmxlJykiKSxkLmZpcnN0KCkuZmluZCgiYTplcSgwKSIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIikuZmluZCgiLnVpLWJ0bi1pbm5lciIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdG9wIiksZC5sYXN0KCkuanFtRGF0YSgiY29sbGFwc2libGUtbGFzdCIsITApKTsKZi5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKGEpe3ZhciBjPWYuaXMoIi51aS1jb2xsYXBzaWJsZS1oZWFkaW5nLWNvbGxhcHNlZCIpPyJleHBhbmQiOiJjb2xsYXBzZSI7Yi50cmlnZ2VyKGMpO2EucHJldmVudERlZmF1bHQoKX0pfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKGEubW9iaWxlLmNvbGxhcHNpYmxlLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixkLnRhcmdldCkuY29sbGFwc2libGUoKX0pfSkoalF1ZXJ5KTsoZnVuY3Rpb24oYSl7YS5mbi5maWVsZGNvbnRhaW49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hZGRDbGFzcygidWktZmllbGQtY29udGFpbiB1aS1ib2R5IHVpLWJyIil9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKCI6anFtRGF0YShyb2xlPSdmaWVsZGNvbnRhaW4nKSIsZC50YXJnZXQpLmZpZWxkY29udGFpbigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5mbi5ncmlkPWZ1bmN0aW9uKGQpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGI9YS5leHRlbmQoe2dyaWQ6bnVsbH0sZCksZj1jLmNoaWxkcmVuKCksZT17c29sbzoxLGE6MixiOjMsYzo0LGQ6NX0sYj1iLmdyaWQ7aWYoIWIpaWYoZi5sZW5ndGg8PTUpZm9yKHZhciBnIGluIGUpZVtnXT09PWYubGVuZ3RoJiYoYj1nKTtlbHNlIGI9ImEiO2U9ZVtiXTtjLmFkZENsYXNzKCJ1aS1ncmlkLSIrYik7Zi5maWx0ZXIoIjpudGgtY2hpbGQoIitlKyJuKzEpIikuYWRkQ2xhc3MoInVpLWJsb2NrLWEiKTtlPjEmJmYuZmlsdGVyKCI6bnRoLWNoaWxkKCIrZSsibisyKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1iIik7ZT4yJiZmLmZpbHRlcigiOm50aC1jaGlsZCgzbiszKSIpLmFkZENsYXNzKCJ1aS1ibG9jay1jIik7ZT4zJiZmLmZpbHRlcigiOm50aC1jaGlsZCg0bis0KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1kIik7ZT40JiZmLmZpbHRlcigiOm50aC1jaGlsZCg1bis1KSIpLmFkZENsYXNzKCJ1aS1ibG9jay1lIil9KX19KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLndpZGdldCgibW9iaWxlLm5hdmJhciIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOntpY29ucG9zOiJ0b3AiLGdyaWQ6bnVsbCxpbml0U2VsZWN0b3I6IjpqcW1EYXRhKHJvbGU9J25hdmJhcicpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBjPXRoaXMuZWxlbWVudCxiPWMuZmluZCgiYSIpLGY9Yi5maWx0ZXIoIjpqcW1EYXRhKGljb24pIikubGVuZ3RoP3RoaXMub3B0aW9ucy5pY29ucG9zOmQ7Yy5hZGRDbGFzcygidWktbmF2YmFyIikuYXR0cigicm9sZSIsIm5hdmlnYXRpb24iKS5maW5kKCJ1bCIpLmdyaWQoe2dyaWQ6dGhpcy5vcHRpb25zLmdyaWR9KTtmfHxjLmFkZENsYXNzKCJ1aS1uYXZiYXItbm9pY29ucyIpO2IuYnV0dG9uTWFya3VwKHtjb3JuZXJzOiExLHNoYWRvdzohMSxpY29ucG9zOmZ9KTtjLmRlbGVnYXRlKCJhIiwidmNsaWNrIixmdW5jdGlvbigpe2Iubm90KCIudWktc3RhdGUtcGVyc2lzdCIpLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKTsKYSh0aGlzKS5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YShhLm1vYmlsZS5uYXZiYXIucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGMudGFyZ2V0KS5uYXZiYXIoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe3ZhciBkPXt9O2Eud2lkZ2V0KCJtb2JpbGUubGlzdHZpZXciLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6ImMiLGNvdW50VGhlbWU6ImMiLGhlYWRlclRoZW1lOiJiIixkaXZpZGVyVGhlbWU6ImIiLHNwbGl0SWNvbjoiYXJyb3ctciIsc3BsaXRUaGVtZToiYiIsaW5zZXQ6ITEsaW5pdFNlbGVjdG9yOiI6anFtRGF0YShyb2xlPSdsaXN0dmlldycpIn0sX2NyZWF0ZTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS5lbGVtZW50LmFkZENsYXNzKGZ1bmN0aW9uKGIsZCl7cmV0dXJuIGQrIiB1aS1saXN0dmlldyAiKyhhLm9wdGlvbnMuaW5zZXQ/IiB1aS1saXN0dmlldy1pbnNldCB1aS1jb3JuZXItYWxsIHVpLXNoYWRvdyAiOiIiKX0pO2EucmVmcmVzaCgpfSxfaXRlbUFwcGx5OmZ1bmN0aW9uKGMsYil7Yi5maW5kKCIudWktbGktY291bnQiKS5hZGRDbGFzcygidWktYnRuLXVwLSIrKGMuanFtRGF0YSgiY291bnR0aGVtZSIpfHx0aGlzLm9wdGlvbnMuY291bnRUaGVtZSkrCiIgdWktYnRuLWNvcm5lci1hbGwiKS5lbmQoKS5maW5kKCJoMSwgaDIsIGgzLCBoNCwgaDUsIGg2IikuYWRkQ2xhc3MoInVpLWxpLWhlYWRpbmciKS5lbmQoKS5maW5kKCJwLCBkbCIpLmFkZENsYXNzKCJ1aS1saS1kZXNjIikuZW5kKCkuZmluZCgiPmltZzplcSgwKSwgLnVpLWxpbmstaW5oZXJpdD5pbWc6ZXEoMCkiKS5hZGRDbGFzcygidWktbGktdGh1bWIiKS5lYWNoKGZ1bmN0aW9uKCl7Yi5hZGRDbGFzcyhhKHRoaXMpLmlzKCIudWktbGktaWNvbiIpPyJ1aS1saS1oYXMtaWNvbiI6InVpLWxpLWhhcy10aHVtYiIpfSkuZW5kKCkuZmluZCgiLnVpLWxpLWFzaWRlIikuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5wcmVwZW5kVG8oYi5wYXJlbnQoKSl9KX0sX3JlbW92ZUNvcm5lcnM6ZnVuY3Rpb24oYSxiKXthPWEuYWRkKGEuZmluZCgiLnVpLWJ0bi1pbm5lciwgLnVpLWxpLWxpbmstYWx0LCAudWktbGktdGh1bWIiKSk7Yj09PSJ0b3AiP2EucmVtb3ZlQ2xhc3MoInVpLWNvcm5lci10b3AgdWktY29ybmVyLXRyIHVpLWNvcm5lci10bCIpOgpiPT09ImJvdHRvbSI/YS5yZW1vdmVDbGFzcygidWktY29ybmVyLWJvdHRvbSB1aS1jb3JuZXItYnIgdWktY29ybmVyLWJsIik6YS5yZW1vdmVDbGFzcygidWktY29ybmVyLXRvcCB1aS1jb3JuZXItdHIgdWktY29ybmVyLXRsIHVpLWNvcm5lci1ib3R0b20gdWktY29ybmVyLWJyIHVpLWNvcm5lci1ibCIpfSxyZWZyZXNoOmZ1bmN0aW9uKGMpe3RoaXMucGFyZW50UGFnZT10aGlzLmVsZW1lbnQuY2xvc2VzdCgiLnVpLXBhZ2UiKTt0aGlzLl9jcmVhdGVTdWJQYWdlcygpO3ZhciBiPXRoaXMub3B0aW9ucyxkPXRoaXMuZWxlbWVudCxlPWQuanFtRGF0YSgiZGl2aWRlcnRoZW1lIil8fGIuZGl2aWRlclRoZW1lLGc9ZC5qcW1EYXRhKCJzcGxpdHRoZW1lIiksaD1kLmpxbURhdGEoInNwbGl0aWNvbiIpLGk9ZC5jaGlsZHJlbigibGkiKSxrPWEuc3VwcG9ydC5jc3NQc2V1ZG9FbGVtZW50fHwhYS5ub2RlTmFtZShkWzBdLCJvbCIpPzA6MSxsLG0scCxvLGo7ayYmZC5maW5kKCIudWktbGktZGVjIikucmVtb3ZlKCk7CmZvcih2YXIgcT0wLG49aS5sZW5ndGg7cTxuO3ErKyl7bD1pLmVxKHEpO209InVpLWxpIjtpZihjfHwhbC5oYXNDbGFzcygidWktbGkiKSlwPWwuanFtRGF0YSgidGhlbWUiKXx8Yi50aGVtZSxvPWwuY2hpbGRyZW4oImEiKSxvLmxlbmd0aD8oaj1sLmpxbURhdGEoImljb24iKSxsLmJ1dHRvbk1hcmt1cCh7d3JhcHBlckVsczoiZGl2IixzaGFkb3c6ITEsY29ybmVyczohMSxpY29ucG9zOiJyaWdodCIsaWNvbjpvLmxlbmd0aD4xfHxqPT09ITE/ITE6anx8ImFycm93LXIiLHRoZW1lOnB9KSxvLmZpcnN0KCkuYWRkQ2xhc3MoInVpLWxpbmstaW5oZXJpdCIpLG8ubGVuZ3RoPjEmJihtKz0iIHVpLWxpLWhhcy1hbHQiLG89by5sYXN0KCksaj1nfHxvLmpxbURhdGEoInRoZW1lIil8fGIuc3BsaXRUaGVtZSxvLmFwcGVuZFRvKGwpLmF0dHIoInRpdGxlIixvLnRleHQoKSkuYWRkQ2xhc3MoInVpLWxpLWxpbmstYWx0IikuZW1wdHkoKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMSxjb3JuZXJzOiExLAp0aGVtZTpwLGljb246ITEsaWNvbnBvczohMX0pLmZpbmQoIi51aS1idG4taW5uZXIiKS5hcHBlbmQoYSgiPHNwYW4gLz4iKS5idXR0b25NYXJrdXAoe3NoYWRvdzohMCxjb3JuZXJzOiEwLHRoZW1lOmosaWNvbnBvczoibm90ZXh0IixpY29uOmh8fG8uanFtRGF0YSgiaWNvbiIpfHxiLnNwbGl0SWNvbn0pKSkpOmwuanFtRGF0YSgicm9sZSIpPT09Imxpc3QtZGl2aWRlciI/KG0rPSIgdWktbGktZGl2aWRlciB1aS1idG4gdWktYmFyLSIrZSxsLmF0dHIoInJvbGUiLCJoZWFkaW5nIiksayYmKGs9MSkpOm0rPSIgdWktbGktc3RhdGljIHVpLWJvZHktIitwO2IuaW5zZXQmJihxPT09MCYmKG0rPSIgdWktY29ybmVyLXRvcCIsbC5hZGQobC5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItdHIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5hZGRDbGFzcygidWktY29ybmVyLXRsIiksbC5uZXh0KCkubmV4dCgpLmxlbmd0aCYmCnRoaXMuX3JlbW92ZUNvcm5lcnMobC5uZXh0KCkpKSxxPT09aS5sZW5ndGgtMSYmKG0rPSIgdWktY29ybmVyLWJvdHRvbSIsbC5hZGQobC5maW5kKCIudWktYnRuLWlubmVyIikpLmZpbmQoIi51aS1saS1saW5rLWFsdCIpLmFkZENsYXNzKCJ1aS1jb3JuZXItYnIiKS5lbmQoKS5maW5kKCIudWktbGktdGh1bWIiKS5hZGRDbGFzcygidWktY29ybmVyLWJsIiksbC5wcmV2KCkucHJldigpLmxlbmd0aD90aGlzLl9yZW1vdmVDb3JuZXJzKGwucHJldigpKTpsLnByZXYoKS5sZW5ndGgmJnRoaXMuX3JlbW92ZUNvcm5lcnMobC5wcmV2KCksImJvdHRvbSIpKSk7ayYmbS5pbmRleE9mKCJ1aS1saS1kaXZpZGVyIik8MCYmKHA9bC5pcygiLnVpLWxpLXN0YXRpYzpmaXJzdCIpP2w6bC5maW5kKCIudWktbGluay1pbmhlcml0IikscC5hZGRDbGFzcygidWktbGktanNudW1iZXJpbmciKS5wcmVwZW5kKCI8c3BhbiBjbGFzcz0ndWktbGktZGVjJz4iK2srKyArIi4gPC9zcGFuPiIpKTtsLmFkZChsLmNoaWxkcmVuKCIudWktYnRuLWlubmVyIikpLmFkZENsYXNzKG0pOwpjfHx0aGlzLl9pdGVtQXBwbHkoZCxsKX19LF9pZFN0cmluZ0VzY2FwZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZywiLSIpfSxfY3JlYXRlU3ViUGFnZXM6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj1jLmNsb3Nlc3QoIi51aS1wYWdlIiksZj1iLmpxbURhdGEoInVybCIpLGU9Znx8YlswXVthLmV4cGFuZG9dLGc9Yy5hdHRyKCJpZCIpLGg9dGhpcy5vcHRpb25zLGk9ImRhdGEtIithLm1vYmlsZS5ucyxrPXRoaXMsbD1iLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIikuanFtRGF0YSgiaWQiKSxtO3R5cGVvZiBkW2VdPT09InVuZGVmaW5lZCImJihkW2VdPS0xKTtnPWd8fCsrZFtlXTthKGMuZmluZCgibGk+dWwsIGxpPm9sIikudG9BcnJheSgpLnJldmVyc2UoKSkuZWFjaChmdW5jdGlvbihiKXt2YXIgZD1hKHRoaXMpLGU9ZC5hdHRyKCJpZCIpfHxnKyItIitiLGI9ZC5wYXJlbnQoKSxrPWEoZC5wcmV2QWxsKCkudG9BcnJheSgpLnJldmVyc2UoKSksCms9ay5sZW5ndGg/azphKCI8c3Bhbj4iK2EudHJpbShiLmNvbnRlbnRzKClbMF0ubm9kZVZhbHVlKSsiPC9zcGFuPiIpLG49ay5maXJzdCgpLnRleHQoKSxlPShmfHwiIikrIiYiK2EubW9iaWxlLnN1YlBhZ2VVcmxLZXkrIj0iK2UseD1kLmpxbURhdGEoInRoZW1lIil8fGgudGhlbWUsej1kLmpxbURhdGEoImNvdW50dGhlbWUiKXx8Yy5qcW1EYXRhKCJjb3VudHRoZW1lIil8fGguY291bnRUaGVtZTttPSEwO2QuZGV0YWNoKCkud3JhcCgiPGRpdiAiK2krInJvbGU9J3BhZ2UnICIraSsidXJsPSciK2UrIicgIitpKyJ0aGVtZT0nIit4KyInICIraSsiY291bnQtdGhlbWU9JyIreisiJz48ZGl2ICIraSsicm9sZT0nY29udGVudCc+PC9kaXY+PC9kaXY+IikucGFyZW50KCkuYmVmb3JlKCI8ZGl2ICIraSsicm9sZT0naGVhZGVyJyAiK2krInRoZW1lPSciK2guaGVhZGVyVGhlbWUrIic+PGRpdiBjbGFzcz0ndWktdGl0bGUnPiIrbisiPC9kaXY+PC9kaXY+IikuYWZ0ZXIobD9hKCI8ZGl2ICIrCmkrInJvbGU9J2Zvb3RlcicgIitpKyJpZD0nIitsKyInPiIpOiIiKS5wYXJlbnQoKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKS5wYWdlKCk7ZD1iLmZpbmQoImE6Zmlyc3QiKTtkLmxlbmd0aHx8KGQ9YSgiPGEvPiIpLmh0bWwoa3x8bikucHJlcGVuZFRvKGIuZW1wdHkoKSkpO2QuYXR0cigiaHJlZiIsIiMiK2UpfSkubGlzdHZpZXcoKTttJiZiLmRhdGEoInBhZ2UiKS5vcHRpb25zLmRvbUNhY2hlPT09ITEmJmIudW5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiKS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKGMsZCl7dmFyIGU9ZC5uZXh0UGFnZTtkLm5leHRQYWdlJiYoZT1lLmpxbURhdGEoInVybCIpLGUuaW5kZXhPZihmKyImIithLm1vYmlsZS5zdWJQYWdlVXJsS2V5KSE9PTAmJihrLmNoaWxkUGFnZXMoKS5yZW1vdmUoKSxiLnJlbW92ZSgpKSl9KX0sY2hpbGRQYWdlczpmdW5jdGlvbigpe3ZhciBjPXRoaXMucGFyZW50UGFnZS5qcW1EYXRhKCJ1cmwiKTtyZXR1cm4gYSgiOmpxbURhdGEodXJsXj0nIisKYysiJiIrYS5tb2JpbGUuc3ViUGFnZVVybEtleSsiJykiKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oYyl7YShhLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsYy50YXJnZXQpLmxpc3R2aWV3KCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhKXthLm1vYmlsZS5saXN0dmlldy5wcm90b3R5cGUub3B0aW9ucy5maWx0ZXI9ITE7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXI9IkZpbHRlciBpdGVtcy4uLiI7YS5tb2JpbGUubGlzdHZpZXcucHJvdG90eXBlLm9wdGlvbnMuZmlsdGVyVGhlbWU9ImMiO2EoIjpqcW1EYXRhKHJvbGU9J2xpc3R2aWV3JykiKS5saXZlKCJsaXN0dmlld2NyZWF0ZSIsZnVuY3Rpb24oKXt2YXIgZD1hKHRoaXMpLGM9ZC5kYXRhKCJsaXN0dmlldyIpO2lmKGMub3B0aW9ucy5maWx0ZXIpe3ZhciBiPWEoIjxmb3JtPiIseyJjbGFzcyI6InVpLWxpc3R2aWV3LWZpbHRlciB1aS1iYXItIitjLm9wdGlvbnMuZmlsdGVyVGhlbWUscm9sZToic2VhcmNoIn0pO2EoIjxpbnB1dD4iLHtwbGFjZWhvbGRlcjpjLm9wdGlvbnMuZmlsdGVyUGxhY2Vob2xkZXJ9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInR5cGUiLCJzZWFyY2giKS5qcW1EYXRhKCJsYXN0dmFsIiwKIiIpLmJpbmQoImtleXVwIGNoYW5nZSIsZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpLGM9dGhpcy52YWx1ZS50b0xvd2VyQ2FzZSgpLGc9bnVsbCxnPWIuanFtRGF0YSgibGFzdHZhbCIpKyIiLGg9ITEsaT0iIjtiLmpxbURhdGEoImxhc3R2YWwiLGMpO2NoYW5nZT1jLnJlcGxhY2UoUmVnRXhwKCJeIitnKSwiIik7Zz1jLmxlbmd0aDxnLmxlbmd0aHx8Y2hhbmdlLmxlbmd0aCE9Yy5sZW5ndGgtZy5sZW5ndGg/ZC5jaGlsZHJlbigpOmQuY2hpbGRyZW4oIjpub3QoLnVpLXNjcmVlbi1oaWRkZW4pIik7aWYoYyl7Zm9yKHZhciBrPWcubGVuZ3RoLTE7az49MDtrLS0pYj1hKGdba10pLGk9Yi5qcW1EYXRhKCJmaWx0ZXJ0ZXh0Iil8fGIudGV4dCgpLGIuaXMoImxpOmpxbURhdGEocm9sZT1saXN0LWRpdmlkZXIpIik/KGIudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCFoKSxoPSExKTppLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihjKT09PS0xP2IudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLAohMCk6aD0hMDtnLmZpbHRlcigiOm5vdCgudWktZmlsdGVyLWhpZGVxdWV1ZSkiKS50b2dnbGVDbGFzcygidWktc2NyZWVuLWhpZGRlbiIsITEpO2cuZmlsdGVyKCIudWktZmlsdGVyLWhpZGVxdWV1ZSIpLnRvZ2dsZUNsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiwhMCkudG9nZ2xlQ2xhc3MoInVpLWZpbHRlci1oaWRlcXVldWUiLCExKX1lbHNlIGcudG9nZ2xlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iLCExKX0pLmFwcGVuZFRvKGIpLnRleHRpbnB1dCgpO2EodGhpcykuanFtRGF0YSgiaW5zZXQiKSYmYi5hZGRDbGFzcygidWktbGlzdHZpZXctZmlsdGVyLWluc2V0Iik7Yi5iaW5kKCJzdWJtaXQiLGZ1bmN0aW9uKCl7cmV0dXJuITF9KS5pbnNlcnRCZWZvcmUoZCl9fSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YSgiOmpxbURhdGEocm9sZT0nbm9qcycpIixkLnRhcmdldCkuYWRkQ2xhc3MoInVpLW5vanMiKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEsZCl7YS53aWRnZXQoIm1vYmlsZS5jaGVja2JveHJhZGlvIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsaW5pdFNlbGVjdG9yOiJpbnB1dFt0eXBlPSdjaGVja2JveCddLGlucHV0W3R5cGU9J3JhZGlvJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxmPWIuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJsYWJlbCIpLmZpbHRlcigiW2Zvcj0nIitiWzBdLmlkKyInXSIpLGU9Yi5hdHRyKCJ0eXBlIiksZz1lKyItb24iLGg9ZSsiLW9mZiIsaT1iLnBhcmVudHMoIjpqcW1EYXRhKHR5cGU9J2hvcml6b250YWwnKSIpLmxlbmd0aD9kOmg7aWYoIShlIT09ImNoZWNrYm94IiYmZSE9PSJyYWRpbyIpKXthLmV4dGVuZCh0aGlzLHtsYWJlbDpmLGlucHV0dHlwZTplLGNoZWNrZWRDbGFzczoidWktIitnKyhpPyIiOiIgIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyksCnVuY2hlY2tlZENsYXNzOiJ1aS0iK2gsY2hlY2tlZGljb246InVpLWljb24tIitnLHVuY2hlY2tlZGljb246InVpLWljb24tIitofSk7aWYoIXRoaXMub3B0aW9ucy50aGVtZSl0aGlzLm9wdGlvbnMudGhlbWU9dGhpcy5lbGVtZW50LmpxbURhdGEoInRoZW1lIik7Zi5idXR0b25NYXJrdXAoe3RoZW1lOnRoaXMub3B0aW9ucy50aGVtZSxpY29uOmksc2hhZG93OiExfSk7Yi5hZGQoZikud3JhcEFsbCgiPGRpdiBjbGFzcz0ndWktIitlKyInPjwvZGl2PiIpO2YuYmluZCh7dm1vdXNlb3ZlcjpmdW5jdGlvbigpe2lmKGEodGhpcykucGFyZW50KCkuaXMoIi51aS1kaXNhYmxlZCIpKXJldHVybiExfSx2Y2xpY2s6ZnVuY3Rpb24oYSl7aWYoYi5pcygiOmRpc2FibGVkIikpYS5wcmV2ZW50RGVmYXVsdCgpO2Vsc2UgcmV0dXJuIGMuX2NhY2hlVmFscygpLGIucHJvcCgiY2hlY2tlZCIsZT09PSJyYWRpbyImJiEwfHwhYi5wcm9wKCJjaGVja2VkIikpLGMuX2dldElucHV0U2V0KCkubm90KGIpLnByb3AoImNoZWNrZWQiLAohMSksYy5fdXBkYXRlQWxsKCksITF9fSk7Yi5iaW5kKHt2bW91c2Vkb3duOmZ1bmN0aW9uKCl7dGhpcy5fY2FjaGVWYWxzKCl9LHZjbGljazpmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7Yi5pcygiOmNoZWNrZWQiKT8oYi5wcm9wKCJjaGVja2VkIiwhMCksYy5fZ2V0SW5wdXRTZXQoKS5ub3QoYikucHJvcCgiY2hlY2tlZCIsITEpKTpiLnByb3AoImNoZWNrZWQiLCExKTtjLl91cGRhdGVBbGwoKX0sZm9jdXM6ZnVuY3Rpb24oKXtmLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSxibHVyOmZ1bmN0aW9uKCl7Zi5yZW1vdmVDbGFzcygidWktZm9jdXMiKX19KTt0aGlzLnJlZnJlc2goKX19LF9jYWNoZVZhbHM6ZnVuY3Rpb24oKXt0aGlzLl9nZXRJbnB1dFNldCgpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuanFtRGF0YSgiY2FjaGVWYWwiLGMuaXMoIjpjaGVja2VkIikpfSl9LF9nZXRJbnB1dFNldDpmdW5jdGlvbigpe2lmKHRoaXMuaW5wdXR0eXBlPT0iY2hlY2tib3giKXJldHVybiB0aGlzLmVsZW1lbnQ7CnJldHVybiB0aGlzLmVsZW1lbnQuY2xvc2VzdCgiZm9ybSxmaWVsZHNldCw6anFtRGF0YShyb2xlPSdwYWdlJykiKS5maW5kKCJpbnB1dFtuYW1lPSciK3RoaXMuZWxlbWVudC5hdHRyKCJuYW1lIikrIiddW3R5cGU9JyIrdGhpcy5pbnB1dHR5cGUrIiddIil9LF91cGRhdGVBbGw6ZnVuY3Rpb24oKXt2YXIgYz10aGlzO3RoaXMuX2dldElucHV0U2V0KCkuZWFjaChmdW5jdGlvbigpe3ZhciBiPWEodGhpcyk7KGIuaXMoIjpjaGVja2VkIil8fGMuaW5wdXR0eXBlPT09ImNoZWNrYm94IikmJmIudHJpZ2dlcigiY2hhbmdlIil9KS5jaGVja2JveHJhZGlvKCJyZWZyZXNoIil9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYz10aGlzLmVsZW1lbnQsYj10aGlzLmxhYmVsLGQ9Yi5maW5kKCIudWktaWNvbiIpO2EoY1swXSkucHJvcCgiY2hlY2tlZCIpPyhiLmFkZENsYXNzKHRoaXMuY2hlY2tlZENsYXNzKS5yZW1vdmVDbGFzcyh0aGlzLnVuY2hlY2tlZENsYXNzKSxkLmFkZENsYXNzKHRoaXMuY2hlY2tlZGljb24pLnJlbW92ZUNsYXNzKHRoaXMudW5jaGVja2VkaWNvbikpOgooYi5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRDbGFzcykuYWRkQ2xhc3ModGhpcy51bmNoZWNrZWRDbGFzcyksZC5yZW1vdmVDbGFzcyh0aGlzLmNoZWNrZWRpY29uKS5hZGRDbGFzcyh0aGlzLnVuY2hlY2tlZGljb24pKTtjLmlzKCI6ZGlzYWJsZWQiKT90aGlzLmRpc2FibGUoKTp0aGlzLmVuYWJsZSgpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LnByb3AoImRpc2FibGVkIiwhMCkucGFyZW50KCkuYWRkQ2xhc3MoInVpLWRpc2FibGVkIil9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5wcm9wKCJkaXNhYmxlZCIsITEpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihjKXthKGEubW9iaWxlLmNoZWNrYm94cmFkaW8ucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGMudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuY2hlY2tib3hyYWRpbygpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS5idXR0b24iLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpY29uOm51bGwsaWNvbnBvczpudWxsLGlubGluZTpudWxsLGNvcm5lcnM6ITAsc2hhZG93OiEwLGljb25zaGFkb3c6ITAsaW5pdFNlbGVjdG9yOiJidXR0b24sIFt0eXBlPSdidXR0b24nXSwgW3R5cGU9J3N1Ym1pdCddLCBbdHlwZT0ncmVzZXQnXSwgW3R5cGU9J2ltYWdlJ10ifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zO3RoaXMuYnV0dG9uPWEoIjxkaXY+PC9kaXY+IikudGV4dChkLnRleHQoKXx8ZC52YWwoKSkuYnV0dG9uTWFya3VwKHt0aGVtZTpjLnRoZW1lLGljb246Yy5pY29uLGljb25wb3M6Yy5pY29ucG9zLGlubGluZTpjLmlubGluZSxjb3JuZXJzOmMuY29ybmVycyxzaGFkb3c6Yy5zaGFkb3csaWNvbnNoYWRvdzpjLmljb25zaGFkb3d9KS5pbnNlcnRCZWZvcmUoZCkuYXBwZW5kKGQuYWRkQ2xhc3MoInVpLWJ0bi1oaWRkZW4iKSk7CmM9ZC5hdHRyKCJ0eXBlIik7YyE9PSJidXR0b24iJiZjIT09InJlc2V0IiYmZC5iaW5kKCJ2Y2xpY2siLGZ1bmN0aW9uKCl7dmFyIGI9YSgiPGlucHV0PiIse3R5cGU6ImhpZGRlbiIsbmFtZTpkLmF0dHIoIm5hbWUiKSx2YWx1ZTpkLmF0dHIoInZhbHVlIil9KS5pbnNlcnRCZWZvcmUoZCk7YShkb2N1bWVudCkuc3VibWl0KGZ1bmN0aW9uKCl7Yi5yZW1vdmUoKX0pfSk7dGhpcy5yZWZyZXNoKCl9LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuYnV0dG9uLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5idXR0b24uYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwKITApfSxyZWZyZXNoOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIik/dGhpcy5kaXNhYmxlKCk6dGhpcy5lbmFibGUoKX19KTthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShhLm1vYmlsZS5idXR0b24ucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGQudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuYnV0dG9uKCl9KX0pKGpRdWVyeSk7CihmdW5jdGlvbihhLGQpe2Eud2lkZ2V0KCJtb2JpbGUuc2xpZGVyIixhLm1vYmlsZS53aWRnZXQse29wdGlvbnM6e3RoZW1lOm51bGwsdHJhY2tUaGVtZTpudWxsLGRpc2FibGVkOiExLGluaXRTZWxlY3RvcjoiaW5wdXRbdHlwZT0ncmFuZ2UnXSwgOmpxbURhdGEodHlwZT0ncmFuZ2UnKSwgOmpxbURhdGEocm9sZT0nc2xpZGVyJykifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxmPWIucGFyZW50cygiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iKS5lcSgwKSxmPWYubGVuZ3RoP2YuYXR0cigiY2xhc3MiKS5tYXRjaCgvdWktKGJhcnxib2R5KS0oW2Etel0pLylbMl06ImMiLGU9dGhpcy5vcHRpb25zLnRoZW1lP3RoaXMub3B0aW9ucy50aGVtZTpmLGc9dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU/dGhpcy5vcHRpb25zLnRyYWNrVGhlbWU6ZixoPWJbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxmPWg9PSJzZWxlY3QiPyJ1aS1zbGlkZXItc3dpdGNoIjoKIiIsaT1iLmF0dHIoImlkIiksaz1pKyItbGFiZWwiLGk9YSgiW2Zvcj0nIitpKyInXSIpLmF0dHIoImlkIixrKSxsPWZ1bmN0aW9uKCl7cmV0dXJuIGg9PSJpbnB1dCI/cGFyc2VGbG9hdChiLnZhbCgpKTpiWzBdLnNlbGVjdGVkSW5kZXh9LG09aD09ImlucHV0Ij9wYXJzZUZsb2F0KGIuYXR0cigibWluIikpOjAscD1oPT0iaW5wdXQiP3BhcnNlRmxvYXQoYi5hdHRyKCJtYXgiKSk6Yi5maW5kKCJvcHRpb24iKS5sZW5ndGgtMSxvPXdpbmRvdy5wYXJzZUZsb2F0KGIuYXR0cigic3RlcCIpfHwxKSxqPWEoIjxkaXYgY2xhc3M9J3VpLXNsaWRlciAiK2YrIiB1aS1idG4tZG93bi0iK2crIiB1aS1idG4tY29ybmVyLWFsbCcgcm9sZT0nYXBwbGljYXRpb24nPjwvZGl2PiIpLHE9YSgiPGEgaHJlZj0nIycgY2xhc3M9J3VpLXNsaWRlci1oYW5kbGUnPjwvYT4iKS5hcHBlbmRUbyhqKS5idXR0b25NYXJrdXAoe2Nvcm5lcnM6ITAsdGhlbWU6ZSxzaGFkb3c6ITB9KS5hdHRyKHtyb2xlOiJzbGlkZXIiLAoiYXJpYS12YWx1ZW1pbiI6bSwiYXJpYS12YWx1ZW1heCI6cCwiYXJpYS12YWx1ZW5vdyI6bCgpLCJhcmlhLXZhbHVldGV4dCI6bCgpLHRpdGxlOmwoKSwiYXJpYS1sYWJlbGxlZGJ5IjprfSk7YS5leHRlbmQodGhpcyx7c2xpZGVyOmosaGFuZGxlOnEsZHJhZ2dpbmc6ITEsYmVmb3JlU3RhcnQ6bnVsbH0pO2g9PSJzZWxlY3QiJiYoai53cmFwSW5uZXIoIjxkaXYgY2xhc3M9J3VpLXNsaWRlci1pbm5lcm9mZnNldCc+PC9kaXY+IiksYi5maW5kKCJvcHRpb24iKSxiLmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oYil7dmFyIGM9IWI/ImIiOiJhIixkPSFiPyJyaWdodCI6ImxlZnQiLGI9IWI/IiB1aS1idG4tZG93bi0iK2c6IiB1aS1idG4tYWN0aXZlIjthKCI8ZGl2IGNsYXNzPSd1aS1zbGlkZXItbGFiZWxiZyB1aS1zbGlkZXItbGFiZWxiZy0iK2MrYisiIHVpLWJ0bi1jb3JuZXItIitkKyInPjwvZGl2PiIpLnByZXBlbmRUbyhqKTthKCI8c3BhbiBjbGFzcz0ndWktc2xpZGVyLWxhYmVsIHVpLXNsaWRlci1sYWJlbC0iKwpjK2IrIiB1aS1idG4tY29ybmVyLSIrZCsiJyByb2xlPSdpbWcnPiIrYSh0aGlzKS50ZXh0KCkrIjwvc3Bhbj4iKS5wcmVwZW5kVG8ocSl9KSk7aS5hZGRDbGFzcygidWktc2xpZGVyIik7Yi5hZGRDbGFzcyhoPT09ImlucHV0Ij8idWktc2xpZGVyLWlucHV0IjoidWktc2xpZGVyLXN3aXRjaCIpLmNoYW5nZShmdW5jdGlvbigpe2MucmVmcmVzaChsKCksITApfSkua2V5dXAoZnVuY3Rpb24oKXtjLnJlZnJlc2gobCgpLCEwLCEwKX0pLmJsdXIoZnVuY3Rpb24oKXtjLnJlZnJlc2gobCgpLCEwKX0pO2EoZG9jdW1lbnQpLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKGEpe2lmKGMuZHJhZ2dpbmcpcmV0dXJuIGMucmVmcmVzaChhKSwhMX0pO2ouYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oYSl7Yy5kcmFnZ2luZz0hMDtpZihoPT09InNlbGVjdCIpYy5iZWZvcmVTdGFydD1iWzBdLnNlbGVjdGVkSW5kZXg7Yy5yZWZyZXNoKGEpO3JldHVybiExfSk7ai5hZGQoZG9jdW1lbnQpLmJpbmQoInZtb3VzZXVwIiwKZnVuY3Rpb24oKXtpZihjLmRyYWdnaW5nKXtjLmRyYWdnaW5nPSExO2lmKGg9PT0ic2VsZWN0Iil7Yy5iZWZvcmVTdGFydD09PWJbMF0uc2VsZWN0ZWRJbmRleCYmYy5yZWZyZXNoKCFjLmJlZm9yZVN0YXJ0PzE6MCk7dmFyIGE9bCgpLGE9TWF0aC5yb3VuZChhLyhwLW0pKjEwMCk7cS5hZGRDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpLmNzcygibGVmdCIsYSsiJSIpLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7cS5yZW1vdmVDbGFzcygidWktc2xpZGVyLWhhbmRsZS1zbmFwcGluZyIpfSl9cmV0dXJuITF9fSk7ai5pbnNlcnRBZnRlcihiKTt0aGlzLmhhbmRsZS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2EodGhpcykuZm9jdXMoKX0pLmJpbmQoInZjbGljayIsITEpO3RoaXMuaGFuZGxlLmJpbmQoImtleWRvd24iLGZ1bmN0aW9uKGIpe3ZhciBkPWwoKTtpZighYy5vcHRpb25zLmRpc2FibGVkKXtzd2l0Y2goYi5rZXlDb2RlKXtjYXNlIGEubW9iaWxlLmtleUNvZGUuSE9NRTpjYXNlIGEubW9iaWxlLmtleUNvZGUuRU5EOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX0RPV046Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlVQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5SSUdIVDpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDppZihiLnByZXZlbnREZWZhdWx0KCksCiFjLl9rZXlTbGlkaW5nKWMuX2tleVNsaWRpbmc9ITAsYSh0aGlzKS5hZGRDbGFzcygidWktc3RhdGUtYWN0aXZlIil9c3dpdGNoKGIua2V5Q29kZSl7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLkhPTUU6Yy5yZWZyZXNoKG0pO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5FTkQ6Yy5yZWZyZXNoKHApO2JyZWFrO2Nhc2UgYS5tb2JpbGUua2V5Q29kZS5QQUdFX1VQOmNhc2UgYS5tb2JpbGUua2V5Q29kZS5VUDpjYXNlIGEubW9iaWxlLmtleUNvZGUuUklHSFQ6Yy5yZWZyZXNoKGQrbyk7YnJlYWs7Y2FzZSBhLm1vYmlsZS5rZXlDb2RlLlBBR0VfRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuRE9XTjpjYXNlIGEubW9iaWxlLmtleUNvZGUuTEVGVDpjLnJlZnJlc2goZC1vKX19fSkua2V5dXAoZnVuY3Rpb24oKXtpZihjLl9rZXlTbGlkaW5nKWMuX2tleVNsaWRpbmc9ITEsYSh0aGlzKS5yZW1vdmVDbGFzcygidWktc3RhdGUtYWN0aXZlIil9KTt0aGlzLnJlZnJlc2goZCxkLCEwKX0scmVmcmVzaDpmdW5jdGlvbihhLApiLGQpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuZWxlbWVudCxnPWVbMF0ubm9kZU5hbWUudG9Mb3dlckNhc2UoKSxoPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtaW4iKSk6MCxpPWc9PT0iaW5wdXQiP3BhcnNlRmxvYXQoZS5hdHRyKCJtYXgiKSk6ZS5maW5kKCJvcHRpb24iKS5sZW5ndGgtMTtpZih0eXBlb2YgYT09PSJvYmplY3QiKXtpZighdGhpcy5kcmFnZ2luZ3x8YS5wYWdlWDx0aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0LTh8fGEucGFnZVg+dGhpcy5zbGlkZXIub2Zmc2V0KCkubGVmdCt0aGlzLnNsaWRlci53aWR0aCgpKzgpcmV0dXJuO2E9TWF0aC5yb3VuZCgoYS5wYWdlWC10aGlzLnNsaWRlci5vZmZzZXQoKS5sZWZ0KS90aGlzLnNsaWRlci53aWR0aCgpKjEwMCl9ZWxzZSBhPT1udWxsJiYoYT1nPT09ImlucHV0Ij9wYXJzZUZsb2F0KGUudmFsKCkpOmVbMF0uc2VsZWN0ZWRJbmRleCksYT0ocGFyc2VGbG9hdChhKS1oKS8oaS1oKSoKMTAwO2lmKCFpc05hTihhKSl7YTwwJiYoYT0wKTthPjEwMCYmKGE9MTAwKTt2YXIgaz1NYXRoLnJvdW5kKGEvMTAwKihpLWgpKStoO2s8aCYmKGs9aCk7az5pJiYoaz1pKTt0aGlzLmhhbmRsZS5jc3MoImxlZnQiLGErIiUiKTt0aGlzLmhhbmRsZS5hdHRyKHsiYXJpYS12YWx1ZW5vdyI6Zz09PSJpbnB1dCI/azplLmZpbmQoIm9wdGlvbiIpLmVxKGspLmF0dHIoInZhbHVlIiksImFyaWEtdmFsdWV0ZXh0IjpnPT09ImlucHV0Ij9rOmUuZmluZCgib3B0aW9uIikuZXEoaykudGV4dCgpLHRpdGxlOmt9KTtnPT09InNlbGVjdCImJihrPT09MD90aGlzLnNsaWRlci5hZGRDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikucmVtb3ZlQ2xhc3MoInVpLXNsaWRlci1zd2l0Y2gtYiIpOnRoaXMuc2xpZGVyLmFkZENsYXNzKCJ1aS1zbGlkZXItc3dpdGNoLWIiKS5yZW1vdmVDbGFzcygidWktc2xpZGVyLXN3aXRjaC1hIikpO2lmKCFkKWc9PT0iaW5wdXQiP2UudmFsKGspOmVbMF0uc2VsZWN0ZWRJbmRleD0KayxifHxlLnRyaWdnZXIoImNoYW5nZSIpfX19LGVuYWJsZTpmdW5jdGlvbigpe3RoaXMuZWxlbWVudC5hdHRyKCJkaXNhYmxlZCIsITEpO3RoaXMuc2xpZGVyLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpLmF0dHIoImFyaWEtZGlzYWJsZWQiLCExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfSxkaXNhYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCk7dGhpcy5zbGlkZXIuYWRkQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsITApO3JldHVybiB0aGlzLl9zZXRPcHRpb24oImRpc2FibGVkIiwhMCl9fSk7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoYS5tb2JpbGUuc2xpZGVyLnByb3RvdHlwZS5vcHRpb25zLmluaXRTZWxlY3RvcixjLnRhcmdldCkubm90KCI6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLnNsaWRlcigpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS53aWRnZXQoIm1vYmlsZS50ZXh0aW5wdXQiLGEubW9iaWxlLndpZGdldCx7b3B0aW9uczp7dGhlbWU6bnVsbCxpbml0U2VsZWN0b3I6ImlucHV0W3R5cGU9J3RleHQnXSwgaW5wdXRbdHlwZT0nc2VhcmNoJ10sIDpqcW1EYXRhKHR5cGU9J3NlYXJjaCcpLCBpbnB1dFt0eXBlPSdudW1iZXInXSwgOmpxbURhdGEodHlwZT0nbnVtYmVyJyksIGlucHV0W3R5cGU9J3Bhc3N3b3JkJ10sIGlucHV0W3R5cGU9J2VtYWlsJ10sIGlucHV0W3R5cGU9J3VybCddLCBpbnB1dFt0eXBlPSd0ZWwnXSwgdGV4dGFyZWEifSxfY3JlYXRlOmZ1bmN0aW9uKCl7dmFyIGk7dmFyIGQ9dGhpcy5lbGVtZW50LGM9dGhpcy5vcHRpb25zLGI9Yy50aGVtZSxmLGU7Ynx8KGI9dGhpcy5lbGVtZW50LmNsb3Nlc3QoIltjbGFzcyo9J3VpLWJhci0nXSxbY2xhc3MqPSd1aS1ib2R5LSddIiksaT0oYj1iLmxlbmd0aCYmL3VpLShiYXJ8Ym9keSktKFthLXpdKS8uZXhlYyhiLmF0dHIoImNsYXNzIikpKSYmCmJbMl18fCJjIixiPWkpO2I9IiB1aS1ib2R5LSIrYjthKCJsYWJlbFtmb3I9JyIrZC5hdHRyKCJpZCIpKyInXSIpLmFkZENsYXNzKCJ1aS1pbnB1dC10ZXh0Iik7ZC5hZGRDbGFzcygidWktaW5wdXQtdGV4dCB1aS1ib2R5LSIrYy50aGVtZSk7Zj1kO3R5cGVvZiBkWzBdLmF1dG9jb3JyZWN0IT09InVuZGVmaW5lZCImJihkWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvcnJlY3QiLCJvZmYiKSxkWzBdLnNldEF0dHJpYnV0ZSgiYXV0b2NvbXBsZXRlIiwib2ZmIikpO2QuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpPyhmPWQud3JhcCgiPGRpdiBjbGFzcz0ndWktaW5wdXQtc2VhcmNoIHVpLXNoYWRvdy1pbnNldCB1aS1idG4tY29ybmVyLWFsbCB1aS1idG4tc2hhZG93IHVpLWljb24tc2VhcmNoZmllbGQiK2IrIic+PC9kaXY+IikucGFyZW50KCksZT1hKCI8YSBocmVmPScjJyBjbGFzcz0ndWktaW5wdXQtY2xlYXInIHRpdGxlPSdjbGVhciB0ZXh0Jz5jbGVhciB0ZXh0PC9hPiIpLnRhcChmdW5jdGlvbihhKXtkLnZhbCgiIikuZm9jdXMoKTsKZC50cmlnZ2VyKCJjaGFuZ2UiKTtlLmFkZENsYXNzKCJ1aS1pbnB1dC1jbGVhci1oaWRkZW4iKTthLnByZXZlbnREZWZhdWx0KCl9KS5hcHBlbmRUbyhmKS5idXR0b25NYXJrdXAoe2ljb246ImRlbGV0ZSIsaWNvbnBvczoibm90ZXh0Iixjb3JuZXJzOiEwLHNoYWRvdzohMH0pLGM9ZnVuY3Rpb24oKXtkLnZhbCgpP2UucmVtb3ZlQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpOmUuYWRkQ2xhc3MoInVpLWlucHV0LWNsZWFyLWhpZGRlbiIpfSxjKCksZC5rZXl1cChjKS5mb2N1cyhjKSk6ZC5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1zaGFkb3ctaW5zZXQiK2IpO2QuZm9jdXMoZnVuY3Rpb24oKXtmLmFkZENsYXNzKCJ1aS1mb2N1cyIpfSkuYmx1cihmdW5jdGlvbigpe2YucmVtb3ZlQ2xhc3MoInVpLWZvY3VzIil9KTtpZihkLmlzKCJ0ZXh0YXJlYSIpKXt2YXIgZz1mdW5jdGlvbigpe3ZhciBhPWRbMF0uc2Nyb2xsSGVpZ2h0O2RbMF0uY2xpZW50SGVpZ2h0PGEmJmQuY3NzKHtoZWlnaHQ6YSsKMTV9KX0saDtkLmtleXVwKGZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KGgpO2g9c2V0VGltZW91dChnLDEwMCl9KX19LGRpc2FibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMCkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLmFkZENsYXNzKCJ1aS1kaXNhYmxlZCIpfSxlbmFibGU6ZnVuY3Rpb24oKXsodGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSkuaXMoIlt0eXBlPSdzZWFyY2gnXSw6anFtRGF0YSh0eXBlPSdzZWFyY2gnKSIpP3RoaXMuZWxlbWVudC5wYXJlbnQoKTp0aGlzLmVsZW1lbnQpLnJlbW92ZUNsYXNzKCJ1aS1kaXNhYmxlZCIpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKGEubW9iaWxlLnRleHRpbnB1dC5wcm90b3R5cGUub3B0aW9ucy5pbml0U2VsZWN0b3IsZC50YXJnZXQpLm5vdCgiOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS50ZXh0aW5wdXQoKX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Eud2lkZ2V0KCJtb2JpbGUuc2VsZWN0bWVudSIsYS5tb2JpbGUud2lkZ2V0LHtvcHRpb25zOnt0aGVtZTpudWxsLGRpc2FibGVkOiExLGljb246ImFycm93LWQiLGljb25wb3M6InJpZ2h0IixpbmxpbmU6bnVsbCxjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLG1lbnVQYWdlVGhlbWU6ImIiLG92ZXJsYXlUaGVtZToiYSIsaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zOiEwLGNsb3NlVGV4dDoiQ2xvc2UiLG5hdGl2ZU1lbnU6ITAsaW5pdFNlbGVjdG9yOiJzZWxlY3Q6bm90KDpqcW1EYXRhKHJvbGU9J3NsaWRlcicpKSJ9LF9jcmVhdGU6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9dGhpcy5vcHRpb25zLGI9dGhpcy5lbGVtZW50LndyYXAoIjxkaXYgY2xhc3M9J3VpLXNlbGVjdCc+IiksZj1iLmF0dHIoImlkIiksZT1hKCJsYWJlbFtmb3I9JyIrZisiJ10iKS5hZGRDbGFzcygidWktc2VsZWN0IiksZz1iWzBdLnNlbGVjdGVkSW5kZXg9PS0xPzA6YlswXS5zZWxlY3RlZEluZGV4LApoPShkLm9wdGlvbnMubmF0aXZlTWVudT9hKCI8ZGl2Lz4iKTphKCI8YT4iLHtocmVmOiIjIixyb2xlOiJidXR0b24iLGlkOmwsImFyaWEtaGFzcG9wdXAiOiJ0cnVlIiwiYXJpYS1vd25zIjptfSkpLnRleHQoYShiWzBdLm9wdGlvbnMuaXRlbShnKSkudGV4dCgpKS5pbnNlcnRCZWZvcmUoYikuYnV0dG9uTWFya3VwKHt0aGVtZTpjLnRoZW1lLGljb246Yy5pY29uLGljb25wb3M6Yy5pY29ucG9zLGlubGluZTpjLmlubGluZSxjb3JuZXJzOmMuY29ybmVycyxzaGFkb3c6Yy5zaGFkb3csaWNvbnNoYWRvdzpjLmljb25zaGFkb3d9KSxpPWQuaXNNdWx0aXBsZT1iWzBdLm11bHRpcGxlO2MubmF0aXZlTWVudSYmd2luZG93Lm9wZXJhJiZ3aW5kb3cub3BlcmEudmVyc2lvbiYmYi5hZGRDbGFzcygidWktc2VsZWN0LW5hdGl2ZW9ubHkiKTtpZighYy5uYXRpdmVNZW51KXt2YXIgaz1iLmZpbmQoIm9wdGlvbiIpLGw9ZisiLWJ1dHRvbiIsbT1mKyItbWVudSIscD1iLmNsb3Nlc3QoIi51aS1wYWdlIiksCmc9L3VpLWJ0bi11cC0oW2Etel0pLy5leGVjKGguYXR0cigiY2xhc3MiKSlbMV0sbz1hKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nZGlhbG9nJyBkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lPSciK2MubWVudVBhZ2VUaGVtZSsiJz48ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0naGVhZGVyJz48ZGl2IGNsYXNzPSd1aS10aXRsZSc+IitlLnRleHQoKSsiPC9kaXY+PC9kaXY+PGRpdiBkYXRhLSIrYS5tb2JpbGUubnMrInJvbGU9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PiIpLmFwcGVuZFRvKGEubW9iaWxlLnBhZ2VDb250YWluZXIpLnBhZ2UoKSxqPW8uZmluZCgiLnVpLWNvbnRlbnQiKTtvLmZpbmQoIi51aS1oZWFkZXIgYSIpO3ZhciBxPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1zY3JlZW4gdWktc2NyZWVuLWhpZGRlbiJ9KS5hcHBlbmRUbyhwKSxuPWEoIjxkaXY+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudSB1aS1zZWxlY3RtZW51LWhpZGRlbiB1aS1vdmVybGF5LXNoYWRvdyB1aS1jb3JuZXItYWxsIHVpLWJvZHktIisKYy5vdmVybGF5VGhlbWUrIiAiK2EubW9iaWxlLmRlZmF1bHREaWFsb2dUcmFuc2l0aW9ufSkuaW5zZXJ0QWZ0ZXIocSkseD1hKCI8dWw+Iix7ImNsYXNzIjoidWktc2VsZWN0bWVudS1saXN0IixpZDptLHJvbGU6Imxpc3Rib3giLCJhcmlhLWxhYmVsbGVkYnkiOmx9KS5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixnKS5hcHBlbmRUbyhuKSx6PWEoIjxkaXY+Iix7ImNsYXNzIjoidWktaGVhZGVyIHVpLWJhci0iK2d9KS5wcmVwZW5kVG8obiksdD1hKCI8aDE+Iix7ImNsYXNzIjoidWktdGl0bGUifSkuYXBwZW5kVG8oeiksdj1hKCI8YT4iLHt0ZXh0OmMuY2xvc2VUZXh0LGhyZWY6IiMiLCJjbGFzcyI6InVpLWJ0bi1sZWZ0In0pLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbnBvcyIsIm5vdGV4dCIpLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysiaWNvbiIsImRlbGV0ZSIpLmFwcGVuZFRvKHopLmJ1dHRvbk1hcmt1cCgpfWlmKGkpZC5idXR0b25Db3VudD1hKCI8c3Bhbj4iKS5hZGRDbGFzcygidWktbGktY291bnQgdWktYnRuLXVwLWMgdWktYnRuLWNvcm5lci1hbGwiKS5oaWRlKCkuYXBwZW5kVG8oaCk7CmMuZGlzYWJsZWQmJnRoaXMuZGlzYWJsZSgpO2IuY2hhbmdlKGZ1bmN0aW9uKCl7ZC5yZWZyZXNoKCl9KTthLmV4dGVuZChkLHtzZWxlY3Q6YixvcHRpb25FbGVtczprLHNlbGVjdElEOmYsbGFiZWw6ZSxidXR0b25JZDpsLG1lbnVJZDptLHRoaXNQYWdlOnAsYnV0dG9uOmgsbWVudVBhZ2U6byxtZW51UGFnZUNvbnRlbnQ6aixzY3JlZW46cSxsaXN0Ym94Om4sbGlzdDp4LG1lbnVUeXBlOnZvaWQgMCxoZWFkZXI6eixoZWFkZXJDbG9zZTp2LGhlYWRlclRpdGxlOnQscGxhY2Vob2xkZXI6IiJ9KTtjLm5hdGl2ZU1lbnU/Yi5hcHBlbmRUbyhoKS5iaW5kKCJ2bW91c2Vkb3duIixmdW5jdGlvbigpe2guYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSkuYmluZCgiZm9jdXMgdm1vdXNlb3ZlciIsZnVuY3Rpb24oKXtoLnRyaWdnZXIoInZtb3VzZW92ZXIiKX0pLmJpbmQoInZtb3VzZW1vdmUiLGZ1bmN0aW9uKCl7aC5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyl9KS5iaW5kKCJjaGFuZ2UgYmx1ciB2bW91c2VvdXQiLApmdW5jdGlvbigpe2gudHJpZ2dlcigidm1vdXNlb3V0IikucmVtb3ZlQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpfSk6KGQucmVmcmVzaCgpLGIuYXR0cigidGFiaW5kZXgiLCItMSIpLmZvY3VzKGZ1bmN0aW9uKCl7YSh0aGlzKS5ibHVyKCk7aC5mb2N1cygpfSksaC5iaW5kKCJ2Y2xpY2sga2V5ZG93biIsZnVuY3Rpb24oYil7aWYoYi50eXBlPT0idmNsaWNrInx8Yi5rZXlDb2RlJiYoYi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5FTlRFUnx8Yi5rZXlDb2RlPT09YS5tb2JpbGUua2V5Q29kZS5TUEFDRSkpZC5vcGVuKCksYi5wcmV2ZW50RGVmYXVsdCgpfSkseC5hdHRyKCJyb2xlIiwibGlzdGJveCIpLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3VzaW4iLGZ1bmN0aW9uKCl7YSh0aGlzKS5hdHRyKCJ0YWJpbmRleCIsIjAiKX0pLmRlbGVnYXRlKCIudWktbGk+YSIsImZvY3Vzb3V0IixmdW5jdGlvbigpe2EodGhpcykuYXR0cigidGFiaW5kZXgiLCItMSIpfSkuZGVsZWdhdGUoImxpOm5vdCgudWktZGlzYWJsZWQsIC51aS1saS1kaXZpZGVyKSIsCiJ2Y2xpY2siLGZ1bmN0aW9uKGMpe3ZhciBlPWEodGhpcyksZj1iWzBdLnNlbGVjdGVkSW5kZXgsZz1lLmpxbURhdGEoIm9wdGlvbi1pbmRleCIpLGg9ZC5vcHRpb25FbGVtc1tnXTtoLnNlbGVjdGVkPWk/IWguc2VsZWN0ZWQ6ITA7aSYmZS5maW5kKCIudWktaWNvbiIpLnRvZ2dsZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIixoLnNlbGVjdGVkKS50b2dnbGVDbGFzcygidWktaWNvbi1jaGVja2JveC1vZmYiLCFoLnNlbGVjdGVkKTsoaXx8ZiE9PWcpJiZiLnRyaWdnZXIoImNoYW5nZSIpO2l8fGQuY2xvc2UoKTtjLnByZXZlbnREZWZhdWx0KCl9KS5rZXlkb3duKGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9Yy5jbG9zZXN0KCJsaSIpO3N3aXRjaChiLmtleUNvZGUpe2Nhc2UgMzg6cmV0dXJuIGI9ZC5wcmV2KCksYi5sZW5ndGgmJihjLmJsdXIoKS5hdHRyKCJ0YWJpbmRleCIsIi0xIiksYi5maW5kKCJhIikuZmlyc3QoKS5mb2N1cygpKSwhMTtjYXNlIDQwOnJldHVybiBiPQpkLm5leHQoKSxiLmxlbmd0aCYmKGMuYmx1cigpLmF0dHIoInRhYmluZGV4IiwiLTEiKSxiLmZpbmQoImEiKS5maXJzdCgpLmZvY3VzKCkpLCExO2Nhc2UgMTM6Y2FzZSAzMjpyZXR1cm4gYy50cmlnZ2VyKCJ2Y2xpY2siKSwhMX19KSxkLm1lbnVQYWdlLmJpbmQoInBhZ2VoaWRlIixmdW5jdGlvbigpe2QubGlzdC5hcHBlbmRUbyhkLmxpc3Rib3gpO2QuX2ZvY3VzQnV0dG9uKCl9KSxxLmJpbmQoInZjbGljayIsZnVuY3Rpb24oKXtkLmNsb3NlKCl9KSxkLmhlYWRlckNsb3NlLmNsaWNrKGZ1bmN0aW9uKCl7aWYoZC5tZW51VHlwZT09Im92ZXJsYXkiKXJldHVybiBkLmNsb3NlKCksITF9KSl9LF9idWlsZExpc3Q6ZnVuY3Rpb24oKXt2YXIgZD10aGlzLGM9dGhpcy5vcHRpb25zLGI9dGhpcy5wbGFjZWhvbGRlcixmPVtdLGU9W10sZz1kLmlzTXVsdGlwbGU/ImNoZWNrYm94LW9mZiI6ImZhbHNlIjtkLmxpc3QuZW1wdHkoKS5maWx0ZXIoIi51aS1saXN0dmlldyIpLmxpc3R2aWV3KCJkZXN0cm95Iik7CmQuc2VsZWN0LmZpbmQoIm9wdGlvbiIpLmVhY2goZnVuY3Rpb24oaCl7dmFyIGk9YSh0aGlzKSxrPWkucGFyZW50KCksbD1pLnRleHQoKSxtPSI8YSBocmVmPScjJz4iK2wrIjwvYT4iLHA9W10sbz1bXTtrLmlzKCJvcHRncm91cCIpJiYoaz1rLmF0dHIoImxhYmVsIiksYS5pbkFycmF5KGssZik9PT0tMSYmKGUucHVzaCgiPGxpIGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0nbGlzdC1kaXZpZGVyJz4iK2srIjwvbGk+IiksZi5wdXNoKGspKSk7aWYoIXRoaXMuZ2V0QXR0cmlidXRlKCJ2YWx1ZSIpfHxsLmxlbmd0aD09MHx8aS5qcW1EYXRhKCJwbGFjZWhvbGRlciIpKWMuaGlkZVBsYWNlaG9sZGVyTWVudUl0ZW1zJiZwLnB1c2goInVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXIiKSxiPWQucGxhY2Vob2xkZXI9bDt0aGlzLmRpc2FibGVkJiYocC5wdXNoKCJ1aS1kaXNhYmxlZCIpLG8ucHVzaCgiYXJpYS1kaXNhYmxlZD0ndHJ1ZSciKSk7ZS5wdXNoKCI8bGkgZGF0YS0iK2EubW9iaWxlLm5zKwoib3B0aW9uLWluZGV4PSciK2grIicgZGF0YS0iK2EubW9iaWxlLm5zKyJpY29uPSciK2crIicgY2xhc3M9JyIrcC5qb2luKCIgIikrIicgIitvLmpvaW4oIiAiKSsiPiIrbSsiPC9saT4iKX0pO2QubGlzdC5odG1sKGUuam9pbigiICIpKTtkLmxpc3QuZmluZCgibGkiKS5hdHRyKHtyb2xlOiJvcHRpb24iLHRhYmluZGV4OiItMSJ9KS5maXJzdCgpLmF0dHIoInRhYmluZGV4IiwiMCIpO3RoaXMuaXNNdWx0aXBsZXx8dGhpcy5oZWFkZXJDbG9zZS5oaWRlKCk7IXRoaXMuaXNNdWx0aXBsZSYmIWIubGVuZ3RoP3RoaXMuaGVhZGVyLmhpZGUoKTp0aGlzLmhlYWRlclRpdGxlLnRleHQodGhpcy5wbGFjZWhvbGRlcik7ZC5saXN0Lmxpc3R2aWV3KCl9LHJlZnJlc2g6ZnVuY3Rpb24oZCl7dmFyIGM9dGhpcyxiPXRoaXMuZWxlbWVudCxmPXRoaXMuaXNNdWx0aXBsZSxlPXRoaXMub3B0aW9uRWxlbXM9Yi5maW5kKCJvcHRpb24iKSxnPWUuZmlsdGVyKCI6c2VsZWN0ZWQiKSxoPWcubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIGUuaW5kZXgodGhpcyl9KS5nZXQoKTsKIWMub3B0aW9ucy5uYXRpdmVNZW51JiYoZHx8YlswXS5vcHRpb25zLmxlbmd0aCE9Yy5saXN0LmZpbmQoImxpIikubGVuZ3RoKSYmYy5fYnVpbGRMaXN0KCk7Yy5idXR0b24uZmluZCgiLnVpLWJ0bi10ZXh0IikudGV4dChmdW5jdGlvbigpe2lmKCFmKXJldHVybiBnLnRleHQoKTtyZXR1cm4gZy5sZW5ndGg/Zy5tYXAoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS50ZXh0KCl9KS5nZXQoKS5qb2luKCIsICIpOmMucGxhY2Vob2xkZXJ9KTtmJiZjLmJ1dHRvbkNvdW50W2cubGVuZ3RoPjE/InNob3ciOiJoaWRlIl0oKS50ZXh0KGcubGVuZ3RoKTtjLm9wdGlvbnMubmF0aXZlTWVudXx8Yy5saXN0LmZpbmQoImxpOm5vdCgudWktbGktZGl2aWRlcikiKS5yZW1vdmVDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuYXR0cigiYXJpYS1zZWxlY3RlZCIsITEpLmVhY2goZnVuY3Rpb24oYil7YS5pbkFycmF5KGIsaCk+LTEmJihiPWEodGhpcykuYWRkQ2xhc3MoYS5tb2JpbGUuYWN0aXZlQnRuQ2xhc3MpLApiLmZpbmQoImEiKS5hdHRyKCJhcmlhLXNlbGVjdGVkIiwhMCksZiYmYi5maW5kKCIudWktaWNvbiIpLnJlbW92ZUNsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9mZiIpLmFkZENsYXNzKCJ1aS1pY29uLWNoZWNrYm94LW9uIikpfSl9LG9wZW46ZnVuY3Rpb24oKXtmdW5jdGlvbiBkKCl7Yy5saXN0LmZpbmQoIi51aS1idG4tYWN0aXZlIikuZm9jdXMoKX1pZighdGhpcy5vcHRpb25zLmRpc2FibGVkJiYhdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUpe3ZhciBjPXRoaXMsYj1jLmxpc3QucGFyZW50KCkub3V0ZXJIZWlnaHQoKSxmPWMubGlzdC5wYXJlbnQoKS5vdXRlcldpZHRoKCksZT1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZz1jLmJ1dHRvbi5vZmZzZXQoKS50b3AsaD13aW5kb3cuaW5uZXJIZWlnaHQsaT13aW5kb3cuaW5uZXJXaWR0aDtjLmJ1dHRvbi5hZGRDbGFzcyhhLm1vYmlsZS5hY3RpdmVCdG5DbGFzcyk7c2V0VGltZW91dChmdW5jdGlvbigpe2MuYnV0dG9uLnJlbW92ZUNsYXNzKGEubW9iaWxlLmFjdGl2ZUJ0bkNsYXNzKX0sCjMwMCk7aWYoYj5oLTgwfHwhYS5zdXBwb3J0LnNjcm9sbFRvcCl7Yy50aGlzUGFnZS51bmJpbmQoInBhZ2VoaWRlLnJlbW92ZSIpO2lmKGU9PTAmJmc+aCljLnRoaXNQYWdlLm9uZSgicGFnZWhpZGUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5qcW1EYXRhKCJsYXN0U2Nyb2xsIixnKX0pO2MubWVudVBhZ2Uub25lKCJwYWdlc2hvdyIsZnVuY3Rpb24oKXthKHdpbmRvdykub25lKCJzaWxlbnRzY3JvbGwiLGZ1bmN0aW9uKCl7ZCgpfSk7Yy5pc09wZW49ITB9KTtjLm1lbnVUeXBlPSJwYWdlIjtjLm1lbnVQYWdlQ29udGVudC5hcHBlbmQoYy5saXN0KTthLm1vYmlsZS5jaGFuZ2VQYWdlKGMubWVudVBhZ2Use3RyYW5zaXRpb246YS5tb2JpbGUuZGVmYXVsdERpYWxvZ1RyYW5zaXRpb259KX1lbHNle2MubWVudVR5cGU9Im92ZXJsYXkiO2Muc2NyZWVuLmhlaWdodChhKGRvY3VtZW50KS5oZWlnaHQoKSkucmVtb3ZlQ2xhc3MoInVpLXNjcmVlbi1oaWRkZW4iKTt2YXIgaz1nLWUsbD1lK2gtZyxtPQpiLzIscD1wYXJzZUZsb2F0KGMubGlzdC5wYXJlbnQoKS5jc3MoIm1heC13aWR0aCIpKSxiPWs+Yi8yJiZsPmIvMj9nK2MuYnV0dG9uLm91dGVySGVpZ2h0KCkvMi1tOms+bD9lK2gtYi0zMDplKzMwO2Y8cD9wPShpLWYpLzI6KHA9Yy5idXR0b24ub2Zmc2V0KCkubGVmdCtjLmJ1dHRvbi5vdXRlcldpZHRoKCkvMi1mLzIscDwzMD9wPTMwOnArZj5pJiYocD1pLWYtMzApKTtjLmxpc3Rib3guYXBwZW5kKGMubGlzdCkucmVtb3ZlQ2xhc3MoInVpLXNlbGVjdG1lbnUtaGlkZGVuIikuY3NzKHt0b3A6YixsZWZ0OnB9KS5hZGRDbGFzcygiaW4iKTtkKCk7Yy5pc09wZW49ITB9fX0sX2ZvY3VzQnV0dG9uOmZ1bmN0aW9uKCl7dmFyIGE9dGhpcztzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7YS5idXR0b24uZm9jdXMoKX0sNDApfSxjbG9zZTpmdW5jdGlvbigpe2lmKCF0aGlzLm9wdGlvbnMuZGlzYWJsZWQmJnRoaXMuaXNPcGVuJiYhdGhpcy5vcHRpb25zLm5hdGl2ZU1lbnUpdGhpcy5tZW51VHlwZT09CiJwYWdlIj8odGhpcy50aGlzUGFnZS5iaW5kKCJwYWdlaGlkZS5yZW1vdmUiLGZ1bmN0aW9uKCl7YSh0aGlzKS5yZW1vdmUoKX0pLHdpbmRvdy5oaXN0b3J5LmJhY2soKSk6KHRoaXMuc2NyZWVuLmFkZENsYXNzKCJ1aS1zY3JlZW4taGlkZGVuIiksdGhpcy5saXN0Ym94LmFkZENsYXNzKCJ1aS1zZWxlY3RtZW51LWhpZGRlbiIpLnJlbW92ZUF0dHIoInN0eWxlIikucmVtb3ZlQ2xhc3MoImluIiksdGhpcy5saXN0LmFwcGVuZFRvKHRoaXMubGlzdGJveCksdGhpcy5fZm9jdXNCdXR0b24oKSksdGhpcy5pc09wZW49ITF9LGRpc2FibGU6ZnVuY3Rpb24oKXt0aGlzLmVsZW1lbnQuYXR0cigiZGlzYWJsZWQiLCEwKTt0aGlzLmJ1dHRvbi5hZGRDbGFzcygidWktZGlzYWJsZWQiKS5hdHRyKCJhcmlhLWRpc2FibGVkIiwhMCk7cmV0dXJuIHRoaXMuX3NldE9wdGlvbigiZGlzYWJsZWQiLCEwKX0sZW5hYmxlOmZ1bmN0aW9uKCl7dGhpcy5lbGVtZW50LmF0dHIoImRpc2FibGVkIiwhMSk7dGhpcy5idXR0b24ucmVtb3ZlQ2xhc3MoInVpLWRpc2FibGVkIikuYXR0cigiYXJpYS1kaXNhYmxlZCIsCiExKTtyZXR1cm4gdGhpcy5fc2V0T3B0aW9uKCJkaXNhYmxlZCIsITEpfX0pO2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKGEubW9iaWxlLnNlbGVjdG1lbnUucHJvdG90eXBlLm9wdGlvbnMuaW5pdFNlbGVjdG9yLGQudGFyZ2V0KS5ub3QoIjpqcW1EYXRhKHJvbGU9J25vbmUnKSwgOmpxbURhdGEocm9sZT0nbm9qcycpIikuc2VsZWN0bWVudSgpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7ZnVuY3Rpb24gZChiKXtmb3IoO2I7KXt2YXIgYz1hKGIpO2lmKGMuaGFzQ2xhc3MoInVpLWJ0biIpJiYhYy5oYXNDbGFzcygidWktZGlzYWJsZWQiKSlicmVhaztiPWIucGFyZW50Tm9kZX1yZXR1cm4gYn1hLmZuLmJ1dHRvbk1hcmt1cD1mdW5jdGlvbihiKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGQ9YSh0aGlzKSxlPWEuZXh0ZW5kKHt9LGEuZm4uYnV0dG9uTWFya3VwLmRlZmF1bHRzLGQuanFtRGF0YSgpLGIpLGc9InVpLWJ0bi1pbm5lciIsaCxpO2MmJmMoKTtpZighZS50aGVtZSloPWQuY2xvc2VzdCgiW2NsYXNzKj0ndWktYmFyLSddLFtjbGFzcyo9J3VpLWJvZHktJ10iKSxlLnRoZW1lPWgubGVuZ3RoPy91aS0oYmFyfGJvZHkpLShbYS16XSkvLmV4ZWMoaC5hdHRyKCJjbGFzcyIpKVsyXToiYyI7aD0idWktYnRuIHVpLWJ0bi11cC0iK2UudGhlbWU7ZS5pbmxpbmUmJihoKz0iIHVpLWJ0bi1pbmxpbmUiKTtpZihlLmljb24pZS5pY29uPSJ1aS1pY29uLSIrCmUuaWNvbixlLmljb25wb3M9ZS5pY29ucG9zfHwibGVmdCIsaT0idWktaWNvbiAiK2UuaWNvbixlLmljb25zaGFkb3cmJihpKz0iIHVpLWljb24tc2hhZG93Iik7ZS5pY29ucG9zJiYoaCs9IiB1aS1idG4taWNvbi0iK2UuaWNvbnBvcyxlLmljb25wb3M9PSJub3RleHQiJiYhZC5hdHRyKCJ0aXRsZSIpJiZkLmF0dHIoInRpdGxlIixkLnRleHQoKSkpO2UuY29ybmVycyYmKGgrPSIgdWktYnRuLWNvcm5lci1hbGwiLGcrPSIgdWktYnRuLWNvcm5lci1hbGwiKTtlLnNoYWRvdyYmKGgrPSIgdWktc2hhZG93Iik7ZC5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIixlLnRoZW1lKS5hZGRDbGFzcyhoKTtlPSgiPEQgY2xhc3M9JyIrZysiJz48RCBjbGFzcz0ndWktYnRuLXRleHQnPjwvRD4iKyhlLmljb24/IjxzcGFuIGNsYXNzPSciK2krIic+PC9zcGFuPiI6IiIpKyI8L0Q+IikucmVwbGFjZSgvRC9nLGUud3JhcHBlckVscyk7ZC53cmFwSW5uZXIoZSl9KX07YS5mbi5idXR0b25NYXJrdXAuZGVmYXVsdHM9Cntjb3JuZXJzOiEwLHNoYWRvdzohMCxpY29uc2hhZG93OiEwLHdyYXBwZXJFbHM6InNwYW4ifTt2YXIgYz1mdW5jdGlvbigpe2EoZG9jdW1lbnQpLmJpbmQoe3Ztb3VzZWRvd246ZnVuY3Rpb24oYil7dmFyIGI9ZChiLnRhcmdldCksYztiJiYoYj1hKGIpLGM9Yi5hdHRyKCJkYXRhLSIrYS5tb2JpbGUubnMrInRoZW1lIiksYi5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi1kb3duLSIrYykpfSwidm1vdXNlY2FuY2VsIHZtb3VzZXVwIjpmdW5jdGlvbihiKXt2YXIgYj1kKGIudGFyZ2V0KSxjO2ImJihiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxiLnJlbW92ZUNsYXNzKCJ1aS1idG4tZG93bi0iK2MpLmFkZENsYXNzKCJ1aS1idG4tdXAtIitjKSl9LCJ2bW91c2VvdmVyIGZvY3VzIjpmdW5jdGlvbihiKXt2YXIgYj1kKGIudGFyZ2V0KSxjO2ImJihiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSwKYi5yZW1vdmVDbGFzcygidWktYnRuLXVwLSIrYykuYWRkQ2xhc3MoInVpLWJ0bi1ob3Zlci0iK2MpKX0sInZtb3VzZW91dCBibHVyIjpmdW5jdGlvbihiKXt2YXIgYj1kKGIudGFyZ2V0KSxjO2ImJihiPWEoYiksYz1iLmF0dHIoImRhdGEtIithLm1vYmlsZS5ucysidGhlbWUiKSxiLnJlbW92ZUNsYXNzKCJ1aS1idG4taG92ZXItIitjKS5hZGRDbGFzcygidWktYnRuLXVwLSIrYykpfX0pO2M9bnVsbH07YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGIpe2EoIjpqcW1EYXRhKHJvbGU9J2J1dHRvbicpLCAudWktYmFyID4gYSwgLnVpLWhlYWRlciA+IGEsIC51aS1mb290ZXIgPiBhLCAudWktYmFyID4gOmpxbURhdGEocm9sZT0nY29udHJvbGdyb3VwJykgPiBhIixiLnRhcmdldCkubm90KCIudWktYnRuLCA6anFtRGF0YShyb2xlPSdub25lJyksIDpqcW1EYXRhKHJvbGU9J25vanMnKSIpLmJ1dHRvbk1hcmt1cCgpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSl7YS5mbi5jb250cm9sZ3JvdXA9ZnVuY3Rpb24oZCl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2Z1bmN0aW9uIGMoYSl7YS5yZW1vdmVDbGFzcygidWktYnRuLWNvcm5lci1hbGwgdWktc2hhZG93IikuZXEoMCkuYWRkQ2xhc3MoZ1swXSkuZW5kKCkuZmlsdGVyKCI6bGFzdCIpLmFkZENsYXNzKGdbMV0pLmFkZENsYXNzKCJ1aS1jb250cm9sZ3JvdXAtbGFzdCIpfXZhciBiPWEodGhpcyksZj1hLmV4dGVuZCh7ZGlyZWN0aW9uOmIuanFtRGF0YSgidHlwZSIpfHwidmVydGljYWwiLHNoYWRvdzohMSxleGNsdWRlSW52aXNpYmxlOiEwfSxkKSxlPWIuZmluZCgiPmxlZ2VuZCIpLGc9Zi5kaXJlY3Rpb249PSJob3Jpem9udGFsIj9bInVpLWNvcm5lci1sZWZ0IiwidWktY29ybmVyLXJpZ2h0Il06WyJ1aS1jb3JuZXItdG9wIiwidWktY29ybmVyLWJvdHRvbSJdO2IuZmluZCgiaW5wdXQ6ZXEoMCkiKS5hdHRyKCJ0eXBlIik7ZS5sZW5ndGgmJihiLndyYXBJbm5lcigiPGRpdiBjbGFzcz0ndWktY29udHJvbGdyb3VwLWNvbnRyb2xzJz48L2Rpdj4iKSwKYSgiPGRpdiByb2xlPSdoZWFkaW5nJyBjbGFzcz0ndWktY29udHJvbGdyb3VwLWxhYmVsJz4iK2UuaHRtbCgpKyI8L2Rpdj4iKS5pbnNlcnRCZWZvcmUoYi5jaGlsZHJlbigwKSksZS5yZW1vdmUoKSk7Yi5hZGRDbGFzcygidWktY29ybmVyLWFsbCB1aS1jb250cm9sZ3JvdXAgdWktY29udHJvbGdyb3VwLSIrZi5kaXJlY3Rpb24pO2MoYi5maW5kKCIudWktYnRuIisoZi5leGNsdWRlSW52aXNpYmxlPyI6dmlzaWJsZSI6IiIpKSk7YyhiLmZpbmQoIi51aS1idG4taW5uZXIiKSk7Zi5zaGFkb3cmJmIuYWRkQ2xhc3MoInVpLXNoYWRvdyIpfSl9O2EoZG9jdW1lbnQpLmJpbmQoInBhZ2VjcmVhdGUgY3JlYXRlIixmdW5jdGlvbihkKXthKCI6anFtRGF0YShyb2xlPSdjb250cm9sZ3JvdXAnKSIsZC50YXJnZXQpLmNvbnRyb2xncm91cCh7ZXhjbHVkZUludmlzaWJsZTohMX0pfSl9KShqUXVlcnkpOyhmdW5jdGlvbihhKXthKGRvY3VtZW50KS5iaW5kKCJwYWdlY3JlYXRlIGNyZWF0ZSIsZnVuY3Rpb24oZCl7YShkLnRhcmdldCkuZmluZCgiYSIpLm5vdCgiLnVpLWJ0biwgLnVpLWxpbmstaW5oZXJpdCwgOmpxbURhdGEocm9sZT0nbm9uZScpLCA6anFtRGF0YShyb2xlPSdub2pzJykiKS5hZGRDbGFzcygidWktbGluayIpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXthLmZuLmZpeEhlYWRlckZvb3Rlcj1mdW5jdGlvbigpe2lmKCFhLnN1cHBvcnQuc2Nyb2xsVG9wKXJldHVybiB0aGlzO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpO2MuanFtRGF0YSgiZnVsbHNjcmVlbiIpJiZjLmFkZENsYXNzKCJ1aS1wYWdlLWZ1bGxzY3JlZW4iKTtjLmZpbmQoIi51aS1oZWFkZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1oZWFkZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKTtjLmZpbmQoIi51aS1mb290ZXI6anFtRGF0YShwb3NpdGlvbj0nZml4ZWQnKSIpLmFkZENsYXNzKCJ1aS1mb290ZXItZml4ZWQgdWktZml4ZWQtaW5saW5lIGZhZGUiKX0pfTthLm1vYmlsZS5maXhlZFRvb2xiYXJzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYygpeyFpJiZoPT09Im92ZXJsYXkiJiYoZ3x8YS5tb2JpbGUuZml4ZWRUb29sYmFycy5oaWRlKCEwKSxhLm1vYmlsZS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCkpfQpmdW5jdGlvbiBiKGEpe3ZhciBiPTAsYyxkO2lmKGEpe2Q9ZG9jdW1lbnQuYm9keTtjPWEub2Zmc2V0UGFyZW50O2ZvcihiPWEub2Zmc2V0VG9wO2EmJmEhPWQ7KXtiKz1hLnNjcm9sbFRvcHx8MDtpZihhPT1jKWIrPWMub2Zmc2V0VG9wLGM9YS5vZmZzZXRQYXJlbnQ7YT1hLnBhcmVudE5vZGV9fXJldHVybiBifWZ1bmN0aW9uIGYoYyl7dmFyIGQ9YSh3aW5kb3cpLnNjcm9sbFRvcCgpLGU9YihjWzBdKSxmPWMuY3NzKCJ0b3AiKT09ImF1dG8iPzA6cGFyc2VGbG9hdChjLmNzcygidG9wIikpLGc9d2luZG93LmlubmVySGVpZ2h0LGg9Yy5vdXRlckhlaWdodCgpLGk9Yy5wYXJlbnRzKCIudWktcGFnZTpub3QoLnVpLXBhZ2UtZnVsbHNjcmVlbikiKS5sZW5ndGg7cmV0dXJuIGMuaXMoIi51aS1oZWFkZXItZml4ZWQiKT8oZj1kLWUrZixmPGUmJihmPTApLGMuY3NzKCJ0b3AiLGk/ZjpkKSk6Yy5jc3MoInRvcCIsaT9kK2ctaC0oZS1mKTpkK2ctaCl9aWYoYS5zdXBwb3J0LnNjcm9sbFRvcCl7dmFyIGUsCmcsaD0iaW5saW5lIixpPSExLGs9bnVsbCxsPSExLG09ITA7YShmdW5jdGlvbigpe3ZhciBiPWEoZG9jdW1lbnQpLGQ9YSh3aW5kb3cpO2IuYmluZCgidm1vdXNlZG93biIsZnVuY3Rpb24oKXttJiYoaz1oKX0pLmJpbmQoInZjbGljayIsZnVuY3Rpb24oYil7bSYmIWEoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGgmJiFsJiYoYS5tb2JpbGUuZml4ZWRUb29sYmFycy50b2dnbGUoayksaz1udWxsKX0pLmJpbmQoInNpbGVudHNjcm9sbCIsYyk7KGIuc2Nyb2xsVG9wKCk9PT0wP2Q6YikuYmluZCgic2Nyb2xsc3RhcnQiLGZ1bmN0aW9uKCl7bD0hMDtrPT09bnVsbCYmKGs9aCk7dmFyIGI9az09Im92ZXJsYXkiO2lmKGk9Ynx8ISFnKWEubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKSxiJiZhLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoITApfSkuYmluZCgic2Nyb2xsc3RvcCIsCmZ1bmN0aW9uKGIpe2EoYi50YXJnZXQpLmNsb3Nlc3QoImEsaW5wdXQsdGV4dGFyZWEsc2VsZWN0LGJ1dHRvbixsYWJlbCwudWktaGVhZGVyLWZpeGVkLC51aS1mb290ZXItZml4ZWQiKS5sZW5ndGh8fChsPSExLGkmJihhLm1vYmlsZS5maXhlZFRvb2xiYXJzLnN0YXJ0U2hvd1RpbWVyKCksaT0hMSksaz1udWxsKX0pO2QuYmluZCgicmVzaXplIixjKX0pO2EoIi51aS1wYWdlIikubGl2ZSgicGFnZWJlZm9yZXNob3ciLGZ1bmN0aW9uKGIsYyl7dmFyIGQ9YShiLnRhcmdldCkuZmluZCgiOmpxbURhdGEocm9sZT0nZm9vdGVyJykiKSxnPWQuZGF0YSgiaWQiKSxoPWMucHJldlBhZ2UsaD1oJiZoLmZpbmQoIjpqcW1EYXRhKHJvbGU9J2Zvb3RlcicpIiksaD1oLmxlbmd0aCYmaC5qcW1EYXRhKCJpZCIpPT09ZztnJiZoJiYoZT1kLGYoZS5yZW1vdmVDbGFzcygiZmFkZSBpbiBvdXQiKS5hcHBlbmRUbyhhLm1vYmlsZS5wYWdlQ29udGFpbmVyKSkpfSkubGl2ZSgicGFnZXNob3ciLGZ1bmN0aW9uKCl7dmFyIGI9CmEodGhpcyk7ZSYmZS5sZW5ndGgmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtmKGUuYXBwZW5kVG8oYikuYWRkQ2xhc3MoImZhZGUiKSk7ZT1udWxsfSw1MDApO2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdyghMCx0aGlzKX0pO2EoIi51aS1jb2xsYXBzaWJsZS1jb250YWluIikubGl2ZSgiY29sbGFwc2UgZXhwYW5kIixjKTtyZXR1cm57c2hvdzpmdW5jdGlvbihjLGQpe2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTtoPSJvdmVybGF5IjtyZXR1cm4oZD9hKGQpOmEubW9iaWxlLmFjdGl2ZVBhZ2U/YS5tb2JpbGUuYWN0aXZlUGFnZTphKCIudWktcGFnZS1hY3RpdmUiKSkuY2hpbGRyZW4oIi51aS1oZWFkZXItZml4ZWQ6Zmlyc3QsIC51aS1mb290ZXItZml4ZWQ6bm90KC51aS1mb290ZXItZHVwbGljYXRlKTpsYXN0IikuZWFjaChmdW5jdGlvbigpe3ZhciBkPWEodGhpcyksZT1hKHdpbmRvdykuc2Nyb2xsVG9wKCksZz1iKGRbMF0pLGg9d2luZG93LmlubmVySGVpZ2h0LAppPWQub3V0ZXJIZWlnaHQoKSxlPWQuaXMoIi51aS1oZWFkZXItZml4ZWQiKSYmZTw9ZytpfHxkLmlzKCIudWktZm9vdGVyLWZpeGVkIikmJmc8PWUraDtkLmFkZENsYXNzKCJ1aS1maXhlZC1vdmVybGF5IikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLWlubGluZSIpOyFlJiYhYyYmZC5hbmltYXRpb25Db21wbGV0ZShmdW5jdGlvbigpe2QucmVtb3ZlQ2xhc3MoImluIil9KS5hZGRDbGFzcygiaW4iKTtmKGQpfSl9LGhpZGU6ZnVuY3Rpb24oYil7aD0iaW5saW5lIjtyZXR1cm4oYS5tb2JpbGUuYWN0aXZlUGFnZT9hLm1vYmlsZS5hY3RpdmVQYWdlOmEoIi51aS1wYWdlLWFjdGl2ZSIpKS5jaGlsZHJlbigiLnVpLWhlYWRlci1maXhlZDpmaXJzdCwgLnVpLWZvb3Rlci1maXhlZDpub3QoLnVpLWZvb3Rlci1kdXBsaWNhdGUpOmxhc3QiKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuY3NzKCJ0b3AiKSxkPWQ9PSJhdXRvIj8wOnBhcnNlRmxvYXQoZCk7Yy5hZGRDbGFzcygidWktZml4ZWQtaW5saW5lIikucmVtb3ZlQ2xhc3MoInVpLWZpeGVkLW92ZXJsYXkiKTsKaWYoZDwwfHxjLmlzKCIudWktaGVhZGVyLWZpeGVkIikmJmQhPT0wKWI/Yy5jc3MoInRvcCIsMCk6Yy5jc3MoInRvcCIpIT09ImF1dG8iJiZwYXJzZUZsb2F0KGMuY3NzKCJ0b3AiKSkhPT0wJiZjLmFuaW1hdGlvbkNvbXBsZXRlKGZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygib3V0IHJldmVyc2UiKS5jc3MoInRvcCIsMCl9KS5hZGRDbGFzcygib3V0IHJldmVyc2UiKX0pfSxzdGFydFNob3dUaW1lcjpmdW5jdGlvbigpe2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuY2xlYXJTaG93VGltZXIoKTt2YXIgYj1bXS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7Zz1zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7Zz1kO2EubW9iaWxlLmZpeGVkVG9vbGJhcnMuc2hvdy5hcHBseShudWxsLGIpfSwxMDApfSxjbGVhclNob3dUaW1lcjpmdW5jdGlvbigpe2cmJmNsZWFyVGltZW91dChnKTtnPWR9LHRvZ2dsZTpmdW5jdGlvbihiKXtiJiYoaD1iKTtyZXR1cm4gaD09PSJvdmVybGF5Ij9hLm1vYmlsZS5maXhlZFRvb2xiYXJzLmhpZGUoKToKYS5tb2JpbGUuZml4ZWRUb29sYmFycy5zaG93KCl9LHNldFRvdWNoVG9nZ2xlRW5hYmxlZDpmdW5jdGlvbihhKXttPWF9fX19KCk7YS5maXhlZFRvb2xiYXJzPWEubW9iaWxlLmZpeGVkVG9vbGJhcnM7YShkb2N1bWVudCkuYmluZCgicGFnZWNyZWF0ZSBjcmVhdGUiLGZ1bmN0aW9uKGMpe2EoIjpqcW1EYXRhKHBvc2l0aW9uPSdmaXhlZCcpIixjLnRhcmdldCkubGVuZ3RoJiZhKGMudGFyZ2V0KS5lYWNoKGZ1bmN0aW9uKCl7aWYoIWEuc3VwcG9ydC5zY3JvbGxUb3ApcmV0dXJuIHRoaXM7dmFyIGI9YSh0aGlzKTtiLmpxbURhdGEoImZ1bGxzY3JlZW4iKSYmYi5hZGRDbGFzcygidWktcGFnZS1mdWxsc2NyZWVuIik7Yi5maW5kKCIudWktaGVhZGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktaGVhZGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIik7Yi5maW5kKCIudWktZm9vdGVyOmpxbURhdGEocG9zaXRpb249J2ZpeGVkJykiKS5hZGRDbGFzcygidWktZm9vdGVyLWZpeGVkIHVpLWZpeGVkLWlubGluZSBmYWRlIil9KX0pfSkoalF1ZXJ5KTsKKGZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGQoKXt2YXIgZD1jLndpZHRoKCksZz1bXSxoPVtdLGk7Yi5yZW1vdmVDbGFzcygibWluLXdpZHRoLSIrZi5qb2luKCJweCBtaW4td2lkdGgtIikrInB4IG1heC13aWR0aC0iK2Yuam9pbigicHggbWF4LXdpZHRoLSIpKyJweCIpO2EuZWFjaChmLGZ1bmN0aW9uKGEsYil7ZD49YiYmZy5wdXNoKCJtaW4td2lkdGgtIitiKyJweCIpO2Q8PWImJmgucHVzaCgibWF4LXdpZHRoLSIrYisicHgiKX0pO2cubGVuZ3RoJiYoaT1nLmpvaW4oIiAiKSk7aC5sZW5ndGgmJihpKz0iICIraC5qb2luKCIgIikpO2IuYWRkQ2xhc3MoaSl9dmFyIGM9YSh3aW5kb3cpLGI9YSgiaHRtbCIpLGY9WzMyMCw0ODAsNzY4LDEwMjRdO2EubW9iaWxlLmFkZFJlc29sdXRpb25CcmVha3BvaW50cz1mdW5jdGlvbihiKXthLnR5cGUoYik9PT0iYXJyYXkiP2Y9Zi5jb25jYXQoYik6Zi5wdXNoKGIpO2Yuc29ydChmdW5jdGlvbihhLGIpe3JldHVybiBhLWJ9KTtkKCl9O2EoZG9jdW1lbnQpLmJpbmQoIm1vYmlsZWluaXQuaHRtbGNsYXNzIiwKZnVuY3Rpb24oKXtjLmJpbmQoIm9yaWVudGF0aW9uY2hhbmdlLmh0bWxjbGFzcyB0aHJvdHRsZWRSZXNpemUuaHRtbGNsYXNzIixmdW5jdGlvbihhKXthLm9yaWVudGF0aW9uJiZiLnJlbW92ZUNsYXNzKCJwb3J0cmFpdCBsYW5kc2NhcGUiKS5hZGRDbGFzcyhhLm9yaWVudGF0aW9uKTtkKCl9KX0pO2EoZnVuY3Rpb24oKXtjLnRyaWdnZXIoIm9yaWVudGF0aW9uY2hhbmdlLmh0bWxjbGFzcyIpfSl9KShqUXVlcnkpOwooZnVuY3Rpb24oYSxkKXt2YXIgYz1hKCJodG1sIik7YSgiaGVhZCIpO3ZhciBiPWEoZCk7YShkLmRvY3VtZW50KS50cmlnZ2VyKCJtb2JpbGVpbml0Iik7aWYoYS5tb2JpbGUuZ3JhZGVBKCkpe2lmKGEubW9iaWxlLmFqYXhCbGFja2xpc3QpYS5tb2JpbGUuYWpheEVuYWJsZWQ9ITE7Yy5hZGRDbGFzcygidWktbW9iaWxlIHVpLW1vYmlsZS1yZW5kZXJpbmciKTt2YXIgZj1hKCI8ZGl2IGNsYXNzPSd1aS1sb2FkZXIgdWktYm9keS1hIHVpLWNvcm5lci1hbGwnPjxzcGFuIGNsYXNzPSd1aS1pY29uIHVpLWljb24tbG9hZGluZyBzcGluJz48L3NwYW4+PGgxPjwvaDE+PC9kaXY+Iik7YS5leHRlbmQoYS5tb2JpbGUse3Nob3dQYWdlTG9hZGluZ01zZzpmdW5jdGlvbigpe2lmKGEubW9iaWxlLmxvYWRpbmdNZXNzYWdlKXt2YXIgYj1hKCIuIithLm1vYmlsZS5hY3RpdmVCdG5DbGFzcykuZmlyc3QoKTtmLmZpbmQoImgxIikudGV4dChhLm1vYmlsZS5sb2FkaW5nTWVzc2FnZSkuZW5kKCkuYXBwZW5kVG8oYS5tb2JpbGUucGFnZUNvbnRhaW5lcikuY3NzKHt0b3A6YS5zdXBwb3J0LnNjcm9sbFRvcCYmCmEoZCkuc2Nyb2xsVG9wKCkrYShkKS5oZWlnaHQoKS8yfHxiLmxlbmd0aCYmYi5vZmZzZXQoKS50b3B8fDEwMH0pfWMuYWRkQ2xhc3MoInVpLWxvYWRpbmciKX0saGlkZVBhZ2VMb2FkaW5nTXNnOmZ1bmN0aW9uKCl7Yy5yZW1vdmVDbGFzcygidWktbG9hZGluZyIpfSxwYWdlTG9hZGluZzpmdW5jdGlvbihiKXtiP2EubW9iaWxlLmhpZGVQYWdlTG9hZGluZ01zZygpOmEubW9iaWxlLnNob3dQYWdlTG9hZGluZ01zZygpfSxpbml0aWFsaXplUGFnZTpmdW5jdGlvbigpe3ZhciBjPWEoIjpqcW1EYXRhKHJvbGU9J3BhZ2UnKSIpO2MubGVuZ3RofHwoYz1hKCJib2R5Iikud3JhcElubmVyKCI8ZGl2IGRhdGEtIithLm1vYmlsZS5ucysicm9sZT0ncGFnZSc+PC9kaXY+IikuY2hpbGRyZW4oMCkpO2MuYWRkKCI6anFtRGF0YShyb2xlPSdkaWFsb2cnKSIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYj1hKHRoaXMpO2IuanFtRGF0YSgidXJsIil8fGIuYXR0cigiZGF0YS0iK2EubW9iaWxlLm5zKyJ1cmwiLApiLmF0dHIoImlkIikpfSk7YS5tb2JpbGUuZmlyc3RQYWdlPWMuZmlyc3QoKTthLm1vYmlsZS5wYWdlQ29udGFpbmVyPWMuZmlyc3QoKS5wYXJlbnQoKS5hZGRDbGFzcygidWktbW9iaWxlLXZpZXdwb3J0Iik7YS5tb2JpbGUuc2hvd1BhZ2VMb2FkaW5nTXNnKCk7IWEubW9iaWxlLmhhc2hMaXN0ZW5pbmdFbmFibGVkfHwhYS5tb2JpbGUucGF0aC5zdHJpcEhhc2gobG9jYXRpb24uaGFzaCk/YS5tb2JpbGUuY2hhbmdlUGFnZShhLm1vYmlsZS5maXJzdFBhZ2Use3RyYW5zaXRpb246Im5vbmUiLHJldmVyc2U6ITAsY2hhbmdlSGFzaDohMSxmcm9tSGFzaENoYW5nZTohMH0pOmIudHJpZ2dlcigiaGFzaGNoYW5nZSIsWyEwXSl9fSk7YS5tb2JpbGUuX3JlZ2lzdGVySW50ZXJuYWxFdmVudHMoKTthKGZ1bmN0aW9uKCl7ZC5zY3JvbGxUbygwLDEpO2EubW9iaWxlLmRlZmF1bHRIb21lU2Nyb2xsPSFhLnN1cHBvcnQuc2Nyb2xsVG9wfHxhKGQpLnNjcm9sbFRvcCgpPT09MT8wOjE7YS5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlJiYKYShhLm1vYmlsZS5pbml0aWFsaXplUGFnZSk7Yi5sb2FkKGEubW9iaWxlLnNpbGVudFNjcm9sbCl9KX19KShqUXVlcnksdGhpcyk7Cg==", "content_type": "application/javascript"}, "css.coffee": {"data": "IyMjClRoaXMgYXBwcmFvY2ggYWxsb3dzIGNvbG9ycyB0byBiZSBzdG9yZWQgYXMgY29uc3RhbnRzCiMjIwoKYmx1ZSA9ICIjNUU4N0IwIgp5ZWxsb3cgPSAiI0Y3Qzk0MiIKZmlyc3RfY2xpY2tfY29sb3IgPSB5ZWxsb3cKc2Vjb25kX2NsaWNrX2NvbG9yID0gYmx1ZQpyZWQgPSAicmVkIgoKJCgiaGVhZCIpLmFwcGVuZCAiCiAgPHN0eWxlPgoKICAgIHNwYW4udGltZXItc2Vjb25kc3sKICAgICAgZmxvYXQ6cmlnaHQ7CiAgICAgIG1hcmdpbi1yaWdodDoxMHB4OwogICAgICBtYXJnaW4tdG9wOjVweDsKICAgICAgZm9udC1zaXplOiBsYXJnZTsKICAgIH0KCiAgICAuY29udHJvbHMuZmxhc2h7CiAgICAgIGNvbG9yOiBibGFjazsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI3tyZWR9OwogICAgfQoKICAgIC5mbGFzaCB7CiAgICAgIGNvbG9yOiAje3JlZH07CiAgICB9CgogICAgI0luaXRpYWxTb3VuZCAudWktY29udHJvbGdyb3VwLWxhYmVsewogICAgICBmb250LXNpemU6IHgtbGFyZ2U7CiAgICB9CgogICAgI1Bob25lbWVzIGxlZ2VuZHsKICAgICAgZm9udC1zaXplOiB4LWxhcmdlOwogICAgfQoKICAgIC5ncmlkewogICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgIGZsb2F0OiBsZWZ0OwogICAgICB3aWR0aDogNTBweDsKICAgICAgaGVpZ2h0OiA1MHB4OwogICAgICBtYXJnaW46IDEwcHg7CiAgICAgIGJvcmRlcjogM3B4IG91dHNldCBncmF5OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7CiAgICAgIGNvbG9yOiBsaWdodGdyYXk7CiAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgLW1vei11c2VyLXNlbGVjdDogbm9uZTsKICAgICAgLW8tdXNlci1zZWxlY3Q6IG5vbmU7CiAgICAgIHVzZXItc2VsZWN0OiBub25lOwogICAgfQoKCiAgICAuZ3JpZC5zaG93ewogICAgICBjb2xvcjogYmxhY2s7CiAgICB9CgogICAgLmdyaWQgc3BhbnsKICAgICAgZm9udC1zaXplOiA1MHB4OwogICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwogICAgfQoKICAgIC5ncmlkLnNlbGVjdGVkewogICAgICB0ZXh0LWRlY29yYXRpb246IGxpbmUtdGhyb3VnaDsKICAgICAgY29sb3I6IHdoaXRlOwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAje2JsdWV9OwogICAgfQogICAgLmdyaWQubGFzdC1hdHRlbXB0ZWR7CiAgICAgIGNvbG9yOiByZWQ7CiAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogcmVkOwogICAgICBib3JkZXItdG9wLWNvbG9yOiByZWQ7CiAgICAgIGJvcmRlci1ib3R0b20tY29sb3I6IHJlZDsKICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsKICAgIH0KCiAgICBAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246cG9ydHJhaXQpeyAKICAgICAgLmdyaWQtd2lkdGh7CiAgICAgICAgd2lkdGg6IDQ0MHB4OwogICAgICB9CiAgICB9CiAgICBAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246bGFuZHNjYXBlKSB7CiAgICAgIC5ncmlkLXdpZHRoewogICAgICAgIHdpZHRoOiA4MjBweDsKICAgICAgfQogICAgICAudG9nZ2xlLXJvdy1wb3J0cmFpdHsKICAgICAgICBkaXNwbGF5OiBub25lOwogICAgICB9CiAgICB9CgogICAgLnRvZ2dsZS1yb3d7CiAgICAgIGJhY2tncm91bmQtY29sb3I6ICN7Ymx1ZX07CiAgICAgIHdpZHRoOiAzMHB4OwogICAgICBoZWlnaHQ6IDMwcHg7CiAgICAgIG1hcmdpbi10b3A6IDIycHg7CiAgICB9CiAgICAKCiAgPC9zdHlsZT4KICAiCg==", "content_type": ""}, "tests/testData/Assessment.TEST EGRA Prototype.StudentInformation": {"data": "ewogICJwYWdlVHlwZSI6ICJTdHVkZW50SW5mb3JtYXRpb25QYWdlIiwKICAicGFnZUlkIjogIlN0dWRlbnRJbmZvcm1hdGlvbiIsCiAgInJhZGlvQnV0dG9ucyI6IFsKICAgIHsKICAgICAgImxhYmVsIjogIkdyYWRlIiwKICAgICAgIm5hbWUiOiAiZ3JhZGUiLAogICAgICAidHlwZSI6ICJob3Jpem9udGFsIiwKICAgICAgIm9wdGlvbnMiOiBbCiAgICAgICAgIjFzdCIsCiAgICAgICAgIjJuZCIsCiAgICAgICAgIjNyZCIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImxhYmVsIjogIkNsYXNzIiwKICAgICAgIm5hbWUiOiAiY2xhc3MiLAogICAgICAidHlwZSI6ICJob3Jpem9udGFsIiwKICAgICAgIm9wdGlvbnMiOiBbCiAgICAgICAgIkEiLAogICAgICAgICJCIiwKICAgICAgICAiQyIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImxhYmVsIjogIkdlbmRlciIsCiAgICAgICJuYW1lIjogImdlbmRlciIsCiAgICAgICJ0eXBlIjogImhvcml6b250YWwiLAogICAgICAib3B0aW9ucyI6IFsKICAgICAgICAiRmVtYWxlIiwKICAgICAgICAiTWFsZSIKICAgICAgXQogICAgfSwKICAgIHsKICAgICAgImxhYmVsIjogIlllYXIgb2YgYmlydGgiLAogICAgICAibmFtZSI6ICJ5ZWFyT2ZCaXJ0aCIsCiAgICAgICJ0eXBlIjogImhvcml6b250YWwiLAogICAgICAib3B0aW9ucyI6IFsKICAgICAgICAiVW5rbm93biIsCiAgICAgICAgIjE5OTciLAogICAgICAgICIxOTk4IiwKICAgICAgICAiMTk5OSIsCiAgICAgICAgIjIwMDAiLAogICAgICAgICIyMDAxIiwKICAgICAgICAiMjAwMiIsCiAgICAgICAgIjIwMDMiLAogICAgICAgICIyMDA0IiwKICAgICAgICAiMjAwNSIsCiAgICAgICAgIjIwMDYiLAogICAgICAgICIyMDA3IgogICAgICBdCiAgICB9LAogICAgewogICAgICAibGFiZWwiOiAiTW9udGggb2YgQmlydGgiLAogICAgICAibmFtZSI6ICJtb250aE9mQmlydGgiLAogICAgICAidHlwZSI6ICJob3Jpem9udGFsIiwKICAgICAgIm9wdGlvbnMiOiBbCiAgICAgICAgIlVua25vd24iLAogICAgICAgICJKYW51YXJ5IiwKICAgICAgICAiRmVicnVhcnkiLAogICAgICAgICJNYXJjaCIsCiAgICAgICAgIkFwcmlsIiwKICAgICAgICAiTWF5IiwKICAgICAgICAiSnVuZSIsCiAgICAgICAgIkp1bHkiLAogICAgICAgICJBdWd1c3QiLAogICAgICAgICJTZXB0ZW1iZXIiLAogICAgICAgICJPY3RvYmVyIiwKICAgICAgICAiTm92ZW1iZXIiLAogICAgICAgICJEZWNlbWJlciIKICAgICAgXQogICAgfQogIF0KfQo=", "content_type": ""}, "google-spreadsheet-javascript/tests/testsCallbackCellsData.json": {"data": "Z2RhdGEuaW8uaGFuZGxlU2NyaXB0TG9hZGVkKHsidmVyc2lvbiI6IjEuMCIsImVuY29kaW5nIjoiVVRGLTgiLCJmZWVkIjp7InhtbG5zIjoiaHR0cDovL3d3dy53My5vcmcvMjAwNS9BdG9tIiwieG1sbnMkb3BlblNlYXJjaCI6Imh0dHA6Ly9hOS5jb20vLS9zcGVjL29wZW5zZWFyY2hyc3MvMS4wLyIsInhtbG5zJGdzIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInhtbG5zJGJhdGNoIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9nZGF0YS9iYXRjaCIsImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDExLTAxLTI3VDIxOjM2OjM0LjYwM1oifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNjZWxsIn1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiU2hlZXQxIn0sImxpbmsiOlt7InJlbCI6ImFsdGVybmF0ZSIsInR5cGUiOiJ0ZXh0L2h0bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9wdWI/a2V5XHUwMDNkMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMifSx7InJlbCI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vZy8yMDA1I2ZlZWQiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljIn0seyJyZWwiOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL2cvMjAwNSNiYXRjaCIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvYmF0Y2gifSx7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljP2FsdFx1MDAzZGpzb24taW4tc2NyaXB0In1dLCJhdXRob3IiOlt7Im5hbWUiOnsiJHQiOiJtaWtleW1ja2F5In0sImVtYWlsIjp7IiR0IjoibWlrZXltY2theUBnbWFpbC5jb20ifX1dLCJvcGVuU2VhcmNoJHRvdGFsUmVzdWx0cyI6eyIkdCI6IjEwIn0sIm9wZW5TZWFyY2gkc3RhcnRJbmRleCI6eyIkdCI6IjEifSwiZW50cnkiOlt7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL1IyQzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBMiJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJQYXRpZW50IGhhcyBjb25maXJtZWQgaWRlbnRpdHkifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjJDMSJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SM0MxIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDExLTAxLTI3VDIxOjM2OjM0LjYwM1oifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNjZWxsIn1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiQTMifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUGF0aWVudCBoYXMgY29uZmlybWVkIHNpdGUifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjNDMSJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SNEMxIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDExLTAxLTI3VDIxOjM2OjM0LjYwM1oifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNjZWxsIn1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiQTQifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUGF0aWVudCBoYXMgY29uZmlybWVkIHByb2NlZHVyZSJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SNEMxIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL1I1QzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBNSJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJQYXRpZW50IGhhcyBjb25maXJtZWQgY29uc2VudCJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SNUMxIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL1I2QzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBNiJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJTaXRlIG1hcmtlZC9Ob3QgYXBwbGljYWJsZSJ9LCJsaW5rIjpbeyJyZWwiOiJzZWxmIiwidHlwZSI6ImFwcGxpY2F0aW9uL2F0b20reG1sIiwiaHJlZiI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SNkMxIn1dfSx7ImlkIjp7IiR0IjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL1I3QzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBNyJ9LCJjb250ZW50Ijp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBbmVzdGhlc2lhIHNhZmV0eSBjaGVjayBjb21wbGV0ZWQifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjdDMSJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SOEMxIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDExLTAxLTI3VDIxOjM2OjM0LjYwM1oifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNjZWxsIn1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiQTgifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUHVsc2Ugb3hpbWV0ZXIgb24gcGF0aWVudCBhbmQgZnVuY3Rpb25pbmcifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjhDMSJ9XX0seyJpZCI6eyIkdCI6Imh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvMEFnbzMxSlFQWnhacmRIRjJiV05qY1RKRkxYSjZVVU01U2xkRWFrZEVhWGMvb2Q2L3B1YmxpYy9iYXNpYy9SOUMxIn0sInVwZGF0ZWQiOnsiJHQiOiIyMDExLTAxLTI3VDIxOjM2OjM0LjYwM1oifSwiY2F0ZWdvcnkiOlt7InNjaGVtZSI6Imh0dHA6Ly9zY2hlbWFzLmdvb2dsZS5jb20vc3ByZWFkc2hlZXRzLzIwMDYiLCJ0ZXJtIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiNjZWxsIn1dLCJ0aXRsZSI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiQTkifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiRG9lcyBwYXRpZW50IGhhdmUgYSBrbm93biBhbGxlcmd5In0sImxpbmsiOlt7InJlbCI6InNlbGYiLCJ0eXBlIjoiYXBwbGljYXRpb24vYXRvbSt4bWwiLCJocmVmIjoiaHR0cHM6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9jZWxscy8wQWdvMzFKUVBaeFpyZEhGMmJXTmpjVEpGTFhKNlVVTTVTbGRFYWtkRWFYYy9vZDYvcHVibGljL2Jhc2ljL1I5QzEifV19LHsiaWQiOnsiJHQiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjEwQzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBMTAifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiRG9lcyBwYXRpZW50IGhhdmUgYSBkaWZmaWN1bHQgYWlyd2F5L2FzcGlyYXRpb24gcmlzaz8ifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjEwQzEifV19LHsiaWQiOnsiJHQiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjExQzEifSwidXBkYXRlZCI6eyIkdCI6IjIwMTEtMDEtMjdUMjE6MzY6MzQuNjAzWiJ9LCJjYXRlZ29yeSI6W3sic2NoZW1lIjoiaHR0cDovL3NjaGVtYXMuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvMjAwNiIsInRlcm0iOiJodHRwOi8vc2NoZW1hcy5nb29nbGUuY29tL3NwcmVhZHNoZWV0cy8yMDA2I2NlbGwifV0sInRpdGxlIjp7InR5cGUiOiJ0ZXh0IiwiJHQiOiJBMTEifSwiY29udGVudCI6eyJ0eXBlIjoidGV4dCIsIiR0IjoiUmlzayBvZiBcdTAwM2UgNTAwbWwgYmxvb2QgbG9zcyAoN21sL2tnIGluIGNoaWxkcmVuKT8ifSwibGluayI6W3sicmVsIjoic2VsZiIsInR5cGUiOiJhcHBsaWNhdGlvbi9hdG9tK3htbCIsImhyZWYiOiJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL2ZlZWRzL2NlbGxzLzBBZ28zMUpRUFp4WnJkSEYyYldOamNUSkZMWEo2VVVNNVNsZEVha2RFYVhjL29kNi9wdWJsaWMvYmFzaWMvUjExQzEifV19XX19KTs=", "content_type": "application/json"}, "js-libraries/jquery-mobile/images/icons-18-black.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAAwgAAAASCAMAAADIfglFAAAAA3NCSVQICAjb4U/gAAAA51BMVEX////9/f38/Pz6+vr5+fn4+Pj29vb09PTz8/Py8vLx8fHx8PDw8PDv7+/u7u7r6+vq6urp6eno6Ojn5+fm5ubl5eXk5OTj4+Pi4uLj4eHh4eHg4ODf39/e3t7d3d3c3NzY2NjT09PT0tLR0dHQ0NDMzMzBwcG7u7u1tbW0tLS1tLS0s7Otra2qqqqrqaqop6elpKSioaGZmZmXlpaXkpeMjIyIiIh6d3h5d3d3d3dvb29ra2tmZmZgXV5cWVpVVVVERERDP0A/Pz85OTkzMzM0MTIwMDAwLC0iIiIhHR4REREAAAD////pxJw6AAAATXRSTlP/////////////////////////////////////////////////////////////////////////////////////////////////////ANNqEYAAAAAJcEhZcwAACusAAArrAYKLDVoAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAFXRFWHRDcmVhdGlvbiBUaW1lADMvMjUvMTELhZpSAAAGHklEQVRoge1ai1LbRhRNAiHgwAYoGGq3SiBV1ZdIoqRKlaqVmixB2tX/f0/vXclGNtqzW3BapuMzGUaxzuzj7j33sfaDZo017gXEAm7PmRN9Jpz/58E/Xe4aa3wRBEu4LafP85mv++9aCH4QUQTN2rG+/EL+rxDfLmHAlj6cRZr1QG5w5kKQSkV33YynJwSJ11BerJUhRn4eiEjrrAkdYwiZuydKSscwToI3PKTbpO7JhM84d8XeN0vYux1niTXIGOJcC0Hru3teqFL+KzMoCFnh9wbCi7UyBEqn1pehkjEJIccWinKpdOGYJimkVtD3Eq3LIoZbj7IkyLImyRyhq3SfaKKVy8pkmtg5jihcgkqkqnK7pHqu+Vv953d3EMIiZXi2m5yVCiGkQ06bUGuVAVaq8HuDoNC6cpyzKCtHrOrO2N03NaUGQlB6BnDaeWUYFZolku0wwNKFISiJlpzpkjIUrRmbMcKLYQilHYPwME4KhS2toFpEbvZl39bedIaf67r+fTodEsJ0CUNCmJg3L1+/fmkeJkOTTRaHYU4rBGqf6YhSj04bIuQjzPmwYWDMPZRAg2DLsg4odkIlJFXcEjGNkNIZgXFmOgCVT0abqsitFJiF3E659EQrURVpqgJHkZRZWJZNhiM+hSXtSqqZFjFaTbuk1OUWQjrkzWoq4gxIanfulh/r+vJsOt1FnA4DnMa8eHtV11dvzePQZMvjNJ0QMkUg2xOsmxHzVh1YJaYT5KMuoOUEKwFW0+zjypWgShOA0WqUEVMgsZeHJvsDd8gy2laWcPDMbIpiH4+DCsfgnC1TQB0Y1SUhDrBBFFLz3oSgf4+rmXhRTAoor0S6RMsx0zkIwifRSfPXGid2J4SfzieT95QQLsaTya6F08cAZ4c/P/9Mg9Sfz/l5x8LpY2cmhHnqt+8lr2ZAgTo2Ec9lWWdOIB+H0zSte7N6pd0ZQpZlzEUWkF3EJbuE2b9zJ5MXbD4RVZwu8jwIQfKhaUST4ChBy6ZmmZYOHNinNEq7A4UNCZmGrwFwyAlR1ciY6QAZUZr9kAltBHby9/XHsx/Ig/84GXZyHyFs8+evaoNX/PzEwunjSSeEvM0I/NfqfvlcK8hD2fcc0b7xCPiFs3jiwKqytEJlpxFLRfWKAgfJeaWAKcMIQXbhwiaEpDLeEim0bgULpz4ot4Bo4tUjpG4dRDOx4NbcFdmitEs/eWqNArnJ3YXdzk9PT1kDV39RYfTilPB0kLOIAc4+f/6mFcIbft63cPrY74TAZQ85RIbKnswnI4RtbECO13Q6gBSRuZRQtB15UsH2tF0PHKkLZ9BfKNzrkiNBHNkMRBGAFZlrdAldOvueGagOczaoLjgLo4b9N81hJG88hNBVqfYowYMoXRUSdFmjk5PjD63/XhydEEaDnEUMcLb487NLHufyjJ+3LJw+tnq3RvDaxBNcautSudy8dDRWDFfxJKr2djVWFfLhwLmYVgnY6+bZEGQfbkQyqVxNS5V7fFsTFdRsgG15NcttuEcubHJGYhIdukzwEoKMUiiEWalmzVCj8Xh8+Cv774fjMWNICOMlDHA2+fOjd6SEy3dH/Lxp4fSxuWIhcIdWmj4B2l+5G+G2oYYu3g0R4juPsHTowIjFUbFwhWX+KdCQtJkFX/lSyedjZemoHL1Ko0TnESVMwCivW0M0UARvy7qRSqbBvYe5LOLCeqjGyae/XNafXlid3EcIzQG/OH5+cfHcCOpgaLKDxWGYMxdCUVV3FgJpoBSsBxxBSvvdVA+5F8sJh1AYges7dSHzyNwbQWWW1GJJPJtIpfsrFDKQwlcFUZoEadokKVp3ZF4iG4poDjSbKJxfdcdpTHtz3rI2XNJafGPnmHH4/acfvzJPx0O3PcdLGOA0G+YNVVdH5mFjaLKNxWGYs+LfGrUR01pJtxB+v+VYwS8+Vgevb5XQjdEM6PZ5zvk3ftPwH8HWT3dO/vUBcHIvITTbfcb28Gw3Oesf3a1xL7BztIQhIXhwyKW3rwnbFv++yVkLYY17gc3DRR8/vCWH8fhZ+/7ZY/t8y5y1ENa4H3g0WsCj23IYDx5ujUZbD6FzL3H+Br9pBrXlkaHIAAAAAElFTkSuQmCC", "content_type": "image/png"}, "tests/qunit.css": {"data": "LyoqIEZvbnQgRmFtaWx5IGFuZCBTaXplcyAqLwoKI3F1bml0LXRlc3RzLCAjcXVuaXQtaGVhZGVyLCAjcXVuaXQtYmFubmVyLCAjcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyLCAjcXVuaXQtdXNlckFnZW50LCAjcXVuaXQtdGVzdHJlc3VsdCB7Cglmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIExpZ2h0IiwgIkhlbHZldGljYU5ldWUtTGlnaHQiLCAiSGVsdmV0aWNhIE5ldWUiLCBDYWxpYnJpLCBIZWx2ZXRpY2EsIEFyaWFsOwp9CgojcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyLCAjcXVuaXQtdXNlckFnZW50LCAjcXVuaXQtdGVzdHJlc3VsdCwgI3F1bml0LXRlc3RzIGxpIHsgZm9udC1zaXplOiBzbWFsbDsgfQojcXVuaXQtdGVzdHMgeyBmb250LXNpemU6IHNtYWxsZXI7IH0KCgovKiogUmVzZXRzICovCgojcXVuaXQtdGVzdHMsICNxdW5pdC10ZXN0cyBvbCwgI3F1bml0LWhlYWRlciwgI3F1bml0LWJhbm5lciwgI3F1bml0LXVzZXJBZ2VudCwgI3F1bml0LXRlc3RyZXN1bHQgewoJbWFyZ2luOiAwOwoJcGFkZGluZzogMDsKfQoKCi8qKiBIZWFkZXIgKi8KCiNxdW5pdC1oZWFkZXIgewoJcGFkZGluZzogMC41ZW0gMCAwLjVlbSAxZW07CgoJY29sb3I6ICM4Njk5YTQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjMGQzMzQ5OwoKCWZvbnQtc2l6ZTogMS41ZW07CglsaW5lLWhlaWdodDogMWVtOwoJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQoJYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDAgMDsKCS1tb3otYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDAgMDsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDE1cHg7Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDE1cHg7Cn0KCiNxdW5pdC1oZWFkZXIgYSB7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cgljb2xvcjogI2MyY2NkMTsKfQoKI3F1bml0LWhlYWRlciBhOmhvdmVyLAojcXVuaXQtaGVhZGVyIGE6Zm9jdXMgewoJY29sb3I6ICNmZmY7Cn0KCiNxdW5pdC1iYW5uZXIgewoJaGVpZ2h0OiA1cHg7Cn0KCiNxdW5pdC10ZXN0cnVubmVyLXRvb2xiYXIgewoJcGFkZGluZzogMGVtIDAgMC41ZW0gMmVtOwp9CgojcXVuaXQtdXNlckFnZW50IHsKCXBhZGRpbmc6IDAuNWVtIDAgMC41ZW0gMi41ZW07CgliYWNrZ3JvdW5kLWNvbG9yOiAjMmI4MWFmOwoJY29sb3I6ICNmZmY7Cgl0ZXh0LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjUpIDJweCAycHggMXB4Owp9CgoKLyoqIFRlc3RzOiBQYXNzL0ZhaWwgKi8KCiNxdW5pdC10ZXN0cyB7CglsaXN0LXN0eWxlLXBvc2l0aW9uOiBpbnNpZGU7Cn0KCiNxdW5pdC10ZXN0cyBsaSB7CglwYWRkaW5nOiAwLjRlbSAwLjVlbSAwLjRlbSAyLjVlbTsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmOwoJbGlzdC1zdHlsZS1wb3NpdGlvbjogaW5zaWRlOwp9CgojcXVuaXQtdGVzdHMgbGkgc3Ryb25nIHsKCWN1cnNvcjogcG9pbnRlcjsKfQoKI3F1bml0LXRlc3RzIG9sIHsKCW1hcmdpbi10b3A6IDAuNWVtOwoJcGFkZGluZzogMC41ZW07CgkKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CgkKCWJvcmRlci1yYWRpdXM6IDE1cHg7CgktbW96LWJvcmRlci1yYWRpdXM6IDE1cHg7Cgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDE1cHg7CgkKCWJveC1zaGFkb3c6IGluc2V0IDBweCAycHggMTNweCAjOTk5OwoJLW1vei1ib3gtc2hhZG93OiBpbnNldCAwcHggMnB4IDEzcHggIzk5OTsKCS13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMHB4IDJweCAxM3B4ICM5OTk7Cn0KCiNxdW5pdC10ZXN0cyB0YWJsZSB7Cglib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwoJbWFyZ2luLXRvcDogLjJlbTsKfQoKI3F1bml0LXRlc3RzIHRoIHsKCXRleHQtYWxpZ246IHJpZ2h0OwoJdmVydGljYWwtYWxpZ246IHRvcDsKCXBhZGRpbmc6IDAgLjVlbSAwIDA7Cn0KCiNxdW5pdC10ZXN0cyB0ZCB7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwp9CgojcXVuaXQtdGVzdHMgcHJlIHsKCW1hcmdpbjogMDsKCXdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKCXdvcmQtd3JhcDogYnJlYWstd29yZDsKfQoKI3F1bml0LXRlc3RzIGRlbCB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZTBmMmJlOwoJY29sb3I6ICMzNzRlMGM7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCiNxdW5pdC10ZXN0cyBpbnMgewoJYmFja2dyb3VuZC1jb2xvcjogI2ZmY2FjYTsKCWNvbG9yOiAjNTAwOwoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CgovKioqIFRlc3QgQ291bnRzICovCgojcXVuaXQtdGVzdHMgYi5jb3VudHMgICAgICAgICAgICAgICAgICAgICAgIHsgY29sb3I6IGJsYWNrOyB9CiNxdW5pdC10ZXN0cyBiLnBhc3NlZCAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xvcjogIzVFNzQwQjsgfQojcXVuaXQtdGVzdHMgYi5mYWlsZWQgICAgICAgICAgICAgICAgICAgICAgIHsgY29sb3I6ICM3MTA5MDk7IH0KCiNxdW5pdC10ZXN0cyBsaSBsaSB7CgltYXJnaW46IDAuNWVtOwoJcGFkZGluZzogMC40ZW0gMC41ZW0gMC40ZW0gMC41ZW07CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJYm9yZGVyLWJvdHRvbTogbm9uZTsKCWxpc3Qtc3R5bGUtcG9zaXRpb246IGluc2lkZTsKfQoKLyoqKiBQYXNzaW5nIFN0eWxlcyAqLwoKI3F1bml0LXRlc3RzIGxpIGxpLnBhc3MgewoJY29sb3I6ICM1RTc0MEI7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJYm9yZGVyLWxlZnQ6IDI2cHggc29saWQgI0M2RTc0NjsKfQoKI3F1bml0LXRlc3RzIC5wYXNzICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbG9yOiAjNTI4Q0UwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjRDJFMEU2OyB9CiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1uYW1lICAgICAgICAgICAgICAgeyBjb2xvcjogIzM2NjA5NzsgfQogCiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1hY3R1YWwsCiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1leHBlY3RlZCAgICAgICAgICAgeyBjb2xvcjogIzk5OTk5OTsgfQoKI3F1bml0LWJhbm5lci5xdW5pdC1wYXNzICAgICAgICAgICAgICAgICAgICB7IGJhY2tncm91bmQtY29sb3I6ICNDNkU3NDY7IH0KCi8qKiogRmFpbGluZyBTdHlsZXMgKi8KCiNxdW5pdC10ZXN0cyBsaSBsaS5mYWlsIHsKCWNvbG9yOiAjNzEwOTA5OwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCWJvcmRlci1sZWZ0OiAyNnB4IHNvbGlkICNFRTU3NTc7Cn0KCiNxdW5pdC10ZXN0cyAuZmFpbCAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xvcjogIzAwMDAwMDsgYmFja2dyb3VuZC1jb2xvcjogI0VFNTc1NzsgfQojcXVuaXQtdGVzdHMgLmZhaWwgLnRlc3QtbmFtZSwKI3F1bml0LXRlc3RzIC5mYWlsIC5tb2R1bGUtbmFtZSAgICAgICAgICAgICB7IGNvbG9yOiAjMDAwMDAwOyB9CgojcXVuaXQtdGVzdHMgLmZhaWwgLnRlc3QtYWN0dWFsICAgICAgICAgICAgIHsgY29sb3I6ICNFRTU3NTc7IH0KI3F1bml0LXRlc3RzIC5mYWlsIC50ZXN0LWV4cGVjdGVkICAgICAgICAgICB7IGNvbG9yOiBncmVlbjsgICB9CgojcXVuaXQtYmFubmVyLnF1bml0LWZhaWwsIAojcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyICAgICAgICAgICAgICAgICAgIHsgYmFja2dyb3VuZC1jb2xvcjogI0VFNTc1NzsgfQoKCi8qKiBGb290ZXIgKi8KCiNxdW5pdC10ZXN0cmVzdWx0IHsKCXBhZGRpbmc6IDAuNWVtIDAuNWVtIDAuNWVtIDIuNWVtOwoKCWNvbG9yOiAjMmI4MWFmOwoJYmFja2dyb3VuZC1jb2xvcjogI0QyRTBFNjsKCglib3JkZXItcmFkaXVzOiAwIDAgMTVweCAxNXB4OwoJLW1vei1ib3JkZXItcmFkaXVzOiAwIDAgMTVweCAxNXB4OwoJLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTVweDsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTVweDsKfQoKLyoqIEZpeHR1cmUgKi8KCiNxdW5pdC1maXh0dXJlIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXRvcDogLTEwMDAwcHg7CglsZWZ0OiAtMTAwMDBweDsKfQo=", "content_type": "text/css"}, "css.js": {"data": "LyoKVGhpcyBhcHByYW9jaCBhbGxvd3MgY29sb3JzIHRvIGJlIHN0b3JlZCBhcyBjb25zdGFudHMKKi8KdmFyIGJsdWUsIGZpcnN0X2NsaWNrX2NvbG9yLCByZWQsIHNlY29uZF9jbGlja19jb2xvciwgeWVsbG93OwpibHVlID0gIiM1RTg3QjAiOwp5ZWxsb3cgPSAiI0Y3Qzk0MiI7CmZpcnN0X2NsaWNrX2NvbG9yID0geWVsbG93OwpzZWNvbmRfY2xpY2tfY29sb3IgPSBibHVlOwpyZWQgPSAicmVkIjsKJCgiaGVhZCIpLmFwcGVuZCgiICA8c3R5bGU+ICAgIHNwYW4udGltZXItc2Vjb25kc3sgICAgICBmbG9hdDpyaWdodDsgICAgICBtYXJnaW4tcmlnaHQ6MTBweDsgICAgICBtYXJnaW4tdG9wOjVweDsgICAgICBmb250LXNpemU6IGxhcmdlOyAgICB9ICAgIC5jb250cm9scy5mbGFzaHsgICAgICBjb2xvcjogYmxhY2s7ICAgICAgYmFja2dyb3VuZC1jb2xvcjogIiArIHJlZCArICI7ICAgIH0gICAgLmZsYXNoIHsgICAgICBjb2xvcjogIiArIHJlZCArICI7ICAgIH0gICAgI0luaXRpYWxTb3VuZCAudWktY29udHJvbGdyb3VwLWxhYmVseyAgICAgIGZvbnQtc2l6ZTogeC1sYXJnZTsgICAgfSAgICAjUGhvbmVtZXMgbGVnZW5keyAgICAgIGZvbnQtc2l6ZTogeC1sYXJnZTsgICAgfSAgICAuZ3JpZHsgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7ICAgICAgZmxvYXQ6IGxlZnQ7ICAgICAgd2lkdGg6IDUwcHg7ICAgICAgaGVpZ2h0OiA1MHB4OyAgICAgIG1hcmdpbjogMTBweDsgICAgICBib3JkZXI6IDNweCBvdXRzZXQgZ3JheTsgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGdyYXk7ICAgICAgY29sb3I6IGxpZ2h0Z3JheTsgICAgICAtd2Via2l0LXVzZXItc2VsZWN0OiBub25lOyAgICAgIC1raHRtbC11c2VyLXNlbGVjdDogbm9uZTsgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOyAgICAgIC1vLXVzZXItc2VsZWN0OiBub25lOyAgICAgIHVzZXItc2VsZWN0OiBub25lOyAgICB9ICAgIC5ncmlkLnNob3d7ICAgICAgY29sb3I6IGJsYWNrOyAgICB9ICAgIC5ncmlkIHNwYW57ICAgICAgZm9udC1zaXplOiA1MHB4OyAgICAgIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7ICAgIH0gICAgLmdyaWQuc2VsZWN0ZWR7ICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7ICAgICAgY29sb3I6IHdoaXRlOyAgICAgIGJhY2tncm91bmQtY29sb3I6ICIgKyBibHVlICsgIjsgICAgfSAgICAuZ3JpZC5sYXN0LWF0dGVtcHRlZHsgICAgICBjb2xvcjogcmVkOyAgICAgIGJvcmRlci1yaWdodC1jb2xvcjogcmVkOyAgICAgIGJvcmRlci10b3AtY29sb3I6IHJlZDsgICAgICBib3JkZXItYm90dG9tLWNvbG9yOiByZWQ7ICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDsgICAgfSAgICBAbWVkaWEgc2NyZWVuIGFuZCAob3JpZW50YXRpb246cG9ydHJhaXQpeyAgICAgICAuZ3JpZC13aWR0aHsgICAgICAgIHdpZHRoOiA0NDBweDsgICAgICB9ICAgIH0gICAgQG1lZGlhIHNjcmVlbiBhbmQgKG9yaWVudGF0aW9uOmxhbmRzY2FwZSkgeyAgICAgIC5ncmlkLXdpZHRoeyAgICAgICAgd2lkdGg6IDgyMHB4OyAgICAgIH0gICAgICAudG9nZ2xlLXJvdy1wb3J0cmFpdHsgICAgICAgIGRpc3BsYXk6IG5vbmU7ICAgICAgfSAgICB9ICAgIC50b2dnbGUtcm93eyAgICAgIGJhY2tncm91bmQtY29sb3I6ICIgKyBibHVlICsgIjsgICAgICB3aWR0aDogMzBweDsgICAgICBoZWlnaHQ6IDMwcHg7ICAgICAgbWFyZ2luLXRvcDogMjJweDsgICAgfSAgICAgIDwvc3R5bGU+ICAiKTs=", "content_type": "application/javascript"}, "images/form-check-on.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAA3NCSVQICAjb4U/gAAAAYFBMVEX///////+np6cnKCchISEZGRmtra0SEhKZmZmMjIw6OjpBQkGDg4N8fHx0dHQzMzMuLi1mZmZ0dHRaWlpPT07MzMwZGRlOT098fHx0dHRra2tmZmZaWlozMzPDxMStra29j9XJAAAAIHRSTlMA/zMzMzMzMzMzMzMzMzMzMzPMMzN3mTNEREREVWZ3mfMwb8sAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAFXRFWHRDcmVhdGlvbiBUaW1lADgvMjAvMTBJWw4MAAAAjklEQVQYlXXR2RLCIAyFYbCuRSUItTt5/7fsIV2cKfa/YJJvcodS/7vtSnbJAp6zgEUW0FpLZEneqLkgApa/otaaqQSarWT6MxpgCKGuNJtQiX3HGui9TyvHxYIHOufkZr1zDvhGvFmPDfhCPa+WNuAz1bFYJwvwIbUMa+cZeJ9rhqFZRuAp6wjVddfBX0wKJgxe43wHTwAAAABJRU5ErkJggg==", "content_type": "image/png"}, "models/template.js": {"data": "IA==", "content_type": "application/javascript"}, "images/form-radio-off.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAA3NCSVQICAjb4U/gAAAAYFBMVEX////W1tbGxsa2trasrKypqKimpqaNjY2EhIR0dHRjY2NTU1NLS0uZmZmNjY2EhIR5eXlsbWxjY2NTU1NLS0s6OjotLS0uLS0tLi4tLS4uLS4hIiEYFxgODg4GBgcAAACMPEkKAAAAIHRSTlMAERERERERERERERERIiIiIiIiIiIiIiIiIiIiIiIiIuyElFgAAAAJcEhZcwAACxIAAAsSAdLdfvwAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAAAFXRFWHRDcmVhdGlvbiBUaW1lADgvMjAvMTBJWw4MAAAAh0lEQVQYlXXOyRbDIAhA0YCoSUzn1qZj/v8vC8Ra9Zy+BYvLArrufwieAywJh2nhpgEzo1VStkmRwjsXaFUMr6KgCP2zqgfB8VE1Crp4jfP9xjPOUaYTvDQJ0rmJGM2pycghf6zyep0OVQT6qNsXObUOwO5yFlZkpW2KviaKZsMZ/FlaNND2AdUqEWmuCErqAAAAAElFTkSuQmCC", "content_type": "image/png"}, "js-libraries/jquery-mobile/jquery.mobile-1.0b2.min.css": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIyCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovLnVpLWJhci1he2JvcmRlcjoxcHggc29saWQgIzJhMmEyYTtiYWNrZ3JvdW5kOiMxMTE7Y29sb3I6I2ZmZjtmb250LXdlaWdodDpib2xkO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzAwMDtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzNjM2MzYyksdG8oIzExMSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzNjM2MzYywjMTExKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSl9LnVpLWJhci1hLC51aS1iYXItYSBpbnB1dCwudWktYmFyLWEgc2VsZWN0LC51aS1iYXItYSB0ZXh0YXJlYSwudWktYmFyLWEgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1iYXItYSAudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJhci1hIC51aS1saW5re2NvbG9yOiM3Y2M0ZTc7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYm9keS1he2JvcmRlcjoxcHggc29saWQgIzJhMmEyYTtiYWNrZ3JvdW5kOiMyMjI7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIDFweCAwICMwMDA7Zm9udC13ZWlnaHQ6bm9ybWFsO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNjY2KSx0bygjMjIyKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNjY2LCMyMjIpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKX0udWktYm9keS1hLC51aS1ib2R5LWEgaW5wdXQsLnVpLWJvZHktYSBzZWxlY3QsLnVpLWJvZHktYSB0ZXh0YXJlYSwudWktYm9keS1hIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYm9keS1hIC51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYm9keS1hIC51aS1saW5re2NvbG9yOiMyNDg5Y2U7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYnJ7Ym9yZGVyLWJvdHRvbTojODI4MjgyO2JvcmRlci1ib3R0b206cmdiYSgxMzAsMTMwLDEzMCwuMyk7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpzb2xpZH0udWktYnRuLXVwLWF7Ym9yZGVyOjFweCBzb2xpZCAjMjIyO2JhY2tncm91bmQ6IzMzMztmb250LXdlaWdodDpib2xkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMDAwO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNTU1KSx0bygjMzMzKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNTU1LCMzMzMpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKX0udWktYnRuLXVwLWEgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLWhvdmVyLWF7Ym9yZGVyOjFweCBzb2xpZCAjMDAwO2JhY2tncm91bmQ6IzQ0NDtmb250LXdlaWdodDpib2xkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMDAwO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNjY2KSx0bygjNDQ0KSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNjY2LCM0NDQpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KX0udWktYnRuLWhvdmVyLWEgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLWRvd24tYXtib3JkZXI6MXB4IHNvbGlkICMwMDA7YmFja2dyb3VuZDojM2QzZDNkO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMwMDA7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCMzMzMpLHRvKCM1YTVhNWEpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCMzMzMsIzVhNWE1YSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpfS51aS1idG4tZG93bi1hIGEudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJ0bi11cC1hLC51aS1idG4taG92ZXItYSwudWktYnRuLWRvd24tYXtmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0ZXh0LWRlY29yYXRpb246bm9uZX0udWktYmFyLWJ7Ym9yZGVyOjFweCBzb2xpZCAjNDU2ZjlhO2JhY2tncm91bmQ6IzVlODdiMDtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMjU0ZjdhO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjODFhOGNlKSx0bygjNWU4N2IwKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjODFhOGNlLCM1ZTg3YjApO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKX0udWktYmFyLWIsLnVpLWJhci1iIGlucHV0LC51aS1iYXItYiBzZWxlY3QsLnVpLWJhci1iIHRleHRhcmVhLC51aS1iYXItYiBidXR0b257Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LnVpLWJhci1iIC51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYmFyLWIgLnVpLWxpbmt7Y29sb3I6IzdjYzRlNztmb250LXdlaWdodDpib2xkfS51aS1ib2R5LWJ7Ym9yZGVyOjFweCBzb2xpZCAjYzZjNmM2O2JhY2tncm91bmQ6I2NjYztjb2xvcjojMzMzO3RleHQtc2hhZG93OjAgMXB4IDAgI2ZmZjtmb250LXdlaWdodDpub3JtYWw7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNlNmU2ZTYpLHRvKCNjY2MpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNlNmU2ZTYsI2NjYyk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpfS51aS1ib2R5LWIsLnVpLWJvZHktYiBpbnB1dCwudWktYm9keS1iIHNlbGVjdCwudWktYm9keS1iIHRleHRhcmVhLC51aS1ib2R5LWIgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWIgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1ib2R5LWIgLnVpLWxpbmt7Y29sb3I6IzI0ODljZTtmb250LXdlaWdodDpib2xkfS51aS1idG4tdXAtYntib3JkZXI6MXB4IHNvbGlkICMxNDUwNzI7YmFja2dyb3VuZDojMjU2N2FiO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMxNDUwNzI7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCM1ZjljYzUpLHRvKCMzOTZiOWUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCM1ZjljYzUsIzM5NmI5ZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpfS51aS1idG4tdXAtYiBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojZmZmfS51aS1idG4taG92ZXItYntib3JkZXI6MXB4IHNvbGlkICMwMDUxNmU7YmFja2dyb3VuZDojNGI4OGI2O2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMwMTRkNjg7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCM3MmIwZDQpLHRvKCM0Yjg4YjYpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCM3MmIwZDQsIzRiODhiNik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpfS51aS1idG4taG92ZXItYiBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojZmZmfS51aS1idG4tZG93bi1ie2JvcmRlcjoxcHggc29saWQgIzIyNTM3NztiYWNrZ3JvdW5kOiM0ZTg5YzU7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzIyNTM3NztiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzM5NmI5ZSksdG8oIzRlODljNSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzM5NmI5ZSwjNGU4OWM1KTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSl9LnVpLWJ0bi1kb3duLWIgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLXVwLWIsLnVpLWJ0bi1ob3Zlci1iLC51aS1idG4tZG93bi1ie2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO3RleHQtZGVjb3JhdGlvbjpub25lfS51aS1iYXItY3tib3JkZXI6MXB4IHNvbGlkICNiM2IzYjM7YmFja2dyb3VuZDojZTllYWViO2NvbG9yOiMzZTNlM2U7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LXNoYWRvdzowIDFweCAxcHggI2ZmZjtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oI2YwZjBmMCksdG8oI2U5ZWFlYikpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI2YwZjBmMCwjZTllYWViKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYil9LnVpLWJhci1jLC51aS1iYXItYyBpbnB1dCwudWktYmFyLWMgc2VsZWN0LC51aS1iYXItYyB0ZXh0YXJlYSwudWktYmFyLWMgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWN7Ym9yZGVyOjFweCBzb2xpZCAjYjNiM2IzO2NvbG9yOiMzMzM7dGV4dC1zaGFkb3c6MCAxcHggMCAjZmZmO2JhY2tncm91bmQ6I2YwZjBmMDtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oI2VlZSksdG8oI2RkZCkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZGRkKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCl9LnVpLWJvZHktYywudWktYm9keS1jIGlucHV0LC51aS1ib2R5LWMgc2VsZWN0LC51aS1ib2R5LWMgdGV4dGFyZWEsLnVpLWJvZHktYyBidXR0b257Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LnVpLWJvZHktYyAudWktbGluay1pbmhlcml0e2NvbG9yOiMzMzN9LnVpLWJvZHktYyAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJ0bi11cC1je2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNlZWU7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojNDQ0O3RleHQtc2hhZG93OjAgMXB4IDFweCAjZjZmNmY2O2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmRmZGZkKSx0bygjZWVlKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKX0udWktYnRuLXVwLWMgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzJmM2U0Nn0udWktYnRuLWhvdmVyLWN7Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2JhY2tncm91bmQ6I2RhZGFkYTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMxMDEwMTA7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNlZGVkZWQpLHRvKCNkYWRhZGEpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNlZGVkZWQsI2RhZGFkYSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpfS51aS1idG4taG92ZXItYyBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMmYzZTQ2fS51aS1idG4tZG93bi1je2JvcmRlcjoxcHggc29saWQgIzgwODA4MDtiYWNrZ3JvdW5kOiNmZGZkZmQ7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZWVlKSx0bygjZmRmZGZkKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZWVlLCNmZGZkZmQpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKX0udWktYnRuLWRvd24tYyBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMmYzZTQ2fS51aS1idG4tdXAtYywudWktYnRuLWhvdmVyLWMsLnVpLWJ0bi1kb3duLWN7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnVpLWJhci1ke2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNiYmI7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNlZWU7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNkZGQpLHRvKCNiYmIpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNkZGQsI2JiYik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpfS51aS1iYXItZCwudWktYmFyLWQgaW5wdXQsLnVpLWJhci1kIHNlbGVjdCwudWktYmFyLWQgdGV4dGFyZWEsLnVpLWJhci1kIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYmFyLWQgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1iYXItZCAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJvZHktZHtib3JkZXI6MXB4IHNvbGlkICNjY2M7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZDojZmZmfS51aS1ib2R5LWQsLnVpLWJvZHktZCBpbnB1dCwudWktYm9keS1kIHNlbGVjdCwudWktYm9keS1kIHRleHRhcmVhLC51aS1ib2R5LWQgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWQgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1ib2R5LWQgLnVpLWxpbmt7Y29sb3I6IzI0ODljZTtmb250LXdlaWdodDpib2xkfS51aS1idG4tdXAtZHtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZDojZmZmO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzQ0NDt0ZXh0LXNoYWRvdzowIDFweCAxcHggI2ZmZn0udWktYnRuLXVwLWQgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYnRuLWhvdmVyLWR7Ym9yZGVyOjFweCBzb2xpZCAjYWFhO2JhY2tncm91bmQ6I2VlZTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMyMjI7Y3Vyc29yOnBvaW50ZXI7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmZGZkZmQpLHRvKCNlZWUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmZGZkZmQsI2VlZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpfS51aS1idG4taG92ZXItZCBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMjIyfS51aS1idG4tZG93bi1ke2JvcmRlcjoxcHggc29saWQgI2FhYTtiYWNrZ3JvdW5kOiNmZmY7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZWVlKSx0bygjZmZmKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZWVlLCNmZmYpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKX0udWktYnRuLWRvd24tZCBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMTExfS51aS1idG4tdXAtZCwudWktYnRuLWhvdmVyLWQsLnVpLWJ0bi1kb3duLWR7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnVpLWJhci1le2JvcmRlcjoxcHggc29saWQgI2Y3Yzk0MjtiYWNrZ3JvdW5kOiNmYWRiNGU7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmY2VkYTcpLHRvKCNmYWRiNGUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmY2VkYTcsI2ZhZGI0ZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpfS51aS1iYXItZSwudWktYmFyLWUgaW5wdXQsLnVpLWJhci1lIHNlbGVjdCwudWktYmFyLWUgdGV4dGFyZWEsLnVpLWJhci1lIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYmFyLWUgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1iYXItZSAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJvZHktZXtib3JkZXI6MXB4IHNvbGlkICNmN2M5NDI7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZDojZmFlYjllO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmZmKSx0bygjZmFlYjllKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmLCNmYWViOWUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKX0udWktYm9keS1lLC51aS1ib2R5LWUgaW5wdXQsLnVpLWJvZHktZSBzZWxlY3QsLnVpLWJvZHktZSB0ZXh0YXJlYSwudWktYm9keS1lIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYm9keS1lIC51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYm9keS1lIC51aS1saW5re2NvbG9yOiMyNDg5Y2U7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYnRuLXVwLWV7Ym9yZGVyOjFweCBzb2xpZCAjZjdjOTQyO2JhY2tncm91bmQ6I2ZhZGI0ZTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMzMzM7dGV4dC1zaGFkb3c6MCAxcHggMCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmNlZGE3KSx0bygjZmFkYjRlKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKX0udWktYnRuLXVwLWUgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYnRuLWhvdmVyLWV7Ym9yZGVyOjFweCBzb2xpZCAjZTc5OTUyO2JhY2tncm91bmQ6I2ZiZTI2Zjtmb250LXdlaWdodDpib2xkO2NvbG9yOiMxMTE7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmY2YwYjUpLHRvKCNmYmUyNmYpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmY2YwYjUsI2ZiZTI2Zik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpfS51aS1idG4taG92ZXItZSBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1idG4tZG93bi1le2JvcmRlcjoxcHggc29saWQgI2Y3Yzk0MjtiYWNrZ3JvdW5kOiNmY2VkYTc7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmFkYjRlKSx0bygjZmNlZGE3KSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmFkYjRlLCNmY2VkYTcpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KX0udWktYnRuLWRvd24tZSBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1idG4tdXAtZSwudWktYnRuLWhvdmVyLWUsLnVpLWJ0bi1kb3duLWV7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9YS51aS1saW5rLWluaGVyaXR7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fS51aS1idG4tYWN0aXZle2JvcmRlcjoxcHggc29saWQgIzE1NTY3ODtiYWNrZ3JvdW5kOiM0NTk2Y2U7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojZmZmO2N1cnNvcjpwb2ludGVyO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzE0NTA3Mjt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzg1YmFlNCksdG8oIzUzOTNjNSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzg1YmFlNCwjNTM5M2M1KTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7b3V0bGluZTowfS51aS1idG4tYWN0aXZlIGEudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJ0bi1pbm5lcntib3JkZXItdG9wOjFweCBzb2xpZCAjZmZmO2JvcmRlci1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4zKX0udWktY29ybmVyLXRsey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtfS51aS1jb3JuZXItdHJ7LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOi42ZW19LnVpLWNvcm5lci1ibHstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6LjZlbX0udWktY29ybmVyLWJyey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItdG9wey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItYm90dG9tey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItcmlnaHR7LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOi42ZW07LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOi42ZW19LnVpLWNvcm5lci1sZWZ0ey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtfS51aS1jb3JuZXItYWxsey1tb3otYm9yZGVyLXJhZGl1czouNmVtOy13ZWJraXQtYm9yZGVyLXJhZGl1czouNmVtO2JvcmRlci1yYWRpdXM6LjZlbX0udWktZGlzYWJsZWR7b3BhY2l0eTouM30udWktZGlzYWJsZWQsLnVpLWRpc2FibGVkIGF7Y3Vyc29yOmRlZmF1bHR9LnVpLWljb257YmFja2dyb3VuZDojNjY2O2JhY2tncm91bmQ6cmdiYSgwLDAsMCwuNCk7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2ljb25zLTE4LXdoaXRlLnBuZyk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0Oy1tb3otYm9yZGVyLXJhZGl1czo5cHg7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjlweDtib3JkZXItcmFkaXVzOjlweH0udWktaWNvbi1hbHR7YmFja2dyb3VuZDojZmZmO2JhY2tncm91bmQ6cmdiYSgyNTUsMjU1LDI1NSwuMyk7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2ljb25zLTE4LWJsYWNrLnBuZyk7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0fUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKC13ZWJraXQtbWluLWRldmljZS1waXhlbC1yYXRpbzoxLjUpLG9ubHkgc2NyZWVuIGFuZCAobWluLS1tb3otZGV2aWNlLXBpeGVsLXJhdGlvOjEuNSksb25seSBzY3JlZW4gYW5kIChtaW4tcmVzb2x1dGlvbjoyNDBkcGkpey51aS1pY29uLXBsdXMsLnVpLWljb24tbWludXMsLnVpLWljb24tZGVsZXRlLC51aS1pY29uLWFycm93LXIsLnVpLWljb24tYXJyb3ctbCwudWktaWNvbi1hcnJvdy11LC51aS1pY29uLWFycm93LWQsLnVpLWljb24tY2hlY2ssLnVpLWljb24tZ2VhciwudWktaWNvbi1yZWZyZXNoLC51aS1pY29uLWZvcndhcmQsLnVpLWljb24tYmFjaywudWktaWNvbi1ncmlkLC51aS1pY29uLXN0YXIsLnVpLWljb24tYWxlcnQsLnVpLWljb24taW5mbywudWktaWNvbi1ob21lLC51aS1pY29uLXNlYXJjaCwudWktaWNvbi1jaGVja2JveC1vZmYsLnVpLWljb24tY2hlY2tib3gtb24sLnVpLWljb24tcmFkaW8tb2ZmLC51aS1pY29uLXJhZGlvLW9ue2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9pY29ucy0zNi13aGl0ZS5wbmcpOy1tb3otYmFja2dyb3VuZC1zaXplOjc3NnB4IDE4cHg7LW8tYmFja2dyb3VuZC1zaXplOjc3NnB4IDE4cHg7LXdlYmtpdC1iYWNrZ3JvdW5kLXNpemU6Nzc2cHggMThweDtiYWNrZ3JvdW5kLXNpemU6Nzc2cHggMThweH0udWktaWNvbi1hbHR7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2ljb25zLTM2LWJsYWNrLnBuZyl9fS51aS1pY29uLXBsdXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMCA1MCV9LnVpLWljb24tbWludXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMzZweCA1MCV9LnVpLWljb24tZGVsZXRle2JhY2tncm91bmQtcG9zaXRpb246LTcycHggNTAlfS51aS1pY29uLWFycm93LXJ7YmFja2dyb3VuZC1wb3NpdGlvbjotMTA4cHggNTAlfS51aS1pY29uLWFycm93LWx7YmFja2dyb3VuZC1wb3NpdGlvbjotMTQ0cHggNTAlfS51aS1pY29uLWFycm93LXV7YmFja2dyb3VuZC1wb3NpdGlvbjotMTgwcHggNTAlfS51aS1pY29uLWFycm93LWR7YmFja2dyb3VuZC1wb3NpdGlvbjotMjE2cHggNTAlfS51aS1pY29uLWNoZWNre2JhY2tncm91bmQtcG9zaXRpb246LTI1MnB4IDUwJX0udWktaWNvbi1nZWFye2JhY2tncm91bmQtcG9zaXRpb246LTI4OHB4IDUwJX0udWktaWNvbi1yZWZyZXNoe2JhY2tncm91bmQtcG9zaXRpb246LTMyNHB4IDUwJX0udWktaWNvbi1mb3J3YXJke2JhY2tncm91bmQtcG9zaXRpb246LTM2MHB4IDUwJX0udWktaWNvbi1iYWNre2JhY2tncm91bmQtcG9zaXRpb246LTM5NnB4IDUwJX0udWktaWNvbi1ncmlke2JhY2tncm91bmQtcG9zaXRpb246LTQzMnB4IDUwJX0udWktaWNvbi1zdGFye2JhY2tncm91bmQtcG9zaXRpb246LTQ2OHB4IDUwJX0udWktaWNvbi1hbGVydHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi01MDRweCA1MCV9LnVpLWljb24taW5mb3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi01NDBweCA1MCV9LnVpLWljb24taG9tZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi01NzZweCA1MCV9LnVpLWljb24tc2VhcmNoe2JhY2tncm91bmQtcG9zaXRpb246LTYxMnB4IDUwJX0udWktaWNvbi1jaGVja2JveC1vZmZ7YmFja2dyb3VuZC1wb3NpdGlvbjotNjg0cHggNTAlfS51aS1pY29uLWNoZWNrYm94LW9ue2JhY2tncm91bmQtcG9zaXRpb246LTY0OHB4IDUwJX0udWktaWNvbi1yYWRpby1vZmZ7YmFja2dyb3VuZC1wb3NpdGlvbjotNzU2cHggNTAlfS51aS1pY29uLXJhZGlvLW9ue2JhY2tncm91bmQtcG9zaXRpb246LTcyMHB4IDUwJX0udWktY2hlY2tib3ggLnVpLWljb257LW1vei1ib3JkZXItcmFkaXVzOjNweDstd2Via2l0LWJvcmRlci1yYWRpdXM6M3B4O2JvcmRlci1yYWRpdXM6M3B4fS51aS1pY29uLWNoZWNrYm94LW9mZiwudWktaWNvbi1yYWRpby1vZmZ7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udWktY2hlY2tib3gtb24gLnVpLWljb24sLnVpLXJhZGlvLW9uIC51aS1pY29ue2JhY2tncm91bmQtY29sb3I6IzQ1OTZjZX0udWktaWNvbi1zZWFyY2hmaWVsZHtiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvaWNvbi1zZWFyY2gtYmxhY2sucG5nKTtiYWNrZ3JvdW5kLXNpemU6MTZweCAxNnB4fS51aS1pY29uLWxvYWRpbmd7YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2FqYXgtbG9hZGVyLnBuZyk7d2lkdGg6NDBweDtoZWlnaHQ6NDBweDstbW96LWJvcmRlci1yYWRpdXM6MjBweDstd2Via2l0LWJvcmRlci1yYWRpdXM6MjBweDtib3JkZXItcmFkaXVzOjIwcHg7YmFja2dyb3VuZC1zaXplOjM1cHggMzVweH0udWktYnRuLWNvcm5lci10bHstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDoxZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci10cnstbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6MWVtOy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MWVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci1ibHstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDoxZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjFlbTtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci1icnstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tcmlnaHQ6MWVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MWVtO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci10b3B7LW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6MWVtOy13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxZW07LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OjFlbTstd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOjFlbTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxZW19LnVpLWJ0bi1jb3JuZXItYm90dG9tey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjFlbTstd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MWVtO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MWVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDoxZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxZW07Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLXJpZ2h0ey1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDoxZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxZW07Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MWVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDoxZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxZW07Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLWxlZnR7LW1vei1ib3JkZXItcmFkaXVzLXRvcGxlZnQ6MWVtOy13ZWJraXQtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czoxZW07LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MWVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czoxZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czoxZW19LnVpLWJ0bi1jb3JuZXItYWxsey1tb3otYm9yZGVyLXJhZGl1czoxZW07LXdlYmtpdC1ib3JkZXItcmFkaXVzOjFlbTtib3JkZXItcmFkaXVzOjFlbX0udWktY29ybmVyLXRsLC51aS1jb3JuZXItdHIsLnVpLWNvcm5lci1ibCwudWktY29ybmVyLWJyLC51aS1jb3JuZXItdG9wLC51aS1jb3JuZXItYm90dG9tLC51aS1jb3JuZXItcmlnaHQsLnVpLWNvcm5lci1sZWZ0LC51aS1jb3JuZXItYWxsLC51aS1idG4tY29ybmVyLXRsLC51aS1idG4tY29ybmVyLXRyLC51aS1idG4tY29ybmVyLWJsLC51aS1idG4tY29ybmVyLWJyLC51aS1idG4tY29ybmVyLXRvcCwudWktYnRuLWNvcm5lci1ib3R0b20sLnVpLWJ0bi1jb3JuZXItcmlnaHQsLnVpLWJ0bi1jb3JuZXItbGVmdCwudWktYnRuLWNvcm5lci1hbGx7LXdlYmtpdC1iYWNrZ3JvdW5kLWNsaXA6cGFkZGluZy1ib3g7LW1vei1iYWNrZ3JvdW5kLWNsaXA6cGFkZGluZztiYWNrZ3JvdW5kLWNsaXA6cGFkZGluZy1ib3h9LnVpLW92ZXJsYXl7YmFja2dyb3VuZDojNjY2O29wYWNpdHk6LjU7ZmlsdGVyOkFscGhhKE9wYWNpdHk9NTApO3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LnVpLW92ZXJsYXktc2hhZG93ey1tb3otYm94LXNoYWRvdzowIDAgMTJweCByZ2JhKDAsMCwwLC42KTstd2Via2l0LWJveC1zaGFkb3c6MCAwIDEycHggcmdiYSgwLDAsMCwuNik7Ym94LXNoYWRvdzowIDAgMTJweCByZ2JhKDAsMCwwLC42KX0udWktc2hhZG93ey1tb3otYm94LXNoYWRvdzowIDFweCA0cHggcmdiYSgwLDAsMCwuMyk7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDRweCByZ2JhKDAsMCwwLC4zKTtib3gtc2hhZG93OjAgMXB4IDRweCByZ2JhKDAsMCwwLC4zKX0udWktYmFyLWEgLnVpLXNoYWRvdywudWktYmFyLWIgLnVpLXNoYWRvdywudWktYmFyLWMgLnVpLXNoYWRvd3stbW96LWJveC1zaGFkb3c6MCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4zKTstd2Via2l0LWJveC1zaGFkb3c6MCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4zKTtib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuMyl9LnVpLXNoYWRvdy1pbnNldHstbW96LWJveC1zaGFkb3c6aW5zZXQgMCAxcHggNHB4IHJnYmEoMCwwLDAsLjIpOy13ZWJraXQtYm94LXNoYWRvdzppbnNldCAwIDFweCA0cHggcmdiYSgwLDAsMCwuMik7Ym94LXNoYWRvdzppbnNldCAwIDFweCA0cHggcmdiYSgwLDAsMCwuMil9LnVpLWljb24tc2hhZG93ey1tb3otYm94LXNoYWRvdzowIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjQpOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjQpO2JveC1zaGFkb3c6MCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC40KX0udWktZm9jdXN7LW1vei1ib3gtc2hhZG93OjAgMCAxMnB4ICMzODdiYmU7LXdlYmtpdC1ib3gtc2hhZG93OjAgMCAxMnB4ICMzODdiYmU7Ym94LXNoYWRvdzowIDAgMTJweCAjMzg3YmJlfS51aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyAqey1tb3otYm94LXNoYWRvdzpub25lIWltcG9ydGFudDstd2Via2l0LWJveC1zaGFkb3c6bm9uZSFpbXBvcnRhbnQ7Ym94LXNoYWRvdzpub25lIWltcG9ydGFudH0udWktbW9iaWxlLW5vc3VwcG9ydC1ib3hzaGFkb3cgLnVpLWZvY3Vze291dGxpbmUtd2lkdGg6MnB4fS51aS1tb2JpbGUsLnVpLW1vYmlsZSBib2R5e2hlaWdodDoxMDAlfS51aS1tb2JpbGUgZmllbGRzZXQsLnVpLXBhZ2V7cGFkZGluZzowO21hcmdpbjowfS51aS1tb2JpbGUgYSBpbWcsLnVpLW1vYmlsZSBmaWVsZHNldHtib3JkZXI6MH0udWktbW9iaWxlLXZpZXdwb3J0e21hcmdpbjowO292ZXJmbG93LXg6aGlkZGVuOy13ZWJraXQtdGV4dC1zaXplLWFkanVzdDpub25lOy1tcy10ZXh0LXNpemUtYWRqdXN0Om5vbmU7LXdlYmtpdC10YXAtaGlnaGxpZ2h0LWNvbG9yOnJnYmEoMCwwLDAsMCl9LnVpLW1vYmlsZSBbZGF0YS1yb2xlPXBhZ2VdLC51aS1tb2JpbGUgW2RhdGEtcm9sZT1kaWFsb2ddLC51aS1wYWdle3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO21pbi1oZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtkaXNwbGF5Om5vbmU7Ym9yZGVyOjB9LnVpLW1vYmlsZSAudWktcGFnZS1hY3RpdmV7ZGlzcGxheTpibG9jaztvdmVyZmxvdzp2aXNpYmxlfS5wb3J0cmFpdCwucG9ydHJhaXQgLnVpLXBhZ2V7bWluLWhlaWdodDo0MjBweH0ubGFuZHNjYXBlLC5sYW5kc2NhcGUgLnVpLXBhZ2V7bWluLWhlaWdodDozMDBweH0udWktbG9hZGluZyAudWktbW9iaWxlLXZpZXdwb3J0e292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LnVpLWxvYWRpbmcgLnVpLWxvYWRlcntkaXNwbGF5OmJsb2NrfS51aS1sb2FkaW5nIC51aS1wYWdle292ZXJmbG93OmhpZGRlbn0udWktbG9hZGVye2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5Oi44NTt6LWluZGV4OjEwMDtsZWZ0OjUwJTt3aWR0aDoyMDBweDttYXJnaW4tbGVmdDotMTMwcHg7bWFyZ2luLXRvcDotMzVweDtwYWRkaW5nOjEwcHggMzBweH0udWktbG9hZGVyIGgxe2ZvbnQtc2l6ZToxNXB4O3RleHQtYWxpZ246Y2VudGVyfS51aS1sb2FkZXIgLnVpLWljb257cG9zaXRpb246c3RhdGljO2Rpc3BsYXk6YmxvY2s7b3BhY2l0eTouOTttYXJnaW46MCBhdXRvO3dpZHRoOjM1cHg7aGVpZ2h0OjM1cHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udWktbW9iaWxlLXJlbmRlcmluZz4qe3Zpc2liaWxpdHk6aGlkZGVufS51aS1iYXIsLnVpLWJvZHl7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzouNGVtIDE1cHg7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aH0udWktYmFye2ZvbnQtc2l6ZToxNnB4O21hcmdpbjowfS51aS1iYXIgaDEsLnVpLWJhciBoMiwudWktYmFyIGgzLC51aS1iYXIgaDQsLnVpLWJhciBoNSwudWktYmFyIGg2e21hcmdpbjowO3BhZGRpbmc6MDtmb250LXNpemU6MTZweDtkaXNwbGF5OmlubGluZS1ibG9ja30udWktaGVhZGVyLC51aS1mb290ZXJ7ZGlzcGxheTpibG9ja30udWktcGFnZSAudWktaGVhZGVyLC51aS1wYWdlIC51aS1mb290ZXJ7cG9zaXRpb246cmVsYXRpdmV9LnVpLWhlYWRlciAudWktYnRuLWxlZnR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3RvcDouNGVtfS51aS1oZWFkZXIgLnVpLWJ0bi1yaWdodHtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDouNGVtfS51aS1oZWFkZXIgLnVpLXRpdGxlLC51aS1mb290ZXIgLnVpLXRpdGxle21pbi1oZWlnaHQ6MS4xZW07dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHg7ZGlzcGxheTpibG9jazttYXJnaW46LjZlbSA5MHB4IC44ZW07cGFkZGluZzowO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDtvdXRsaW5lOjAhaW1wb3J0YW50fS51aS1jb250ZW50e2JvcmRlci13aWR0aDowO292ZXJmbG93OnZpc2libGU7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZzoxNXB4fS51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWNvbnRlbnR7cGFkZGluZzowfS51aS1pY29ue3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHh9LnVpLWZ1bGxzY3JlZW4gaW1ne21heC13aWR0aDoxMDAlfS51aS1ub2pze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweH0uc3Bpbnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNwaW47LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MXM7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXJ9QC13ZWJraXQta2V5ZnJhbWVzIHNwaW57ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5pbiwub3V0ey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjozNTBtc30uc2xpZGUuaW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlaW5mcm9tcmlnaHR9LnNsaWRlLm91dHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG9sZWZ0fS5zbGlkZS5pbi5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZWluZnJvbWxlZnR9LnNsaWRlLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZW91dHRvcmlnaHR9LnNsaWRldXAuaW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlaW5mcm9tYm90dG9tO3otaW5kZXg6MTB9LnNsaWRldXAub3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmU7ei1pbmRleDowfS5zbGlkZXVwLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG9ib3R0b219LnNsaWRldXAuaW4ucmV2ZXJzZXt6LWluZGV4OjA7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpkb250bW92ZX0uc2xpZGVkb3duLmluey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZWluZnJvbXRvcDt6LWluZGV4OjEwfS5zbGlkZWRvd24ub3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmU7ei1pbmRleDowfS5zbGlkZWRvd24ub3V0LnJldmVyc2V7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG90b3B9LnNsaWRlZG93bi5pbi5yZXZlcnNle3otaW5kZXg6MDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmRvbnRtb3ZlfUAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbXJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb21sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9yaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlaW5mcm9tdG9we2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlaW5mcm9tYm90dG9te2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVvdXR0b2JvdHRvbXtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG90b3B7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZWlue2Zyb217b3BhY2l0eTowfXRve29wYWNpdHk6MX19QC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowfX0uZmFkZS5pbntvcGFjaXR5OjE7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVpbn0uZmFkZS5vdXR7ei1pbmRleDowOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZW91dH0udmlld3BvcnQtZmxpcHstd2Via2l0LXBlcnNwZWN0aXZlOjEwMDA7cG9zaXRpb246YWJzb2x1dGV9LnVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nLC51aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyAudWktcGFnZXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbn0uZmxpcHstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNjVzOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0uZmxpcC5pbnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDApIHNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcGluZnJvbWxlZnR9LmZsaXAub3V0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoLTE4MGRlZykgc2NhbGUoLjgpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcG91dHRvbGVmdH0uZmxpcC5pbi5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoMCkgc2NhbGUoMSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmbGlwaW5mcm9tcmlnaHR9LmZsaXAub3V0LnJldmVyc2V7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgxODBkZWcpIHNjYWxlKC44KTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZsaXBvdXR0b3JpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBmbGlwaW5mcm9tcmlnaHR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDApIHNjYWxlKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmxpcGluZnJvbWxlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDE4MGRlZykgc2NhbGUoLjgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoMCkgc2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyBmbGlwb3V0dG9sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgwKSBzY2FsZSgxKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KX19QC13ZWJraXQta2V5ZnJhbWVzIGZsaXBvdXR0b3JpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgwKSBzY2FsZSgxKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDE4MGRlZykgc2NhbGUoLjgpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZG9udG1vdmV7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eToxfX0ucG9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlfS5wb3AuaW57LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cG9waW47ei1pbmRleDoxMH0ucG9wLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4yKTtvcGFjaXR5OjA7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpwb3BvdXQ7ei1pbmRleDoxMH0ucG9wLmluLnJldmVyc2V7ei1pbmRleDowOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmV9QC13ZWJraXQta2V5ZnJhbWVzIHBvcGlue2Zyb217LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjIpO29wYWNpdHk6MH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBwb3BvdXR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjIpO29wYWNpdHk6MH19LnVpLWdyaWQtYSwudWktZ3JpZC1iLC51aS1ncmlkLWMsLnVpLWdyaWQtZHtvdmVyZmxvdzpoaWRkZW59LnVpLWJsb2NrLWEsLnVpLWJsb2NrLWIsLnVpLWJsb2NrLWMsLnVpLWJsb2NrLWQsLnVpLWJsb2NrLWV7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO2Zsb2F0OmxlZnQ7bWluLWhlaWdodDoxcHh9LnVpLWdyaWQtc29sbyAudWktYmxvY2stYXt3aWR0aDoxMDAlO2Zsb2F0Om5vbmV9LnVpLWdyaWQtYSAudWktYmxvY2stYSwudWktZ3JpZC1hIC51aS1ibG9jay1ie3dpZHRoOjUwJX0udWktZ3JpZC1hIC51aS1ibG9jay1he2NsZWFyOmxlZnR9LnVpLWdyaWQtYiAudWktYmxvY2stYSwudWktZ3JpZC1iIC51aS1ibG9jay1iLC51aS1ncmlkLWIgLnVpLWJsb2NrLWN7d2lkdGg6MzMuMzMzJX0udWktZ3JpZC1iIC51aS1ibG9jay1he2NsZWFyOmxlZnR9LnVpLWdyaWQtYyAudWktYmxvY2stYSwudWktZ3JpZC1jIC51aS1ibG9jay1iLC51aS1ncmlkLWMgLnVpLWJsb2NrLWMsLnVpLWdyaWQtYyAudWktYmxvY2stZHt3aWR0aDoyNSV9LnVpLWdyaWQtYyAudWktYmxvY2stYXtjbGVhcjpsZWZ0fS51aS1ncmlkLWQgLnVpLWJsb2NrLWEsLnVpLWdyaWQtZCAudWktYmxvY2stYiwudWktZ3JpZC1kIC51aS1ibG9jay1jLC51aS1ncmlkLWQgLnVpLWJsb2NrLWQsLnVpLWdyaWQtZCAudWktYmxvY2stZXt3aWR0aDoyMCV9LnVpLWdyaWQtZCAudWktYmxvY2stYXtjbGVhcjpsZWZ0fS51aS1oZWFkZXIsLnVpLWZvb3RlciwudWktcGFnZS1mdWxsc2NyZWVuIC51aS1oZWFkZXIsLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjt3aWR0aDoxMDAlO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjB9LnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVke3otaW5kZXg6MTAwMDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS51aS1mb290ZXItZHVwbGljYXRlLC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZpeGVkLWlubGluZXtkaXNwbGF5Om5vbmV9LnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktaGVhZGVyLC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZvb3RlcntvcGFjaXR5Oi45fS51aS1uYXZiYXJ7b3ZlcmZsb3c6aGlkZGVufS51aS1uYXZiYXIgdWwsLnVpLW5hdmJhci1leHBhbmRlZCB1bHtsaXN0LXN0eWxlOm5vbmU7cGFkZGluZzowO21hcmdpbjowO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym9yZGVyOjB9LnVpLW5hdmJhci1jb2xsYXBzZWQgdWx7ZmxvYXQ6bGVmdDt3aWR0aDo3NSU7bWFyZ2luLXJpZ2h0Oi0ycHh9LnVpLW5hdmJhci1jb2xsYXBzZWQgLnVpLW5hdmJhci10b2dnbGV7ZmxvYXQ6bGVmdDt3aWR0aDoyNSV9LnVpLW5hdmJhciBsaS51aS1uYXZiYXItdHJ1bmNhdGV7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4fS51aS1uYXZiYXIgbGkgLnVpLWJ0biwudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG57ZGlzcGxheTpibG9jaztmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46MDtib3JkZXItcmlnaHQtd2lkdGg6MH0udWktbmF2YmFyIGxpIC51aS1idG57bWFyZ2luLXJpZ2h0Oi0xcHh9LnVpLW5hdmJhciBsaSAudWktYnRuOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnVpLWhlYWRlciAudWktbmF2YmFyIGxpIC51aS1idG4sLnVpLWhlYWRlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4sLnVpLWZvb3RlciAudWktbmF2YmFyIGxpIC51aS1idG4sLnVpLWZvb3RlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG57Ym9yZGVyLXRvcC13aWR0aDowO2JvcmRlci1ib3R0b20td2lkdGg6MH0udWktbmF2YmFyIC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjJweDtwYWRkaW5nLXJpZ2h0OjJweH0udWktbmF2YmFyLW5vaWNvbnMgbGkgLnVpLWJ0biAudWktYnRuLWlubmVyLC51aS1uYXZiYXItbm9pY29ucyAudWktbmF2YmFyLXRvZ2dsZSAudWktYnRuLWlubmVye3BhZGRpbmctdG9wOi44ZW07cGFkZGluZy1ib3R0b206LjllbX0udWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG57bWFyZ2luOjA7Zm9udC1zaXplOjE0cHh9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo1cHg7cGFkZGluZy1yaWdodDo1cHh9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXJ7cGFkZGluZzo0NXB4IDVweCAxNXB4O3RleHQtYWxpZ246Y2VudGVyfS51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbnt0b3A6MTVweH0udWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lcntwYWRkaW5nOjE1cHggNXB4IDQ1cHg7dGV4dC1hbGlnbjpjZW50ZXJ9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29ue2JvdHRvbToxNXB4fS51aS1uYXZiYXItZXhwYW5kZWQgbGkgLnVpLWJ0biAudWktYnRuLWlubmVye21pbi1oZWlnaHQ6Mi41ZW19LnVpLW5hdmJhci1leHBhbmRlZCAudWktbmF2YmFyLW5vaWNvbnMgLnVpLWJ0biAudWktYnRuLWlubmVye3BhZGRpbmctdG9wOjEuOGVtO3BhZGRpbmctYm90dG9tOjEuOWVtfS51aS1idG57ZGlzcGxheTpibG9jazt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjVlbSA1cHg7cGFkZGluZzowfS51aS1idG46Zm9jdXMsLnVpLWJ0bjphY3RpdmV7b3V0bGluZTowfS51aS1oZWFkZXIgLnVpLWJ0biwudWktZm9vdGVyIC51aS1idG4sLnVpLWJhciAudWktYnRue2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtc2l6ZToxM3B4O21hcmdpbjowfS51aS1idG4taW5saW5le2Rpc3BsYXk6aW5saW5lLWJsb2NrfS51aS1idG4taW5uZXJ7cGFkZGluZzouNmVtIDI1cHg7ZGlzcGxheTpibG9jazt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7cG9zaXRpb246cmVsYXRpdmU7em9vbToxfS51aS1oZWFkZXIgLnVpLWJ0bi1pbm5lciwudWktZm9vdGVyIC51aS1idG4taW5uZXIsLnVpLWJhciAudWktYnRuLWlubmVye3BhZGRpbmc6LjRlbSA4cHggLjVlbX0udWktYnRuLWljb24tbm90ZXh0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7cGFkZGluZzoycHggMXB4IDJweCAzcHg7dGV4dC1pbmRlbnQ6LTk5OTlweH0udWktYnRuLWljb24tbm90ZXh0IC51aS1idG4taW5uZXJ7cGFkZGluZzowfS51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi10ZXh0e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OXB4fS51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjMzcHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjI3cHh9LnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXJ7cGFkZGluZy1yaWdodDozM3B4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIsLnVpLWZvb3RlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVye3BhZGRpbmctcmlnaHQ6MjdweH0udWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXJ7cGFkZGluZy10b3A6MzNweH0udWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lcntwYWRkaW5nLXRvcDoyN3B4fS51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lcntwYWRkaW5nLWJvdHRvbTozM3B4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLC51aS1iYXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVye3BhZGRpbmctYm90dG9tOjI3cHh9LnVpLWJ0bi1pY29uLW5vdGV4dCAudWktaWNvbntkaXNwbGF5OmJsb2NrfS51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO21hcmdpbi10b3A6LTlweH0udWktYnRuLWljb24tdG9wIC51aS1pY29uLC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb257cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTlweH0udWktYnRuLWljb24tbGVmdCAudWktaWNvbntsZWZ0OjEwcHh9LnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29ue3JpZ2h0OjEwcHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwudWktZm9vdGVyIC51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLC51aS1iYXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb257bGVmdDo0cHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLWZvb3RlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLWJhciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb257cmlnaHQ6NHB4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiwudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sLnVpLWJhciAudWktYnRuLWljb24tdG9wIC51aS1pY29ue3RvcDo0cHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiwudWktYmFyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb257Ym90dG9tOjRweH0udWktYnRuLWljb24tdG9wIC51aS1pY29ue3RvcDo1cHh9LnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbntib3R0b206NXB4fS51aS1idG4taGlkZGVue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOy13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247b3BhY2l0eTowO2N1cnNvcjpwb2ludGVyOy1tcy1maWx0ZXI6ImFscGhhKG9wYWNpdHk9MCkiO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LnVpLWNvbGxhcHNpYmxlLWNvbnRhaW57bWFyZ2luOi41ZW0gMH0udWktY29sbGFwc2libGUtaGVhZGluZ3tmb250LXNpemU6MTZweDtkaXNwbGF5OmJsb2NrO21hcmdpbjowIC04cHg7cGFkZGluZzowO2JvcmRlci13aWR0aDowIDAgMXB4IDA7cG9zaXRpb246cmVsYXRpdmV9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYXt0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luOjB9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo0MHB4fS51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG57cG9zaXRpb246YWJzb2x1dGU7bGVmdDo2cHg7dG9wOjUwJTttYXJnaW46LTEycHggMCAwIDA7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtwYWRkaW5nOjFweCAwIDFweCAycHg7dGV4dC1pbmRlbnQ6LTk5OTlweH0udWktY29sbGFwc2libGUtaGVhZGluZyBhIHNwYW4udWktYnRuIC51aS1idG4taW5uZXJ7cGFkZGluZzoxMHB4IDB9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSBzcGFuLnVpLWJ0biAudWktaWNvbntsZWZ0OjA7bWFyZ2luLXRvcDotMTBweH0udWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4fS51aS1jb2xsYXBzaWJsZS1jb250ZW50e2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4IDAgMTBweCA4cHh9LnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2Vke2Rpc3BsYXk6bm9uZX0udWktY29sbGFwc2libGUtc2V0e21hcmdpbjouNWVtIDB9LnVpLWNvbGxhcHNpYmxlLXNldCAudWktY29sbGFwc2libGUtY29udGFpbnttYXJnaW46LTFweCAwIDB9LnVpLWNvbnRyb2xncm91cCxmaWVsZHNldC51aS1jb250cm9sZ3JvdXB7cGFkZGluZzowO21hcmdpbjouNWVtIDAgMWVtfS51aS1iYXIgLnVpLWNvbnRyb2xncm91cHttYXJnaW46MCAuM2VtfS51aS1jb250cm9sZ3JvdXAtbGFiZWx7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MS40O2ZvbnQtd2VpZ2h0Om5vcm1hbDttYXJnaW46MCAwIC4zZW19LnVpLWNvbnRyb2xncm91cC1jb250cm9sc3tkaXNwbGF5OmJsb2NrO3dpZHRoOjk1JX0udWktY29udHJvbGdyb3VwIGxpe2xpc3Qtc3R5bGU6bm9uZX0udWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1idG4sLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktY2hlY2tib3gsLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktcmFkaW97bWFyZ2luOjA7Ym9yZGVyLWJvdHRvbS13aWR0aDowfS51aS1jb250cm9sZ3JvdXAtdmVydGljYWwgLnVpLWNvbnRyb2xncm91cC1sYXN0e2JvcmRlci1ib3R0b20td2lkdGg6MXB4fS51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbHtwYWRkaW5nOjB9LnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1idG4sLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jaGVja2JveCwudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlve2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowIC01cHggMCAwfS51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3gsLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpb3tkaXNwbGF5OmlubGluZX0udWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94IC51aS1idG4sLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpbyAudWktYnRuLC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3g6bGFzdC1jaGlsZCwudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlvOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jb250cm9sZ3JvdXAtbGFzdHttYXJnaW4tcmlnaHQ6MH0udWktY29udHJvbGdyb3VwIC51aS1jaGVja2JveCBsYWJlbCwudWktY29udHJvbGdyb3VwIC51aS1yYWRpbyBsYWJlbHtmb250LXNpemU6MTZweH1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ1MHB4KXsudWktY29udHJvbGdyb3VwLWxhYmVse3ZlcnRpY2FsLWFsaWduOnRvcDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMCU7bWFyZ2luOjAgMiUgMCAwfS51aS1jb250cm9sZ3JvdXAtY29udHJvbHN7d2lkdGg6NjAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrfX0udWktZGlhbG9ne21pbi1oZWlnaHQ6NDgwcHh9LnVpLWRpYWxvZyAudWktaGVhZGVyLC51aS1kaWFsb2cgLnVpLWNvbnRlbnQsLnVpLWRpYWxvZyAudWktZm9vdGVye21hcmdpbjoxNXB4O3Bvc2l0aW9uOnJlbGF0aXZlfS51aS1kaWFsb2cgLnVpLWhlYWRlciwudWktZGlhbG9nIC51aS1mb290ZXJ7ei1pbmRleDoxMDt3aWR0aDphdXRvfS51aS1kaWFsb2cgLnVpLWNvbnRlbnQsLnVpLWRpYWxvZyAudWktZm9vdGVye21hcmdpbi10b3A6LTE1cHh9LnVpLWNoZWNrYm94LC51aS1yYWRpb3twb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjJlbSAwIC41ZW07ei1pbmRleDoxfS51aS1jaGVja2JveCAudWktYnRuLC51aS1yYWRpbyAudWktYnRue21hcmdpbjowO3RleHQtYWxpZ246bGVmdDt6LWluZGV4OjJ9LnVpLWNoZWNrYm94IC51aS1idG4taW5uZXIsLnVpLXJhZGlvIC51aS1idG4taW5uZXJ7d2hpdGUtc3BhY2U6bm9ybWFsfS51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLC51aS1yYWRpbyAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo0NXB4fS51aS1jaGVja2JveCAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciwudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXJ7cGFkZGluZy1yaWdodDo0NXB4fS51aS1jaGVja2JveCAudWktaWNvbiwudWktcmFkaW8gLnVpLWljb257dG9wOjEuMWVtfS51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwudWktcmFkaW8gLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb257bGVmdDoxNXB4fS51aS1jaGVja2JveCAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLXJhZGlvIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntyaWdodDoxNXB4fS51aS1jaGVja2JveCBpbnB1dCwudWktcmFkaW8gaW5wdXR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyMHB4O3RvcDo1MCU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDttYXJnaW46LTVweCAwIDAgMDtvdXRsaW5lOjAhaW1wb3J0YW50O3otaW5kZXg6MX0udWktZmllbGQtY29udGFpbntwYWRkaW5nOjEuNWVtIDA7bWFyZ2luOjA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7b3ZlcmZsb3c6dmlzaWJsZX0udWktZmllbGQtY29udGFpbjpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXdpZHRoOjB9QG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDo0NTBweCl7LnVpLWZpZWxkLWNvbnRhaW57Ym9yZGVyLXdpZHRoOjA7cGFkZGluZzowO21hcmdpbjoxZW0gMH19LnVpLXNlbGVjdHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS51aS1zZWxlY3Qgc2VsZWN0e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweH0udWktc2VsZWN0IC51aS1idG57b3ZlcmZsb3c6aGlkZGVufS51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3R7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvcGFjaXR5OjA7LW1zLWZpbHRlcjoiYWxwaGEob3BhY2l0eT0wKSI7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MCl9QC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpey51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3R7b3BhY2l0eTouMDAwMX19LnVpLXNlbGVjdCAudWktYnRuIHNlbGVjdC51aS1zZWxlY3QtbmF0aXZlb25seXtvcGFjaXR5OjE7dGV4dC1pbmRlbnQ6MH0udWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVye3BhZGRpbmctcmlnaHQ6NDVweH0udWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntyaWdodDoxNXB4fWxhYmVsLnVpLXNlbGVjdHtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDoxLjQ7Zm9udC13ZWlnaHQ6bm9ybWFsO21hcmdpbjowIDAgLjNlbTtkaXNwbGF5OmJsb2NrfS51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0LC51aS1zZWxlY3RtZW51IC51aS1idG4tdGV4dHtkaXNwbGF5OmJsb2NrO21pbi1oZWlnaHQ6MWVtfS51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0e3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVufS51aS1zZWxlY3RtZW51e3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6MDt6LWluZGV4OjEwMCFpbXBvcnRhbnQ7d2lkdGg6ODAlO21heC13aWR0aDozNTBweDtwYWRkaW5nOjZweH0udWktc2VsZWN0bWVudSAudWktbGlzdHZpZXd7bWFyZ2luOjB9LnVpLXNlbGVjdG1lbnUgLnVpLWJ0bi51aS1saS1kaXZpZGVye2N1cnNvcjpkZWZhdWx0fS51aS1zZWxlY3RtZW51LWhpZGRlbnt0b3A6LTk5OTlweDtsZWZ0Oi05OTk5cHh9LnVpLXNlbGVjdG1lbnUtc2NyZWVue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6OTl9LnVpLXNjcmVlbi1oaWRkZW4sLnVpLXNlbGVjdG1lbnUtbGlzdCAudWktbGkgLnVpLWljb257ZGlzcGxheTpub25lfS51aS1zZWxlY3RtZW51LWxpc3QgLnVpLWxpIC51aS1pY29ue2Rpc3BsYXk6YmxvY2t9LnVpLWxpLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXJ7ZGlzcGxheTpub25lfS51aS1zZWxlY3RtZW51IC51aS1oZWFkZXIgLnVpLXRpdGxle21hcmdpbjouNmVtIDQ2cHggLjhlbX1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ1MHB4KXtsYWJlbC51aS1zZWxlY3R7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjAlO21hcmdpbjowIDIlIDAgMH0udWktc2VsZWN0e3dpZHRoOjYwJTtkaXNwbGF5OmlubGluZS1ibG9ja319LnVpLXNlbGVjdG1lbnUgLnVpLWhlYWRlciBoMTphZnRlcntjb250ZW50OicuJzt2aXNpYmlsaXR5OmhpZGRlbn1sYWJlbC51aS1pbnB1dC10ZXh0e2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjEuNDtkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0Om5vcm1hbDttYXJnaW46MCAwIC4zZW19aW5wdXQudWktaW5wdXQtdGV4dCx0ZXh0YXJlYS51aS1pbnB1dC10ZXh0e2JhY2tncm91bmQtaW1hZ2U6bm9uZTtwYWRkaW5nOi40ZW07bGluZS1oZWlnaHQ6MS40O2ZvbnQtc2l6ZToxNnB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6OTUlfWlucHV0LnVpLWlucHV0LXRleHR7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9dGV4dGFyZWEudWktaW5wdXQtdGV4dHtoZWlnaHQ6NTBweDstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IDIwMG1zIGxpbmVhcjstbW96LXRyYW5zaXRpb246aGVpZ2h0IDIwMG1zIGxpbmVhcjstby10cmFuc2l0aW9uOmhlaWdodCAyMDBtcyBsaW5lYXI7dHJhbnNpdGlvbjpoZWlnaHQgMjAwbXMgbGluZWFyfS51aS1pbnB1dC1zZWFyY2h7cGFkZGluZzowIDMwcHg7d2lkdGg6NzclO2JhY2tncm91bmQtcG9zaXRpb246OHB4IDUwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7cG9zaXRpb246cmVsYXRpdmV9LnVpLWlucHV0LXNlYXJjaCBpbnB1dC51aS1pbnB1dC10ZXh0e2JvcmRlcjowO3dpZHRoOjk4JTtwYWRkaW5nOi40ZW0gMDttYXJnaW46MDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQgbm9uZTtvdXRsaW5lOjAhaW1wb3J0YW50fS51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjUwJTttYXJnaW4tdG9wOi0xNHB4fS51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFyLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDo0NTBweCl7bGFiZWwudWktaW5wdXQtdGV4dHt2ZXJ0aWNhbC1hbGlnbjp0b3A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjAlO21hcmdpbjowIDIlIDAgMH1pbnB1dC51aS1pbnB1dC10ZXh0LHRleHRhcmVhLnVpLWlucHV0LXRleHQsLnVpLWlucHV0LXNlYXJjaHt3aWR0aDo2MCU7ZGlzcGxheTppbmxpbmUtYmxvY2t9LnVpLWlucHV0LXNlYXJjaHt3aWR0aDo1MCV9LnVpLWlucHV0LXNlYXJjaCBpbnB1dC51aS1pbnB1dC10ZXh0e3dpZHRoOjk4JX19LnVpLWxpc3R2aWV3e21hcmdpbjowO2NvdW50ZXItcmVzZXQ6bGlzdG51bWJlcmluZ30udWktY29udGVudCAudWktbGlzdHZpZXd7bWFyZ2luOi0xNXB4fS51aS1jb250ZW50IC51aS1saXN0dmlldy1pbnNldHttYXJnaW46MWVtIDB9LnVpLWxpc3R2aWV3LC51aS1saXtsaXN0LXN0eWxlOm5vbmU7cGFkZGluZzowfS51aS1saSwudWktbGkudWktZmllbGQtY29udGFpbntkaXNwbGF5OmJsb2NrO21hcmdpbjowO3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlci13aWR0aDowO2JvcmRlci10b3Atd2lkdGg6MXB4fS51aS1saSAudWktYnRuLXRleHQgYS51aS1saW5rLWluaGVyaXR7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm93cmFwfS51aS1saS1kaXZpZGVyLC51aS1saS1zdGF0aWN7cGFkZGluZzouNWVtIDE1cHg7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6Ym9sZH0udWktbGktZGl2aWRlcntjb3VudGVyLXJlc2V0Omxpc3RudW1iZXJpbmd9b2wudWktbGlzdHZpZXcgLnVpLWxpbmstaW5oZXJpdDpiZWZvcmUsb2wudWktbGlzdHZpZXcgLnVpLWxpLXN0YXRpYzpiZWZvcmUsLnVpLWxpLWRlY3tmb250LXNpemU6LjhlbTtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nLXJpZ2h0Oi4zZW07Zm9udC13ZWlnaHQ6bm9ybWFsO2NvdW50ZXItaW5jcmVtZW50Omxpc3RudW1iZXJpbmc7Y29udGVudDpjb3VudGVyKGxpc3RudW1iZXJpbmcpICIuICJ9b2wudWktbGlzdHZpZXcgLnVpLWxpLWpzbnVtYmVyaW5nOmJlZm9yZXtjb250ZW50OiIiIWltcG9ydGFudH0udWktbGlzdHZpZXctaW5zZXQgLnVpLWxpe2JvcmRlci1yaWdodC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQtd2lkdGg6MXB4fS51aS1saTpsYXN0LWNoaWxkLC51aS1saS51aS1maWVsZC1jb250YWluOmxhc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHh9LnVpLWxpPi51aS1idG4taW5uZXJ7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjB9LnVpLWxpIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saXtwYWRkaW5nOi43ZW0gNzVweCAuN2VtIDE1cHg7ZGlzcGxheTpibG9ja30udWktbGktaGFzLXRodW1iIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtdGh1bWJ7bWluLWhlaWdodDo2MHB4O3BhZGRpbmctbGVmdDoxMDBweH0udWktbGktaGFzLWljb24gLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwudWktbGktc3RhdGljLnVpLWxpLWhhcy1pY29ue21pbi1oZWlnaHQ6MjBweDtwYWRkaW5nLWxlZnQ6NDBweH0udWktbGktaGVhZGluZ3tmb250LXNpemU6MTZweDtmb250LXdlaWdodDpib2xkO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOi42ZW0gMDt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9LnVpLWxpLWRlc2N7Zm9udC1zaXplOjEycHg7Zm9udC13ZWlnaHQ6bm9ybWFsO2Rpc3BsYXk6YmxvY2s7bWFyZ2luOi0uNWVtIDAgLjZlbTt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9LnVpLWxpLXRodW1iLC51aS1saS1pY29ue3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6MXB4O3RvcDowO21heC1oZWlnaHQ6ODBweDttYXgtd2lkdGg6ODBweH0udWktbGktaWNvbnttYXgtaGVpZ2h0OjQwcHg7bWF4LXdpZHRoOjQwcHg7bGVmdDoxMHB4O3RvcDouOWVtfS51aS1saS10aHVtYiwudWktbGktaWNvbiwudWktbGktY29udGVudHtmbG9hdDpsZWZ0O21hcmdpbi1yaWdodDoxMHB4fS51aS1saS1hc2lkZXtmbG9hdDpyaWdodDt3aWR0aDo1MCU7dGV4dC1hbGlnbjpyaWdodDttYXJnaW46LjNlbSAwfUBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6NDgwcHgpey51aS1saS1hc2lkZXt3aWR0aDo0NSV9fS51aS1saS1kaXZpZGVye2N1cnNvcjpkZWZhdWx0fS51aS1saS1oYXMtYWx0IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtYWx0e3BhZGRpbmctcmlnaHQ6OTVweH0udWktbGktY291bnR7cG9zaXRpb246YWJzb2x1dGU7Zm9udC1zaXplOjExcHg7Zm9udC13ZWlnaHQ6Ym9sZDtwYWRkaW5nOi4yZW0gLjVlbTt0b3A6NTAlO21hcmdpbi10b3A6LS45ZW07cmlnaHQ6MzhweH0udWktbGktZGl2aWRlciAudWktbGktY291bnQsLnVpLWxpLXN0YXRpYyAudWktbGktY291bnR7cmlnaHQ6MTBweH0udWktbGktaGFzLWFsdCAudWktbGktY291bnR7cmlnaHQ6NTVweH0udWktbGktbGluay1hbHR7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6NDBweDtoZWlnaHQ6MTAwJTtib3JkZXItd2lkdGg6MDtib3JkZXItbGVmdC13aWR0aDoxcHg7dG9wOjA7cmlnaHQ6MDttYXJnaW46MDtwYWRkaW5nOjB9LnVpLWxpLWxpbmstYWx0IC51aS1idG57b3ZlcmZsb3c6aGlkZGVuO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjhweDt0b3A6NTAlO21hcmdpbjotMTFweCAwIDAgMDtib3JkZXItYm90dG9tLXdpZHRoOjFweH0udWktbGktbGluay1hbHQgLnVpLWJ0bi1pbm5lcntwYWRkaW5nOjA7cG9zaXRpb246c3RhdGljfS51aS1saS1saW5rLWFsdCAudWktYnRuIC51aS1pY29ue3JpZ2h0OjUwJTttYXJnaW4tcmlnaHQ6LTlweH0udWktbGlzdHZpZXctZmlsdGVye2JvcmRlci13aWR0aDowO292ZXJmbG93OmhpZGRlbjttYXJnaW46LTE1cHggLTE1cHggMTVweCAtMTVweH0udWktbGlzdHZpZXctZmlsdGVyIC51aS1pbnB1dC1zZWFyY2h7bWFyZ2luOjVweDt3aWR0aDphdXRvO2Rpc3BsYXk6YmxvY2t9LnVpLWxpc3R2aWV3LWZpbHRlci1pbnNldHttYXJnaW46LTE1cHggLTVweCAtMTVweCAtNXB4O2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LnVpLWxpLnVpLXNjcmVlbi1oaWRkZW57ZGlzcGxheTpub25lfUBtZWRpYSBvbmx5IHNjcmVlbiBhbmQgKG1pbi1kZXZpY2Utd2lkdGg6NzY4cHgpIGFuZCAobWF4LWRldmljZS13aWR0aDoxMDI0cHgpey51aS1saSAudWktYnRuLXRleHR7b3ZlcmZsb3c6dmlzaWJsZX19bGFiZWwudWktc2xpZGVye2Rpc3BsYXk6YmxvY2t9aW5wdXQudWktc2xpZGVyLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjUwcHh9c2VsZWN0LnVpLXNsaWRlci1zd2l0Y2h7ZGlzcGxheTpub25lfWRpdi51aS1zbGlkZXJ7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3ZlcmZsb3c6dmlzaWJsZTtoZWlnaHQ6MTVweDtwYWRkaW5nOjA7bWFyZ2luOjAgMiUgMCAyMHB4O3RvcDo0cHg7d2lkdGg6NjYlfWEudWktc2xpZGVyLWhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjEwO3RvcDo1MCU7d2lkdGg6MjhweDtoZWlnaHQ6MjhweDttYXJnaW4tdG9wOi0xNXB4O21hcmdpbi1sZWZ0Oi0xNXB4fWEudWktc2xpZGVyLWhhbmRsZSAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDowO3BhZGRpbmctcmlnaHQ6MH1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ4MHB4KXtsYWJlbC51aS1zbGlkZXJ7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjAlO21hcmdpbjowIDIlIDAgMH1kaXYudWktc2xpZGVye3dpZHRoOjQ1JX19ZGl2LnVpLXNsaWRlci1zd2l0Y2h7aGVpZ2h0OjMycHg7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbi1sZWZ0OjB9ZGl2LnVpLXNsaWRlci1pbm5lcm9mZnNldHttYXJnaW4tbGVmdDo1MCU7cG9zaXRpb246YWJzb2x1dGU7dG9wOjFweDtoZWlnaHQ6MTAwJTt3aWR0aDo1MCV9ZGl2LnVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmd7LXdlYmtpdC10cmFuc2l0aW9uOmxlZnQgMTAwbXMgbGluZWFyfWRpdi51aS1zbGlkZXItbGFiZWxiZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDttYXJnaW46MDtib3JkZXItd2lkdGg6MH1kaXYudWktc2xpZGVyLXN3aXRjaCBkaXYudWktc2xpZGVyLWxhYmVsYmctYXt3aWR0aDo2MCU7aGVpZ2h0OjEwMCU7bGVmdDowfWRpdi51aS1zbGlkZXItc3dpdGNoIGRpdi51aS1zbGlkZXItbGFiZWxiZy1ie3dpZHRoOjYwJTtoZWlnaHQ6MTAwJTtyaWdodDowfS51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWEsLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYnt6LWluZGV4Oi0xfS51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWIsLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYXt6LWluZGV4OjB9ZGl2LnVpLXNsaWRlci1zd2l0Y2ggYS51aS1zbGlkZXItaGFuZGxle3otaW5kZXg6MjA7d2lkdGg6MTAxJTtoZWlnaHQ6MzJweDttYXJnaW4tdG9wOi0xOHB4O21hcmdpbi1sZWZ0Oi0xMDElfXNwYW4udWktc2xpZGVyLWxhYmVse3dpZHRoOjEwMCU7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjMycHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MjtiYWNrZ3JvdW5kOjA7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fXNwYW4udWktc2xpZGVyLWxhYmVsLWF7bGVmdDotMTAwJTttYXJnaW4tcmlnaHQ6LTFweH1zcGFuLnVpLXNsaWRlci1sYWJlbC1ie3JpZ2h0Oi0xMDAlO21hcmdpbi1sZWZ0Oi0xcHh9", "content_type": "text/css"}, "js-libraries/jquery-mobile/images/icons-18-white.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAAwgAAAASCAMAAADIfglFAAAAA3NCSVQICAjb4U/gAAABLFBMVEX////////X19e8vLytra17e3tTU1NJSUlCQkI6OjozMzMpKSkhISEZGRkQEBAICAgAAAD////u7u7MzMy2tratra2np6eVlZWLi4tpaWlbW1tTU1NJSUlCQkI6OjozMzMpKSkhISEZGRkQEBAICAgAAAD///8zMzMpKSkhISEZGRkQEBAICAj///9CQkIhISEZGRkQEBAICAj///86OjoQEBAICAj///8zMzMQEBAICAj///8zMzMpKSkQEBAICAj///+EhIQICAj///+EhIRzc3P////29vaZmZmVlZWLi4uEhIR7e3tJSUn////u7u7X19etra2np6dJSUn////X19eZmZlmZmb////IyMi8vLy2traEhIT////29vbo6OjX19f////29vbu7u6PGtkXAAAAZHRSTlMAERERERERERERERERERERESIiIiIiIiIiIiIiIiIiIiIiIiIiIjMzMzMzMzNERERERERVVVVVZmZmZnd3d3d3iIiImZmZqqqqqqqqqqq7u7u7u7vMzMzM3d3d3d3u7u7u////NZx34QAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAAVdEVYdENyZWF0aW9uIFRpbWUAMy8yNS8xMQuFmlIAAAZKSURBVGiB7Vprd9tEENW2aWn6StWWQF+WbBf5FRHHwhFUDV1QqkIbxEuAeIiy4f//B2ZXcmLL2pklcVsOx/f0OB/2ntmVdu7M3VUta401/hO4tQADSjPnlGky4VkXu8Yabwgf1dBAuVWjaNMYifGvOGssgfm+bcB68wv5v2LrcQ1by5w65bE+1A6gOcjSdIucqMjTcz1ICV/92nhC2KFJKGbEWhk8bNBmvhAc5wBYFtMThSkRhiQYw0C6VmQwGTMJdE6cZubOZKLJYTMhbJUyKKWgUcKC7BY4XIjzC4FleQB/4gLPhyzndOlkRqyVwRO5rx8ssgCEEAtcm8zPRUJN5HNRoLkXiiIkktPnoc25FXL9khVSupZwkZMcuxABxfFSihJmRR7rFXWzW2Fn/wfx08fd7s1lTreOxkjd7mhnsg+Y7Iw0FEsfZiVCSIXIQ4sXAlVCBOOcCmUnAktNBZbmZqXKQHa5EPrZCjEDkqEshvGCyKuwkBwsr2I1T46mFRcpdCh43RydzKeTnBWCCKLikBwP4qCqY+VzZdqtmAlhNPkGeN+NziyEdnc0muwfHB0d7E9Go267mbOAec5KhBDLbU7gJ+cEjVRCBpGIGsNAdymmBJZkatjPScfC0b0OZzpA4rBM5JGsBNg0EZQImRHIqqH1FDxBtQLmiXtpanG84nvwDqmmGgsWFWQ1iSIijKdKBbYaEFMSYG/5Rgcw7HT2nv0lxPGnw86NZU6njqZAnc5ob//lMQR5ub830nEa44R5nssUht9Mt04Wz6B9FEkqayeRwpKGuyeZ4wXV11NVOpEtktPAJns5qrvAVtuEBOIc+gWXxZxzbdJwUAmIAbVGtlxPjK5ZJVVIFHPb9+DwbnnI+T3IZ+LFVuRBX/FpO2cTrdmrWibXUxKRqd9CR7je7gz3vvhk78nPEOhor9O+vsxp19EQZ7MNQjg4lss5PgAhtDebODVUHH7S+fVdwT55sWjJU0qgLA3dE1LKHMCCMmUyRIYkA4xnHhh3TJkBWHbcGFlVOqm+oKWlAtI7xltPKCL4SajyKg/LMebCTKxRVG0XeiCB9yyvAag8F3LdyPiJddQ/flki4BXqCNfbw+n34vWBNEa/ToftswrhcnswnL4ql/NqOhy0Lzdxaqg4vDjpCNriYCaEsiVQnoYu+AlpnlgiLQQvMNsJrQ5IGa5MuZQENT1KCFlVLxAhqD8cM5icPnSeUpE1G50RIloHocGWWqpforbZC6o4ka/di7IPln2hEdfc4XNZxaUxOhi6rnttmePW0RDnvgtCOCzXcwiCcu83cWqoONBmfciFFP5oXxsLTqCjWFVDoK2RTD60xjBOKUHpoDx8ItsYFNQRV9oZuWKsSvuyqaTS2wf6nU5U5rICSyoDFzJDLs59ZUYaI9kIRZDgnsaihVBNpa/2MkYh8iRDCg4I4cnvZZijsXt2IVxy3cGpNRq47qVGziLmOBx/Z2aQOsjVYRlVQkocrKpQqBJYXt6uRmB+EJpUQo5fRiol4MqNZ90Q6T6+lL+f4TkFw0b3XHaCtiijw7KPe12ranFKCPh52UQIsR+hQphZtT91m3HV6U+//ENSfpv2HcDVZY5TR0OcDcftj6dfycPy19PxwHU2mjg1zHFWIoTyqoeq5vL6lLzgVgdqLIPtqqV4eJoHeUGdWOyC2mfprtQ/LGFCwiVLwLkdzZYKPio5Q2sUQnKCN0QY6enZEN0Pn3osS/YUn3g0L86S4IVWCVcdpz9+9svf4vXTgXMOIVj3HWcwnj49PHwKOug7Dc5IceYxz1mJEFiqWgHHb0+tNDf5aBwbsUgY/M8IG7/GUV+MfXVvhIrOj9OYEh2LTC6pvQR/dD8K7SiywgibzleDWCBpiUsQPTOhvnVHsBK5IhovxLfNA5utVqs3/vzH1893nZZEw21Pq46mQBchTn93DNjt91qtixrOPOY5dhCs4MN+9S2eyGBG3iopmLHeEgw+Kq1hgkhTmKQQWr3d6WfjXutcQrC2Wy2n1wf0INJ282zb81E0nDXWeAe48kii1ev1HpW4ssx5VEdjJLZ9StjW9HoTzhprvANsPHi4gAcNnPcWKQ8/1MS6c68cv3dHP58JZ4013j4ufLCAC02c9xcod7Wx2O27MHwbLfU1zj9i0AKQCKOcsQAAAABJRU5ErkJggg==", "content_type": "image/png"}, "index.html": {"data": "PCFET0NUWVBFIGh0bWw+IAo8aHRtbD4gCgk8aGVhZD4gCiAgICA8dGl0bGU+VGFuZ2VyaW5lPC90aXRsZT4gCiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCB1c2VyLXNjYWxhYmxlPW5vIj4gCiAgICA8bGluayByZWw9ImFwcGxlLXRvdWNoLWljb24tcHJlY29tcG9zZWQiIGhyZWY9Ii9lZ3JhL19kZXNpZ24vYXBwL2ltYWdlcy9UYW5nZXJpbmVJY29uLnBuZyIvPiAKICAgIDxsaW5rIHJlbD0ic3R5bGVzaGVldCIgaHJlZj0ianMtbGlicmFyaWVzL2pxdWVyeS1tb2JpbGUvanF1ZXJ5Lm1vYmlsZS0xLjBiMy5taW4uY3NzIiB0eXBlPSJ0ZXh0L2NzcyIvPgoKICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9ImpzLWxpYnJhcmllcy9qcXVlcnktMS42LjIubWluLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9ImpzLWxpYnJhcmllcy9qcXVlcnkuY291Y2guanMiPjwvc2NyaXB0PgogICAgPCEtLSBUT0RPIHN3aXRjaCBhbGwgbXVzdGFjaGUgdG8gaGFuZGxlYmFycyAtLT4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9ImNzcy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJqcy1saWJyYXJpZXMvbXVzdGFjaGUuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianMtbGlicmFyaWVzL3VuZGVyc2NvcmUuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianMtbGlicmFyaWVzL2hhbmRsZWJhcnMuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianMtbGlicmFyaWVzL2luZmxlY3Rpb24uanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ibW9kZWxzL3RlbXBsYXRlLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Im1vZGVscy9hc3Nlc3NtZW50LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Im1vZGVscy9qcXVlcnlNb2JpbGVQYWdlLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Im1vZGVscy9zY29yZXIuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ibW9kZWxzL3RpbWVyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9ImVncmEuanMiPjwvc2NyaXB0PgogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0ianMtbGlicmFyaWVzL2pxdWVyeS1tb2JpbGUvanF1ZXJ5Lm1vYmlsZS0xLjBiMy5taW4uanMiPjwvc2NyaXB0PgogICAgPCEtLSBDYW4gcmVwbGFjZSBhYm92ZSBqcyByZWZzIHdpdGg6IC0tPgogICAgPCEtLQogICAgPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iY29tYmluZWQtamF2YXNjcmlwdC9lZ3JhLm1pbi5qcyI+PC9zY3JpcHQ+CiAgICAtLT4KICAgIDwhLS0gKiogLS0+CiAgPC9oZWFkPiAKICA8Ym9keT4KICA8L2JvZHk+CjwvaHRtbD4KCgo=", "content_type": "text/html"}, "js-libraries/jquery-mobile/images/icons-36-white.png": {"data": "iVBORw0KGgoAAAANSUhEUgAABgwAAAAkCAMAAABi4eHNAAABgFBMVEUAAAAAAAAICAgQEBAZGRkhISEpKSkzMzM6OjpCQkJSUlJra2t5eXmZmZmsrKy1tbXExMTW1tb///8AAAAICAgQEBAZGRkhISEpKSkzMzM6OjpCQkJLS0tSUlJbW1tmZmZra2t5eXmEhISMjIyVlZWmpqasrKy+vr7MzMze3t7v7+////8ICAgQEBAZGRkhISEpKSkzMzM6OjqZmZnExMT///8ICAgQEBAZGRkhISGZmZmsrKz///8ICAgQEBAZGRn///8AAAAICAgQEBApKSlbW1v///8ICAgQEBApKSlLS0t0dHT///8AAAAICAghISEpKSk6OjpCQkJbW1tmZmZ5eXn///8AAAAzMzNSUlJra2t0dHSEhISMjIyZmZn///8ZGRlLS0tra2uEhISVlZWZmZmmpqb///+MjIyZmZmmpqasrKy1tbW+vr7///+MjIympqa1tbW+vr7ExMT////MzMzW1tbe3t7////W1tbe3t7m5ubv7+/////39/f////EapqXAAAAfnRSTlMAERERERERERERERERERERERERIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIjMzMzMzMzMzMzNEREREREREVVVVVWZmZmZmZnd3d3d3d4iIiIiIiIiIiIiZmZmZmZmZmZmqqqqqqqqqqru7u7u7u7vMzMzMzMzd3d3d7u7u7u6bhVvfAAANZUlEQVR42u2d/ZvUSBHHh13gAF/ujLDL7gIHeIcH2dkXvNlZvMzsOKsZ0IiKGsWXCyo6nofRgwABLuRft1/SmWRek6rambj094eF4WHqqe5016erujtbq2lpaWlpaWlpaWlpSZ347jSdmLOZrEVp8sQJbAOJ7GhpaWm9sywoHMaJzEywd4KoeZoHWlpaWuN1fpbmaibR0sjXl0CNo7KjpaWldcy1NDZybzKVCp9LM2GwhHRqiahxmgZa75IMU/eBFjxebiZaFAwynoBziynZyrSvNCwmQw8LLYhiLpfElBc1aFgQoA15sa0f7bsKg83Nvb1Wa28vocHcYTCEpEGOQsOCaXasKGSyqveYUBPaDOiaZPhh5/jOBhfcz0YnAwMD3UVeHJPQwAjQhpgrlaNBh2YMNkKfYuFnWI3jMfyXLwzr/OZeq/uPJz/iODjPPi/DzAxruahHiRM5nZc2SrVsii9TYMBGflQJGJhhMPhgYyKwGdC1yfCZrWNLAzeOPVh0YEHXTmEgP6AjMAUNOAxwhrgnlYNBGNKYYc8bb8VmQaNPUk2wfXxHG5breQ6sNjgaxeubre6v3sZvHnZZbjB/GCwnTmzyBIWL/61eLweUGR4tVx8GZj+K02WLHcZwGhghn840uQFnAQUNjEYVK9mWaBxkPoqYaycwSD5g5rNl9SkGIjcU4AwJFjgWcu3Lh40vYenKbkY1zabBk4t2RHRyRFUctAmw2wmFO1EfMsGWR1mw1/35K27wy9beZn3uMJBO1CUKeLWK46Ce0IAmMZhspzIwMMQz9eUHJ8JEYDGdaVpl+tJWjFwHGf04qB4NJDVjQD+L8M+Wh+JnKD+AZ7UlzURAXzJxIcAbClMLkYd4YsQwYF4RpAYyigckSwg1VbEsYOBFTiwlyHwfhcFeq/cfae9lqz53GEgU1OuCBK1WtyV4UE9oUDw1gDlTGRgkUVfkBrYMUtDcwE1GB0GtX7EgxMFA5BchJQ1MCmOyo/qAbzrxqCJg33g5Kx1cJ2MNhbkW2aiBQweDDk3lKulpBzv2iI4N2Ek3IwpXGRaAwtjJlUQXLoif9War+/u30twTBoOVlZOlzEzUyWL+CB/q9SZDQffe43+/fPL5jxkOmhwG3Erhds3wpuow8KKUBk4yI8GV33SEINuV5gVhg8JOALfCImauNxyCbD9Z4UUGIq5kpyKsdUmOgYeBEVIYGmoXOOLRwkCMn5Dgebt8BRBhy/22WrWRsABDA7EoiQKvLyvDpVdIKorXhdgfe937r6RTb7p79a05w+CkdEWw4LFk0td/TmhQAikz/TlZ9TJRX9HATv4Cj53pegHXsHSpGSGX4fj8wss3xiWpr4eY6o5HwwIJbt+2On1kYiCg4nWwhsS3I7ZnIJckUDO24zisZ9lPx6qZ/A/4GErKaHHfQg9DboFgD9m08RHDzgwe4CEGduYknVUOKOeRUXOLxd8mD7gsMVBFovhhq1lfmTMMVhNnGAu+TDvn7y3mCefSyspqwWatzvBm2I7JtsjYbpuIvJFtCTUAz8RojAg47FVuEBFEYBWqMDu/KQuQ9R1zUL6AZhhe/tsOZu1rGLkikY8KvnHo+agVvaWwhj0FZKuvG8gNZDslpAvOm8iKga7nRznk+h74MLAdKxjEFVj82bmlRADrZh69VJxwIcnTqdVVFji3mk1eoWdAaPX+knj0326bBeDV1VNFzUxXITM17s0WA1Or+4dM5/yGeVbf2uJmisJgloYzgigKIy4xxhI50JhAskj0suMet99KkBukMRx54DFXyoa1ylRfb2RZAKwbBMnE68CR2/CZ0gS/IR5byP4JUFTxk9CEPhEaJt2DP1o6oAHiwgFfaDEn+BLLFGecQBc7G9GY2QXErtg9TmCA3UO2XAcJSXuoVTAa9DM1JiMCjGYBg61mu/vrt4973Va3d/+19Od1r9XkLJgrDLiZLQaDdqv7JtM3L7ptBYNTtaNwpzNmmIGWdxGNGfE4MzQIkEfODXRuQLRfMLStCcoyzCjri9ofhy3qvYRI8mQJbDPRSp9SfmKXd8hIv4W8dNZIwwL+9pqtLBjA7fUa2Z7BKA3AbUuPleL3kD10umyPxAzQhPezTQkBk12G32b3F6xA/9X9Xu/+F6pI1G2WCL9EMDijYNB9kOubeykMztaK2pmus5WHASN9RFOZyQbzGDF3CFjQpxj0VjhIdNKDPKAtPFsFlD6iSGQN7a/CYWAN1t4eejlvURgSxvxGOoZC+Oij2EAepgG4bWachQGq+tXAngEawwJYy2hg0GzfEwvx549+lykSyeg7VxicY/9xm9Ws2rkqURz/tt1sloHBuWMBA1ftFwToUu2g4o+DAXKfNmUBjnONNLPoo/ICSzWqg9mXGYKBgYNBpoNFUQX8uOhfkeCC1xJkp4nyNIBzTo4bVkPz0aEcfc/AUFXGzBrJ9/uwRvUz6XPp8Xz64kUGg+7zpDb06JUqErWbW6sXuU4XNDNDhcxcYf9xe2t/BAZ/bDf3t7a5mXO1onam69wQDEIpWfBN/r5gGNiD04HYk2sGuspDcSJpUCNyBhEU5FFj6OAk8HUA6UHOCHNyctAUo4arW1n50QJ3yTmSbVF/8TDI0wDMAmt4jiI6i+TSWSfnjQ83ovjoQRZ+p3n0bX6u3HikikSHTRl8FwWDh7ne+WkKg28QwWDITkMeIBJ3fUNHfoBscvWjEUFrPE6IHx4j1ZmFnk/1skvoNBkD7SIP1Qugr4bJHeuH7iOaLlOkmiLrVn32T+U3W83cIrUD37C1CC5TjV3pAMchzQZyfhBhJoW6uuM6Ee7ZU8HAooCBOB0tlrCGCzomzaP49n77aR6UvEi0fXH+MPgm92ab72f3vs6484ZtIO9vC4e+VStqZ7rG2xH3DKrx1lInf7QUc5zIoNj9TWkA754wzt75tFCAskICFuRpgKmrqDteQYS61hpmc3v+1KBPPTqCY6DOkRAGkmRgYaA2muzBkhzesOrAIGkMO8kWwQZ0AoPuP7POsCLR/vbFBcDg2+w/7rDUoH3Yyzr0p8M2Swx2uJn3a0XtTNf7FYdBeu84qa5HiICHD+P53ABztDtT+kiu0wEblqEB5pWRAxpgXihgjBwptsE9pDaIPEyIceGn1afGKyCcbJko8RTKkpkUeG0Tot/4oY6OieKQOqcMRycdDAJ2Gc+LsY8dsaXy3tra2g6nwcO3qZG3Dw4ZC9YSvVfUzHQVMlNb595sszrRYe956s+zbpvBaXuHWdko2Kz1Gd5MsFMZGKi8gJWh1V4reG77NJu/BAmGCP+DoCsqReC9u7RShCyhBehCwRgWQGkgrgXYLFJ2fFxVTwxkmw4HDQ8DTMLXUWT7GHqfc3Ccf7CNBR6HdDBwVft8dNyA0UBEcU6Dw4evlY0vDtsi8i4ABlfX1lRq0HuWuPO0xxKDfZYYMCvXCjbr6gxvrlUcBsEg7Kr7BtD3hLkkeUE+RYca6OTzcZu/8Bken0J0XsBlRugiEd2L6vJ7ITYyulD92jUVggPMwKGBgfhy6MjE2cI0ZlgmqqcrAoOaxUpE7Ops5NoAGsgoLmjwy+Qk0QtWJNpZWwwMPubOMG+YO4e9vz578eLFVw/uShYIlz4o2KyPZ3jzQcVh0MjmroIGEbSq6RGUxIcrRfCxStm3InLiXxFmRuio6clX+Miw4GFqaZlzUpGN7hxaGHjgrqaDga1mAj9rB2zd2HPk4DqRBX7Z7VHAgL8pyXX4/jyABkkU39m5c3DYe5oWiXYXBAPjUoYGd3tMdw8zLLhS9IkJO5M1yU519gwawWDTmOcGEXhayxpGSHLsXNIgqsrvBWWRk+JXTDEaYHdb5UXfZDGOuvVrqDSjj7xpaHq0MAgRbKKDgRupVz8YTgQs7ZjWGMF7OyB4I3Aj3cSO8GQZcLNkMndmXWhtlwVguWv7L8GC9VRnSpiZojPF/LkhfOE0OGA44Gof7O/f2dkRLn2/cLtuTHVmkp0K/drLRpi5M+KGiGMc/LVCZL/2sl+NF3spd0ySqriJ7x5x0VdVZpC3fjv8HZ8EDTNsh+pROU5Ffs1v9oEb1fDJcHwP7UlD/TI5Tioix2wgDFgIFqWiv719eXhwZ6d0FCeDgXE1ocEdhoODdvuAo2A7YcH14jOE25moyXasDpNRjWGfiw8oS/2ALH4bXtCpaY1/XGmZ3tT9obV42SUz1EwU32WlooOf/YQtw9cWB4ParUvcFYGDOwwI7AdHwS43ceVWiYYJO+NVyo6WVuFqCJet+0Hr/1NnN1IxGuyw2MtC7/pGRmdLmpmgswUdMj6RNGDOKO0KFmxcullmyc7sTPCknB0tLS2tdwwGGxu3d7luA6I4HQxkFF9fl75Ih9Y5nS59Ui6GT6JBWTtaWlpa7xoM4FGcEAYsil8Ricr6baF1madcuVU2hid2hlTejpaWltbx13cuz4ri8zSTRPFbH40s5z8CnBuhsqOlpaV1/PWDS9N1w5inmSSKmzevXc58+fL3boJiOJUdLS0trWMv49PPfjhZn31qzNXMIIzfunH9QxHBP7x+wwSHcCo7WlpaWloLYZRhDmQYR2Tnf1OHThFrbQG2AAAAAElFTkSuQmCC", "content_type": "image/png"}, "js-libraries/jquery-mobile/images/ajax-loader.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAACMAAAAjBAMAAADs965qAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX////x8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHx8fHvvEhiAAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNXG14zYAAAEaSURBVCiRY2AgATCapaUqoIiIzN5z5syZJiQRltW7gUJ3705C6OraDRG6GwATkli1evdusNBTuKJVq3c4MjBX3733DqqMfdWqFWDbau+9ewIRspy5KgHMYL737g1EX+fMaVAjbN+9KwDLzZxZAHPMu3cXwEbNnAl397p3YDslOmD6GBjs/v8AURodzXAh3v+/QZRHRyNciPP/f4hQA1yIHVMICtzLC9CFzMuL0IXEy0vQhdjK0+BsRqgv0tIMYEKCggJgmbS0QJgiQUEIwy0tVQCmCCokmhYaCFMElWMKDQ01BIkoKcKEGFRDQ1yMlISUgEIwe5iAQi7GxkpKSjBFwMh2cXEGCSkiOVcFLIQswsAgZGxshCpCBgAA0FNYp5zwDegAAAAASUVORK5CYII=", "content_type": "image/png"}, "tests/testData/Assessment.TEST EGRA Prototype.Login": {"data": "eyJwYWdlSWQiOiJMb2dpbiIsInBhZ2VUeXBlIjoiSlF1ZXJ5TG9naW4ifQo=", "content_type": ""}, "google-spreadsheet-javascript/google-spreadsheet.coffee": {"data": "CiMjIwpVcGRhdGVkIHZlcnNpb25zIGNhbiBiZSBmb3VuZCBhdCBodHRwczovL2dpdGh1Yi5jb20vbWlrZXltY2theS9nb29nbGUtc3ByZWFkc2hlZXQtamF2YXNjcmlwdAojIyMKCgoKY2xhc3MgR29vZ2xlVXJsCiAgY29uc3RydWN0b3I6IChAc291cmNlSWRlbnRpZmllcikgLT4KICAgIGlmIChAc291cmNlSWRlbnRpZmllci5tYXRjaCgvaHR0cChzKSo6LykpCiAgICAgIEB1cmwgPSBAc291cmNlSWRlbnRpZmllcgogICAgICB0cnkKICAgICAgICBAa2V5ID0gQHVybC5tYXRjaCgva2V5PSguKj8pJi8pWzFdCiAgICAgIGNhdGNoIGVycm9yCiAgICAgICAgQGtleSA9IEB1cmwubWF0Y2goLyhjZWxsc3xsaXN0KVwvKC4qPylcLy8pWzJdCiAgICBlbHNlCiAgICAgIEBrZXkgPSBAc291cmNlSWRlbnRpZmllcgogICAgQGpzb25DZWxsc1VybCA9ICJodHRwOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvY2VsbHMvIiArIEBrZXkgKyAiL29kNi9wdWJsaWMvYmFzaWM/YWx0PWpzb24taW4tc2NyaXB0IgogICAgQGpzb25MaXN0VXJsID0gImh0dHA6Ly9zcHJlYWRzaGVldHMuZ29vZ2xlLmNvbS9mZWVkcy9saXN0LyIgKyBAa2V5ICsgIi9vZDYvcHVibGljL2Jhc2ljP2FsdD1qc29uLWluLXNjcmlwdCIKICAgIEBqc29uVXJsID0gQGpzb25DZWxsc1VybAoKY2xhc3MgR29vZ2xlU3ByZWFkc2hlZXQKICBsb2FkOiAoY2FsbGJhY2spIC0+CiAgICB1cmwgPSBAZ29vZ2xlVXJsLmpzb25DZWxsc1VybCArICImY2FsbGJhY2s9R29vZ2xlU3ByZWFkc2hlZXQuY2FsbGJhY2tDZWxscyIKICAgICQoJ2JvZHknKS5hcHBlbmQoIjxzY3JpcHQgc3JjPSciICt1cmwrICInLz4iKQogICAganNvblVybCA9IEBqc29uVXJsCiAgICBzYWZldHlDb3VudGVyID0gMAogICAgd2FpdFVudGlsTG9hZGVkID0gLT4KICAgICAgcmVzdWx0ID0gR29vZ2xlU3ByZWFkc2hlZXQuZmluZCh7anNvblVybDpqc29uVXJsfSkKICAgICAgaWYgc2FmZXR5Q291bnRlcisrID4gMzAgb3IgKHJlc3VsdD8gYW5kIHJlc3VsdC5kYXRhPykKICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpCiAgICAgICAgY2FsbGJhY2socmVzdWx0KQogICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCB3YWl0VW50aWxMb2FkZWQsIDIwMCkKICAgIHJlc3VsdCBpZiByZXN1bHQ/CgogIHVybDogKHVybCkgLT4KICAgIHRoaXMuZ29vZ2xlVXJsKG5ldyBHb29nbGVVcmwodXJsKSkKCiAgZ29vZ2xlVXJsOiAoZ29vZ2xlVXJsKSAtPgogICAgdGhyb3cgIkludmFsaWQgdXJsLCBleHBlY3Rpbmcgb2JqZWN0IG5vdCBzdHJpbmciIGlmIHR5cGVvZihnb29nbGVVcmwpID09ICJzdHJpbmciCiAgICBAdXJsID0gZ29vZ2xlVXJsLnVybAogICAgQGtleSA9IGdvb2dsZVVybC5rZXkKICAgIEBqc29uVXJsID0gZ29vZ2xlVXJsLmpzb25VcmwKICAgIEBnb29nbGVVcmwgPSBnb29nbGVVcmwKCiAgc2F2ZTogLT4KICAgIGxvY2FsU3RvcmFnZVsiR29vZ2xlU3ByZWFkc2hlZXQuIitAa2V5XSA9IEpTT04uc3RyaW5naWZ5KHRoaXMpCgpHb29nbGVTcHJlYWRzaGVldC5ibGVzcyA9IChvYmplY3QpIC0+CiAgcmVzdWx0ID0gbmV3IEdvb2dsZVNwcmVhZHNoZWV0KCkKICBmb3Iga2V5LHZhbHVlIG9mIG9iamVjdAogICAgcmVzdWx0W2tleV09dmFsdWUKICByZXN1bHQKCkdvb2dsZVNwcmVhZHNoZWV0LmZpbmQgPSAocGFyYW1zKSAtPgogIHRyeQogICAgZm9yIGl0ZW0gb2YgbG9jYWxTdG9yYWdlCiAgICAgIGlmIGl0ZW0ubWF0Y2goL15Hb29nbGVTcHJlYWRzaGVldFwuLykKICAgICAgICBpdGVtT2JqZWN0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2VbaXRlbV0pCiAgICAgICAgZm9yIGtleSx2YWx1ZSBvZiBwYXJhbXMKICAgICAgICAgIGlmIGl0ZW1PYmplY3Rba2V5XSA9PSB2YWx1ZQogICAgICAgICAgICByZXR1cm4gR29vZ2xlU3ByZWFkc2hlZXQuYmxlc3MoaXRlbU9iamVjdCkKIyBOZWVkIHRoaXMgdG8gaGFuZGxlIGRpZmZlcmVuY2VzIGluIGxvY2FsU3RvcmFnZSBiZXR3ZWVuIGNocm9tZSBhbmQgZmlyZWZveCBUT0RPIG1ha2UgZHJ5CiAgY2F0Y2ggZXJyb3IKICAgIGZvciBpdGVtIGluIGxvY2FsU3RvcmFnZQogICAgICBpZiBpdGVtLm1hdGNoKC9eR29vZ2xlU3ByZWFkc2hlZXRcLi8pCiAgICAgICAgaXRlbU9iamVjdCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlW2l0ZW1dKQogICAgICAgIGZvciBrZXksdmFsdWUgb2YgcGFyYW1zCiAgICAgICAgICBpZiBpdGVtT2JqZWN0W2tleV0gPT0gdmFsdWUKICAgICAgICAgICAgcmV0dXJuIEdvb2dsZVNwcmVhZHNoZWV0LmJsZXNzKGl0ZW1PYmplY3QpCiAgcmV0dXJuIG51bGwKCkdvb2dsZVNwcmVhZHNoZWV0LmNhbGxiYWNrQ2VsbHMgPSAoZGF0YSkgLT4KICBnb29nbGVVcmwgPSBuZXcgR29vZ2xlVXJsKGRhdGEuZmVlZC5pZC4kdCkKICBnb29nbGVTcHJlYWRzaGVldCA9IEdvb2dsZVNwcmVhZHNoZWV0LmZpbmQoe2pzb25Vcmw6Z29vZ2xlVXJsLmpzb25Vcmx9KQogIGlmIGdvb2dsZVNwcmVhZHNoZWV0ID09IG51bGwKICAgIGdvb2dsZVNwcmVhZHNoZWV0ID0gbmV3IEdvb2dsZVNwcmVhZHNoZWV0KCkKICAgIGdvb2dsZVNwcmVhZHNoZWV0Lmdvb2dsZVVybChnb29nbGVVcmwpCiAgZ29vZ2xlU3ByZWFkc2hlZXQuZGF0YSA9IChjZWxsLmNvbnRlbnQuJHQgZm9yIGNlbGwgaW4gZGF0YS5mZWVkLmVudHJ5KQogIGdvb2dsZVNwcmVhZHNoZWV0LnNhdmUoKQogIGdvb2dsZVNwcmVhZHNoZWV0CgoKIyMjIFRPRE8gKEhhbmRsZSByb3cgYmFzZWQgZGF0YSkKR29vZ2xlU3ByZWFkc2hlZXQuY2FsbGJhY2tMaXN0ID0gKGRhdGEpIC0+Cg==", "content_type": ""}, "google-spreadsheet-javascript/jquery-1.4.4.min.js": {"data": "LyohCiAqIGpRdWVyeSBKYXZhU2NyaXB0IExpYnJhcnkgdjEuNC40CiAqIGh0dHA6Ly9qcXVlcnkuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgSm9obiBSZXNpZwogKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgb3IgR1BMIFZlcnNpb24gMiBsaWNlbnNlcy4KICogaHR0cDovL2pxdWVyeS5vcmcvbGljZW5zZQogKgogKiBJbmNsdWRlcyBTaXp6bGUuanMKICogaHR0cDovL3NpenpsZWpzLmNvbS8KICogQ29weXJpZ2h0IDIwMTAsIFRoZSBEb2pvIEZvdW5kYXRpb24KICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCwgQlNELCBhbmQgR1BMIExpY2Vuc2VzLgogKgogKiBEYXRlOiBUaHUgTm92IDExIDE5OjA0OjUzIDIwMTAgLTA1MDAKICovCihmdW5jdGlvbihFLEIpe2Z1bmN0aW9uIGthKGEsYixkKXtpZihkPT09QiYmYS5ub2RlVHlwZT09PTEpe2Q9YS5nZXRBdHRyaWJ1dGUoImRhdGEtIitiKTtpZih0eXBlb2YgZD09PSJzdHJpbmciKXt0cnl7ZD1kPT09InRydWUiP3RydWU6ZD09PSJmYWxzZSI/ZmFsc2U6ZD09PSJudWxsIj9udWxsOiFjLmlzTmFOKGQpP3BhcnNlRmxvYXQoZCk6SmEudGVzdChkKT9jLnBhcnNlSlNPTihkKTpkfWNhdGNoKGUpe31jLmRhdGEoYSxiLGQpfWVsc2UgZD1CfXJldHVybiBkfWZ1bmN0aW9uIFUoKXtyZXR1cm4gZmFsc2V9ZnVuY3Rpb24gY2EoKXtyZXR1cm4gdHJ1ZX1mdW5jdGlvbiBsYShhLGIsZCl7ZFswXS50eXBlPWE7cmV0dXJuIGMuZXZlbnQuaGFuZGxlLmFwcGx5KGIsZCl9ZnVuY3Rpb24gS2EoYSl7dmFyIGIsZCxlLGYsaCxsLGssbyx4LHIsQSxDPVtdO2Y9W107aD1jLmRhdGEodGhpcyx0aGlzLm5vZGVUeXBlPyJldmVudHMiOiJfX2V2ZW50c19fIik7aWYodHlwZW9mIGg9PT0iZnVuY3Rpb24iKWg9CmguZXZlbnRzO2lmKCEoYS5saXZlRmlyZWQ9PT10aGlzfHwhaHx8IWgubGl2ZXx8YS5idXR0b24mJmEudHlwZT09PSJjbGljayIpKXtpZihhLm5hbWVzcGFjZSlBPVJlZ0V4cCgiKF58XFwuKSIrYS5uYW1lc3BhY2Uuc3BsaXQoIi4iKS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKTthLmxpdmVGaXJlZD10aGlzO3ZhciBKPWgubGl2ZS5zbGljZSgwKTtmb3Ioaz0wO2s8Si5sZW5ndGg7aysrKXtoPUpba107aC5vcmlnVHlwZS5yZXBsYWNlKFgsIiIpPT09YS50eXBlP2YucHVzaChoLnNlbGVjdG9yKTpKLnNwbGljZShrLS0sMSl9Zj1jKGEudGFyZ2V0KS5jbG9zZXN0KGYsYS5jdXJyZW50VGFyZ2V0KTtvPTA7Zm9yKHg9Zi5sZW5ndGg7bzx4O28rKyl7cj1mW29dO2ZvcihrPTA7azxKLmxlbmd0aDtrKyspe2g9SltrXTtpZihyLnNlbGVjdG9yPT09aC5zZWxlY3RvciYmKCFBfHxBLnRlc3QoaC5uYW1lc3BhY2UpKSl7bD1yLmVsZW07ZT1udWxsO2lmKGgucHJlVHlwZT09PSJtb3VzZWVudGVyInx8CmgucHJlVHlwZT09PSJtb3VzZWxlYXZlIil7YS50eXBlPWgucHJlVHlwZTtlPWMoYS5yZWxhdGVkVGFyZ2V0KS5jbG9zZXN0KGguc2VsZWN0b3IpWzBdfWlmKCFlfHxlIT09bClDLnB1c2goe2VsZW06bCxoYW5kbGVPYmo6aCxsZXZlbDpyLmxldmVsfSl9fX1vPTA7Zm9yKHg9Qy5sZW5ndGg7bzx4O28rKyl7Zj1DW29dO2lmKGQmJmYubGV2ZWw+ZClicmVhazthLmN1cnJlbnRUYXJnZXQ9Zi5lbGVtO2EuZGF0YT1mLmhhbmRsZU9iai5kYXRhO2EuaGFuZGxlT2JqPWYuaGFuZGxlT2JqO0E9Zi5oYW5kbGVPYmoub3JpZ0hhbmRsZXIuYXBwbHkoZi5lbGVtLGFyZ3VtZW50cyk7aWYoQT09PWZhbHNlfHxhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkpe2Q9Zi5sZXZlbDtpZihBPT09ZmFsc2UpYj1mYWxzZTtpZihhLmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpYnJlYWt9fXJldHVybiBifX1mdW5jdGlvbiBZKGEsYil7cmV0dXJuKGEmJmEhPT0iKiI/YSsiLiI6IiIpK2IucmVwbGFjZShMYSwKImAiKS5yZXBsYWNlKE1hLCImIil9ZnVuY3Rpb24gbWEoYSxiLGQpe2lmKGMuaXNGdW5jdGlvbihiKSlyZXR1cm4gYy5ncmVwKGEsZnVuY3Rpb24oZixoKXtyZXR1cm4hIWIuY2FsbChmLGgsZik9PT1kfSk7ZWxzZSBpZihiLm5vZGVUeXBlKXJldHVybiBjLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gZj09PWI9PT1kfSk7ZWxzZSBpZih0eXBlb2YgYj09PSJzdHJpbmciKXt2YXIgZT1jLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gZi5ub2RlVHlwZT09PTF9KTtpZihOYS50ZXN0KGIpKXJldHVybiBjLmZpbHRlcihiLGUsIWQpO2Vsc2UgYj1jLmZpbHRlcihiLGUpfXJldHVybiBjLmdyZXAoYSxmdW5jdGlvbihmKXtyZXR1cm4gYy5pbkFycmF5KGYsYik+PTA9PT1kfSl9ZnVuY3Rpb24gbmEoYSxiKXt2YXIgZD0wO2IuZWFjaChmdW5jdGlvbigpe2lmKHRoaXMubm9kZU5hbWU9PT0oYVtkXSYmYVtkXS5ub2RlTmFtZSkpe3ZhciBlPWMuZGF0YShhW2QrK10pLGY9Yy5kYXRhKHRoaXMsCmUpO2lmKGU9ZSYmZS5ldmVudHMpe2RlbGV0ZSBmLmhhbmRsZTtmLmV2ZW50cz17fTtmb3IodmFyIGggaW4gZSlmb3IodmFyIGwgaW4gZVtoXSljLmV2ZW50LmFkZCh0aGlzLGgsZVtoXVtsXSxlW2hdW2xdLmRhdGEpfX19KX1mdW5jdGlvbiBPYShhLGIpe2Iuc3JjP2MuYWpheCh7dXJsOmIuc3JjLGFzeW5jOmZhbHNlLGRhdGFUeXBlOiJzY3JpcHQifSk6Yy5nbG9iYWxFdmFsKGIudGV4dHx8Yi50ZXh0Q29udGVudHx8Yi5pbm5lckhUTUx8fCIiKTtiLnBhcmVudE5vZGUmJmIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiKX1mdW5jdGlvbiBvYShhLGIsZCl7dmFyIGU9Yj09PSJ3aWR0aCI/YS5vZmZzZXRXaWR0aDphLm9mZnNldEhlaWdodDtpZihkPT09ImJvcmRlciIpcmV0dXJuIGU7Yy5lYWNoKGI9PT0id2lkdGgiP1BhOlFhLGZ1bmN0aW9uKCl7ZHx8KGUtPXBhcnNlRmxvYXQoYy5jc3MoYSwicGFkZGluZyIrdGhpcykpfHwwKTtpZihkPT09Im1hcmdpbiIpZSs9cGFyc2VGbG9hdChjLmNzcyhhLAoibWFyZ2luIit0aGlzKSl8fDA7ZWxzZSBlLT1wYXJzZUZsb2F0KGMuY3NzKGEsImJvcmRlciIrdGhpcysiV2lkdGgiKSl8fDB9KTtyZXR1cm4gZX1mdW5jdGlvbiBkYShhLGIsZCxlKXtpZihjLmlzQXJyYXkoYikmJmIubGVuZ3RoKWMuZWFjaChiLGZ1bmN0aW9uKGYsaCl7ZHx8UmEudGVzdChhKT9lKGEsaCk6ZGEoYSsiWyIrKHR5cGVvZiBoPT09Im9iamVjdCJ8fGMuaXNBcnJheShoKT9mOiIiKSsiXSIsaCxkLGUpfSk7ZWxzZSBpZighZCYmYiE9bnVsbCYmdHlwZW9mIGI9PT0ib2JqZWN0IiljLmlzRW1wdHlPYmplY3QoYik/ZShhLCIiKTpjLmVhY2goYixmdW5jdGlvbihmLGgpe2RhKGErIlsiK2YrIl0iLGgsZCxlKX0pO2Vsc2UgZShhLGIpfWZ1bmN0aW9uIFMoYSxiKXt2YXIgZD17fTtjLmVhY2gocGEuY29uY2F0LmFwcGx5KFtdLHBhLnNsaWNlKDAsYikpLGZ1bmN0aW9uKCl7ZFt0aGlzXT1hfSk7cmV0dXJuIGR9ZnVuY3Rpb24gcWEoYSl7aWYoIWVhW2FdKXt2YXIgYj1jKCI8IisKYSsiPiIpLmFwcGVuZFRvKCJib2R5IiksZD1iLmNzcygiZGlzcGxheSIpO2IucmVtb3ZlKCk7aWYoZD09PSJub25lInx8ZD09PSIiKWQ9ImJsb2NrIjtlYVthXT1kfXJldHVybiBlYVthXX1mdW5jdGlvbiBmYShhKXtyZXR1cm4gYy5pc1dpbmRvdyhhKT9hOmEubm9kZVR5cGU9PT05P2EuZGVmYXVsdFZpZXd8fGEucGFyZW50V2luZG93OmZhbHNlfXZhciB0PUUuZG9jdW1lbnQsYz1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXtpZighYi5pc1JlYWR5KXt0cnl7dC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoImxlZnQiKX1jYXRjaChqKXtzZXRUaW1lb3V0KGEsMSk7cmV0dXJufWIucmVhZHkoKX19dmFyIGI9ZnVuY3Rpb24oaixzKXtyZXR1cm4gbmV3IGIuZm4uaW5pdChqLHMpfSxkPUUualF1ZXJ5LGU9RS4kLGYsaD0vXig/OltePF0qKDxbXHdcV10rPilbXj5dKiR8IyhbXHdcLV0rKSQpLyxsPS9cUy8saz0vXlxzKy8sbz0vXHMrJC8seD0vXFcvLHI9L1xkLyxBPS9ePChcdyspXHMqXC8/Pig/OjxcL1wxPik/JC8sCkM9L15bXF0sOnt9XHNdKiQvLEo9L1xcKD86WyJcXFwvYmZucnRdfHVbMC05YS1mQS1GXXs0fSkvZyx3PS8iW14iXFxcblxyXSoifHRydWV8ZmFsc2V8bnVsbHwtP1xkKyg/OlwuXGQqKT8oPzpbZUVdWytcLV0/XGQrKT8vZyxJPS8oPzpefDp8LCkoPzpccypcWykrL2csTD0vKHdlYmtpdClbIFwvXShbXHcuXSspLyxnPS8ob3BlcmEpKD86Lip2ZXJzaW9uKT9bIFwvXShbXHcuXSspLyxpPS8obXNpZSkgKFtcdy5dKykvLG49Lyhtb3ppbGxhKSg/Oi4qPyBydjooW1x3Ll0rKSk/LyxtPW5hdmlnYXRvci51c2VyQWdlbnQscD1mYWxzZSxxPVtdLHUseT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLEY9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxNPUFycmF5LnByb3RvdHlwZS5wdXNoLE49QXJyYXkucHJvdG90eXBlLnNsaWNlLE89U3RyaW5nLnByb3RvdHlwZS50cmltLEQ9QXJyYXkucHJvdG90eXBlLmluZGV4T2YsUj17fTtiLmZuPWIucHJvdG90eXBlPXtpbml0OmZ1bmN0aW9uKGosCnMpe3ZhciB2LHosSDtpZighailyZXR1cm4gdGhpcztpZihqLm5vZGVUeXBlKXt0aGlzLmNvbnRleHQ9dGhpc1swXT1qO3RoaXMubGVuZ3RoPTE7cmV0dXJuIHRoaXN9aWYoaj09PSJib2R5IiYmIXMmJnQuYm9keSl7dGhpcy5jb250ZXh0PXQ7dGhpc1swXT10LmJvZHk7dGhpcy5zZWxlY3Rvcj0iYm9keSI7dGhpcy5sZW5ndGg9MTtyZXR1cm4gdGhpc31pZih0eXBlb2Ygaj09PSJzdHJpbmciKWlmKCh2PWguZXhlYyhqKSkmJih2WzFdfHwhcykpaWYodlsxXSl7SD1zP3Mub3duZXJEb2N1bWVudHx8czp0O2lmKHo9QS5leGVjKGopKWlmKGIuaXNQbGFpbk9iamVjdChzKSl7aj1bdC5jcmVhdGVFbGVtZW50KHpbMV0pXTtiLmZuLmF0dHIuY2FsbChqLHMsdHJ1ZSl9ZWxzZSBqPVtILmNyZWF0ZUVsZW1lbnQoelsxXSldO2Vsc2V7ej1iLmJ1aWxkRnJhZ21lbnQoW3ZbMV1dLFtIXSk7aj0oei5jYWNoZWFibGU/ei5mcmFnbWVudC5jbG9uZU5vZGUodHJ1ZSk6ei5mcmFnbWVudCkuY2hpbGROb2Rlc31yZXR1cm4gYi5tZXJnZSh0aGlzLApqKX1lbHNle2lmKCh6PXQuZ2V0RWxlbWVudEJ5SWQodlsyXSkpJiZ6LnBhcmVudE5vZGUpe2lmKHouaWQhPT12WzJdKXJldHVybiBmLmZpbmQoaik7dGhpcy5sZW5ndGg9MTt0aGlzWzBdPXp9dGhpcy5jb250ZXh0PXQ7dGhpcy5zZWxlY3Rvcj1qO3JldHVybiB0aGlzfWVsc2UgaWYoIXMmJiF4LnRlc3Qoaikpe3RoaXMuc2VsZWN0b3I9ajt0aGlzLmNvbnRleHQ9dDtqPXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoaik7cmV0dXJuIGIubWVyZ2UodGhpcyxqKX1lbHNlIHJldHVybiFzfHxzLmpxdWVyeT8oc3x8ZikuZmluZChqKTpiKHMpLmZpbmQoaik7ZWxzZSBpZihiLmlzRnVuY3Rpb24oaikpcmV0dXJuIGYucmVhZHkoaik7aWYoai5zZWxlY3RvciE9PUIpe3RoaXMuc2VsZWN0b3I9ai5zZWxlY3Rvcjt0aGlzLmNvbnRleHQ9ai5jb250ZXh0fXJldHVybiBiLm1ha2VBcnJheShqLHRoaXMpfSxzZWxlY3RvcjoiIixqcXVlcnk6IjEuNC40IixsZW5ndGg6MCxzaXplOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RofSwKdG9BcnJheTpmdW5jdGlvbigpe3JldHVybiBOLmNhbGwodGhpcywwKX0sZ2V0OmZ1bmN0aW9uKGope3JldHVybiBqPT1udWxsP3RoaXMudG9BcnJheSgpOmo8MD90aGlzLnNsaWNlKGopWzBdOnRoaXNbal19LHB1c2hTdGFjazpmdW5jdGlvbihqLHMsdil7dmFyIHo9YigpO2IuaXNBcnJheShqKT9NLmFwcGx5KHosaik6Yi5tZXJnZSh6LGopO3oucHJldk9iamVjdD10aGlzO3ouY29udGV4dD10aGlzLmNvbnRleHQ7aWYocz09PSJmaW5kIil6LnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrKHRoaXMuc2VsZWN0b3I/IiAiOiIiKSt2O2Vsc2UgaWYocyl6LnNlbGVjdG9yPXRoaXMuc2VsZWN0b3IrIi4iK3MrIigiK3YrIikiO3JldHVybiB6fSxlYWNoOmZ1bmN0aW9uKGoscyl7cmV0dXJuIGIuZWFjaCh0aGlzLGoscyl9LHJlYWR5OmZ1bmN0aW9uKGope2IuYmluZFJlYWR5KCk7aWYoYi5pc1JlYWR5KWouY2FsbCh0LGIpO2Vsc2UgcSYmcS5wdXNoKGopO3JldHVybiB0aGlzfSxlcTpmdW5jdGlvbihqKXtyZXR1cm4gaj09PQotMT90aGlzLnNsaWNlKGopOnRoaXMuc2xpY2UoaiwraisxKX0sZmlyc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5lcSgwKX0sbGFzdDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmVxKC0xKX0sc2xpY2U6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2soTi5hcHBseSh0aGlzLGFyZ3VtZW50cyksInNsaWNlIixOLmNhbGwoYXJndW1lbnRzKS5qb2luKCIsIikpfSxtYXA6ZnVuY3Rpb24oail7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGIubWFwKHRoaXMsZnVuY3Rpb24ocyx2KXtyZXR1cm4gai5jYWxsKHMsdixzKX0pKX0sZW5kOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMucHJldk9iamVjdHx8YihudWxsKX0scHVzaDpNLHNvcnQ6W10uc29ydCxzcGxpY2U6W10uc3BsaWNlfTtiLmZuLmluaXQucHJvdG90eXBlPWIuZm47Yi5leHRlbmQ9Yi5mbi5leHRlbmQ9ZnVuY3Rpb24oKXt2YXIgaixzLHYseixILEc9YXJndW1lbnRzWzBdfHx7fSxLPTEsUT1hcmd1bWVudHMubGVuZ3RoLGdhPWZhbHNlOwppZih0eXBlb2YgRz09PSJib29sZWFuIil7Z2E9RztHPWFyZ3VtZW50c1sxXXx8e307Sz0yfWlmKHR5cGVvZiBHIT09Im9iamVjdCImJiFiLmlzRnVuY3Rpb24oRykpRz17fTtpZihRPT09Syl7Rz10aGlzOy0tS31mb3IoO0s8UTtLKyspaWYoKGo9YXJndW1lbnRzW0tdKSE9bnVsbClmb3IocyBpbiBqKXt2PUdbc107ej1qW3NdO2lmKEchPT16KWlmKGdhJiZ6JiYoYi5pc1BsYWluT2JqZWN0KHopfHwoSD1iLmlzQXJyYXkoeikpKSl7aWYoSCl7SD1mYWxzZTt2PXYmJmIuaXNBcnJheSh2KT92OltdfWVsc2Ugdj12JiZiLmlzUGxhaW5PYmplY3Qodik/djp7fTtHW3NdPWIuZXh0ZW5kKGdhLHYseil9ZWxzZSBpZih6IT09QilHW3NdPXp9cmV0dXJuIEd9O2IuZXh0ZW5kKHtub0NvbmZsaWN0OmZ1bmN0aW9uKGope0UuJD1lO2lmKGopRS5qUXVlcnk9ZDtyZXR1cm4gYn0saXNSZWFkeTpmYWxzZSxyZWFkeVdhaXQ6MSxyZWFkeTpmdW5jdGlvbihqKXtqPT09dHJ1ZSYmYi5yZWFkeVdhaXQtLTsKaWYoIWIucmVhZHlXYWl0fHxqIT09dHJ1ZSYmIWIuaXNSZWFkeSl7aWYoIXQuYm9keSlyZXR1cm4gc2V0VGltZW91dChiLnJlYWR5LDEpO2IuaXNSZWFkeT10cnVlO2lmKCEoaiE9PXRydWUmJi0tYi5yZWFkeVdhaXQ+MCkpaWYocSl7dmFyIHM9MCx2PXE7Zm9yKHE9bnVsbDtqPXZbcysrXTspai5jYWxsKHQsYik7Yi5mbi50cmlnZ2VyJiZiKHQpLnRyaWdnZXIoInJlYWR5IikudW5iaW5kKCJyZWFkeSIpfX19LGJpbmRSZWFkeTpmdW5jdGlvbigpe2lmKCFwKXtwPXRydWU7aWYodC5yZWFkeVN0YXRlPT09ImNvbXBsZXRlIilyZXR1cm4gc2V0VGltZW91dChiLnJlYWR5LDEpO2lmKHQuYWRkRXZlbnRMaXN0ZW5lcil7dC5hZGRFdmVudExpc3RlbmVyKCJET01Db250ZW50TG9hZGVkIix1LGZhbHNlKTtFLmFkZEV2ZW50TGlzdGVuZXIoImxvYWQiLGIucmVhZHksZmFsc2UpfWVsc2UgaWYodC5hdHRhY2hFdmVudCl7dC5hdHRhY2hFdmVudCgib25yZWFkeXN0YXRlY2hhbmdlIix1KTtFLmF0dGFjaEV2ZW50KCJvbmxvYWQiLApiLnJlYWR5KTt2YXIgaj1mYWxzZTt0cnl7aj1FLmZyYW1lRWxlbWVudD09bnVsbH1jYXRjaChzKXt9dC5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwmJmomJmEoKX19fSxpc0Z1bmN0aW9uOmZ1bmN0aW9uKGope3JldHVybiBiLnR5cGUoaik9PT0iZnVuY3Rpb24ifSxpc0FycmF5OkFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGope3JldHVybiBiLnR5cGUoaik9PT0iYXJyYXkifSxpc1dpbmRvdzpmdW5jdGlvbihqKXtyZXR1cm4gaiYmdHlwZW9mIGo9PT0ib2JqZWN0IiYmInNldEludGVydmFsImluIGp9LGlzTmFOOmZ1bmN0aW9uKGope3JldHVybiBqPT1udWxsfHwhci50ZXN0KGopfHxpc05hTihqKX0sdHlwZTpmdW5jdGlvbihqKXtyZXR1cm4gaj09bnVsbD9TdHJpbmcoaik6Ult5LmNhbGwoaildfHwib2JqZWN0In0saXNQbGFpbk9iamVjdDpmdW5jdGlvbihqKXtpZighanx8Yi50eXBlKGopIT09Im9iamVjdCJ8fGoubm9kZVR5cGV8fGIuaXNXaW5kb3coaikpcmV0dXJuIGZhbHNlO2lmKGouY29uc3RydWN0b3ImJgohRi5jYWxsKGosImNvbnN0cnVjdG9yIikmJiFGLmNhbGwoai5jb25zdHJ1Y3Rvci5wcm90b3R5cGUsImlzUHJvdG90eXBlT2YiKSlyZXR1cm4gZmFsc2U7Zm9yKHZhciBzIGluIGopO3JldHVybiBzPT09Qnx8Ri5jYWxsKGoscyl9LGlzRW1wdHlPYmplY3Q6ZnVuY3Rpb24oail7Zm9yKHZhciBzIGluIGopcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfSxlcnJvcjpmdW5jdGlvbihqKXt0aHJvdyBqO30scGFyc2VKU09OOmZ1bmN0aW9uKGope2lmKHR5cGVvZiBqIT09InN0cmluZyJ8fCFqKXJldHVybiBudWxsO2o9Yi50cmltKGopO2lmKEMudGVzdChqLnJlcGxhY2UoSiwiQCIpLnJlcGxhY2UodywiXSIpLnJlcGxhY2UoSSwiIikpKXJldHVybiBFLkpTT04mJkUuSlNPTi5wYXJzZT9FLkpTT04ucGFyc2Uoaik6KG5ldyBGdW5jdGlvbigicmV0dXJuICIraikpKCk7ZWxzZSBiLmVycm9yKCJJbnZhbGlkIEpTT046ICIrail9LG5vb3A6ZnVuY3Rpb24oKXt9LGdsb2JhbEV2YWw6ZnVuY3Rpb24oail7aWYoaiYmCmwudGVzdChqKSl7dmFyIHM9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHx0LmRvY3VtZW50RWxlbWVudCx2PXQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7di50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO2lmKGIuc3VwcG9ydC5zY3JpcHRFdmFsKXYuYXBwZW5kQ2hpbGQodC5jcmVhdGVUZXh0Tm9kZShqKSk7ZWxzZSB2LnRleHQ9ajtzLmluc2VydEJlZm9yZSh2LHMuZmlyc3RDaGlsZCk7cy5yZW1vdmVDaGlsZCh2KX19LG5vZGVOYW1lOmZ1bmN0aW9uKGoscyl7cmV0dXJuIGoubm9kZU5hbWUmJmoubm9kZU5hbWUudG9VcHBlckNhc2UoKT09PXMudG9VcHBlckNhc2UoKX0sZWFjaDpmdW5jdGlvbihqLHMsdil7dmFyIHosSD0wLEc9ai5sZW5ndGgsSz1HPT09Qnx8Yi5pc0Z1bmN0aW9uKGopO2lmKHYpaWYoSylmb3IoeiBpbiBqKXtpZihzLmFwcGx5KGpbel0sdik9PT1mYWxzZSlicmVha31lbHNlIGZvcig7SDxHOyl7aWYocy5hcHBseShqW0grK10sdik9PT1mYWxzZSlicmVha31lbHNlIGlmKEspZm9yKHogaW4gail7aWYocy5jYWxsKGpbel0sCnosalt6XSk9PT1mYWxzZSlicmVha31lbHNlIGZvcih2PWpbMF07SDxHJiZzLmNhbGwodixILHYpIT09ZmFsc2U7dj1qWysrSF0pO3JldHVybiBqfSx0cmltOk8/ZnVuY3Rpb24oail7cmV0dXJuIGo9PW51bGw/IiI6Ty5jYWxsKGopfTpmdW5jdGlvbihqKXtyZXR1cm4gaj09bnVsbD8iIjpqLnRvU3RyaW5nKCkucmVwbGFjZShrLCIiKS5yZXBsYWNlKG8sIiIpfSxtYWtlQXJyYXk6ZnVuY3Rpb24oaixzKXt2YXIgdj1zfHxbXTtpZihqIT1udWxsKXt2YXIgej1iLnR5cGUoaik7ai5sZW5ndGg9PW51bGx8fHo9PT0ic3RyaW5nInx8ej09PSJmdW5jdGlvbiJ8fHo9PT0icmVnZXhwInx8Yi5pc1dpbmRvdyhqKT9NLmNhbGwodixqKTpiLm1lcmdlKHYsail9cmV0dXJuIHZ9LGluQXJyYXk6ZnVuY3Rpb24oaixzKXtpZihzLmluZGV4T2YpcmV0dXJuIHMuaW5kZXhPZihqKTtmb3IodmFyIHY9MCx6PXMubGVuZ3RoO3Y8ejt2KyspaWYoc1t2XT09PWopcmV0dXJuIHY7cmV0dXJuLTF9LG1lcmdlOmZ1bmN0aW9uKGosCnMpe3ZhciB2PWoubGVuZ3RoLHo9MDtpZih0eXBlb2Ygcy5sZW5ndGg9PT0ibnVtYmVyIilmb3IodmFyIEg9cy5sZW5ndGg7ejxIO3orKylqW3YrK109c1t6XTtlbHNlIGZvcig7c1t6XSE9PUI7KWpbdisrXT1zW3orK107ai5sZW5ndGg9djtyZXR1cm4gan0sZ3JlcDpmdW5jdGlvbihqLHMsdil7dmFyIHo9W10sSDt2PSEhdjtmb3IodmFyIEc9MCxLPWoubGVuZ3RoO0c8SztHKyspe0g9ISFzKGpbR10sRyk7diE9PUgmJnoucHVzaChqW0ddKX1yZXR1cm4gen0sbWFwOmZ1bmN0aW9uKGoscyx2KXtmb3IodmFyIHo9W10sSCxHPTAsSz1qLmxlbmd0aDtHPEs7RysrKXtIPXMoaltHXSxHLHYpO2lmKEghPW51bGwpelt6Lmxlbmd0aF09SH1yZXR1cm4gei5jb25jYXQuYXBwbHkoW10seil9LGd1aWQ6MSxwcm94eTpmdW5jdGlvbihqLHMsdil7aWYoYXJndW1lbnRzLmxlbmd0aD09PTIpaWYodHlwZW9mIHM9PT0ic3RyaW5nIil7dj1qO2o9dltzXTtzPUJ9ZWxzZSBpZihzJiYhYi5pc0Z1bmN0aW9uKHMpKXt2PQpzO3M9Qn1pZighcyYmailzPWZ1bmN0aW9uKCl7cmV0dXJuIGouYXBwbHkodnx8dGhpcyxhcmd1bWVudHMpfTtpZihqKXMuZ3VpZD1qLmd1aWQ9ai5ndWlkfHxzLmd1aWR8fGIuZ3VpZCsrO3JldHVybiBzfSxhY2Nlc3M6ZnVuY3Rpb24oaixzLHYseixILEcpe3ZhciBLPWoubGVuZ3RoO2lmKHR5cGVvZiBzPT09Im9iamVjdCIpe2Zvcih2YXIgUSBpbiBzKWIuYWNjZXNzKGosUSxzW1FdLHosSCx2KTtyZXR1cm4gan1pZih2IT09Qil7ej0hRyYmeiYmYi5pc0Z1bmN0aW9uKHYpO2ZvcihRPTA7UTxLO1ErKylIKGpbUV0scyx6P3YuY2FsbChqW1FdLFEsSChqW1FdLHMpKTp2LEcpO3JldHVybiBqfXJldHVybiBLP0goalswXSxzKTpCfSxub3c6ZnVuY3Rpb24oKXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWUoKX0sdWFNYXRjaDpmdW5jdGlvbihqKXtqPWoudG9Mb3dlckNhc2UoKTtqPUwuZXhlYyhqKXx8Zy5leGVjKGopfHxpLmV4ZWMoail8fGouaW5kZXhPZigiY29tcGF0aWJsZSIpPDAmJm4uZXhlYyhqKXx8CltdO3JldHVybnticm93c2VyOmpbMV18fCIiLHZlcnNpb246alsyXXx8IjAifX0sYnJvd3Nlcjp7fX0pO2IuZWFjaCgiQm9vbGVhbiBOdW1iZXIgU3RyaW5nIEZ1bmN0aW9uIEFycmF5IERhdGUgUmVnRXhwIE9iamVjdCIuc3BsaXQoIiAiKSxmdW5jdGlvbihqLHMpe1JbIltvYmplY3QgIitzKyJdIl09cy50b0xvd2VyQ2FzZSgpfSk7bT1iLnVhTWF0Y2gobSk7aWYobS5icm93c2VyKXtiLmJyb3dzZXJbbS5icm93c2VyXT10cnVlO2IuYnJvd3Nlci52ZXJzaW9uPW0udmVyc2lvbn1pZihiLmJyb3dzZXIud2Via2l0KWIuYnJvd3Nlci5zYWZhcmk9dHJ1ZTtpZihEKWIuaW5BcnJheT1mdW5jdGlvbihqLHMpe3JldHVybiBELmNhbGwocyxqKX07aWYoIS9ccy8udGVzdCgiXHUwMGEwIikpe2s9L15bXHNceEEwXSsvO289L1tcc1x4QTBdKyQvfWY9Yih0KTtpZih0LmFkZEV2ZW50TGlzdGVuZXIpdT1mdW5jdGlvbigpe3QucmVtb3ZlRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIsdSwKZmFsc2UpO2IucmVhZHkoKX07ZWxzZSBpZih0LmF0dGFjaEV2ZW50KXU9ZnVuY3Rpb24oKXtpZih0LnJlYWR5U3RhdGU9PT0iY29tcGxldGUiKXt0LmRldGFjaEV2ZW50KCJvbnJlYWR5c3RhdGVjaGFuZ2UiLHUpO2IucmVhZHkoKX19O3JldHVybiBFLmpRdWVyeT1FLiQ9Yn0oKTsoZnVuY3Rpb24oKXtjLnN1cHBvcnQ9e307dmFyIGE9dC5kb2N1bWVudEVsZW1lbnQsYj10LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLGQ9dC5jcmVhdGVFbGVtZW50KCJkaXYiKSxlPSJzY3JpcHQiK2Mubm93KCk7ZC5zdHlsZS5kaXNwbGF5PSJub25lIjtkLmlubmVySFRNTD0iICAgPGxpbmsvPjx0YWJsZT48L3RhYmxlPjxhIGhyZWY9Jy9hJyBzdHlsZT0nY29sb3I6cmVkO2Zsb2F0OmxlZnQ7b3BhY2l0eTouNTU7Jz5hPC9hPjxpbnB1dCB0eXBlPSdjaGVja2JveCcvPiI7dmFyIGY9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpLGg9ZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiYSIpWzBdLGw9dC5jcmVhdGVFbGVtZW50KCJzZWxlY3QiKSwKaz1sLmFwcGVuZENoaWxkKHQuY3JlYXRlRWxlbWVudCgib3B0aW9uIikpO2lmKCEoIWZ8fCFmLmxlbmd0aHx8IWgpKXtjLnN1cHBvcnQ9e2xlYWRpbmdXaGl0ZXNwYWNlOmQuZmlyc3RDaGlsZC5ub2RlVHlwZT09PTMsdGJvZHk6IWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInRib2R5IikubGVuZ3RoLGh0bWxTZXJpYWxpemU6ISFkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJsaW5rIikubGVuZ3RoLHN0eWxlOi9yZWQvLnRlc3QoaC5nZXRBdHRyaWJ1dGUoInN0eWxlIikpLGhyZWZOb3JtYWxpemVkOmguZ2V0QXR0cmlidXRlKCJocmVmIik9PT0iL2EiLG9wYWNpdHk6L14wLjU1JC8udGVzdChoLnN0eWxlLm9wYWNpdHkpLGNzc0Zsb2F0OiEhaC5zdHlsZS5jc3NGbG9hdCxjaGVja09uOmQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImlucHV0IilbMF0udmFsdWU9PT0ib24iLG9wdFNlbGVjdGVkOmsuc2VsZWN0ZWQsZGVsZXRlRXhwYW5kbzp0cnVlLG9wdERpc2FibGVkOmZhbHNlLGNoZWNrQ2xvbmU6ZmFsc2UsCnNjcmlwdEV2YWw6ZmFsc2Usbm9DbG9uZUV2ZW50OnRydWUsYm94TW9kZWw6bnVsbCxpbmxpbmVCbG9ja05lZWRzTGF5b3V0OmZhbHNlLHNocmlua1dyYXBCbG9ja3M6ZmFsc2UscmVsaWFibGVIaWRkZW5PZmZzZXRzOnRydWV9O2wuZGlzYWJsZWQ9dHJ1ZTtjLnN1cHBvcnQub3B0RGlzYWJsZWQ9IWsuZGlzYWJsZWQ7Yi50eXBlPSJ0ZXh0L2phdmFzY3JpcHQiO3RyeXtiLmFwcGVuZENoaWxkKHQuY3JlYXRlVGV4dE5vZGUoIndpbmRvdy4iK2UrIj0xOyIpKX1jYXRjaChvKXt9YS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpO2lmKEVbZV0pe2Muc3VwcG9ydC5zY3JpcHRFdmFsPXRydWU7ZGVsZXRlIEVbZV19dHJ5e2RlbGV0ZSBiLnRlc3R9Y2F0Y2goeCl7Yy5zdXBwb3J0LmRlbGV0ZUV4cGFuZG89ZmFsc2V9YS5yZW1vdmVDaGlsZChiKTtpZihkLmF0dGFjaEV2ZW50JiZkLmZpcmVFdmVudCl7ZC5hdHRhY2hFdmVudCgib25jbGljayIsZnVuY3Rpb24gcigpe2Muc3VwcG9ydC5ub0Nsb25lRXZlbnQ9CmZhbHNlO2QuZGV0YWNoRXZlbnQoIm9uY2xpY2siLHIpfSk7ZC5jbG9uZU5vZGUodHJ1ZSkuZmlyZUV2ZW50KCJvbmNsaWNrIil9ZD10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2QuaW5uZXJIVE1MPSI8aW5wdXQgdHlwZT0ncmFkaW8nIG5hbWU9J3JhZGlvdGVzdCcgY2hlY2tlZD0nY2hlY2tlZCcvPiI7YT10LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTthLmFwcGVuZENoaWxkKGQuZmlyc3RDaGlsZCk7Yy5zdXBwb3J0LmNoZWNrQ2xvbmU9YS5jbG9uZU5vZGUodHJ1ZSkuY2xvbmVOb2RlKHRydWUpLmxhc3RDaGlsZC5jaGVja2VkO2MoZnVuY3Rpb24oKXt2YXIgcj10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO3Iuc3R5bGUud2lkdGg9ci5zdHlsZS5wYWRkaW5nTGVmdD0iMXB4Ijt0LmJvZHkuYXBwZW5kQ2hpbGQocik7Yy5ib3hNb2RlbD1jLnN1cHBvcnQuYm94TW9kZWw9ci5vZmZzZXRXaWR0aD09PTI7aWYoInpvb20iaW4gci5zdHlsZSl7ci5zdHlsZS5kaXNwbGF5PSJpbmxpbmUiO3Iuc3R5bGUuem9vbT0KMTtjLnN1cHBvcnQuaW5saW5lQmxvY2tOZWVkc0xheW91dD1yLm9mZnNldFdpZHRoPT09MjtyLnN0eWxlLmRpc3BsYXk9IiI7ci5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3dpZHRoOjRweDsnPjwvZGl2PiI7Yy5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3M9ci5vZmZzZXRXaWR0aCE9PTJ9ci5pbm5lckhUTUw9Ijx0YWJsZT48dHI+PHRkIHN0eWxlPSdwYWRkaW5nOjA7ZGlzcGxheTpub25lJz48L3RkPjx0ZD50PC90ZD48L3RyPjwvdGFibGU+Ijt2YXIgQT1yLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0ZCIpO2Muc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9QVswXS5vZmZzZXRIZWlnaHQ9PT0wO0FbMF0uc3R5bGUuZGlzcGxheT0iIjtBWzFdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2Muc3VwcG9ydC5yZWxpYWJsZUhpZGRlbk9mZnNldHM9Yy5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmQVswXS5vZmZzZXRIZWlnaHQ9PT0wO3IuaW5uZXJIVE1MPSIiO3QuYm9keS5yZW1vdmVDaGlsZChyKS5zdHlsZS5kaXNwbGF5PQoibm9uZSJ9KTthPWZ1bmN0aW9uKHIpe3ZhciBBPXQuY3JlYXRlRWxlbWVudCgiZGl2Iik7cj0ib24iK3I7dmFyIEM9ciBpbiBBO2lmKCFDKXtBLnNldEF0dHJpYnV0ZShyLCJyZXR1cm47Iik7Qz10eXBlb2YgQVtyXT09PSJmdW5jdGlvbiJ9cmV0dXJuIEN9O2Muc3VwcG9ydC5zdWJtaXRCdWJibGVzPWEoInN1Ym1pdCIpO2Muc3VwcG9ydC5jaGFuZ2VCdWJibGVzPWEoImNoYW5nZSIpO2E9Yj1kPWY9aD1udWxsfX0pKCk7dmFyIHJhPXt9LEphPS9eKD86XHsuKlx9fFxbLipcXSkkLztjLmV4dGVuZCh7Y2FjaGU6e30sdXVpZDowLGV4cGFuZG86ImpRdWVyeSIrYy5ub3coKSxub0RhdGE6e2VtYmVkOnRydWUsb2JqZWN0OiJjbHNpZDpEMjdDREI2RS1BRTZELTExY2YtOTZCOC00NDQ1NTM1NDAwMDAiLGFwcGxldDp0cnVlfSxkYXRhOmZ1bmN0aW9uKGEsYixkKXtpZihjLmFjY2VwdERhdGEoYSkpe2E9YT09RT9yYTphO3ZhciBlPWEubm9kZVR5cGUsZj1lP2FbYy5leHBhbmRvXTpudWxsLGg9CmMuY2FjaGU7aWYoIShlJiYhZiYmdHlwZW9mIGI9PT0ic3RyaW5nIiYmZD09PUIpKXtpZihlKWZ8fChhW2MuZXhwYW5kb109Zj0rK2MudXVpZCk7ZWxzZSBoPWE7aWYodHlwZW9mIGI9PT0ib2JqZWN0IilpZihlKWhbZl09Yy5leHRlbmQoaFtmXSxiKTtlbHNlIGMuZXh0ZW5kKGgsYik7ZWxzZSBpZihlJiYhaFtmXSloW2ZdPXt9O2E9ZT9oW2ZdOmg7aWYoZCE9PUIpYVtiXT1kO3JldHVybiB0eXBlb2YgYj09PSJzdHJpbmciP2FbYl06YX19fSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEsYil7aWYoYy5hY2NlcHREYXRhKGEpKXthPWE9PUU/cmE6YTt2YXIgZD1hLm5vZGVUeXBlLGU9ZD9hW2MuZXhwYW5kb106YSxmPWMuY2FjaGUsaD1kP2ZbZV06ZTtpZihiKXtpZihoKXtkZWxldGUgaFtiXTtkJiZjLmlzRW1wdHlPYmplY3QoaCkmJmMucmVtb3ZlRGF0YShhKX19ZWxzZSBpZihkJiZjLnN1cHBvcnQuZGVsZXRlRXhwYW5kbylkZWxldGUgYVtjLmV4cGFuZG9dO2Vsc2UgaWYoYS5yZW1vdmVBdHRyaWJ1dGUpYS5yZW1vdmVBdHRyaWJ1dGUoYy5leHBhbmRvKTsKZWxzZSBpZihkKWRlbGV0ZSBmW2VdO2Vsc2UgZm9yKHZhciBsIGluIGEpZGVsZXRlIGFbbF19fSxhY2NlcHREYXRhOmZ1bmN0aW9uKGEpe2lmKGEubm9kZU5hbWUpe3ZhciBiPWMubm9EYXRhW2Eubm9kZU5hbWUudG9Mb3dlckNhc2UoKV07aWYoYilyZXR1cm4hKGI9PT10cnVlfHxhLmdldEF0dHJpYnV0ZSgiY2xhc3NpZCIpIT09Yil9cmV0dXJuIHRydWV9fSk7Yy5mbi5leHRlbmQoe2RhdGE6ZnVuY3Rpb24oYSxiKXt2YXIgZD1udWxsO2lmKHR5cGVvZiBhPT09InVuZGVmaW5lZCIpe2lmKHRoaXMubGVuZ3RoKXt2YXIgZT10aGlzWzBdLmF0dHJpYnV0ZXMsZjtkPWMuZGF0YSh0aGlzWzBdKTtmb3IodmFyIGg9MCxsPWUubGVuZ3RoO2g8bDtoKyspe2Y9ZVtoXS5uYW1lO2lmKGYuaW5kZXhPZigiZGF0YS0iKT09PTApe2Y9Zi5zdWJzdHIoNSk7a2EodGhpc1swXSxmLGRbZl0pfX19cmV0dXJuIGR9ZWxzZSBpZih0eXBlb2YgYT09PSJvYmplY3QiKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjLmRhdGEodGhpcywKYSl9KTt2YXIgaz1hLnNwbGl0KCIuIik7a1sxXT1rWzFdPyIuIitrWzFdOiIiO2lmKGI9PT1CKXtkPXRoaXMudHJpZ2dlckhhbmRsZXIoImdldERhdGEiK2tbMV0rIiEiLFtrWzBdXSk7aWYoZD09PUImJnRoaXMubGVuZ3RoKXtkPWMuZGF0YSh0aGlzWzBdLGEpO2Q9a2EodGhpc1swXSxhLGQpfXJldHVybiBkPT09QiYma1sxXT90aGlzLmRhdGEoa1swXSk6ZH1lbHNlIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgbz1jKHRoaXMpLHg9W2tbMF0sYl07by50cmlnZ2VySGFuZGxlcigic2V0RGF0YSIra1sxXSsiISIseCk7Yy5kYXRhKHRoaXMsYSxiKTtvLnRyaWdnZXJIYW5kbGVyKCJjaGFuZ2VEYXRhIitrWzFdKyIhIix4KX0pfSxyZW1vdmVEYXRhOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXtjLnJlbW92ZURhdGEodGhpcyxhKX0pfX0pO2MuZXh0ZW5kKHtxdWV1ZTpmdW5jdGlvbihhLGIsZCl7aWYoYSl7Yj0oYnx8ImZ4IikrInF1ZXVlIjt2YXIgZT0KYy5kYXRhKGEsYik7aWYoIWQpcmV0dXJuIGV8fFtdO2lmKCFlfHxjLmlzQXJyYXkoZCkpZT1jLmRhdGEoYSxiLGMubWFrZUFycmF5KGQpKTtlbHNlIGUucHVzaChkKTtyZXR1cm4gZX19LGRlcXVldWU6ZnVuY3Rpb24oYSxiKXtiPWJ8fCJmeCI7dmFyIGQ9Yy5xdWV1ZShhLGIpLGU9ZC5zaGlmdCgpO2lmKGU9PT0iaW5wcm9ncmVzcyIpZT1kLnNoaWZ0KCk7aWYoZSl7Yj09PSJmeCImJmQudW5zaGlmdCgiaW5wcm9ncmVzcyIpO2UuY2FsbChhLGZ1bmN0aW9uKCl7Yy5kZXF1ZXVlKGEsYil9KX19fSk7Yy5mbi5leHRlbmQoe3F1ZXVlOmZ1bmN0aW9uKGEsYil7aWYodHlwZW9mIGEhPT0ic3RyaW5nIil7Yj1hO2E9ImZ4In1pZihiPT09QilyZXR1cm4gYy5xdWV1ZSh0aGlzWzBdLGEpO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZD1jLnF1ZXVlKHRoaXMsYSxiKTthPT09ImZ4IiYmZFswXSE9PSJpbnByb2dyZXNzIiYmYy5kZXF1ZXVlKHRoaXMsYSl9KX0sZGVxdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5kZXF1ZXVlKHRoaXMsCmEpfSl9LGRlbGF5OmZ1bmN0aW9uKGEsYil7YT1jLmZ4P2MuZnguc3BlZWRzW2FdfHxhOmE7Yj1ifHwiZngiO3JldHVybiB0aGlzLnF1ZXVlKGIsZnVuY3Rpb24oKXt2YXIgZD10aGlzO3NldFRpbWVvdXQoZnVuY3Rpb24oKXtjLmRlcXVldWUoZCxiKX0sYSl9KX0sY2xlYXJRdWV1ZTpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5xdWV1ZShhfHwiZngiLFtdKX19KTt2YXIgc2E9L1tcblx0XS9nLGhhPS9ccysvLFNhPS9cci9nLFRhPS9eKD86aHJlZnxzcmN8c3R5bGUpJC8sVWE9L14oPzpidXR0b258aW5wdXQpJC9pLFZhPS9eKD86YnV0dG9ufGlucHV0fG9iamVjdHxzZWxlY3R8dGV4dGFyZWEpJC9pLFdhPS9eYSg/OnJlYSk/JC9pLHRhPS9eKD86cmFkaW98Y2hlY2tib3gpJC9pO2MucHJvcHM9eyJmb3IiOiJodG1sRm9yIiwiY2xhc3MiOiJjbGFzc05hbWUiLHJlYWRvbmx5OiJyZWFkT25seSIsbWF4bGVuZ3RoOiJtYXhMZW5ndGgiLGNlbGxzcGFjaW5nOiJjZWxsU3BhY2luZyIscm93c3Bhbjoicm93U3BhbiIsCmNvbHNwYW46ImNvbFNwYW4iLHRhYmluZGV4OiJ0YWJJbmRleCIsdXNlbWFwOiJ1c2VNYXAiLGZyYW1lYm9yZGVyOiJmcmFtZUJvcmRlciJ9O2MuZm4uZXh0ZW5kKHthdHRyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIGMuYWNjZXNzKHRoaXMsYSxiLHRydWUsYy5hdHRyKX0scmVtb3ZlQXR0cjpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7Yy5hdHRyKHRoaXMsYSwiIik7dGhpcy5ub2RlVHlwZT09PTEmJnRoaXMucmVtb3ZlQXR0cmlidXRlKGEpfSl9LGFkZENsYXNzOmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKHgpe3ZhciByPWModGhpcyk7ci5hZGRDbGFzcyhhLmNhbGwodGhpcyx4LHIuYXR0cigiY2xhc3MiKSkpfSk7aWYoYSYmdHlwZW9mIGE9PT0ic3RyaW5nIilmb3IodmFyIGI9KGF8fCIiKS5zcGxpdChoYSksZD0wLGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7dmFyIGY9dGhpc1tkXTtpZihmLm5vZGVUeXBlPT09CjEpaWYoZi5jbGFzc05hbWUpe2Zvcih2YXIgaD0iICIrZi5jbGFzc05hbWUrIiAiLGw9Zi5jbGFzc05hbWUsaz0wLG89Yi5sZW5ndGg7azxvO2srKylpZihoLmluZGV4T2YoIiAiK2Jba10rIiAiKTwwKWwrPSIgIitiW2tdO2YuY2xhc3NOYW1lPWMudHJpbShsKX1lbHNlIGYuY2xhc3NOYW1lPWF9cmV0dXJuIHRoaXN9LHJlbW92ZUNsYXNzOmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8pe3ZhciB4PWModGhpcyk7eC5yZW1vdmVDbGFzcyhhLmNhbGwodGhpcyxvLHguYXR0cigiY2xhc3MiKSkpfSk7aWYoYSYmdHlwZW9mIGE9PT0ic3RyaW5nInx8YT09PUIpZm9yKHZhciBiPShhfHwiIikuc3BsaXQoaGEpLGQ9MCxlPXRoaXMubGVuZ3RoO2Q8ZTtkKyspe3ZhciBmPXRoaXNbZF07aWYoZi5ub2RlVHlwZT09PTEmJmYuY2xhc3NOYW1lKWlmKGEpe2Zvcih2YXIgaD0oIiAiK2YuY2xhc3NOYW1lKyIgIikucmVwbGFjZShzYSwiICIpLApsPTAsaz1iLmxlbmd0aDtsPGs7bCsrKWg9aC5yZXBsYWNlKCIgIitiW2xdKyIgIiwiICIpO2YuY2xhc3NOYW1lPWMudHJpbShoKX1lbHNlIGYuY2xhc3NOYW1lPSIifXJldHVybiB0aGlzfSx0b2dnbGVDbGFzczpmdW5jdGlvbihhLGIpe3ZhciBkPXR5cGVvZiBhLGU9dHlwZW9mIGI9PT0iYm9vbGVhbiI7aWYoYy5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oZil7dmFyIGg9Yyh0aGlzKTtoLnRvZ2dsZUNsYXNzKGEuY2FsbCh0aGlzLGYsaC5hdHRyKCJjbGFzcyIpLGIpLGIpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2lmKGQ9PT0ic3RyaW5nIilmb3IodmFyIGYsaD0wLGw9Yyh0aGlzKSxrPWIsbz1hLnNwbGl0KGhhKTtmPW9baCsrXTspe2s9ZT9rOiFsLmhhc0NsYXNzKGYpO2xbaz8iYWRkQ2xhc3MiOiJyZW1vdmVDbGFzcyJdKGYpfWVsc2UgaWYoZD09PSJ1bmRlZmluZWQifHxkPT09ImJvb2xlYW4iKXt0aGlzLmNsYXNzTmFtZSYmYy5kYXRhKHRoaXMsCiJfX2NsYXNzTmFtZV9fIix0aGlzLmNsYXNzTmFtZSk7dGhpcy5jbGFzc05hbWU9dGhpcy5jbGFzc05hbWV8fGE9PT1mYWxzZT8iIjpjLmRhdGEodGhpcywiX19jbGFzc05hbWVfXyIpfHwiIn19KX0saGFzQ2xhc3M6ZnVuY3Rpb24oYSl7YT0iICIrYSsiICI7Zm9yKHZhciBiPTAsZD10aGlzLmxlbmd0aDtiPGQ7YisrKWlmKCgiICIrdGhpc1tiXS5jbGFzc05hbWUrIiAiKS5yZXBsYWNlKHNhLCIgIikuaW5kZXhPZihhKT4tMSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZmFsc2V9LHZhbDpmdW5jdGlvbihhKXtpZighYXJndW1lbnRzLmxlbmd0aCl7dmFyIGI9dGhpc1swXTtpZihiKXtpZihjLm5vZGVOYW1lKGIsIm9wdGlvbiIpKXt2YXIgZD1iLmF0dHJpYnV0ZXMudmFsdWU7cmV0dXJuIWR8fGQuc3BlY2lmaWVkP2IudmFsdWU6Yi50ZXh0fWlmKGMubm9kZU5hbWUoYiwic2VsZWN0Iikpe3ZhciBlPWIuc2VsZWN0ZWRJbmRleDtkPVtdO3ZhciBmPWIub3B0aW9ucztiPWIudHlwZT09PSJzZWxlY3Qtb25lIjsKaWYoZTwwKXJldHVybiBudWxsO3ZhciBoPWI/ZTowO2ZvcihlPWI/ZSsxOmYubGVuZ3RoO2g8ZTtoKyspe3ZhciBsPWZbaF07aWYobC5zZWxlY3RlZCYmKGMuc3VwcG9ydC5vcHREaXNhYmxlZD8hbC5kaXNhYmxlZDpsLmdldEF0dHJpYnV0ZSgiZGlzYWJsZWQiKT09PW51bGwpJiYoIWwucGFyZW50Tm9kZS5kaXNhYmxlZHx8IWMubm9kZU5hbWUobC5wYXJlbnROb2RlLCJvcHRncm91cCIpKSl7YT1jKGwpLnZhbCgpO2lmKGIpcmV0dXJuIGE7ZC5wdXNoKGEpfX1yZXR1cm4gZH1pZih0YS50ZXN0KGIudHlwZSkmJiFjLnN1cHBvcnQuY2hlY2tPbilyZXR1cm4gYi5nZXRBdHRyaWJ1dGUoInZhbHVlIik9PT1udWxsPyJvbiI6Yi52YWx1ZTtyZXR1cm4oYi52YWx1ZXx8IiIpLnJlcGxhY2UoU2EsIiIpfXJldHVybiBCfXZhciBrPWMuaXNGdW5jdGlvbihhKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKG8pe3ZhciB4PWModGhpcykscj1hO2lmKHRoaXMubm9kZVR5cGU9PT0xKXtpZihrKXI9CmEuY2FsbCh0aGlzLG8seC52YWwoKSk7aWYocj09bnVsbClyPSIiO2Vsc2UgaWYodHlwZW9mIHI9PT0ibnVtYmVyIilyKz0iIjtlbHNlIGlmKGMuaXNBcnJheShyKSlyPWMubWFwKHIsZnVuY3Rpb24oQyl7cmV0dXJuIEM9PW51bGw/IiI6QysiIn0pO2lmKGMuaXNBcnJheShyKSYmdGEudGVzdCh0aGlzLnR5cGUpKXRoaXMuY2hlY2tlZD1jLmluQXJyYXkoeC52YWwoKSxyKT49MDtlbHNlIGlmKGMubm9kZU5hbWUodGhpcywic2VsZWN0Iikpe3ZhciBBPWMubWFrZUFycmF5KHIpO2MoIm9wdGlvbiIsdGhpcykuZWFjaChmdW5jdGlvbigpe3RoaXMuc2VsZWN0ZWQ9Yy5pbkFycmF5KGModGhpcykudmFsKCksQSk+PTB9KTtpZighQS5sZW5ndGgpdGhpcy5zZWxlY3RlZEluZGV4PS0xfWVsc2UgdGhpcy52YWx1ZT1yfX0pfX0pO2MuZXh0ZW5kKHthdHRyRm46e3ZhbDp0cnVlLGNzczp0cnVlLGh0bWw6dHJ1ZSx0ZXh0OnRydWUsZGF0YTp0cnVlLHdpZHRoOnRydWUsaGVpZ2h0OnRydWUsb2Zmc2V0OnRydWV9LAphdHRyOmZ1bmN0aW9uKGEsYixkLGUpe2lmKCFhfHxhLm5vZGVUeXBlPT09M3x8YS5ub2RlVHlwZT09PTgpcmV0dXJuIEI7aWYoZSYmYiBpbiBjLmF0dHJGbilyZXR1cm4gYyhhKVtiXShkKTtlPWEubm9kZVR5cGUhPT0xfHwhYy5pc1hNTERvYyhhKTt2YXIgZj1kIT09QjtiPWUmJmMucHJvcHNbYl18fGI7dmFyIGg9VGEudGVzdChiKTtpZigoYiBpbiBhfHxhW2JdIT09QikmJmUmJiFoKXtpZihmKXtiPT09InR5cGUiJiZVYS50ZXN0KGEubm9kZU5hbWUpJiZhLnBhcmVudE5vZGUmJmMuZXJyb3IoInR5cGUgcHJvcGVydHkgY2FuJ3QgYmUgY2hhbmdlZCIpO2lmKGQ9PT1udWxsKWEubm9kZVR5cGU9PT0xJiZhLnJlbW92ZUF0dHJpYnV0ZShiKTtlbHNlIGFbYl09ZH1pZihjLm5vZGVOYW1lKGEsImZvcm0iKSYmYS5nZXRBdHRyaWJ1dGVOb2RlKGIpKXJldHVybiBhLmdldEF0dHJpYnV0ZU5vZGUoYikubm9kZVZhbHVlO2lmKGI9PT0idGFiSW5kZXgiKXJldHVybihiPWEuZ2V0QXR0cmlidXRlTm9kZSgidGFiSW5kZXgiKSkmJgpiLnNwZWNpZmllZD9iLnZhbHVlOlZhLnRlc3QoYS5ub2RlTmFtZSl8fFdhLnRlc3QoYS5ub2RlTmFtZSkmJmEuaHJlZj8wOkI7cmV0dXJuIGFbYl19aWYoIWMuc3VwcG9ydC5zdHlsZSYmZSYmYj09PSJzdHlsZSIpe2lmKGYpYS5zdHlsZS5jc3NUZXh0PSIiK2Q7cmV0dXJuIGEuc3R5bGUuY3NzVGV4dH1mJiZhLnNldEF0dHJpYnV0ZShiLCIiK2QpO2lmKCFhLmF0dHJpYnV0ZXNbYl0mJmEuaGFzQXR0cmlidXRlJiYhYS5oYXNBdHRyaWJ1dGUoYikpcmV0dXJuIEI7YT0hYy5zdXBwb3J0LmhyZWZOb3JtYWxpemVkJiZlJiZoP2EuZ2V0QXR0cmlidXRlKGIsMik6YS5nZXRBdHRyaWJ1dGUoYik7cmV0dXJuIGE9PT1udWxsP0I6YX19KTt2YXIgWD0vXC4oLiopJC8saWE9L14oPzp0ZXh0YXJlYXxpbnB1dHxzZWxlY3QpJC9pLExhPS9cLi9nLE1hPS8gL2csWGE9L1teXHdccy58YF0vZyxZYT1mdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKFhhLCJcXCQmIil9LHVhPXtmb2N1c2luOjAsZm9jdXNvdXQ6MH07CmMuZXZlbnQ9e2FkZDpmdW5jdGlvbihhLGIsZCxlKXtpZighKGEubm9kZVR5cGU9PT0zfHxhLm5vZGVUeXBlPT09OCkpe2lmKGMuaXNXaW5kb3coYSkmJmEhPT1FJiYhYS5mcmFtZUVsZW1lbnQpYT1FO2lmKGQ9PT1mYWxzZSlkPVU7ZWxzZSBpZighZClyZXR1cm47dmFyIGYsaDtpZihkLmhhbmRsZXIpe2Y9ZDtkPWYuaGFuZGxlcn1pZighZC5ndWlkKWQuZ3VpZD1jLmd1aWQrKztpZihoPWMuZGF0YShhKSl7dmFyIGw9YS5ub2RlVHlwZT8iZXZlbnRzIjoiX19ldmVudHNfXyIsaz1oW2xdLG89aC5oYW5kbGU7aWYodHlwZW9mIGs9PT0iZnVuY3Rpb24iKXtvPWsuaGFuZGxlO2s9ay5ldmVudHN9ZWxzZSBpZighayl7YS5ub2RlVHlwZXx8KGhbbF09aD1mdW5jdGlvbigpe30pO2guZXZlbnRzPWs9e319aWYoIW8paC5oYW5kbGU9bz1mdW5jdGlvbigpe3JldHVybiB0eXBlb2YgYyE9PSJ1bmRlZmluZWQiJiYhYy5ldmVudC50cmlnZ2VyZWQ/Yy5ldmVudC5oYW5kbGUuYXBwbHkoby5lbGVtLAphcmd1bWVudHMpOkJ9O28uZWxlbT1hO2I9Yi5zcGxpdCgiICIpO2Zvcih2YXIgeD0wLHI7bD1iW3grK107KXtoPWY/Yy5leHRlbmQoe30sZik6e2hhbmRsZXI6ZCxkYXRhOmV9O2lmKGwuaW5kZXhPZigiLiIpPi0xKXtyPWwuc3BsaXQoIi4iKTtsPXIuc2hpZnQoKTtoLm5hbWVzcGFjZT1yLnNsaWNlKDApLnNvcnQoKS5qb2luKCIuIil9ZWxzZXtyPVtdO2gubmFtZXNwYWNlPSIifWgudHlwZT1sO2lmKCFoLmd1aWQpaC5ndWlkPWQuZ3VpZDt2YXIgQT1rW2xdLEM9Yy5ldmVudC5zcGVjaWFsW2xdfHx7fTtpZighQSl7QT1rW2xdPVtdO2lmKCFDLnNldHVwfHxDLnNldHVwLmNhbGwoYSxlLHIsbyk9PT1mYWxzZSlpZihhLmFkZEV2ZW50TGlzdGVuZXIpYS5hZGRFdmVudExpc3RlbmVyKGwsbyxmYWxzZSk7ZWxzZSBhLmF0dGFjaEV2ZW50JiZhLmF0dGFjaEV2ZW50KCJvbiIrbCxvKX1pZihDLmFkZCl7Qy5hZGQuY2FsbChhLGgpO2lmKCFoLmhhbmRsZXIuZ3VpZCloLmhhbmRsZXIuZ3VpZD0KZC5ndWlkfUEucHVzaChoKTtjLmV2ZW50Lmdsb2JhbFtsXT10cnVlfWE9bnVsbH19fSxnbG9iYWw6e30scmVtb3ZlOmZ1bmN0aW9uKGEsYixkLGUpe2lmKCEoYS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04KSl7aWYoZD09PWZhbHNlKWQ9VTt2YXIgZixoLGw9MCxrLG8seCxyLEEsQyxKPWEubm9kZVR5cGU/ImV2ZW50cyI6Il9fZXZlbnRzX18iLHc9Yy5kYXRhKGEpLEk9dyYmd1tKXTtpZih3JiZJKXtpZih0eXBlb2YgST09PSJmdW5jdGlvbiIpe3c9STtJPUkuZXZlbnRzfWlmKGImJmIudHlwZSl7ZD1iLmhhbmRsZXI7Yj1iLnR5cGV9aWYoIWJ8fHR5cGVvZiBiPT09InN0cmluZyImJmIuY2hhckF0KDApPT09Ii4iKXtiPWJ8fCIiO2ZvcihmIGluIEkpYy5ldmVudC5yZW1vdmUoYSxmK2IpfWVsc2V7Zm9yKGI9Yi5zcGxpdCgiICIpO2Y9YltsKytdOyl7cj1mO2s9Zi5pbmRleE9mKCIuIik8MDtvPVtdO2lmKCFrKXtvPWYuc3BsaXQoIi4iKTtmPW8uc2hpZnQoKTt4PVJlZ0V4cCgiKF58XFwuKSIrCmMubWFwKG8uc2xpY2UoMCkuc29ydCgpLFlhKS5qb2luKCJcXC4oPzouKlxcLik/IikrIihcXC58JCkiKX1pZihBPUlbZl0paWYoZCl7cj1jLmV2ZW50LnNwZWNpYWxbZl18fHt9O2ZvcihoPWV8fDA7aDxBLmxlbmd0aDtoKyspe0M9QVtoXTtpZihkLmd1aWQ9PT1DLmd1aWQpe2lmKGt8fHgudGVzdChDLm5hbWVzcGFjZSkpe2U9PW51bGwmJkEuc3BsaWNlKGgtLSwxKTtyLnJlbW92ZSYmci5yZW1vdmUuY2FsbChhLEMpfWlmKGUhPW51bGwpYnJlYWt9fWlmKEEubGVuZ3RoPT09MHx8ZSE9bnVsbCYmQS5sZW5ndGg9PT0xKXtpZighci50ZWFyZG93bnx8ci50ZWFyZG93bi5jYWxsKGEsbyk9PT1mYWxzZSljLnJlbW92ZUV2ZW50KGEsZix3LmhhbmRsZSk7ZGVsZXRlIElbZl19fWVsc2UgZm9yKGg9MDtoPEEubGVuZ3RoO2grKyl7Qz1BW2hdO2lmKGt8fHgudGVzdChDLm5hbWVzcGFjZSkpe2MuZXZlbnQucmVtb3ZlKGEscixDLmhhbmRsZXIsaCk7QS5zcGxpY2UoaC0tLDEpfX19aWYoYy5pc0VtcHR5T2JqZWN0KEkpKXtpZihiPQp3LmhhbmRsZSliLmVsZW09bnVsbDtkZWxldGUgdy5ldmVudHM7ZGVsZXRlIHcuaGFuZGxlO2lmKHR5cGVvZiB3PT09ImZ1bmN0aW9uIiljLnJlbW92ZURhdGEoYSxKKTtlbHNlIGMuaXNFbXB0eU9iamVjdCh3KSYmYy5yZW1vdmVEYXRhKGEpfX19fX0sdHJpZ2dlcjpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1hLnR5cGV8fGE7aWYoIWUpe2E9dHlwZW9mIGE9PT0ib2JqZWN0Ij9hW2MuZXhwYW5kb10/YTpjLmV4dGVuZChjLkV2ZW50KGYpLGEpOmMuRXZlbnQoZik7aWYoZi5pbmRleE9mKCIhIik+PTApe2EudHlwZT1mPWYuc2xpY2UoMCwtMSk7YS5leGNsdXNpdmU9dHJ1ZX1pZighZCl7YS5zdG9wUHJvcGFnYXRpb24oKTtjLmV2ZW50Lmdsb2JhbFtmXSYmYy5lYWNoKGMuY2FjaGUsZnVuY3Rpb24oKXt0aGlzLmV2ZW50cyYmdGhpcy5ldmVudHNbZl0mJmMuZXZlbnQudHJpZ2dlcihhLGIsdGhpcy5oYW5kbGUuZWxlbSl9KX1pZighZHx8ZC5ub2RlVHlwZT09PTN8fGQubm9kZVR5cGU9PT0KOClyZXR1cm4gQjthLnJlc3VsdD1CO2EudGFyZ2V0PWQ7Yj1jLm1ha2VBcnJheShiKTtiLnVuc2hpZnQoYSl9YS5jdXJyZW50VGFyZ2V0PWQ7KGU9ZC5ub2RlVHlwZT9jLmRhdGEoZCwiaGFuZGxlIik6KGMuZGF0YShkLCJfX2V2ZW50c19fIil8fHt9KS5oYW5kbGUpJiZlLmFwcGx5KGQsYik7ZT1kLnBhcmVudE5vZGV8fGQub3duZXJEb2N1bWVudDt0cnl7aWYoIShkJiZkLm5vZGVOYW1lJiZjLm5vRGF0YVtkLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCldKSlpZihkWyJvbiIrZl0mJmRbIm9uIitmXS5hcHBseShkLGIpPT09ZmFsc2Upe2EucmVzdWx0PWZhbHNlO2EucHJldmVudERlZmF1bHQoKX19Y2F0Y2goaCl7fWlmKCFhLmlzUHJvcGFnYXRpb25TdG9wcGVkKCkmJmUpYy5ldmVudC50cmlnZ2VyKGEsYixlLHRydWUpO2Vsc2UgaWYoIWEuaXNEZWZhdWx0UHJldmVudGVkKCkpe3ZhciBsO2U9YS50YXJnZXQ7dmFyIGs9Zi5yZXBsYWNlKFgsIiIpLG89Yy5ub2RlTmFtZShlLCJhIikmJms9PT0KImNsaWNrIix4PWMuZXZlbnQuc3BlY2lhbFtrXXx8e307aWYoKCF4Ll9kZWZhdWx0fHx4Ll9kZWZhdWx0LmNhbGwoZCxhKT09PWZhbHNlKSYmIW8mJiEoZSYmZS5ub2RlTmFtZSYmYy5ub0RhdGFbZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpe3RyeXtpZihlW2tdKXtpZihsPWVbIm9uIitrXSllWyJvbiIra109bnVsbDtjLmV2ZW50LnRyaWdnZXJlZD10cnVlO2Vba10oKX19Y2F0Y2gocil7fWlmKGwpZVsib24iK2tdPWw7Yy5ldmVudC50cmlnZ2VyZWQ9ZmFsc2V9fX0saGFuZGxlOmZ1bmN0aW9uKGEpe3ZhciBiLGQsZSxmO2Q9W107dmFyIGg9Yy5tYWtlQXJyYXkoYXJndW1lbnRzKTthPWhbMF09Yy5ldmVudC5maXgoYXx8RS5ldmVudCk7YS5jdXJyZW50VGFyZ2V0PXRoaXM7Yj1hLnR5cGUuaW5kZXhPZigiLiIpPDAmJiFhLmV4Y2x1c2l2ZTtpZighYil7ZT1hLnR5cGUuc3BsaXQoIi4iKTthLnR5cGU9ZS5zaGlmdCgpO2Q9ZS5zbGljZSgwKS5zb3J0KCk7ZT1SZWdFeHAoIihefFxcLikiKwpkLmpvaW4oIlxcLig/Oi4qXFwuKT8iKSsiKFxcLnwkKSIpfWEubmFtZXNwYWNlPWEubmFtZXNwYWNlfHxkLmpvaW4oIi4iKTtmPWMuZGF0YSh0aGlzLHRoaXMubm9kZVR5cGU/ImV2ZW50cyI6Il9fZXZlbnRzX18iKTtpZih0eXBlb2YgZj09PSJmdW5jdGlvbiIpZj1mLmV2ZW50cztkPShmfHx7fSlbYS50eXBlXTtpZihmJiZkKXtkPWQuc2xpY2UoMCk7Zj0wO2Zvcih2YXIgbD1kLmxlbmd0aDtmPGw7ZisrKXt2YXIgaz1kW2ZdO2lmKGJ8fGUudGVzdChrLm5hbWVzcGFjZSkpe2EuaGFuZGxlcj1rLmhhbmRsZXI7YS5kYXRhPWsuZGF0YTthLmhhbmRsZU9iaj1rO2s9ay5oYW5kbGVyLmFwcGx5KHRoaXMsaCk7aWYoayE9PUIpe2EucmVzdWx0PWs7aWYoaz09PWZhbHNlKXthLnByZXZlbnREZWZhdWx0KCk7YS5zdG9wUHJvcGFnYXRpb24oKX19aWYoYS5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpKWJyZWFrfX19cmV0dXJuIGEucmVzdWx0fSxwcm9wczoiYWx0S2V5IGF0dHJDaGFuZ2UgYXR0ck5hbWUgYnViYmxlcyBidXR0b24gY2FuY2VsYWJsZSBjaGFyQ29kZSBjbGllbnRYIGNsaWVudFkgY3RybEtleSBjdXJyZW50VGFyZ2V0IGRhdGEgZGV0YWlsIGV2ZW50UGhhc2UgZnJvbUVsZW1lbnQgaGFuZGxlciBrZXlDb2RlIGxheWVyWCBsYXllclkgbWV0YUtleSBuZXdWYWx1ZSBvZmZzZXRYIG9mZnNldFkgcGFnZVggcGFnZVkgcHJldlZhbHVlIHJlbGF0ZWROb2RlIHJlbGF0ZWRUYXJnZXQgc2NyZWVuWCBzY3JlZW5ZIHNoaWZ0S2V5IHNyY0VsZW1lbnQgdGFyZ2V0IHRvRWxlbWVudCB2aWV3IHdoZWVsRGVsdGEgd2hpY2giLnNwbGl0KCIgIiksCmZpeDpmdW5jdGlvbihhKXtpZihhW2MuZXhwYW5kb10pcmV0dXJuIGE7dmFyIGI9YTthPWMuRXZlbnQoYik7Zm9yKHZhciBkPXRoaXMucHJvcHMubGVuZ3RoLGU7ZDspe2U9dGhpcy5wcm9wc1stLWRdO2FbZV09YltlXX1pZighYS50YXJnZXQpYS50YXJnZXQ9YS5zcmNFbGVtZW50fHx0O2lmKGEudGFyZ2V0Lm5vZGVUeXBlPT09MylhLnRhcmdldD1hLnRhcmdldC5wYXJlbnROb2RlO2lmKCFhLnJlbGF0ZWRUYXJnZXQmJmEuZnJvbUVsZW1lbnQpYS5yZWxhdGVkVGFyZ2V0PWEuZnJvbUVsZW1lbnQ9PT1hLnRhcmdldD9hLnRvRWxlbWVudDphLmZyb21FbGVtZW50O2lmKGEucGFnZVg9PW51bGwmJmEuY2xpZW50WCE9bnVsbCl7Yj10LmRvY3VtZW50RWxlbWVudDtkPXQuYm9keTthLnBhZ2VYPWEuY2xpZW50WCsoYiYmYi5zY3JvbGxMZWZ0fHxkJiZkLnNjcm9sbExlZnR8fDApLShiJiZiLmNsaWVudExlZnR8fGQmJmQuY2xpZW50TGVmdHx8MCk7YS5wYWdlWT1hLmNsaWVudFkrKGImJmIuc2Nyb2xsVG9wfHwKZCYmZC5zY3JvbGxUb3B8fDApLShiJiZiLmNsaWVudFRvcHx8ZCYmZC5jbGllbnRUb3B8fDApfWlmKGEud2hpY2g9PW51bGwmJihhLmNoYXJDb2RlIT1udWxsfHxhLmtleUNvZGUhPW51bGwpKWEud2hpY2g9YS5jaGFyQ29kZSE9bnVsbD9hLmNoYXJDb2RlOmEua2V5Q29kZTtpZighYS5tZXRhS2V5JiZhLmN0cmxLZXkpYS5tZXRhS2V5PWEuY3RybEtleTtpZighYS53aGljaCYmYS5idXR0b24hPT1CKWEud2hpY2g9YS5idXR0b24mMT8xOmEuYnV0dG9uJjI/MzphLmJ1dHRvbiY0PzI6MDtyZXR1cm4gYX0sZ3VpZDoxRTgscHJveHk6Yy5wcm94eSxzcGVjaWFsOntyZWFkeTp7c2V0dXA6Yy5iaW5kUmVhZHksdGVhcmRvd246Yy5ub29wfSxsaXZlOnthZGQ6ZnVuY3Rpb24oYSl7Yy5ldmVudC5hZGQodGhpcyxZKGEub3JpZ1R5cGUsYS5zZWxlY3RvciksYy5leHRlbmQoe30sYSx7aGFuZGxlcjpLYSxndWlkOmEuaGFuZGxlci5ndWlkfSkpfSxyZW1vdmU6ZnVuY3Rpb24oYSl7Yy5ldmVudC5yZW1vdmUodGhpcywKWShhLm9yaWdUeXBlLGEuc2VsZWN0b3IpLGEpfX0sYmVmb3JldW5sb2FkOntzZXR1cDpmdW5jdGlvbihhLGIsZCl7aWYoYy5pc1dpbmRvdyh0aGlzKSl0aGlzLm9uYmVmb3JldW5sb2FkPWR9LHRlYXJkb3duOmZ1bmN0aW9uKGEsYil7aWYodGhpcy5vbmJlZm9yZXVubG9hZD09PWIpdGhpcy5vbmJlZm9yZXVubG9hZD1udWxsfX19fTtjLnJlbW92ZUV2ZW50PXQucmVtb3ZlRXZlbnRMaXN0ZW5lcj9mdW5jdGlvbihhLGIsZCl7YS5yZW1vdmVFdmVudExpc3RlbmVyJiZhLnJlbW92ZUV2ZW50TGlzdGVuZXIoYixkLGZhbHNlKX06ZnVuY3Rpb24oYSxiLGQpe2EuZGV0YWNoRXZlbnQmJmEuZGV0YWNoRXZlbnQoIm9uIitiLGQpfTtjLkV2ZW50PWZ1bmN0aW9uKGEpe2lmKCF0aGlzLnByZXZlbnREZWZhdWx0KXJldHVybiBuZXcgYy5FdmVudChhKTtpZihhJiZhLnR5cGUpe3RoaXMub3JpZ2luYWxFdmVudD1hO3RoaXMudHlwZT1hLnR5cGV9ZWxzZSB0aGlzLnR5cGU9YTt0aGlzLnRpbWVTdGFtcD0KYy5ub3coKTt0aGlzW2MuZXhwYW5kb109dHJ1ZX07Yy5FdmVudC5wcm90b3R5cGU9e3ByZXZlbnREZWZhdWx0OmZ1bmN0aW9uKCl7dGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQ9Y2E7dmFyIGE9dGhpcy5vcmlnaW5hbEV2ZW50O2lmKGEpaWYoYS5wcmV2ZW50RGVmYXVsdClhLnByZXZlbnREZWZhdWx0KCk7ZWxzZSBhLnJldHVyblZhbHVlPWZhbHNlfSxzdG9wUHJvcGFnYXRpb246ZnVuY3Rpb24oKXt0aGlzLmlzUHJvcGFnYXRpb25TdG9wcGVkPWNhO3ZhciBhPXRoaXMub3JpZ2luYWxFdmVudDtpZihhKXthLnN0b3BQcm9wYWdhdGlvbiYmYS5zdG9wUHJvcGFnYXRpb24oKTthLmNhbmNlbEJ1YmJsZT10cnVlfX0sc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOmZ1bmN0aW9uKCl7dGhpcy5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZD1jYTt0aGlzLnN0b3BQcm9wYWdhdGlvbigpfSxpc0RlZmF1bHRQcmV2ZW50ZWQ6VSxpc1Byb3BhZ2F0aW9uU3RvcHBlZDpVLGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOlV9Owp2YXIgdmE9ZnVuY3Rpb24oYSl7dmFyIGI9YS5yZWxhdGVkVGFyZ2V0O3RyeXtmb3IoO2ImJmIhPT10aGlzOyliPWIucGFyZW50Tm9kZTtpZihiIT09dGhpcyl7YS50eXBlPWEuZGF0YTtjLmV2ZW50LmhhbmRsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWNhdGNoKGQpe319LHdhPWZ1bmN0aW9uKGEpe2EudHlwZT1hLmRhdGE7Yy5ldmVudC5oYW5kbGUuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjLmVhY2goe21vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifSxmdW5jdGlvbihhLGIpe2MuZXZlbnQuc3BlY2lhbFthXT17c2V0dXA6ZnVuY3Rpb24oZCl7Yy5ldmVudC5hZGQodGhpcyxiLGQmJmQuc2VsZWN0b3I/d2E6dmEsYSl9LHRlYXJkb3duOmZ1bmN0aW9uKGQpe2MuZXZlbnQucmVtb3ZlKHRoaXMsYixkJiZkLnNlbGVjdG9yP3dhOnZhKX19fSk7aWYoIWMuc3VwcG9ydC5zdWJtaXRCdWJibGVzKWMuZXZlbnQuc3BlY2lhbC5zdWJtaXQ9e3NldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09CiJmb3JtIil7Yy5ldmVudC5hZGQodGhpcywiY2xpY2suc3BlY2lhbFN1Ym1pdCIsZnVuY3Rpb24oYSl7dmFyIGI9YS50YXJnZXQsZD1iLnR5cGU7aWYoKGQ9PT0ic3VibWl0Inx8ZD09PSJpbWFnZSIpJiZjKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgpe2EubGl2ZUZpcmVkPUI7cmV0dXJuIGxhKCJzdWJtaXQiLHRoaXMsYXJndW1lbnRzKX19KTtjLmV2ZW50LmFkZCh0aGlzLCJrZXlwcmVzcy5zcGVjaWFsU3VibWl0IixmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZigoZD09PSJ0ZXh0Inx8ZD09PSJwYXNzd29yZCIpJiZjKGIpLmNsb3Nlc3QoImZvcm0iKS5sZW5ndGgmJmEua2V5Q29kZT09PTEzKXthLmxpdmVGaXJlZD1CO3JldHVybiBsYSgic3VibWl0Iix0aGlzLGFyZ3VtZW50cyl9fSl9ZWxzZSByZXR1cm4gZmFsc2V9LHRlYXJkb3duOmZ1bmN0aW9uKCl7Yy5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxTdWJtaXQiKX19O2lmKCFjLnN1cHBvcnQuY2hhbmdlQnViYmxlcyl7dmFyIFYsCnhhPWZ1bmN0aW9uKGEpe3ZhciBiPWEudHlwZSxkPWEudmFsdWU7aWYoYj09PSJyYWRpbyJ8fGI9PT0iY2hlY2tib3giKWQ9YS5jaGVja2VkO2Vsc2UgaWYoYj09PSJzZWxlY3QtbXVsdGlwbGUiKWQ9YS5zZWxlY3RlZEluZGV4Pi0xP2MubWFwKGEub3B0aW9ucyxmdW5jdGlvbihlKXtyZXR1cm4gZS5zZWxlY3RlZH0pLmpvaW4oIi0iKToiIjtlbHNlIGlmKGEubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiKWQ9YS5zZWxlY3RlZEluZGV4O3JldHVybiBkfSxaPWZ1bmN0aW9uKGEsYil7dmFyIGQ9YS50YXJnZXQsZSxmO2lmKCEoIWlhLnRlc3QoZC5ub2RlTmFtZSl8fGQucmVhZE9ubHkpKXtlPWMuZGF0YShkLCJfY2hhbmdlX2RhdGEiKTtmPXhhKGQpO2lmKGEudHlwZSE9PSJmb2N1c291dCJ8fGQudHlwZSE9PSJyYWRpbyIpYy5kYXRhKGQsIl9jaGFuZ2VfZGF0YSIsZik7aWYoIShlPT09Qnx8Zj09PWUpKWlmKGUhPW51bGx8fGYpe2EudHlwZT0iY2hhbmdlIjthLmxpdmVGaXJlZD0KQjtyZXR1cm4gYy5ldmVudC50cmlnZ2VyKGEsYixkKX19fTtjLmV2ZW50LnNwZWNpYWwuY2hhbmdlPXtmaWx0ZXJzOntmb2N1c291dDpaLGJlZm9yZWRlYWN0aXZhdGU6WixjbGljazpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZihkPT09InJhZGlvInx8ZD09PSJjaGVja2JveCJ8fGIubm9kZU5hbWUudG9Mb3dlckNhc2UoKT09PSJzZWxlY3QiKXJldHVybiBaLmNhbGwodGhpcyxhKX0sa2V5ZG93bjpmdW5jdGlvbihhKXt2YXIgYj1hLnRhcmdldCxkPWIudHlwZTtpZihhLmtleUNvZGU9PT0xMyYmYi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpIT09InRleHRhcmVhInx8YS5rZXlDb2RlPT09MzImJihkPT09ImNoZWNrYm94Inx8ZD09PSJyYWRpbyIpfHxkPT09InNlbGVjdC1tdWx0aXBsZSIpcmV0dXJuIFouY2FsbCh0aGlzLGEpfSxiZWZvcmVhY3RpdmF0ZTpmdW5jdGlvbihhKXthPWEudGFyZ2V0O2MuZGF0YShhLCJfY2hhbmdlX2RhdGEiLHhhKGEpKX19LHNldHVwOmZ1bmN0aW9uKCl7aWYodGhpcy50eXBlPT09CiJmaWxlIilyZXR1cm4gZmFsc2U7Zm9yKHZhciBhIGluIFYpYy5ldmVudC5hZGQodGhpcyxhKyIuc3BlY2lhbENoYW5nZSIsVlthXSk7cmV0dXJuIGlhLnRlc3QodGhpcy5ub2RlTmFtZSl9LHRlYXJkb3duOmZ1bmN0aW9uKCl7Yy5ldmVudC5yZW1vdmUodGhpcywiLnNwZWNpYWxDaGFuZ2UiKTtyZXR1cm4gaWEudGVzdCh0aGlzLm5vZGVOYW1lKX19O1Y9Yy5ldmVudC5zcGVjaWFsLmNoYW5nZS5maWx0ZXJzO1YuZm9jdXM9Vi5iZWZvcmVhY3RpdmF0ZX10LmFkZEV2ZW50TGlzdGVuZXImJmMuZWFjaCh7Zm9jdXM6ImZvY3VzaW4iLGJsdXI6ImZvY3Vzb3V0In0sZnVuY3Rpb24oYSxiKXtmdW5jdGlvbiBkKGUpe2U9Yy5ldmVudC5maXgoZSk7ZS50eXBlPWI7cmV0dXJuIGMuZXZlbnQudHJpZ2dlcihlLG51bGwsZS50YXJnZXQpfWMuZXZlbnQuc3BlY2lhbFtiXT17c2V0dXA6ZnVuY3Rpb24oKXt1YVtiXSsrPT09MCYmdC5hZGRFdmVudExpc3RlbmVyKGEsZCx0cnVlKX0sdGVhcmRvd246ZnVuY3Rpb24oKXstLXVhW2JdPT09CjAmJnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihhLGQsdHJ1ZSl9fX0pO2MuZWFjaChbImJpbmQiLCJvbmUiXSxmdW5jdGlvbihhLGIpe2MuZm5bYl09ZnVuY3Rpb24oZCxlLGYpe2lmKHR5cGVvZiBkPT09Im9iamVjdCIpe2Zvcih2YXIgaCBpbiBkKXRoaXNbYl0oaCxlLGRbaF0sZik7cmV0dXJuIHRoaXN9aWYoYy5pc0Z1bmN0aW9uKGUpfHxlPT09ZmFsc2Upe2Y9ZTtlPUJ9dmFyIGw9Yj09PSJvbmUiP2MucHJveHkoZixmdW5jdGlvbihvKXtjKHRoaXMpLnVuYmluZChvLGwpO3JldHVybiBmLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pOmY7aWYoZD09PSJ1bmxvYWQiJiZiIT09Im9uZSIpdGhpcy5vbmUoZCxlLGYpO2Vsc2V7aD0wO2Zvcih2YXIgaz10aGlzLmxlbmd0aDtoPGs7aCsrKWMuZXZlbnQuYWRkKHRoaXNbaF0sZCxsLGUpfXJldHVybiB0aGlzfX0pO2MuZm4uZXh0ZW5kKHt1bmJpbmQ6ZnVuY3Rpb24oYSxiKXtpZih0eXBlb2YgYT09PSJvYmplY3QiJiYhYS5wcmV2ZW50RGVmYXVsdClmb3IodmFyIGQgaW4gYSl0aGlzLnVuYmluZChkLAphW2RdKTtlbHNle2Q9MDtmb3IodmFyIGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyljLmV2ZW50LnJlbW92ZSh0aGlzW2RdLGEsYil9cmV0dXJuIHRoaXN9LGRlbGVnYXRlOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiB0aGlzLmxpdmUoYixkLGUsYSl9LHVuZGVsZWdhdGU6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPT09MD90aGlzLnVuYmluZCgibGl2ZSIpOnRoaXMuZGllKGIsbnVsbCxkLGEpfSx0cmlnZ2VyOmZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2MuZXZlbnQudHJpZ2dlcihhLGIsdGhpcyl9KX0sdHJpZ2dlckhhbmRsZXI6ZnVuY3Rpb24oYSxiKXtpZih0aGlzWzBdKXt2YXIgZD1jLkV2ZW50KGEpO2QucHJldmVudERlZmF1bHQoKTtkLnN0b3BQcm9wYWdhdGlvbigpO2MuZXZlbnQudHJpZ2dlcihkLGIsdGhpc1swXSk7cmV0dXJuIGQucmVzdWx0fX0sdG9nZ2xlOmZ1bmN0aW9uKGEpe2Zvcih2YXIgYj1hcmd1bWVudHMsZD0KMTtkPGIubGVuZ3RoOyljLnByb3h5KGEsYltkKytdKTtyZXR1cm4gdGhpcy5jbGljayhjLnByb3h5KGEsZnVuY3Rpb24oZSl7dmFyIGY9KGMuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQpfHwwKSVkO2MuZGF0YSh0aGlzLCJsYXN0VG9nZ2xlIithLmd1aWQsZisxKTtlLnByZXZlbnREZWZhdWx0KCk7cmV0dXJuIGJbZl0uYXBwbHkodGhpcyxhcmd1bWVudHMpfHxmYWxzZX0pKX0saG92ZXI6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5tb3VzZWVudGVyKGEpLm1vdXNlbGVhdmUoYnx8YSl9fSk7dmFyIHlhPXtmb2N1czoiZm9jdXNpbiIsYmx1cjoiZm9jdXNvdXQiLG1vdXNlZW50ZXI6Im1vdXNlb3ZlciIsbW91c2VsZWF2ZToibW91c2VvdXQifTtjLmVhY2goWyJsaXZlIiwiZGllIl0sZnVuY3Rpb24oYSxiKXtjLmZuW2JdPWZ1bmN0aW9uKGQsZSxmLGgpe3ZhciBsLGs9MCxvLHgscj1ofHx0aGlzLnNlbGVjdG9yO2g9aD90aGlzOmModGhpcy5jb250ZXh0KTtpZih0eXBlb2YgZD09PQoib2JqZWN0IiYmIWQucHJldmVudERlZmF1bHQpe2ZvcihsIGluIGQpaFtiXShsLGUsZFtsXSxyKTtyZXR1cm4gdGhpc31pZihjLmlzRnVuY3Rpb24oZSkpe2Y9ZTtlPUJ9Zm9yKGQ9KGR8fCIiKS5zcGxpdCgiICIpOyhsPWRbaysrXSkhPW51bGw7KXtvPVguZXhlYyhsKTt4PSIiO2lmKG8pe3g9b1swXTtsPWwucmVwbGFjZShYLCIiKX1pZihsPT09ImhvdmVyIilkLnB1c2goIm1vdXNlZW50ZXIiK3gsIm1vdXNlbGVhdmUiK3gpO2Vsc2V7bz1sO2lmKGw9PT0iZm9jdXMifHxsPT09ImJsdXIiKXtkLnB1c2goeWFbbF0reCk7bCs9eH1lbHNlIGw9KHlhW2xdfHxsKSt4O2lmKGI9PT0ibGl2ZSIpe3g9MDtmb3IodmFyIEE9aC5sZW5ndGg7eDxBO3grKyljLmV2ZW50LmFkZChoW3hdLCJsaXZlLiIrWShsLHIpLHtkYXRhOmUsc2VsZWN0b3I6cixoYW5kbGVyOmYsb3JpZ1R5cGU6bCxvcmlnSGFuZGxlcjpmLHByZVR5cGU6b30pfWVsc2UgaC51bmJpbmQoImxpdmUuIitZKGwsciksZil9fXJldHVybiB0aGlzfX0pOwpjLmVhY2goImJsdXIgZm9jdXMgZm9jdXNpbiBmb2N1c291dCBsb2FkIHJlc2l6ZSBzY3JvbGwgdW5sb2FkIGNsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlbW92ZSBtb3VzZW92ZXIgbW91c2VvdXQgbW91c2VlbnRlciBtb3VzZWxlYXZlIGNoYW5nZSBzZWxlY3Qgc3VibWl0IGtleWRvd24ga2V5cHJlc3Mga2V5dXAgZXJyb3IiLnNwbGl0KCIgIiksZnVuY3Rpb24oYSxiKXtjLmZuW2JdPWZ1bmN0aW9uKGQsZSl7aWYoZT09bnVsbCl7ZT1kO2Q9bnVsbH1yZXR1cm4gYXJndW1lbnRzLmxlbmd0aD4wP3RoaXMuYmluZChiLGQsZSk6dGhpcy50cmlnZ2VyKGIpfTtpZihjLmF0dHJGbiljLmF0dHJGbltiXT10cnVlfSk7RS5hdHRhY2hFdmVudCYmIUUuYWRkRXZlbnRMaXN0ZW5lciYmYyhFKS5iaW5kKCJ1bmxvYWQiLGZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIGMuY2FjaGUpaWYoYy5jYWNoZVthXS5oYW5kbGUpdHJ5e2MuZXZlbnQucmVtb3ZlKGMuY2FjaGVbYV0uaGFuZGxlLmVsZW0pfWNhdGNoKGIpe319KTsKKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShnLGksbixtLHAscSl7cD0wO2Zvcih2YXIgdT1tLmxlbmd0aDtwPHU7cCsrKXt2YXIgeT1tW3BdO2lmKHkpe3ZhciBGPWZhbHNlO2Zvcih5PXlbZ107eTspe2lmKHkuc2l6Y2FjaGU9PT1uKXtGPW1beS5zaXpzZXRdO2JyZWFrfWlmKHkubm9kZVR5cGU9PT0xJiYhcSl7eS5zaXpjYWNoZT1uO3kuc2l6c2V0PXB9aWYoeS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09aSl7Rj15O2JyZWFrfXk9eVtnXX1tW3BdPUZ9fX1mdW5jdGlvbiBiKGcsaSxuLG0scCxxKXtwPTA7Zm9yKHZhciB1PW0ubGVuZ3RoO3A8dTtwKyspe3ZhciB5PW1bcF07aWYoeSl7dmFyIEY9ZmFsc2U7Zm9yKHk9eVtnXTt5Oyl7aWYoeS5zaXpjYWNoZT09PW4pe0Y9bVt5LnNpenNldF07YnJlYWt9aWYoeS5ub2RlVHlwZT09PTEpe2lmKCFxKXt5LnNpemNhY2hlPW47eS5zaXpzZXQ9cH1pZih0eXBlb2YgaSE9PSJzdHJpbmciKXtpZih5PT09aSl7Rj10cnVlO2JyZWFrfX1lbHNlIGlmKGsuZmlsdGVyKGksClt5XSkubGVuZ3RoPjApe0Y9eTticmVha319eT15W2ddfW1bcF09Rn19fXZhciBkPS8oKD86XCgoPzpcKFteKCldK1wpfFteKCldKykrXCl8XFsoPzpcW1teXFtcXV0qXF18WyciXVteJyJdKlsnIl18W15cW1xdJyJdKykrXF18XFwufFteID4rfiwoXFtcXF0rKSt8Wz4rfl0pKFxzKixccyopPygoPzoufFxyfFxuKSopL2csZT0wLGY9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxoPWZhbHNlLGw9dHJ1ZTtbMCwwXS5zb3J0KGZ1bmN0aW9uKCl7bD1mYWxzZTtyZXR1cm4gMH0pO3ZhciBrPWZ1bmN0aW9uKGcsaSxuLG0pe249bnx8W107dmFyIHA9aT1pfHx0O2lmKGkubm9kZVR5cGUhPT0xJiZpLm5vZGVUeXBlIT09OSlyZXR1cm5bXTtpZighZ3x8dHlwZW9mIGchPT0ic3RyaW5nIilyZXR1cm4gbjt2YXIgcSx1LHksRixNLE49dHJ1ZSxPPWsuaXNYTUwoaSksRD1bXSxSPWc7ZG97ZC5leGVjKCIiKTtpZihxPWQuZXhlYyhSKSl7Uj1xWzNdO0QucHVzaChxWzFdKTtpZihxWzJdKXtGPXFbM107CmJyZWFrfX19d2hpbGUocSk7aWYoRC5sZW5ndGg+MSYmeC5leGVjKGcpKWlmKEQubGVuZ3RoPT09MiYmby5yZWxhdGl2ZVtEWzBdXSl1PUwoRFswXStEWzFdLGkpO2Vsc2UgZm9yKHU9by5yZWxhdGl2ZVtEWzBdXT9baV06ayhELnNoaWZ0KCksaSk7RC5sZW5ndGg7KXtnPUQuc2hpZnQoKTtpZihvLnJlbGF0aXZlW2ddKWcrPUQuc2hpZnQoKTt1PUwoZyx1KX1lbHNle2lmKCFtJiZELmxlbmd0aD4xJiZpLm5vZGVUeXBlPT09OSYmIU8mJm8ubWF0Y2guSUQudGVzdChEWzBdKSYmIW8ubWF0Y2guSUQudGVzdChEW0QubGVuZ3RoLTFdKSl7cT1rLmZpbmQoRC5zaGlmdCgpLGksTyk7aT1xLmV4cHI/ay5maWx0ZXIocS5leHByLHEuc2V0KVswXTpxLnNldFswXX1pZihpKXtxPW0/e2V4cHI6RC5wb3AoKSxzZXQ6QyhtKX06ay5maW5kKEQucG9wKCksRC5sZW5ndGg9PT0xJiYoRFswXT09PSJ+Inx8RFswXT09PSIrIikmJmkucGFyZW50Tm9kZT9pLnBhcmVudE5vZGU6aSxPKTt1PXEuZXhwcj9rLmZpbHRlcihxLmV4cHIsCnEuc2V0KTpxLnNldDtpZihELmxlbmd0aD4wKXk9Qyh1KTtlbHNlIE49ZmFsc2U7Zm9yKDtELmxlbmd0aDspe3E9TT1ELnBvcCgpO2lmKG8ucmVsYXRpdmVbTV0pcT1ELnBvcCgpO2Vsc2UgTT0iIjtpZihxPT1udWxsKXE9aTtvLnJlbGF0aXZlW01dKHkscSxPKX19ZWxzZSB5PVtdfXl8fCh5PXUpO3l8fGsuZXJyb3IoTXx8Zyk7aWYoZi5jYWxsKHkpPT09IltvYmplY3QgQXJyYXldIilpZihOKWlmKGkmJmkubm9kZVR5cGU9PT0xKWZvcihnPTA7eVtnXSE9bnVsbDtnKyspe2lmKHlbZ10mJih5W2ddPT09dHJ1ZXx8eVtnXS5ub2RlVHlwZT09PTEmJmsuY29udGFpbnMoaSx5W2ddKSkpbi5wdXNoKHVbZ10pfWVsc2UgZm9yKGc9MDt5W2ddIT1udWxsO2crKyl5W2ddJiZ5W2ddLm5vZGVUeXBlPT09MSYmbi5wdXNoKHVbZ10pO2Vsc2Ugbi5wdXNoLmFwcGx5KG4seSk7ZWxzZSBDKHksbik7aWYoRil7ayhGLHAsbixtKTtrLnVuaXF1ZVNvcnQobil9cmV0dXJuIG59O2sudW5pcXVlU29ydD1mdW5jdGlvbihnKXtpZih3KXtoPQpsO2cuc29ydCh3KTtpZihoKWZvcih2YXIgaT0xO2k8Zy5sZW5ndGg7aSsrKWdbaV09PT1nW2ktMV0mJmcuc3BsaWNlKGktLSwxKX1yZXR1cm4gZ307ay5tYXRjaGVzPWZ1bmN0aW9uKGcsaSl7cmV0dXJuIGsoZyxudWxsLG51bGwsaSl9O2subWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKGcsaSl7cmV0dXJuIGsoaSxudWxsLG51bGwsW2ddKS5sZW5ndGg+MH07ay5maW5kPWZ1bmN0aW9uKGcsaSxuKXt2YXIgbTtpZighZylyZXR1cm5bXTtmb3IodmFyIHA9MCxxPW8ub3JkZXIubGVuZ3RoO3A8cTtwKyspe3ZhciB1LHk9by5vcmRlcltwXTtpZih1PW8ubGVmdE1hdGNoW3ldLmV4ZWMoZykpe3ZhciBGPXVbMV07dS5zcGxpY2UoMSwxKTtpZihGLnN1YnN0cihGLmxlbmd0aC0xKSE9PSJcXCIpe3VbMV09KHVbMV18fCIiKS5yZXBsYWNlKC9cXC9nLCIiKTttPW8uZmluZFt5XSh1LGksbik7aWYobSE9bnVsbCl7Zz1nLnJlcGxhY2Uoby5tYXRjaFt5XSwiIik7YnJlYWt9fX19bXx8KG09aS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTsKcmV0dXJue3NldDptLGV4cHI6Z319O2suZmlsdGVyPWZ1bmN0aW9uKGcsaSxuLG0pe2Zvcih2YXIgcCxxLHU9Zyx5PVtdLEY9aSxNPWkmJmlbMF0mJmsuaXNYTUwoaVswXSk7ZyYmaS5sZW5ndGg7KXtmb3IodmFyIE4gaW4gby5maWx0ZXIpaWYoKHA9by5sZWZ0TWF0Y2hbTl0uZXhlYyhnKSkhPW51bGwmJnBbMl0pe3ZhciBPLEQsUj1vLmZpbHRlcltOXTtEPXBbMV07cT1mYWxzZTtwLnNwbGljZSgxLDEpO2lmKEQuc3Vic3RyKEQubGVuZ3RoLTEpIT09IlxcIil7aWYoRj09PXkpeT1bXTtpZihvLnByZUZpbHRlcltOXSlpZihwPW8ucHJlRmlsdGVyW05dKHAsRixuLHksbSxNKSl7aWYocD09PXRydWUpY29udGludWV9ZWxzZSBxPU89dHJ1ZTtpZihwKWZvcih2YXIgaj0wOyhEPUZbal0pIT1udWxsO2orKylpZihEKXtPPVIoRCxwLGosRik7dmFyIHM9bV4hIU87aWYobiYmTyE9bnVsbClpZihzKXE9dHJ1ZTtlbHNlIEZbal09ZmFsc2U7ZWxzZSBpZihzKXt5LnB1c2goRCk7cT10cnVlfX1pZihPIT09CkIpe258fChGPXkpO2c9Zy5yZXBsYWNlKG8ubWF0Y2hbTl0sIiIpO2lmKCFxKXJldHVybltdO2JyZWFrfX19aWYoZz09PXUpaWYocT09bnVsbClrLmVycm9yKGcpO2Vsc2UgYnJlYWs7dT1nfXJldHVybiBGfTtrLmVycm9yPWZ1bmN0aW9uKGcpe3Rocm93IlN5bnRheCBlcnJvciwgdW5yZWNvZ25pemVkIGV4cHJlc3Npb246ICIrZzt9O3ZhciBvPWsuc2VsZWN0b3JzPXtvcmRlcjpbIklEIiwiTkFNRSIsIlRBRyJdLG1hdGNoOntJRDovIygoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKS8sQ0xBU1M6L1wuKCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspLyxOQU1FOi9cW25hbWU9WyciXSooKD86W1x3XHUwMGMwLVx1RkZGRlwtXXxcXC4pKylbJyJdKlxdLyxBVFRSOi9cW1xzKigoPzpbXHdcdTAwYzAtXHVGRkZGXC1dfFxcLikrKVxzKig/OihcUz89KVxzKihbJyJdKikoLio/KVwzfClccypcXS8sVEFHOi9eKCg/Oltcd1x1MDBjMC1cdUZGRkZcKlwtXXxcXC4pKykvLENISUxEOi86KG9ubHl8bnRofGxhc3R8Zmlyc3QpLWNoaWxkKD86XCgoZXZlbnxvZGR8W1xkbitcLV0qKVwpKT8vLApQT1M6LzoobnRofGVxfGd0fGx0fGZpcnN0fGxhc3R8ZXZlbnxvZGQpKD86XCgoXGQqKVwpKT8oPz1bXlwtXXwkKS8sUFNFVURPOi86KCg/Oltcd1x1MDBjMC1cdUZGRkZcLV18XFwuKSspKD86XCgoWyciXT8pKCg/OlwoW15cKV0rXCl8W15cKFwpXSopKylcMlwpKT8vfSxsZWZ0TWF0Y2g6e30sYXR0ck1hcDp7ImNsYXNzIjoiY2xhc3NOYW1lIiwiZm9yIjoiaHRtbEZvciJ9LGF0dHJIYW5kbGU6e2hyZWY6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuZ2V0QXR0cmlidXRlKCJocmVmIil9fSxyZWxhdGl2ZTp7IisiOmZ1bmN0aW9uKGcsaSl7dmFyIG49dHlwZW9mIGk9PT0ic3RyaW5nIixtPW4mJiEvXFcvLnRlc3QoaSk7bj1uJiYhbTtpZihtKWk9aS50b0xvd2VyQ2FzZSgpO209MDtmb3IodmFyIHA9Zy5sZW5ndGgscTttPHA7bSsrKWlmKHE9Z1ttXSl7Zm9yKDsocT1xLnByZXZpb3VzU2libGluZykmJnEubm9kZVR5cGUhPT0xOyk7Z1ttXT1ufHxxJiZxLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk9PT0KaT9xfHxmYWxzZTpxPT09aX1uJiZrLmZpbHRlcihpLGcsdHJ1ZSl9LCI+IjpmdW5jdGlvbihnLGkpe3ZhciBuLG09dHlwZW9mIGk9PT0ic3RyaW5nIixwPTAscT1nLmxlbmd0aDtpZihtJiYhL1xXLy50ZXN0KGkpKWZvcihpPWkudG9Mb3dlckNhc2UoKTtwPHE7cCsrKXtpZihuPWdbcF0pe249bi5wYXJlbnROb2RlO2dbcF09bi5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09aT9uOmZhbHNlfX1lbHNle2Zvcig7cDxxO3ArKylpZihuPWdbcF0pZ1twXT1tP24ucGFyZW50Tm9kZTpuLnBhcmVudE5vZGU9PT1pO20mJmsuZmlsdGVyKGksZyx0cnVlKX19LCIiOmZ1bmN0aW9uKGcsaSxuKXt2YXIgbSxwPWUrKyxxPWI7aWYodHlwZW9mIGk9PT0ic3RyaW5nIiYmIS9cVy8udGVzdChpKSl7bT1pPWkudG9Mb3dlckNhc2UoKTtxPWF9cSgicGFyZW50Tm9kZSIsaSxwLGcsbSxuKX0sIn4iOmZ1bmN0aW9uKGcsaSxuKXt2YXIgbSxwPWUrKyxxPWI7aWYodHlwZW9mIGk9PT0ic3RyaW5nIiYmIS9cVy8udGVzdChpKSl7bT0KaT1pLnRvTG93ZXJDYXNlKCk7cT1hfXEoInByZXZpb3VzU2libGluZyIsaSxwLGcsbSxuKX19LGZpbmQ6e0lEOmZ1bmN0aW9uKGcsaSxuKXtpZih0eXBlb2YgaS5nZXRFbGVtZW50QnlJZCE9PSJ1bmRlZmluZWQiJiYhbilyZXR1cm4oZz1pLmdldEVsZW1lbnRCeUlkKGdbMV0pKSYmZy5wYXJlbnROb2RlP1tnXTpbXX0sTkFNRTpmdW5jdGlvbihnLGkpe2lmKHR5cGVvZiBpLmdldEVsZW1lbnRzQnlOYW1lIT09InVuZGVmaW5lZCIpe2Zvcih2YXIgbj1bXSxtPWkuZ2V0RWxlbWVudHNCeU5hbWUoZ1sxXSkscD0wLHE9bS5sZW5ndGg7cDxxO3ArKyltW3BdLmdldEF0dHJpYnV0ZSgibmFtZSIpPT09Z1sxXSYmbi5wdXNoKG1bcF0pO3JldHVybiBuLmxlbmd0aD09PTA/bnVsbDpufX0sVEFHOmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGkuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZ1sxXSl9fSxwcmVGaWx0ZXI6e0NMQVNTOmZ1bmN0aW9uKGcsaSxuLG0scCxxKXtnPSIgIitnWzFdLnJlcGxhY2UoL1xcL2csCiIiKSsiICI7aWYocSlyZXR1cm4gZztxPTA7Zm9yKHZhciB1Oyh1PWlbcV0pIT1udWxsO3ErKylpZih1KWlmKHBeKHUuY2xhc3NOYW1lJiYoIiAiK3UuY2xhc3NOYW1lKyIgIikucmVwbGFjZSgvW1x0XG5dL2csIiAiKS5pbmRleE9mKGcpPj0wKSlufHxtLnB1c2godSk7ZWxzZSBpZihuKWlbcV09ZmFsc2U7cmV0dXJuIGZhbHNlfSxJRDpmdW5jdGlvbihnKXtyZXR1cm4gZ1sxXS5yZXBsYWNlKC9cXC9nLCIiKX0sVEFHOmZ1bmN0aW9uKGcpe3JldHVybiBnWzFdLnRvTG93ZXJDYXNlKCl9LENISUxEOmZ1bmN0aW9uKGcpe2lmKGdbMV09PT0ibnRoIil7dmFyIGk9LygtPykoXGQqKW4oKD86XCt8LSk/XGQqKS8uZXhlYyhnWzJdPT09ImV2ZW4iJiYiMm4ifHxnWzJdPT09Im9kZCImJiIybisxInx8IS9cRC8udGVzdChnWzJdKSYmIjBuKyIrZ1syXXx8Z1syXSk7Z1syXT1pWzFdKyhpWzJdfHwxKS0wO2dbM109aVszXS0wfWdbMF09ZSsrO3JldHVybiBnfSxBVFRSOmZ1bmN0aW9uKGcsaSxuLAptLHAscSl7aT1nWzFdLnJlcGxhY2UoL1xcL2csIiIpO2lmKCFxJiZvLmF0dHJNYXBbaV0pZ1sxXT1vLmF0dHJNYXBbaV07aWYoZ1syXT09PSJ+PSIpZ1s0XT0iICIrZ1s0XSsiICI7cmV0dXJuIGd9LFBTRVVETzpmdW5jdGlvbihnLGksbixtLHApe2lmKGdbMV09PT0ibm90IilpZigoZC5leGVjKGdbM10pfHwiIikubGVuZ3RoPjF8fC9eXHcvLnRlc3QoZ1szXSkpZ1szXT1rKGdbM10sbnVsbCxudWxsLGkpO2Vsc2V7Zz1rLmZpbHRlcihnWzNdLGksbix0cnVlXnApO258fG0ucHVzaC5hcHBseShtLGcpO3JldHVybiBmYWxzZX1lbHNlIGlmKG8ubWF0Y2guUE9TLnRlc3QoZ1swXSl8fG8ubWF0Y2guQ0hJTEQudGVzdChnWzBdKSlyZXR1cm4gdHJ1ZTtyZXR1cm4gZ30sUE9TOmZ1bmN0aW9uKGcpe2cudW5zaGlmdCh0cnVlKTtyZXR1cm4gZ319LGZpbHRlcnM6e2VuYWJsZWQ6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuZGlzYWJsZWQ9PT1mYWxzZSYmZy50eXBlIT09ImhpZGRlbiJ9LGRpc2FibGVkOmZ1bmN0aW9uKGcpe3JldHVybiBnLmRpc2FibGVkPT09CnRydWV9LGNoZWNrZWQ6ZnVuY3Rpb24oZyl7cmV0dXJuIGcuY2hlY2tlZD09PXRydWV9LHNlbGVjdGVkOmZ1bmN0aW9uKGcpe3JldHVybiBnLnNlbGVjdGVkPT09dHJ1ZX0scGFyZW50OmZ1bmN0aW9uKGcpe3JldHVybiEhZy5maXJzdENoaWxkfSxlbXB0eTpmdW5jdGlvbihnKXtyZXR1cm4hZy5maXJzdENoaWxkfSxoYXM6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiEhayhuWzNdLGcpLmxlbmd0aH0saGVhZGVyOmZ1bmN0aW9uKGcpe3JldHVybi9oXGQvaS50ZXN0KGcubm9kZU5hbWUpfSx0ZXh0OmZ1bmN0aW9uKGcpe3JldHVybiJ0ZXh0Ij09PWcudHlwZX0scmFkaW86ZnVuY3Rpb24oZyl7cmV0dXJuInJhZGlvIj09PWcudHlwZX0sY2hlY2tib3g6ZnVuY3Rpb24oZyl7cmV0dXJuImNoZWNrYm94Ij09PWcudHlwZX0sZmlsZTpmdW5jdGlvbihnKXtyZXR1cm4iZmlsZSI9PT1nLnR5cGV9LHBhc3N3b3JkOmZ1bmN0aW9uKGcpe3JldHVybiJwYXNzd29yZCI9PT1nLnR5cGV9LHN1Ym1pdDpmdW5jdGlvbihnKXtyZXR1cm4ic3VibWl0Ij09PQpnLnR5cGV9LGltYWdlOmZ1bmN0aW9uKGcpe3JldHVybiJpbWFnZSI9PT1nLnR5cGV9LHJlc2V0OmZ1bmN0aW9uKGcpe3JldHVybiJyZXNldCI9PT1nLnR5cGV9LGJ1dHRvbjpmdW5jdGlvbihnKXtyZXR1cm4iYnV0dG9uIj09PWcudHlwZXx8Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09ImJ1dHRvbiJ9LGlucHV0OmZ1bmN0aW9uKGcpe3JldHVybi9pbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9uL2kudGVzdChnLm5vZGVOYW1lKX19LHNldEZpbHRlcnM6e2ZpcnN0OmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGk9PT0wfSxsYXN0OmZ1bmN0aW9uKGcsaSxuLG0pe3JldHVybiBpPT09bS5sZW5ndGgtMX0sZXZlbjpmdW5jdGlvbihnLGkpe3JldHVybiBpJTI9PT0wfSxvZGQ6ZnVuY3Rpb24oZyxpKXtyZXR1cm4gaSUyPT09MX0sbHQ6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiBpPG5bM10tMH0sZ3Q6ZnVuY3Rpb24oZyxpLG4pe3JldHVybiBpPm5bM10tMH0sbnRoOmZ1bmN0aW9uKGcsaSxuKXtyZXR1cm4gblszXS0KMD09PWl9LGVxOmZ1bmN0aW9uKGcsaSxuKXtyZXR1cm4gblszXS0wPT09aX19LGZpbHRlcjp7UFNFVURPOmZ1bmN0aW9uKGcsaSxuLG0pe3ZhciBwPWlbMV0scT1vLmZpbHRlcnNbcF07aWYocSlyZXR1cm4gcShnLG4saSxtKTtlbHNlIGlmKHA9PT0iY29udGFpbnMiKXJldHVybihnLnRleHRDb250ZW50fHxnLmlubmVyVGV4dHx8ay5nZXRUZXh0KFtnXSl8fCIiKS5pbmRleE9mKGlbM10pPj0wO2Vsc2UgaWYocD09PSJub3QiKXtpPWlbM107bj0wO2ZvcihtPWkubGVuZ3RoO248bTtuKyspaWYoaVtuXT09PWcpcmV0dXJuIGZhbHNlO3JldHVybiB0cnVlfWVsc2Ugay5lcnJvcigiU3ludGF4IGVycm9yLCB1bnJlY29nbml6ZWQgZXhwcmVzc2lvbjogIitwKX0sQ0hJTEQ6ZnVuY3Rpb24oZyxpKXt2YXIgbj1pWzFdLG09Zztzd2l0Y2gobil7Y2FzZSAib25seSI6Y2FzZSAiZmlyc3QiOmZvcig7bT1tLnByZXZpb3VzU2libGluZzspaWYobS5ub2RlVHlwZT09PTEpcmV0dXJuIGZhbHNlO2lmKG49PT0KImZpcnN0IilyZXR1cm4gdHJ1ZTttPWc7Y2FzZSAibGFzdCI6Zm9yKDttPW0ubmV4dFNpYmxpbmc7KWlmKG0ubm9kZVR5cGU9PT0xKXJldHVybiBmYWxzZTtyZXR1cm4gdHJ1ZTtjYXNlICJudGgiOm49aVsyXTt2YXIgcD1pWzNdO2lmKG49PT0xJiZwPT09MClyZXR1cm4gdHJ1ZTt2YXIgcT1pWzBdLHU9Zy5wYXJlbnROb2RlO2lmKHUmJih1LnNpemNhY2hlIT09cXx8IWcubm9kZUluZGV4KSl7dmFyIHk9MDtmb3IobT11LmZpcnN0Q2hpbGQ7bTttPW0ubmV4dFNpYmxpbmcpaWYobS5ub2RlVHlwZT09PTEpbS5ub2RlSW5kZXg9Kyt5O3Uuc2l6Y2FjaGU9cX1tPWcubm9kZUluZGV4LXA7cmV0dXJuIG49PT0wP209PT0wOm0lbj09PTAmJm0vbj49MH19LElEOmZ1bmN0aW9uKGcsaSl7cmV0dXJuIGcubm9kZVR5cGU9PT0xJiZnLmdldEF0dHJpYnV0ZSgiaWQiKT09PWl9LFRBRzpmdW5jdGlvbihnLGkpe3JldHVybiBpPT09IioiJiZnLm5vZGVUeXBlPT09MXx8Zy5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpPT09Cml9LENMQVNTOmZ1bmN0aW9uKGcsaSl7cmV0dXJuKCIgIisoZy5jbGFzc05hbWV8fGcuZ2V0QXR0cmlidXRlKCJjbGFzcyIpKSsiICIpLmluZGV4T2YoaSk+LTF9LEFUVFI6ZnVuY3Rpb24oZyxpKXt2YXIgbj1pWzFdO249by5hdHRySGFuZGxlW25dP28uYXR0ckhhbmRsZVtuXShnKTpnW25dIT1udWxsP2dbbl06Zy5nZXRBdHRyaWJ1dGUobik7dmFyIG09bisiIixwPWlbMl0scT1pWzRdO3JldHVybiBuPT1udWxsP3A9PT0iIT0iOnA9PT0iPSI/bT09PXE6cD09PSIqPSI/bS5pbmRleE9mKHEpPj0wOnA9PT0ifj0iPygiICIrbSsiICIpLmluZGV4T2YocSk+PTA6IXE/bSYmbiE9PWZhbHNlOnA9PT0iIT0iP20hPT1xOnA9PT0iXj0iP20uaW5kZXhPZihxKT09PTA6cD09PSIkPSI/bS5zdWJzdHIobS5sZW5ndGgtcS5sZW5ndGgpPT09cTpwPT09Inw9Ij9tPT09cXx8bS5zdWJzdHIoMCxxLmxlbmd0aCsxKT09PXErIi0iOmZhbHNlfSxQT1M6ZnVuY3Rpb24oZyxpLG4sbSl7dmFyIHA9by5zZXRGaWx0ZXJzW2lbMl1dOwppZihwKXJldHVybiBwKGcsbixpLG0pfX19LHg9by5tYXRjaC5QT1Mscj1mdW5jdGlvbihnLGkpe3JldHVybiJcXCIrKGktMCsxKX0sQTtmb3IoQSBpbiBvLm1hdGNoKXtvLm1hdGNoW0FdPVJlZ0V4cChvLm1hdGNoW0FdLnNvdXJjZSsvKD8hW15cW10qXF0pKD8hW15cKF0qXCkpLy5zb3VyY2UpO28ubGVmdE1hdGNoW0FdPVJlZ0V4cCgvKF4oPzoufFxyfFxuKSo/KS8uc291cmNlK28ubWF0Y2hbQV0uc291cmNlLnJlcGxhY2UoL1xcKFxkKykvZyxyKSl9dmFyIEM9ZnVuY3Rpb24oZyxpKXtnPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGcsMCk7aWYoaSl7aS5wdXNoLmFwcGx5KGksZyk7cmV0dXJuIGl9cmV0dXJuIGd9O3RyeXtBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbCh0LmRvY3VtZW50RWxlbWVudC5jaGlsZE5vZGVzLDApfWNhdGNoKEope0M9ZnVuY3Rpb24oZyxpKXt2YXIgbj0wLG09aXx8W107aWYoZi5jYWxsKGcpPT09IltvYmplY3QgQXJyYXldIilBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShtLApnKTtlbHNlIGlmKHR5cGVvZiBnLmxlbmd0aD09PSJudW1iZXIiKWZvcih2YXIgcD1nLmxlbmd0aDtuPHA7bisrKW0ucHVzaChnW25dKTtlbHNlIGZvcig7Z1tuXTtuKyspbS5wdXNoKGdbbl0pO3JldHVybiBtfX12YXIgdyxJO2lmKHQuZG9jdW1lbnRFbGVtZW50LmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKXc9ZnVuY3Rpb24oZyxpKXtpZihnPT09aSl7aD10cnVlO3JldHVybiAwfWlmKCFnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9ufHwhaS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbilyZXR1cm4gZy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbj8tMToxO3JldHVybiBnLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGkpJjQ/LTE6MX07ZWxzZXt3PWZ1bmN0aW9uKGcsaSl7dmFyIG4sbSxwPVtdLHE9W107bj1nLnBhcmVudE5vZGU7bT1pLnBhcmVudE5vZGU7dmFyIHU9bjtpZihnPT09aSl7aD10cnVlO3JldHVybiAwfWVsc2UgaWYobj09PW0pcmV0dXJuIEkoZyxpKTtlbHNlIGlmKG4pe2lmKCFtKXJldHVybiAxfWVsc2UgcmV0dXJuLTE7CmZvcig7dTspe3AudW5zaGlmdCh1KTt1PXUucGFyZW50Tm9kZX1mb3IodT1tO3U7KXtxLnVuc2hpZnQodSk7dT11LnBhcmVudE5vZGV9bj1wLmxlbmd0aDttPXEubGVuZ3RoO2Zvcih1PTA7dTxuJiZ1PG07dSsrKWlmKHBbdV0hPT1xW3VdKXJldHVybiBJKHBbdV0scVt1XSk7cmV0dXJuIHU9PT1uP0koZyxxW3VdLC0xKTpJKHBbdV0saSwxKX07ST1mdW5jdGlvbihnLGksbil7aWYoZz09PWkpcmV0dXJuIG47Zm9yKGc9Zy5uZXh0U2libGluZztnOyl7aWYoZz09PWkpcmV0dXJuLTE7Zz1nLm5leHRTaWJsaW5nfXJldHVybiAxfX1rLmdldFRleHQ9ZnVuY3Rpb24oZyl7Zm9yKHZhciBpPSIiLG4sbT0wO2dbbV07bSsrKXtuPWdbbV07aWYobi5ub2RlVHlwZT09PTN8fG4ubm9kZVR5cGU9PT00KWkrPW4ubm9kZVZhbHVlO2Vsc2UgaWYobi5ub2RlVHlwZSE9PTgpaSs9ay5nZXRUZXh0KG4uY2hpbGROb2Rlcyl9cmV0dXJuIGl9OyhmdW5jdGlvbigpe3ZhciBnPXQuY3JlYXRlRWxlbWVudCgiZGl2IiksCmk9InNjcmlwdCIrKG5ldyBEYXRlKS5nZXRUaW1lKCksbj10LmRvY3VtZW50RWxlbWVudDtnLmlubmVySFRNTD0iPGEgbmFtZT0nIitpKyInLz4iO24uaW5zZXJ0QmVmb3JlKGcsbi5maXJzdENoaWxkKTtpZih0LmdldEVsZW1lbnRCeUlkKGkpKXtvLmZpbmQuSUQ9ZnVuY3Rpb24obSxwLHEpe2lmKHR5cGVvZiBwLmdldEVsZW1lbnRCeUlkIT09InVuZGVmaW5lZCImJiFxKXJldHVybihwPXAuZ2V0RWxlbWVudEJ5SWQobVsxXSkpP3AuaWQ9PT1tWzFdfHx0eXBlb2YgcC5nZXRBdHRyaWJ1dGVOb2RlIT09InVuZGVmaW5lZCImJnAuZ2V0QXR0cmlidXRlTm9kZSgiaWQiKS5ub2RlVmFsdWU9PT1tWzFdP1twXTpCOltdfTtvLmZpbHRlci5JRD1mdW5jdGlvbihtLHApe3ZhciBxPXR5cGVvZiBtLmdldEF0dHJpYnV0ZU5vZGUhPT0idW5kZWZpbmVkIiYmbS5nZXRBdHRyaWJ1dGVOb2RlKCJpZCIpO3JldHVybiBtLm5vZGVUeXBlPT09MSYmcSYmcS5ub2RlVmFsdWU9PT1wfX1uLnJlbW92ZUNoaWxkKGcpOwpuPWc9bnVsbH0pKCk7KGZ1bmN0aW9uKCl7dmFyIGc9dC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmFwcGVuZENoaWxkKHQuY3JlYXRlQ29tbWVudCgiIikpO2lmKGcuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKS5sZW5ndGg+MClvLmZpbmQuVEFHPWZ1bmN0aW9uKGksbil7dmFyIG09bi5nZXRFbGVtZW50c0J5VGFnTmFtZShpWzFdKTtpZihpWzFdPT09IioiKXtmb3IodmFyIHA9W10scT0wO21bcV07cSsrKW1bcV0ubm9kZVR5cGU9PT0xJiZwLnB1c2gobVtxXSk7bT1wfXJldHVybiBtfTtnLmlubmVySFRNTD0iPGEgaHJlZj0nIyc+PC9hPiI7aWYoZy5maXJzdENoaWxkJiZ0eXBlb2YgZy5maXJzdENoaWxkLmdldEF0dHJpYnV0ZSE9PSJ1bmRlZmluZWQiJiZnLmZpcnN0Q2hpbGQuZ2V0QXR0cmlidXRlKCJocmVmIikhPT0iIyIpby5hdHRySGFuZGxlLmhyZWY9ZnVuY3Rpb24oaSl7cmV0dXJuIGkuZ2V0QXR0cmlidXRlKCJocmVmIiwyKX07Zz1udWxsfSkoKTt0LnF1ZXJ5U2VsZWN0b3JBbGwmJgpmdW5jdGlvbigpe3ZhciBnPWssaT10LmNyZWF0ZUVsZW1lbnQoImRpdiIpO2kuaW5uZXJIVE1MPSI8cCBjbGFzcz0nVEVTVCc+PC9wPiI7aWYoIShpLnF1ZXJ5U2VsZWN0b3JBbGwmJmkucXVlcnlTZWxlY3RvckFsbCgiLlRFU1QiKS5sZW5ndGg9PT0wKSl7az1mdW5jdGlvbihtLHAscSx1KXtwPXB8fHQ7bT1tLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCF1JiYhay5pc1hNTChwKSlpZihwLm5vZGVUeXBlPT09OSl0cnl7cmV0dXJuIEMocC5xdWVyeVNlbGVjdG9yQWxsKG0pLHEpfWNhdGNoKHkpe31lbHNlIGlmKHAubm9kZVR5cGU9PT0xJiZwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkhPT0ib2JqZWN0Iil7dmFyIEY9cC5nZXRBdHRyaWJ1dGUoImlkIiksTT1GfHwiX19zaXp6bGVfXyI7Rnx8cC5zZXRBdHRyaWJ1dGUoImlkIixNKTt0cnl7cmV0dXJuIEMocC5xdWVyeVNlbGVjdG9yQWxsKCIjIitNKyIgIittKSxxKX1jYXRjaChOKXt9ZmluYWxseXtGfHwKcC5yZW1vdmVBdHRyaWJ1dGUoImlkIil9fXJldHVybiBnKG0scCxxLHUpfTtmb3IodmFyIG4gaW4gZylrW25dPWdbbl07aT1udWxsfX0oKTsoZnVuY3Rpb24oKXt2YXIgZz10LmRvY3VtZW50RWxlbWVudCxpPWcubWF0Y2hlc1NlbGVjdG9yfHxnLm1vek1hdGNoZXNTZWxlY3Rvcnx8Zy53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGcubXNNYXRjaGVzU2VsZWN0b3Isbj1mYWxzZTt0cnl7aS5jYWxsKHQuZG9jdW1lbnRFbGVtZW50LCJbdGVzdCE9JyddOnNpenpsZSIpfWNhdGNoKG0pe249dHJ1ZX1pZihpKWsubWF0Y2hlc1NlbGVjdG9yPWZ1bmN0aW9uKHAscSl7cT1xLnJlcGxhY2UoL1w9XHMqKFteJyJcXV0qKVxzKlxdL2csIj0nJDEnXSIpO2lmKCFrLmlzWE1MKHApKXRyeXtpZihufHwhby5tYXRjaC5QU0VVRE8udGVzdChxKSYmIS8hPS8udGVzdChxKSlyZXR1cm4gaS5jYWxsKHAscSl9Y2F0Y2godSl7fXJldHVybiBrKHEsbnVsbCxudWxsLFtwXSkubGVuZ3RoPjB9fSkoKTsoZnVuY3Rpb24oKXt2YXIgZz0KdC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmlubmVySFRNTD0iPGRpdiBjbGFzcz0ndGVzdCBlJz48L2Rpdj48ZGl2IGNsYXNzPSd0ZXN0Jz48L2Rpdj4iO2lmKCEoIWcuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZXx8Zy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoPT09MCkpe2cubGFzdENoaWxkLmNsYXNzTmFtZT0iZSI7aWYoZy5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCJlIikubGVuZ3RoIT09MSl7by5vcmRlci5zcGxpY2UoMSwwLCJDTEFTUyIpO28uZmluZC5DTEFTUz1mdW5jdGlvbihpLG4sbSl7aWYodHlwZW9mIG4uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSE9PSJ1bmRlZmluZWQiJiYhbSlyZXR1cm4gbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGlbMV0pfTtnPW51bGx9fX0pKCk7ay5jb250YWlucz10LmRvY3VtZW50RWxlbWVudC5jb250YWlucz9mdW5jdGlvbihnLGkpe3JldHVybiBnIT09aSYmKGcuY29udGFpbnM/Zy5jb250YWlucyhpKTp0cnVlKX06dC5kb2N1bWVudEVsZW1lbnQuY29tcGFyZURvY3VtZW50UG9zaXRpb24/CmZ1bmN0aW9uKGcsaSl7cmV0dXJuISEoZy5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbihpKSYxNil9OmZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlfTtrLmlzWE1MPWZ1bmN0aW9uKGcpe3JldHVybihnPShnP2cub3duZXJEb2N1bWVudHx8ZzowKS5kb2N1bWVudEVsZW1lbnQpP2cubm9kZU5hbWUhPT0iSFRNTCI6ZmFsc2V9O3ZhciBMPWZ1bmN0aW9uKGcsaSl7Zm9yKHZhciBuLG09W10scD0iIixxPWkubm9kZVR5cGU/W2ldOmk7bj1vLm1hdGNoLlBTRVVETy5leGVjKGcpOyl7cCs9blswXTtnPWcucmVwbGFjZShvLm1hdGNoLlBTRVVETywiIil9Zz1vLnJlbGF0aXZlW2ddP2crIioiOmc7bj0wO2Zvcih2YXIgdT1xLmxlbmd0aDtuPHU7bisrKWsoZyxxW25dLG0pO3JldHVybiBrLmZpbHRlcihwLG0pfTtjLmZpbmQ9aztjLmV4cHI9ay5zZWxlY3RvcnM7Yy5leHByWyI6Il09Yy5leHByLmZpbHRlcnM7Yy51bmlxdWU9ay51bmlxdWVTb3J0O2MudGV4dD1rLmdldFRleHQ7Yy5pc1hNTERvYz1rLmlzWE1MOwpjLmNvbnRhaW5zPWsuY29udGFpbnN9KSgpO3ZhciBaYT0vVW50aWwkLywkYT0vXig/OnBhcmVudHN8cHJldlVudGlsfHByZXZBbGwpLyxhYj0vLC8sTmE9L14uW146I1xbXC4sXSokLyxiYj1BcnJheS5wcm90b3R5cGUuc2xpY2UsY2I9Yy5leHByLm1hdGNoLlBPUztjLmZuLmV4dGVuZCh7ZmluZDpmdW5jdGlvbihhKXtmb3IodmFyIGI9dGhpcy5wdXNoU3RhY2soIiIsImZpbmQiLGEpLGQ9MCxlPTAsZj10aGlzLmxlbmd0aDtlPGY7ZSsrKXtkPWIubGVuZ3RoO2MuZmluZChhLHRoaXNbZV0sYik7aWYoZT4wKWZvcih2YXIgaD1kO2g8Yi5sZW5ndGg7aCsrKWZvcih2YXIgbD0wO2w8ZDtsKyspaWYoYltsXT09PWJbaF0pe2Iuc3BsaWNlKGgtLSwxKTticmVha319cmV0dXJuIGJ9LGhhczpmdW5jdGlvbihhKXt2YXIgYj1jKGEpO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbigpe2Zvcih2YXIgZD0wLGU9Yi5sZW5ndGg7ZDxlO2QrKylpZihjLmNvbnRhaW5zKHRoaXMsYltkXSkpcmV0dXJuIHRydWV9KX0sCm5vdDpmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5wdXNoU3RhY2sobWEodGhpcyxhLGZhbHNlKSwibm90IixhKX0sZmlsdGVyOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnB1c2hTdGFjayhtYSh0aGlzLGEsdHJ1ZSksImZpbHRlciIsYSl9LGlzOmZ1bmN0aW9uKGEpe3JldHVybiEhYSYmYy5maWx0ZXIoYSx0aGlzKS5sZW5ndGg+MH0sY2xvc2VzdDpmdW5jdGlvbihhLGIpe3ZhciBkPVtdLGUsZixoPXRoaXNbMF07aWYoYy5pc0FycmF5KGEpKXt2YXIgbCxrPXt9LG89MTtpZihoJiZhLmxlbmd0aCl7ZT0wO2ZvcihmPWEubGVuZ3RoO2U8ZjtlKyspe2w9YVtlXTtrW2xdfHwoa1tsXT1jLmV4cHIubWF0Y2guUE9TLnRlc3QobCk/YyhsLGJ8fHRoaXMuY29udGV4dCk6bCl9Zm9yKDtoJiZoLm93bmVyRG9jdW1lbnQmJmghPT1iOyl7Zm9yKGwgaW4gayl7ZT1rW2xdO2lmKGUuanF1ZXJ5P2UuaW5kZXgoaCk+LTE6YyhoKS5pcyhlKSlkLnB1c2goe3NlbGVjdG9yOmwsZWxlbTpoLGxldmVsOm99KX1oPQpoLnBhcmVudE5vZGU7bysrfX1yZXR1cm4gZH1sPWNiLnRlc3QoYSk/YyhhLGJ8fHRoaXMuY29udGV4dCk6bnVsbDtlPTA7Zm9yKGY9dGhpcy5sZW5ndGg7ZTxmO2UrKylmb3IoaD10aGlzW2VdO2g7KWlmKGw/bC5pbmRleChoKT4tMTpjLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGgsYSkpe2QucHVzaChoKTticmVha31lbHNle2g9aC5wYXJlbnROb2RlO2lmKCFofHwhaC5vd25lckRvY3VtZW50fHxoPT09YilicmVha31kPWQubGVuZ3RoPjE/Yy51bmlxdWUoZCk6ZDtyZXR1cm4gdGhpcy5wdXNoU3RhY2soZCwiY2xvc2VzdCIsYSl9LGluZGV4OmZ1bmN0aW9uKGEpe2lmKCFhfHx0eXBlb2YgYT09PSJzdHJpbmciKXJldHVybiBjLmluQXJyYXkodGhpc1swXSxhP2MoYSk6dGhpcy5wYXJlbnQoKS5jaGlsZHJlbigpKTtyZXR1cm4gYy5pbkFycmF5KGEuanF1ZXJ5P2FbMF06YSx0aGlzKX0sYWRkOmZ1bmN0aW9uKGEsYil7dmFyIGQ9dHlwZW9mIGE9PT0ic3RyaW5nIj9jKGEsYnx8dGhpcy5jb250ZXh0KToKYy5tYWtlQXJyYXkoYSksZT1jLm1lcmdlKHRoaXMuZ2V0KCksZCk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKCFkWzBdfHwhZFswXS5wYXJlbnROb2RlfHxkWzBdLnBhcmVudE5vZGUubm9kZVR5cGU9PT0xMXx8IWVbMF18fCFlWzBdLnBhcmVudE5vZGV8fGVbMF0ucGFyZW50Tm9kZS5ub2RlVHlwZT09PTExP2U6Yy51bmlxdWUoZSkpfSxhbmRTZWxmOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYWRkKHRoaXMucHJldk9iamVjdCl9fSk7Yy5lYWNoKHtwYXJlbnQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9YS5wYXJlbnROb2RlKSYmYS5ub2RlVHlwZSE9PTExP2E6bnVsbH0scGFyZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwicGFyZW50Tm9kZSIpfSxwYXJlbnRzVW50aWw6ZnVuY3Rpb24oYSxiLGQpe3JldHVybiBjLmRpcihhLCJwYXJlbnROb2RlIixkKX0sbmV4dDpmdW5jdGlvbihhKXtyZXR1cm4gYy5udGgoYSwyLCJuZXh0U2libGluZyIpfSxwcmV2OmZ1bmN0aW9uKGEpe3JldHVybiBjLm50aChhLAoyLCJwcmV2aW91c1NpYmxpbmciKX0sbmV4dEFsbDpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwibmV4dFNpYmxpbmciKX0scHJldkFsbDpmdW5jdGlvbihhKXtyZXR1cm4gYy5kaXIoYSwicHJldmlvdXNTaWJsaW5nIil9LG5leHRVbnRpbDpmdW5jdGlvbihhLGIsZCl7cmV0dXJuIGMuZGlyKGEsIm5leHRTaWJsaW5nIixkKX0scHJldlVudGlsOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYy5kaXIoYSwicHJldmlvdXNTaWJsaW5nIixkKX0sc2libGluZ3M6ZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2libGluZyhhLnBhcmVudE5vZGUuZmlyc3RDaGlsZCxhKX0sY2hpbGRyZW46ZnVuY3Rpb24oYSl7cmV0dXJuIGMuc2libGluZyhhLmZpcnN0Q2hpbGQpfSxjb250ZW50czpmdW5jdGlvbihhKXtyZXR1cm4gYy5ub2RlTmFtZShhLCJpZnJhbWUiKT9hLmNvbnRlbnREb2N1bWVudHx8YS5jb250ZW50V2luZG93LmRvY3VtZW50OmMubWFrZUFycmF5KGEuY2hpbGROb2Rlcyl9fSxmdW5jdGlvbihhLApiKXtjLmZuW2FdPWZ1bmN0aW9uKGQsZSl7dmFyIGY9Yy5tYXAodGhpcyxiLGQpO1phLnRlc3QoYSl8fChlPWQpO2lmKGUmJnR5cGVvZiBlPT09InN0cmluZyIpZj1jLmZpbHRlcihlLGYpO2Y9dGhpcy5sZW5ndGg+MT9jLnVuaXF1ZShmKTpmO2lmKCh0aGlzLmxlbmd0aD4xfHxhYi50ZXN0KGUpKSYmJGEudGVzdChhKSlmPWYucmV2ZXJzZSgpO3JldHVybiB0aGlzLnB1c2hTdGFjayhmLGEsYmIuY2FsbChhcmd1bWVudHMpLmpvaW4oIiwiKSl9fSk7Yy5leHRlbmQoe2ZpbHRlcjpmdW5jdGlvbihhLGIsZCl7aWYoZClhPSI6bm90KCIrYSsiKSI7cmV0dXJuIGIubGVuZ3RoPT09MT9jLmZpbmQubWF0Y2hlc1NlbGVjdG9yKGJbMF0sYSk/W2JbMF1dOltdOmMuZmluZC5tYXRjaGVzKGEsYil9LGRpcjpmdW5jdGlvbihhLGIsZCl7dmFyIGU9W107Zm9yKGE9YVtiXTthJiZhLm5vZGVUeXBlIT09OSYmKGQ9PT1CfHxhLm5vZGVUeXBlIT09MXx8IWMoYSkuaXMoZCkpOyl7YS5ub2RlVHlwZT09PTEmJgplLnB1c2goYSk7YT1hW2JdfXJldHVybiBlfSxudGg6ZnVuY3Rpb24oYSxiLGQpe2I9Ynx8MTtmb3IodmFyIGU9MDthO2E9YVtkXSlpZihhLm5vZGVUeXBlPT09MSYmKytlPT09YilicmVhaztyZXR1cm4gYX0sc2libGluZzpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD1bXTthO2E9YS5uZXh0U2libGluZylhLm5vZGVUeXBlPT09MSYmYSE9PWImJmQucHVzaChhKTtyZXR1cm4gZH19KTt2YXIgemE9LyBqUXVlcnlcZCs9Iig/OlxkK3xudWxsKSIvZywkPS9eXHMrLyxBYT0vPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXHc6XSspW14+XSopXC8+L2lnLEJhPS88KFtcdzpdKykvLGRiPS88dGJvZHkvaSxlYj0vPHwmIz9cdys7LyxDYT0vPCg/OnNjcmlwdHxvYmplY3R8ZW1iZWR8b3B0aW9ufHN0eWxlKS9pLERhPS9jaGVja2VkXHMqKD86W149XXw9XHMqLmNoZWNrZWQuKS9pLGZiPS9cPShbXj0iJz5cc10rXC8pPi9nLFA9e29wdGlvbjpbMSwKIjxzZWxlY3QgbXVsdGlwbGU9J211bHRpcGxlJz4iLCI8L3NlbGVjdD4iXSxsZWdlbmQ6WzEsIjxmaWVsZHNldD4iLCI8L2ZpZWxkc2V0PiJdLHRoZWFkOlsxLCI8dGFibGU+IiwiPC90YWJsZT4iXSx0cjpbMiwiPHRhYmxlPjx0Ym9keT4iLCI8L3Rib2R5PjwvdGFibGU+Il0sdGQ6WzMsIjx0YWJsZT48dGJvZHk+PHRyPiIsIjwvdHI+PC90Ym9keT48L3RhYmxlPiJdLGNvbDpbMiwiPHRhYmxlPjx0Ym9keT48L3Rib2R5Pjxjb2xncm91cD4iLCI8L2NvbGdyb3VwPjwvdGFibGU+Il0sYXJlYTpbMSwiPG1hcD4iLCI8L21hcD4iXSxfZGVmYXVsdDpbMCwiIiwiIl19O1Aub3B0Z3JvdXA9UC5vcHRpb247UC50Ym9keT1QLnRmb290PVAuY29sZ3JvdXA9UC5jYXB0aW9uPVAudGhlYWQ7UC50aD1QLnRkO2lmKCFjLnN1cHBvcnQuaHRtbFNlcmlhbGl6ZSlQLl9kZWZhdWx0PVsxLCJkaXY8ZGl2PiIsIjwvZGl2PiJdO2MuZm4uZXh0ZW5kKHt0ZXh0OmZ1bmN0aW9uKGEpe2lmKGMuaXNGdW5jdGlvbihhKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGIpe3ZhciBkPQpjKHRoaXMpO2QudGV4dChhLmNhbGwodGhpcyxiLGQudGV4dCgpKSl9KTtpZih0eXBlb2YgYSE9PSJvYmplY3QiJiZhIT09QilyZXR1cm4gdGhpcy5lbXB0eSgpLmFwcGVuZCgodGhpc1swXSYmdGhpc1swXS5vd25lckRvY3VtZW50fHx0KS5jcmVhdGVUZXh0Tm9kZShhKSk7cmV0dXJuIGMudGV4dCh0aGlzKX0sd3JhcEFsbDpmdW5jdGlvbihhKXtpZihjLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihkKXtjKHRoaXMpLndyYXBBbGwoYS5jYWxsKHRoaXMsZCkpfSk7aWYodGhpc1swXSl7dmFyIGI9YyhhLHRoaXNbMF0ub3duZXJEb2N1bWVudCkuZXEoMCkuY2xvbmUodHJ1ZSk7dGhpc1swXS5wYXJlbnROb2RlJiZiLmluc2VydEJlZm9yZSh0aGlzWzBdKTtiLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgZD10aGlzO2QuZmlyc3RDaGlsZCYmZC5maXJzdENoaWxkLm5vZGVUeXBlPT09MTspZD1kLmZpcnN0Q2hpbGQ7cmV0dXJuIGR9KS5hcHBlbmQodGhpcyl9cmV0dXJuIHRoaXN9LAp3cmFwSW5uZXI6ZnVuY3Rpb24oYSl7aWYoYy5pc0Z1bmN0aW9uKGEpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oYil7Yyh0aGlzKS53cmFwSW5uZXIoYS5jYWxsKHRoaXMsYikpfSk7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBiPWModGhpcyksZD1iLmNvbnRlbnRzKCk7ZC5sZW5ndGg/ZC53cmFwQWxsKGEpOmIuYXBwZW5kKGEpfSl9LHdyYXA6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2ModGhpcykud3JhcEFsbChhKX0pfSx1bndyYXA6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wYXJlbnQoKS5lYWNoKGZ1bmN0aW9uKCl7Yy5ub2RlTmFtZSh0aGlzLCJib2R5Iil8fGModGhpcykucmVwbGFjZVdpdGgodGhpcy5jaGlsZE5vZGVzKX0pLmVuZCgpfSxhcHBlbmQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5kb21NYW5pcChhcmd1bWVudHMsdHJ1ZSxmdW5jdGlvbihhKXt0aGlzLm5vZGVUeXBlPT09MSYmdGhpcy5hcHBlbmRDaGlsZChhKX0pfSwKcHJlcGVuZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyx0cnVlLGZ1bmN0aW9uKGEpe3RoaXMubm9kZVR5cGU9PT0xJiZ0aGlzLmluc2VydEJlZm9yZShhLHRoaXMuZmlyc3RDaGlsZCl9KX0sYmVmb3JlOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmYWxzZSxmdW5jdGlvbihiKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsdGhpcyl9KTtlbHNlIGlmKGFyZ3VtZW50cy5sZW5ndGgpe3ZhciBhPWMoYXJndW1lbnRzWzBdKTthLnB1c2guYXBwbHkoYSx0aGlzLnRvQXJyYXkoKSk7cmV0dXJuIHRoaXMucHVzaFN0YWNrKGEsImJlZm9yZSIsYXJndW1lbnRzKX19LGFmdGVyOmZ1bmN0aW9uKCl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXJldHVybiB0aGlzLmRvbU1hbmlwKGFyZ3VtZW50cyxmYWxzZSxmdW5jdGlvbihiKXt0aGlzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGIsCnRoaXMubmV4dFNpYmxpbmcpfSk7ZWxzZSBpZihhcmd1bWVudHMubGVuZ3RoKXt2YXIgYT10aGlzLnB1c2hTdGFjayh0aGlzLCJhZnRlciIsYXJndW1lbnRzKTthLnB1c2guYXBwbHkoYSxjKGFyZ3VtZW50c1swXSkudG9BcnJheSgpKTtyZXR1cm4gYX19LHJlbW92ZTpmdW5jdGlvbihhLGIpe2Zvcih2YXIgZD0wLGU7KGU9dGhpc1tkXSkhPW51bGw7ZCsrKWlmKCFhfHxjLmZpbHRlcihhLFtlXSkubGVuZ3RoKXtpZighYiYmZS5ub2RlVHlwZT09PTEpe2MuY2xlYW5EYXRhKGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSk7Yy5jbGVhbkRhdGEoW2VdKX1lLnBhcmVudE5vZGUmJmUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlKX1yZXR1cm4gdGhpc30sZW1wdHk6ZnVuY3Rpb24oKXtmb3IodmFyIGE9MCxiOyhiPXRoaXNbYV0pIT1udWxsO2ErKylmb3IoYi5ub2RlVHlwZT09PTEmJmMuY2xlYW5EYXRhKGIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIioiKSk7Yi5maXJzdENoaWxkOyliLnJlbW92ZUNoaWxkKGIuZmlyc3RDaGlsZCk7CnJldHVybiB0aGlzfSxjbG9uZTpmdW5jdGlvbihhKXt2YXIgYj10aGlzLm1hcChmdW5jdGlvbigpe2lmKCFjLnN1cHBvcnQubm9DbG9uZUV2ZW50JiYhYy5pc1hNTERvYyh0aGlzKSl7dmFyIGQ9dGhpcy5vdXRlckhUTUwsZT10aGlzLm93bmVyRG9jdW1lbnQ7aWYoIWQpe2Q9ZS5jcmVhdGVFbGVtZW50KCJkaXYiKTtkLmFwcGVuZENoaWxkKHRoaXMuY2xvbmVOb2RlKHRydWUpKTtkPWQuaW5uZXJIVE1MfXJldHVybiBjLmNsZWFuKFtkLnJlcGxhY2UoemEsIiIpLnJlcGxhY2UoZmIsJz0iJDEiPicpLnJlcGxhY2UoJCwiIildLGUpWzBdfWVsc2UgcmV0dXJuIHRoaXMuY2xvbmVOb2RlKHRydWUpfSk7aWYoYT09PXRydWUpe25hKHRoaXMsYik7bmEodGhpcy5maW5kKCIqIiksYi5maW5kKCIqIikpfXJldHVybiBifSxodG1sOmZ1bmN0aW9uKGEpe2lmKGE9PT1CKXJldHVybiB0aGlzWzBdJiZ0aGlzWzBdLm5vZGVUeXBlPT09MT90aGlzWzBdLmlubmVySFRNTC5yZXBsYWNlKHphLCIiKTpudWxsOwplbHNlIGlmKHR5cGVvZiBhPT09InN0cmluZyImJiFDYS50ZXN0KGEpJiYoYy5zdXBwb3J0LmxlYWRpbmdXaGl0ZXNwYWNlfHwhJC50ZXN0KGEpKSYmIVBbKEJhLmV4ZWMoYSl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCldKXthPWEucmVwbGFjZShBYSwiPCQxPjwvJDI+Iik7dHJ5e2Zvcih2YXIgYj0wLGQ9dGhpcy5sZW5ndGg7YjxkO2IrKylpZih0aGlzW2JdLm5vZGVUeXBlPT09MSl7Yy5jbGVhbkRhdGEodGhpc1tiXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgiKiIpKTt0aGlzW2JdLmlubmVySFRNTD1hfX1jYXRjaChlKXt0aGlzLmVtcHR5KCkuYXBwZW5kKGEpfX1lbHNlIGMuaXNGdW5jdGlvbihhKT90aGlzLmVhY2goZnVuY3Rpb24oZil7dmFyIGg9Yyh0aGlzKTtoLmh0bWwoYS5jYWxsKHRoaXMsZixoLmh0bWwoKSkpfSk6dGhpcy5lbXB0eSgpLmFwcGVuZChhKTtyZXR1cm4gdGhpc30scmVwbGFjZVdpdGg6ZnVuY3Rpb24oYSl7aWYodGhpc1swXSYmdGhpc1swXS5wYXJlbnROb2RlKXtpZihjLmlzRnVuY3Rpb24oYSkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihiKXt2YXIgZD0KYyh0aGlzKSxlPWQuaHRtbCgpO2QucmVwbGFjZVdpdGgoYS5jYWxsKHRoaXMsYixlKSl9KTtpZih0eXBlb2YgYSE9PSJzdHJpbmciKWE9YyhhKS5kZXRhY2goKTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGI9dGhpcy5uZXh0U2libGluZyxkPXRoaXMucGFyZW50Tm9kZTtjKHRoaXMpLnJlbW92ZSgpO2I/YyhiKS5iZWZvcmUoYSk6YyhkKS5hcHBlbmQoYSl9KX1lbHNlIHJldHVybiB0aGlzLnB1c2hTdGFjayhjKGMuaXNGdW5jdGlvbihhKT9hKCk6YSksInJlcGxhY2VXaXRoIixhKX0sZGV0YWNoOmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnJlbW92ZShhLHRydWUpfSxkb21NYW5pcDpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZixoLGw9YVswXSxrPVtdO2lmKCFjLnN1cHBvcnQuY2hlY2tDbG9uZSYmYXJndW1lbnRzLmxlbmd0aD09PTMmJnR5cGVvZiBsPT09InN0cmluZyImJkRhLnRlc3QobCkpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpe2ModGhpcykuZG9tTWFuaXAoYSwKYixkLHRydWUpfSk7aWYoYy5pc0Z1bmN0aW9uKGwpKXJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oeCl7dmFyIHI9Yyh0aGlzKTthWzBdPWwuY2FsbCh0aGlzLHgsYj9yLmh0bWwoKTpCKTtyLmRvbU1hbmlwKGEsYixkKX0pO2lmKHRoaXNbMF0pe2U9bCYmbC5wYXJlbnROb2RlO2U9Yy5zdXBwb3J0LnBhcmVudE5vZGUmJmUmJmUubm9kZVR5cGU9PT0xMSYmZS5jaGlsZE5vZGVzLmxlbmd0aD09PXRoaXMubGVuZ3RoP3tmcmFnbWVudDplfTpjLmJ1aWxkRnJhZ21lbnQoYSx0aGlzLGspO2g9ZS5mcmFnbWVudDtpZihmPWguY2hpbGROb2Rlcy5sZW5ndGg9PT0xP2g9aC5maXJzdENoaWxkOmguZmlyc3RDaGlsZCl7Yj1iJiZjLm5vZGVOYW1lKGYsInRyIik7Zj0wO2Zvcih2YXIgbz10aGlzLmxlbmd0aDtmPG87ZisrKWQuY2FsbChiP2Mubm9kZU5hbWUodGhpc1tmXSwidGFibGUiKT90aGlzW2ZdLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJ0Ym9keSIpWzBdfHx0aGlzW2ZdLmFwcGVuZENoaWxkKHRoaXNbZl0ub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCJ0Ym9keSIpKToKdGhpc1tmXTp0aGlzW2ZdLGY+MHx8ZS5jYWNoZWFibGV8fHRoaXMubGVuZ3RoPjE/aC5jbG9uZU5vZGUodHJ1ZSk6aCl9ay5sZW5ndGgmJmMuZWFjaChrLE9hKX1yZXR1cm4gdGhpc319KTtjLmJ1aWxkRnJhZ21lbnQ9ZnVuY3Rpb24oYSxiLGQpe3ZhciBlLGYsaDtiPWImJmJbMF0/YlswXS5vd25lckRvY3VtZW50fHxiWzBdOnQ7aWYoYS5sZW5ndGg9PT0xJiZ0eXBlb2YgYVswXT09PSJzdHJpbmciJiZhWzBdLmxlbmd0aDw1MTImJmI9PT10JiYhQ2EudGVzdChhWzBdKSYmKGMuc3VwcG9ydC5jaGVja0Nsb25lfHwhRGEudGVzdChhWzBdKSkpe2Y9dHJ1ZTtpZihoPWMuZnJhZ21lbnRzW2FbMF1dKWlmKGghPT0xKWU9aH1pZighZSl7ZT1iLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtjLmNsZWFuKGEsYixlLGQpfWlmKGYpYy5mcmFnbWVudHNbYVswXV09aD9lOjE7cmV0dXJue2ZyYWdtZW50OmUsY2FjaGVhYmxlOmZ9fTtjLmZyYWdtZW50cz17fTtjLmVhY2goe2FwcGVuZFRvOiJhcHBlbmQiLApwcmVwZW5kVG86InByZXBlbmQiLGluc2VydEJlZm9yZToiYmVmb3JlIixpbnNlcnRBZnRlcjoiYWZ0ZXIiLHJlcGxhY2VBbGw6InJlcGxhY2VXaXRoIn0sZnVuY3Rpb24oYSxiKXtjLmZuW2FdPWZ1bmN0aW9uKGQpe3ZhciBlPVtdO2Q9YyhkKTt2YXIgZj10aGlzLmxlbmd0aD09PTEmJnRoaXNbMF0ucGFyZW50Tm9kZTtpZihmJiZmLm5vZGVUeXBlPT09MTEmJmYuY2hpbGROb2Rlcy5sZW5ndGg9PT0xJiZkLmxlbmd0aD09PTEpe2RbYl0odGhpc1swXSk7cmV0dXJuIHRoaXN9ZWxzZXtmPTA7Zm9yKHZhciBoPWQubGVuZ3RoO2Y8aDtmKyspe3ZhciBsPShmPjA/dGhpcy5jbG9uZSh0cnVlKTp0aGlzKS5nZXQoKTtjKGRbZl0pW2JdKGwpO2U9ZS5jb25jYXQobCl9cmV0dXJuIHRoaXMucHVzaFN0YWNrKGUsYSxkLnNlbGVjdG9yKX19fSk7Yy5leHRlbmQoe2NsZWFuOmZ1bmN0aW9uKGEsYixkLGUpe2I9Ynx8dDtpZih0eXBlb2YgYi5jcmVhdGVFbGVtZW50PT09InVuZGVmaW5lZCIpYj1iLm93bmVyRG9jdW1lbnR8fApiWzBdJiZiWzBdLm93bmVyRG9jdW1lbnR8fHQ7Zm9yKHZhciBmPVtdLGg9MCxsOyhsPWFbaF0pIT1udWxsO2grKyl7aWYodHlwZW9mIGw9PT0ibnVtYmVyIilsKz0iIjtpZihsKXtpZih0eXBlb2YgbD09PSJzdHJpbmciJiYhZWIudGVzdChsKSlsPWIuY3JlYXRlVGV4dE5vZGUobCk7ZWxzZSBpZih0eXBlb2YgbD09PSJzdHJpbmciKXtsPWwucmVwbGFjZShBYSwiPCQxPjwvJDI+Iik7dmFyIGs9KEJhLmV4ZWMobCl8fFsiIiwiIl0pWzFdLnRvTG93ZXJDYXNlKCksbz1QW2tdfHxQLl9kZWZhdWx0LHg9b1swXSxyPWIuY3JlYXRlRWxlbWVudCgiZGl2Iik7Zm9yKHIuaW5uZXJIVE1MPW9bMV0rbCtvWzJdO3gtLTspcj1yLmxhc3RDaGlsZDtpZighYy5zdXBwb3J0LnRib2R5KXt4PWRiLnRlc3QobCk7az1rPT09InRhYmxlIiYmIXg/ci5maXJzdENoaWxkJiZyLmZpcnN0Q2hpbGQuY2hpbGROb2RlczpvWzFdPT09Ijx0YWJsZT4iJiYheD9yLmNoaWxkTm9kZXM6W107Zm9yKG89ay5sZW5ndGgtCjE7bz49MDstLW8pYy5ub2RlTmFtZShrW29dLCJ0Ym9keSIpJiYha1tvXS5jaGlsZE5vZGVzLmxlbmd0aCYma1tvXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGtbb10pfSFjLnN1cHBvcnQubGVhZGluZ1doaXRlc3BhY2UmJiQudGVzdChsKSYmci5pbnNlcnRCZWZvcmUoYi5jcmVhdGVUZXh0Tm9kZSgkLmV4ZWMobClbMF0pLHIuZmlyc3RDaGlsZCk7bD1yLmNoaWxkTm9kZXN9aWYobC5ub2RlVHlwZSlmLnB1c2gobCk7ZWxzZSBmPWMubWVyZ2UoZixsKX19aWYoZClmb3IoaD0wO2ZbaF07aCsrKWlmKGUmJmMubm9kZU5hbWUoZltoXSwic2NyaXB0IikmJighZltoXS50eXBlfHxmW2hdLnR5cGUudG9Mb3dlckNhc2UoKT09PSJ0ZXh0L2phdmFzY3JpcHQiKSllLnB1c2goZltoXS5wYXJlbnROb2RlP2ZbaF0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmW2hdKTpmW2hdKTtlbHNle2ZbaF0ubm9kZVR5cGU9PT0xJiZmLnNwbGljZS5hcHBseShmLFtoKzEsMF0uY29uY2F0KGMubWFrZUFycmF5KGZbaF0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpKSkpOwpkLmFwcGVuZENoaWxkKGZbaF0pfXJldHVybiBmfSxjbGVhbkRhdGE6ZnVuY3Rpb24oYSl7Zm9yKHZhciBiLGQsZT1jLmNhY2hlLGY9Yy5ldmVudC5zcGVjaWFsLGg9Yy5zdXBwb3J0LmRlbGV0ZUV4cGFuZG8sbD0wLGs7KGs9YVtsXSkhPW51bGw7bCsrKWlmKCEoay5ub2RlTmFtZSYmYy5ub0RhdGFbay5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpXSkpaWYoZD1rW2MuZXhwYW5kb10pe2lmKChiPWVbZF0pJiZiLmV2ZW50cylmb3IodmFyIG8gaW4gYi5ldmVudHMpZltvXT9jLmV2ZW50LnJlbW92ZShrLG8pOmMucmVtb3ZlRXZlbnQoayxvLGIuaGFuZGxlKTtpZihoKWRlbGV0ZSBrW2MuZXhwYW5kb107ZWxzZSBrLnJlbW92ZUF0dHJpYnV0ZSYmay5yZW1vdmVBdHRyaWJ1dGUoYy5leHBhbmRvKTtkZWxldGUgZVtkXX19fSk7dmFyIEVhPS9hbHBoYVwoW14pXSpcKS9pLGdiPS9vcGFjaXR5PShbXildKikvLGhiPS8tKFthLXpdKS9pZyxpYj0vKFtBLVpdKS9nLEZhPS9eLT9cZCsoPzpweCk/JC9pLApqYj0vXi0/XGQvLGtiPXtwb3NpdGlvbjoiYWJzb2x1dGUiLHZpc2liaWxpdHk6ImhpZGRlbiIsZGlzcGxheToiYmxvY2sifSxQYT1bIkxlZnQiLCJSaWdodCJdLFFhPVsiVG9wIiwiQm90dG9tIl0sVyxHYSxhYSxsYj1mdW5jdGlvbihhLGIpe3JldHVybiBiLnRvVXBwZXJDYXNlKCl9O2MuZm4uY3NzPWZ1bmN0aW9uKGEsYil7aWYoYXJndW1lbnRzLmxlbmd0aD09PTImJmI9PT1CKXJldHVybiB0aGlzO3JldHVybiBjLmFjY2Vzcyh0aGlzLGEsYix0cnVlLGZ1bmN0aW9uKGQsZSxmKXtyZXR1cm4gZiE9PUI/Yy5zdHlsZShkLGUsZik6Yy5jc3MoZCxlKX0pfTtjLmV4dGVuZCh7Y3NzSG9va3M6e29wYWNpdHk6e2dldDpmdW5jdGlvbihhLGIpe2lmKGIpe3ZhciBkPVcoYSwib3BhY2l0eSIsIm9wYWNpdHkiKTtyZXR1cm4gZD09PSIiPyIxIjpkfWVsc2UgcmV0dXJuIGEuc3R5bGUub3BhY2l0eX19fSxjc3NOdW1iZXI6e3pJbmRleDp0cnVlLGZvbnRXZWlnaHQ6dHJ1ZSxvcGFjaXR5OnRydWUsCnpvb206dHJ1ZSxsaW5lSGVpZ2h0OnRydWV9LGNzc1Byb3BzOnsiZmxvYXQiOmMuc3VwcG9ydC5jc3NGbG9hdD8iY3NzRmxvYXQiOiJzdHlsZUZsb2F0In0sc3R5bGU6ZnVuY3Rpb24oYSxiLGQsZSl7aWYoISghYXx8YS5ub2RlVHlwZT09PTN8fGEubm9kZVR5cGU9PT04fHwhYS5zdHlsZSkpe3ZhciBmLGg9Yy5jYW1lbENhc2UoYiksbD1hLnN0eWxlLGs9Yy5jc3NIb29rc1toXTtiPWMuY3NzUHJvcHNbaF18fGg7aWYoZCE9PUIpe2lmKCEodHlwZW9mIGQ9PT0ibnVtYmVyIiYmaXNOYU4oZCl8fGQ9PW51bGwpKXtpZih0eXBlb2YgZD09PSJudW1iZXIiJiYhYy5jc3NOdW1iZXJbaF0pZCs9InB4IjtpZigha3x8ISgic2V0ImluIGspfHwoZD1rLnNldChhLGQpKSE9PUIpdHJ5e2xbYl09ZH1jYXRjaChvKXt9fX1lbHNle2lmKGsmJiJnZXQiaW4gayYmKGY9ay5nZXQoYSxmYWxzZSxlKSkhPT1CKXJldHVybiBmO3JldHVybiBsW2JdfX19LGNzczpmdW5jdGlvbihhLGIsZCl7dmFyIGUsZj1jLmNhbWVsQ2FzZShiKSwKaD1jLmNzc0hvb2tzW2ZdO2I9Yy5jc3NQcm9wc1tmXXx8ZjtpZihoJiYiZ2V0ImluIGgmJihlPWguZ2V0KGEsdHJ1ZSxkKSkhPT1CKXJldHVybiBlO2Vsc2UgaWYoVylyZXR1cm4gVyhhLGIsZil9LHN3YXA6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXt9LGY7Zm9yKGYgaW4gYil7ZVtmXT1hLnN0eWxlW2ZdO2Euc3R5bGVbZl09YltmXX1kLmNhbGwoYSk7Zm9yKGYgaW4gYilhLnN0eWxlW2ZdPWVbZl19LGNhbWVsQ2FzZTpmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXBsYWNlKGhiLGxiKX19KTtjLmN1ckNTUz1jLmNzcztjLmVhY2goWyJoZWlnaHQiLCJ3aWR0aCJdLGZ1bmN0aW9uKGEsYil7Yy5jc3NIb29rc1tiXT17Z2V0OmZ1bmN0aW9uKGQsZSxmKXt2YXIgaDtpZihlKXtpZihkLm9mZnNldFdpZHRoIT09MCloPW9hKGQsYixmKTtlbHNlIGMuc3dhcChkLGtiLGZ1bmN0aW9uKCl7aD1vYShkLGIsZil9KTtpZihoPD0wKXtoPVcoZCxiLGIpO2lmKGg9PT0iMHB4IiYmYWEpaD1hYShkLGIsYik7CmlmKGghPW51bGwpcmV0dXJuIGg9PT0iInx8aD09PSJhdXRvIj8iMHB4IjpofWlmKGg8MHx8aD09bnVsbCl7aD1kLnN0eWxlW2JdO3JldHVybiBoPT09IiJ8fGg9PT0iYXV0byI/IjBweCI6aH1yZXR1cm4gdHlwZW9mIGg9PT0ic3RyaW5nIj9oOmgrInB4In19LHNldDpmdW5jdGlvbihkLGUpe2lmKEZhLnRlc3QoZSkpe2U9cGFyc2VGbG9hdChlKTtpZihlPj0wKXJldHVybiBlKyJweCJ9ZWxzZSByZXR1cm4gZX19fSk7aWYoIWMuc3VwcG9ydC5vcGFjaXR5KWMuY3NzSG9va3Mub3BhY2l0eT17Z2V0OmZ1bmN0aW9uKGEsYil7cmV0dXJuIGdiLnRlc3QoKGImJmEuY3VycmVudFN0eWxlP2EuY3VycmVudFN0eWxlLmZpbHRlcjphLnN0eWxlLmZpbHRlcil8fCIiKT9wYXJzZUZsb2F0KFJlZ0V4cC4kMSkvMTAwKyIiOmI/IjEiOiIifSxzZXQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLnN0eWxlO2Quem9vbT0xO3ZhciBlPWMuaXNOYU4oYik/IiI6ImFscGhhKG9wYWNpdHk9IitiKjEwMCsiKSIsZj0KZC5maWx0ZXJ8fCIiO2QuZmlsdGVyPUVhLnRlc3QoZik/Zi5yZXBsYWNlKEVhLGUpOmQuZmlsdGVyKyIgIitlfX07aWYodC5kZWZhdWx0VmlldyYmdC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKUdhPWZ1bmN0aW9uKGEsYixkKXt2YXIgZTtkPWQucmVwbGFjZShpYiwiLSQxIikudG9Mb3dlckNhc2UoKTtpZighKGI9YS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3KSlyZXR1cm4gQjtpZihiPWIuZ2V0Q29tcHV0ZWRTdHlsZShhLG51bGwpKXtlPWIuZ2V0UHJvcGVydHlWYWx1ZShkKTtpZihlPT09IiImJiFjLmNvbnRhaW5zKGEub3duZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsYSkpZT1jLnN0eWxlKGEsZCl9cmV0dXJuIGV9O2lmKHQuZG9jdW1lbnRFbGVtZW50LmN1cnJlbnRTdHlsZSlhYT1mdW5jdGlvbihhLGIpe3ZhciBkLGUsZj1hLmN1cnJlbnRTdHlsZSYmYS5jdXJyZW50U3R5bGVbYl0saD1hLnN0eWxlO2lmKCFGYS50ZXN0KGYpJiZqYi50ZXN0KGYpKXtkPWgubGVmdDsKZT1hLnJ1bnRpbWVTdHlsZS5sZWZ0O2EucnVudGltZVN0eWxlLmxlZnQ9YS5jdXJyZW50U3R5bGUubGVmdDtoLmxlZnQ9Yj09PSJmb250U2l6ZSI/IjFlbSI6Znx8MDtmPWgucGl4ZWxMZWZ0KyJweCI7aC5sZWZ0PWQ7YS5ydW50aW1lU3R5bGUubGVmdD1lfXJldHVybiBmPT09IiI/ImF1dG8iOmZ9O1c9R2F8fGFhO2lmKGMuZXhwciYmYy5leHByLmZpbHRlcnMpe2MuZXhwci5maWx0ZXJzLmhpZGRlbj1mdW5jdGlvbihhKXt2YXIgYj1hLm9mZnNldEhlaWdodDtyZXR1cm4gYS5vZmZzZXRXaWR0aD09PTAmJmI9PT0wfHwhYy5zdXBwb3J0LnJlbGlhYmxlSGlkZGVuT2Zmc2V0cyYmKGEuc3R5bGUuZGlzcGxheXx8Yy5jc3MoYSwiZGlzcGxheSIpKT09PSJub25lIn07Yy5leHByLmZpbHRlcnMudmlzaWJsZT1mdW5jdGlvbihhKXtyZXR1cm4hYy5leHByLmZpbHRlcnMuaGlkZGVuKGEpfX12YXIgbWI9Yy5ub3coKSxuYj0vPHNjcmlwdFxiW148XSooPzooPyE8XC9zY3JpcHQ+KTxbXjxdKikqPFwvc2NyaXB0Pi9naSwKb2I9L14oPzpzZWxlY3R8dGV4dGFyZWEpL2kscGI9L14oPzpjb2xvcnxkYXRlfGRhdGV0aW1lfGVtYWlsfGhpZGRlbnxtb250aHxudW1iZXJ8cGFzc3dvcmR8cmFuZ2V8c2VhcmNofHRlbHx0ZXh0fHRpbWV8dXJsfHdlZWspJC9pLHFiPS9eKD86R0VUfEhFQUQpJC8sUmE9L1xbXF0kLyxUPS9cPVw/KCZ8JCkvLGphPS9cPy8scmI9LyhbPyZdKV89W14mXSovLHNiPS9eKFx3KzopP1wvXC8oW15cLz8jXSspLyx0Yj0vJTIwL2csdWI9LyMuKiQvLEhhPWMuZm4ubG9hZDtjLmZuLmV4dGVuZCh7bG9hZDpmdW5jdGlvbihhLGIsZCl7aWYodHlwZW9mIGEhPT0ic3RyaW5nIiYmSGEpcmV0dXJuIEhhLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtlbHNlIGlmKCF0aGlzLmxlbmd0aClyZXR1cm4gdGhpczt2YXIgZT1hLmluZGV4T2YoIiAiKTtpZihlPj0wKXt2YXIgZj1hLnNsaWNlKGUsYS5sZW5ndGgpO2E9YS5zbGljZSgwLGUpfWU9IkdFVCI7aWYoYilpZihjLmlzRnVuY3Rpb24oYikpe2Q9YjtiPW51bGx9ZWxzZSBpZih0eXBlb2YgYj09PQoib2JqZWN0Iil7Yj1jLnBhcmFtKGIsYy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWwpO2U9IlBPU1QifXZhciBoPXRoaXM7Yy5hamF4KHt1cmw6YSx0eXBlOmUsZGF0YVR5cGU6Imh0bWwiLGRhdGE6Yixjb21wbGV0ZTpmdW5jdGlvbihsLGspe2lmKGs9PT0ic3VjY2VzcyJ8fGs9PT0ibm90bW9kaWZpZWQiKWguaHRtbChmP2MoIjxkaXY+IikuYXBwZW5kKGwucmVzcG9uc2VUZXh0LnJlcGxhY2UobmIsIiIpKS5maW5kKGYpOmwucmVzcG9uc2VUZXh0KTtkJiZoLmVhY2goZCxbbC5yZXNwb25zZVRleHQsayxsXSl9fSk7cmV0dXJuIHRoaXN9LHNlcmlhbGl6ZTpmdW5jdGlvbigpe3JldHVybiBjLnBhcmFtKHRoaXMuc2VyaWFsaXplQXJyYXkoKSl9LHNlcmlhbGl6ZUFycmF5OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZWxlbWVudHM/Yy5tYWtlQXJyYXkodGhpcy5lbGVtZW50cyk6dGhpc30pLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUmJgohdGhpcy5kaXNhYmxlZCYmKHRoaXMuY2hlY2tlZHx8b2IudGVzdCh0aGlzLm5vZGVOYW1lKXx8cGIudGVzdCh0aGlzLnR5cGUpKX0pLm1hcChmdW5jdGlvbihhLGIpe3ZhciBkPWModGhpcykudmFsKCk7cmV0dXJuIGQ9PW51bGw/bnVsbDpjLmlzQXJyYXkoZCk/Yy5tYXAoZCxmdW5jdGlvbihlKXtyZXR1cm57bmFtZTpiLm5hbWUsdmFsdWU6ZX19KTp7bmFtZTpiLm5hbWUsdmFsdWU6ZH19KS5nZXQoKX19KTtjLmVhY2goImFqYXhTdGFydCBhamF4U3RvcCBhamF4Q29tcGxldGUgYWpheEVycm9yIGFqYXhTdWNjZXNzIGFqYXhTZW5kIi5zcGxpdCgiICIpLGZ1bmN0aW9uKGEsYil7Yy5mbltiXT1mdW5jdGlvbihkKXtyZXR1cm4gdGhpcy5iaW5kKGIsZCl9fSk7Yy5leHRlbmQoe2dldDpmdW5jdGlvbihhLGIsZCxlKXtpZihjLmlzRnVuY3Rpb24oYikpe2U9ZXx8ZDtkPWI7Yj1udWxsfXJldHVybiBjLmFqYXgoe3R5cGU6IkdFVCIsdXJsOmEsZGF0YTpiLHN1Y2Nlc3M6ZCxkYXRhVHlwZTplfSl9LApnZXRTY3JpcHQ6ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYy5nZXQoYSxudWxsLGIsInNjcmlwdCIpfSxnZXRKU09OOmZ1bmN0aW9uKGEsYixkKXtyZXR1cm4gYy5nZXQoYSxiLGQsImpzb24iKX0scG9zdDpmdW5jdGlvbihhLGIsZCxlKXtpZihjLmlzRnVuY3Rpb24oYikpe2U9ZXx8ZDtkPWI7Yj17fX1yZXR1cm4gYy5hamF4KHt0eXBlOiJQT1NUIix1cmw6YSxkYXRhOmIsc3VjY2VzczpkLGRhdGFUeXBlOmV9KX0sYWpheFNldHVwOmZ1bmN0aW9uKGEpe2MuZXh0ZW5kKGMuYWpheFNldHRpbmdzLGEpfSxhamF4U2V0dGluZ3M6e3VybDpsb2NhdGlvbi5ocmVmLGdsb2JhbDp0cnVlLHR5cGU6IkdFVCIsY29udGVudFR5cGU6ImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIscHJvY2Vzc0RhdGE6dHJ1ZSxhc3luYzp0cnVlLHhocjpmdW5jdGlvbigpe3JldHVybiBuZXcgRS5YTUxIdHRwUmVxdWVzdH0sYWNjZXB0czp7eG1sOiJhcHBsaWNhdGlvbi94bWwsIHRleHQveG1sIixodG1sOiJ0ZXh0L2h0bWwiLApzY3JpcHQ6InRleHQvamF2YXNjcmlwdCwgYXBwbGljYXRpb24vamF2YXNjcmlwdCIsanNvbjoiYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0Iix0ZXh0OiJ0ZXh0L3BsYWluIixfZGVmYXVsdDoiKi8qIn19LGFqYXg6ZnVuY3Rpb24oYSl7dmFyIGI9Yy5leHRlbmQodHJ1ZSx7fSxjLmFqYXhTZXR0aW5ncyxhKSxkLGUsZixoPWIudHlwZS50b1VwcGVyQ2FzZSgpLGw9cWIudGVzdChoKTtiLnVybD1iLnVybC5yZXBsYWNlKHViLCIiKTtiLmNvbnRleHQ9YSYmYS5jb250ZXh0IT1udWxsP2EuY29udGV4dDpiO2lmKGIuZGF0YSYmYi5wcm9jZXNzRGF0YSYmdHlwZW9mIGIuZGF0YSE9PSJzdHJpbmciKWIuZGF0YT1jLnBhcmFtKGIuZGF0YSxiLnRyYWRpdGlvbmFsKTtpZihiLmRhdGFUeXBlPT09Impzb25wIil7aWYoaD09PSJHRVQiKVQudGVzdChiLnVybCl8fChiLnVybCs9KGphLnRlc3QoYi51cmwpPyImIjoiPyIpKyhiLmpzb25wfHwiY2FsbGJhY2siKSsiPT8iKTtlbHNlIGlmKCFiLmRhdGF8fAohVC50ZXN0KGIuZGF0YSkpYi5kYXRhPShiLmRhdGE/Yi5kYXRhKyImIjoiIikrKGIuanNvbnB8fCJjYWxsYmFjayIpKyI9PyI7Yi5kYXRhVHlwZT0ianNvbiJ9aWYoYi5kYXRhVHlwZT09PSJqc29uIiYmKGIuZGF0YSYmVC50ZXN0KGIuZGF0YSl8fFQudGVzdChiLnVybCkpKXtkPWIuanNvbnBDYWxsYmFja3x8Impzb25wIittYisrO2lmKGIuZGF0YSliLmRhdGE9KGIuZGF0YSsiIikucmVwbGFjZShULCI9IitkKyIkMSIpO2IudXJsPWIudXJsLnJlcGxhY2UoVCwiPSIrZCsiJDEiKTtiLmRhdGFUeXBlPSJzY3JpcHQiO3ZhciBrPUVbZF07RVtkXT1mdW5jdGlvbihtKXtpZihjLmlzRnVuY3Rpb24oaykpayhtKTtlbHNle0VbZF09Qjt0cnl7ZGVsZXRlIEVbZF19Y2F0Y2gocCl7fX1mPW07Yy5oYW5kbGVTdWNjZXNzKGIsdyxlLGYpO2MuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7ciYmci5yZW1vdmVDaGlsZChBKX19aWYoYi5kYXRhVHlwZT09PSJzY3JpcHQiJiZiLmNhY2hlPT09bnVsbCliLmNhY2hlPQpmYWxzZTtpZihiLmNhY2hlPT09ZmFsc2UmJmwpe3ZhciBvPWMubm93KCkseD1iLnVybC5yZXBsYWNlKHJiLCIkMV89IitvKTtiLnVybD14Kyh4PT09Yi51cmw/KGphLnRlc3QoYi51cmwpPyImIjoiPyIpKyJfPSIrbzoiIil9aWYoYi5kYXRhJiZsKWIudXJsKz0oamEudGVzdChiLnVybCk/IiYiOiI/IikrYi5kYXRhO2IuZ2xvYmFsJiZjLmFjdGl2ZSsrPT09MCYmYy5ldmVudC50cmlnZ2VyKCJhamF4U3RhcnQiKTtvPShvPXNiLmV4ZWMoYi51cmwpKSYmKG9bMV0mJm9bMV0udG9Mb3dlckNhc2UoKSE9PWxvY2F0aW9uLnByb3RvY29sfHxvWzJdLnRvTG93ZXJDYXNlKCkhPT1sb2NhdGlvbi5ob3N0KTtpZihiLmRhdGFUeXBlPT09InNjcmlwdCImJmg9PT0iR0VUIiYmbyl7dmFyIHI9dC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaGVhZCIpWzBdfHx0LmRvY3VtZW50RWxlbWVudCxBPXQuY3JlYXRlRWxlbWVudCgic2NyaXB0Iik7aWYoYi5zY3JpcHRDaGFyc2V0KUEuY2hhcnNldD1iLnNjcmlwdENoYXJzZXQ7CkEuc3JjPWIudXJsO2lmKCFkKXt2YXIgQz1mYWxzZTtBLm9ubG9hZD1BLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2lmKCFDJiYoIXRoaXMucmVhZHlTdGF0ZXx8dGhpcy5yZWFkeVN0YXRlPT09ImxvYWRlZCJ8fHRoaXMucmVhZHlTdGF0ZT09PSJjb21wbGV0ZSIpKXtDPXRydWU7Yy5oYW5kbGVTdWNjZXNzKGIsdyxlLGYpO2MuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7QS5vbmxvYWQ9QS5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDtyJiZBLnBhcmVudE5vZGUmJnIucmVtb3ZlQ2hpbGQoQSl9fX1yLmluc2VydEJlZm9yZShBLHIuZmlyc3RDaGlsZCk7cmV0dXJuIEJ9dmFyIEo9ZmFsc2Usdz1iLnhocigpO2lmKHcpe2IudXNlcm5hbWU/dy5vcGVuKGgsYi51cmwsYi5hc3luYyxiLnVzZXJuYW1lLGIucGFzc3dvcmQpOncub3BlbihoLGIudXJsLGIuYXN5bmMpO3RyeXtpZihiLmRhdGEhPW51bGwmJiFsfHxhJiZhLmNvbnRlbnRUeXBlKXcuc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwKYi5jb250ZW50VHlwZSk7aWYoYi5pZk1vZGlmaWVkKXtjLmxhc3RNb2RpZmllZFtiLnVybF0mJncuc2V0UmVxdWVzdEhlYWRlcigiSWYtTW9kaWZpZWQtU2luY2UiLGMubGFzdE1vZGlmaWVkW2IudXJsXSk7Yy5ldGFnW2IudXJsXSYmdy5zZXRSZXF1ZXN0SGVhZGVyKCJJZi1Ob25lLU1hdGNoIixjLmV0YWdbYi51cmxdKX1vfHx3LnNldFJlcXVlc3RIZWFkZXIoIlgtUmVxdWVzdGVkLVdpdGgiLCJYTUxIdHRwUmVxdWVzdCIpO3cuc2V0UmVxdWVzdEhlYWRlcigiQWNjZXB0IixiLmRhdGFUeXBlJiZiLmFjY2VwdHNbYi5kYXRhVHlwZV0/Yi5hY2NlcHRzW2IuZGF0YVR5cGVdKyIsICovKjsgcT0wLjAxIjpiLmFjY2VwdHMuX2RlZmF1bHQpfWNhdGNoKEkpe31pZihiLmJlZm9yZVNlbmQmJmIuYmVmb3JlU2VuZC5jYWxsKGIuY29udGV4dCx3LGIpPT09ZmFsc2Upe2IuZ2xvYmFsJiZjLmFjdGl2ZS0tPT09MSYmYy5ldmVudC50cmlnZ2VyKCJhamF4U3RvcCIpO3cuYWJvcnQoKTtyZXR1cm4gZmFsc2V9Yi5nbG9iYWwmJgpjLnRyaWdnZXJHbG9iYWwoYiwiYWpheFNlbmQiLFt3LGJdKTt2YXIgTD13Lm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbihtKXtpZighd3x8dy5yZWFkeVN0YXRlPT09MHx8bT09PSJhYm9ydCIpe0p8fGMuaGFuZGxlQ29tcGxldGUoYix3LGUsZik7Sj10cnVlO2lmKHcpdy5vbnJlYWR5c3RhdGVjaGFuZ2U9Yy5ub29wfWVsc2UgaWYoIUomJncmJih3LnJlYWR5U3RhdGU9PT00fHxtPT09InRpbWVvdXQiKSl7Sj10cnVlO3cub25yZWFkeXN0YXRlY2hhbmdlPWMubm9vcDtlPW09PT0idGltZW91dCI/InRpbWVvdXQiOiFjLmh0dHBTdWNjZXNzKHcpPyJlcnJvciI6Yi5pZk1vZGlmaWVkJiZjLmh0dHBOb3RNb2RpZmllZCh3LGIudXJsKT8ibm90bW9kaWZpZWQiOiJzdWNjZXNzIjt2YXIgcDtpZihlPT09InN1Y2Nlc3MiKXRyeXtmPWMuaHR0cERhdGEodyxiLmRhdGFUeXBlLGIpfWNhdGNoKHEpe2U9InBhcnNlcmVycm9yIjtwPXF9aWYoZT09PSJzdWNjZXNzInx8ZT09PSJub3Rtb2RpZmllZCIpZHx8CmMuaGFuZGxlU3VjY2VzcyhiLHcsZSxmKTtlbHNlIGMuaGFuZGxlRXJyb3IoYix3LGUscCk7ZHx8Yy5oYW5kbGVDb21wbGV0ZShiLHcsZSxmKTttPT09InRpbWVvdXQiJiZ3LmFib3J0KCk7aWYoYi5hc3luYyl3PW51bGx9fTt0cnl7dmFyIGc9dy5hYm9ydDt3LmFib3J0PWZ1bmN0aW9uKCl7dyYmRnVuY3Rpb24ucHJvdG90eXBlLmNhbGwuY2FsbChnLHcpO0woImFib3J0Iil9fWNhdGNoKGkpe31iLmFzeW5jJiZiLnRpbWVvdXQ+MCYmc2V0VGltZW91dChmdW5jdGlvbigpe3cmJiFKJiZMKCJ0aW1lb3V0Iil9LGIudGltZW91dCk7dHJ5e3cuc2VuZChsfHxiLmRhdGE9PW51bGw/bnVsbDpiLmRhdGEpfWNhdGNoKG4pe2MuaGFuZGxlRXJyb3IoYix3LG51bGwsbik7Yy5oYW5kbGVDb21wbGV0ZShiLHcsZSxmKX1iLmFzeW5jfHxMKCk7cmV0dXJuIHd9fSxwYXJhbTpmdW5jdGlvbihhLGIpe3ZhciBkPVtdLGU9ZnVuY3Rpb24oaCxsKXtsPWMuaXNGdW5jdGlvbihsKT9sKCk6bDtkW2QubGVuZ3RoXT0KZW5jb2RlVVJJQ29tcG9uZW50KGgpKyI9IitlbmNvZGVVUklDb21wb25lbnQobCl9O2lmKGI9PT1CKWI9Yy5hamF4U2V0dGluZ3MudHJhZGl0aW9uYWw7aWYoYy5pc0FycmF5KGEpfHxhLmpxdWVyeSljLmVhY2goYSxmdW5jdGlvbigpe2UodGhpcy5uYW1lLHRoaXMudmFsdWUpfSk7ZWxzZSBmb3IodmFyIGYgaW4gYSlkYShmLGFbZl0sYixlKTtyZXR1cm4gZC5qb2luKCImIikucmVwbGFjZSh0YiwiKyIpfX0pO2MuZXh0ZW5kKHthY3RpdmU6MCxsYXN0TW9kaWZpZWQ6e30sZXRhZzp7fSxoYW5kbGVFcnJvcjpmdW5jdGlvbihhLGIsZCxlKXthLmVycm9yJiZhLmVycm9yLmNhbGwoYS5jb250ZXh0LGIsZCxlKTthLmdsb2JhbCYmYy50cmlnZ2VyR2xvYmFsKGEsImFqYXhFcnJvciIsW2IsYSxlXSl9LGhhbmRsZVN1Y2Nlc3M6ZnVuY3Rpb24oYSxiLGQsZSl7YS5zdWNjZXNzJiZhLnN1Y2Nlc3MuY2FsbChhLmNvbnRleHQsZSxkLGIpO2EuZ2xvYmFsJiZjLnRyaWdnZXJHbG9iYWwoYSwiYWpheFN1Y2Nlc3MiLApbYixhXSl9LGhhbmRsZUNvbXBsZXRlOmZ1bmN0aW9uKGEsYixkKXthLmNvbXBsZXRlJiZhLmNvbXBsZXRlLmNhbGwoYS5jb250ZXh0LGIsZCk7YS5nbG9iYWwmJmMudHJpZ2dlckdsb2JhbChhLCJhamF4Q29tcGxldGUiLFtiLGFdKTthLmdsb2JhbCYmYy5hY3RpdmUtLT09PTEmJmMuZXZlbnQudHJpZ2dlcigiYWpheFN0b3AiKX0sdHJpZ2dlckdsb2JhbDpmdW5jdGlvbihhLGIsZCl7KGEuY29udGV4dCYmYS5jb250ZXh0LnVybD09bnVsbD9jKGEuY29udGV4dCk6Yy5ldmVudCkudHJpZ2dlcihiLGQpfSxodHRwU3VjY2VzczpmdW5jdGlvbihhKXt0cnl7cmV0dXJuIWEuc3RhdHVzJiZsb2NhdGlvbi5wcm90b2NvbD09PSJmaWxlOiJ8fGEuc3RhdHVzPj0yMDAmJmEuc3RhdHVzPDMwMHx8YS5zdGF0dXM9PT0zMDR8fGEuc3RhdHVzPT09MTIyM31jYXRjaChiKXt9cmV0dXJuIGZhbHNlfSxodHRwTm90TW9kaWZpZWQ6ZnVuY3Rpb24oYSxiKXt2YXIgZD1hLmdldFJlc3BvbnNlSGVhZGVyKCJMYXN0LU1vZGlmaWVkIiksCmU9YS5nZXRSZXNwb25zZUhlYWRlcigiRXRhZyIpO2lmKGQpYy5sYXN0TW9kaWZpZWRbYl09ZDtpZihlKWMuZXRhZ1tiXT1lO3JldHVybiBhLnN0YXR1cz09PTMwNH0saHR0cERhdGE6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEuZ2V0UmVzcG9uc2VIZWFkZXIoImNvbnRlbnQtdHlwZSIpfHwiIixmPWI9PT0ieG1sInx8IWImJmUuaW5kZXhPZigieG1sIik+PTA7YT1mP2EucmVzcG9uc2VYTUw6YS5yZXNwb25zZVRleHQ7ZiYmYS5kb2N1bWVudEVsZW1lbnQubm9kZU5hbWU9PT0icGFyc2VyZXJyb3IiJiZjLmVycm9yKCJwYXJzZXJlcnJvciIpO2lmKGQmJmQuZGF0YUZpbHRlcilhPWQuZGF0YUZpbHRlcihhLGIpO2lmKHR5cGVvZiBhPT09InN0cmluZyIpaWYoYj09PSJqc29uInx8IWImJmUuaW5kZXhPZigianNvbiIpPj0wKWE9Yy5wYXJzZUpTT04oYSk7ZWxzZSBpZihiPT09InNjcmlwdCJ8fCFiJiZlLmluZGV4T2YoImphdmFzY3JpcHQiKT49MCljLmdsb2JhbEV2YWwoYSk7cmV0dXJuIGF9fSk7CmlmKEUuQWN0aXZlWE9iamVjdCljLmFqYXhTZXR0aW5ncy54aHI9ZnVuY3Rpb24oKXtpZihFLmxvY2F0aW9uLnByb3RvY29sIT09ImZpbGU6Iil0cnl7cmV0dXJuIG5ldyBFLlhNTEh0dHBSZXF1ZXN0fWNhdGNoKGEpe310cnl7cmV0dXJuIG5ldyBFLkFjdGl2ZVhPYmplY3QoIk1pY3Jvc29mdC5YTUxIVFRQIil9Y2F0Y2goYil7fX07Yy5zdXBwb3J0LmFqYXg9ISFjLmFqYXhTZXR0aW5ncy54aHIoKTt2YXIgZWE9e30sdmI9L14oPzp0b2dnbGV8c2hvd3xoaWRlKSQvLHdiPS9eKFsrXC1dPSk/KFtcZCsuXC1dKykoLiopJC8sYmEscGE9W1siaGVpZ2h0IiwibWFyZ2luVG9wIiwibWFyZ2luQm90dG9tIiwicGFkZGluZ1RvcCIsInBhZGRpbmdCb3R0b20iXSxbIndpZHRoIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiXSxbIm9wYWNpdHkiXV07Yy5mbi5leHRlbmQoe3Nob3c6ZnVuY3Rpb24oYSxiLGQpe2lmKGF8fGE9PT0wKXJldHVybiB0aGlzLmFuaW1hdGUoUygic2hvdyIsCjMpLGEsYixkKTtlbHNle2Q9MDtmb3IodmFyIGU9dGhpcy5sZW5ndGg7ZDxlO2QrKyl7YT10aGlzW2RdO2I9YS5zdHlsZS5kaXNwbGF5O2lmKCFjLmRhdGEoYSwib2xkZGlzcGxheSIpJiZiPT09Im5vbmUiKWI9YS5zdHlsZS5kaXNwbGF5PSIiO2I9PT0iIiYmYy5jc3MoYSwiZGlzcGxheSIpPT09Im5vbmUiJiZjLmRhdGEoYSwib2xkZGlzcGxheSIscWEoYS5ub2RlTmFtZSkpfWZvcihkPTA7ZDxlO2QrKyl7YT10aGlzW2RdO2I9YS5zdHlsZS5kaXNwbGF5O2lmKGI9PT0iInx8Yj09PSJub25lIilhLnN0eWxlLmRpc3BsYXk9Yy5kYXRhKGEsIm9sZGRpc3BsYXkiKXx8IiJ9cmV0dXJuIHRoaXN9fSxoaWRlOmZ1bmN0aW9uKGEsYixkKXtpZihhfHxhPT09MClyZXR1cm4gdGhpcy5hbmltYXRlKFMoImhpZGUiLDMpLGEsYixkKTtlbHNle2E9MDtmb3IoYj10aGlzLmxlbmd0aDthPGI7YSsrKXtkPWMuY3NzKHRoaXNbYV0sImRpc3BsYXkiKTtkIT09Im5vbmUiJiZjLmRhdGEodGhpc1thXSwib2xkZGlzcGxheSIsCmQpfWZvcihhPTA7YTxiO2ErKyl0aGlzW2FdLnN0eWxlLmRpc3BsYXk9Im5vbmUiO3JldHVybiB0aGlzfX0sX3RvZ2dsZTpjLmZuLnRvZ2dsZSx0b2dnbGU6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPXR5cGVvZiBhPT09ImJvb2xlYW4iO2lmKGMuaXNGdW5jdGlvbihhKSYmYy5pc0Z1bmN0aW9uKGIpKXRoaXMuX3RvZ2dsZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7ZWxzZSBhPT1udWxsfHxlP3RoaXMuZWFjaChmdW5jdGlvbigpe3ZhciBmPWU/YTpjKHRoaXMpLmlzKCI6aGlkZGVuIik7Yyh0aGlzKVtmPyJzaG93IjoiaGlkZSJdKCl9KTp0aGlzLmFuaW1hdGUoUygidG9nZ2xlIiwzKSxhLGIsZCk7cmV0dXJuIHRoaXN9LGZhZGVUbzpmdW5jdGlvbihhLGIsZCxlKXtyZXR1cm4gdGhpcy5maWx0ZXIoIjpoaWRkZW4iKS5jc3MoIm9wYWNpdHkiLDApLnNob3coKS5lbmQoKS5hbmltYXRlKHtvcGFjaXR5OmJ9LGEsZCxlKX0sYW5pbWF0ZTpmdW5jdGlvbihhLGIsZCxlKXt2YXIgZj1jLnNwZWVkKGIsCmQsZSk7aWYoYy5pc0VtcHR5T2JqZWN0KGEpKXJldHVybiB0aGlzLmVhY2goZi5jb21wbGV0ZSk7cmV0dXJuIHRoaXNbZi5xdWV1ZT09PWZhbHNlPyJlYWNoIjoicXVldWUiXShmdW5jdGlvbigpe3ZhciBoPWMuZXh0ZW5kKHt9LGYpLGwsaz10aGlzLm5vZGVUeXBlPT09MSxvPWsmJmModGhpcykuaXMoIjpoaWRkZW4iKSx4PXRoaXM7Zm9yKGwgaW4gYSl7dmFyIHI9Yy5jYW1lbENhc2UobCk7aWYobCE9PXIpe2Fbcl09YVtsXTtkZWxldGUgYVtsXTtsPXJ9aWYoYVtsXT09PSJoaWRlIiYmb3x8YVtsXT09PSJzaG93IiYmIW8pcmV0dXJuIGguY29tcGxldGUuY2FsbCh0aGlzKTtpZihrJiYobD09PSJoZWlnaHQifHxsPT09IndpZHRoIikpe2gub3ZlcmZsb3c9W3RoaXMuc3R5bGUub3ZlcmZsb3csdGhpcy5zdHlsZS5vdmVyZmxvd1gsdGhpcy5zdHlsZS5vdmVyZmxvd1ldO2lmKGMuY3NzKHRoaXMsImRpc3BsYXkiKT09PSJpbmxpbmUiJiZjLmNzcyh0aGlzLCJmbG9hdCIpPT09Im5vbmUiKWlmKGMuc3VwcG9ydC5pbmxpbmVCbG9ja05lZWRzTGF5b3V0KWlmKHFhKHRoaXMubm9kZU5hbWUpPT09CiJpbmxpbmUiKXRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIjtlbHNle3RoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lIjt0aGlzLnN0eWxlLnpvb209MX1lbHNlIHRoaXMuc3R5bGUuZGlzcGxheT0iaW5saW5lLWJsb2NrIn1pZihjLmlzQXJyYXkoYVtsXSkpeyhoLnNwZWNpYWxFYXNpbmc9aC5zcGVjaWFsRWFzaW5nfHx7fSlbbF09YVtsXVsxXTthW2xdPWFbbF1bMF19fWlmKGgub3ZlcmZsb3chPW51bGwpdGhpcy5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtoLmN1ckFuaW09Yy5leHRlbmQoe30sYSk7Yy5lYWNoKGEsZnVuY3Rpb24oQSxDKXt2YXIgSj1uZXcgYy5meCh4LGgsQSk7aWYodmIudGVzdChDKSlKW0M9PT0idG9nZ2xlIj9vPyJzaG93IjoiaGlkZSI6Q10oYSk7ZWxzZXt2YXIgdz13Yi5leGVjKEMpLEk9Si5jdXIoKXx8MDtpZih3KXt2YXIgTD1wYXJzZUZsb2F0KHdbMl0pLGc9d1szXXx8InB4IjtpZihnIT09InB4Iil7Yy5zdHlsZSh4LEEsKEx8fDEpK2cpO0k9KEx8fAoxKS9KLmN1cigpKkk7Yy5zdHlsZSh4LEEsSStnKX1pZih3WzFdKUw9KHdbMV09PT0iLT0iPy0xOjEpKkwrSTtKLmN1c3RvbShJLEwsZyl9ZWxzZSBKLmN1c3RvbShJLEMsIiIpfX0pO3JldHVybiB0cnVlfSl9LHN0b3A6ZnVuY3Rpb24oYSxiKXt2YXIgZD1jLnRpbWVyczthJiZ0aGlzLnF1ZXVlKFtdKTt0aGlzLmVhY2goZnVuY3Rpb24oKXtmb3IodmFyIGU9ZC5sZW5ndGgtMTtlPj0wO2UtLSlpZihkW2VdLmVsZW09PT10aGlzKXtiJiZkW2VdKHRydWUpO2Quc3BsaWNlKGUsMSl9fSk7Ynx8dGhpcy5kZXF1ZXVlKCk7cmV0dXJuIHRoaXN9fSk7Yy5lYWNoKHtzbGlkZURvd246Uygic2hvdyIsMSksc2xpZGVVcDpTKCJoaWRlIiwxKSxzbGlkZVRvZ2dsZTpTKCJ0b2dnbGUiLDEpLGZhZGVJbjp7b3BhY2l0eToic2hvdyJ9LGZhZGVPdXQ6e29wYWNpdHk6ImhpZGUifSxmYWRlVG9nZ2xlOntvcGFjaXR5OiJ0b2dnbGUifX0sZnVuY3Rpb24oYSxiKXtjLmZuW2FdPWZ1bmN0aW9uKGQsZSxmKXtyZXR1cm4gdGhpcy5hbmltYXRlKGIsCmQsZSxmKX19KTtjLmV4dGVuZCh7c3BlZWQ6ZnVuY3Rpb24oYSxiLGQpe3ZhciBlPWEmJnR5cGVvZiBhPT09Im9iamVjdCI/Yy5leHRlbmQoe30sYSk6e2NvbXBsZXRlOmR8fCFkJiZifHxjLmlzRnVuY3Rpb24oYSkmJmEsZHVyYXRpb246YSxlYXNpbmc6ZCYmYnx8YiYmIWMuaXNGdW5jdGlvbihiKSYmYn07ZS5kdXJhdGlvbj1jLmZ4Lm9mZj8wOnR5cGVvZiBlLmR1cmF0aW9uPT09Im51bWJlciI/ZS5kdXJhdGlvbjplLmR1cmF0aW9uIGluIGMuZnguc3BlZWRzP2MuZnguc3BlZWRzW2UuZHVyYXRpb25dOmMuZnguc3BlZWRzLl9kZWZhdWx0O2Uub2xkPWUuY29tcGxldGU7ZS5jb21wbGV0ZT1mdW5jdGlvbigpe2UucXVldWUhPT1mYWxzZSYmYyh0aGlzKS5kZXF1ZXVlKCk7Yy5pc0Z1bmN0aW9uKGUub2xkKSYmZS5vbGQuY2FsbCh0aGlzKX07cmV0dXJuIGV9LGVhc2luZzp7bGluZWFyOmZ1bmN0aW9uKGEsYixkLGUpe3JldHVybiBkK2UqYX0sc3dpbmc6ZnVuY3Rpb24oYSxiLGQsZSl7cmV0dXJuKC1NYXRoLmNvcyhhKgpNYXRoLlBJKS8yKzAuNSkqZStkfX0sdGltZXJzOltdLGZ4OmZ1bmN0aW9uKGEsYixkKXt0aGlzLm9wdGlvbnM9Yjt0aGlzLmVsZW09YTt0aGlzLnByb3A9ZDtpZighYi5vcmlnKWIub3JpZz17fX19KTtjLmZ4LnByb3RvdHlwZT17dXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLnN0ZXAmJnRoaXMub3B0aW9ucy5zdGVwLmNhbGwodGhpcy5lbGVtLHRoaXMubm93LHRoaXMpOyhjLmZ4LnN0ZXBbdGhpcy5wcm9wXXx8Yy5meC5zdGVwLl9kZWZhdWx0KSh0aGlzKX0sY3VyOmZ1bmN0aW9uKCl7aWYodGhpcy5lbGVtW3RoaXMucHJvcF0hPW51bGwmJighdGhpcy5lbGVtLnN0eWxlfHx0aGlzLmVsZW0uc3R5bGVbdGhpcy5wcm9wXT09bnVsbCkpcmV0dXJuIHRoaXMuZWxlbVt0aGlzLnByb3BdO3ZhciBhPXBhcnNlRmxvYXQoYy5jc3ModGhpcy5lbGVtLHRoaXMucHJvcCkpO3JldHVybiBhJiZhPi0xRTQ/YTowfSxjdXN0b206ZnVuY3Rpb24oYSxiLGQpe2Z1bmN0aW9uIGUobCl7cmV0dXJuIGYuc3RlcChsKX0KdmFyIGY9dGhpcyxoPWMuZng7dGhpcy5zdGFydFRpbWU9Yy5ub3coKTt0aGlzLnN0YXJ0PWE7dGhpcy5lbmQ9Yjt0aGlzLnVuaXQ9ZHx8dGhpcy51bml0fHwicHgiO3RoaXMubm93PXRoaXMuc3RhcnQ7dGhpcy5wb3M9dGhpcy5zdGF0ZT0wO2UuZWxlbT10aGlzLmVsZW07aWYoZSgpJiZjLnRpbWVycy5wdXNoKGUpJiYhYmEpYmE9c2V0SW50ZXJ2YWwoaC50aWNrLGguaW50ZXJ2YWwpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5vcHRpb25zLm9yaWdbdGhpcy5wcm9wXT1jLnN0eWxlKHRoaXMuZWxlbSx0aGlzLnByb3ApO3RoaXMub3B0aW9ucy5zaG93PXRydWU7dGhpcy5jdXN0b20odGhpcy5wcm9wPT09IndpZHRoInx8dGhpcy5wcm9wPT09ImhlaWdodCI/MTowLHRoaXMuY3VyKCkpO2ModGhpcy5lbGVtKS5zaG93KCl9LGhpZGU6ZnVuY3Rpb24oKXt0aGlzLm9wdGlvbnMub3JpZ1t0aGlzLnByb3BdPWMuc3R5bGUodGhpcy5lbGVtLHRoaXMucHJvcCk7dGhpcy5vcHRpb25zLmhpZGU9dHJ1ZTsKdGhpcy5jdXN0b20odGhpcy5jdXIoKSwwKX0sc3RlcDpmdW5jdGlvbihhKXt2YXIgYj1jLm5vdygpLGQ9dHJ1ZTtpZihhfHxiPj10aGlzLm9wdGlvbnMuZHVyYXRpb24rdGhpcy5zdGFydFRpbWUpe3RoaXMubm93PXRoaXMuZW5kO3RoaXMucG9zPXRoaXMuc3RhdGU9MTt0aGlzLnVwZGF0ZSgpO3RoaXMub3B0aW9ucy5jdXJBbmltW3RoaXMucHJvcF09dHJ1ZTtmb3IodmFyIGUgaW4gdGhpcy5vcHRpb25zLmN1ckFuaW0paWYodGhpcy5vcHRpb25zLmN1ckFuaW1bZV0hPT10cnVlKWQ9ZmFsc2U7aWYoZCl7aWYodGhpcy5vcHRpb25zLm92ZXJmbG93IT1udWxsJiYhYy5zdXBwb3J0LnNocmlua1dyYXBCbG9ja3Mpe3ZhciBmPXRoaXMuZWxlbSxoPXRoaXMub3B0aW9ucztjLmVhY2goWyIiLCJYIiwiWSJdLGZ1bmN0aW9uKGssbyl7Zi5zdHlsZVsib3ZlcmZsb3ciK29dPWgub3ZlcmZsb3dba119KX10aGlzLm9wdGlvbnMuaGlkZSYmYyh0aGlzLmVsZW0pLmhpZGUoKTtpZih0aGlzLm9wdGlvbnMuaGlkZXx8CnRoaXMub3B0aW9ucy5zaG93KWZvcih2YXIgbCBpbiB0aGlzLm9wdGlvbnMuY3VyQW5pbSljLnN0eWxlKHRoaXMuZWxlbSxsLHRoaXMub3B0aW9ucy5vcmlnW2xdKTt0aGlzLm9wdGlvbnMuY29tcGxldGUuY2FsbCh0aGlzLmVsZW0pfXJldHVybiBmYWxzZX1lbHNle2E9Yi10aGlzLnN0YXJ0VGltZTt0aGlzLnN0YXRlPWEvdGhpcy5vcHRpb25zLmR1cmF0aW9uO2I9dGhpcy5vcHRpb25zLmVhc2luZ3x8KGMuZWFzaW5nLnN3aW5nPyJzd2luZyI6ImxpbmVhciIpO3RoaXMucG9zPWMuZWFzaW5nW3RoaXMub3B0aW9ucy5zcGVjaWFsRWFzaW5nJiZ0aGlzLm9wdGlvbnMuc3BlY2lhbEVhc2luZ1t0aGlzLnByb3BdfHxiXSh0aGlzLnN0YXRlLGEsMCwxLHRoaXMub3B0aW9ucy5kdXJhdGlvbik7dGhpcy5ub3c9dGhpcy5zdGFydCsodGhpcy5lbmQtdGhpcy5zdGFydCkqdGhpcy5wb3M7dGhpcy51cGRhdGUoKX1yZXR1cm4gdHJ1ZX19O2MuZXh0ZW5kKGMuZngse3RpY2s6ZnVuY3Rpb24oKXtmb3IodmFyIGE9CmMudGltZXJzLGI9MDtiPGEubGVuZ3RoO2IrKylhW2JdKCl8fGEuc3BsaWNlKGItLSwxKTthLmxlbmd0aHx8Yy5meC5zdG9wKCl9LGludGVydmFsOjEzLHN0b3A6ZnVuY3Rpb24oKXtjbGVhckludGVydmFsKGJhKTtiYT1udWxsfSxzcGVlZHM6e3Nsb3c6NjAwLGZhc3Q6MjAwLF9kZWZhdWx0OjQwMH0sc3RlcDp7b3BhY2l0eTpmdW5jdGlvbihhKXtjLnN0eWxlKGEuZWxlbSwib3BhY2l0eSIsYS5ub3cpfSxfZGVmYXVsdDpmdW5jdGlvbihhKXtpZihhLmVsZW0uc3R5bGUmJmEuZWxlbS5zdHlsZVthLnByb3BdIT1udWxsKWEuZWxlbS5zdHlsZVthLnByb3BdPShhLnByb3A9PT0id2lkdGgifHxhLnByb3A9PT0iaGVpZ2h0Ij9NYXRoLm1heCgwLGEubm93KTphLm5vdykrYS51bml0O2Vsc2UgYS5lbGVtW2EucHJvcF09YS5ub3d9fX0pO2lmKGMuZXhwciYmYy5leHByLmZpbHRlcnMpYy5leHByLmZpbHRlcnMuYW5pbWF0ZWQ9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuZ3JlcChjLnRpbWVycyxmdW5jdGlvbihiKXtyZXR1cm4gYT09PQpiLmVsZW19KS5sZW5ndGh9O3ZhciB4Yj0vXnQoPzphYmxlfGR8aCkkL2ksSWE9L14oPzpib2R5fGh0bWwpJC9pO2MuZm4ub2Zmc2V0PSJnZXRCb3VuZGluZ0NsaWVudFJlY3QiaW4gdC5kb2N1bWVudEVsZW1lbnQ/ZnVuY3Rpb24oYSl7dmFyIGI9dGhpc1swXSxkO2lmKGEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbihsKXtjLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLGwpfSk7aWYoIWJ8fCFiLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYj09PWIub3duZXJEb2N1bWVudC5ib2R5KXJldHVybiBjLm9mZnNldC5ib2R5T2Zmc2V0KGIpO3RyeXtkPWIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCl9Y2F0Y2goZSl7fXZhciBmPWIub3duZXJEb2N1bWVudCxoPWYuZG9jdW1lbnRFbGVtZW50O2lmKCFkfHwhYy5jb250YWlucyhoLGIpKXJldHVybiBkfHx7dG9wOjAsbGVmdDowfTtiPWYuYm9keTtmPWZhKGYpO3JldHVybnt0b3A6ZC50b3ArKGYucGFnZVlPZmZzZXR8fGMuc3VwcG9ydC5ib3hNb2RlbCYmCmguc2Nyb2xsVG9wfHxiLnNjcm9sbFRvcCktKGguY2xpZW50VG9wfHxiLmNsaWVudFRvcHx8MCksbGVmdDpkLmxlZnQrKGYucGFnZVhPZmZzZXR8fGMuc3VwcG9ydC5ib3hNb2RlbCYmaC5zY3JvbGxMZWZ0fHxiLnNjcm9sbExlZnQpLShoLmNsaWVudExlZnR8fGIuY2xpZW50TGVmdHx8MCl9fTpmdW5jdGlvbihhKXt2YXIgYj10aGlzWzBdO2lmKGEpcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbih4KXtjLm9mZnNldC5zZXRPZmZzZXQodGhpcyxhLHgpfSk7aWYoIWJ8fCFiLm93bmVyRG9jdW1lbnQpcmV0dXJuIG51bGw7aWYoYj09PWIub3duZXJEb2N1bWVudC5ib2R5KXJldHVybiBjLm9mZnNldC5ib2R5T2Zmc2V0KGIpO2Mub2Zmc2V0LmluaXRpYWxpemUoKTt2YXIgZCxlPWIub2Zmc2V0UGFyZW50LGY9Yi5vd25lckRvY3VtZW50LGg9Zi5kb2N1bWVudEVsZW1lbnQsbD1mLmJvZHk7ZD0oZj1mLmRlZmF1bHRWaWV3KT9mLmdldENvbXB1dGVkU3R5bGUoYixudWxsKTpiLmN1cnJlbnRTdHlsZTsKZm9yKHZhciBrPWIub2Zmc2V0VG9wLG89Yi5vZmZzZXRMZWZ0OyhiPWIucGFyZW50Tm9kZSkmJmIhPT1sJiZiIT09aDspe2lmKGMub2Zmc2V0LnN1cHBvcnRzRml4ZWRQb3NpdGlvbiYmZC5wb3NpdGlvbj09PSJmaXhlZCIpYnJlYWs7ZD1mP2YuZ2V0Q29tcHV0ZWRTdHlsZShiLG51bGwpOmIuY3VycmVudFN0eWxlO2stPWIuc2Nyb2xsVG9wO28tPWIuc2Nyb2xsTGVmdDtpZihiPT09ZSl7ays9Yi5vZmZzZXRUb3A7bys9Yi5vZmZzZXRMZWZ0O2lmKGMub2Zmc2V0LmRvZXNOb3RBZGRCb3JkZXImJiEoYy5vZmZzZXQuZG9lc0FkZEJvcmRlckZvclRhYmxlQW5kQ2VsbHMmJnhiLnRlc3QoYi5ub2RlTmFtZSkpKXtrKz1wYXJzZUZsb2F0KGQuYm9yZGVyVG9wV2lkdGgpfHwwO28rPXBhcnNlRmxvYXQoZC5ib3JkZXJMZWZ0V2lkdGgpfHwwfWU9Yi5vZmZzZXRQYXJlbnR9aWYoYy5vZmZzZXQuc3VidHJhY3RzQm9yZGVyRm9yT3ZlcmZsb3dOb3RWaXNpYmxlJiZkLm92ZXJmbG93IT09InZpc2libGUiKXtrKz0KcGFyc2VGbG9hdChkLmJvcmRlclRvcFdpZHRoKXx8MDtvKz1wYXJzZUZsb2F0KGQuYm9yZGVyTGVmdFdpZHRoKXx8MH1kPWR9aWYoZC5wb3NpdGlvbj09PSJyZWxhdGl2ZSJ8fGQucG9zaXRpb249PT0ic3RhdGljIil7ays9bC5vZmZzZXRUb3A7bys9bC5vZmZzZXRMZWZ0fWlmKGMub2Zmc2V0LnN1cHBvcnRzRml4ZWRQb3NpdGlvbiYmZC5wb3NpdGlvbj09PSJmaXhlZCIpe2srPU1hdGgubWF4KGguc2Nyb2xsVG9wLGwuc2Nyb2xsVG9wKTtvKz1NYXRoLm1heChoLnNjcm9sbExlZnQsbC5zY3JvbGxMZWZ0KX1yZXR1cm57dG9wOmssbGVmdDpvfX07Yy5vZmZzZXQ9e2luaXRpYWxpemU6ZnVuY3Rpb24oKXt2YXIgYT10LmJvZHksYj10LmNyZWF0ZUVsZW1lbnQoImRpdiIpLGQsZSxmLGg9cGFyc2VGbG9hdChjLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDA7Yy5leHRlbmQoYi5zdHlsZSx7cG9zaXRpb246ImFic29sdXRlIix0b3A6MCxsZWZ0OjAsbWFyZ2luOjAsYm9yZGVyOjAsd2lkdGg6IjFweCIsCmhlaWdodDoiMXB4Iix2aXNpYmlsaXR5OiJoaWRkZW4ifSk7Yi5pbm5lckhUTUw9IjxkaXYgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46MDtib3JkZXI6NXB4IHNvbGlkICMwMDA7cGFkZGluZzowO3dpZHRoOjFweDtoZWlnaHQ6MXB4Oyc+PGRpdj48L2Rpdj48L2Rpdj48dGFibGUgc3R5bGU9J3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDttYXJnaW46MDtib3JkZXI6NXB4IHNvbGlkICMwMDA7cGFkZGluZzowO3dpZHRoOjFweDtoZWlnaHQ6MXB4OycgY2VsbHBhZGRpbmc9JzAnIGNlbGxzcGFjaW5nPScwJz48dHI+PHRkPjwvdGQ+PC90cj48L3RhYmxlPiI7YS5pbnNlcnRCZWZvcmUoYixhLmZpcnN0Q2hpbGQpO2Q9Yi5maXJzdENoaWxkO2U9ZC5maXJzdENoaWxkO2Y9ZC5uZXh0U2libGluZy5maXJzdENoaWxkLmZpcnN0Q2hpbGQ7dGhpcy5kb2VzTm90QWRkQm9yZGVyPWUub2Zmc2V0VG9wIT09NTt0aGlzLmRvZXNBZGRCb3JkZXJGb3JUYWJsZUFuZENlbGxzPQpmLm9mZnNldFRvcD09PTU7ZS5zdHlsZS5wb3NpdGlvbj0iZml4ZWQiO2Uuc3R5bGUudG9wPSIyMHB4Ijt0aGlzLnN1cHBvcnRzRml4ZWRQb3NpdGlvbj1lLm9mZnNldFRvcD09PTIwfHxlLm9mZnNldFRvcD09PTE1O2Uuc3R5bGUucG9zaXRpb249ZS5zdHlsZS50b3A9IiI7ZC5zdHlsZS5vdmVyZmxvdz0iaGlkZGVuIjtkLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dGhpcy5zdWJ0cmFjdHNCb3JkZXJGb3JPdmVyZmxvd05vdFZpc2libGU9ZS5vZmZzZXRUb3A9PT0tNTt0aGlzLmRvZXNOb3RJbmNsdWRlTWFyZ2luSW5Cb2R5T2Zmc2V0PWEub2Zmc2V0VG9wIT09aDthLnJlbW92ZUNoaWxkKGIpO2Mub2Zmc2V0LmluaXRpYWxpemU9Yy5ub29wfSxib2R5T2Zmc2V0OmZ1bmN0aW9uKGEpe3ZhciBiPWEub2Zmc2V0VG9wLGQ9YS5vZmZzZXRMZWZ0O2Mub2Zmc2V0LmluaXRpYWxpemUoKTtpZihjLm9mZnNldC5kb2VzTm90SW5jbHVkZU1hcmdpbkluQm9keU9mZnNldCl7Yis9cGFyc2VGbG9hdChjLmNzcyhhLAoibWFyZ2luVG9wIikpfHwwO2QrPXBhcnNlRmxvYXQoYy5jc3MoYSwibWFyZ2luTGVmdCIpKXx8MH1yZXR1cm57dG9wOmIsbGVmdDpkfX0sc2V0T2Zmc2V0OmZ1bmN0aW9uKGEsYixkKXt2YXIgZT1jLmNzcyhhLCJwb3NpdGlvbiIpO2lmKGU9PT0ic3RhdGljIilhLnN0eWxlLnBvc2l0aW9uPSJyZWxhdGl2ZSI7dmFyIGY9YyhhKSxoPWYub2Zmc2V0KCksbD1jLmNzcyhhLCJ0b3AiKSxrPWMuY3NzKGEsImxlZnQiKSxvPWU9PT0iYWJzb2x1dGUiJiZjLmluQXJyYXkoImF1dG8iLFtsLGtdKT4tMTtlPXt9O3ZhciB4PXt9O2lmKG8peD1mLnBvc2l0aW9uKCk7bD1vP3gudG9wOnBhcnNlSW50KGwsMTApfHwwO2s9bz94LmxlZnQ6cGFyc2VJbnQoaywxMCl8fDA7aWYoYy5pc0Z1bmN0aW9uKGIpKWI9Yi5jYWxsKGEsZCxoKTtpZihiLnRvcCE9bnVsbCllLnRvcD1iLnRvcC1oLnRvcCtsO2lmKGIubGVmdCE9bnVsbCllLmxlZnQ9Yi5sZWZ0LWgubGVmdCtrOyJ1c2luZyJpbiBiP2IudXNpbmcuY2FsbChhLAplKTpmLmNzcyhlKX19O2MuZm4uZXh0ZW5kKHtwb3NpdGlvbjpmdW5jdGlvbigpe2lmKCF0aGlzWzBdKXJldHVybiBudWxsO3ZhciBhPXRoaXNbMF0sYj10aGlzLm9mZnNldFBhcmVudCgpLGQ9dGhpcy5vZmZzZXQoKSxlPUlhLnRlc3QoYlswXS5ub2RlTmFtZSk/e3RvcDowLGxlZnQ6MH06Yi5vZmZzZXQoKTtkLnRvcC09cGFyc2VGbG9hdChjLmNzcyhhLCJtYXJnaW5Ub3AiKSl8fDA7ZC5sZWZ0LT1wYXJzZUZsb2F0KGMuY3NzKGEsIm1hcmdpbkxlZnQiKSl8fDA7ZS50b3ArPXBhcnNlRmxvYXQoYy5jc3MoYlswXSwiYm9yZGVyVG9wV2lkdGgiKSl8fDA7ZS5sZWZ0Kz1wYXJzZUZsb2F0KGMuY3NzKGJbMF0sImJvcmRlckxlZnRXaWR0aCIpKXx8MDtyZXR1cm57dG9wOmQudG9wLWUudG9wLGxlZnQ6ZC5sZWZ0LWUubGVmdH19LG9mZnNldFBhcmVudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbigpe2Zvcih2YXIgYT10aGlzLm9mZnNldFBhcmVudHx8dC5ib2R5O2EmJiFJYS50ZXN0KGEubm9kZU5hbWUpJiYKYy5jc3MoYSwicG9zaXRpb24iKT09PSJzdGF0aWMiOylhPWEub2Zmc2V0UGFyZW50O3JldHVybiBhfSl9fSk7Yy5lYWNoKFsiTGVmdCIsIlRvcCJdLGZ1bmN0aW9uKGEsYil7dmFyIGQ9InNjcm9sbCIrYjtjLmZuW2RdPWZ1bmN0aW9uKGUpe3ZhciBmPXRoaXNbMF0saDtpZighZilyZXR1cm4gbnVsbDtpZihlIT09QilyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7aWYoaD1mYSh0aGlzKSloLnNjcm9sbFRvKCFhP2U6YyhoKS5zY3JvbGxMZWZ0KCksYT9lOmMoaCkuc2Nyb2xsVG9wKCkpO2Vsc2UgdGhpc1tkXT1lfSk7ZWxzZSByZXR1cm4oaD1mYShmKSk/InBhZ2VYT2Zmc2V0ImluIGg/aFthPyJwYWdlWU9mZnNldCI6InBhZ2VYT2Zmc2V0Il06Yy5zdXBwb3J0LmJveE1vZGVsJiZoLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFtkXXx8aC5kb2N1bWVudC5ib2R5W2RdOmZbZF19fSk7Yy5lYWNoKFsiSGVpZ2h0IiwiV2lkdGgiXSxmdW5jdGlvbihhLGIpe3ZhciBkPWIudG9Mb3dlckNhc2UoKTsKYy5mblsiaW5uZXIiK2JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXNbMF0/cGFyc2VGbG9hdChjLmNzcyh0aGlzWzBdLGQsInBhZGRpbmciKSk6bnVsbH07Yy5mblsib3V0ZXIiK2JdPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzWzBdP3BhcnNlRmxvYXQoYy5jc3ModGhpc1swXSxkLGU/Im1hcmdpbiI6ImJvcmRlciIpKTpudWxsfTtjLmZuW2RdPWZ1bmN0aW9uKGUpe3ZhciBmPXRoaXNbMF07aWYoIWYpcmV0dXJuIGU9PW51bGw/bnVsbDp0aGlzO2lmKGMuaXNGdW5jdGlvbihlKSlyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKGwpe3ZhciBrPWModGhpcyk7a1tkXShlLmNhbGwodGhpcyxsLGtbZF0oKSkpfSk7aWYoYy5pc1dpbmRvdyhmKSlyZXR1cm4gZi5kb2N1bWVudC5jb21wYXRNb2RlPT09IkNTUzFDb21wYXQiJiZmLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudFsiY2xpZW50IitiXXx8Zi5kb2N1bWVudC5ib2R5WyJjbGllbnQiK2JdO2Vsc2UgaWYoZi5ub2RlVHlwZT09PTkpcmV0dXJuIE1hdGgubWF4KGYuZG9jdW1lbnRFbGVtZW50WyJjbGllbnQiKwpiXSxmLmJvZHlbInNjcm9sbCIrYl0sZi5kb2N1bWVudEVsZW1lbnRbInNjcm9sbCIrYl0sZi5ib2R5WyJvZmZzZXQiK2JdLGYuZG9jdW1lbnRFbGVtZW50WyJvZmZzZXQiK2JdKTtlbHNlIGlmKGU9PT1CKXtmPWMuY3NzKGYsZCk7dmFyIGg9cGFyc2VGbG9hdChmKTtyZXR1cm4gYy5pc05hTihoKT9mOmh9ZWxzZSByZXR1cm4gdGhpcy5jc3MoZCx0eXBlb2YgZT09PSJzdHJpbmciP2U6ZSsicHgiKX19KX0pKHdpbmRvdyk7Cg==", "content_type": "application/javascript"}, "google-spreadsheet-javascript/tests/qunit.css": {"data": "LyoqIEZvbnQgRmFtaWx5IGFuZCBTaXplcyAqLwoKI3F1bml0LXRlc3RzLCAjcXVuaXQtaGVhZGVyLCAjcXVuaXQtYmFubmVyLCAjcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyLCAjcXVuaXQtdXNlckFnZW50LCAjcXVuaXQtdGVzdHJlc3VsdCB7Cglmb250LWZhbWlseTogIkhlbHZldGljYSBOZXVlIExpZ2h0IiwgIkhlbHZldGljYU5ldWUtTGlnaHQiLCAiSGVsdmV0aWNhIE5ldWUiLCBDYWxpYnJpLCBIZWx2ZXRpY2EsIEFyaWFsOwp9CgojcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyLCAjcXVuaXQtdXNlckFnZW50LCAjcXVuaXQtdGVzdHJlc3VsdCwgI3F1bml0LXRlc3RzIGxpIHsgZm9udC1zaXplOiBzbWFsbDsgfQojcXVuaXQtdGVzdHMgeyBmb250LXNpemU6IHNtYWxsZXI7IH0KCgovKiogUmVzZXRzICovCgojcXVuaXQtdGVzdHMsICNxdW5pdC10ZXN0cyBvbCwgI3F1bml0LWhlYWRlciwgI3F1bml0LWJhbm5lciwgI3F1bml0LXVzZXJBZ2VudCwgI3F1bml0LXRlc3RyZXN1bHQgewoJbWFyZ2luOiAwOwoJcGFkZGluZzogMDsKfQoKCi8qKiBIZWFkZXIgKi8KCiNxdW5pdC1oZWFkZXIgewoJcGFkZGluZzogMC41ZW0gMCAwLjVlbSAxZW07CgoJY29sb3I6ICM4Njk5YTQ7CgliYWNrZ3JvdW5kLWNvbG9yOiAjMGQzMzQ5OwoKCWZvbnQtc2l6ZTogMS41ZW07CglsaW5lLWhlaWdodDogMWVtOwoJZm9udC13ZWlnaHQ6IG5vcm1hbDsKCQoJYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDAgMDsKCS1tb3otYm9yZGVyLXJhZGl1czogMTVweCAxNXB4IDAgMDsKCS13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6IDE1cHg7Cgktd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDE1cHg7Cn0KCiNxdW5pdC1oZWFkZXIgYSB7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cgljb2xvcjogI2MyY2NkMTsKfQoKI3F1bml0LWhlYWRlciBhOmhvdmVyLAojcXVuaXQtaGVhZGVyIGE6Zm9jdXMgewoJY29sb3I6ICNmZmY7Cn0KCiNxdW5pdC1iYW5uZXIgewoJaGVpZ2h0OiA1cHg7Cn0KCiNxdW5pdC10ZXN0cnVubmVyLXRvb2xiYXIgewoJcGFkZGluZzogMGVtIDAgMC41ZW0gMmVtOwp9CgojcXVuaXQtdXNlckFnZW50IHsKCXBhZGRpbmc6IDAuNWVtIDAgMC41ZW0gMi41ZW07CgliYWNrZ3JvdW5kLWNvbG9yOiAjMmI4MWFmOwoJY29sb3I6ICNmZmY7Cgl0ZXh0LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjUpIDJweCAycHggMXB4Owp9CgoKLyoqIFRlc3RzOiBQYXNzL0ZhaWwgKi8KCiNxdW5pdC10ZXN0cyB7CglsaXN0LXN0eWxlLXBvc2l0aW9uOiBpbnNpZGU7Cn0KCiNxdW5pdC10ZXN0cyBsaSB7CglwYWRkaW5nOiAwLjRlbSAwLjVlbSAwLjRlbSAyLjVlbTsKCWJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZmZmOwoJbGlzdC1zdHlsZS1wb3NpdGlvbjogaW5zaWRlOwp9CgojcXVuaXQtdGVzdHMgbGkgc3Ryb25nIHsKCWN1cnNvcjogcG9pbnRlcjsKfQoKI3F1bml0LXRlc3RzIG9sIHsKCW1hcmdpbi10b3A6IDAuNWVtOwoJcGFkZGluZzogMC41ZW07CgkKCWJhY2tncm91bmQtY29sb3I6ICNmZmY7CgkKCWJvcmRlci1yYWRpdXM6IDE1cHg7CgktbW96LWJvcmRlci1yYWRpdXM6IDE1cHg7Cgktd2Via2l0LWJvcmRlci1yYWRpdXM6IDE1cHg7CgkKCWJveC1zaGFkb3c6IGluc2V0IDBweCAycHggMTNweCAjOTk5OwoJLW1vei1ib3gtc2hhZG93OiBpbnNldCAwcHggMnB4IDEzcHggIzk5OTsKCS13ZWJraXQtYm94LXNoYWRvdzogaW5zZXQgMHB4IDJweCAxM3B4ICM5OTk7Cn0KCiNxdW5pdC10ZXN0cyB0YWJsZSB7Cglib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOwoJbWFyZ2luLXRvcDogLjJlbTsKfQoKI3F1bml0LXRlc3RzIHRoIHsKCXRleHQtYWxpZ246IHJpZ2h0OwoJdmVydGljYWwtYWxpZ246IHRvcDsKCXBhZGRpbmc6IDAgLjVlbSAwIDA7Cn0KCiNxdW5pdC10ZXN0cyB0ZCB7Cgl2ZXJ0aWNhbC1hbGlnbjogdG9wOwp9CgojcXVuaXQtdGVzdHMgcHJlIHsKCW1hcmdpbjogMDsKCXdoaXRlLXNwYWNlOiBwcmUtd3JhcDsKCXdvcmQtd3JhcDogYnJlYWstd29yZDsKfQoKI3F1bml0LXRlc3RzIGRlbCB7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZTBmMmJlOwoJY29sb3I6ICMzNzRlMGM7Cgl0ZXh0LWRlY29yYXRpb246IG5vbmU7Cn0KCiNxdW5pdC10ZXN0cyBpbnMgewoJYmFja2dyb3VuZC1jb2xvcjogI2ZmY2FjYTsKCWNvbG9yOiAjNTAwOwoJdGV4dC1kZWNvcmF0aW9uOiBub25lOwp9CgovKioqIFRlc3QgQ291bnRzICovCgojcXVuaXQtdGVzdHMgYi5jb3VudHMgICAgICAgICAgICAgICAgICAgICAgIHsgY29sb3I6IGJsYWNrOyB9CiNxdW5pdC10ZXN0cyBiLnBhc3NlZCAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xvcjogIzVFNzQwQjsgfQojcXVuaXQtdGVzdHMgYi5mYWlsZWQgICAgICAgICAgICAgICAgICAgICAgIHsgY29sb3I6ICM3MTA5MDk7IH0KCiNxdW5pdC10ZXN0cyBsaSBsaSB7CgltYXJnaW46IDAuNWVtOwoJcGFkZGluZzogMC40ZW0gMC41ZW0gMC40ZW0gMC41ZW07CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJYm9yZGVyLWJvdHRvbTogbm9uZTsKCWxpc3Qtc3R5bGUtcG9zaXRpb246IGluc2lkZTsKfQoKLyoqKiBQYXNzaW5nIFN0eWxlcyAqLwoKI3F1bml0LXRlc3RzIGxpIGxpLnBhc3MgewoJY29sb3I6ICM1RTc0MEI7CgliYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOwoJYm9yZGVyLWxlZnQ6IDI2cHggc29saWQgI0M2RTc0NjsKfQoKI3F1bml0LXRlc3RzIC5wYXNzICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNvbG9yOiAjNTI4Q0UwOyBiYWNrZ3JvdW5kLWNvbG9yOiAjRDJFMEU2OyB9CiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1uYW1lICAgICAgICAgICAgICAgeyBjb2xvcjogIzM2NjA5NzsgfQogCiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1hY3R1YWwsCiNxdW5pdC10ZXN0cyAucGFzcyAudGVzdC1leHBlY3RlZCAgICAgICAgICAgeyBjb2xvcjogIzk5OTk5OTsgfQoKI3F1bml0LWJhbm5lci5xdW5pdC1wYXNzICAgICAgICAgICAgICAgICAgICB7IGJhY2tncm91bmQtY29sb3I6ICNDNkU3NDY7IH0KCi8qKiogRmFpbGluZyBTdHlsZXMgKi8KCiNxdW5pdC10ZXN0cyBsaSBsaS5mYWlsIHsKCWNvbG9yOiAjNzEwOTA5OwoJYmFja2dyb3VuZC1jb2xvcjogI2ZmZjsKCWJvcmRlci1sZWZ0OiAyNnB4IHNvbGlkICNFRTU3NTc7Cn0KCiNxdW5pdC10ZXN0cyAuZmFpbCAgICAgICAgICAgICAgICAgICAgICAgICAgeyBjb2xvcjogIzAwMDAwMDsgYmFja2dyb3VuZC1jb2xvcjogI0VFNTc1NzsgfQojcXVuaXQtdGVzdHMgLmZhaWwgLnRlc3QtbmFtZSwKI3F1bml0LXRlc3RzIC5mYWlsIC5tb2R1bGUtbmFtZSAgICAgICAgICAgICB7IGNvbG9yOiAjMDAwMDAwOyB9CgojcXVuaXQtdGVzdHMgLmZhaWwgLnRlc3QtYWN0dWFsICAgICAgICAgICAgIHsgY29sb3I6ICNFRTU3NTc7IH0KI3F1bml0LXRlc3RzIC5mYWlsIC50ZXN0LWV4cGVjdGVkICAgICAgICAgICB7IGNvbG9yOiBncmVlbjsgICB9CgojcXVuaXQtYmFubmVyLnF1bml0LWZhaWwsIAojcXVuaXQtdGVzdHJ1bm5lci10b29sYmFyICAgICAgICAgICAgICAgICAgIHsgYmFja2dyb3VuZC1jb2xvcjogI0VFNTc1NzsgfQoKCi8qKiBGb290ZXIgKi8KCiNxdW5pdC10ZXN0cmVzdWx0IHsKCXBhZGRpbmc6IDAuNWVtIDAuNWVtIDAuNWVtIDIuNWVtOwoKCWNvbG9yOiAjMmI4MWFmOwoJYmFja2dyb3VuZC1jb2xvcjogI0QyRTBFNjsKCglib3JkZXItcmFkaXVzOiAwIDAgMTVweCAxNXB4OwoJLW1vei1ib3JkZXItcmFkaXVzOiAwIDAgMTVweCAxNXB4OwoJLXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogMTVweDsKCS13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMTVweDsKfQoKLyoqIEZpeHR1cmUgKi8KCiNxdW5pdC1maXh0dXJlIHsKCXBvc2l0aW9uOiBhYnNvbHV0ZTsKCXRvcDogLTEwMDAwcHg7CglsZWZ0OiAtMTAwMDBweDsKfQo=", "content_type": "text/css"}, "tests/index.html": {"data": "PCFET0NUWVBFIEhUTUwgUFVCTElDICItLy9XM0MvL0RURCBIVE1MIDQuMDEgVHJhbnNpdGlvbmFsLy9FTiIKICAgICAgImh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw0L2xvb3NlLmR0ZCI+CjxodG1sPgogIDxoZWFkPgogICAgPGxpbmsgcmVsPSJzdHlsZXNoZWV0IiBocmVmPSJxdW5pdC5jc3MiIHR5cGU9InRleHQvY3NzIi8+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9qcXVlcnktMS41Lm1pbi5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9tdXN0YWNoZS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgY2hhcnNldD0idXRmLTgiIHNyYz0iLi4vZ29vZ2xlLXNwcmVhZHNoZWV0LWphdmFzY3JpcHQvZ29vZ2xlLXNwcmVhZHNoZWV0LmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL21vZGVscy90ZW1wbGF0ZS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9tb2RlbHMvYXNzZXNzbWVudC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9tb2RlbHMvanF1ZXJ5TW9iaWxlUGFnZS5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSIuLi9tb2RlbHMvc2NvcmVyLmpzIj48L3NjcmlwdD4KICAgIDxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9Ii4uL21vZGVscy90aW1lci5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJxdW5pdC5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCIgc3JjPSJ0ZXN0cy5qcyI+PC9zY3JpcHQ+CiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICA8L3NjcmlwdD4KICAgIDx0aXRsZT5FR1JBIFVuaXQgVGVzdHM8L3RpdGxlPgogIDwvaGVhZD4KICA8Ym9keT4KICAgIDxoMSBpZD0icXVuaXQtaGVhZGVyIj5FR1JBIFVuaXQgVGVzdHM8L2gxPgogICAgPGgyIGlkPSJxdW5pdC1iYW5uZXIiPjwvaDI+CiAgICA8aDIgaWQ9InF1bml0LXVzZXJBZ2VudCI+PC9oMj4KICAgIDxvbCBpZD0icXVuaXQtdGVzdHMiPgogICAgPC9vbD4KICA8L2JvZHk+CjwvaHRtbD4K", "content_type": "text/html"}, "egra.js": {"data": "dmFyIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudDsKdmFyIF9fYmluZCA9IGZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH07CiQoZG9jdW1lbnQpLmJpbmQoIm1vYmlsZWluaXQiLCBmdW5jdGlvbigpIHsKICAkLm1vYmlsZS5hdXRvSW5pdGlhbGl6ZVBhZ2UgPSBmYWxzZTsKICByZXR1cm4gJC5tb2JpbGUuZGVmYXVsdFBhZ2VUcmFuc2l0aW9uID0gJ25vbmUnOwp9KTsKJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKSB7CiAgc3dpdGNoIChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gpIHsKICAgIGNhc2UgIj9kZWxldGVGcm9tQ291Y2g9dHJ1ZSI6CiAgICAgIHJldHVybiBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuZGVsZXRlRnJvbUNvdWNoKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9ICJpbmRleC5odG1sP3Nob3dNZW51PXRydWUiOwogICAgICB9KTsKICAgIGNhc2UgIj9sb2FkRnJvbVRlc3REYXRhU2F2ZVRvQ291Y2g9dHJ1ZSI6CiAgICAgIHJldHVybiBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQubG9hZEZyb21UZXN0RGF0YVNhdmVUb0NvdWNoKGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbiA9ICJpbmRleC5odG1sP3Nob3dNZW51PXRydWUiOwogICAgICB9KTsKICAgIGNhc2UgIj9wcmludG91dD10cnVlIjoKICAgICAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5wcmludCgpOwogICAgY2FzZSAiP1N5bmNUb0NlbnRyYWw9dHJ1ZSI6CiAgICAgICQoJ2JvZHknKS5odG1sKCJTZW5kaW5nIGRhdGEgdG8gY2VudHJhbCBwbGVhc2Ugd2FpdC4iKTsKICAgICAgcmV0dXJuICQuY291Y2gucmVwbGljYXRlKCJlZ3JhIiwgImh0dHA6Ly9taWtleW1ja2F5OmNvbjdxencuQG1pa2V5bWNrYXkuaXJpc2NvdWNoLmNvbS9lZ3JhIiwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/bWVzc2FnZT1TeW5jaHJvbml6YXRpb24gc3RhcnRlZCI7CiAgICAgICAgfQogICAgICB9KTsKICAgIGNhc2UgIj9TeW5jRnJvbUNlbnRyYWw9dHJ1ZSI6CiAgICAgICQoJ2JvZHknKS5odG1sKCJVcGRhdGluZyBzeXN0ZW0gZnJvbSBjZW50cmFsIHBsZWFzZSB3YWl0LiIpOwogICAgICByZXR1cm4gJC5jb3VjaC5yZXBsaWNhdGUoImh0dHA6Ly9taWtleW1ja2F5OmNvbjdxencuQG1pa2V5bWNrYXkuaXJpc2NvdWNoLmNvbS9lZ3JhIiwgImVncmEiLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oKSB7CiAgICAgICAgICByZXR1cm4gZG9jdW1lbnQubG9jYXRpb24gPSAiaW5kZXguaHRtbD9tZXNzYWdlPVN5bmNocm9uaXphdGlvbiBzdGFydGVkIjsKICAgICAgICB9CiAgICAgIH0pOwogICAgZGVmYXVsdDoKICAgICAgaWYgKGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvXD9tZXNzYWdlPSguKykvKSkgewogICAgICAgIHJldHVybiBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuc2hvd01lbnUoIlByb2Nlc3MgY29tcGxldGUhIik7CiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9cPy4rLykpIHsKICAgICAgICByZXR1cm4gRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRGcm9tQ291Y2goZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5zaG93TWVudSgpOwogICAgICB9CiAgfQp9KTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50ID0gKGZ1bmN0aW9uKCkgewogIGZ1bmN0aW9uIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudCgpIHt9CiAgcmV0dXJuIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudDsKfSkoKTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LnNob3dNZW51ID0gZnVuY3Rpb24obWVzc2FnZSkgewogIHZhciB1cmw7CiAgaWYgKG1lc3NhZ2UgPT0gbnVsbCkgewogICAgbWVzc2FnZSA9ICIiOwogIH0KICB1cmwgPSAiL2VncmEvX2FsbF9kb2NzIjsKICByZXR1cm4gJC5hamF4KHsKICAgIHVybDogdXJsLAogICAgYXN5bmM6IHRydWUsCiAgICB0eXBlOiAnR0VUJywKICAgIGRhdGFUeXBlOiAnanNvbicsCiAgICBzdWNjZXNzOiBfX2JpbmQoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIHZhciBjb3VjaERvY3VtZW50LCBkb2N1bWVudHM7CiAgICAgIGRvY3VtZW50cyA9IChmdW5jdGlvbigpIHsKICAgICAgICB2YXIgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzOwogICAgICAgIF9yZWYgPSByZXN1bHQucm93czsKICAgICAgICBfcmVzdWx0cyA9IFtdOwogICAgICAgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykgewogICAgICAgICAgY291Y2hEb2N1bWVudCA9IF9yZWZbX2ldOwogICAgICAgICAgX3Jlc3VsdHMucHVzaCgiPGEgcmVsPSdleHRlcm5hbCcgaHJlZj0nL191dGlscy9kb2N1bWVudC5odG1sP2VncmEvIiArIGNvdWNoRG9jdW1lbnQuaWQgKyAiJz4iICsgY291Y2hEb2N1bWVudC5pZCArICI8L2E+Iik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBfcmVzdWx0czsKICAgICAgfSkoKTsKICAgICAgJCgiYm9keSIpLmh0bWwoIiAgICAgICAgPGRpdiBkYXRhLXJvbGU9J3BhZ2UnIGlkPSdtZW51Jz4gICAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2hlYWRlcic+ICAgICAgICAgICAgPGgxPkFkbWluIE1lbnU8L2gxPiAgICAgICAgICA8L2Rpdj48IS0tIC9oZWFkZXIgLS0+ICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JICAgICAgICAgICAgIiArIG1lc3NhZ2UgKyAiICAgICAgICAgICAgPCEtLSAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPSciICsgZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWUgKyAiP0Fzc2Vzc21lbnQuRUdSQSBQcm90b3R5cGUnPkxvYWQgJ0Fzc2Vzc21lbnQuRUdSQSBQcm90b3R5cGUnIGZyb20gQ291Y2g8L2E+ICAgICAgICAgICAgLS0+ICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyIgKyBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICI/QXNzZXNzbWVudC5UaGUgR2FtYmlhIEVHUkEgTWF5IDIwMTEnPkxvYWQgU2FtcGxlIEFzc2Vzc21lbnQ8L2E+ICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyIgKyBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICI/QXNzZXNzbWVudC5UZXN0Jz5MZXR0ZXJzIFBhZ2UgRGVtbzwvYT4gICAgICAgICAgICA8IS0tICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyIgKyBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICI/ZGVsZXRlRnJvbUNvdWNoPXRydWUnPkRlbGV0ZSBhbGwgJ0Fzc2Vzc21lbnQuRUdSQScgZG9jdW1lbnRzIGZyb20gQ291Y2g8L2E+ICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyIgKyBkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZSArICI/bG9hZEZyb21UZXN0RGF0YVNhdmVUb0NvdWNoPXRydWUnPkxvYWQgZnJvbSBUZXN0IERhdGEgU2F2ZSBUbyBDb3VjaDwvYT4gICAgICAgICAgICAtLT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9TeW5jVG9DZW50cmFsPXRydWUnPlNlbmQgcmVzdWx0cyB0byBUYW5nZXJpbmVDZW50cmFsLmNvbTwvYT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9TeW5jRnJvbUNlbnRyYWw9dHJ1ZSc+VXBkYXRlIHN5c3RlbTwvYT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9wcmludG91dD10cnVlJz5HZW5lcmF0ZSBwcmludG91dDwvYT4gICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nIiArIGRvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lICsgIj9Bc3Nlc3NtZW50LlRlc3QnPkZvciBUZXN0aW5nPC9hPiAgICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdjb2xsYXBzaWJsZScgZGF0YS1jb2xsYXBzZWQ9J3RydWUnPiAgICAgICAgICAgICAgPGgzPlJlc3VsdHMgYW5kIGFzc2Vzc21lbnRzPC9oMz4gICAgICAgICAgICAgICIgKyAoZG9jdW1lbnRzLmpvaW4oIjxici8+IikpICsgIiAgICAgICAgICAgIDwvZGl2PiAgICAgICAgICA8L2Rpdj48IS0tIC9jb250ZW50IC0tPiAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0nZm9vdGVyJz4gICAgICAgICAgPC9kaXY+PCEtLSAvZm9vdGVyIC0tPiAgICAgICAgPC9kaXY+PCEtLSAvcGFnZSAtLT4gICAgICAiKTsKICAgICAgcmV0dXJuICQubW9iaWxlLmluaXRpYWxpemVQYWdlKCk7CiAgICB9LCB0aGlzKSwKICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgdGhyb3cgIkNvdWxkIG5vdCBHRVQgIiArIHVybDsKICAgIH0KICB9KTsKfTsKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LnByaW50ID0gZnVuY3Rpb24oKSB7CiAgcmV0dXJuIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQKCIvZWdyYS9Bc3Nlc3NtZW50LlRoZSBHYW1iaWEgRUdSQSBNYXkgMjAxMSIsIGZ1bmN0aW9uKGFzc2Vzc21lbnQpIHsKICAgIHJldHVybiBhc3Nlc3NtZW50LnRvUGFwZXIoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgIHZhciBzdHlsZTsKICAgICAgc3R5bGUgPSAiICAgICAgICBib2R5eyAgICAgICAgICBmb250LWZhbWlseTogQXJpYWw7ICAgICAgICB9ICAgICAgICAucGFnZS1icmVha3sgICAgICAgICAgZGlzcGxheTogYmxvY2s7ICAgICAgICAgIHBhZ2UtYnJlYWstYmVmb3JlOiBhbHdheXM7ICAgICAgICB9ICAgICAgICBpbnB1dHsgICAgICAgICAgaGVpZ2h0OiA1MHB4OyAgICAgICAgICAgIGJvcmRlcjogMXB4ICAgICAgICB9ICAgICAgIjsKICAgICAgJCgiYm9keSIpLmh0bWwocmVzdWx0KTsKICAgICAgcmV0dXJuICQoImxpbmsiKS5yZW1vdmUoKTsKICAgIH0pOwogIH0pOwp9OwpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQubG9hZEZyb21Db3VjaCA9IGZ1bmN0aW9uKHBhdGgpIHsKICByZXR1cm4gQXNzZXNzbWVudC5sb2FkRnJvbUhUVFAoIi9lZ3JhLyIgKyBwYXRoLCBmdW5jdGlvbihhc3Nlc3NtZW50KSB7CiAgICByZXR1cm4gYXNzZXNzbWVudC5yZW5kZXIoZnVuY3Rpb24ocmVzdWx0KSB7CiAgICAgICQoImJvZHkiKS5odG1sKHJlc3VsdCk7CiAgICAgIHJldHVybiAkLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpOwogICAgfSk7CiAgfSk7Cn07CkVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5sb2FkVGVzdCA9IGZ1bmN0aW9uKCkgewogIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgiL2VncmEvQXNzZXNzbWVudC5UZXN0IiwgZnVuY3Rpb24oYXNzZXNzbWVudCkgewogICAgcmV0dXJuIGFzc2Vzc21lbnQucmVuZGVyKGZ1bmN0aW9uKHJlc3VsdCkgewogICAgICAkKCJib2R5IikuaHRtbChyZXN1bHQpOwogICAgICByZXR1cm4gJC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKTsKICAgIH0pOwogIH0pOwp9OwpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuZGVsZXRlRnJvbUNvdWNoID0gZnVuY3Rpb24oY2FsbGJhY2spIHsKICB2YXIgdXJsOwogIHVybCA9ICIvZWdyYS9fYWxsX2RvY3MiOwogIHJldHVybiAkLmFqYXgoewogICAgdXJsOiB1cmwsCiAgICBhc3luYzogdHJ1ZSwKICAgIHR5cGU6ICdHRVQnLAogICAgZGF0YVR5cGU6ICdqc29uJywKICAgIHN1Y2Nlc3M6IF9fYmluZChmdW5jdGlvbihyZXN1bHQpIHsKICAgICAgdmFyIGRvY3VtZW50LCBfaSwgX2xlbiwgX3JlZiwgX3Jlc3VsdHM7CiAgICAgIF9yZWYgPSByZXN1bHQucm93czsKICAgICAgX3Jlc3VsdHMgPSBbXTsKICAgICAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7CiAgICAgICAgZG9jdW1lbnQgPSBfcmVmW19pXTsKICAgICAgICBfcmVzdWx0cy5wdXNoKGRvY3VtZW50LmlkLm1hdGNoKC9Bc3Nlc3NtZW50LkVHUkEvKSA/ICh1cmwgPSAiL2VncmEvIiArIGRvY3VtZW50LmlkICsgIj9yZXY9IiArIGRvY3VtZW50LnZhbHVlLnJldiwgJC5hamF4KHsKICAgICAgICAgIHVybDogdXJsLAogICAgICAgICAgYXN5bmM6IHRydWUsCiAgICAgICAgICB0eXBlOiAnREVMRVRFJywKICAgICAgICAgIGVycm9yOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBERUxFVEUgIiArIHVybDsKICAgICAgICAgIH0KICAgICAgICB9KSkgOiB2b2lkIDApOwogICAgICB9CiAgICAgIHJldHVybiBfcmVzdWx0czsKICAgIH0sIHRoaXMpLAogICAgZXJyb3I6IGZ1bmN0aW9uKCkgewogICAgICB0aHJvdyAiQ291bGQgbm90IEdFVCAiICsgdXJsOwogICAgfSwKICAgIGNvbXBsZXRlOiBfX2JpbmQoZnVuY3Rpb24oKSB7CiAgICAgIGlmIChjYWxsYmFjayAhPSBudWxsKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7CiAgICAgIH0KICAgIH0sIHRoaXMpCiAgfSk7Cn07CkVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5sb2FkRnJvbVRlc3REYXRhU2F2ZVRvQ291Y2ggPSBmdW5jdGlvbihjYWxsYmFjaykgewogIHJldHVybiBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCgidGVzdHMvdGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgZnVuY3Rpb24oYXNzZXNzbWVudCkgewogICAgYXNzZXNzbWVudC5jaGFuZ2VOYW1lKCJFR1JBIFByb3RvdHlwZSIpOwogICAgcmV0dXJuIGFzc2Vzc21lbnQuc2F2ZVRvQ291Y2hEQihjYWxsYmFjayk7CiAgfSk7Cn07CkVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5jcmVhdGVGcm9tR29vZ2xlID0gZnVuY3Rpb24oKSB7CiAgdmFyIGFzc2Vzc21lbnQsIGluc3RydWN0aW9ucywgbGV0dGVycywgbG9naW47CiAgYXNzZXNzbWVudCA9IG5ldyBBc3Nlc3NtZW50KCJFR1JBIFByb3RvdHlwZSIpOwogIGxvZ2luID0gbmV3IEpRdWVyeU1vYmlsZVBhZ2UoKTsKICBpbnN0cnVjdGlvbnMgPSBuZXcgSW5zdHJ1Y3Rpb25zUGFnZSgpOwogIGxldHRlcnMgPSBuZXcgTGV0dGVyc1BhZ2UoKTsKICBsb2dpbi5wYWdlSWQgPSAiTG9naW4iOwogIGxvZ2luLmhlYWRlciA9ICI8aDE+RUdSQTwvaDE+IjsKICBsb2dpbi5jb250ZW50ID0gKG5ldyBKUXVlcnlMb2dpbigpKS5yZW5kZXIoKTsKICBpbnN0cnVjdGlvbnMucGFnZUlkID0gIkluc3RydWN0aW9ucyI7CiAgaW5zdHJ1Y3Rpb25zLmhlYWRlciA9ICI8aDE+RUdSQTwvaDE+IjsKICBpbnN0cnVjdGlvbnMudXJsID0gImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEdKU1pUWTJNSFU0VmxKM1JuTnRkbk5EVmpSakxWRSZobD1lbiZvdXRwdXQ9aHRtbCI7CiAgaW5zdHJ1Y3Rpb25zLnVwZGF0ZUZyb21Hb29nbGUoKTsKICBsZXR0ZXJzLnBhZ2VJZCA9ICJMZXR0ZXJzIjsKICBsZXR0ZXJzLmhlYWRlciA9ICI8aDE+RUdSQTwvaDE+IjsKICBsZXR0ZXJzLnVybCA9ICJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL3B1Yj9rZXk9MEFnbzMxSlFQWnhacmRDMU1lR1ZxZDNGWmJYTTJSbk5GUkV0b1ZWWkZibWMmaGw9ZW4mb3V0cHV0PWh0bWwiOwogIGxldHRlcnMudXBkYXRlRnJvbUdvb2dsZSgpOwogIGFzc2Vzc21lbnQuc2V0UGFnZXMoW2xvZ2luLCBpbnN0cnVjdGlvbnMsIGxldHRlcnNdKTsKICByZXR1cm4gYXNzZXNzbWVudDsKfTs=", "content_type": "application/javascript"}, "js-libraries/mustache.js": {"data": "LyoKICBtdXN0YWNoZS5qcyDigJQgTG9naWMtbGVzcyB0ZW1wbGF0ZXMgaW4gSmF2YVNjcmlwdAoKICBTZWUgaHR0cDovL211c3RhY2hlLmdpdGh1Yi5jb20vIGZvciBtb3JlIGluZm8uCiovCgp2YXIgTXVzdGFjaGUgPSBmdW5jdGlvbigpIHsKICB2YXIgUmVuZGVyZXIgPSBmdW5jdGlvbigpIHt9OwoKICBSZW5kZXJlci5wcm90b3R5cGUgPSB7CiAgICBvdGFnOiAie3siLAogICAgY3RhZzogIn19IiwKICAgIHByYWdtYXM6IHt9LAogICAgYnVmZmVyOiBbXSwKICAgIHByYWdtYXNfaW1wbGVtZW50ZWQ6IHsKICAgICAgIklNUExJQ0lULUlURVJBVE9SIjogdHJ1ZQogICAgfSwKICAgIGNvbnRleHQ6IHt9LAoKICAgIHJlbmRlcjogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gcmVzZXQgYnVmZmVyICYgc2V0IGNvbnRleHQKICAgICAgaWYoIWluX3JlY3Vyc2lvbikgewogICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7CiAgICAgICAgdGhpcy5idWZmZXIgPSBbXTsgLy8gVE9ETzogbWFrZSB0aGlzIG5vbi1sYXp5CiAgICAgIH0KCiAgICAgIC8vIGZhaWwgZmFzdAogICAgICBpZighdGhpcy5pbmNsdWRlcygiIiwgdGVtcGxhdGUpKSB7CiAgICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc2VuZCh0ZW1wbGF0ZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CgogICAgICB0ZW1wbGF0ZSA9IHRoaXMucmVuZGVyX3ByYWdtYXModGVtcGxhdGUpOwogICAgICB2YXIgaHRtbCA9IHRoaXMucmVuZGVyX3NlY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzKTsKICAgICAgaWYoaW5fcmVjdXJzaW9uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICAgIH0KCiAgICAgIHRoaXMucmVuZGVyX3RhZ3MoaHRtbCwgY29udGV4dCwgcGFydGlhbHMsIGluX3JlY3Vyc2lvbik7CiAgICB9LAoKICAgIC8qCiAgICAgIFNlbmRzIHBhcnNlZCBsaW5lcwogICAgKi8KICAgIHNlbmQ6IGZ1bmN0aW9uKGxpbmUpIHsKICAgICAgaWYobGluZSAhPSAiIikgewogICAgICAgIHRoaXMuYnVmZmVyLnB1c2gobGluZSk7CiAgICAgIH0KICAgIH0sCgogICAgLyoKICAgICAgTG9va3MgZm9yICVQUkFHTUFTCiAgICAqLwogICAgcmVuZGVyX3ByYWdtYXM6IGZ1bmN0aW9uKHRlbXBsYXRlKSB7CiAgICAgIC8vIG5vIHByYWdtYXMKICAgICAgaWYoIXRoaXMuaW5jbHVkZXMoIiUiLCB0ZW1wbGF0ZSkpIHsKICAgICAgICByZXR1cm4gdGVtcGxhdGU7CiAgICAgIH0KCiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCh0aGlzLm90YWcgKyAiJShbXFx3LV0rKSA/KFtcXHddKz1bXFx3XSspPyIgKwogICAgICAgICAgICB0aGlzLmN0YWcpOwogICAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShyZWdleCwgZnVuY3Rpb24obWF0Y2gsIHByYWdtYSwgb3B0aW9ucykgewogICAgICAgIGlmKCF0aGF0LnByYWdtYXNfaW1wbGVtZW50ZWRbcHJhZ21hXSkgewogICAgICAgICAgdGhyb3coe21lc3NhZ2U6IAogICAgICAgICAgICAiVGhpcyBpbXBsZW1lbnRhdGlvbiBvZiBtdXN0YWNoZSBkb2Vzbid0IHVuZGVyc3RhbmQgdGhlICciICsKICAgICAgICAgICAgcHJhZ21hICsgIicgcHJhZ21hIn0pOwogICAgICAgIH0KICAgICAgICB0aGF0LnByYWdtYXNbcHJhZ21hXSA9IHt9OwogICAgICAgIGlmKG9wdGlvbnMpIHsKICAgICAgICAgIHZhciBvcHRzID0gb3B0aW9ucy5zcGxpdCgiPSIpOwogICAgICAgICAgdGhhdC5wcmFnbWFzW3ByYWdtYV1bb3B0c1swXV0gPSBvcHRzWzFdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgLy8gaWdub3JlIHVua25vd24gcHJhZ21hcyBzaWxlbnRseQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgVHJpZXMgdG8gZmluZCBhIHBhcnRpYWwgaW4gdGhlIGN1cmVudCBzY29wZSBhbmQgcmVuZGVyIGl0CiAgICAqLwogICAgcmVuZGVyX3BhcnRpYWw6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQsIHBhcnRpYWxzKSB7CiAgICAgIG5hbWUgPSB0aGlzLnRyaW0obmFtZSk7CiAgICAgIGlmKCFwYXJ0aWFscyB8fCBwYXJ0aWFsc1tuYW1lXSA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgdGhyb3coe21lc3NhZ2U6ICJ1bmtub3duX3BhcnRpYWwgJyIgKyBuYW1lICsgIicifSk7CiAgICAgIH0KICAgICAgaWYodHlwZW9mKGNvbnRleHRbbmFtZV0pICE9ICJvYmplY3QiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKHBhcnRpYWxzW25hbWVdLCBjb250ZXh0W25hbWVdLCBwYXJ0aWFscywgdHJ1ZSk7CiAgICB9LAoKICAgIC8qCiAgICAgIFJlbmRlcnMgaW52ZXJ0ZWQgKF4pIGFuZCBub3JtYWwgKCMpIHNlY3Rpb25zCiAgICAqLwogICAgcmVuZGVyX3NlY3Rpb246IGZ1bmN0aW9uKHRlbXBsYXRlLCBjb250ZXh0LCBwYXJ0aWFscykgewogICAgICBpZighdGhpcy5pbmNsdWRlcygiIyIsIHRlbXBsYXRlKSAmJiAhdGhpcy5pbmNsdWRlcygiXiIsIHRlbXBsYXRlKSkgewogICAgICAgIHJldHVybiB0ZW1wbGF0ZTsKICAgICAgfQoKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICAvLyBDU1cgLSBBZGRlZCAiKz8iIHNvIGl0IGZpbmRzIHRoZSB0aWdoZXN0IGJvdW5kLCBub3QgdGhlIHdpZGVzdAogICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKHRoaXMub3RhZyArICIoXFxefFxcIylcXHMqKC4rKVxccyoiICsgdGhpcy5jdGFnICsKICAgICAgICAgICAgICAiXG4qKFtcXHNcXFNdKz8pIiArIHRoaXMub3RhZyArICJcXC9cXHMqXFwyXFxzKiIgKyB0aGlzLmN0YWcgKwogICAgICAgICAgICAgICJcXHMqIiwgIm1nIik7CgogICAgICAvLyBmb3IgZWFjaCB7eyNmb299fXt7L2Zvb319IHNlY3Rpb24gZG8uLi4KICAgICAgcmV0dXJuIHRlbXBsYXRlLnJlcGxhY2UocmVnZXgsIGZ1bmN0aW9uKG1hdGNoLCB0eXBlLCBuYW1lLCBjb250ZW50KSB7CiAgICAgICAgdmFyIHZhbHVlID0gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGlmKHR5cGUgPT0gIl4iKSB7IC8vIGludmVydGVkIHNlY3Rpb24KICAgICAgICAgIGlmKCF2YWx1ZSB8fCB0aGF0LmlzX2FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgLy8gZmFsc2Ugb3IgZW1wdHkgbGlzdCwgcmVuZGVyIGl0CiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmKHR5cGUgPT0gIiMiKSB7IC8vIG5vcm1hbCBzZWN0aW9uCiAgICAgICAgICBpZih0aGF0LmlzX2FycmF5KHZhbHVlKSkgeyAvLyBFbnVtZXJhYmxlLCBMZXQncyBsb29wIQogICAgICAgICAgICByZXR1cm4gdGhhdC5tYXAodmFsdWUsIGZ1bmN0aW9uKHJvdykgewogICAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCB0aGF0LmNyZWF0ZV9jb250ZXh0KHJvdyksCiAgICAgICAgICAgICAgICBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICAgIH0pLmpvaW4oIiIpOwogICAgICAgICAgfSBlbHNlIGlmKHRoYXQuaXNfb2JqZWN0KHZhbHVlKSkgeyAvLyBPYmplY3QsIFVzZSBpdCBhcyBzdWJjb250ZXh0IQogICAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXIoY29udGVudCwgdGhhdC5jcmVhdGVfY29udGV4dCh2YWx1ZSksCiAgICAgICAgICAgICAgcGFydGlhbHMsIHRydWUpOwogICAgICAgICAgfSBlbHNlIGlmKHR5cGVvZiB2YWx1ZSA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgICAvLyBoaWdoZXIgb3JkZXIgc2VjdGlvbgogICAgICAgICAgICByZXR1cm4gdmFsdWUuY2FsbChjb250ZXh0LCBjb250ZW50LCBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgICAgICAgcmV0dXJuIHRoYXQucmVuZGVyKHRleHQsIGNvbnRleHQsIHBhcnRpYWxzLCB0cnVlKTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgaWYodmFsdWUpIHsgLy8gYm9vbGVhbiBzZWN0aW9uCiAgICAgICAgICAgIHJldHVybiB0aGF0LnJlbmRlcihjb250ZW50LCBjb250ZXh0LCBwYXJ0aWFscywgdHJ1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCgogICAgLyoKICAgICAgUmVwbGFjZSB7e2Zvb319IGFuZCBmcmllbmRzIHdpdGggdmFsdWVzIGZyb20gb3VyIHZpZXcKICAgICovCiAgICByZW5kZXJfdGFnczogZnVuY3Rpb24odGVtcGxhdGUsIGNvbnRleHQsIHBhcnRpYWxzLCBpbl9yZWN1cnNpb24pIHsKICAgICAgLy8gdGl0IGZvciB0YXQKICAgICAgdmFyIHRoYXQgPSB0aGlzOwoKICAgICAgdmFyIG5ld19yZWdleCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiBuZXcgUmVnRXhwKHRoYXQub3RhZyArICIoPXwhfD58XFx7fCUpPyhbXlxcLyNcXF5dKz8pXFwxPyIgKwogICAgICAgICAgdGhhdC5jdGFnICsgIisiLCAiZyIpOwogICAgICB9OwoKICAgICAgdmFyIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgIHZhciB0YWdfcmVwbGFjZV9jYWxsYmFjayA9IGZ1bmN0aW9uKG1hdGNoLCBvcGVyYXRvciwgbmFtZSkgewogICAgICAgIHN3aXRjaChvcGVyYXRvcikgewogICAgICAgIGNhc2UgIiEiOiAvLyBpZ25vcmUgY29tbWVudHMKICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICBjYXNlICI9IjogLy8gc2V0IG5ldyBkZWxpbWl0ZXJzLCByZWJ1aWxkIHRoZSByZXBsYWNlIHJlZ2V4cAogICAgICAgICAgdGhhdC5zZXRfZGVsaW1pdGVycyhuYW1lKTsKICAgICAgICAgIHJlZ2V4ID0gbmV3X3JlZ2V4KCk7CiAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgY2FzZSAiPiI6IC8vIHJlbmRlciBwYXJ0aWFsCiAgICAgICAgICByZXR1cm4gdGhhdC5yZW5kZXJfcGFydGlhbChuYW1lLCBjb250ZXh0LCBwYXJ0aWFscyk7CiAgICAgICAgY2FzZSAieyI6IC8vIHRoZSB0cmlwbGUgbXVzdGFjaGUgaXMgdW5lc2NhcGVkCiAgICAgICAgICByZXR1cm4gdGhhdC5maW5kKG5hbWUsIGNvbnRleHQpOwogICAgICAgIGRlZmF1bHQ6IC8vIGVzY2FwZSB0aGUgdmFsdWUKICAgICAgICAgIHJldHVybiB0aGF0LmVzY2FwZSh0aGF0LmZpbmQobmFtZSwgY29udGV4dCkpOwogICAgICAgIH0KICAgICAgfTsKICAgICAgdmFyIGxpbmVzID0gdGVtcGxhdGUuc3BsaXQoIlxuIik7CiAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBsaW5lcy5sZW5ndGg7IGkrKykgewogICAgICAgIGxpbmVzW2ldID0gbGluZXNbaV0ucmVwbGFjZShyZWdleCwgdGFnX3JlcGxhY2VfY2FsbGJhY2ssIHRoaXMpOwogICAgICAgIGlmKCFpbl9yZWN1cnNpb24pIHsKICAgICAgICAgIHRoaXMuc2VuZChsaW5lc1tpXSk7CiAgICAgICAgfQogICAgICB9CgogICAgICBpZihpbl9yZWN1cnNpb24pIHsKICAgICAgICByZXR1cm4gbGluZXMuam9pbigiXG4iKTsKICAgICAgfQogICAgfSwKCiAgICBzZXRfZGVsaW1pdGVyczogZnVuY3Rpb24oZGVsaW1pdGVycykgewogICAgICB2YXIgZGVscyA9IGRlbGltaXRlcnMuc3BsaXQoIiAiKTsKICAgICAgdGhpcy5vdGFnID0gdGhpcy5lc2NhcGVfcmVnZXgoZGVsc1swXSk7CiAgICAgIHRoaXMuY3RhZyA9IHRoaXMuZXNjYXBlX3JlZ2V4KGRlbHNbMV0pOwogICAgfSwKCiAgICBlc2NhcGVfcmVnZXg6IGZ1bmN0aW9uKHRleHQpIHsKICAgICAgLy8gdGhhbmsgeW91IFNpbW9uIFdpbGxpc29uCiAgICAgIGlmKCFhcmd1bWVudHMuY2FsbGVlLnNSRSkgewogICAgICAgIHZhciBzcGVjaWFscyA9IFsKICAgICAgICAgICcvJywgJy4nLCAnKicsICcrJywgJz8nLCAnfCcsCiAgICAgICAgICAnKCcsICcpJywgJ1snLCAnXScsICd7JywgJ30nLCAnXFwnCiAgICAgICAgXTsKICAgICAgICBhcmd1bWVudHMuY2FsbGVlLnNSRSA9IG5ldyBSZWdFeHAoCiAgICAgICAgICAnKFxcJyArIHNwZWNpYWxzLmpvaW4oJ3xcXCcpICsgJyknLCAnZycKICAgICAgICApOwogICAgICB9CiAgICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoYXJndW1lbnRzLmNhbGxlZS5zUkUsICdcXCQxJyk7CiAgICB9LAoKICAgIC8qCiAgICAgIGZpbmQgYG5hbWVgIGluIGN1cnJlbnQgYGNvbnRleHRgLiBUaGF0IGlzIGZpbmQgbWUgYSB2YWx1ZQogICAgICBmcm9tIHRoZSB2aWV3IG9iamVjdAogICAgKi8KICAgIGZpbmQ6IGZ1bmN0aW9uKG5hbWUsIGNvbnRleHQpIHsKICAgICAgbmFtZSA9IHRoaXMudHJpbShuYW1lKTsKCiAgICAgIC8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgdGhydXRoeSBvciBmYWxzZSBvciAwCiAgICAgIGZ1bmN0aW9uIGlzX2tpbmRhX3RydXRoeShib29sKSB7CiAgICAgICAgcmV0dXJuIGJvb2wgPT09IGZhbHNlIHx8IGJvb2wgPT09IDAgfHwgYm9vbDsKICAgICAgfQoKICAgICAgdmFyIHZhbHVlOwogICAgICBpZihpc19raW5kYV90cnV0aHkoY29udGV4dFtuYW1lXSkpIHsKICAgICAgICB2YWx1ZSA9IGNvbnRleHRbbmFtZV07CiAgICAgIH0gZWxzZSBpZihpc19raW5kYV90cnV0aHkodGhpcy5jb250ZXh0W25hbWVdKSkgewogICAgICAgIHZhbHVlID0gdGhpcy5jb250ZXh0W25hbWVdOwogICAgICB9CgogICAgICBpZih0eXBlb2YgdmFsdWUgPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICByZXR1cm4gdmFsdWUuYXBwbHkoY29udGV4dCk7CiAgICAgIH0KICAgICAgaWYodmFsdWUgIT09IHVuZGVmaW5lZCkgewogICAgICAgIHJldHVybiB2YWx1ZTsKICAgICAgfQogICAgICAvLyBzaWxlbnRseSBpZ25vcmUgdW5rb3duIHZhcmlhYmxlcwogICAgICByZXR1cm4gIiI7CiAgICB9LAoKICAgIC8vIFV0aWxpdHkgbWV0aG9kcwoKICAgIC8qIGluY2x1ZGVzIHRhZyAqLwogICAgaW5jbHVkZXM6IGZ1bmN0aW9uKG5lZWRsZSwgaGF5c3RhY2spIHsKICAgICAgcmV0dXJuIGhheXN0YWNrLmluZGV4T2YodGhpcy5vdGFnICsgbmVlZGxlKSAhPSAtMTsKICAgIH0sCgogICAgLyoKICAgICAgRG9lcyBhd2F5IHdpdGggbmFzdHkgY2hhcmFjdGVycwogICAgKi8KICAgIGVzY2FwZTogZnVuY3Rpb24ocykgewogICAgICBzID0gU3RyaW5nKHMgPT09IG51bGwgPyAiIiA6IHMpOwogICAgICByZXR1cm4gcy5yZXBsYWNlKC8mKD8hXHcrOyl8WyInPD5cXF0vZywgZnVuY3Rpb24ocykgewogICAgICAgIHN3aXRjaChzKSB7CiAgICAgICAgY2FzZSAiJiI6IHJldHVybiAiJmFtcDsiOwogICAgICAgIGNhc2UgIlxcIjogcmV0dXJuICJcXFxcIjsKICAgICAgICBjYXNlICciJzogcmV0dXJuICcmcXVvdDsnOwogICAgICAgIGNhc2UgIiciOiByZXR1cm4gJyYjMzk7JzsKICAgICAgICBjYXNlICI8IjogcmV0dXJuICImbHQ7IjsKICAgICAgICBjYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKICAgICAgICBkZWZhdWx0OiByZXR1cm4gczsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICAvLyBieSBAbGFuZ2FsZXgsIHN1cHBvcnQgZm9yIGFycmF5cyBvZiBzdHJpbmdzCiAgICBjcmVhdGVfY29udGV4dDogZnVuY3Rpb24oX2NvbnRleHQpIHsKICAgICAgaWYodGhpcy5pc19vYmplY3QoX2NvbnRleHQpKSB7CiAgICAgICAgcmV0dXJuIF9jb250ZXh0OwogICAgICB9IGVsc2UgewogICAgICAgIHZhciBpdGVyYXRvciA9ICIuIjsKICAgICAgICBpZih0aGlzLnByYWdtYXNbIklNUExJQ0lULUlURVJBVE9SIl0pIHsKICAgICAgICAgIGl0ZXJhdG9yID0gdGhpcy5wcmFnbWFzWyJJTVBMSUNJVC1JVEVSQVRPUiJdLml0ZXJhdG9yOwogICAgICAgIH0KICAgICAgICB2YXIgY3R4ID0ge307CiAgICAgICAgY3R4W2l0ZXJhdG9yXSA9IF9jb250ZXh0OwogICAgICAgIHJldHVybiBjdHg7CiAgICAgIH0KICAgIH0sCgogICAgaXNfb2JqZWN0OiBmdW5jdGlvbihhKSB7CiAgICAgIHJldHVybiBhICYmIHR5cGVvZiBhID09ICJvYmplY3QiOwogICAgfSwKCiAgICBpc19hcnJheTogZnVuY3Rpb24oYSkgewogICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGEpID09PSAnW29iamVjdCBBcnJheV0nOwogICAgfSwKCiAgICAvKgogICAgICBHZXRzIHJpZCBvZiBsZWFkaW5nIGFuZCB0cmFpbGluZyB3aGl0ZXNwYWNlCiAgICAqLwogICAgdHJpbTogZnVuY3Rpb24ocykgewogICAgICByZXR1cm4gcy5yZXBsYWNlKC9eXHMqfFxzKiQvZywgIiIpOwogICAgfSwKCiAgICAvKgogICAgICBXaHksIHdoeSwgd2h5PyBCZWNhdXNlIElFLiBDcnksIGNyeSBjcnkuCiAgICAqLwogICAgbWFwOiBmdW5jdGlvbihhcnJheSwgZm4pIHsKICAgICAgaWYgKHR5cGVvZiBhcnJheS5tYXAgPT0gImZ1bmN0aW9uIikgewogICAgICAgIHJldHVybiBhcnJheS5tYXAoZm4pOwogICAgICB9IGVsc2UgewogICAgICAgIHZhciByID0gW107CiAgICAgICAgdmFyIGwgPSBhcnJheS5sZW5ndGg7CiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGw7IGkrKykgewogICAgICAgICAgci5wdXNoKGZuKGFycmF5W2ldKSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByOwogICAgICB9CiAgICB9CiAgfTsKCiAgcmV0dXJuKHsKICAgIG5hbWU6ICJtdXN0YWNoZS5qcyIsCiAgICB2ZXJzaW9uOiAiMC4zLjEtZGV2IiwKCiAgICAvKgogICAgICBUdXJucyBhIHRlbXBsYXRlIGFuZCB2aWV3IGludG8gSFRNTAogICAgKi8KICAgIHRvX2h0bWw6IGZ1bmN0aW9uKHRlbXBsYXRlLCB2aWV3LCBwYXJ0aWFscywgc2VuZF9mdW4pIHsKICAgICAgdmFyIHJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKCk7CiAgICAgIGlmKHNlbmRfZnVuKSB7CiAgICAgICAgcmVuZGVyZXIuc2VuZCA9IHNlbmRfZnVuOwogICAgICB9CiAgICAgIHJlbmRlcmVyLnJlbmRlcih0ZW1wbGF0ZSwgdmlldywgcGFydGlhbHMpOwogICAgICBpZighc2VuZF9mdW4pIHsKICAgICAgICByZXR1cm4gcmVuZGVyZXIuYnVmZmVyLmpvaW4oIlxuIik7CiAgICAgIH0KICAgIH0KICB9KTsKfSgpOwo=", "content_type": "application/javascript"}, "js-libraries/underscore.js": {"data": "Ly8gICAgIFVuZGVyc2NvcmUuanMgMS4xLjcKLy8gICAgIChjKSAyMDExIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBJbmMuCi8vICAgICBVbmRlcnNjb3JlIGlzIGZyZWVseSBkaXN0cmlidXRhYmxlIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KLy8gICAgIFBvcnRpb25zIG9mIFVuZGVyc2NvcmUgYXJlIGluc3BpcmVkIG9yIGJvcnJvd2VkIGZyb20gUHJvdG90eXBlLAovLyAgICAgT2xpdmVyIFN0ZWVsZSdzIEZ1bmN0aW9uYWwsIGFuZCBKb2huIFJlc2lnJ3MgTWljcm8tVGVtcGxhdGluZy4KLy8gICAgIEZvciBhbGwgZGV0YWlscyBhbmQgZG9jdW1lbnRhdGlvbjoKLy8gICAgIGh0dHA6Ly9kb2N1bWVudGNsb3VkLmdpdGh1Yi5jb20vdW5kZXJzY29yZQoKKGZ1bmN0aW9uKCkgewoKICAvLyBCYXNlbGluZSBzZXR1cAogIC8vIC0tLS0tLS0tLS0tLS0tCgogIC8vIEVzdGFibGlzaCB0aGUgcm9vdCBvYmplY3QsIGB3aW5kb3dgIGluIHRoZSBicm93c2VyLCBvciBgZ2xvYmFsYCBvbiB0aGUgc2VydmVyLgogIHZhciByb290ID0gdGhpczsKCiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS4KICB2YXIgcHJldmlvdXNVbmRlcnNjb3JlID0gcm9vdC5fOwoKICAvLyBFc3RhYmxpc2ggdGhlIG9iamVjdCB0aGF0IGdldHMgcmV0dXJuZWQgdG8gYnJlYWsgb3V0IG9mIGEgbG9vcCBpdGVyYXRpb24uCiAgdmFyIGJyZWFrZXIgPSB7fTsKCiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjoKICB2YXIgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZSwgT2JqUHJvdG8gPSBPYmplY3QucHJvdG90eXBlLCBGdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7CgogIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLgogIHZhciBzbGljZSAgICAgICAgICAgID0gQXJyYXlQcm90by5zbGljZSwKICAgICAgdW5zaGlmdCAgICAgICAgICA9IEFycmF5UHJvdG8udW5zaGlmdCwKICAgICAgdG9TdHJpbmcgICAgICAgICA9IE9ialByb3RvLnRvU3RyaW5nLAogICAgICBoYXNPd25Qcm9wZXJ0eSAgID0gT2JqUHJvdG8uaGFzT3duUHJvcGVydHk7CgogIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZQogIC8vIGFyZSBkZWNsYXJlZCBoZXJlLgogIHZhcgogICAgbmF0aXZlRm9yRWFjaCAgICAgID0gQXJyYXlQcm90by5mb3JFYWNoLAogICAgbmF0aXZlTWFwICAgICAgICAgID0gQXJyYXlQcm90by5tYXAsCiAgICBuYXRpdmVSZWR1Y2UgICAgICAgPSBBcnJheVByb3RvLnJlZHVjZSwKICAgIG5hdGl2ZVJlZHVjZVJpZ2h0ICA9IEFycmF5UHJvdG8ucmVkdWNlUmlnaHQsCiAgICBuYXRpdmVGaWx0ZXIgICAgICAgPSBBcnJheVByb3RvLmZpbHRlciwKICAgIG5hdGl2ZUV2ZXJ5ICAgICAgICA9IEFycmF5UHJvdG8uZXZlcnksCiAgICBuYXRpdmVTb21lICAgICAgICAgPSBBcnJheVByb3RvLnNvbWUsCiAgICBuYXRpdmVJbmRleE9mICAgICAgPSBBcnJheVByb3RvLmluZGV4T2YsCiAgICBuYXRpdmVMYXN0SW5kZXhPZiAgPSBBcnJheVByb3RvLmxhc3RJbmRleE9mLAogICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSwKICAgIG5hdGl2ZUtleXMgICAgICAgICA9IE9iamVjdC5rZXlzLAogICAgbmF0aXZlQmluZCAgICAgICAgID0gRnVuY1Byb3RvLmJpbmQ7CgogIC8vIENyZWF0ZSBhIHNhZmUgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgdXNlIGJlbG93LgogIHZhciBfID0gZnVuY3Rpb24ob2JqKSB7IHJldHVybiBuZXcgd3JhcHBlcihvYmopOyB9OwoKICAvLyBFeHBvcnQgdGhlIFVuZGVyc2NvcmUgb2JqZWN0IGZvciAqKkNvbW1vbkpTKiosIHdpdGggYmFja3dhcmRzLWNvbXBhdGliaWxpdHkKICAvLyBmb3IgdGhlIG9sZCBgcmVxdWlyZSgpYCBBUEkuIElmIHdlJ3JlIG5vdCBpbiBDb21tb25KUywgYWRkIGBfYCB0byB0aGUKICAvLyBnbG9iYWwgb2JqZWN0LgogIGlmICh0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyAmJiBtb2R1bGUuZXhwb3J0cykgewogICAgbW9kdWxlLmV4cG9ydHMgPSBfOwogICAgXy5fID0gXzsKICB9IGVsc2UgewogICAgLy8gRXhwb3J0ZWQgYXMgYSBzdHJpbmcsIGZvciBDbG9zdXJlIENvbXBpbGVyICJhZHZhbmNlZCIgbW9kZS4KICAgIHJvb3RbJ18nXSA9IF87CiAgfQoKICAvLyBDdXJyZW50IHZlcnNpb24uCiAgXy5WRVJTSU9OID0gJzEuMS43JzsKCiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnMKICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLQoKICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC4KICAvLyBIYW5kbGVzIG9iamVjdHMgd2l0aCB0aGUgYnVpbHQtaW4gYGZvckVhY2hgLCBhcnJheXMsIGFuZCByYXcgb2JqZWN0cy4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZm9yRWFjaGAgaWYgYXZhaWxhYmxlLgogIHZhciBlYWNoID0gXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgaWYgKG9iaiA9PSBudWxsKSByZXR1cm47CiAgICBpZiAobmF0aXZlRm9yRWFjaCAmJiBvYmouZm9yRWFjaCA9PT0gbmF0aXZlRm9yRWFjaCkgewogICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7CiAgICB9IGVsc2UgaWYgKG9iai5sZW5ndGggPT09ICtvYmoubGVuZ3RoKSB7CiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGlmIChpIGluIG9iaiAmJiBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtpXSwgaSwgb2JqKSA9PT0gYnJlYWtlcikgcmV0dXJuOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7CiAgICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopID09PSBicmVha2VyKSByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUmV0dXJuIHRoZSByZXN1bHRzIG9mIGFwcGx5aW5nIHRoZSBpdGVyYXRvciB0byBlYWNoIGVsZW1lbnQuCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYG1hcGAgaWYgYXZhaWxhYmxlLgogIF8ubWFwID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgdmFyIHJlc3VsdHMgPSBbXTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7CiAgICBpZiAobmF0aXZlTWFwICYmIG9iai5tYXAgPT09IG5hdGl2ZU1hcCkgcmV0dXJuIG9iai5tYXAoaXRlcmF0b3IsIGNvbnRleHQpOwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoXSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgLy8gKipSZWR1Y2UqKiBidWlsZHMgdXAgYSBzaW5nbGUgcmVzdWx0IGZyb20gYSBsaXN0IG9mIHZhbHVlcywgYWthIGBpbmplY3RgLAogIC8vIG9yIGBmb2xkbGAuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGByZWR1Y2VgIGlmIGF2YWlsYWJsZS4KICBfLnJlZHVjZSA9IF8uZm9sZGwgPSBfLmluamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHsKICAgIHZhciBpbml0aWFsID0gbWVtbyAhPT0gdm9pZCAwOwogICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTsKICAgIGlmIChuYXRpdmVSZWR1Y2UgJiYgb2JqLnJlZHVjZSA9PT0gbmF0aXZlUmVkdWNlKSB7CiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7CiAgICAgIHJldHVybiBpbml0aWFsID8gb2JqLnJlZHVjZShpdGVyYXRvciwgbWVtbykgOiBvYmoucmVkdWNlKGl0ZXJhdG9yKTsKICAgIH0KICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgaWYgKCFpbml0aWFsKSB7CiAgICAgICAgbWVtbyA9IHZhbHVlOwogICAgICAgIGluaXRpYWwgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIG1lbW8gPSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIG1lbW8sIHZhbHVlLCBpbmRleCwgbGlzdCk7CiAgICAgIH0KICAgIH0pOwogICAgaWYgKCFpbml0aWFsKSB0aHJvdyBuZXcgVHlwZUVycm9yKCJSZWR1Y2Ugb2YgZW1wdHkgYXJyYXkgd2l0aCBubyBpbml0aWFsIHZhbHVlIik7CiAgICByZXR1cm4gbWVtbzsKICB9OwoKICAvLyBUaGUgcmlnaHQtYXNzb2NpYXRpdmUgdmVyc2lvbiBvZiByZWR1Y2UsIGFsc28ga25vd24gYXMgYGZvbGRyYC4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgcmVkdWNlUmlnaHRgIGlmIGF2YWlsYWJsZS4KICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHsKICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107CiAgICBpZiAobmF0aXZlUmVkdWNlUmlnaHQgJiYgb2JqLnJlZHVjZVJpZ2h0ID09PSBuYXRpdmVSZWR1Y2VSaWdodCkgewogICAgICBpZiAoY29udGV4dCkgaXRlcmF0b3IgPSBfLmJpbmQoaXRlcmF0b3IsIGNvbnRleHQpOwogICAgICByZXR1cm4gbWVtbyAhPT0gdm9pZCAwID8gb2JqLnJlZHVjZVJpZ2h0KGl0ZXJhdG9yLCBtZW1vKSA6IG9iai5yZWR1Y2VSaWdodChpdGVyYXRvcik7CiAgICB9CiAgICB2YXIgcmV2ZXJzZWQgPSAoXy5pc0FycmF5KG9iaikgPyBvYmouc2xpY2UoKSA6IF8udG9BcnJheShvYmopKS5yZXZlcnNlKCk7CiAgICByZXR1cm4gXy5yZWR1Y2UocmV2ZXJzZWQsIGl0ZXJhdG9yLCBtZW1vLCBjb250ZXh0KTsKICB9OwoKICAvLyBSZXR1cm4gdGhlIGZpcnN0IHZhbHVlIHdoaWNoIHBhc3NlcyBhIHRydXRoIHRlc3QuIEFsaWFzZWQgYXMgYGRldGVjdGAuCiAgXy5maW5kID0gXy5kZXRlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgcmVzdWx0OwogICAgYW55KG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7CiAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHsKICAgICAgICByZXN1bHQgPSB2YWx1ZTsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH07CgogIC8vIFJldHVybiBhbGwgdGhlIGVsZW1lbnRzIHRoYXQgcGFzcyBhIHRydXRoIHRlc3QuCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGZpbHRlcmAgaWYgYXZhaWxhYmxlLgogIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuCiAgXy5maWx0ZXIgPSBfLnNlbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzOwogICAgaWYgKG5hdGl2ZUZpbHRlciAmJiBvYmouZmlsdGVyID09PSBuYXRpdmVGaWx0ZXIpIHJldHVybiBvYmouZmlsdGVyKGl0ZXJhdG9yLCBjb250ZXh0KTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aF0gPSB2YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgLy8gUmV0dXJuIGFsbCB0aGUgZWxlbWVudHMgZm9yIHdoaWNoIGEgdHJ1dGggdGVzdCBmYWlscy4KICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIHZhciByZXN1bHRzID0gW107CiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzOwogICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkgewogICAgICBpZiAoIWl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0c1tyZXN1bHRzLmxlbmd0aF0gPSB2YWx1ZTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdHM7CiAgfTsKCiAgLy8gRGV0ZXJtaW5lIHdoZXRoZXIgYWxsIG9mIHRoZSBlbGVtZW50cyBtYXRjaCBhIHRydXRoIHRlc3QuCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGV2ZXJ5YCBpZiBhdmFpbGFibGUuCiAgLy8gQWxpYXNlZCBhcyBgYWxsYC4KICBfLmV2ZXJ5ID0gXy5hbGwgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICB2YXIgcmVzdWx0ID0gdHJ1ZTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDsKICAgIGlmIChuYXRpdmVFdmVyeSAmJiBvYmouZXZlcnkgPT09IG5hdGl2ZUV2ZXJ5KSByZXR1cm4gb2JqLmV2ZXJ5KGl0ZXJhdG9yLCBjb250ZXh0KTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgaWYgKCEocmVzdWx0ID0gcmVzdWx0ICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0OwogIH07CgogIC8vIERldGVybWluZSBpZiBhdCBsZWFzdCBvbmUgZWxlbWVudCBpbiB0aGUgb2JqZWN0IG1hdGNoZXMgYSB0cnV0aCB0ZXN0LgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBzb21lYCBpZiBhdmFpbGFibGUuCiAgLy8gQWxpYXNlZCBhcyBgYW55YC4KICB2YXIgYW55ID0gXy5zb21lID0gXy5hbnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7CiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yIHx8IF8uaWRlbnRpdHk7CiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7CiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7CiAgICBpZiAobmF0aXZlU29tZSAmJiBvYmouc29tZSA9PT0gbmF0aXZlU29tZSkgcmV0dXJuIG9iai5zb21lKGl0ZXJhdG9yLCBjb250ZXh0KTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgaWYgKHJlc3VsdCB8PSBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkpIHJldHVybiBicmVha2VyOwogICAgfSk7CiAgICByZXR1cm4gISFyZXN1bHQ7CiAgfTsKCiAgLy8gRGV0ZXJtaW5lIGlmIGEgZ2l2ZW4gdmFsdWUgaXMgaW5jbHVkZWQgaW4gdGhlIGFycmF5IG9yIG9iamVjdCB1c2luZyBgPT09YC4KICAvLyBBbGlhc2VkIGFzIGBjb250YWluc2AuCiAgXy5pbmNsdWRlID0gXy5jb250YWlucyA9IGZ1bmN0aW9uKG9iaiwgdGFyZ2V0KSB7CiAgICB2YXIgZm91bmQgPSBmYWxzZTsKICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZvdW5kOwogICAgaWYgKG5hdGl2ZUluZGV4T2YgJiYgb2JqLmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBvYmouaW5kZXhPZih0YXJnZXQpICE9IC0xOwogICAgYW55KG9iaiwgZnVuY3Rpb24odmFsdWUpIHsKICAgICAgaWYgKGZvdW5kID0gdmFsdWUgPT09IHRhcmdldCkgcmV0dXJuIHRydWU7CiAgICB9KTsKICAgIHJldHVybiBmb3VuZDsKICB9OwoKICAvLyBJbnZva2UgYSBtZXRob2QgKHdpdGggYXJndW1lbnRzKSBvbiBldmVyeSBpdGVtIGluIGEgY29sbGVjdGlvbi4KICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7CiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTsKICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgIHJldHVybiAobWV0aG9kLmNhbGwgPyBtZXRob2QgfHwgdmFsdWUgOiB2YWx1ZVttZXRob2RdKS5hcHBseSh2YWx1ZSwgYXJncyk7CiAgICB9KTsKICB9OwoKICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LgogIF8ucGx1Y2sgPSBmdW5jdGlvbihvYmosIGtleSkgewogICAgcmV0dXJuIF8ubWFwKG9iaiwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gdmFsdWVba2V5XTsgfSk7CiAgfTsKCiAgLy8gUmV0dXJuIHRoZSBtYXhpbXVtIGVsZW1lbnQgb3IgKGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLgogIF8ubWF4ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSkgcmV0dXJuIE1hdGgubWF4LmFwcGx5KE1hdGgsIG9iaik7CiAgICB2YXIgcmVzdWx0ID0ge2NvbXB1dGVkIDogLUluZmluaXR5fTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgdmFyIGNvbXB1dGVkID0gaXRlcmF0b3IgPyBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkgOiB2YWx1ZTsKICAgICAgY29tcHV0ZWQgPj0gcmVzdWx0LmNvbXB1dGVkICYmIChyZXN1bHQgPSB7dmFsdWUgOiB2YWx1ZSwgY29tcHV0ZWQgOiBjb21wdXRlZH0pOwogICAgfSk7CiAgICByZXR1cm4gcmVzdWx0LnZhbHVlOwogIH07CgogIC8vIFJldHVybiB0aGUgbWluaW11bSBlbGVtZW50IChvciBlbGVtZW50LWJhc2VkIGNvbXB1dGF0aW9uKS4KICBfLm1pbiA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHsKICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0FycmF5KG9iaikpIHJldHVybiBNYXRoLm1pbi5hcHBseShNYXRoLCBvYmopOwogICAgdmFyIHJlc3VsdCA9IHtjb21wdXRlZCA6IEluZmluaXR5fTsKICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgdmFyIGNvbXB1dGVkID0gaXRlcmF0b3IgPyBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkgOiB2YWx1ZTsKICAgICAgY29tcHV0ZWQgPCByZXN1bHQuY29tcHV0ZWQgJiYgKHJlc3VsdCA9IHt2YWx1ZSA6IHZhbHVlLCBjb21wdXRlZCA6IGNvbXB1dGVkfSk7CiAgICB9KTsKICAgIHJldHVybiByZXN1bHQudmFsdWU7CiAgfTsKCiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdG9yLgogIF8uc29ydEJ5ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICB2YWx1ZSA6IHZhbHVlLAogICAgICAgIGNyaXRlcmlhIDogaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpCiAgICAgIH07CiAgICB9KS5zb3J0KGZ1bmN0aW9uKGxlZnQsIHJpZ2h0KSB7CiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYSwgYiA9IHJpZ2h0LmNyaXRlcmlhOwogICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IGEgPiBiID8gMSA6IDA7CiAgICB9KSwgJ3ZhbHVlJyk7CiAgfTsKCiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24gcHJvZHVjZWQgYnkgYW4gaXRlcmF0b3IKICBfLmdyb3VwQnkgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yKSB7CiAgICB2YXIgcmVzdWx0ID0ge307CiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7CiAgICAgIHZhciBrZXkgPSBpdGVyYXRvcih2YWx1ZSwgaW5kZXgpOwogICAgICAocmVzdWx0W2tleV0gfHwgKHJlc3VsdFtrZXldID0gW10pKS5wdXNoKHZhbHVlKTsKICAgIH0pOwogICAgcmV0dXJuIHJlc3VsdDsKICB9OwoKICAvLyBVc2UgYSBjb21wYXJhdG9yIGZ1bmN0aW9uIHRvIGZpZ3VyZSBvdXQgYXQgd2hhdCBpbmRleCBhbiBvYmplY3Qgc2hvdWxkCiAgLy8gYmUgaW5zZXJ0ZWQgc28gYXMgdG8gbWFpbnRhaW4gb3JkZXIuIFVzZXMgYmluYXJ5IHNlYXJjaC4KICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0b3IpIHsKICAgIGl0ZXJhdG9yIHx8IChpdGVyYXRvciA9IF8uaWRlbnRpdHkpOwogICAgdmFyIGxvdyA9IDAsIGhpZ2ggPSBhcnJheS5sZW5ndGg7CiAgICB3aGlsZSAobG93IDwgaGlnaCkgewogICAgICB2YXIgbWlkID0gKGxvdyArIGhpZ2gpID4+IDE7CiAgICAgIGl0ZXJhdG9yKGFycmF5W21pZF0pIDwgaXRlcmF0b3Iob2JqKSA/IGxvdyA9IG1pZCArIDEgOiBoaWdoID0gbWlkOwogICAgfQogICAgcmV0dXJuIGxvdzsKICB9OwoKICAvLyBTYWZlbHkgY29udmVydCBhbnl0aGluZyBpdGVyYWJsZSBpbnRvIGEgcmVhbCwgbGl2ZSBhcnJheS4KICBfLnRvQXJyYXkgPSBmdW5jdGlvbihpdGVyYWJsZSkgewogICAgaWYgKCFpdGVyYWJsZSkgICAgICAgICAgICAgICAgcmV0dXJuIFtdOwogICAgaWYgKGl0ZXJhYmxlLnRvQXJyYXkpICAgICAgICAgcmV0dXJuIGl0ZXJhYmxlLnRvQXJyYXkoKTsKICAgIGlmIChfLmlzQXJyYXkoaXRlcmFibGUpKSAgICAgIHJldHVybiBzbGljZS5jYWxsKGl0ZXJhYmxlKTsKICAgIGlmIChfLmlzQXJndW1lbnRzKGl0ZXJhYmxlKSkgIHJldHVybiBzbGljZS5jYWxsKGl0ZXJhYmxlKTsKICAgIHJldHVybiBfLnZhbHVlcyhpdGVyYWJsZSk7CiAgfTsKCiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LgogIF8uc2l6ZSA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIF8udG9BcnJheShvYmopLmxlbmd0aDsKICB9OwoKICAvLyBBcnJheSBGdW5jdGlvbnMKICAvLyAtLS0tLS0tLS0tLS0tLS0KCiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOCiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS4gQWxpYXNlZCBhcyBgaGVhZGAuIFRoZSAqKmd1YXJkKiogY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsKICAvLyB3aXRoIGBfLm1hcGAuCiAgXy5maXJzdCA9IF8uaGVhZCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkgewogICAgcmV0dXJuIChuICE9IG51bGwpICYmICFndWFyZCA/IHNsaWNlLmNhbGwoYXJyYXksIDAsIG4pIDogYXJyYXlbMF07CiAgfTsKCiAgLy8gUmV0dXJucyBldmVyeXRoaW5nIGJ1dCB0aGUgZmlyc3QgZW50cnkgb2YgdGhlIGFycmF5LiBBbGlhc2VkIGFzIGB0YWlsYC4KICAvLyBFc3BlY2lhbGx5IHVzZWZ1bCBvbiB0aGUgYXJndW1lbnRzIG9iamVjdC4gUGFzc2luZyBhbiAqKmluZGV4Kiogd2lsbCByZXR1cm4KICAvLyB0aGUgcmVzdCBvZiB0aGUgdmFsdWVzIGluIHRoZSBhcnJheSBmcm9tIHRoYXQgaW5kZXggb253YXJkLiBUaGUgKipndWFyZCoqCiAgLy8gY2hlY2sgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLgogIF8ucmVzdCA9IF8udGFpbCA9IGZ1bmN0aW9uKGFycmF5LCBpbmRleCwgZ3VhcmQpIHsKICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAoaW5kZXggPT0gbnVsbCkgfHwgZ3VhcmQgPyAxIDogaW5kZXgpOwogIH07CgogIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LgogIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICByZXR1cm4gYXJyYXlbYXJyYXkubGVuZ3RoIC0gMV07CiAgfTsKCiAgLy8gVHJpbSBvdXQgYWxsIGZhbHN5IHZhbHVlcyBmcm9tIGFuIGFycmF5LgogIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXsgcmV0dXJuICEhdmFsdWU7IH0pOwogIH07CgogIC8vIFJldHVybiBhIGNvbXBsZXRlbHkgZmxhdHRlbmVkIHZlcnNpb24gb2YgYW4gYXJyYXkuCiAgXy5mbGF0dGVuID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiBfLnJlZHVjZShhcnJheSwgZnVuY3Rpb24obWVtbywgdmFsdWUpIHsKICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHJldHVybiBtZW1vLmNvbmNhdChfLmZsYXR0ZW4odmFsdWUpKTsKICAgICAgbWVtb1ttZW1vLmxlbmd0aF0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIG1lbW87CiAgICB9LCBbXSk7CiAgfTsKCiAgLy8gUmV0dXJuIGEgdmVyc2lvbiBvZiB0aGUgYXJyYXkgdGhhdCBkb2VzIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgdmFsdWUocykuCiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHsKICAgIHJldHVybiBfLmRpZmZlcmVuY2UoYXJyYXksIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgfTsKCiAgLy8gUHJvZHVjZSBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgdGhlIGFycmF5LiBJZiB0aGUgYXJyYXkgaGFzIGFscmVhZHkKICAvLyBiZWVuIHNvcnRlZCwgeW91IGhhdmUgdGhlIG9wdGlvbiBvZiB1c2luZyBhIGZhc3RlciBhbGdvcml0aG0uCiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC4KICBfLnVuaXEgPSBfLnVuaXF1ZSA9IGZ1bmN0aW9uKGFycmF5LCBpc1NvcnRlZCkgewogICAgcmV0dXJuIF8ucmVkdWNlKGFycmF5LCBmdW5jdGlvbihtZW1vLCBlbCwgaSkgewogICAgICBpZiAoMCA9PSBpIHx8IChpc1NvcnRlZCA9PT0gdHJ1ZSA/IF8ubGFzdChtZW1vKSAhPSBlbCA6ICFfLmluY2x1ZGUobWVtbywgZWwpKSkgbWVtb1ttZW1vLmxlbmd0aF0gPSBlbDsKICAgICAgcmV0dXJuIG1lbW87CiAgICB9LCBbXSk7CiAgfTsKCiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIHRoZSB1bmlvbjogZWFjaCBkaXN0aW5jdCBlbGVtZW50IGZyb20gYWxsIG9mCiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuCiAgXy51bmlvbiA9IGZ1bmN0aW9uKCkgewogICAgcmV0dXJuIF8udW5pcShfLmZsYXR0ZW4oYXJndW1lbnRzKSk7CiAgfTsKCiAgLy8gUHJvZHVjZSBhbiBhcnJheSB0aGF0IGNvbnRhaW5zIGV2ZXJ5IGl0ZW0gc2hhcmVkIGJldHdlZW4gYWxsIHRoZQogIC8vIHBhc3NlZC1pbiBhcnJheXMuIChBbGlhc2VkIGFzICJpbnRlcnNlY3QiIGZvciBiYWNrLWNvbXBhdC4pCiAgXy5pbnRlcnNlY3Rpb24gPSBfLmludGVyc2VjdCA9IGZ1bmN0aW9uKGFycmF5KSB7CiAgICB2YXIgcmVzdCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTsKICAgIHJldHVybiBfLmZpbHRlcihfLnVuaXEoYXJyYXkpLCBmdW5jdGlvbihpdGVtKSB7CiAgICAgIHJldHVybiBfLmV2ZXJ5KHJlc3QsIGZ1bmN0aW9uKG90aGVyKSB7CiAgICAgICAgcmV0dXJuIF8uaW5kZXhPZihvdGhlciwgaXRlbSkgPj0gMDsKICAgICAgfSk7CiAgICB9KTsKICB9OwoKICAvLyBUYWtlIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gb25lIGFycmF5IGFuZCBhbm90aGVyLgogIC8vIE9ubHkgdGhlIGVsZW1lbnRzIHByZXNlbnQgaW4ganVzdCB0aGUgZmlyc3QgYXJyYXkgd2lsbCByZW1haW4uCiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXksIG90aGVyKSB7CiAgICByZXR1cm4gXy5maWx0ZXIoYXJyYXksIGZ1bmN0aW9uKHZhbHVlKXsgcmV0dXJuICFfLmluY2x1ZGUob3RoZXIsIHZhbHVlKTsgfSk7CiAgfTsKCiAgLy8gWmlwIHRvZ2V0aGVyIG11bHRpcGxlIGxpc3RzIGludG8gYSBzaW5nbGUgYXJyYXkgLS0gZWxlbWVudHMgdGhhdCBzaGFyZQogIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLgogIF8uemlwID0gZnVuY3Rpb24oKSB7CiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgIHZhciBsZW5ndGggPSBfLm1heChfLnBsdWNrKGFyZ3MsICdsZW5ndGgnKSk7CiAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpOwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgcmVzdWx0c1tpXSA9IF8ucGx1Y2soYXJncywgIiIgKyBpKTsKICAgIHJldHVybiByZXN1bHRzOwogIH07CgogIC8vIElmIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcGx5IHVzIHdpdGggaW5kZXhPZiAoSSdtIGxvb2tpbmcgYXQgeW91LCAqKk1TSUUqKiksCiAgLy8gd2UgbmVlZCB0aGlzIGZ1bmN0aW9uLiBSZXR1cm4gdGhlIHBvc2l0aW9uIG9mIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGFuCiAgLy8gaXRlbSBpbiBhbiBhcnJheSwgb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgaW5kZXhPZmAgaWYgYXZhaWxhYmxlLgogIC8vIElmIHRoZSBhcnJheSBpcyBsYXJnZSBhbmQgYWxyZWFkeSBpbiBzb3J0IG9yZGVyLCBwYXNzIGB0cnVlYAogIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guCiAgXy5pbmRleE9mID0gZnVuY3Rpb24oYXJyYXksIGl0ZW0sIGlzU29ydGVkKSB7CiAgICBpZiAoYXJyYXkgPT0gbnVsbCkgcmV0dXJuIC0xOwogICAgdmFyIGksIGw7CiAgICBpZiAoaXNTb3J0ZWQpIHsKICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pOwogICAgICByZXR1cm4gYXJyYXlbaV0gPT09IGl0ZW0gPyBpIDogLTE7CiAgICB9CiAgICBpZiAobmF0aXZlSW5kZXhPZiAmJiBhcnJheS5pbmRleE9mID09PSBuYXRpdmVJbmRleE9mKSByZXR1cm4gYXJyYXkuaW5kZXhPZihpdGVtKTsKICAgIGZvciAoaSA9IDAsIGwgPSBhcnJheS5sZW5ndGg7IGkgPCBsOyBpKyspIGlmIChhcnJheVtpXSA9PT0gaXRlbSkgcmV0dXJuIGk7CiAgICByZXR1cm4gLTE7CiAgfTsKCgogIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBsYXN0SW5kZXhPZmAgaWYgYXZhaWxhYmxlLgogIF8ubGFzdEluZGV4T2YgPSBmdW5jdGlvbihhcnJheSwgaXRlbSkgewogICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiAtMTsKICAgIGlmIChuYXRpdmVMYXN0SW5kZXhPZiAmJiBhcnJheS5sYXN0SW5kZXhPZiA9PT0gbmF0aXZlTGFzdEluZGV4T2YpIHJldHVybiBhcnJheS5sYXN0SW5kZXhPZihpdGVtKTsKICAgIHZhciBpID0gYXJyYXkubGVuZ3RoOwogICAgd2hpbGUgKGktLSkgaWYgKGFycmF5W2ldID09PSBpdGVtKSByZXR1cm4gaTsKICAgIHJldHVybiAtMTsKICB9OwoKICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mCiAgLy8gdGhlIG5hdGl2ZSBQeXRob24gYHJhbmdlKClgIGZ1bmN0aW9uLiBTZWUKICAvLyBbdGhlIFB5dGhvbiBkb2N1bWVudGF0aW9uXShodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvZnVuY3Rpb25zLmh0bWwjcmFuZ2UpLgogIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPD0gMSkgewogICAgICBzdG9wID0gc3RhcnQgfHwgMDsKICAgICAgc3RhcnQgPSAwOwogICAgfQogICAgc3RlcCA9IGFyZ3VtZW50c1syXSB8fCAxOwoKICAgIHZhciBsZW4gPSBNYXRoLm1heChNYXRoLmNlaWwoKHN0b3AgLSBzdGFydCkgLyBzdGVwKSwgMCk7CiAgICB2YXIgaWR4ID0gMDsKICAgIHZhciByYW5nZSA9IG5ldyBBcnJheShsZW4pOwoKICAgIHdoaWxlKGlkeCA8IGxlbikgewogICAgICByYW5nZVtpZHgrK10gPSBzdGFydDsKICAgICAgc3RhcnQgKz0gc3RlcDsKICAgIH0KCiAgICByZXR1cm4gcmFuZ2U7CiAgfTsKCiAgLy8gRnVuY3Rpb24gKGFoZW0pIEZ1bmN0aW9ucwogIC8vIC0tLS0tLS0tLS0tLS0tLS0tLQoKICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cywKICAvLyBvcHRpb25hbGx5KS4gQmluZGluZyB3aXRoIGFyZ3VtZW50cyBpcyBhbHNvIGtub3duIGFzIGBjdXJyeWAuCiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYEZ1bmN0aW9uLmJpbmRgIGlmIGF2YWlsYWJsZS4KICAvLyBXZSBjaGVjayBmb3IgYGZ1bmMuYmluZGAgZmlyc3QsIHRvIGZhaWwgZmFzdCB3aGVuIGBmdW5jYCBpcyB1bmRlZmluZWQuCiAgXy5iaW5kID0gZnVuY3Rpb24oZnVuYywgb2JqKSB7CiAgICBpZiAoZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kICYmIG5hdGl2ZUJpbmQpIHJldHVybiBuYXRpdmVCaW5kLmFwcGx5KGZ1bmMsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7CiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgcmV0dXJuIGZ1bmMuYXBwbHkob2JqLCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTsKICAgIH07CiAgfTsKCiAgLy8gQmluZCBhbGwgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0CiAgLy8gYWxsIGNhbGxiYWNrcyBkZWZpbmVkIG9uIGFuIG9iamVjdCBiZWxvbmcgdG8gaXQuCiAgXy5iaW5kQWxsID0gZnVuY3Rpb24ob2JqKSB7CiAgICB2YXIgZnVuY3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7CiAgICBpZiAoZnVuY3MubGVuZ3RoID09IDApIGZ1bmNzID0gXy5mdW5jdGlvbnMob2JqKTsKICAgIGVhY2goZnVuY3MsIGZ1bmN0aW9uKGYpIHsgb2JqW2ZdID0gXy5iaW5kKG9ialtmXSwgb2JqKTsgfSk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIE1lbW9pemUgYW4gZXhwZW5zaXZlIGZ1bmN0aW9uIGJ5IHN0b3JpbmcgaXRzIHJlc3VsdHMuCiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7CiAgICB2YXIgbWVtbyA9IHt9OwogICAgaGFzaGVyIHx8IChoYXNoZXIgPSBfLmlkZW50aXR5KTsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGtleSA9IGhhc2hlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChtZW1vLCBrZXkpID8gbWVtb1trZXldIDogKG1lbW9ba2V5XSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7CiAgICB9OwogIH07CgogIC8vIERlbGF5cyBhIGZ1bmN0aW9uIGZvciB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYW5kIHRoZW4gY2FsbHMKICAvLyBpdCB3aXRoIHRoZSBhcmd1bWVudHMgc3VwcGxpZWQuCiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHsKICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpOwogICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgcmV0dXJuIGZ1bmMuYXBwbHkoZnVuYywgYXJncyk7IH0sIHdhaXQpOwogIH07CgogIC8vIERlZmVycyBhIGZ1bmN0aW9uLCBzY2hlZHVsaW5nIGl0IHRvIHJ1biBhZnRlciB0aGUgY3VycmVudCBjYWxsIHN0YWNrIGhhcwogIC8vIGNsZWFyZWQuCiAgXy5kZWZlciA9IGZ1bmN0aW9uKGZ1bmMpIHsKICAgIHJldHVybiBfLmRlbGF5LmFwcGx5KF8sIFtmdW5jLCAxXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKSk7CiAgfTsKCiAgLy8gSW50ZXJuYWwgZnVuY3Rpb24gdXNlZCB0byBpbXBsZW1lbnQgYF8udGhyb3R0bGVgIGFuZCBgXy5kZWJvdW5jZWAuCiAgdmFyIGxpbWl0ID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgZGVib3VuY2UpIHsKICAgIHZhciB0aW1lb3V0OwogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgY29udGV4dCA9IHRoaXMsIGFyZ3MgPSBhcmd1bWVudHM7CiAgICAgIHZhciB0aHJvdHRsZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICB0aW1lb3V0ID0gbnVsbDsKICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpOwogICAgICB9OwogICAgICBpZiAoZGVib3VuY2UpIGNsZWFyVGltZW91dCh0aW1lb3V0KTsKICAgICAgaWYgKGRlYm91bmNlIHx8ICF0aW1lb3V0KSB0aW1lb3V0ID0gc2V0VGltZW91dCh0aHJvdHRsZXIsIHdhaXQpOwogICAgfTsKICB9OwoKICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2UKICAvLyBkdXJpbmcgYSBnaXZlbiB3aW5kb3cgb2YgdGltZS4KICBfLnRocm90dGxlID0gZnVuY3Rpb24oZnVuYywgd2FpdCkgewogICAgcmV0dXJuIGxpbWl0KGZ1bmMsIHdhaXQsIGZhbHNlKTsKICB9OwoKICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIGFzIGxvbmcgYXMgaXQgY29udGludWVzIHRvIGJlIGludm9rZWQsIHdpbGwgbm90CiAgLy8gYmUgdHJpZ2dlcmVkLiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgaXQgc3RvcHMgYmVpbmcgY2FsbGVkIGZvcgogIC8vIE4gbWlsbGlzZWNvbmRzLgogIF8uZGVib3VuY2UgPSBmdW5jdGlvbihmdW5jLCB3YWl0KSB7CiAgICByZXR1cm4gbGltaXQoZnVuYywgd2FpdCwgdHJ1ZSk7CiAgfTsKCiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCBhdCBtb3N0IG9uZSB0aW1lLCBubyBtYXR0ZXIgaG93CiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi4KICBfLm9uY2UgPSBmdW5jdGlvbihmdW5jKSB7CiAgICB2YXIgcmFuID0gZmFsc2UsIG1lbW87CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIGlmIChyYW4pIHJldHVybiBtZW1vOwogICAgICByYW4gPSB0cnVlOwogICAgICByZXR1cm4gbWVtbyA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgIH07CiAgfTsKCiAgLy8gUmV0dXJucyB0aGUgZmlyc3QgZnVuY3Rpb24gcGFzc2VkIGFzIGFuIGFyZ3VtZW50IHRvIHRoZSBzZWNvbmQsCiAgLy8gYWxsb3dpbmcgeW91IHRvIGFkanVzdCBhcmd1bWVudHMsIHJ1biBjb2RlIGJlZm9yZSBhbmQgYWZ0ZXIsIGFuZAogIC8vIGNvbmRpdGlvbmFsbHkgZXhlY3V0ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uCiAgXy53cmFwID0gZnVuY3Rpb24oZnVuYywgd3JhcHBlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uKCkgewogICAgICB2YXIgYXJncyA9IFtmdW5jXS5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKTsKICAgICAgcmV0dXJuIHdyYXBwZXIuYXBwbHkodGhpcywgYXJncyk7CiAgICB9OwogIH07CgogIC8vIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IGlzIHRoZSBjb21wb3NpdGlvbiBvZiBhIGxpc3Qgb2YgZnVuY3Rpb25zLCBlYWNoCiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy4KICBfLmNvbXBvc2UgPSBmdW5jdGlvbigpIHsKICAgIHZhciBmdW5jcyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKTsKICAgIHJldHVybiBmdW5jdGlvbigpIHsKICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7CiAgICAgIGZvciAodmFyIGkgPSBmdW5jcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgewogICAgICAgIGFyZ3MgPSBbZnVuY3NbaV0uYXBwbHkodGhpcywgYXJncyldOwogICAgICB9CiAgICAgIHJldHVybiBhcmdzWzBdOwogICAgfTsKICB9OwoKICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYWZ0ZXIgYmVpbmcgY2FsbGVkIE4gdGltZXMuCiAgXy5hZnRlciA9IGZ1bmN0aW9uKHRpbWVzLCBmdW5jKSB7CiAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgIGlmICgtLXRpbWVzIDwgMSkgeyByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9CiAgICB9OwogIH07CgoKICAvLyBPYmplY3QgRnVuY3Rpb25zCiAgLy8gLS0tLS0tLS0tLS0tLS0tLQoKICAvLyBSZXRyaWV2ZSB0aGUgbmFtZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy4KICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgT2JqZWN0LmtleXNgCiAgXy5rZXlzID0gbmF0aXZlS2V5cyB8fCBmdW5jdGlvbihvYmopIHsKICAgIGlmIChvYmogIT09IE9iamVjdChvYmopKSB0aHJvdyBuZXcgVHlwZUVycm9yKCdJbnZhbGlkIG9iamVjdCcpOwogICAgdmFyIGtleXMgPSBbXTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkga2V5c1trZXlzLmxlbmd0aF0gPSBrZXk7CiAgICByZXR1cm4ga2V5czsKICB9OwoKICAvLyBSZXRyaWV2ZSB0aGUgdmFsdWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuCiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBfLm1hcChvYmosIF8uaWRlbnRpdHkpOwogIH07CgogIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC4KICAvLyBBbGlhc2VkIGFzIGBtZXRob2RzYAogIF8uZnVuY3Rpb25zID0gXy5tZXRob2RzID0gZnVuY3Rpb24ob2JqKSB7CiAgICB2YXIgbmFtZXMgPSBbXTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgaWYgKF8uaXNGdW5jdGlvbihvYmpba2V5XSkpIG5hbWVzLnB1c2goa2V5KTsKICAgIH0KICAgIHJldHVybiBuYW1lcy5zb3J0KCk7CiAgfTsKCiAgLy8gRXh0ZW5kIGEgZ2l2ZW4gb2JqZWN0IHdpdGggYWxsIHRoZSBwcm9wZXJ0aWVzIGluIHBhc3NlZC1pbiBvYmplY3QocykuCiAgXy5leHRlbmQgPSBmdW5jdGlvbihvYmopIHsKICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHsKICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHsKICAgICAgICBpZiAoc291cmNlW3Byb3BdICE9PSB2b2lkIDApIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIEZpbGwgaW4gYSBnaXZlbiBvYmplY3Qgd2l0aCBkZWZhdWx0IHByb3BlcnRpZXMuCiAgXy5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikgewogICAgZWFjaChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZ1bmN0aW9uKHNvdXJjZSkgewogICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkgewogICAgICAgIGlmIChvYmpbcHJvcF0gPT0gbnVsbCkgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBvYmo7CiAgfTsKCiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LgogIF8uY2xvbmUgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBfLmlzQXJyYXkob2JqKSA/IG9iai5zbGljZSgpIDogXy5leHRlbmQoe30sIG9iaik7CiAgfTsKCiAgLy8gSW52b2tlcyBpbnRlcmNlcHRvciB3aXRoIHRoZSBvYmosIGFuZCB0aGVuIHJldHVybnMgb2JqLgogIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gInRhcCBpbnRvIiBhIG1ldGhvZCBjaGFpbiwgaW4KICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi4KICBfLnRhcCA9IGZ1bmN0aW9uKG9iaiwgaW50ZXJjZXB0b3IpIHsKICAgIGludGVyY2VwdG9yKG9iaik7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLgogIF8uaXNFcXVhbCA9IGZ1bmN0aW9uKGEsIGIpIHsKICAgIC8vIENoZWNrIG9iamVjdCBpZGVudGl0eS4KICAgIGlmIChhID09PSBiKSByZXR1cm4gdHJ1ZTsKICAgIC8vIERpZmZlcmVudCB0eXBlcz8KICAgIHZhciBhdHlwZSA9IHR5cGVvZihhKSwgYnR5cGUgPSB0eXBlb2YoYik7CiAgICBpZiAoYXR5cGUgIT0gYnR5cGUpIHJldHVybiBmYWxzZTsKICAgIC8vIEJhc2ljIGVxdWFsaXR5IHRlc3QgKHdhdGNoIG91dCBmb3IgY29lcmNpb25zKS4KICAgIGlmIChhID09IGIpIHJldHVybiB0cnVlOwogICAgLy8gT25lIGlzIGZhbHN5IGFuZCB0aGUgb3RoZXIgdHJ1dGh5LgogICAgaWYgKCghYSAmJiBiKSB8fCAoYSAmJiAhYikpIHJldHVybiBmYWxzZTsKICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLgogICAgaWYgKGEuX2NoYWluKSBhID0gYS5fd3JhcHBlZDsKICAgIGlmIChiLl9jaGFpbikgYiA9IGIuX3dyYXBwZWQ7CiAgICAvLyBPbmUgb2YgdGhlbSBpbXBsZW1lbnRzIGFuIGlzRXF1YWwoKT8KICAgIGlmIChhLmlzRXF1YWwpIHJldHVybiBhLmlzRXF1YWwoYik7CiAgICBpZiAoYi5pc0VxdWFsKSByZXR1cm4gYi5pc0VxdWFsKGEpOwogICAgLy8gQ2hlY2sgZGF0ZXMnIGludGVnZXIgdmFsdWVzLgogICAgaWYgKF8uaXNEYXRlKGEpICYmIF8uaXNEYXRlKGIpKSByZXR1cm4gYS5nZXRUaW1lKCkgPT09IGIuZ2V0VGltZSgpOwogICAgLy8gQm90aCBhcmUgTmFOPwogICAgaWYgKF8uaXNOYU4oYSkgJiYgXy5pc05hTihiKSkgcmV0dXJuIGZhbHNlOwogICAgLy8gQ29tcGFyZSByZWd1bGFyIGV4cHJlc3Npb25zLgogICAgaWYgKF8uaXNSZWdFeHAoYSkgJiYgXy5pc1JlZ0V4cChiKSkKICAgICAgcmV0dXJuIGEuc291cmNlICAgICA9PT0gYi5zb3VyY2UgJiYKICAgICAgICAgICAgIGEuZ2xvYmFsICAgICA9PT0gYi5nbG9iYWwgJiYKICAgICAgICAgICAgIGEuaWdub3JlQ2FzZSA9PT0gYi5pZ25vcmVDYXNlICYmCiAgICAgICAgICAgICBhLm11bHRpbGluZSAgPT09IGIubXVsdGlsaW5lOwogICAgLy8gSWYgYSBpcyBub3QgYW4gb2JqZWN0IGJ5IHRoaXMgcG9pbnQsIHdlIGNhbid0IGhhbmRsZSBpdC4KICAgIGlmIChhdHlwZSAhPT0gJ29iamVjdCcpIHJldHVybiBmYWxzZTsKICAgIC8vIENoZWNrIGZvciBkaWZmZXJlbnQgYXJyYXkgbGVuZ3RocyBiZWZvcmUgY29tcGFyaW5nIGNvbnRlbnRzLgogICAgaWYgKGEubGVuZ3RoICYmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpKSByZXR1cm4gZmFsc2U7CiAgICAvLyBOb3RoaW5nIGVsc2Ugd29ya2VkLCBkZWVwIGNvbXBhcmUgdGhlIGNvbnRlbnRzLgogICAgdmFyIGFLZXlzID0gXy5rZXlzKGEpLCBiS2V5cyA9IF8ua2V5cyhiKTsKICAgIC8vIERpZmZlcmVudCBvYmplY3Qgc2l6ZXM/CiAgICBpZiAoYUtleXMubGVuZ3RoICE9IGJLZXlzLmxlbmd0aCkgcmV0dXJuIGZhbHNlOwogICAgLy8gUmVjdXJzaXZlIGNvbXBhcmlzb24gb2YgY29udGVudHMuCiAgICBmb3IgKHZhciBrZXkgaW4gYSkgaWYgKCEoa2V5IGluIGIpIHx8ICFfLmlzRXF1YWwoYVtrZXldLCBiW2tleV0pKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIGFycmF5IG9yIG9iamVjdCBlbXB0eT8KICBfLmlzRW1wdHkgPSBmdW5jdGlvbihvYmopIHsKICAgIGlmIChfLmlzQXJyYXkob2JqKSB8fCBfLmlzU3RyaW5nKG9iaikpIHJldHVybiBvYmoubGVuZ3RoID09PSAwOwogICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXR1cm4gZmFsc2U7CiAgICByZXR1cm4gdHJ1ZTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgRE9NIGVsZW1lbnQ/CiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiAhIShvYmogJiYgb2JqLm5vZGVUeXBlID09IDEpOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYW4gYXJyYXk/CiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXkKICBfLmlzQXJyYXkgPSBuYXRpdmVJc0FycmF5IHx8IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgQXJyYXldJzsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIG9iamVjdD8KICBfLmlzT2JqZWN0ID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gb2JqID09PSBPYmplY3Qob2JqKTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIGFuIGFyZ3VtZW50cyBvYmplY3Q/CiAgXy5pc0FyZ3VtZW50cyA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuICEhKG9iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgJ2NhbGxlZScpKTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgZnVuY3Rpb24/CiAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqICYmIG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY2FsbCAmJiBvYmouYXBwbHkpOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBzdHJpbmc/CiAgXy5pc1N0cmluZyA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuICEhKG9iaiA9PT0gJycgfHwgKG9iaiAmJiBvYmouY2hhckNvZGVBdCAmJiBvYmouc3Vic3RyKSk7CiAgfTsKCiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhIG51bWJlcj8KICBfLmlzTnVtYmVyID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqID09PSAwIHx8IChvYmogJiYgb2JqLnRvRXhwb25lbnRpYWwgJiYgb2JqLnRvRml4ZWQpKTsKICB9OwoKICAvLyBJcyB0aGUgZ2l2ZW4gdmFsdWUgYE5hTmA/IGBOYU5gIGhhcHBlbnMgdG8gYmUgdGhlIG9ubHkgdmFsdWUgaW4gSmF2YVNjcmlwdAogIC8vIHRoYXQgZG9lcyBub3QgZXF1YWwgaXRzZWxmLgogIF8uaXNOYU4gPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBvYmogIT09IG9iajsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj8KICBfLmlzQm9vbGVhbiA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIG9iaiA9PT0gdHJ1ZSB8fCBvYmogPT09IGZhbHNlOwogIH07CgogIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBkYXRlPwogIF8uaXNEYXRlID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqICYmIG9iai5nZXRUaW1lem9uZU9mZnNldCAmJiBvYmouc2V0VVRDRnVsbFllYXIpOwogIH07CgogIC8vIElzIHRoZSBnaXZlbiB2YWx1ZSBhIHJlZ3VsYXIgZXhwcmVzc2lvbj8KICBfLmlzUmVnRXhwID0gZnVuY3Rpb24ob2JqKSB7CiAgICByZXR1cm4gISEob2JqICYmIG9iai50ZXN0ICYmIG9iai5leGVjICYmIChvYmouaWdub3JlQ2FzZSB8fCBvYmouaWdub3JlQ2FzZSA9PT0gZmFsc2UpKTsKICB9OwoKICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/CiAgXy5pc051bGwgPSBmdW5jdGlvbihvYmopIHsKICAgIHJldHVybiBvYmogPT09IG51bGw7CiAgfTsKCiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSB1bmRlZmluZWQ/CiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikgewogICAgcmV0dXJuIG9iaiA9PT0gdm9pZCAwOwogIH07CgogIC8vIFV0aWxpdHkgRnVuY3Rpb25zCiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0KCiAgLy8gUnVuIFVuZGVyc2NvcmUuanMgaW4gKm5vQ29uZmxpY3QqIG1vZGUsIHJldHVybmluZyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cwogIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC4KICBfLm5vQ29uZmxpY3QgPSBmdW5jdGlvbigpIHsKICAgIHJvb3QuXyA9IHByZXZpb3VzVW5kZXJzY29yZTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRvcnMuCiAgXy5pZGVudGl0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7CiAgICByZXR1cm4gdmFsdWU7CiAgfTsKCiAgLy8gUnVuIGEgZnVuY3Rpb24gKipuKiogdGltZXMuCiAgXy50aW1lcyA9IGZ1bmN0aW9uIChuLCBpdGVyYXRvciwgY29udGV4dCkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgaSk7CiAgfTsKCiAgLy8gQWRkIHlvdXIgb3duIGN1c3RvbSBmdW5jdGlvbnMgdG8gdGhlIFVuZGVyc2NvcmUgb2JqZWN0LCBlbnN1cmluZyB0aGF0CiAgLy8gdGhleSdyZSBjb3JyZWN0bHkgYWRkZWQgdG8gdGhlIE9PUCB3cmFwcGVyIGFzIHdlbGwuCiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikgewogICAgZWFjaChfLmZ1bmN0aW9ucyhvYmopLCBmdW5jdGlvbihuYW1lKXsKICAgICAgYWRkVG9XcmFwcGVyKG5hbWUsIF9bbmFtZV0gPSBvYmpbbmFtZV0pOwogICAgfSk7CiAgfTsKCiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgaW50ZWdlciBpZCAodW5pcXVlIHdpdGhpbiB0aGUgZW50aXJlIGNsaWVudCBzZXNzaW9uKS4KICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLgogIHZhciBpZENvdW50ZXIgPSAwOwogIF8udW5pcXVlSWQgPSBmdW5jdGlvbihwcmVmaXgpIHsKICAgIHZhciBpZCA9IGlkQ291bnRlcisrOwogICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7CiAgfTsKCiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlCiAgLy8gZm9sbG93aW5nIHRlbXBsYXRlIHNldHRpbmdzIHRvIHVzZSBhbHRlcm5hdGl2ZSBkZWxpbWl0ZXJzLgogIF8udGVtcGxhdGVTZXR0aW5ncyA9IHsKICAgIGV2YWx1YXRlICAgIDogLzwlKFtcc1xTXSs/KSU+L2csCiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xzXFNdKz8pJT4vZwogIH07CgogIC8vIEphdmFTY3JpcHQgbWljcm8tdGVtcGxhdGluZywgc2ltaWxhciB0byBKb2huIFJlc2lnJ3MgaW1wbGVtZW50YXRpb24uCiAgLy8gVW5kZXJzY29yZSB0ZW1wbGF0aW5nIGhhbmRsZXMgYXJiaXRyYXJ5IGRlbGltaXRlcnMsIHByZXNlcnZlcyB3aGl0ZXNwYWNlLAogIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLgogIF8udGVtcGxhdGUgPSBmdW5jdGlvbihzdHIsIGRhdGEpIHsKICAgIHZhciBjICA9IF8udGVtcGxhdGVTZXR0aW5nczsKICAgIHZhciB0bXBsID0gJ3ZhciBfX3A9W10scHJpbnQ9ZnVuY3Rpb24oKXtfX3AucHVzaC5hcHBseShfX3AsYXJndW1lbnRzKTt9OycgKwogICAgICAnd2l0aChvYmp8fHt9KXtfX3AucHVzaChcJycgKwogICAgICBzdHIucmVwbGFjZSgvXFwvZywgJ1xcXFwnKQogICAgICAgICAucmVwbGFjZSgvJy9nLCAiXFwnIikKICAgICAgICAgLnJlcGxhY2UoYy5pbnRlcnBvbGF0ZSwgZnVuY3Rpb24obWF0Y2gsIGNvZGUpIHsKICAgICAgICAgICByZXR1cm4gIicsIiArIGNvZGUucmVwbGFjZSgvXFwnL2csICInIikgKyAiLCciOwogICAgICAgICB9KQogICAgICAgICAucmVwbGFjZShjLmV2YWx1YXRlIHx8IG51bGwsIGZ1bmN0aW9uKG1hdGNoLCBjb2RlKSB7CiAgICAgICAgICAgcmV0dXJuICInKTsiICsgY29kZS5yZXBsYWNlKC9cXCcvZywgIiciKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xyXG5cdF0vZywgJyAnKSArICJfX3AucHVzaCgnIjsKICAgICAgICAgfSkKICAgICAgICAgLnJlcGxhY2UoL1xyL2csICdcXHInKQogICAgICAgICAucmVwbGFjZSgvXG4vZywgJ1xcbicpCiAgICAgICAgIC5yZXBsYWNlKC9cdC9nLCAnXFx0JykKICAgICAgICAgKyAiJyk7fXJldHVybiBfX3Auam9pbignJyk7IjsKICAgIHZhciBmdW5jID0gbmV3IEZ1bmN0aW9uKCdvYmonLCB0bXBsKTsKICAgIHJldHVybiBkYXRhID8gZnVuYyhkYXRhKSA6IGZ1bmM7CiAgfTsKCiAgLy8gVGhlIE9PUCBXcmFwcGVyCiAgLy8gLS0tLS0tLS0tLS0tLS0tCgogIC8vIElmIFVuZGVyc2NvcmUgaXMgY2FsbGVkIGFzIGEgZnVuY3Rpb24sIGl0IHJldHVybnMgYSB3cmFwcGVkIG9iamVjdCB0aGF0CiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGUKICAvLyB1bmRlcnNjb3JlIGZ1bmN0aW9ucy4gV3JhcHBlZCBvYmplY3RzIG1heSBiZSBjaGFpbmVkLgogIHZhciB3cmFwcGVyID0gZnVuY3Rpb24ob2JqKSB7IHRoaXMuX3dyYXBwZWQgPSBvYmo7IH07CgogIC8vIEV4cG9zZSBgd3JhcHBlci5wcm90b3R5cGVgIGFzIGBfLnByb3RvdHlwZWAKICBfLnByb3RvdHlwZSA9IHdyYXBwZXIucHJvdG90eXBlOwoKICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuCiAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKG9iaiwgY2hhaW4pIHsKICAgIHJldHVybiBjaGFpbiA/IF8ob2JqKS5jaGFpbigpIDogb2JqOwogIH07CgogIC8vIEEgbWV0aG9kIHRvIGVhc2lseSBhZGQgZnVuY3Rpb25zIHRvIHRoZSBPT1Agd3JhcHBlci4KICB2YXIgYWRkVG9XcmFwcGVyID0gZnVuY3Rpb24obmFtZSwgZnVuYykgewogICAgd3JhcHBlci5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHsKICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyk7CiAgICAgIHVuc2hpZnQuY2FsbChhcmdzLCB0aGlzLl93cmFwcGVkKTsKICAgICAgcmV0dXJuIHJlc3VsdChmdW5jLmFwcGx5KF8sIGFyZ3MpLCB0aGlzLl9jaGFpbik7CiAgICB9OwogIH07CgogIC8vIEFkZCBhbGwgb2YgdGhlIFVuZGVyc2NvcmUgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyIG9iamVjdC4KICBfLm1peGluKF8pOwoKICAvLyBBZGQgYWxsIG11dGF0b3IgQXJyYXkgZnVuY3Rpb25zIHRvIHRoZSB3cmFwcGVyLgogIGVhY2goWydwb3AnLCAncHVzaCcsICdyZXZlcnNlJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obmFtZSkgewogICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07CiAgICB3cmFwcGVyLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICBtZXRob2QuYXBwbHkodGhpcy5fd3JhcHBlZCwgYXJndW1lbnRzKTsKICAgICAgcmV0dXJuIHJlc3VsdCh0aGlzLl93cmFwcGVkLCB0aGlzLl9jaGFpbik7CiAgICB9OwogIH0pOwoKICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci4KICBlYWNoKFsnY29uY2F0JywgJ2pvaW4nLCAnc2xpY2UnXSwgZnVuY3Rpb24obmFtZSkgewogICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07CiAgICB3cmFwcGVyLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gcmVzdWx0KG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpLCB0aGlzLl9jaGFpbik7CiAgICB9OwogIH0pOwoKICAvLyBTdGFydCBjaGFpbmluZyBhIHdyYXBwZWQgVW5kZXJzY29yZSBvYmplY3QuCiAgd3JhcHBlci5wcm90b3R5cGUuY2hhaW4gPSBmdW5jdGlvbigpIHsKICAgIHRoaXMuX2NoYWluID0gdHJ1ZTsKICAgIHJldHVybiB0aGlzOwogIH07CgogIC8vIEV4dHJhY3RzIHRoZSByZXN1bHQgZnJvbSBhIHdyYXBwZWQgYW5kIGNoYWluZWQgb2JqZWN0LgogIHdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDsKICB9OwoKfSkoKTsK", "content_type": "application/javascript"}, "google-spreadsheet-javascript/README.markdown": {"data": "R29vZ2xlLVNwcmVhZHNoZWV0LUphdmFzY3JpcHQKPT09PT09PT09PT09PT09PT09PT09PT09PT09PT0KClRoaXMgaXMgYSBzaW1wbGUganF1ZXJ5IHBsdWdpbiBzb3J0IG9mIHRoaW5neSB0aGF0IGFsbG93cyBqYXZhc2NyaXB0IGFwcGxpY2F0aW9ucyB0byBwdWxsIGRhdGEgZnJvbSBnb29nbGUgc3ByZWFkc2hlZXRzLgoKClNlZSBbc2FtcGxlLmh0bWxdKGh0dHBzOi8vZ2l0aHViLmNvbS9taWtleW1ja2F5L2dvb2dsZS1zcHJlYWRzaGVldC1qYXZhc2NyaXB0L2Jsb2IvbWFzdGVyL3NhbXBsZS5odG1sKSBmb3IgdGhlIG1vc3QgYmFzaWMgdXNhZ2UgKFtTZWUgaXQgaW4gYWN0aW9uIGhlcmVdKGh0dHA6Ly9taWtleW1ja2F5LmdpdGh1Yi5jb20vZ29vZ2xlLXNwcmVhZHNoZWV0LWphdmFzY3JpcHQvc2FtcGxlLmh0bWwpKS4KTG9vayBhdCB0aGUgW3F1bml0IHRlc3RzXShodHRwczovL2dpdGh1Yi5jb20vbWlrZXltY2theS9nb29nbGUtc3ByZWFkc2hlZXQtamF2YXNjcmlwdC9ibG9iL21hc3Rlci90ZXN0cykgdG8gc2VlIGFsbCBvZiB0aGUgdGhpbmdzIHRoYXQgdGhlIGxpYnJhcnkgY2FuIGRvLgoKClRPRE86CgoqIFVzZSBnb29nbGUgZm9ybXMgZm9yIHNhdmluZyBkYXRhCiogSW1wcm92ZSBjb252ZW50aW9ucyBmb3Igc2V0dGluZy9nZXR0aW5nIHByb3BlcnRpZXMKCk5PVEVTOgoKSSB3cm90ZSB0aGlzIGluIGNvZmZlZXNjcmlwdCwgc28gSSBoYXZlIGluY2x1ZGVkIHRoZSBvcmlnaW5hbCBjb2ZmZWUgc291cmNlIGZpbGVzLCBidXQgeW91IG9ubHkgbmVlZCB0aGUgamF2YXNjcmlwdCBmaWxlcyB0byB1c2UgaXQuCgo=", "content_type": ""}, "tests/testData/Assessment.TEST EGRA Prototype.Letters": {"data": "ewogICJwYWdlVHlwZSI6ICJMZXR0ZXJzUGFnZSIsCiAgInBhZ2VJZCI6ICJMZXR0ZXJzIiwKICAibGV0dGVycyI6IFsKICAgICLlvaIiLAogICAgImYiLAogICAgItirIiwKICAgICJ0IiwKICAgICLZgeKAjiIsCiAgICAiUSIsCiAgICAicyIsCiAgICAiZSIsCiAgICAidyIsCiAgICAidCIsCiAgICAiWSIsCiAgICAiUCIsCiAgICAiaCIsCiAgICAiYSIsCiAgICAidyIsCiAgICAiVyIsCiAgICAiZSIsCiAgICAiZiIsCiAgICAiVCIsCiAgICAiRyIsCiAgICAiaCIsCiAgICAiUSIsCiAgICAicyIsCiAgICAiZSIsCiAgICAidyIsCiAgICAidCIsCiAgICAiWSIsCiAgICAiUCIsCiAgICAiaCIsCiAgICAiYSIsCiAgICAidyIsCiAgICAiVyIsCiAgICAiZSIsCiAgICAiZiIsCiAgICAiVCIsCiAgICAiRyIsCiAgICAiaCIsCiAgICAiUSIsCiAgICAicyIsCiAgICAiZSIsCiAgICAidyIsCiAgICAidCIsCiAgICAiWSIsCiAgICAiUCIsCiAgICAiaCIsCiAgICAiYSIsCiAgICAidyIsCiAgICAiVyIsCiAgICAiUSIsCiAgICAicyIsCiAgICAiZSIsCiAgICAidyIsCiAgICAidCIsCiAgICAiWSIsCiAgICAiUCIsCiAgICAiaCIsCiAgICAiYSIsCiAgICAidyIsCiAgICAiVyIsCiAgICAiZSIsCiAgICAiZiIsCiAgICAiVCIsCiAgICAiRyIsCiAgICAiaCIsCiAgICAiUSIsCiAgICAicyIsCiAgICAiZSIsCiAgICAi2KsiLAogICAgInQiLAogICAgItmB4oCOIiwKICAgICJQIiwKICAgICJoIiwKICAgICJhIiwKICAgICJ3IiwKICAgICJXIiwKICAgICJRIiwKICAgICLigI7lvaIiLAogICAgImUiLAogICAgInciLAogICAgInQiLAogICAgIlkiLAogICAgIlAiLAogICAgImgiLAogICAgImEiLAogICAgInciLAogICAgIlciLAogICAgImUiLAogICAgImYiLAogICAgIlQiLAogICAgIkciLAogICAgImgiLAogICAgIlEiLAogICAgInMiLAogICAgImUiLAogICAgInciLAogICAgInQiLAogICAgIlkiLAogICAgIlAiLAogICAgIlMiLAogICAgImUiCiAgXQp9Cg==", "content_type": ""}, "egra.coffee": {"data": "JChkb2N1bWVudCkuYmluZCAibW9iaWxlaW5pdCIsIC0+CiAgJC5tb2JpbGUuYXV0b0luaXRpYWxpemVQYWdlID0gZmFsc2UKICAkLm1vYmlsZS5kZWZhdWx0UGFnZVRyYW5zaXRpb24gPSAnbm9uZSc7CgokKGRvY3VtZW50KS5yZWFkeSAtPgogIHN3aXRjaCBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gKICAgIHdoZW4gIj9kZWxldGVGcm9tQ291Y2g9dHJ1ZSIKICAgICAgRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmRlbGV0ZUZyb21Db3VjaCAtPgogICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/c2hvd01lbnU9dHJ1ZSIKICAgIHdoZW4gIj9sb2FkRnJvbVRlc3REYXRhU2F2ZVRvQ291Y2g9dHJ1ZSIKICAgICAgRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRGcm9tVGVzdERhdGFTYXZlVG9Db3VjaCAtPgogICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/c2hvd01lbnU9dHJ1ZSIKICAgIHdoZW4gIj9wcmludG91dD10cnVlIgogICAgICBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQucHJpbnQoKQogICAgd2hlbiAiP1N5bmNUb0NlbnRyYWw9dHJ1ZSIKICAgICAgJCgnYm9keScpLmh0bWwoIlNlbmRpbmcgZGF0YSB0byBjZW50cmFsIHBsZWFzZSB3YWl0LiIpCiAgICAgICQuY291Y2gucmVwbGljYXRlKCJlZ3JhIiwiaHR0cDovL21pa2V5bWNrYXk6Y29uN3F6dy5AbWlrZXltY2theS5pcmlzY291Y2guY29tL2VncmEiLCB7CiAgICAgICAgc3VjY2VzczogLT4KICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/bWVzc2FnZT1TeW5jaHJvbml6YXRpb24gc3RhcnRlZCIKICAgICAgfSkKICAgIHdoZW4gIj9TeW5jRnJvbUNlbnRyYWw9dHJ1ZSIKICAgICAgJCgnYm9keScpLmh0bWwoIlVwZGF0aW5nIHN5c3RlbSBmcm9tIGNlbnRyYWwgcGxlYXNlIHdhaXQuIikKICAgICAgJC5jb3VjaC5yZXBsaWNhdGUoImh0dHA6Ly9taWtleW1ja2F5OmNvbjdxencuQG1pa2V5bWNrYXkuaXJpc2NvdWNoLmNvbS9lZ3JhIiwgImVncmEiLCB7CiAgICAgICAgc3VjY2VzczogLT4KICAgICAgICAgIGRvY3VtZW50LmxvY2F0aW9uID0gImluZGV4Lmh0bWw/bWVzc2FnZT1TeW5jaHJvbml6YXRpb24gc3RhcnRlZCIKICAgICAgfSkKICAgIGVsc2UKICAgICAgaWYgZG9jdW1lbnQubG9jYXRpb24uc2VhcmNoLm1hdGNoKC9cP21lc3NhZ2U9KC4rKS8pCiMgVE9ETwogICAgICAgIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudC5zaG93TWVudSgiUHJvY2VzcyBjb21wbGV0ZSEiKQogICAgICBlbHNlIGlmIGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaC5tYXRjaCgvXD8uKy8pCiMgSGF2ZSB0byByZW1vdmUgdGhlIHF1ZXN0aW9uIG1hcmsKICAgICAgICBFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQubG9hZEZyb21Db3VjaChkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKQogICAgICBlbHNlCiAgICAgICAgRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LnNob3dNZW51KCkKCmNsYXNzIEVhcmx5R3JhZGVSZWFkaW5nQXNzZXNzbWVudApFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuc2hvd01lbnUgPSAobWVzc2FnZSA9ICIiKSAtPgogIHVybCA9ICIvZWdyYS9fYWxsX2RvY3MiCiAgJC5hamF4CiAgICB1cmw6IHVybCwKICAgIGFzeW5jOiB0cnVlLAogICAgdHlwZTogJ0dFVCcsCiAgICBkYXRhVHlwZTogJ2pzb24nLAogICAgc3VjY2VzczogKHJlc3VsdCkgPT4KICAgICAgZG9jdW1lbnRzID0gKCI8YSByZWw9J2V4dGVybmFsJyBocmVmPScvX3V0aWxzL2RvY3VtZW50Lmh0bWw/ZWdyYS8je2NvdWNoRG9jdW1lbnQuaWR9Jz4je2NvdWNoRG9jdW1lbnQuaWR9PC9hPiIgZm9yIGNvdWNoRG9jdW1lbnQgaW4gcmVzdWx0LnJvd3MpCiAgICAgICQoImJvZHkiKS5odG1sKCIKICAgICAgICA8ZGl2IGRhdGEtcm9sZT0ncGFnZScgaWQ9J21lbnUnPgogICAgICAgICAgPGRpdiBkYXRhLXJvbGU9J2hlYWRlcic+CiAgICAgICAgICAgIDxoMT5BZG1pbiBNZW51PC9oMT4KICAgICAgICAgIDwvZGl2PjwhLS0gL2hlYWRlciAtLT4KICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdjb250ZW50Jz4JCiAgICAgICAgICAgICN7bWVzc2FnZX0KICAgICAgICAgICAgPCEtLQogICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nI3tkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZX0/QXNzZXNzbWVudC5FR1JBIFByb3RvdHlwZSc+TG9hZCAnQXNzZXNzbWVudC5FR1JBIFByb3RvdHlwZScgZnJvbSBDb3VjaDwvYT4KICAgICAgICAgICAgLS0+CiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPScje2RvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lfT9Bc3Nlc3NtZW50LlRoZSBHYW1iaWEgRUdSQSBNYXkgMjAxMSc+TG9hZCBTYW1wbGUgQXNzZXNzbWVudDwvYT4KICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyN7ZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWV9P0Fzc2Vzc21lbnQuVGVzdCc+TGV0dGVycyBQYWdlIERlbW88L2E+CiAgICAgICAgICAgIDwhLS0KICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyN7ZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWV9P2RlbGV0ZUZyb21Db3VjaD10cnVlJz5EZWxldGUgYWxsICdBc3Nlc3NtZW50LkVHUkEnIGRvY3VtZW50cyBmcm9tIENvdWNoPC9hPgogICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nI3tkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZX0/bG9hZEZyb21UZXN0RGF0YVNhdmVUb0NvdWNoPXRydWUnPkxvYWQgZnJvbSBUZXN0IERhdGEgU2F2ZSBUbyBDb3VjaDwvYT4KICAgICAgICAgICAgLS0+CiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPScje2RvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lfT9TeW5jVG9DZW50cmFsPXRydWUnPlNlbmQgcmVzdWx0cyB0byBUYW5nZXJpbmVDZW50cmFsLmNvbTwvYT4KICAgICAgICAgICAgPGEgZGF0YS1hamF4PSdmYWxzZScgZGF0YS1yb2xlPSdidXR0b24nIGhyZWY9JyN7ZG9jdW1lbnQubG9jYXRpb24ucGF0aG5hbWV9P1N5bmNGcm9tQ2VudHJhbD10cnVlJz5VcGRhdGUgc3lzdGVtPC9hPgogICAgICAgICAgICA8YSBkYXRhLWFqYXg9J2ZhbHNlJyBkYXRhLXJvbGU9J2J1dHRvbicgaHJlZj0nI3tkb2N1bWVudC5sb2NhdGlvbi5wYXRobmFtZX0/cHJpbnRvdXQ9dHJ1ZSc+R2VuZXJhdGUgcHJpbnRvdXQ8L2E+CiAgICAgICAgICAgIDxhIGRhdGEtYWpheD0nZmFsc2UnIGRhdGEtcm9sZT0nYnV0dG9uJyBocmVmPScje2RvY3VtZW50LmxvY2F0aW9uLnBhdGhuYW1lfT9Bc3Nlc3NtZW50LlRlc3QnPkZvciBUZXN0aW5nPC9hPgogICAgICAgICAgICA8ZGl2IGRhdGEtcm9sZT0nY29sbGFwc2libGUnIGRhdGEtY29sbGFwc2VkPSd0cnVlJz4KICAgICAgICAgICAgICA8aDM+UmVzdWx0cyBhbmQgYXNzZXNzbWVudHM8L2gzPgogICAgICAgICAgICAgICN7ZG9jdW1lbnRzLmpvaW4oIjxici8+Iil9CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgPC9kaXY+PCEtLSAvY29udGVudCAtLT4KICAgICAgICAgIDxkaXYgZGF0YS1yb2xlPSdmb290ZXInPgogICAgICAgICAgPC9kaXY+PCEtLSAvZm9vdGVyIC0tPgogICAgICAgIDwvZGl2PjwhLS0gL3BhZ2UgLS0+CiAgICAgICIpCiAgICAgICQubW9iaWxlLmluaXRpYWxpemVQYWdlKCkKICAgIGVycm9yOiAtPgogICAgICB0aHJvdyAiQ291bGQgbm90IEdFVCAje3VybH0iCgpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQucHJpbnQgPSAtPgogIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQICIvZWdyYS9Bc3Nlc3NtZW50LlRoZSBHYW1iaWEgRUdSQSBNYXkgMjAxMSIsIChhc3Nlc3NtZW50KSAtPgogICAgYXNzZXNzbWVudC50b1BhcGVyIChyZXN1bHQpIC0+CiAgICAgIHN0eWxlID0gIgogICAgICAgIGJvZHl7CiAgICAgICAgICBmb250LWZhbWlseTogQXJpYWw7CiAgICAgICAgfQogICAgICAgIC5wYWdlLWJyZWFrewogICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICBwYWdlLWJyZWFrLWJlZm9yZTogYWx3YXlzOwogICAgICAgIH0KICAgICAgICBpbnB1dHsKICAgICAgICAgIGhlaWdodDogNTBweDsgIAogICAgICAgICAgYm9yZGVyOiAxcHgKICAgICAgICB9CiAgICAgICIKICAgICAgJCgiYm9keSIpLmh0bWwocmVzdWx0KQogICAgICAjIFJlbW92ZSB0aGUganF1ZXJ5IG1vYmlsZSBzdHlsZXNoZWV0CiAgICAgICQoImxpbmsiKS5yZW1vdmUoKQoKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRGcm9tQ291Y2ggPSAocGF0aCkgLT4KICBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCAiL2VncmEvI3twYXRofSIsIChhc3Nlc3NtZW50KSAtPgogICNBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCAiL2VncmEvQXNzZXNzbWVudC5FR1JBIFByb3RvdHlwZSIsIChhc3Nlc3NtZW50KSAtPgogICAgYXNzZXNzbWVudC5yZW5kZXIgKHJlc3VsdCkgLT4KICAgICAgJCgiYm9keSIpLmh0bWwocmVzdWx0KQogICAgICAkLm1vYmlsZS5pbml0aWFsaXplUGFnZSgpCgpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQubG9hZFRlc3QgPSAtPgogIEFzc2Vzc21lbnQubG9hZEZyb21IVFRQICIvZWdyYS9Bc3Nlc3NtZW50LlRlc3QiLCAoYXNzZXNzbWVudCkgLT4KICAgIGFzc2Vzc21lbnQucmVuZGVyIChyZXN1bHQpIC0+CiAgICAgICQoImJvZHkiKS5odG1sKHJlc3VsdCkKICAgICAgJC5tb2JpbGUuaW5pdGlhbGl6ZVBhZ2UoKQoKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmRlbGV0ZUZyb21Db3VjaCA9IChjYWxsYmFjaykgLT4KICB1cmwgPSAiL2VncmEvX2FsbF9kb2NzIgogICQuYWpheAogICAgdXJsOiB1cmwsCiAgICBhc3luYzogdHJ1ZSwKICAgIHR5cGU6ICdHRVQnLAogICAgZGF0YVR5cGU6ICdqc29uJywKICAgIHN1Y2Nlc3M6IChyZXN1bHQpID0+CiAgICAgIGZvciBkb2N1bWVudCBpbiByZXN1bHQucm93cwogICAgICAgIGlmIGRvY3VtZW50LmlkLm1hdGNoKC9Bc3Nlc3NtZW50LkVHUkEvKQogICAgICAgICAgdXJsID0gIi9lZ3JhLyN7ZG9jdW1lbnQuaWR9P3Jldj0je2RvY3VtZW50LnZhbHVlLnJldn0iCiAgICAgICAgICAkLmFqYXgKICAgICAgICAgICAgdXJsOiB1cmwKICAgICAgICAgICAgYXN5bmM6IHRydWUKICAgICAgICAgICAgdHlwZTogJ0RFTEVURScKICAgICAgICAgICAgZXJyb3I6IC0+CiAgICAgICAgICAgICAgdGhyb3cgIkNvdWxkIG5vdCBERUxFVEUgI3t1cmx9IgogICAgZXJyb3I6IC0+CiAgICAgIHRocm93ICJDb3VsZCBub3QgR0VUICN7dXJsfSIKICAgIGNvbXBsZXRlOiA9PgogICAgICBjYWxsYmFjaygpIGlmIGNhbGxiYWNrPwoKRWFybHlHcmFkZVJlYWRpbmdBc3Nlc3NtZW50LmxvYWRGcm9tVGVzdERhdGFTYXZlVG9Db3VjaCA9IChjYWxsYmFjaykgLT4KICBBc3Nlc3NtZW50LmxvYWRGcm9tSFRUUCAidGVzdHMvdGVzdERhdGEvQXNzZXNzbWVudC5URVNUIEVHUkEgUHJvdG90eXBlIiwgKGFzc2Vzc21lbnQpIC0+CiAgICBhc3Nlc3NtZW50LmNoYW5nZU5hbWUoIkVHUkEgUHJvdG90eXBlIikKICAgIGFzc2Vzc21lbnQuc2F2ZVRvQ291Y2hEQihjYWxsYmFjaykKCgpFYXJseUdyYWRlUmVhZGluZ0Fzc2Vzc21lbnQuY3JlYXRlRnJvbUdvb2dsZSA9IC0+CgogIGFzc2Vzc21lbnQ9IG5ldyBBc3Nlc3NtZW50KCJFR1JBIFByb3RvdHlwZSIpCgogIGxvZ2luPSBuZXcgSlF1ZXJ5TW9iaWxlUGFnZSgpCiAgaW5zdHJ1Y3Rpb25zPSBuZXcgSW5zdHJ1Y3Rpb25zUGFnZSgpCiAgbGV0dGVycz0gbmV3IExldHRlcnNQYWdlKCkKCiAgbG9naW4ucGFnZUlkPSAiTG9naW4iCiAgbG9naW4uaGVhZGVyPSAiPGgxPkVHUkE8L2gxPiIKICBsb2dpbi5jb250ZW50PSAobmV3IEpRdWVyeUxvZ2luKCkpLnJlbmRlcigpCgogIGluc3RydWN0aW9ucy5wYWdlSWQ9ICJJbnN0cnVjdGlvbnMiCiAgaW5zdHJ1Y3Rpb25zLmhlYWRlcj0gIjxoMT5FR1JBPC9oMT4iCiAgaW5zdHJ1Y3Rpb25zLnVybD0gImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vcHViP2tleT0wQWdvMzFKUVBaeFpyZEdKU1pUWTJNSFU0VmxKM1JuTnRkbk5EVmpSakxWRSZobD1lbiZvdXRwdXQ9aHRtbCIKICBpbnN0cnVjdGlvbnMudXBkYXRlRnJvbUdvb2dsZSgpCgogIGxldHRlcnMucGFnZUlkPSAiTGV0dGVycyIKICBsZXR0ZXJzLmhlYWRlcj0gIjxoMT5FR1JBPC9oMT4iCiAgbGV0dGVycy51cmw9ICJodHRwczovL3NwcmVhZHNoZWV0cy5nb29nbGUuY29tL3B1Yj9rZXk9MEFnbzMxSlFQWnhacmRDMU1lR1ZxZDNGWmJYTTJSbk5GUkV0b1ZWWkZibWMmaGw9ZW4mb3V0cHV0PWh0bWwiCiAgbGV0dGVycy51cGRhdGVGcm9tR29vZ2xlKCkKCiAgYXNzZXNzbWVudC5zZXRQYWdlcyhbbG9naW4sIGluc3RydWN0aW9ucywgbGV0dGVyc10pCiAgcmV0dXJuIGFzc2Vzc21lbnQK", "content_type": ""}, "google-spreadsheet-javascript/tests/qunit.js": {"data": "LyoKICogUVVuaXQgLSBBIEphdmFTY3JpcHQgVW5pdCBUZXN0aW5nIEZyYW1ld29yawogKiAKICogaHR0cDovL2RvY3MuanF1ZXJ5LmNvbS9RVW5pdAogKgogKiBDb3B5cmlnaHQgKGMpIDIwMDkgSm9obiBSZXNpZywgSsO2cm4gWmFlZmZlcmVyCiAqIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCAoTUlULUxJQ0VOU0UudHh0KQogKiBhbmQgR1BMIChHUEwtTElDRU5TRS50eHQpIGxpY2Vuc2VzLgogKi8KCihmdW5jdGlvbih3aW5kb3cpIHsKCnZhciBkZWZpbmVkID0gewoJc2V0VGltZW91dDogdHlwZW9mIHdpbmRvdy5zZXRUaW1lb3V0ICE9PSAidW5kZWZpbmVkIiwKCXNlc3Npb25TdG9yYWdlOiAoZnVuY3Rpb24oKSB7CgkJdHJ5IHsKCQkJcmV0dXJuICEhc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbTsKCQl9IGNhdGNoKGUpewoJCQlyZXR1cm4gZmFsc2U7CgkJfQogIH0pKCkKfQoKdmFyIHRlc3RJZCA9IDA7Cgp2YXIgVGVzdCA9IGZ1bmN0aW9uKG5hbWUsIHRlc3ROYW1lLCBleHBlY3RlZCwgdGVzdEVudmlyb25tZW50QXJnLCBhc3luYywgY2FsbGJhY2spIHsKCXRoaXMubmFtZSA9IG5hbWU7Cgl0aGlzLnRlc3ROYW1lID0gdGVzdE5hbWU7Cgl0aGlzLmV4cGVjdGVkID0gZXhwZWN0ZWQ7Cgl0aGlzLnRlc3RFbnZpcm9ubWVudEFyZyA9IHRlc3RFbnZpcm9ubWVudEFyZzsKCXRoaXMuYXN5bmMgPSBhc3luYzsKCXRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjazsKCXRoaXMuYXNzZXJ0aW9ucyA9IFtdOwp9OwpUZXN0LnByb3RvdHlwZSA9IHsKCWluaXQ6IGZ1bmN0aW9uKCkgewoJCXZhciB0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpOwoJCWlmICh0ZXN0cykgewoJCQl2YXIgYiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0cm9uZyIpOwoJCQkJYi5pbm5lckhUTUwgPSAiUnVubmluZyAiICsgdGhpcy5uYW1lOwoJCQl2YXIgbGkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsaSIpOwoJCQkJbGkuYXBwZW5kQ2hpbGQoIGIgKTsKCQkJCWxpLmlkID0gdGhpcy5pZCA9ICJ0ZXN0LW91dHB1dCIgKyB0ZXN0SWQrKzsKCQkJdGVzdHMuYXBwZW5kQ2hpbGQoIGxpICk7CgkJfQoJfSwKCXNldHVwOiBmdW5jdGlvbigpIHsKCQlpZiAodGhpcy5tb2R1bGUgIT0gY29uZmlnLnByZXZpb3VzTW9kdWxlKSB7CgkJCWlmICggdGhpcy5wcmV2aW91c01vZHVsZSApIHsKCQkJCVFVbml0Lm1vZHVsZURvbmUoIHRoaXMubW9kdWxlLCBjb25maWcubW9kdWxlU3RhdHMuYmFkLCBjb25maWcubW9kdWxlU3RhdHMuYWxsICk7CgkJCX0KCQkJY29uZmlnLnByZXZpb3VzTW9kdWxlID0gdGhpcy5tb2R1bGU7CgkJCWNvbmZpZy5tb2R1bGVTdGF0cyA9IHsgYWxsOiAwLCBiYWQ6IDAgfTsKCQkJUVVuaXQubW9kdWxlU3RhcnQoIHRoaXMubW9kdWxlLCB0aGlzLm1vZHVsZVRlc3RFbnZpcm9ubWVudCApOwoJCX0KCgkJY29uZmlnLmN1cnJlbnQgPSB0aGlzOwoJCXRoaXMudGVzdEVudmlyb25tZW50ID0gZXh0ZW5kKHsKCQkJc2V0dXA6IGZ1bmN0aW9uKCkge30sCgkJCXRlYXJkb3duOiBmdW5jdGlvbigpIHt9CgkJfSwgdGhpcy5tb2R1bGVUZXN0RW52aXJvbm1lbnQpOwoJCWlmICh0aGlzLnRlc3RFbnZpcm9ubWVudEFyZykgewoJCQlleHRlbmQodGhpcy50ZXN0RW52aXJvbm1lbnQsIHRoaXMudGVzdEVudmlyb25tZW50QXJnKTsKCQl9CgoJCVFVbml0LnRlc3RTdGFydCggdGhpcy50ZXN0TmFtZSwgdGhpcy50ZXN0RW52aXJvbm1lbnQgKTsKCgkJLy8gYWxsb3cgdXRpbGl0eSBmdW5jdGlvbnMgdG8gYWNjZXNzIHRoZSBjdXJyZW50IHRlc3QgZW52aXJvbm1lbnQKCQkvLyBUT0RPIHdoeT8/CgkJUVVuaXQuY3VycmVudF90ZXN0RW52aXJvbm1lbnQgPSB0aGlzLnRlc3RFbnZpcm9ubWVudDsKCQkKCQl0cnkgewoJCQlpZiAoICFjb25maWcucG9sbHV0aW9uICkgewoJCQkJc2F2ZUdsb2JhbCgpOwoJCQl9CgoJCQl0aGlzLnRlc3RFbnZpcm9ubWVudC5zZXR1cC5jYWxsKHRoaXMudGVzdEVudmlyb25tZW50KTsKCQl9IGNhdGNoKGUpIHsKCQkJLy8gVE9ETyB1c2UgdGVzdE5hbWUgaW5zdGVhZCBvZiBuYW1lIGZvciBuby1tYXJrdXAgbWVzc2FnZT8KCQkJUVVuaXQub2soIGZhbHNlLCAiU2V0dXAgZmFpbGVkIG9uICIgKyB0aGlzLm5hbWUgKyAiOiAiICsgZS5tZXNzYWdlICk7CgkJfQoJfSwKCXJ1bjogZnVuY3Rpb24oKSB7CgkJaWYgKCB0aGlzLmFzeW5jICkgewoJCQlRVW5pdC5zdG9wKCk7CgkJfQoKCQl0cnkgewoJCQl0aGlzLmNhbGxiYWNrLmNhbGwodGhpcy50ZXN0RW52aXJvbm1lbnQpOwoJCX0gY2F0Y2goZSkgewoJCQkvLyBUT0RPIHVzZSB0ZXN0TmFtZSBpbnN0ZWFkIG9mIG5hbWUgZm9yIG5vLW1hcmt1cCBtZXNzYWdlPwoJCQlmYWlsKCJUZXN0ICIgKyB0aGlzLm5hbWUgKyAiIGRpZWQsIGV4Y2VwdGlvbiBhbmQgdGVzdCBmb2xsb3dzIiwgZSwgdGhpcy5jYWxsYmFjayk7CgkJCVFVbml0Lm9rKCBmYWxzZSwgIkRpZWQgb24gdGVzdCAjIiArICh0aGlzLmFzc2VydGlvbnMubGVuZ3RoICsgMSkgKyAiOiAiICsgZS5tZXNzYWdlICsgIiAtICIgKyBRVW5pdC5qc0R1bXAucGFyc2UoZSkgKTsKCQkJLy8gZWxzZSBuZXh0IHRlc3Qgd2lsbCBjYXJyeSB0aGUgcmVzcG9uc2liaWxpdHkKCQkJc2F2ZUdsb2JhbCgpOwoKCQkJLy8gUmVzdGFydCB0aGUgdGVzdHMgaWYgdGhleSdyZSBibG9ja2luZwoJCQlpZiAoIGNvbmZpZy5ibG9ja2luZyApIHsKCQkJCXN0YXJ0KCk7CgkJCX0KCQl9Cgl9LAoJdGVhcmRvd246IGZ1bmN0aW9uKCkgewoJCXRyeSB7CgkJCWNoZWNrUG9sbHV0aW9uKCk7CgkJCXRoaXMudGVzdEVudmlyb25tZW50LnRlYXJkb3duLmNhbGwodGhpcy50ZXN0RW52aXJvbm1lbnQpOwoJCX0gY2F0Y2goZSkgewoJCQkvLyBUT0RPIHVzZSB0ZXN0TmFtZSBpbnN0ZWFkIG9mIG5hbWUgZm9yIG5vLW1hcmt1cCBtZXNzYWdlPwoJCQlRVW5pdC5vayggZmFsc2UsICJUZWFyZG93biBmYWlsZWQgb24gIiArIHRoaXMubmFtZSArICI6ICIgKyBlLm1lc3NhZ2UgKTsKCQl9Cgl9LAoJZmluaXNoOiBmdW5jdGlvbigpIHsKCQlpZiAoIHRoaXMuZXhwZWN0ZWQgJiYgdGhpcy5leHBlY3RlZCAhPSB0aGlzLmFzc2VydGlvbnMubGVuZ3RoICkgewoJCQlRVW5pdC5vayggZmFsc2UsICJFeHBlY3RlZCAiICsgdGhpcy5leHBlY3RlZCArICIgYXNzZXJ0aW9ucywgYnV0ICIgKyB0aGlzLmFzc2VydGlvbnMubGVuZ3RoICsgIiB3ZXJlIHJ1biIgKTsKCQl9CgkJCgkJdmFyIGdvb2QgPSAwLCBiYWQgPSAwLAoJCQl0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpOwoKCQljb25maWcuc3RhdHMuYWxsICs9IHRoaXMuYXNzZXJ0aW9ucy5sZW5ndGg7CgkJY29uZmlnLm1vZHVsZVN0YXRzLmFsbCArPSB0aGlzLmFzc2VydGlvbnMubGVuZ3RoOwoKCQlpZiAoIHRlc3RzICkgewoJCQl2YXIgb2wgID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib2wiKTsKCgkJCWZvciAoIHZhciBpID0gMDsgaSA8IHRoaXMuYXNzZXJ0aW9ucy5sZW5ndGg7IGkrKyApIHsKCQkJCXZhciBhc3NlcnRpb24gPSB0aGlzLmFzc2VydGlvbnNbaV07CgoJCQkJdmFyIGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGkiKTsKCQkJCWxpLmNsYXNzTmFtZSA9IGFzc2VydGlvbi5yZXN1bHQgPyAicGFzcyIgOiAiZmFpbCI7CgkJCQlsaS5pbm5lckhUTUwgPSBhc3NlcnRpb24ubWVzc2FnZSB8fCAoYXNzZXJ0aW9uLnJlc3VsdCA/ICJva2F5IiA6ICJmYWlsZWQiKTsKCQkJCW9sLmFwcGVuZENoaWxkKCBsaSApOwoKCQkJCWlmICggYXNzZXJ0aW9uLnJlc3VsdCApIHsKCQkJCQlnb29kKys7CgkJCQl9IGVsc2UgewoJCQkJCWJhZCsrOwoJCQkJCWNvbmZpZy5zdGF0cy5iYWQrKzsKCQkJCQljb25maWcubW9kdWxlU3RhdHMuYmFkKys7CgkJCQl9CgkJCX0KCgkJCS8vIHN0b3JlIHJlc3VsdCB3aGVuIHBvc3NpYmxlCgkJCWRlZmluZWQuc2Vzc2lvblN0b3JhZ2UgJiYgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgicXVuaXQtIiArIHRoaXMudGVzdE5hbWUsIGJhZCk7CgoJCQlpZiAoYmFkID09IDApIHsKCQkJCW9sLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CgkJCX0KCgkJCXZhciBiID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3Ryb25nIik7CgkJCWIuaW5uZXJIVE1MID0gdGhpcy5uYW1lICsgIiA8YiBjbGFzcz0nY291bnRzJz4oPGIgY2xhc3M9J2ZhaWxlZCc+IiArIGJhZCArICI8L2I+LCA8YiBjbGFzcz0ncGFzc2VkJz4iICsgZ29vZCArICI8L2I+LCAiICsgdGhpcy5hc3NlcnRpb25zLmxlbmd0aCArICIpPC9iPiI7CgkJCQoJCQlhZGRFdmVudChiLCAiY2xpY2siLCBmdW5jdGlvbigpIHsKCQkJCXZhciBuZXh0ID0gYi5uZXh0U2libGluZywgZGlzcGxheSA9IG5leHQuc3R5bGUuZGlzcGxheTsKCQkJCW5leHQuc3R5bGUuZGlzcGxheSA9IGRpc3BsYXkgPT09ICJub25lIiA/ICJibG9jayIgOiAibm9uZSI7CgkJCX0pOwoJCQkKCQkJYWRkRXZlbnQoYiwgImRibGNsaWNrIiwgZnVuY3Rpb24oZSkgewoJCQkJdmFyIHRhcmdldCA9IGUgJiYgZS50YXJnZXQgPyBlLnRhcmdldCA6IHdpbmRvdy5ldmVudC5zcmNFbGVtZW50OwoJCQkJaWYgKCB0YXJnZXQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAic3BhbiIgfHwgdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT0gImIiICkgewoJCQkJCXRhcmdldCA9IHRhcmdldC5wYXJlbnROb2RlOwoJCQkJfQoJCQkJaWYgKCB3aW5kb3cubG9jYXRpb24gJiYgdGFyZ2V0Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICJzdHJvbmciICkgewoJCQkJCXdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSAiPyIgKyBlbmNvZGVVUklDb21wb25lbnQoZ2V0VGV4dChbdGFyZ2V0XSkucmVwbGFjZSgvXCguK1wpJC8sICIiKS5yZXBsYWNlKC8oXlxzKnxccyokKS9nLCAiIikpOwoJCQkJfQoJCQl9KTsKCgkJCXZhciBsaSA9IGlkKHRoaXMuaWQpOwoJCQlsaS5jbGFzc05hbWUgPSBiYWQgPyAiZmFpbCIgOiAicGFzcyI7CgkJCWxpLnN0eWxlLmRpc3BsYXkgPSByZXN1bHREaXNwbGF5U3R5bGUoIWJhZCk7CgkJCWxpLnJlbW92ZUNoaWxkKCBsaS5maXJzdENoaWxkICk7CgkJCWxpLmFwcGVuZENoaWxkKCBiICk7CgkJCWxpLmFwcGVuZENoaWxkKCBvbCApOwoKCQkJaWYgKCBiYWQgKSB7CgkJCQl2YXIgdG9vbGJhciA9IGlkKCJxdW5pdC10ZXN0cnVubmVyLXRvb2xiYXIiKTsKCQkJCWlmICggdG9vbGJhciApIHsKCQkJCQl0b29sYmFyLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siOwoJCQkJCWlkKCJxdW5pdC1maWx0ZXItcGFzcyIpLmRpc2FibGVkID0gbnVsbDsKCQkJCX0KCQkJfQoKCQl9IGVsc2UgewoJCQlmb3IgKCB2YXIgaSA9IDA7IGkgPCB0aGlzLmFzc2VydGlvbnMubGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoICF0aGlzLmFzc2VydGlvbnNbaV0ucmVzdWx0ICkgewoJCQkJCWJhZCsrOwoJCQkJCWNvbmZpZy5zdGF0cy5iYWQrKzsKCQkJCQljb25maWcubW9kdWxlU3RhdHMuYmFkKys7CgkJCQl9CgkJCX0KCQl9CgoJCXRyeSB7CgkJCVFVbml0LnJlc2V0KCk7CgkJfSBjYXRjaChlKSB7CgkJCS8vIFRPRE8gdXNlIHRlc3ROYW1lIGluc3RlYWQgb2YgbmFtZSBmb3Igbm8tbWFya3VwIG1lc3NhZ2U/CgkJCWZhaWwoInJlc2V0KCkgZmFpbGVkLCBmb2xsb3dpbmcgVGVzdCAiICsgdGhpcy5uYW1lICsgIiwgZXhjZXB0aW9uIGFuZCByZXNldCBmbiBmb2xsb3dzIiwgZSwgUVVuaXQucmVzZXQpOwoJCX0KCgkJUVVuaXQudGVzdERvbmUoIHRoaXMudGVzdE5hbWUsIGJhZCwgdGhpcy5hc3NlcnRpb25zLmxlbmd0aCApOwoJfSwKCQoJcXVldWU6IGZ1bmN0aW9uKCkgewoJCXZhciB0ZXN0ID0gdGhpczsKCQlzeW5jaHJvbml6ZShmdW5jdGlvbigpIHsKCQkJdGVzdC5pbml0KCk7CgkJfSk7CgkJZnVuY3Rpb24gcnVuKCkgewoJCQkvLyBlYWNoIG9mIHRoZXNlIGNhbiBieSBhc3luYwoJCQlzeW5jaHJvbml6ZShmdW5jdGlvbigpIHsKCQkJCXRlc3Quc2V0dXAoKTsKCQkJfSk7CgkJCXN5bmNocm9uaXplKGZ1bmN0aW9uKCkgewoJCQkJdGVzdC5ydW4oKTsKCQkJfSk7CgkJCXN5bmNocm9uaXplKGZ1bmN0aW9uKCkgewoJCQkJdGVzdC50ZWFyZG93bigpOwoJCQl9KTsKCQkJc3luY2hyb25pemUoZnVuY3Rpb24oKSB7CgkJCQl0ZXN0LmZpbmlzaCgpOwoJCQl9KTsKCQl9CgkJLy8gZGVmZXIgd2hlbiBwcmV2aW91cyB0ZXN0IHJ1biBwYXNzZWQsIGlmIHN0b3JhZ2UgaXMgYXZhaWxhYmxlCgkJdmFyIGJhZCA9IGRlZmluZWQuc2Vzc2lvblN0b3JhZ2UgJiYgK3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0oInF1bml0LSIgKyB0aGlzLnRlc3ROYW1lKTsKCQlpZiAoYmFkKSB7CgkJCXJ1bigpOwoJCX0gZWxzZSB7CgkJCXN5bmNocm9uaXplKHJ1bik7CgkJfTsKCX0KCQp9Cgp2YXIgUVVuaXQgPSB7CgoJLy8gY2FsbCBvbiBzdGFydCBvZiBtb2R1bGUgdGVzdCB0byBwcmVwZW5kIG5hbWUgdG8gYWxsIHRlc3RzCgltb2R1bGU6IGZ1bmN0aW9uKG5hbWUsIHRlc3RFbnZpcm9ubWVudCkgewoJCWNvbmZpZy5wcmV2aW91c01vZHVsZSA9IGNvbmZpZy5jdXJyZW50TW9kdWxlOwoJCWNvbmZpZy5jdXJyZW50TW9kdWxlID0gbmFtZTsKCQljb25maWcuY3VycmVudE1vZHVsZVRlc3RFbnZpcm9tZW50ID0gdGVzdEVudmlyb25tZW50OwoJfSwKCglhc3luY1Rlc3Q6IGZ1bmN0aW9uKHRlc3ROYW1lLCBleHBlY3RlZCwgY2FsbGJhY2spIHsKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDIgKSB7CgkJCWNhbGxiYWNrID0gZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gMDsKCQl9CgoJCVFVbml0LnRlc3QodGVzdE5hbWUsIGV4cGVjdGVkLCBjYWxsYmFjaywgdHJ1ZSk7Cgl9LAoJCgl0ZXN0OiBmdW5jdGlvbih0ZXN0TmFtZSwgZXhwZWN0ZWQsIGNhbGxiYWNrLCBhc3luYykgewoJCXZhciBuYW1lID0gJzxzcGFuIGNsYXNzPSJ0ZXN0LW5hbWUiPicgKyB0ZXN0TmFtZSArICc8L3NwYW4+JywgdGVzdEVudmlyb25tZW50QXJnOwoKCQlpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDIgKSB7CgkJCWNhbGxiYWNrID0gZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gbnVsbDsKCQl9CgkJLy8gaXMgMm5kIGFyZ3VtZW50IGEgdGVzdEVudmlyb25tZW50PwoJCWlmICggZXhwZWN0ZWQgJiYgdHlwZW9mIGV4cGVjdGVkID09PSAnb2JqZWN0JykgewoJCQl0ZXN0RW52aXJvbm1lbnRBcmcgPSAgZXhwZWN0ZWQ7CgkJCWV4cGVjdGVkID0gbnVsbDsKCQl9CgoJCWlmICggY29uZmlnLmN1cnJlbnRNb2R1bGUgKSB7CgkJCW5hbWUgPSAnPHNwYW4gY2xhc3M9Im1vZHVsZS1uYW1lIj4nICsgY29uZmlnLmN1cnJlbnRNb2R1bGUgKyAiPC9zcGFuPjogIiArIG5hbWU7CgkJfQoKCQlpZiAoICF2YWxpZFRlc3QoY29uZmlnLmN1cnJlbnRNb2R1bGUgKyAiOiAiICsgdGVzdE5hbWUpICkgewoJCQlyZXR1cm47CgkJfQoJCQoJCXZhciB0ZXN0ID0gbmV3IFRlc3QobmFtZSwgdGVzdE5hbWUsIGV4cGVjdGVkLCB0ZXN0RW52aXJvbm1lbnRBcmcsIGFzeW5jLCBjYWxsYmFjayk7CgkJdGVzdC5wcmV2aW91c01vZHVsZSA9IGNvbmZpZy5wcmV2aW91c01vZHVsZTsKCQl0ZXN0Lm1vZHVsZSA9IGNvbmZpZy5jdXJyZW50TW9kdWxlOwoJCXRlc3QubW9kdWxlVGVzdEVudmlyb25tZW50ID0gY29uZmlnLmN1cnJlbnRNb2R1bGVUZXN0RW52aXJvbWVudDsKCQl0ZXN0LnF1ZXVlKCk7Cgl9LAoJCgkvKioKCSAqIFNwZWNpZnkgdGhlIG51bWJlciBvZiBleHBlY3RlZCBhc3NlcnRpb25zIHRvIGd1cmFudGVlIHRoYXQgZmFpbGVkIHRlc3QgKG5vIGFzc2VydGlvbnMgYXJlIHJ1biBhdCBhbGwpIGRvbid0IHNsaXAgdGhyb3VnaC4KCSAqLwoJZXhwZWN0OiBmdW5jdGlvbihhc3NlcnRzKSB7CgkJY29uZmlnLmN1cnJlbnQuZXhwZWN0ZWQgPSBhc3NlcnRzOwoJfSwKCgkvKioKCSAqIEFzc2VydHMgdHJ1ZS4KCSAqIEBleGFtcGxlIG9rKCAiYXNkZmFzZGYiLmxlbmd0aCA+IDUsICJUaGVyZSBtdXN0IGJlIGF0IGxlYXN0IDUgY2hhcnMiICk7CgkgKi8KCW9rOiBmdW5jdGlvbihhLCBtc2cpIHsKCQlhID0gISFhOwoJCXZhciBkZXRhaWxzID0gewoJCQlyZXN1bHQ6IGEsCgkJCW1lc3NhZ2U6IG1zZwoJCX07CgkJbXNnID0gZXNjYXBlSHRtbChtc2cpOwoJCVFVbml0LmxvZyhhLCBtc2csIGRldGFpbHMpOwoJCWNvbmZpZy5jdXJyZW50LmFzc2VydGlvbnMucHVzaCh7CgkJCXJlc3VsdDogYSwKCQkJbWVzc2FnZTogbXNnCgkJfSk7Cgl9LAoKCS8qKgoJICogQ2hlY2tzIHRoYXQgdGhlIGZpcnN0IHR3byBhcmd1bWVudHMgYXJlIGVxdWFsLCB3aXRoIGFuIG9wdGlvbmFsIG1lc3NhZ2UuCgkgKiBQcmludHMgb3V0IGJvdGggYWN0dWFsIGFuZCBleHBlY3RlZCB2YWx1ZXMuCgkgKgoJICogUHJlZmVyZWQgdG8gb2soIGFjdHVhbCA9PSBleHBlY3RlZCwgbWVzc2FnZSApCgkgKgoJICogQGV4YW1wbGUgZXF1YWwoIGZvcm1hdCgiUmVjZWl2ZWQgezB9IGJ5dGVzLiIsIDIpLCAiUmVjZWl2ZWQgMiBieXRlcy4iICk7CgkgKgoJICogQHBhcmFtIE9iamVjdCBhY3R1YWwKCSAqIEBwYXJhbSBPYmplY3QgZXhwZWN0ZWQKCSAqIEBwYXJhbSBTdHJpbmcgbWVzc2FnZSAob3B0aW9uYWwpCgkgKi8KCWVxdWFsOiBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkJUVVuaXQucHVzaChleHBlY3RlZCA9PSBhY3R1YWwsIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglub3RFcXVhbDogZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCVFVbml0LnB1c2goZXhwZWN0ZWQgIT0gYWN0dWFsLCBhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKTsKCX0sCgkKCWRlZXBFcXVhbDogZnVuY3Rpb24oYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCVFVbml0LnB1c2goUVVuaXQuZXF1aXYoYWN0dWFsLCBleHBlY3RlZCksIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglub3REZWVwRXF1YWw6IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCQlRVW5pdC5wdXNoKCFRVW5pdC5lcXVpdihhY3R1YWwsIGV4cGVjdGVkKSwgYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSk7Cgl9LAoKCXN0cmljdEVxdWFsOiBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKSB7CgkJUVVuaXQucHVzaChleHBlY3RlZCA9PT0gYWN0dWFsLCBhY3R1YWwsIGV4cGVjdGVkLCBtZXNzYWdlKTsKCX0sCgoJbm90U3RyaWN0RXF1YWw6IGZ1bmN0aW9uKGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpIHsKCQlRVW5pdC5wdXNoKGV4cGVjdGVkICE9PSBhY3R1YWwsIGFjdHVhbCwgZXhwZWN0ZWQsIG1lc3NhZ2UpOwoJfSwKCglyYWlzZXM6IGZ1bmN0aW9uKGZuLCAgbWVzc2FnZSkgewoJCXRyeSB7CgkJCWZuKCk7CgkJCVFVbml0Lm9rKCBmYWxzZSwgbWVzc2FnZSApOwoJCX0KCQljYXRjaCAoZSkgewoJCQlRVW5pdC5vayggdHJ1ZSwgbWVzc2FnZSApOwoJCX0KCX0sCgoJc3RhcnQ6IGZ1bmN0aW9uKCkgewoJCS8vIEEgc2xpZ2h0IGRlbGF5LCB0byBhdm9pZCBhbnkgY3VycmVudCBjYWxsYmFja3MKCQlpZiAoIGRlZmluZWQuc2V0VGltZW91dCApIHsKCQkJd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQlpZiAoIGNvbmZpZy50aW1lb3V0ICkgewoJCQkJCWNsZWFyVGltZW91dChjb25maWcudGltZW91dCk7CgkJCQl9CgoJCQkJY29uZmlnLmJsb2NraW5nID0gZmFsc2U7CgkJCQlwcm9jZXNzKCk7CgkJCX0sIDEzKTsKCQl9IGVsc2UgewoJCQljb25maWcuYmxvY2tpbmcgPSBmYWxzZTsKCQkJcHJvY2VzcygpOwoJCX0KCX0sCgkKCXN0b3A6IGZ1bmN0aW9uKHRpbWVvdXQpIHsKCQljb25maWcuYmxvY2tpbmcgPSB0cnVlOwoKCQlpZiAoIHRpbWVvdXQgJiYgZGVmaW5lZC5zZXRUaW1lb3V0ICkgewoJCQljb25maWcudGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewoJCQkJUVVuaXQub2soIGZhbHNlLCAiVGVzdCB0aW1lZCBvdXQiICk7CgkJCQlRVW5pdC5zdGFydCgpOwoJCQl9LCB0aW1lb3V0KTsKCQl9Cgl9Cgp9OwoKLy8gQmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGRlcHJlY2F0ZWQKUVVuaXQuZXF1YWxzID0gUVVuaXQuZXF1YWw7ClFVbml0LnNhbWUgPSBRVW5pdC5kZWVwRXF1YWw7CgovLyBNYWludGFpbiBpbnRlcm5hbCBzdGF0ZQp2YXIgY29uZmlnID0gewoJLy8gVGhlIHF1ZXVlIG9mIHRlc3RzIHRvIHJ1bgoJcXVldWU6IFtdLAoKCS8vIGJsb2NrIHVudGlsIGRvY3VtZW50IHJlYWR5CglibG9ja2luZzogdHJ1ZQp9OwoKLy8gTG9hZCBwYXJhbWF0ZXJzCihmdW5jdGlvbigpIHsKCXZhciBsb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbiB8fCB7IHNlYXJjaDogIiIsIHByb3RvY29sOiAiZmlsZToiIH0sCgkJR0VUUGFyYW1zID0gbG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpLnNwbGl0KCcmJyk7CgoJZm9yICggdmFyIGkgPSAwOyBpIDwgR0VUUGFyYW1zLmxlbmd0aDsgaSsrICkgewoJCUdFVFBhcmFtc1tpXSA9IGRlY29kZVVSSUNvbXBvbmVudCggR0VUUGFyYW1zW2ldICk7CgkJaWYgKCBHRVRQYXJhbXNbaV0gPT09ICJub2dsb2JhbHMiICkgewoJCQlHRVRQYXJhbXMuc3BsaWNlKCBpLCAxICk7CgkJCWktLTsKCQkJY29uZmlnLm5vZ2xvYmFscyA9IHRydWU7CgkJfSBlbHNlIGlmICggR0VUUGFyYW1zW2ldLnNlYXJjaCgnPScpID4gLTEgKSB7CgkJCUdFVFBhcmFtcy5zcGxpY2UoIGksIDEgKTsKCQkJaS0tOwoJCX0KCX0KCQoJLy8gcmVzdHJpY3QgbW9kdWxlcy90ZXN0cyBieSBnZXQgcGFyYW1ldGVycwoJY29uZmlnLmZpbHRlcnMgPSBHRVRQYXJhbXM7CgkKCS8vIEZpZ3VyZSBvdXQgaWYgd2UncmUgcnVubmluZyB0aGUgdGVzdHMgZnJvbSBhIHNlcnZlciBvciBub3QKCVFVbml0LmlzTG9jYWwgPSAhIShsb2NhdGlvbi5wcm90b2NvbCA9PT0gJ2ZpbGU6Jyk7Cn0pKCk7CgovLyBFeHBvc2UgdGhlIEFQSSBhcyBnbG9iYWwgdmFyaWFibGVzLCB1bmxlc3MgYW4gJ2V4cG9ydHMnCi8vIG9iamVjdCBleGlzdHMsIGluIHRoYXQgY2FzZSB3ZSBhc3N1bWUgd2UncmUgaW4gQ29tbW9uSlMKaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gInVuZGVmaW5lZCIgfHwgdHlwZW9mIHJlcXVpcmUgPT09ICJ1bmRlZmluZWQiICkgewoJZXh0ZW5kKHdpbmRvdywgUVVuaXQpOwoJd2luZG93LlFVbml0ID0gUVVuaXQ7Cn0gZWxzZSB7CglleHRlbmQoZXhwb3J0cywgUVVuaXQpOwoJZXhwb3J0cy5RVW5pdCA9IFFVbml0Owp9CgovLyBkZWZpbmUgdGhlc2UgYWZ0ZXIgZXhwb3NpbmcgZ2xvYmFscyB0byBrZWVwIHRoZW0gaW4gdGhlc2UgUVVuaXQgbmFtZXNwYWNlIG9ubHkKZXh0ZW5kKFFVbml0LCB7Cgljb25maWc6IGNvbmZpZywKCgkvLyBJbml0aWFsaXplIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMKCWluaXQ6IGZ1bmN0aW9uKCkgewoJCWV4dGVuZChjb25maWcsIHsKCQkJc3RhdHM6IHsgYWxsOiAwLCBiYWQ6IDAgfSwKCQkJbW9kdWxlU3RhdHM6IHsgYWxsOiAwLCBiYWQ6IDAgfSwKCQkJc3RhcnRlZDogK25ldyBEYXRlLAoJCQl1cGRhdGVSYXRlOiAxMDAwLAoJCQlibG9ja2luZzogZmFsc2UsCgkJCWF1dG9zdGFydDogdHJ1ZSwKCQkJYXV0b3J1bjogZmFsc2UsCgkJCWZpbHRlcnM6IFtdLAoJCQlxdWV1ZTogW10KCQl9KTsKCgkJdmFyIHRlc3RzID0gaWQoInF1bml0LXRlc3RzIiksCgkJCWJhbm5lciA9IGlkKCJxdW5pdC1iYW5uZXIiKSwKCQkJcmVzdWx0ID0gaWQoInF1bml0LXRlc3RyZXN1bHQiKTsKCgkJaWYgKCB0ZXN0cyApIHsKCQkJdGVzdHMuaW5uZXJIVE1MID0gIiI7CgkJfQoKCQlpZiAoIGJhbm5lciApIHsKCQkJYmFubmVyLmNsYXNzTmFtZSA9ICIiOwoJCX0KCgkJaWYgKCByZXN1bHQgKSB7CgkJCXJlc3VsdC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKCByZXN1bHQgKTsKCQl9Cgl9LAoJCgkvKioKCSAqIFJlc2V0cyB0aGUgdGVzdCBzZXR1cC4gVXNlZnVsIGZvciB0ZXN0cyB0aGF0IG1vZGlmeSB0aGUgRE9NLgoJICogCgkgKiBJZiBqUXVlcnkgaXMgYXZhaWxhYmxlLCB1c2VzIGpRdWVyeSdzIGh0bWwoKSwgb3RoZXJ3aXNlIGp1c3QgaW5uZXJIVE1MLgoJICovCglyZXNldDogZnVuY3Rpb24oKSB7CgkJaWYgKCB3aW5kb3cualF1ZXJ5ICkgewoJCQlqUXVlcnkoICIjbWFpbiwgI3F1bml0LWZpeHR1cmUiICkuaHRtbCggY29uZmlnLmZpeHR1cmUgKTsKCQl9IGVsc2UgewoJCQl2YXIgbWFpbiA9IGlkKCAnbWFpbicgKSB8fCBpZCggJ3F1bml0LWZpeHR1cmUnICk7CgkJCWlmICggbWFpbiApIHsKCQkJCW1haW4uaW5uZXJIVE1MID0gY29uZmlnLmZpeHR1cmU7CgkJCX0KCQl9Cgl9LAoJCgkvKioKCSAqIFRyaWdnZXIgYW4gZXZlbnQgb24gYW4gZWxlbWVudC4KCSAqCgkgKiBAZXhhbXBsZSB0cmlnZ2VyRXZlbnQoIGRvY3VtZW50LmJvZHksICJjbGljayIgKTsKCSAqCgkgKiBAcGFyYW0gRE9NRWxlbWVudCBlbGVtCgkgKiBAcGFyYW0gU3RyaW5nIHR5cGUKCSAqLwoJdHJpZ2dlckV2ZW50OiBmdW5jdGlvbiggZWxlbSwgdHlwZSwgZXZlbnQgKSB7CgkJaWYgKCBkb2N1bWVudC5jcmVhdGVFdmVudCApIHsKCQkJZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgiTW91c2VFdmVudHMiKTsKCQkJZXZlbnQuaW5pdE1vdXNlRXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSwgZWxlbS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LAoJCQkJMCwgMCwgMCwgMCwgMCwgZmFsc2UsIGZhbHNlLCBmYWxzZSwgZmFsc2UsIDAsIG51bGwpOwoJCQllbGVtLmRpc3BhdGNoRXZlbnQoIGV2ZW50ICk7CgoJCX0gZWxzZSBpZiAoIGVsZW0uZmlyZUV2ZW50ICkgewoJCQllbGVtLmZpcmVFdmVudCgib24iK3R5cGUpOwoJCX0KCX0sCgkKCS8vIFNhZmUgb2JqZWN0IHR5cGUgY2hlY2tpbmcKCWlzOiBmdW5jdGlvbiggdHlwZSwgb2JqICkgewoJCXJldHVybiBRVW5pdC5vYmplY3RUeXBlKCBvYmogKSA9PSB0eXBlOwoJfSwKCQoJb2JqZWN0VHlwZTogZnVuY3Rpb24oIG9iaiApIHsKCQlpZiAodHlwZW9mIG9iaiA9PT0gInVuZGVmaW5lZCIpIHsKCQkJCXJldHVybiAidW5kZWZpbmVkIjsKCgkJLy8gY29uc2lkZXI6IHR5cGVvZiBudWxsID09PSBvYmplY3QKCQl9CgkJaWYgKG9iaiA9PT0gbnVsbCkgewoJCQkJcmV0dXJuICJudWxsIjsKCQl9CgoJCXZhciB0eXBlID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCBvYmogKQoJCQkubWF0Y2goL15cW29iamVjdFxzKC4qKVxdJC8pWzFdIHx8ICcnOwoKCQlzd2l0Y2ggKHR5cGUpIHsKCQkJCWNhc2UgJ051bWJlcic6CgkJCQkJCWlmIChpc05hTihvYmopKSB7CgkJCQkJCQkJcmV0dXJuICJuYW4iOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXJldHVybiAibnVtYmVyIjsKCQkJCQkJfQoJCQkJY2FzZSAnU3RyaW5nJzoKCQkJCWNhc2UgJ0Jvb2xlYW4nOgoJCQkJY2FzZSAnQXJyYXknOgoJCQkJY2FzZSAnRGF0ZSc6CgkJCQljYXNlICdSZWdFeHAnOgoJCQkJY2FzZSAnRnVuY3Rpb24nOgoJCQkJCQlyZXR1cm4gdHlwZS50b0xvd2VyQ2FzZSgpOwoJCX0KCQlpZiAodHlwZW9mIG9iaiA9PT0gIm9iamVjdCIpIHsKCQkJCXJldHVybiAib2JqZWN0IjsKCQl9CgkJcmV0dXJuIHVuZGVmaW5lZDsKCX0sCgkKCXB1c2g6IGZ1bmN0aW9uKHJlc3VsdCwgYWN0dWFsLCBleHBlY3RlZCwgbWVzc2FnZSkgewoJCXZhciBkZXRhaWxzID0gewoJCQlyZXN1bHQ6IHJlc3VsdCwKCQkJbWVzc2FnZTogbWVzc2FnZSwKCQkJYWN0dWFsOiBhY3R1YWwsCgkJCWV4cGVjdGVkOiBleHBlY3RlZAoJCX07CgkJCgkJbWVzc2FnZSA9IGVzY2FwZUh0bWwobWVzc2FnZSkgfHwgKHJlc3VsdCA/ICJva2F5IiA6ICJmYWlsZWQiKTsKCQltZXNzYWdlID0gJzxzcGFuIGNsYXNzPSJ0ZXN0LW1lc3NhZ2UiPicgKyBtZXNzYWdlICsgIjwvc3Bhbj4iOwoJCWV4cGVjdGVkID0gZXNjYXBlSHRtbChRVW5pdC5qc0R1bXAucGFyc2UoZXhwZWN0ZWQpKTsKCQlhY3R1YWwgPSBlc2NhcGVIdG1sKFFVbml0LmpzRHVtcC5wYXJzZShhY3R1YWwpKTsKCQl2YXIgb3V0cHV0ID0gbWVzc2FnZSArICc8dGFibGU+PHRyIGNsYXNzPSJ0ZXN0LWV4cGVjdGVkIj48dGg+RXhwZWN0ZWQ6IDwvdGg+PHRkPjxwcmU+JyArIGV4cGVjdGVkICsgJzwvcHJlPjwvdGQ+PC90cj4nOwoJCWlmIChhY3R1YWwgIT0gZXhwZWN0ZWQpIHsKCQkJb3V0cHV0ICs9ICc8dHIgY2xhc3M9InRlc3QtYWN0dWFsIj48dGg+UmVzdWx0OiA8L3RoPjx0ZD48cHJlPicgKyBhY3R1YWwgKyAnPC9wcmU+PC90ZD48L3RyPic7CgkJCW91dHB1dCArPSAnPHRyIGNsYXNzPSJ0ZXN0LWRpZmYiPjx0aD5EaWZmOiA8L3RoPjx0ZD48cHJlPicgKyBRVW5pdC5kaWZmKGV4cGVjdGVkLCBhY3R1YWwpICsnPC9wcmU+PC90ZD48L3RyPic7CgkJfQoJCWlmICghcmVzdWx0KSB7CgkJCXZhciBzb3VyY2UgPSBzb3VyY2VGcm9tU3RhY2t0cmFjZSgpOwoJCQlpZiAoc291cmNlKSB7CgkJCQlkZXRhaWxzLnNvdXJjZSA9IHNvdXJjZTsKCQkJCW91dHB1dCArPSAnPHRyIGNsYXNzPSJ0ZXN0LXNvdXJjZSI+PHRoPlNvdXJjZTogPC90aD48dGQ+PHByZT4nICsgc291cmNlICsnPC9wcmU+PC90ZD48L3RyPic7CgkJCX0KCQl9CgkJb3V0cHV0ICs9ICI8L3RhYmxlPiI7CgkJCgkJUVVuaXQubG9nKHJlc3VsdCwgbWVzc2FnZSwgZGV0YWlscyk7CgkJCgkJY29uZmlnLmN1cnJlbnQuYXNzZXJ0aW9ucy5wdXNoKHsKCQkJcmVzdWx0OiAhIXJlc3VsdCwKCQkJbWVzc2FnZTogb3V0cHV0CgkJfSk7Cgl9LAoJCgkvLyBMb2dnaW5nIGNhbGxiYWNrcwoJYmVnaW46IGZ1bmN0aW9uKCkge30sCglkb25lOiBmdW5jdGlvbihmYWlsdXJlcywgdG90YWwpIHt9LAoJbG9nOiBmdW5jdGlvbihyZXN1bHQsIG1lc3NhZ2UpIHt9LAoJdGVzdFN0YXJ0OiBmdW5jdGlvbihuYW1lLCB0ZXN0RW52aXJvbm1lbnQpIHt9LAoJdGVzdERvbmU6IGZ1bmN0aW9uKG5hbWUsIGZhaWx1cmVzLCB0b3RhbCkge30sCgltb2R1bGVTdGFydDogZnVuY3Rpb24obmFtZSwgdGVzdEVudmlyb25tZW50KSB7fSwKCW1vZHVsZURvbmU6IGZ1bmN0aW9uKG5hbWUsIGZhaWx1cmVzLCB0b3RhbCkge30KfSk7CgppZiAoIHR5cGVvZiBkb2N1bWVudCA9PT0gInVuZGVmaW5lZCIgfHwgZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gImNvbXBsZXRlIiApIHsKCWNvbmZpZy5hdXRvcnVuID0gdHJ1ZTsKfQoKYWRkRXZlbnQod2luZG93LCAibG9hZCIsIGZ1bmN0aW9uKCkgewoJUVVuaXQuYmVnaW4oKTsKCQoJLy8gSW5pdGlhbGl6ZSB0aGUgY29uZmlnLCBzYXZpbmcgdGhlIGV4ZWN1dGlvbiBxdWV1ZQoJdmFyIG9sZGNvbmZpZyA9IGV4dGVuZCh7fSwgY29uZmlnKTsKCVFVbml0LmluaXQoKTsKCWV4dGVuZChjb25maWcsIG9sZGNvbmZpZyk7CgoJY29uZmlnLmJsb2NraW5nID0gZmFsc2U7CgoJdmFyIHVzZXJBZ2VudCA9IGlkKCJxdW5pdC11c2VyQWdlbnQiKTsKCWlmICggdXNlckFnZW50ICkgewoJCXVzZXJBZ2VudC5pbm5lckhUTUwgPSBuYXZpZ2F0b3IudXNlckFnZW50OwoJfQoJdmFyIGJhbm5lciA9IGlkKCJxdW5pdC1oZWFkZXIiKTsKCWlmICggYmFubmVyICkgewoJCXZhciBwYXJhbXNJbmRleCA9IGxvY2F0aW9uLmhyZWYubGFzdEluZGV4T2YobG9jYXRpb24uc2VhcmNoKTsKCQlpZiAoIHBhcmFtc0luZGV4ID4gLTEgKSB7CgkJCXZhciBtYWluUGFnZUxvY2F0aW9uID0gbG9jYXRpb24uaHJlZi5zbGljZSgwLCBwYXJhbXNJbmRleCk7CgkJCWlmICggbWFpblBhZ2VMb2NhdGlvbiA9PSBsb2NhdGlvbi5ocmVmICkgewoJCQkJYmFubmVyLmlubmVySFRNTCA9ICc8YSBocmVmPSIiPiAnICsgYmFubmVyLmlubmVySFRNTCArICc8L2E+ICc7CgkJCX0gZWxzZSB7CgkJCQl2YXIgdGVzdE5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQobG9jYXRpb24uc2VhcmNoLnNsaWNlKDEpKTsKCQkJCWJhbm5lci5pbm5lckhUTUwgPSAnPGEgaHJlZj0iJyArIG1haW5QYWdlTG9jYXRpb24gKyAnIj4nICsgYmFubmVyLmlubmVySFRNTCArICc8L2E+ICYjODI1MDsgPGEgaHJlZj0iIj4nICsgdGVzdE5hbWUgKyAnPC9hPic7CgkJCX0KCQl9Cgl9CgkKCXZhciB0b29sYmFyID0gaWQoInF1bml0LXRlc3RydW5uZXItdG9vbGJhciIpOwoJaWYgKCB0b29sYmFyICkgewoJCXRvb2xiYXIuc3R5bGUuZGlzcGxheSA9ICJub25lIjsKCQkKCQl2YXIgZmlsdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKCQlmaWx0ZXIudHlwZSA9ICJjaGVja2JveCI7CgkJZmlsdGVyLmlkID0gInF1bml0LWZpbHRlci1wYXNzIjsKCQlmaWx0ZXIuZGlzYWJsZWQgPSB0cnVlOwoJCWFkZEV2ZW50KCBmaWx0ZXIsICJjbGljayIsIGZ1bmN0aW9uKCkgewoJCQl2YXIgbGkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgibGkiKTsKCQkJZm9yICggdmFyIGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKysgKSB7CgkJCQlpZiAoIGxpW2ldLmNsYXNzTmFtZS5pbmRleE9mKCJwYXNzIikgPiAtMSApIHsKCQkJCQlsaVtpXS5zdHlsZS5kaXNwbGF5ID0gZmlsdGVyLmNoZWNrZWQgPyAibm9uZSIgOiAiIjsKCQkJCX0KCQkJfQoJCX0pOwoJCXRvb2xiYXIuYXBwZW5kQ2hpbGQoIGZpbHRlciApOwoKCQl2YXIgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwoJCWxhYmVsLnNldEF0dHJpYnV0ZSgiZm9yIiwgInF1bml0LWZpbHRlci1wYXNzIik7CgkJbGFiZWwuaW5uZXJIVE1MID0gIkhpZGUgcGFzc2VkIHRlc3RzIjsKCQl0b29sYmFyLmFwcGVuZENoaWxkKCBsYWJlbCApOwoJfQoKCXZhciBtYWluID0gaWQoJ21haW4nKSB8fCBpZCgncXVuaXQtZml4dHVyZScpOwoJaWYgKCBtYWluICkgewoJCWNvbmZpZy5maXh0dXJlID0gbWFpbi5pbm5lckhUTUw7Cgl9CgoJaWYgKGNvbmZpZy5hdXRvc3RhcnQpIHsKCQlRVW5pdC5zdGFydCgpOwoJfQp9KTsKCmZ1bmN0aW9uIGRvbmUoKSB7Cgljb25maWcuYXV0b3J1biA9IHRydWU7CgoJLy8gTG9nIHRoZSBsYXN0IG1vZHVsZSByZXN1bHRzCglpZiAoIGNvbmZpZy5jdXJyZW50TW9kdWxlICkgewoJCVFVbml0Lm1vZHVsZURvbmUoIGNvbmZpZy5jdXJyZW50TW9kdWxlLCBjb25maWcubW9kdWxlU3RhdHMuYmFkLCBjb25maWcubW9kdWxlU3RhdHMuYWxsICk7Cgl9CgoJdmFyIGJhbm5lciA9IGlkKCJxdW5pdC1iYW5uZXIiKSwKCQl0ZXN0cyA9IGlkKCJxdW5pdC10ZXN0cyIpLAoJCWh0bWwgPSBbJ1Rlc3RzIGNvbXBsZXRlZCBpbiAnLAoJCStuZXcgRGF0ZSAtIGNvbmZpZy5zdGFydGVkLCAnIG1pbGxpc2Vjb25kcy48YnIvPicsCgkJJzxzcGFuIGNsYXNzPSJwYXNzZWQiPicsIGNvbmZpZy5zdGF0cy5hbGwgLSBjb25maWcuc3RhdHMuYmFkLCAnPC9zcGFuPiB0ZXN0cyBvZiA8c3BhbiBjbGFzcz0idG90YWwiPicsIGNvbmZpZy5zdGF0cy5hbGwsICc8L3NwYW4+IHBhc3NlZCwgPHNwYW4gY2xhc3M9ImZhaWxlZCI+JywgY29uZmlnLnN0YXRzLmJhZCwnPC9zcGFuPiBmYWlsZWQuJ10uam9pbignJyk7CgoJaWYgKCBiYW5uZXIgKSB7CgkJYmFubmVyLmNsYXNzTmFtZSA9IChjb25maWcuc3RhdHMuYmFkID8gInF1bml0LWZhaWwiIDogInF1bml0LXBhc3MiKTsKCX0KCglpZiAoIHRlc3RzICkgewkKCQl2YXIgcmVzdWx0ID0gaWQoInF1bml0LXRlc3RyZXN1bHQiKTsKCgkJaWYgKCAhcmVzdWx0ICkgewoJCQlyZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJwIik7CgkJCXJlc3VsdC5pZCA9ICJxdW5pdC10ZXN0cmVzdWx0IjsKCQkJcmVzdWx0LmNsYXNzTmFtZSA9ICJyZXN1bHQiOwoJCQl0ZXN0cy5wYXJlbnROb2RlLmluc2VydEJlZm9yZSggcmVzdWx0LCB0ZXN0cy5uZXh0U2libGluZyApOwoJCX0KCgkJcmVzdWx0LmlubmVySFRNTCA9IGh0bWw7Cgl9CgoJUVVuaXQuZG9uZSggY29uZmlnLnN0YXRzLmJhZCwgY29uZmlnLnN0YXRzLmFsbCApOwp9CgpmdW5jdGlvbiB2YWxpZFRlc3QoIG5hbWUgKSB7Cgl2YXIgaSA9IGNvbmZpZy5maWx0ZXJzLmxlbmd0aCwKCQlydW4gPSBmYWxzZTsKCglpZiAoICFpICkgewoJCXJldHVybiB0cnVlOwoJfQoJCgl3aGlsZSAoIGktLSApIHsKCQl2YXIgZmlsdGVyID0gY29uZmlnLmZpbHRlcnNbaV0sCgkJCW5vdCA9IGZpbHRlci5jaGFyQXQoMCkgPT0gJyEnOwoKCQlpZiAoIG5vdCApIHsKCQkJZmlsdGVyID0gZmlsdGVyLnNsaWNlKDEpOwoJCX0KCgkJaWYgKCBuYW1lLmluZGV4T2YoZmlsdGVyKSAhPT0gLTEgKSB7CgkJCXJldHVybiAhbm90OwoJCX0KCgkJaWYgKCBub3QgKSB7CgkJCXJ1biA9IHRydWU7CgkJfQoJfQoKCXJldHVybiBydW47Cn0KCi8vIHNvIGZhciBzdXBwb3J0cyBvbmx5IEZpcmVmb3gsIENocm9tZSBhbmQgT3BlcmEgKGJ1Z2d5KQovLyBjb3VsZCBiZSBleHRlbmRlZCBpbiB0aGUgZnV0dXJlIHRvIHVzZSBzb21ldGhpbmcgbGlrZSBodHRwczovL2dpdGh1Yi5jb20vY3Nub3Zlci9UcmFjZUtpdApmdW5jdGlvbiBzb3VyY2VGcm9tU3RhY2t0cmFjZSgpIHsKCXRyeSB7CgkJdGhyb3cgbmV3IEVycm9yKCk7Cgl9IGNhdGNoICggZSApIHsKCQlpZiAoZS5zdGFja3RyYWNlKSB7CgkJCS8vIE9wZXJhCgkJCXJldHVybiBlLnN0YWNrdHJhY2Uuc3BsaXQoIlxuIilbNl07CgkJfSBlbHNlIGlmIChlLnN0YWNrKSB7CgkJCS8vIEZpcmVmb3gsIENocm9tZQoJCQlyZXR1cm4gZS5zdGFjay5zcGxpdCgiXG4iKVs0XTsKCQl9Cgl9Cn0KCmZ1bmN0aW9uIHJlc3VsdERpc3BsYXlTdHlsZShwYXNzZWQpIHsKCXJldHVybiBwYXNzZWQgJiYgaWQoInF1bml0LWZpbHRlci1wYXNzIikgJiYgaWQoInF1bml0LWZpbHRlci1wYXNzIikuY2hlY2tlZCA/ICdub25lJyA6ICcnOwp9CgpmdW5jdGlvbiBlc2NhcGVIdG1sKHMpIHsKCWlmICghcykgewoJCXJldHVybiAiIjsKCX0KCXMgPSBzICsgIiI7CglyZXR1cm4gcy5yZXBsYWNlKC9bXCYiPD5cXF0vZywgZnVuY3Rpb24ocykgewoJCXN3aXRjaChzKSB7CgkJCWNhc2UgIiYiOiByZXR1cm4gIiZhbXA7IjsKCQkJY2FzZSAiXFwiOiByZXR1cm4gIlxcXFwiOwoJCQljYXNlICciJzogcmV0dXJuICdcIic7CgkJCWNhc2UgIjwiOiByZXR1cm4gIiZsdDsiOwoJCQljYXNlICI+IjogcmV0dXJuICImZ3Q7IjsKCQkJZGVmYXVsdDogcmV0dXJuIHM7CgkJfQoJfSk7Cn0KCmZ1bmN0aW9uIHN5bmNocm9uaXplKCBjYWxsYmFjayApIHsKCWNvbmZpZy5xdWV1ZS5wdXNoKCBjYWxsYmFjayApOwoKCWlmICggY29uZmlnLmF1dG9ydW4gJiYgIWNvbmZpZy5ibG9ja2luZyApIHsKCQlwcm9jZXNzKCk7Cgl9Cn0KCmZ1bmN0aW9uIHByb2Nlc3MoKSB7Cgl2YXIgc3RhcnQgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpOwoKCXdoaWxlICggY29uZmlnLnF1ZXVlLmxlbmd0aCAmJiAhY29uZmlnLmJsb2NraW5nICkgewoJCWlmICggY29uZmlnLnVwZGF0ZVJhdGUgPD0gMCB8fCAoKChuZXcgRGF0ZSgpKS5nZXRUaW1lKCkgLSBzdGFydCkgPCBjb25maWcudXBkYXRlUmF0ZSkgKSB7CgkJCWNvbmZpZy5xdWV1ZS5zaGlmdCgpKCk7CgkJfSBlbHNlIHsKCQkJd2luZG93LnNldFRpbWVvdXQoIHByb2Nlc3MsIDEzICk7CgkJCWJyZWFrOwoJCX0KCX0KICBpZiAoIWNvbmZpZy5ibG9ja2luZyAmJiAhY29uZmlnLnF1ZXVlLmxlbmd0aCkgewogICAgZG9uZSgpOwogIH0KfQoKZnVuY3Rpb24gc2F2ZUdsb2JhbCgpIHsKCWNvbmZpZy5wb2xsdXRpb24gPSBbXTsKCQoJaWYgKCBjb25maWcubm9nbG9iYWxzICkgewoJCWZvciAoIHZhciBrZXkgaW4gd2luZG93ICkgewoJCQljb25maWcucG9sbHV0aW9uLnB1c2goIGtleSApOwoJCX0KCX0KfQoKZnVuY3Rpb24gY2hlY2tQb2xsdXRpb24oIG5hbWUgKSB7Cgl2YXIgb2xkID0gY29uZmlnLnBvbGx1dGlvbjsKCXNhdmVHbG9iYWwoKTsKCQoJdmFyIG5ld0dsb2JhbHMgPSBkaWZmKCBvbGQsIGNvbmZpZy5wb2xsdXRpb24gKTsKCWlmICggbmV3R2xvYmFscy5sZW5ndGggPiAwICkgewoJCW9rKCBmYWxzZSwgIkludHJvZHVjZWQgZ2xvYmFsIHZhcmlhYmxlKHMpOiAiICsgbmV3R2xvYmFscy5qb2luKCIsICIpICk7CgkJY29uZmlnLmN1cnJlbnQuZXhwZWN0ZWQrKzsKCX0KCgl2YXIgZGVsZXRlZEdsb2JhbHMgPSBkaWZmKCBjb25maWcucG9sbHV0aW9uLCBvbGQgKTsKCWlmICggZGVsZXRlZEdsb2JhbHMubGVuZ3RoID4gMCApIHsKCQlvayggZmFsc2UsICJEZWxldGVkIGdsb2JhbCB2YXJpYWJsZShzKTogIiArIGRlbGV0ZWRHbG9iYWxzLmpvaW4oIiwgIikgKTsKCQljb25maWcuY3VycmVudC5leHBlY3RlZCsrOwoJfQp9CgovLyByZXR1cm5zIGEgbmV3IEFycmF5IHdpdGggdGhlIGVsZW1lbnRzIHRoYXQgYXJlIGluIGEgYnV0IG5vdCBpbiBiCmZ1bmN0aW9uIGRpZmYoIGEsIGIgKSB7Cgl2YXIgcmVzdWx0ID0gYS5zbGljZSgpOwoJZm9yICggdmFyIGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrICkgewoJCWZvciAoIHZhciBqID0gMDsgaiA8IGIubGVuZ3RoOyBqKysgKSB7CgkJCWlmICggcmVzdWx0W2ldID09PSBiW2pdICkgewoJCQkJcmVzdWx0LnNwbGljZShpLCAxKTsKCQkJCWktLTsKCQkJCWJyZWFrOwoJCQl9CgkJfQoJfQoJcmV0dXJuIHJlc3VsdDsKfQoKZnVuY3Rpb24gZmFpbChtZXNzYWdlLCBleGNlcHRpb24sIGNhbGxiYWNrKSB7CglpZiAoIHR5cGVvZiBjb25zb2xlICE9PSAidW5kZWZpbmVkIiAmJiBjb25zb2xlLmVycm9yICYmIGNvbnNvbGUud2FybiApIHsKCQljb25zb2xlLmVycm9yKG1lc3NhZ2UpOwoJCWNvbnNvbGUuZXJyb3IoZXhjZXB0aW9uKTsKCQljb25zb2xlLndhcm4oY2FsbGJhY2sudG9TdHJpbmcoKSk7CgoJfSBlbHNlIGlmICggd2luZG93Lm9wZXJhICYmIG9wZXJhLnBvc3RFcnJvciApIHsKCQlvcGVyYS5wb3N0RXJyb3IobWVzc2FnZSwgZXhjZXB0aW9uLCBjYWxsYmFjay50b1N0cmluZyk7Cgl9Cn0KCmZ1bmN0aW9uIGV4dGVuZChhLCBiKSB7Cglmb3IgKCB2YXIgcHJvcCBpbiBiICkgewoJCWFbcHJvcF0gPSBiW3Byb3BdOwoJfQoKCXJldHVybiBhOwp9CgpmdW5jdGlvbiBhZGRFdmVudChlbGVtLCB0eXBlLCBmbikgewoJaWYgKCBlbGVtLmFkZEV2ZW50TGlzdGVuZXIgKSB7CgkJZWxlbS5hZGRFdmVudExpc3RlbmVyKCB0eXBlLCBmbiwgZmFsc2UgKTsKCX0gZWxzZSBpZiAoIGVsZW0uYXR0YWNoRXZlbnQgKSB7CgkJZWxlbS5hdHRhY2hFdmVudCggIm9uIiArIHR5cGUsIGZuICk7Cgl9IGVsc2UgewoJCWZuKCk7Cgl9Cn0KCmZ1bmN0aW9uIGlkKG5hbWUpIHsKCXJldHVybiAhISh0eXBlb2YgZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKSAmJgoJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBuYW1lICk7Cn0KCi8vIFRlc3QgZm9yIGVxdWFsaXR5IGFueSBKYXZhU2NyaXB0IHR5cGUuCi8vIERpc2N1c3Npb25zIGFuZCByZWZlcmVuY2U6IGh0dHA6Ly9waGlscmF0aGUuY29tL2FydGljbGVzL2VxdWl2Ci8vIFRlc3Qgc3VpdGVzOiBodHRwOi8vcGhpbHJhdGhlLmNvbS90ZXN0cy9lcXVpdgovLyBBdXRob3I6IFBoaWxpcHBlIFJhdGjDqSA8cHJhdGhlQGdtYWlsLmNvbT4KUVVuaXQuZXF1aXYgPSBmdW5jdGlvbiAoKSB7CgogICAgdmFyIGlubmVyRXF1aXY7IC8vIHRoZSByZWFsIGVxdWl2IGZ1bmN0aW9uCiAgICB2YXIgY2FsbGVycyA9IFtdOyAvLyBzdGFjayB0byBkZWNpZGUgYmV0d2VlbiBza2lwL2Fib3J0IGZ1bmN0aW9ucwogICAgdmFyIHBhcmVudHMgPSBbXTsgLy8gc3RhY2sgdG8gYXZvaWRpbmcgbG9vcHMgZnJvbSBjaXJjdWxhciByZWZlcmVuY2luZwoKICAgIC8vIENhbGwgdGhlIG8gcmVsYXRlZCBjYWxsYmFjayB3aXRoIHRoZSBnaXZlbiBhcmd1bWVudHMuCiAgICBmdW5jdGlvbiBiaW5kQ2FsbGJhY2tzKG8sIGNhbGxiYWNrcywgYXJncykgewogICAgICAgIHZhciBwcm9wID0gUVVuaXQub2JqZWN0VHlwZShvKTsKICAgICAgICBpZiAocHJvcCkgewogICAgICAgICAgICBpZiAoUVVuaXQub2JqZWN0VHlwZShjYWxsYmFja3NbcHJvcF0pID09PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tzW3Byb3BdLmFwcGx5KGNhbGxiYWNrcywgYXJncyk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2tzW3Byb3BdOyAvLyBvciB1bmRlZmluZWQKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KICAgIAogICAgdmFyIGNhbGxiYWNrcyA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgLy8gZm9yIHN0cmluZywgYm9vbGVhbiwgbnVtYmVyIGFuZCBudWxsCiAgICAgICAgZnVuY3Rpb24gdXNlU3RyaWN0RXF1YWxpdHkoYiwgYSkgewogICAgICAgICAgICBpZiAoYiBpbnN0YW5jZW9mIGEuY29uc3RydWN0b3IgfHwgYSBpbnN0YW5jZW9mIGIuY29uc3RydWN0b3IpIHsKICAgICAgICAgICAgICAgIC8vIHRvIGNhdGNoIHNob3J0IGFubm90YWlvbiBWUyAnbmV3JyBhbm5vdGF0aW9uIG9mIGEgZGVjbGFyYXRpb24KICAgICAgICAgICAgICAgIC8vIGUuZy4gdmFyIGkgPSAxOwogICAgICAgICAgICAgICAgLy8gICAgICB2YXIgaiA9IG5ldyBOdW1iZXIoMSk7CiAgICAgICAgICAgICAgICByZXR1cm4gYSA9PSBiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIGEgPT09IGI7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICJzdHJpbmciOiB1c2VTdHJpY3RFcXVhbGl0eSwKICAgICAgICAgICAgImJvb2xlYW4iOiB1c2VTdHJpY3RFcXVhbGl0eSwKICAgICAgICAgICAgIm51bWJlciI6IHVzZVN0cmljdEVxdWFsaXR5LAogICAgICAgICAgICAibnVsbCI6IHVzZVN0cmljdEVxdWFsaXR5LAogICAgICAgICAgICAidW5kZWZpbmVkIjogdXNlU3RyaWN0RXF1YWxpdHksCgogICAgICAgICAgICAibmFuIjogZnVuY3Rpb24gKGIpIHsKICAgICAgICAgICAgICAgIHJldHVybiBpc05hTihiKTsKICAgICAgICAgICAgfSwKCiAgICAgICAgICAgICJkYXRlIjogZnVuY3Rpb24gKGIsIGEpIHsKICAgICAgICAgICAgICAgIHJldHVybiBRVW5pdC5vYmplY3RUeXBlKGIpID09PSAiZGF0ZSIgJiYgYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgInJlZ2V4cCI6IGZ1bmN0aW9uIChiLCBhKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gUVVuaXQub2JqZWN0VHlwZShiKSA9PT0gInJlZ2V4cCIgJiYKICAgICAgICAgICAgICAgICAgICBhLnNvdXJjZSA9PT0gYi5zb3VyY2UgJiYgLy8gdGhlIHJlZ2V4IGl0c2VsZgogICAgICAgICAgICAgICAgICAgIGEuZ2xvYmFsID09PSBiLmdsb2JhbCAmJiAvLyBhbmQgaXRzIG1vZGlmZXJzIChnbWkpIC4uLgogICAgICAgICAgICAgICAgICAgIGEuaWdub3JlQ2FzZSA9PT0gYi5pZ25vcmVDYXNlICYmCiAgICAgICAgICAgICAgICAgICAgYS5tdWx0aWxpbmUgPT09IGIubXVsdGlsaW5lOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgLy8gLSBza2lwIHdoZW4gdGhlIHByb3BlcnR5IGlzIGEgbWV0aG9kIG9mIGFuIGluc3RhbmNlIChPT1ApCiAgICAgICAgICAgIC8vIC0gYWJvcnQgb3RoZXJ3aXNlLAogICAgICAgICAgICAvLyAgIGluaXRpYWwgPT09IHdvdWxkIGhhdmUgY2F0Y2ggaWRlbnRpY2FsIHJlZmVyZW5jZXMgYW55d2F5CiAgICAgICAgICAgICJmdW5jdGlvbiI6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIHZhciBjYWxsZXIgPSBjYWxsZXJzW2NhbGxlcnMubGVuZ3RoIC0gMV07CiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGVyICE9PSBPYmplY3QgJiYKICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIGNhbGxlciAhPT0gInVuZGVmaW5lZCI7CiAgICAgICAgICAgIH0sCgogICAgICAgICAgICAiYXJyYXkiOiBmdW5jdGlvbiAoYiwgYSkgewogICAgICAgICAgICAgICAgdmFyIGksIGosIGxvb3A7CiAgICAgICAgICAgICAgICB2YXIgbGVuOwoKICAgICAgICAgICAgICAgIC8vIGIgY291bGQgYmUgYW4gb2JqZWN0IGxpdGVyYWwgaGVyZQogICAgICAgICAgICAgICAgaWYgKCAhIChRVW5pdC5vYmplY3RUeXBlKGIpID09PSAiYXJyYXkiKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0gICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgbGVuID0gYS5sZW5ndGg7CiAgICAgICAgICAgICAgICBpZiAobGVuICE9PSBiLmxlbmd0aCkgeyAvLyBzYWZlIGFuZCBmYXN0ZXIKICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIC8vdHJhY2sgcmVmZXJlbmNlIHRvIGF2b2lkIGNpcmN1bGFyIHJlZmVyZW5jZXMKICAgICAgICAgICAgICAgIHBhcmVudHMucHVzaChhKTsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgewogICAgICAgICAgICAgICAgICAgIGxvb3AgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBmb3Ioaj0wO2o8cGFyZW50cy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50c1tqXSA9PT0gYVtpXSl7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb29wID0gdHJ1ZTsvL2RvbnQgcmV3YWxrIGFycmF5CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgaWYgKCFsb29wICYmICEgaW5uZXJFcXVpdihhW2ldLCBiW2ldKSkgewogICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRzLnBvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcGFyZW50cy5wb3AoKTsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9LAoKICAgICAgICAgICAgIm9iamVjdCI6IGZ1bmN0aW9uIChiLCBhKSB7CiAgICAgICAgICAgICAgICB2YXIgaSwgaiwgbG9vcDsKICAgICAgICAgICAgICAgIHZhciBlcSA9IHRydWU7IC8vIHVubGVzcyB3ZSBjYW4gcHJvb3ZlIGl0CiAgICAgICAgICAgICAgICB2YXIgYVByb3BlcnRpZXMgPSBbXSwgYlByb3BlcnRpZXMgPSBbXTsgLy8gY29sbGVjdGlvbiBvZiBzdHJpbmdzCgogICAgICAgICAgICAgICAgLy8gY29tcGFyaW5nIGNvbnN0cnVjdG9ycyBpcyBtb3JlIHN0cmljdCB0aGFuIHVzaW5nIGluc3RhbmNlb2YKICAgICAgICAgICAgICAgIGlmICggYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAvLyBzdGFjayBjb25zdHJ1Y3RvciBiZWZvcmUgdHJhdmVyc2luZyBwcm9wZXJ0aWVzCiAgICAgICAgICAgICAgICBjYWxsZXJzLnB1c2goYS5jb25zdHJ1Y3Rvcik7CiAgICAgICAgICAgICAgICAvL3RyYWNrIHJlZmVyZW5jZSB0byBhdm9pZCBjaXJjdWxhciByZWZlcmVuY2VzCiAgICAgICAgICAgICAgICBwYXJlbnRzLnB1c2goYSk7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGZvciAoaSBpbiBhKSB7IC8vIGJlIHN0cmljdDogZG9uJ3QgZW5zdXJlcyBoYXNPd25Qcm9wZXJ0eSBhbmQgZ28gZGVlcAogICAgICAgICAgICAgICAgICAgIGxvb3AgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBmb3Ioaj0wO2o8cGFyZW50cy5sZW5ndGg7aisrKXsKICAgICAgICAgICAgICAgICAgICAgICAgaWYocGFyZW50c1tqXSA9PT0gYVtpXSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvb3AgPSB0cnVlOyAvL2Rvbid0IGdvIGRvd24gdGhlIHNhbWUgcGF0aCB0d2ljZQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBhUHJvcGVydGllcy5wdXNoKGkpOyAvLyBjb2xsZWN0IGEncyBwcm9wZXJ0aWVzCgogICAgICAgICAgICAgICAgICAgIGlmICghbG9vcCAmJiAhIGlubmVyRXF1aXYoYVtpXSwgYltpXSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgZXEgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNhbGxlcnMucG9wKCk7IC8vIHVuc3RhY2ssIHdlIGFyZSBkb25lCiAgICAgICAgICAgICAgICBwYXJlbnRzLnBvcCgpOwoKICAgICAgICAgICAgICAgIGZvciAoaSBpbiBiKSB7CiAgICAgICAgICAgICAgICAgICAgYlByb3BlcnRpZXMucHVzaChpKTsgLy8gY29sbGVjdCBiJ3MgcHJvcGVydGllcwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIC8vIEVuc3VyZXMgaWRlbnRpY2FsIHByb3BlcnRpZXMgbmFtZQogICAgICAgICAgICAgICAgcmV0dXJuIGVxICYmIGlubmVyRXF1aXYoYVByb3BlcnRpZXMuc29ydCgpLCBiUHJvcGVydGllcy5zb3J0KCkpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKICAgIH0oKTsKCiAgICBpbm5lckVxdWl2ID0gZnVuY3Rpb24gKCkgeyAvLyBjYW4gdGFrZSBtdWx0aXBsZSBhcmd1bWVudHMKICAgICAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5hcHBseShhcmd1bWVudHMpOwogICAgICAgIGlmIChhcmdzLmxlbmd0aCA8IDIpIHsKICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVuZCB0cmFuc2l0aW9uCiAgICAgICAgfQoKICAgICAgICByZXR1cm4gKGZ1bmN0aW9uIChhLCBiKSB7CiAgICAgICAgICAgIGlmIChhID09PSBiKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gY2F0Y2ggdGhlIG1vc3QgeW91IGNhbgogICAgICAgICAgICB9IGVsc2UgaWYgKGEgPT09IG51bGwgfHwgYiA9PT0gbnVsbCB8fCB0eXBlb2YgYSA9PT0gInVuZGVmaW5lZCIgfHwgdHlwZW9mIGIgPT09ICJ1bmRlZmluZWQiIHx8IFFVbml0Lm9iamVjdFR5cGUoYSkgIT09IFFVbml0Lm9iamVjdFR5cGUoYikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgLy8gZG9uJ3QgbG9zZSB0aW1lIHdpdGggZXJyb3IgcHJvbmUgY2FzZXMKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBiaW5kQ2FsbGJhY2tzKGEsIGNhbGxiYWNrcywgW2IsIGFdKTsKICAgICAgICAgICAgfQoKICAgICAgICAvLyBhcHBseSB0cmFuc2l0aW9uIHdpdGggKDEuLm4pIGFyZ3VtZW50cwogICAgICAgIH0pKGFyZ3NbMF0sIGFyZ3NbMV0pICYmIGFyZ3VtZW50cy5jYWxsZWUuYXBwbHkodGhpcywgYXJncy5zcGxpY2UoMSwgYXJncy5sZW5ndGggLTEpKTsKICAgIH07CgogICAgcmV0dXJuIGlubmVyRXF1aXY7Cgp9KCk7CgovKioKICoganNEdW1wCiAqIENvcHlyaWdodCAoYykgMjAwOCBBcmllbCBGbGVzbGVyIC0gYWZsZXNsZXIoYXQpZ21haWwoZG90KWNvbSB8IGh0dHA6Ly9mbGVzbGVyLmJsb2dzcG90LmNvbQogKiBMaWNlbnNlZCB1bmRlciBCU0QgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvYnNkLWxpY2Vuc2UucGhwKQogKiBEYXRlOiA1LzE1LzIwMDgKICogQHByb2plY3REZXNjcmlwdGlvbiBBZHZhbmNlZCBhbmQgZXh0ZW5zaWJsZSBkYXRhIGR1bXBpbmcgZm9yIEphdmFzY3JpcHQuCiAqIEB2ZXJzaW9uIDEuMC4wCiAqIEBhdXRob3IgQXJpZWwgRmxlc2xlcgogKiBAbGluayB7aHR0cDovL2ZsZXNsZXIuYmxvZ3Nwb3QuY29tLzIwMDgvMDUvanNkdW1wLXByZXR0eS1kdW1wLW9mLWFueS1qYXZhc2NyaXB0Lmh0bWx9CiAqLwpRVW5pdC5qc0R1bXAgPSAoZnVuY3Rpb24oKSB7CglmdW5jdGlvbiBxdW90ZSggc3RyICkgewoJCXJldHVybiAnIicgKyBzdHIudG9TdHJpbmcoKS5yZXBsYWNlKC8iL2csICdcXCInKSArICciJzsKCX07CglmdW5jdGlvbiBsaXRlcmFsKCBvICkgewoJCXJldHVybiBvICsgJyc7CQoJfTsKCWZ1bmN0aW9uIGpvaW4oIHByZSwgYXJyLCBwb3N0ICkgewoJCXZhciBzID0ganNEdW1wLnNlcGFyYXRvcigpLAoJCQliYXNlID0ganNEdW1wLmluZGVudCgpLAoJCQlpbm5lciA9IGpzRHVtcC5pbmRlbnQoMSk7CgkJaWYgKCBhcnIuam9pbiApCgkJCWFyciA9IGFyci5qb2luKCAnLCcgKyBzICsgaW5uZXIgKTsKCQlpZiAoICFhcnIgKQoJCQlyZXR1cm4gcHJlICsgcG9zdDsKCQlyZXR1cm4gWyBwcmUsIGlubmVyICsgYXJyLCBiYXNlICsgcG9zdCBdLmpvaW4ocyk7Cgl9OwoJZnVuY3Rpb24gYXJyYXkoIGFyciApIHsKCQl2YXIgaSA9IGFyci5sZW5ndGgsCXJldCA9IEFycmF5KGkpOwkJCQkJCgkJdGhpcy51cCgpOwoJCXdoaWxlICggaS0tICkKCQkJcmV0W2ldID0gdGhpcy5wYXJzZSggYXJyW2ldICk7CQkJCQoJCXRoaXMuZG93bigpOwoJCXJldHVybiBqb2luKCAnWycsIHJldCwgJ10nICk7Cgl9OwoJCgl2YXIgcmVOYW1lID0gL15mdW5jdGlvbiAoXHcrKS87CgkKCXZhciBqc0R1bXAgPSB7CgkJcGFyc2U6ZnVuY3Rpb24oIG9iaiwgdHlwZSApIHsgLy90eXBlIGlzIHVzZWQgbW9zdGx5IGludGVybmFsbHksIHlvdSBjYW4gZml4IGEgKGN1c3RvbSl0eXBlIGluIGFkdmFuY2UKCQkJdmFyCXBhcnNlciA9IHRoaXMucGFyc2Vyc1sgdHlwZSB8fCB0aGlzLnR5cGVPZihvYmopIF07CgkJCXR5cGUgPSB0eXBlb2YgcGFyc2VyOwkJCQoJCQkKCQkJcmV0dXJuIHR5cGUgPT0gJ2Z1bmN0aW9uJyA/IHBhcnNlci5jYWxsKCB0aGlzLCBvYmogKSA6CgkJCQkgICB0eXBlID09ICdzdHJpbmcnID8gcGFyc2VyIDoKCQkJCSAgIHRoaXMucGFyc2Vycy5lcnJvcjsKCQl9LAoJCXR5cGVPZjpmdW5jdGlvbiggb2JqICkgewoJCQl2YXIgdHlwZTsKCQkJaWYgKCBvYmogPT09IG51bGwgKSB7CgkJCQl0eXBlID0gIm51bGwiOwoJCQl9IGVsc2UgaWYgKHR5cGVvZiBvYmogPT09ICJ1bmRlZmluZWQiKSB7CgkJCQl0eXBlID0gInVuZGVmaW5lZCI7CgkJCX0gZWxzZSBpZiAoUVVuaXQuaXMoIlJlZ0V4cCIsIG9iaikpIHsKCQkJCXR5cGUgPSAicmVnZXhwIjsKCQkJfSBlbHNlIGlmIChRVW5pdC5pcygiRGF0ZSIsIG9iaikpIHsKCQkJCXR5cGUgPSAiZGF0ZSI7CgkJCX0gZWxzZSBpZiAoUVVuaXQuaXMoIkZ1bmN0aW9uIiwgb2JqKSkgewoJCQkJdHlwZSA9ICJmdW5jdGlvbiI7CgkJCX0gZWxzZSBpZiAodHlwZW9mIG9iai5zZXRJbnRlcnZhbCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBvYmouZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiICYmIHR5cGVvZiBvYmoubm9kZVR5cGUgPT09ICJ1bmRlZmluZWQiKSB7CgkJCQl0eXBlID0gIndpbmRvdyI7CgkJCX0gZWxzZSBpZiAob2JqLm5vZGVUeXBlID09PSA5KSB7CgkJCQl0eXBlID0gImRvY3VtZW50IjsKCQkJfSBlbHNlIGlmIChvYmoubm9kZVR5cGUpIHsKCQkJCXR5cGUgPSAibm9kZSI7CgkJCX0gZWxzZSBpZiAodHlwZW9mIG9iaiA9PT0gIm9iamVjdCIgJiYgdHlwZW9mIG9iai5sZW5ndGggPT09ICJudW1iZXIiICYmIG9iai5sZW5ndGggPj0gMCkgewoJCQkJdHlwZSA9ICJhcnJheSI7CgkJCX0gZWxzZSB7CgkJCQl0eXBlID0gdHlwZW9mIG9iajsKCQkJfQoJCQlyZXR1cm4gdHlwZTsKCQl9LAoJCXNlcGFyYXRvcjpmdW5jdGlvbigpIHsKCQkJcmV0dXJuIHRoaXMubXVsdGlsaW5lID8JdGhpcy5IVE1MID8gJzxiciAvPicgOiAnXG4nIDogdGhpcy5IVE1MID8gJyZuYnNwOycgOiAnICc7CgkJfSwKCQlpbmRlbnQ6ZnVuY3Rpb24oIGV4dHJhICkgey8vIGV4dHJhIGNhbiBiZSBhIG51bWJlciwgc2hvcnRjdXQgZm9yIGluY3JlYXNpbmctY2FsbGluZy1kZWNyZWFzaW5nCgkJCWlmICggIXRoaXMubXVsdGlsaW5lICkKCQkJCXJldHVybiAnJzsKCQkJdmFyIGNociA9IHRoaXMuaW5kZW50Q2hhcjsKCQkJaWYgKCB0aGlzLkhUTUwgKQoJCQkJY2hyID0gY2hyLnJlcGxhY2UoL1x0L2csJyAgICcpLnJlcGxhY2UoLyAvZywnJm5ic3A7Jyk7CgkJCXJldHVybiBBcnJheSggdGhpcy5fZGVwdGhfICsgKGV4dHJhfHwwKSApLmpvaW4oY2hyKTsKCQl9LAoJCXVwOmZ1bmN0aW9uKCBhICkgewoJCQl0aGlzLl9kZXB0aF8gKz0gYSB8fCAxOwoJCX0sCgkJZG93bjpmdW5jdGlvbiggYSApIHsKCQkJdGhpcy5fZGVwdGhfIC09IGEgfHwgMTsKCQl9LAoJCXNldFBhcnNlcjpmdW5jdGlvbiggbmFtZSwgcGFyc2VyICkgewoJCQl0aGlzLnBhcnNlcnNbbmFtZV0gPSBwYXJzZXI7CgkJfSwKCQkvLyBUaGUgbmV4dCAzIGFyZSBleHBvc2VkIHNvIHlvdSBjYW4gdXNlIHRoZW0KCQlxdW90ZTpxdW90ZSwgCgkJbGl0ZXJhbDpsaXRlcmFsLAoJCWpvaW46am9pbiwKCQkvLwoJCV9kZXB0aF86IDEsCgkJLy8gVGhpcyBpcyB0aGUgbGlzdCBvZiBwYXJzZXJzLCB0byBtb2RpZnkgdGhlbSwgdXNlIGpzRHVtcC5zZXRQYXJzZXIKCQlwYXJzZXJzOnsKCQkJd2luZG93OiAnW1dpbmRvd10nLAoJCQlkb2N1bWVudDogJ1tEb2N1bWVudF0nLAoJCQllcnJvcjonW0VSUk9SXScsIC8vd2hlbiBubyBwYXJzZXIgaXMgZm91bmQsIHNob3VsZG4ndCBoYXBwZW4KCQkJdW5rbm93bjogJ1tVbmtub3duXScsCgkJCSdudWxsJzonbnVsbCcsCgkJCXVuZGVmaW5lZDondW5kZWZpbmVkJywKCQkJJ2Z1bmN0aW9uJzpmdW5jdGlvbiggZm4gKSB7CgkJCQl2YXIgcmV0ID0gJ2Z1bmN0aW9uJywKCQkJCQluYW1lID0gJ25hbWUnIGluIGZuID8gZm4ubmFtZSA6IChyZU5hbWUuZXhlYyhmbil8fFtdKVsxXTsvL2Z1bmN0aW9ucyBuZXZlciBoYXZlIG5hbWUgaW4gSUUKCQkJCWlmICggbmFtZSApCgkJCQkJcmV0ICs9ICcgJyArIG5hbWU7CgkJCQlyZXQgKz0gJygnOwoJCQkJCgkJCQlyZXQgPSBbIHJldCwgUVVuaXQuanNEdW1wLnBhcnNlKCBmbiwgJ2Z1bmN0aW9uQXJncycgKSwgJyl7J10uam9pbignJyk7CgkJCQlyZXR1cm4gam9pbiggcmV0LCBRVW5pdC5qc0R1bXAucGFyc2UoZm4sJ2Z1bmN0aW9uQ29kZScpLCAnfScgKTsKCQkJfSwKCQkJYXJyYXk6IGFycmF5LAoJCQlub2RlbGlzdDogYXJyYXksCgkJCWFyZ3VtZW50czogYXJyYXksCgkJCW9iamVjdDpmdW5jdGlvbiggbWFwICkgewoJCQkJdmFyIHJldCA9IFsgXTsKCQkJCVFVbml0LmpzRHVtcC51cCgpOwoJCQkJZm9yICggdmFyIGtleSBpbiBtYXAgKQoJCQkJCXJldC5wdXNoKCBRVW5pdC5qc0R1bXAucGFyc2Uoa2V5LCdrZXknKSArICc6ICcgKyBRVW5pdC5qc0R1bXAucGFyc2UobWFwW2tleV0pICk7CgkJCQlRVW5pdC5qc0R1bXAuZG93bigpOwoJCQkJcmV0dXJuIGpvaW4oICd7JywgcmV0LCAnfScgKTsKCQkJfSwKCQkJbm9kZTpmdW5jdGlvbiggbm9kZSApIHsKCQkJCXZhciBvcGVuID0gUVVuaXQuanNEdW1wLkhUTUwgPyAnJmx0OycgOiAnPCcsCgkJCQkJY2xvc2UgPSBRVW5pdC5qc0R1bXAuSFRNTCA/ICcmZ3Q7JyA6ICc+JzsKCQkJCQkKCQkJCXZhciB0YWcgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCksCgkJCQkJcmV0ID0gb3BlbiArIHRhZzsKCQkJCQkKCQkJCWZvciAoIHZhciBhIGluIFFVbml0LmpzRHVtcC5ET01BdHRycyApIHsKCQkJCQl2YXIgdmFsID0gbm9kZVtRVW5pdC5qc0R1bXAuRE9NQXR0cnNbYV1dOwoJCQkJCWlmICggdmFsICkKCQkJCQkJcmV0ICs9ICcgJyArIGEgKyAnPScgKyBRVW5pdC5qc0R1bXAucGFyc2UoIHZhbCwgJ2F0dHJpYnV0ZScgKTsKCQkJCX0KCQkJCXJldHVybiByZXQgKyBjbG9zZSArIG9wZW4gKyAnLycgKyB0YWcgKyBjbG9zZTsKCQkJfSwKCQkJZnVuY3Rpb25BcmdzOmZ1bmN0aW9uKCBmbiApIHsvL2Z1bmN0aW9uIGNhbGxzIGl0IGludGVybmFsbHksIGl0J3MgdGhlIGFyZ3VtZW50cyBwYXJ0IG9mIHRoZSBmdW5jdGlvbgoJCQkJdmFyIGwgPSBmbi5sZW5ndGg7CgkJCQlpZiAoICFsICkgcmV0dXJuICcnOwkJCQkKCQkJCQoJCQkJdmFyIGFyZ3MgPSBBcnJheShsKTsKCQkJCXdoaWxlICggbC0tICkKCQkJCQlhcmdzW2xdID0gU3RyaW5nLmZyb21DaGFyQ29kZSg5NytsKTsvLzk3IGlzICdhJwoJCQkJcmV0dXJuICcgJyArIGFyZ3Muam9pbignLCAnKSArICcgJzsKCQkJfSwKCQkJa2V5OnF1b3RlLCAvL29iamVjdCBjYWxscyBpdCBpbnRlcm5hbGx5LCB0aGUga2V5IHBhcnQgb2YgYW4gaXRlbSBpbiBhIG1hcAoJCQlmdW5jdGlvbkNvZGU6J1tjb2RlXScsIC8vZnVuY3Rpb24gY2FsbHMgaXQgaW50ZXJuYWxseSwgaXQncyB0aGUgY29udGVudCBvZiB0aGUgZnVuY3Rpb24KCQkJYXR0cmlidXRlOnF1b3RlLCAvL25vZGUgY2FsbHMgaXQgaW50ZXJuYWxseSwgaXQncyBhbiBodG1sIGF0dHJpYnV0ZSB2YWx1ZQoJCQlzdHJpbmc6cXVvdGUsCgkJCWRhdGU6cXVvdGUsCgkJCXJlZ2V4cDpsaXRlcmFsLCAvL3JlZ2V4CgkJCW51bWJlcjpsaXRlcmFsLAoJCQknYm9vbGVhbic6bGl0ZXJhbAoJCX0sCgkJRE9NQXR0cnM6ey8vYXR0cmlidXRlcyB0byBkdW1wIGZyb20gbm9kZXMsIG5hbWU9PnJlYWxOYW1lCgkJCWlkOidpZCcsCgkJCW5hbWU6J25hbWUnLAoJCQknY2xhc3MnOidjbGFzc05hbWUnCgkJfSwKCQlIVE1MOmZhbHNlLC8vaWYgdHJ1ZSwgZW50aXRpZXMgYXJlIGVzY2FwZWQgKCA8LCA+LCBcdCwgc3BhY2UgYW5kIFxuICkKCQlpbmRlbnRDaGFyOicgICcsLy9pbmRlbnRhdGlvbiB1bml0CgkJbXVsdGlsaW5lOnRydWUgLy9pZiB0cnVlLCBpdGVtcyBpbiBhIGNvbGxlY3Rpb24sIGFyZSBzZXBhcmF0ZWQgYnkgYSBcbiwgZWxzZSBqdXN0IGEgc3BhY2UuCgl9OwoKCXJldHVybiBqc0R1bXA7Cn0pKCk7CgovLyBmcm9tIFNpenpsZS5qcwpmdW5jdGlvbiBnZXRUZXh0KCBlbGVtcyApIHsKCXZhciByZXQgPSAiIiwgZWxlbTsKCglmb3IgKCB2YXIgaSA9IDA7IGVsZW1zW2ldOyBpKysgKSB7CgkJZWxlbSA9IGVsZW1zW2ldOwoKCQkvLyBHZXQgdGhlIHRleHQgZnJvbSB0ZXh0IG5vZGVzIGFuZCBDREFUQSBub2RlcwoJCWlmICggZWxlbS5ub2RlVHlwZSA9PT0gMyB8fCBlbGVtLm5vZGVUeXBlID09PSA0ICkgewoJCQlyZXQgKz0gZWxlbS5ub2RlVmFsdWU7CgoJCS8vIFRyYXZlcnNlIGV2ZXJ5dGhpbmcgZWxzZSwgZXhjZXB0IGNvbW1lbnQgbm9kZXMKCQl9IGVsc2UgaWYgKCBlbGVtLm5vZGVUeXBlICE9PSA4ICkgewoJCQlyZXQgKz0gZ2V0VGV4dCggZWxlbS5jaGlsZE5vZGVzICk7CgkJfQoJfQoKCXJldHVybiByZXQ7Cn07CgovKgogKiBKYXZhc2NyaXB0IERpZmYgQWxnb3JpdGhtCiAqICBCeSBKb2huIFJlc2lnIChodHRwOi8vZWpvaG4ub3JnLykKICogIE1vZGlmaWVkIGJ5IENodSBBbGFuICJzcHJpdGUiCiAqCiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KICoKICogTW9yZSBJbmZvOgogKiAgaHR0cDovL2Vqb2huLm9yZy9wcm9qZWN0cy9qYXZhc2NyaXB0LWRpZmYtYWxnb3JpdGhtLwogKiAgCiAqIFVzYWdlOiBRVW5pdC5kaWZmKGV4cGVjdGVkLCBhY3R1YWwpCiAqIAogKiBRVW5pdC5kaWZmKCJ0aGUgcXVpY2sgYnJvd24gZm94IGp1bXBlZCBvdmVyIiwgInRoZSBxdWljayBmb3gganVtcHMgb3ZlciIpID09ICJ0aGUgIHF1aWNrIDxkZWw+YnJvd24gPC9kZWw+IGZveCA8ZGVsPmp1bXBlZCA8L2RlbD48aW5zPmp1bXBzIDwvaW5zPiBvdmVyIgogKi8KUVVuaXQuZGlmZiA9IChmdW5jdGlvbigpIHsKCWZ1bmN0aW9uIGRpZmYobywgbil7CgkJdmFyIG5zID0gbmV3IE9iamVjdCgpOwoJCXZhciBvcyA9IG5ldyBPYmplY3QoKTsKCQkKCQlmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG5zW25baV1dID09IG51bGwpIAoJCQkJbnNbbltpXV0gPSB7CgkJCQkJcm93czogbmV3IEFycmF5KCksCgkJCQkJbzogbnVsbAoJCQkJfTsKCQkJbnNbbltpXV0ucm93cy5wdXNoKGkpOwoJCX0KCQkKCQlmb3IgKHZhciBpID0gMDsgaSA8IG8ubGVuZ3RoOyBpKyspIHsKCQkJaWYgKG9zW29baV1dID09IG51bGwpIAoJCQkJb3Nbb1tpXV0gPSB7CgkJCQkJcm93czogbmV3IEFycmF5KCksCgkJCQkJbjogbnVsbAoJCQkJfTsKCQkJb3Nbb1tpXV0ucm93cy5wdXNoKGkpOwoJCX0KCQkKCQlmb3IgKHZhciBpIGluIG5zKSB7CgkJCWlmIChuc1tpXS5yb3dzLmxlbmd0aCA9PSAxICYmIHR5cGVvZihvc1tpXSkgIT0gInVuZGVmaW5lZCIgJiYgb3NbaV0ucm93cy5sZW5ndGggPT0gMSkgewoJCQkJbltuc1tpXS5yb3dzWzBdXSA9IHsKCQkJCQl0ZXh0OiBuW25zW2ldLnJvd3NbMF1dLAoJCQkJCXJvdzogb3NbaV0ucm93c1swXQoJCQkJfTsKCQkJCW9bb3NbaV0ucm93c1swXV0gPSB7CgkJCQkJdGV4dDogb1tvc1tpXS5yb3dzWzBdXSwKCQkJCQlyb3c6IG5zW2ldLnJvd3NbMF0KCQkJCX07CgkJCX0KCQl9CgkJCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aCAtIDE7IGkrKykgewoJCQlpZiAobltpXS50ZXh0ICE9IG51bGwgJiYgbltpICsgMV0udGV4dCA9PSBudWxsICYmIG5baV0ucm93ICsgMSA8IG8ubGVuZ3RoICYmIG9bbltpXS5yb3cgKyAxXS50ZXh0ID09IG51bGwgJiYKCQkJbltpICsgMV0gPT0gb1tuW2ldLnJvdyArIDFdKSB7CgkJCQluW2kgKyAxXSA9IHsKCQkJCQl0ZXh0OiBuW2kgKyAxXSwKCQkJCQlyb3c6IG5baV0ucm93ICsgMQoJCQkJfTsKCQkJCW9bbltpXS5yb3cgKyAxXSA9IHsKCQkJCQl0ZXh0OiBvW25baV0ucm93ICsgMV0sCgkJCQkJcm93OiBpICsgMQoJCQkJfTsKCQkJfQoJCX0KCQkKCQlmb3IgKHZhciBpID0gbi5sZW5ndGggLSAxOyBpID4gMDsgaS0tKSB7CgkJCWlmIChuW2ldLnRleHQgIT0gbnVsbCAmJiBuW2kgLSAxXS50ZXh0ID09IG51bGwgJiYgbltpXS5yb3cgPiAwICYmIG9bbltpXS5yb3cgLSAxXS50ZXh0ID09IG51bGwgJiYKCQkJbltpIC0gMV0gPT0gb1tuW2ldLnJvdyAtIDFdKSB7CgkJCQluW2kgLSAxXSA9IHsKCQkJCQl0ZXh0OiBuW2kgLSAxXSwKCQkJCQlyb3c6IG5baV0ucm93IC0gMQoJCQkJfTsKCQkJCW9bbltpXS5yb3cgLSAxXSA9IHsKCQkJCQl0ZXh0OiBvW25baV0ucm93IC0gMV0sCgkJCQkJcm93OiBpIC0gMQoJCQkJfTsKCQkJfQoJCX0KCQkKCQlyZXR1cm4gewoJCQlvOiBvLAoJCQluOiBuCgkJfTsKCX0KCQoJcmV0dXJuIGZ1bmN0aW9uKG8sIG4pewoJCW8gPSBvLnJlcGxhY2UoL1xzKyQvLCAnJyk7CgkJbiA9IG4ucmVwbGFjZSgvXHMrJC8sICcnKTsKCQl2YXIgb3V0ID0gZGlmZihvID09ICIiID8gW10gOiBvLnNwbGl0KC9ccysvKSwgbiA9PSAiIiA/IFtdIDogbi5zcGxpdCgvXHMrLykpOwoKCQl2YXIgc3RyID0gIiI7CgkJCgkJdmFyIG9TcGFjZSA9IG8ubWF0Y2goL1xzKy9nKTsKCQlpZiAob1NwYWNlID09IG51bGwpIHsKCQkJb1NwYWNlID0gWyIgIl07CgkJfQoJCWVsc2UgewoJCQlvU3BhY2UucHVzaCgiICIpOwoJCX0KCQl2YXIgblNwYWNlID0gbi5tYXRjaCgvXHMrL2cpOwoJCWlmIChuU3BhY2UgPT0gbnVsbCkgewoJCQluU3BhY2UgPSBbIiAiXTsKCQl9CgkJZWxzZSB7CgkJCW5TcGFjZS5wdXNoKCIgIik7CgkJfQoJCQoJCWlmIChvdXQubi5sZW5ndGggPT0gMCkgewoJCQlmb3IgKHZhciBpID0gMDsgaSA8IG91dC5vLmxlbmd0aDsgaSsrKSB7CgkJCQlzdHIgKz0gJzxkZWw+JyArIG91dC5vW2ldICsgb1NwYWNlW2ldICsgIjwvZGVsPiI7CgkJCX0KCQl9CgkJZWxzZSB7CgkJCWlmIChvdXQublswXS50ZXh0ID09IG51bGwpIHsKCQkJCWZvciAobiA9IDA7IG4gPCBvdXQuby5sZW5ndGggJiYgb3V0Lm9bbl0udGV4dCA9PSBudWxsOyBuKyspIHsKCQkJCQlzdHIgKz0gJzxkZWw+JyArIG91dC5vW25dICsgb1NwYWNlW25dICsgIjwvZGVsPiI7CgkJCQl9CgkJCX0KCQkJCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgb3V0Lm4ubGVuZ3RoOyBpKyspIHsKCQkJCWlmIChvdXQubltpXS50ZXh0ID09IG51bGwpIHsKCQkJCQlzdHIgKz0gJzxpbnM+JyArIG91dC5uW2ldICsgblNwYWNlW2ldICsgIjwvaW5zPiI7CgkJCQl9CgkJCQllbHNlIHsKCQkJCQl2YXIgcHJlID0gIiI7CgkJCQkJCgkJCQkJZm9yIChuID0gb3V0Lm5baV0ucm93ICsgMTsgbiA8IG91dC5vLmxlbmd0aCAmJiBvdXQub1tuXS50ZXh0ID09IG51bGw7IG4rKykgewoJCQkJCQlwcmUgKz0gJzxkZWw+JyArIG91dC5vW25dICsgb1NwYWNlW25dICsgIjwvZGVsPiI7CgkJCQkJfQoJCQkJCXN0ciArPSAiICIgKyBvdXQubltpXS50ZXh0ICsgblNwYWNlW2ldICsgcHJlOwoJCQkJfQoJCQl9CgkJfQoJCQoJCXJldHVybiBzdHI7Cgl9Owp9KSgpOwoKfSkodGhpcyk7Cg==", "content_type": "application/javascript"}, "js-libraries/coffee-script.js": {"data": "LyoqCiAqIENvZmZlZVNjcmlwdCBDb21waWxlciB2MS4xLjEKICogaHR0cDovL2NvZmZlZXNjcmlwdC5vcmcKICoKICogQ29weXJpZ2h0IDIwMTEsIEplcmVteSBBc2hrZW5hcwogKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UKICovCnRoaXMuQ29mZmVlU2NyaXB0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gcmVxdWlyZShhKXtyZXR1cm4gcmVxdWlyZVthXX1yZXF1aXJlWyIuL2hlbHBlcnMiXT1uZXcgZnVuY3Rpb24oKXt2YXIgYT10aGlzOyhmdW5jdGlvbigpe3ZhciBiLGM7YS5zdGFydHM9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiBiPT09YS5zdWJzdHIoYyxiLmxlbmd0aCl9LGEuZW5kcz1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7ZD1iLmxlbmd0aDtyZXR1cm4gYj09PWEuc3Vic3RyKGEubGVuZ3RoLWQtKGN8fDApLGQpfSxhLmNvbXBhY3Q9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT1bXTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyliPWFbY10sYiYmZS5wdXNoKGIpO3JldHVybiBlfSxhLmNvdW50PWZ1bmN0aW9uKGEsYil7dmFyIGMsZDtjPWQ9MDtpZighYi5sZW5ndGgpcmV0dXJuIDEvMDt3aGlsZShkPTErYS5pbmRleE9mKGIsZCkpYysrO3JldHVybiBjfSxhLm1lcmdlPWZ1bmN0aW9uKGEsYyl7cmV0dXJuIGIoYih7fSxhKSxjKX0sYj1hLmV4dGVuZD1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Zm9yKGMgaW4gYilkPWJbY10sYVtjXT1kO3JldHVybiBhfSxhLmZsYXR0ZW49Yz1mdW5jdGlvbihhKXt2YXIgYixkLGUsZjtkPVtdO2ZvcihlPTAsZj1hLmxlbmd0aDtlPGY7ZSsrKWI9YVtlXSxiIGluc3RhbmNlb2YgQXJyYXk/ZD1kLmNvbmNhdChjKGIpKTpkLnB1c2goYik7cmV0dXJuIGR9LGEuZGVsPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz1hW2JdLGRlbGV0ZSBhW2JdO3JldHVybiBjfSxhLmxhc3Q9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gYVthLmxlbmd0aC0oYnx8MCktMV19fSkuY2FsbCh0aGlzKX0scmVxdWlyZVsiLi9yZXdyaXRlciJdPW5ldyBmdW5jdGlvbigpe3ZhciBhPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQ9QXJyYXkucHJvdG90eXBlLmluZGV4T2Z8fGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wLGM9dGhpcy5sZW5ndGg7YjxjO2IrKylpZih0aGlzW2JdPT09YSlyZXR1cm4gYjtyZXR1cm4tMX0sdT1BcnJheS5wcm90b3R5cGUuc2xpY2U7YS5SZXdyaXRlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoKXt9YS5wcm90b3R5cGUucmV3cml0ZT1mdW5jdGlvbihhKXt0aGlzLnRva2Vucz1hLHRoaXMucmVtb3ZlTGVhZGluZ05ld2xpbmVzKCksdGhpcy5yZW1vdmVNaWRFeHByZXNzaW9uTmV3bGluZXMoKSx0aGlzLmNsb3NlT3BlbkNhbGxzKCksdGhpcy5jbG9zZU9wZW5JbmRleGVzKCksdGhpcy5hZGRJbXBsaWNpdEluZGVudGF0aW9uKCksdGhpcy50YWdQb3N0Zml4Q29uZGl0aW9uYWxzKCksdGhpcy5hZGRJbXBsaWNpdEJyYWNlcygpLHRoaXMuYWRkSW1wbGljaXRQYXJlbnRoZXNlcygpLHRoaXMuZW5zdXJlQmFsYW5jZShiKSx0aGlzLnJld3JpdGVDbG9zaW5nUGFyZW5zKCk7cmV0dXJuIHRoaXMudG9rZW5zfSxhLnByb3RvdHlwZS5zY2FuVG9rZW5zPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtkPXRoaXMudG9rZW5zLGI9MDt3aGlsZShjPWRbYl0pYis9YS5jYWxsKHRoaXMsYyxiLGQpO3JldHVybiEwfSxhLnByb3RvdHlwZS5kZXRlY3RFbmQ9ZnVuY3Rpb24oYSxiLGMpe3ZhciBmLGcsaCxpLGo7aD10aGlzLnRva2VucyxmPTA7d2hpbGUoZz1oW2FdKXtpZihmPT09MCYmYi5jYWxsKHRoaXMsZyxhKSlyZXR1cm4gYy5jYWxsKHRoaXMsZyxhKTtpZighZ3x8ZjwwKXJldHVybiBjLmNhbGwodGhpcyxnLGEtMSk7aWYoaT1nWzBdLHQuY2FsbChlLGkpPj0wKWYrPTE7ZWxzZSBpZihqPWdbMF0sdC5jYWxsKGQsaik+PTApZi09MTthKz0xfXJldHVybiBhLTF9LGEucHJvdG90eXBlLnJlbW92ZUxlYWRpbmdOZXdsaW5lcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkO2Q9dGhpcy50b2tlbnM7Zm9yKGE9MCxjPWQubGVuZ3RoO2E8YzthKyspe2I9ZFthXVswXTtpZihiIT09IlRFUk1JTkFUT1IiKWJyZWFrfWlmKGEpcmV0dXJuIHRoaXMudG9rZW5zLnNwbGljZSgwLGEpfSxhLnByb3RvdHlwZS5yZW1vdmVNaWRFeHByZXNzaW9uTmV3bGluZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGEsYixkKXt2YXIgZTtpZighKGFbMF09PT0iVEVSTUlOQVRPUiImJihlPXRoaXMudGFnKGIrMSksdC5jYWxsKGMsZSk+PTApKSlyZXR1cm4gMTtkLnNwbGljZShiLDEpO3JldHVybiAwfSl9LGEucHJvdG90eXBlLmNsb3NlT3BlbkNhbGxzPWZ1bmN0aW9uKCl7dmFyIGEsYjtiPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuKGM9YVswXSk9PT0iKSJ8fGM9PT0iQ0FMTF9FTkQifHxhWzBdPT09Ik9VVERFTlQiJiZ0aGlzLnRhZyhiLTEpPT09IikifSxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudG9rZW5zW2FbMF09PT0iT1VUREVOVCI/Yi0xOmJdWzBdPSJDQUxMX0VORCJ9O3JldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oYyxkKXtjWzBdPT09IkNBTExfU1RBUlQiJiZ0aGlzLmRldGVjdEVuZChkKzEsYixhKTtyZXR1cm4gMX0pfSxhLnByb3RvdHlwZS5jbG9zZU9wZW5JbmRleGVzPWZ1bmN0aW9uKCl7dmFyIGEsYjtiPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuKGM9YVswXSk9PT0iXSJ8fGM9PT0iSU5ERVhfRU5EIn0sYT1mdW5jdGlvbihhLGIpe3JldHVybiBhWzBdPSJJTkRFWF9FTkQifTtyZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGMsZCl7Y1swXT09PSJJTkRFWF9TVEFSVCImJnRoaXMuZGV0ZWN0RW5kKGQrMSxiLGEpO3JldHVybiAxfSl9LGEucHJvdG90eXBlLmFkZEltcGxpY2l0QnJhY2VzPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGYsZztjPVtdLGY9bnVsbCxnPTAsYj1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGcsaDtnPXRoaXMudG9rZW5zLnNsaWNlKGIrMSxiKzMrMXx8OWU5KSxjPWdbMF0sZj1nWzFdLGU9Z1syXTtpZigiSEVSRUNPTU1FTlQiPT09KGMhPW51bGw/Y1swXTp2b2lkIDApKXJldHVybiExO2Q9YVswXTtyZXR1cm4oZD09PSJURVJNSU5BVE9SInx8ZD09PSJPVVRERU5UIikmJihmIT1udWxsP2ZbMF06dm9pZCAwKSE9PSI6IiYmKChjIT1udWxsP2NbMF06dm9pZCAwKSE9PSJAInx8KGUhPW51bGw/ZVswXTp2b2lkIDApIT09IjoiKXx8ZD09PSIsIiYmYyYmKGg9Y1swXSkhPT0iSURFTlRJRklFUiImJmghPT0iTlVNQkVSIiYmaCE9PSJTVFJJTkciJiZoIT09IkAiJiZoIT09IlRFUk1JTkFUT1IiJiZoIT09Ik9VVERFTlQifSxhPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz1bIn0iLCJ9IixhWzJdXSxjLmdlbmVyYXRlZD0hMDtyZXR1cm4gdGhpcy50b2tlbnMuc3BsaWNlKGIsMCxjKX07cmV0dXJuIHRoaXMuc2NhblRva2VucyhmdW5jdGlvbihnLGgsaSl7dmFyIGosayxsLG0sbixvLHA7aWYobz1sPWdbMF0sdC5jYWxsKGUsbyk+PTApe2MucHVzaChbbD09PSJJTkRFTlQiJiZ0aGlzLnRhZyhoLTEpPT09InsiPyJ7IjpsLGhdKTtyZXR1cm4gMX1pZih0LmNhbGwoZCxsKT49MCl7Zj1jLnBvcCgpO3JldHVybiAxfWlmKGwhPT0iOiJ8fChqPXRoaXMudGFnKGgtMikpIT09IjoiJiYoKHA9Y1tjLmxlbmd0aC0xXSkhPW51bGw/cFswXTp2b2lkIDApPT09InsiKXJldHVybiAxO2MucHVzaChbInsiXSksaz1qPT09IkAiP2gtMjpoLTE7d2hpbGUodGhpcy50YWcoay0yKT09PSJIRVJFQ09NTUVOVCIpay09MjtuPW5ldyBTdHJpbmcoInsiKSxuLmdlbmVyYXRlZD0hMCxtPVsieyIsbixnWzJdXSxtLmdlbmVyYXRlZD0hMCxpLnNwbGljZShrLDAsbSksdGhpcy5kZXRlY3RFbmQoaCsyLGIsYSk7cmV0dXJuIDJ9KX0sYS5wcm90b3R5cGUuYWRkSW1wbGljaXRQYXJlbnRoZXNlcz1mdW5jdGlvbigpe3ZhciBhLGI7Yj0hMSxhPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz1hWzBdPT09Ik9VVERFTlQiP2IrMTpiO3JldHVybiB0aGlzLnRva2Vucy5zcGxpY2UoYywwLFsiQ0FMTF9FTkQiLCIpIixhWzJdXSl9O3JldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oYyxkLGUpe3ZhciBrLG0sbixvLHAscSxyLHMsdTtxPWNbMF07aWYocT09PSJDTEFTUyJ8fHE9PT0iSUYiKWI9ITA7cj1lLnNsaWNlKGQtMSxkKzErMXx8OWU5KSxvPXJbMF0sbT1yWzFdLG49clsyXSxrPSFiJiZxPT09IklOREVOVCImJm4mJm4uZ2VuZXJhdGVkJiZuWzBdPT09InsiJiZvJiYocz1vWzBdLHQuY2FsbChpLHMpPj0wKSxwPSExLHQuY2FsbChsLHEpPj0wJiYoYj0hMSksbyYmIW8uc3BhY2VkJiZxPT09Ij8iJiYoYy5jYWxsPSEwKTtpZihjLmZyb21UaGVuKXJldHVybiAxO2lmKCEoa3x8KG8hPW51bGw/by5zcGFjZWQ6dm9pZCAwKSYmKG8uY2FsbHx8KHU9b1swXSx0LmNhbGwoaSx1KT49MCkpJiYodC5jYWxsKGcscSk+PTB8fCFjLnNwYWNlZCYmIWMubmV3TGluZSYmdC5jYWxsKGoscSk+PTApKSlyZXR1cm4gMTtlLnNwbGljZShkLDAsWyJDQUxMX1NUQVJUIiwiKCIsY1syXV0pLHRoaXMuZGV0ZWN0RW5kKGQrMSxmdW5jdGlvbihhLGIpe3ZhciBjLGQ7cT1hWzBdO2lmKCFwJiZhLmZyb21UaGVuKXJldHVybiEwO2lmKHE9PT0iSUYifHxxPT09IkVMU0UifHxxPT09Ii0+Inx8cT09PSI9PiIpcD0hMDtpZigocT09PSIuInx8cT09PSI/LiJ8fHE9PT0iOjoiKSYmdGhpcy50YWcoYi0xKT09PSJPVVRERU5UIilyZXR1cm4hMDtyZXR1cm4hYS5nZW5lcmF0ZWQmJnRoaXMudGFnKGItMSkhPT0iLCImJnQuY2FsbChoLHEpPj0wJiYocSE9PSJJTkRFTlQifHx0aGlzLnRhZyhiLTIpIT09IkNMQVNTIiYmKGQ9dGhpcy50YWcoYi0xKSx0LmNhbGwoZixkKTwwKSYmKCEoYz10aGlzLnRva2Vuc1tiKzFdKXx8IWMuZ2VuZXJhdGVkfHxjWzBdIT09InsiKSl9LGEpLG9bMF09PT0iPyImJihvWzBdPSJGVU5DX0VYSVNUIik7cmV0dXJuIDJ9KX0sYS5wcm90b3R5cGUuYWRkSW1wbGljaXRJbmRlbnRhdGlvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNjYW5Ub2tlbnMoZnVuY3Rpb24oYSxiLGMpe3ZhciBkLGUsZixnLGgsaSxqLGs7aT1hWzBdO2lmKGk9PT0iVEVSTUlOQVRPUiImJnRoaXMudGFnKGIrMSk9PT0iVEhFTiIpe2Muc3BsaWNlKGIsMSk7cmV0dXJuIDB9aWYoaT09PSJFTFNFIiYmdGhpcy50YWcoYi0xKSE9PSJPVVRERU5UIil7Yy5zcGxpY2UuYXBwbHkoYyxbYiwwXS5jb25jYXQodS5jYWxsKHRoaXMuaW5kZW50YXRpb24oYSkpKSk7cmV0dXJuIDJ9aWYoaT09PSJDQVRDSCImJigoaj10aGlzLnRhZyhiKzIpKT09PSJPVVRERU5UInx8aj09PSJURVJNSU5BVE9SInx8aj09PSJGSU5BTExZIikpe2Muc3BsaWNlLmFwcGx5KGMsW2IrMiwwXS5jb25jYXQodS5jYWxsKHRoaXMuaW5kZW50YXRpb24oYSkpKSk7cmV0dXJuIDR9aWYodC5jYWxsKG4saSk+PTAmJnRoaXMudGFnKGIrMSkhPT0iSU5ERU5UIiYmKGkhPT0iRUxTRSJ8fHRoaXMudGFnKGIrMSkhPT0iSUYiKSl7aD1pLGs9dGhpcy5pbmRlbnRhdGlvbihhKSxmPWtbMF0sZz1rWzFdLGg9PT0iVEhFTiImJihmLmZyb21UaGVuPSEwKSxmLmdlbmVyYXRlZD1nLmdlbmVyYXRlZD0hMCxjLnNwbGljZShiKzEsMCxmKSxlPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuIGFbMV0hPT0iOyImJihjPWFbMF0sdC5jYWxsKG0sYyk+PTApJiYoYVswXSE9PSJFTFNFInx8aD09PSJJRiJ8fGg9PT0iVEhFTiIpfSxkPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMudG9rZW5zLnNwbGljZSh0aGlzLnRhZyhiLTEpPT09IiwiP2ItMTpiLDAsZyl9LHRoaXMuZGV0ZWN0RW5kKGIrMixlLGQpLGk9PT0iVEhFTiImJmMuc3BsaWNlKGIsMSk7cmV0dXJuIDF9cmV0dXJuIDF9KX0sYS5wcm90b3R5cGUudGFnUG9zdGZpeENvbmRpdGlvbmFscz1mdW5jdGlvbigpe3ZhciBhO2E9ZnVuY3Rpb24oYSxiKXt2YXIgYztyZXR1cm4oYz1hWzBdKT09PSJURVJNSU5BVE9SInx8Yz09PSJJTkRFTlQifTtyZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGIsYyl7dmFyIGQ7aWYoYlswXSE9PSJJRiIpcmV0dXJuIDE7ZD1iLHRoaXMuZGV0ZWN0RW5kKGMrMSxhLGZ1bmN0aW9uKGEsYil7aWYoYVswXSE9PSJJTkRFTlQiKXJldHVybiBkWzBdPSJQT1NUXyIrZFswXX0pO3JldHVybiAxfSl9LGEucHJvdG90eXBlLmVuc3VyZUJhbGFuY2U9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG47ZD17fSxmPXt9LG09dGhpcy50b2tlbnM7Zm9yKGk9MCxrPW0ubGVuZ3RoO2k8aztpKyspe2g9bVtpXSxnPWhbMF07Zm9yKGo9MCxsPWEubGVuZ3RoO2o8bDtqKyspe249YVtqXSxlPW5bMF0sYj1uWzFdLGRbZV18PTA7aWYoZz09PWUpZFtlXSsrPT09MCYmKGZbZV09aFsyXSk7ZWxzZSBpZihnPT09YiYmLS1kW2VdPDApdGhyb3cgRXJyb3IoInRvbyBtYW55ICIraFsxXSsiIG9uIGxpbmUgIisoaFsyXSsxKSl9fWZvcihlIGluIGQpe2M9ZFtlXTtpZihjPjApdGhyb3cgRXJyb3IoInVuY2xvc2VkICIrZSsiIG9uIGxpbmUgIisoZltlXSsxKSl9cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnJld3JpdGVDbG9zaW5nUGFyZW5zPWZ1bmN0aW9uKCl7dmFyIGEsYixjO2M9W10sYT17fTtmb3IoYiBpbiBrKWFbYl09MDtyZXR1cm4gdGhpcy5zY2FuVG9rZW5zKGZ1bmN0aW9uKGIsZixnKXt2YXIgaCxpLGosbCxtLG4sbztpZihvPW09YlswXSx0LmNhbGwoZSxvKT49MCl7Yy5wdXNoKGIpO3JldHVybiAxfWlmKHQuY2FsbChkLG0pPDApcmV0dXJuIDE7aWYoYVtoPWtbbV1dPjApe2FbaF0tPTEsZy5zcGxpY2UoZiwxKTtyZXR1cm4gMH1pPWMucG9wKCksaj1pWzBdLGw9a1tqXTtpZihtPT09bClyZXR1cm4gMTthW2pdKz0xLG49W2wsaj09PSJJTkRFTlQiP2lbMV06bF0sdGhpcy50YWcoZisyKT09PWo/KGcuc3BsaWNlKGYrMywwLG4pLGMucHVzaChpKSk6Zy5zcGxpY2UoZiwwLG4pO3JldHVybiAxfSl9LGEucHJvdG90eXBlLmluZGVudGF0aW9uPWZ1bmN0aW9uKGEpe3JldHVybltbIklOREVOVCIsMixhWzJdXSxbIk9VVERFTlQiLDIsYVsyXV1dfSxhLnByb3RvdHlwZS50YWc9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuKGI9dGhpcy50b2tlbnNbYV0pIT1udWxsP2JbMF06dm9pZCAwfTtyZXR1cm4gYX0oKSxiPVtbIigiLCIpIl0sWyJbIiwiXSJdLFsieyIsIn0iXSxbIklOREVOVCIsIk9VVERFTlQiXSxbIkNBTExfU1RBUlQiLCJDQUxMX0VORCJdLFsiUEFSQU1fU1RBUlQiLCJQQVJBTV9FTkQiXSxbIklOREVYX1NUQVJUIiwiSU5ERVhfRU5EIl1dLGs9e30sZT1bXSxkPVtdO2ZvcihxPTAscj1iLmxlbmd0aDtxPHI7cSsrKXM9YltxXSxvPXNbMF0scD1zWzFdLGUucHVzaChrW3BdPW8pLGQucHVzaChrW29dPXApO2M9WyJDQVRDSCIsIldIRU4iLCJFTFNFIiwiRklOQUxMWSJdLmNvbmNhdChkKSxpPVsiSURFTlRJRklFUiIsIlNVUEVSIiwiKSIsIkNBTExfRU5EIiwiXSIsIklOREVYX0VORCIsIkAiLCJUSElTIl0sZz1bIklERU5USUZJRVIiLCJOVU1CRVIiLCJTVFJJTkciLCJKUyIsIlJFR0VYIiwiTkVXIiwiUEFSQU1fU1RBUlQiLCJDTEFTUyIsIklGIiwiVFJZIiwiU1dJVENIIiwiVEhJUyIsIkJPT0wiLCJVTkFSWSIsIlNVUEVSIiwiQCIsIi0+IiwiPT4iLCJbIiwiKCIsInsiLCItLSIsIisrIl0saj1bIisiLCItIl0sZj1bIi0+IiwiPT4iLCJ7IiwiWyIsIiwiXSxoPVsiUE9TVF9JRiIsIkZPUiIsIldISUxFIiwiVU5USUwiLCJXSEVOIiwiQlkiLCJMT09QIiwiVEVSTUlOQVRPUiIsIklOREVOVCJdLG49WyJFTFNFIiwiLT4iLCI9PiIsIlRSWSIsIkZJTkFMTFkiLCJUSEVOIl0sbT1bIlRFUk1JTkFUT1IiLCJDQVRDSCIsIkZJTkFMTFkiLCJFTFNFIiwiT1VUREVOVCIsIkxFQURJTkdfV0hFTiJdLGw9WyJURVJNSU5BVE9SIiwiSU5ERU5UIiwiT1VUREVOVCJdfSkuY2FsbCh0aGlzKX0scmVxdWlyZVsiLi9sZXhlciJdPW5ldyBmdW5jdGlvbigpe3ZhciBhPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxULFUsVixXPUFycmF5LnByb3RvdHlwZS5pbmRleE9mfHxmdW5jdGlvbihhKXtmb3IodmFyIGI9MCxjPXRoaXMubGVuZ3RoO2I8YztiKyspaWYodGhpc1tiXT09PWEpcmV0dXJuIGI7cmV0dXJuLTF9O0s9cmVxdWlyZSgiLi9yZXdyaXRlciIpLlJld3JpdGVyLFY9cmVxdWlyZSgiLi9oZWxwZXJzIiksUj1WLmNvdW50LFU9Vi5zdGFydHMsUT1WLmNvbXBhY3QsVD1WLmxhc3QsYS5MZXhlcj15PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31hLnByb3RvdHlwZS50b2tlbml6ZT1mdW5jdGlvbihhLGIpe3ZhciBjO2I9PW51bGwmJihiPXt9KSxQLnRlc3QoYSkmJihhPSJcbiIrYSksYT1hLnJlcGxhY2UoL1xyL2csIiIpLnJlcGxhY2UoTiwiIiksdGhpcy5jb2RlPWEsdGhpcy5saW5lPWIubGluZXx8MCx0aGlzLmluZGVudD0wLHRoaXMuaW5kZWJ0PTAsdGhpcy5vdXRkZWJ0PTAsdGhpcy5pbmRlbnRzPVtdLHRoaXMudG9rZW5zPVtdLGM9MDt3aGlsZSh0aGlzLmNodW5rPWEuc2xpY2UoYykpYys9dGhpcy5pZGVudGlmaWVyVG9rZW4oKXx8dGhpcy5jb21tZW50VG9rZW4oKXx8dGhpcy53aGl0ZXNwYWNlVG9rZW4oKXx8dGhpcy5saW5lVG9rZW4oKXx8dGhpcy5oZXJlZG9jVG9rZW4oKXx8dGhpcy5zdHJpbmdUb2tlbigpfHx0aGlzLm51bWJlclRva2VuKCl8fHRoaXMucmVnZXhUb2tlbigpfHx0aGlzLmpzVG9rZW4oKXx8dGhpcy5saXRlcmFsVG9rZW4oKTt0aGlzLmNsb3NlSW5kZW50YXRpb24oKTtpZihiLnJld3JpdGU9PT0hMSlyZXR1cm4gdGhpcy50b2tlbnM7cmV0dXJuKG5ldyBLKS5yZXdyaXRlKHRoaXMudG9rZW5zKX0sYS5wcm90b3R5cGUuaWRlbnRpZmllclRva2VuPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQsZSxpLGosayxsO2lmKCEoZT1xLmV4ZWModGhpcy5jaHVuaykpKXJldHVybiAwO2Q9ZVswXSxjPWVbMV0sYT1lWzJdO2lmKGM9PT0ib3duIiYmdGhpcy50YWcoKT09PSJGT1IiKXt0aGlzLnRva2VuKCJPV04iLGMpO3JldHVybiBjLmxlbmd0aH1iPWF8fChpPVQodGhpcy50b2tlbnMpKSYmKChrPWlbMF0pPT09Ii4ifHxrPT09Ij8uInx8az09PSI6OiJ8fCFpLnNwYWNlZCYmaVswXT09PSJAIiksaj0iSURFTlRJRklFUiI7aWYoVy5jYWxsKHUsYyk+PTB8fCFiJiZXLmNhbGwoaCxjKT49MClqPWMudG9VcHBlckNhc2UoKSxqPT09IldIRU4iJiYobD10aGlzLnRhZygpLFcuY2FsbCh2LGwpPj0wKT9qPSJMRUFESU5HX1dIRU4iOmo9PT0iRk9SIj90aGlzLnNlZW5Gb3I9ITA6aj09PSJVTkxFU1MiP2o9IklGIjpXLmNhbGwoTyxqKT49MD9qPSJVTkFSWSI6Vy5jYWxsKEksaik+PTAmJihqIT09IklOU1RBTkNFT0YiJiZ0aGlzLnNlZW5Gb3I/KGo9IkZPUiIraix0aGlzLnNlZW5Gb3I9ITEpOihqPSJSRUxBVElPTiIsdGhpcy52YWx1ZSgpPT09IiEiJiYodGhpcy50b2tlbnMucG9wKCksYz0iISIrYykpKTtXLmNhbGwodCxjKT49MCYmKGI/KGo9IklERU5USUZJRVIiLGM9bmV3IFN0cmluZyhjKSxjLnJlc2VydmVkPSEwKTpXLmNhbGwoSixjKT49MCYmdGhpcy5pZGVudGlmaWVyRXJyb3IoYykpLGJ8fChXLmNhbGwoZixjKT49MCYmKGM9Z1tjXSksaj1mdW5jdGlvbigpe3N3aXRjaChjKXtjYXNlIiEiOnJldHVybiJVTkFSWSI7Y2FzZSI9PSI6Y2FzZSIhPSI6cmV0dXJuIkNPTVBBUkUiO2Nhc2UiJiYiOmNhc2UifHwiOnJldHVybiJMT0dJQyI7Y2FzZSJ0cnVlIjpjYXNlImZhbHNlIjpjYXNlIm51bGwiOmNhc2UidW5kZWZpbmVkIjpyZXR1cm4iQk9PTCI7Y2FzZSJicmVhayI6Y2FzZSJjb250aW51ZSI6Y2FzZSJkZWJ1Z2dlciI6cmV0dXJuIlNUQVRFTUVOVCI7ZGVmYXVsdDpyZXR1cm4gan19KCkpLHRoaXMudG9rZW4oaixjKSxhJiZ0aGlzLnRva2VuKCI6IiwiOiIpO3JldHVybiBkLmxlbmd0aH0sYS5wcm90b3R5cGUubnVtYmVyVG9rZW49ZnVuY3Rpb24oKXt2YXIgYSxiO2lmKCEoYT1GLmV4ZWModGhpcy5jaHVuaykpKXJldHVybiAwO2I9YVswXSx0aGlzLnRva2VuKCJOVU1CRVIiLGIpO3JldHVybiBiLmxlbmd0aH0sYS5wcm90b3R5cGUuc3RyaW5nVG9rZW49ZnVuY3Rpb24oKXt2YXIgYSxiO3N3aXRjaCh0aGlzLmNodW5rLmNoYXJBdCgwKSl7Y2FzZSInIjppZighKGE9TS5leGVjKHRoaXMuY2h1bmspKSlyZXR1cm4gMDt0aGlzLnRva2VuKCJTVFJJTkciLChiPWFbMF0pLnJlcGxhY2UoQSwiXFxcbiIpKTticmVhaztjYXNlJyInOmlmKCEoYj10aGlzLmJhbGFuY2VkU3RyaW5nKHRoaXMuY2h1bmssJyInKSkpcmV0dXJuIDA7MDxiLmluZGV4T2YoIiN7IiwxKT90aGlzLmludGVycG9sYXRlU3RyaW5nKGIuc2xpY2UoMSwtMSkpOnRoaXMudG9rZW4oIlNUUklORyIsdGhpcy5lc2NhcGVMaW5lcyhiKSk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4gMH10aGlzLmxpbmUrPVIoYiwiXG4iKTtyZXR1cm4gYi5sZW5ndGh9LGEucHJvdG90eXBlLmhlcmVkb2NUb2tlbj1mdW5jdGlvbigpe3ZhciBhLGIsYyxkO2lmKCEoYz1sLmV4ZWModGhpcy5jaHVuaykpKXJldHVybiAwO2I9Y1swXSxkPWIuY2hhckF0KDApLGE9dGhpcy5zYW5pdGl6ZUhlcmVkb2MoY1syXSx7cXVvdGU6ZCxpbmRlbnQ6bnVsbH0pLGQ9PT0nIicmJjA8PWEuaW5kZXhPZigiI3siKT90aGlzLmludGVycG9sYXRlU3RyaW5nKGEse2hlcmVkb2M6ITB9KTp0aGlzLnRva2VuKCJTVFJJTkciLHRoaXMubWFrZVN0cmluZyhhLGQsITApKSx0aGlzLmxpbmUrPVIoYiwiXG4iKTtyZXR1cm4gYi5sZW5ndGh9LGEucHJvdG90eXBlLmNvbW1lbnRUb2tlbj1mdW5jdGlvbigpe3ZhciBhLGIsYztpZighKGM9dGhpcy5jaHVuay5tYXRjaChpKSkpcmV0dXJuIDA7YT1jWzBdLGI9Y1sxXSxiJiYodGhpcy50b2tlbigiSEVSRUNPTU1FTlQiLHRoaXMuc2FuaXRpemVIZXJlZG9jKGIse2hlcmVjb21tZW50OiEwLGluZGVudDpBcnJheSh0aGlzLmluZGVudCsxKS5qb2luKCIgIil9KSksdGhpcy50b2tlbigiVEVSTUlOQVRPUiIsIlxuIikpLHRoaXMubGluZSs9UihhLCJcbiIpO3JldHVybiBhLmxlbmd0aH0sYS5wcm90b3R5cGUuanNUb2tlbj1mdW5jdGlvbigpe3ZhciBhLGI7aWYodGhpcy5jaHVuay5jaGFyQXQoMCkhPT0iYCJ8fCEoYT1zLmV4ZWModGhpcy5jaHVuaykpKXJldHVybiAwO3RoaXMudG9rZW4oIkpTIiwoYj1hWzBdKS5zbGljZSgxLC0xKSk7cmV0dXJuIGIubGVuZ3RofSxhLnByb3RvdHlwZS5yZWdleFRva2VuPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGQ7aWYodGhpcy5jaHVuay5jaGFyQXQoMCkhPT0iLyIpcmV0dXJuIDA7aWYoYT1vLmV4ZWModGhpcy5jaHVuaykpcmV0dXJuIHRoaXMuaGVyZWdleFRva2VuKGEpO2I9VCh0aGlzLnRva2Vucyk7aWYoYiYmKGQ9YlswXSxXLmNhbGwoYi5zcGFjZWQ/QzpELGQpPj0wKSlyZXR1cm4gMDtpZighKGE9SC5leGVjKHRoaXMuY2h1bmspKSlyZXR1cm4gMDtjPWFbMF0sdGhpcy50b2tlbigiUkVHRVgiLGM9PT0iLy8iPyIvKD86KS8iOmMpO3JldHVybiBjLmxlbmd0aH0sYS5wcm90b3R5cGUuaGVyZWdleFRva2VuPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuO2Q9YVswXSxiPWFbMV0sYz1hWzJdO2lmKDA+Yi5pbmRleE9mKCIjeyIpKXtlPWIucmVwbGFjZShwLCIiKS5yZXBsYWNlKC9cLy9nLCJcXC8iKSx0aGlzLnRva2VuKCJSRUdFWCIsIi8iKyhlfHwiKD86KSIpKyIvIitjKTtyZXR1cm4gZC5sZW5ndGh9dGhpcy50b2tlbigiSURFTlRJRklFUiIsIlJlZ0V4cCIpLHRoaXMudG9rZW5zLnB1c2goWyJDQUxMX1NUQVJUIiwiKCJdKSxnPVtdLGs9dGhpcy5pbnRlcnBvbGF0ZVN0cmluZyhiLHtyZWdleDohMH0pO2ZvcihpPTAsaj1rLmxlbmd0aDtpPGo7aSsrKXtsPWtbaV0sZj1sWzBdLGg9bFsxXTtpZihmPT09IlRPS0VOUyIpZy5wdXNoLmFwcGx5KGcsaCk7ZWxzZXtpZighKGg9aC5yZXBsYWNlKHAsIiIpKSljb250aW51ZTtoPWgucmVwbGFjZSgvXFwvZywiXFxcXCIpLGcucHVzaChbIlNUUklORyIsdGhpcy5tYWtlU3RyaW5nKGgsJyInLCEwKV0pfWcucHVzaChbIisiLCIrIl0pfWcucG9wKCksKChtPWdbMF0pIT1udWxsP21bMF06dm9pZCAwKSE9PSJTVFJJTkciJiZ0aGlzLnRva2Vucy5wdXNoKFsiU1RSSU5HIiwnIiInXSxbIisiLCIrIl0pLChuPXRoaXMudG9rZW5zKS5wdXNoLmFwcGx5KG4sZyksYyYmdGhpcy50b2tlbnMucHVzaChbIiwiLCIsIl0sWyJTVFJJTkciLCciJytjKyciJ10pLHRoaXMudG9rZW4oIikiLCIpIik7cmV0dXJuIGQubGVuZ3RofSxhLnByb3RvdHlwZS5saW5lVG9rZW49ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGY7aWYoIShjPUIuZXhlYyh0aGlzLmNodW5rKSkpcmV0dXJuIDA7Yj1jWzBdLHRoaXMubGluZSs9UihiLCJcbiIpLGU9VCh0aGlzLnRva2VucywxKSxmPWIubGVuZ3RoLTEtYi5sYXN0SW5kZXhPZigiXG4iKSxkPXRoaXMudW5maW5pc2hlZCgpO2lmKGYtdGhpcy5pbmRlYnQ9PT10aGlzLmluZGVudCl7ZD90aGlzLnN1cHByZXNzTmV3bGluZXMoKTp0aGlzLm5ld2xpbmVUb2tlbigpO3JldHVybiBiLmxlbmd0aH1pZihmPnRoaXMuaW5kZW50KXtpZihkKXt0aGlzLmluZGVidD1mLXRoaXMuaW5kZW50LHRoaXMuc3VwcHJlc3NOZXdsaW5lcygpO3JldHVybiBiLmxlbmd0aH1hPWYtdGhpcy5pbmRlbnQrdGhpcy5vdXRkZWJ0LHRoaXMudG9rZW4oIklOREVOVCIsYSksdGhpcy5pbmRlbnRzLnB1c2goYSksdGhpcy5vdXRkZWJ0PXRoaXMuaW5kZWJ0PTB9ZWxzZSB0aGlzLmluZGVidD0wLHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50LWYsZCk7dGhpcy5pbmRlbnQ9ZjtyZXR1cm4gYi5sZW5ndGh9LGEucHJvdG90eXBlLm91dGRlbnRUb2tlbj1mdW5jdGlvbihhLGIsYyl7dmFyIGQsZTt3aGlsZShhPjApZT10aGlzLmluZGVudHMubGVuZ3RoLTEsdGhpcy5pbmRlbnRzW2VdPT09dm9pZCAwP2E9MDp0aGlzLmluZGVudHNbZV09PT10aGlzLm91dGRlYnQ/KGEtPXRoaXMub3V0ZGVidCx0aGlzLm91dGRlYnQ9MCk6dGhpcy5pbmRlbnRzW2VdPHRoaXMub3V0ZGVidD8odGhpcy5vdXRkZWJ0LT10aGlzLmluZGVudHNbZV0sYS09dGhpcy5pbmRlbnRzW2VdKTooZD10aGlzLmluZGVudHMucG9wKCktdGhpcy5vdXRkZWJ0LGEtPWQsdGhpcy5vdXRkZWJ0PTAsdGhpcy50b2tlbigiT1VUREVOVCIsZCkpO2QmJih0aGlzLm91dGRlYnQtPWEpLHRoaXMudGFnKCkhPT0iVEVSTUlOQVRPUiImJiFiJiZ0aGlzLnRva2VuKCJURVJNSU5BVE9SIiwiXG4iKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUud2hpdGVzcGFjZVRva2VuPWZ1bmN0aW9uKCl7dmFyIGEsYixjO2lmKCEoYT1QLmV4ZWModGhpcy5jaHVuaykpJiYhKGI9dGhpcy5jaHVuay5jaGFyQXQoMCk9PT0iXG4iKSlyZXR1cm4gMDtjPVQodGhpcy50b2tlbnMpLGMmJihjW2E/InNwYWNlZCI6Im5ld0xpbmUiXT0hMCk7cmV0dXJuIGE/YVswXS5sZW5ndGg6MH0sYS5wcm90b3R5cGUubmV3bGluZVRva2VuPWZ1bmN0aW9uKCl7dGhpcy50YWcoKSE9PSJURVJNSU5BVE9SIiYmdGhpcy50b2tlbigiVEVSTUlOQVRPUiIsIlxuIik7cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnN1cHByZXNzTmV3bGluZXM9ZnVuY3Rpb24oKXt0aGlzLnZhbHVlKCk9PT0iXFwiJiZ0aGlzLnRva2Vucy5wb3AoKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUubGl0ZXJhbFRva2VuPWZ1bmN0aW9uKCl7dmFyIGEsYixjLGYsZyxoLGksbDsoYT1HLmV4ZWModGhpcy5jaHVuaykpPyhmPWFbMF0sZS50ZXN0KGYpJiZ0aGlzLnRhZ1BhcmFtZXRlcnMoKSk6Zj10aGlzLmNodW5rLmNoYXJBdCgwKSxjPWYsYj1UKHRoaXMudG9rZW5zKTtpZihmPT09Ij0iJiZiKXshYlsxXS5yZXNlcnZlZCYmKGc9YlsxXSxXLmNhbGwodCxnKT49MCkmJnRoaXMuYXNzaWdubWVudEVycm9yKCk7aWYoKGg9YlsxXSk9PT0ifHwifHxoPT09IiYmIil7YlswXT0iQ09NUE9VTkRfQVNTSUdOIixiWzFdKz0iPSI7cmV0dXJuIGYubGVuZ3RofX1pZihmPT09IjsiKWM9IlRFUk1JTkFUT1IiO2Vsc2UgaWYoVy5jYWxsKHosZik+PTApYz0iTUFUSCI7ZWxzZSBpZihXLmNhbGwoaixmKT49MCljPSJDT01QQVJFIjtlbHNlIGlmKFcuY2FsbChrLGYpPj0wKWM9IkNPTVBPVU5EX0FTU0lHTiI7ZWxzZSBpZihXLmNhbGwoTyxmKT49MCljPSJVTkFSWSI7ZWxzZSBpZihXLmNhbGwoTCxmKT49MCljPSJTSElGVCI7ZWxzZSBpZihXLmNhbGwoeCxmKT49MHx8Zj09PSI/IiYmKGIhPW51bGw/Yi5zcGFjZWQ6dm9pZCAwKSljPSJMT0dJQyI7ZWxzZSBpZihiJiYhYi5zcGFjZWQpaWYoZj09PSIoIiYmKGk9YlswXSxXLmNhbGwoZCxpKT49MCkpYlswXT09PSI/IiYmKGJbMF09IkZVTkNfRVhJU1QiKSxjPSJDQUxMX1NUQVJUIjtlbHNlIGlmKGY9PT0iWyImJihsPWJbMF0sVy5jYWxsKHIsbCk+PTApKXtjPSJJTkRFWF9TVEFSVCI7c3dpdGNoKGJbMF0pe2Nhc2UiPyI6YlswXT0iSU5ERVhfU09BSyI7YnJlYWs7Y2FzZSI6OiI6YlswXT0iSU5ERVhfUFJPVE8ifX10aGlzLnRva2VuKGMsZik7cmV0dXJuIGYubGVuZ3RofSxhLnByb3RvdHlwZS5zYW5pdGl6ZUhlcmVkb2M9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGUsZixnO2U9Yi5pbmRlbnQsZD1iLmhlcmVjb21tZW50O2lmKGQpe2lmKG0udGVzdChhKSl0aHJvdyBuZXcgRXJyb3IoJ2Jsb2NrIGNvbW1lbnQgY2Fubm90IGNvbnRhaW4gIiovIiwgc3RhcnRpbmcgb24gbGluZSAnKyh0aGlzLmxpbmUrMSkpO2lmKGEuaW5kZXhPZigiXG4iKTw9MClyZXR1cm4gYX1lbHNlIHdoaWxlKGY9bi5leGVjKGEpKXtjPWZbMV07aWYoZT09PW51bGx8fDA8KGc9Yy5sZW5ndGgpJiZnPGUubGVuZ3RoKWU9Y31lJiYoYT1hLnJlcGxhY2UoUmVnRXhwKCJcXG4iK2UsImciKSwiXG4iKSksZHx8KGE9YS5yZXBsYWNlKC9eXG4vLCIiKSk7cmV0dXJuIGF9LGEucHJvdG90eXBlLnRhZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZDtpZih0aGlzLnRhZygpIT09IikiKXJldHVybiB0aGlzO2I9W10sZD10aGlzLnRva2VucyxhPWQubGVuZ3RoLGRbLS1hXVswXT0iUEFSQU1fRU5EIjt3aGlsZShjPWRbLS1hXSlzd2l0Y2goY1swXSl7Y2FzZSIpIjpiLnB1c2goYyk7YnJlYWs7Y2FzZSIoIjpjYXNlIkNBTExfU1RBUlQiOmlmKGIubGVuZ3RoKWIucG9wKCk7ZWxzZSBpZihjWzBdPT09IigiKXtjWzBdPSJQQVJBTV9TVEFSVCI7cmV0dXJuIHRoaXN9fXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5jbG9zZUluZGVudGF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMub3V0ZGVudFRva2VuKHRoaXMuaW5kZW50KX0sYS5wcm90b3R5cGUuaWRlbnRpZmllckVycm9yPWZ1bmN0aW9uKGEpe3Rocm93IFN5bnRheEVycm9yKCdSZXNlcnZlZCB3b3JkICInK2ErJyIgb24gbGluZSAnKyh0aGlzLmxpbmUrMSkpfSxhLnByb3RvdHlwZS5hc3NpZ25tZW50RXJyb3I9ZnVuY3Rpb24oKXt0aHJvdyBTeW50YXhFcnJvcignUmVzZXJ2ZWQgd29yZCAiJyt0aGlzLnZhbHVlKCkrJyIgb24gbGluZSAnKyh0aGlzLmxpbmUrMSkrIiBjYW4ndCBiZSBhc3NpZ25lZCIpfSxhLnByb3RvdHlwZS5iYWxhbmNlZFN0cmluZz1mdW5jdGlvbihhLGIpe3ZhciBjLGQsZSxmLGc7Zj1bYl07Zm9yKGM9MSxnPWEubGVuZ3RoOzE8PWc/YzxnOmM+ZzsxPD1nP2MrKzpjLS0pe3N3aXRjaChkPWEuY2hhckF0KGMpKXtjYXNlIlxcIjpjKys7Y29udGludWU7Y2FzZSBiOmYucG9wKCk7aWYoIWYubGVuZ3RoKXJldHVybiBhLnNsaWNlKDAsYysxKTtiPWZbZi5sZW5ndGgtMV07Y29udGludWV9YiE9PSJ9Inx8ZCE9PSciJyYmZCE9PSInIj9iPT09In0iJiZkPT09InsiP2YucHVzaChiPSJ9Iik6Yj09PSciJyYmZT09PSIjIiYmZD09PSJ7IiYmZi5wdXNoKGI9In0iKTpmLnB1c2goYj1kKSxlPWR9dGhyb3cgbmV3IEVycm9yKCJtaXNzaW5nICIrZi5wb3AoKSsiLCBzdGFydGluZyBvbiBsaW5lICIrKHRoaXMubGluZSsxKSl9LGEucHJvdG90eXBlLmludGVycG9sYXRlU3RyaW5nPWZ1bmN0aW9uKGIsYyl7dmFyIGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscSxyLHMsdDtjPT1udWxsJiYoYz17fSksZT1jLmhlcmVkb2MsbT1jLnJlZ2V4LG89W10sbD0wLGY9LTE7d2hpbGUoaj1iLmNoYXJBdChmKz0xKSl7aWYoaj09PSJcXCIpe2YrPTE7Y29udGludWV9aWYoaiE9PSIjInx8Yi5jaGFyQXQoZisxKSE9PSJ7Inx8IShkPXRoaXMuYmFsYW5jZWRTdHJpbmcoYi5zbGljZShmKzEpLCJ9IikpKWNvbnRpbnVlO2w8ZiYmby5wdXNoKFsiTkVPU1RSSU5HIixiLnNsaWNlKGwsZildKSxnPWQuc2xpY2UoMSwtMSk7aWYoZy5sZW5ndGgpe2s9KG5ldyBhKS50b2tlbml6ZShnLHtsaW5lOnRoaXMubGluZSxyZXdyaXRlOiExfSksay5wb3AoKSwoKHI9a1swXSkhPW51bGw/clswXTp2b2lkIDApPT09IlRFUk1JTkFUT1IiJiZrLnNoaWZ0KCk7aWYoaT1rLmxlbmd0aClpPjEmJihrLnVuc2hpZnQoWyIoIiwiKCJdKSxrLnB1c2goWyIpIiwiKSJdKSksby5wdXNoKFsiVE9LRU5TIixrXSl9Zis9ZC5sZW5ndGgsbD1mKzF9Zj5sJiZsPGIubGVuZ3RoJiZvLnB1c2goWyJORU9TVFJJTkciLGIuc2xpY2UobCldKTtpZihtKXJldHVybiBvO2lmKCFvLmxlbmd0aClyZXR1cm4gdGhpcy50b2tlbigiU1RSSU5HIiwnIiInKTtvWzBdWzBdIT09Ik5FT1NUUklORyImJm8udW5zaGlmdChbIiIsIiJdKSwoaD1vLmxlbmd0aD4xKSYmdGhpcy50b2tlbigiKCIsIigiKTtmb3IoZj0wLHE9by5sZW5ndGg7ZjxxO2YrKylzPW9bZl0sbj1zWzBdLHA9c1sxXSxmJiZ0aGlzLnRva2VuKCIrIiwiKyIpLG49PT0iVE9LRU5TIj8odD10aGlzLnRva2VucykucHVzaC5hcHBseSh0LHApOnRoaXMudG9rZW4oIlNUUklORyIsdGhpcy5tYWtlU3RyaW5nKHAsJyInLGUpKTtoJiZ0aGlzLnRva2VuKCIpIiwiKSIpO3JldHVybiBvfSxhLnByb3RvdHlwZS50b2tlbj1mdW5jdGlvbihhLGIpe3JldHVybiB0aGlzLnRva2Vucy5wdXNoKFthLGIsdGhpcy5saW5lXSl9LGEucHJvdG90eXBlLnRhZz1mdW5jdGlvbihhLGIpe3ZhciBjO3JldHVybihjPVQodGhpcy50b2tlbnMsYSkpJiYoYj9jWzBdPWI6Y1swXSl9LGEucHJvdG90eXBlLnZhbHVlPWZ1bmN0aW9uKGEsYil7dmFyIGM7cmV0dXJuKGM9VCh0aGlzLnRva2VucyxhKSkmJihiP2NbMV09YjpjWzFdKX0sYS5wcm90b3R5cGUudW5maW5pc2hlZD1mdW5jdGlvbigpe3ZhciBhLGM7cmV0dXJuIHcudGVzdCh0aGlzLmNodW5rKXx8KGE9VCh0aGlzLnRva2VucywxKSkmJmFbMF0hPT0iLiImJihjPXRoaXMudmFsdWUoKSkmJiFjLnJlc2VydmVkJiZFLnRlc3QoYykmJiFlLnRlc3QoYykmJiFiLnRlc3QodGhpcy5jaHVuayl9LGEucHJvdG90eXBlLmVzY2FwZUxpbmVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucmVwbGFjZShBLGI/IlxcbiI6IiIpfSxhLnByb3RvdHlwZS5tYWtlU3RyaW5nPWZ1bmN0aW9uKGEsYixjKXtpZighYSlyZXR1cm4gYitiO2E9YS5yZXBsYWNlKC9cXChbXHNcU10pL2csZnVuY3Rpb24oYSxjKXtyZXR1cm4gYz09PSJcbiJ8fGM9PT1iP2M6YX0pLGE9YS5yZXBsYWNlKFJlZ0V4cCgiIitiLCJnIiksIlxcJCYiKTtyZXR1cm4gYit0aGlzLmVzY2FwZUxpbmVzKGEsYykrYn07cmV0dXJuIGF9KCksdT1bInRydWUiLCJmYWxzZSIsIm51bGwiLCJ0aGlzIiwibmV3IiwiZGVsZXRlIiwidHlwZW9mIiwiaW4iLCJpbnN0YW5jZW9mIiwicmV0dXJuIiwidGhyb3ciLCJicmVhayIsImNvbnRpbnVlIiwiZGVidWdnZXIiLCJpZiIsImVsc2UiLCJzd2l0Y2giLCJmb3IiLCJ3aGlsZSIsImRvIiwidHJ5IiwiY2F0Y2giLCJmaW5hbGx5IiwiY2xhc3MiLCJleHRlbmRzIiwic3VwZXIiXSxoPVsidW5kZWZpbmVkIiwidGhlbiIsInVubGVzcyIsInVudGlsIiwibG9vcCIsIm9mIiwiYnkiLCJ3aGVuIl0sZz17YW5kOiImJiIsb3I6Inx8IixpczoiPT0iLGlzbnQ6IiE9Iixub3Q6IiEiLHllczoidHJ1ZSIsbm86ImZhbHNlIixvbjoidHJ1ZSIsb2ZmOiJmYWxzZSJ9LGY9ZnVuY3Rpb24oKXt2YXIgYTthPVtdO2ZvcihTIGluIGcpYS5wdXNoKFMpO3JldHVybiBhfSgpLGg9aC5jb25jYXQoZiksSj1bImNhc2UiLCJkZWZhdWx0IiwiZnVuY3Rpb24iLCJ2YXIiLCJ2b2lkIiwid2l0aCIsImNvbnN0IiwibGV0IiwiZW51bSIsImV4cG9ydCIsImltcG9ydCIsIm5hdGl2ZSIsIl9faGFzUHJvcCIsIl9fZXh0ZW5kcyIsIl9fc2xpY2UiLCJfX2JpbmQiLCJfX2luZGV4T2YiXSx0PXUuY29uY2F0KEopLGEuUkVTRVJWRUQ9Si5jb25jYXQodSkuY29uY2F0KGgpLHE9L14oWyRBLVphLXpfXHg3Zi1cdWZmZmZdWyRcd1x4N2YtXHVmZmZmXSopKFteXG5cU10qOig/ITopKT8vLEY9L14weFtcZGEtZl0rfF4oPzpcZCsoXC5cZCspP3xcLlxkKykoPzplWystXT9cZCspPy9pLGw9L14oIiIifCcnJykoW1xzXFNdKj8pKD86XG5bXlxuXFNdKik/XDEvLEc9L14oPzpbLT1dPnxbLSsqXC8lPD4mfF4hPz1dPXw+Pj49P3woWy0rOl0pXDF8KFsmfDw+XSlcMj0/fFw/XC58XC57MiwzfSkvLFA9L15bXlxuXFNdKy8saT0vXiMjIyhbXiNdW1xzXFNdKj8pKD86IyMjW15cblxTXSp8KD86IyMjKT8kKXxeKD86XHMqIyg/ISMjW14jXSkuKikrLyxlPS9eWy09XT4vLEI9L14oPzpcblteXG5cU10qKSsvLE09L14nW15cXCddKig/OlxcLlteXFwnXSopKicvLHM9L15gW15cXGBdKig/OlxcLlteXFxgXSopKmAvLEg9L15cLyg/IVtccz1dKVteW1wvXG5cXF0qKD86KD86XFxbXHNcU118XFtbXlxdXG5cXF0qKD86XFxbXHNcU11bXlxdXG5cXF0qKSpdKVteW1wvXG5cXF0qKSpcL1tpbWd5XXswLDR9KD8hXHcpLyxvPS9eXC97M30oW1xzXFNdKz8pXC97M30oW2ltZ3ldezAsNH0pKD8hXHcpLyxwPS9ccysoPzojLiopPy9nLEE9L1xuL2csbj0vXG4rKFteXG5cU10qKS9nLG09L1wqXC8vLGI9L15ccypAPyhbJEEtWmEtel9dWyRcd1x4N2YtXHVmZmZmXSp8WyciXS4qWyciXSlbXlxuXFNdKj9bOj1dW146PT5dLyx3PS9eXHMqKD86LHxcPz9cLig/IVsuXGRdKXw6OikvLE49L1xzKyQvLEU9L14oPzpbLSsqJnxcLyU9PD4hLlxcXVs8Pj0mfF0qfGFuZHxvcnxpcyg/Om50KT98big/Om90fGV3KXxkZWxldGV8dHlwZW9mfGluc3RhbmNlb2YpJC8saz1bIi09IiwiKz0iLCIvPSIsIio9IiwiJT0iLCJ8fD0iLCImJj0iLCI/PSIsIjw8PSIsIj4+PSIsIj4+Pj0iLCImPSIsIl49IiwifD0iXSxPPVsiISIsIn4iLCJORVciLCJUWVBFT0YiLCJERUxFVEUiLCJETyJdLHg9WyImJiIsInx8IiwiJiIsInwiLCJeIl0sTD1bIjw8IiwiPj4iLCI+Pj4iXSxqPVsiPT0iLCIhPSIsIjwiLCI+IiwiPD0iLCI+PSJdLHo9WyIqIiwiLyIsIiUiXSxJPVsiSU4iLCJPRiIsIklOU1RBTkNFT0YiXSxjPVsiVFJVRSIsIkZBTFNFIiwiTlVMTCIsIlVOREVGSU5FRCJdLEM9WyJOVU1CRVIiLCJSRUdFWCIsIkJPT0wiLCIrKyIsIi0tIiwiXSJdLEQ9Qy5jb25jYXQoIikiLCJ9IiwiVEhJUyIsIklERU5USUZJRVIiLCJTVFJJTkciKSxkPVsiSURFTlRJRklFUiIsIlNUUklORyIsIlJFR0VYIiwiKSIsIl0iLCJ9IiwiPyIsIjo6IiwiQCIsIlRISVMiLCJTVVBFUiJdLHI9ZC5jb25jYXQoIk5VTUJFUiIsIkJPT0wiKSx2PVsiSU5ERU5UIiwiT1VUREVOVCIsIlRFUk1JTkFUT1IiXX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbIi4vcGFyc2VyIl09bmV3IGZ1bmN0aW9uKCl7dmFyIGE9dGhpcyxiPWZ1bmN0aW9uKCl7dmFyIGE9e3RyYWNlOmZ1bmN0aW9uKCl7fSx5eTp7fSxzeW1ib2xzXzp7ZXJyb3I6MixSb290OjMsQm9keTo0LEJsb2NrOjUsVEVSTUlOQVRPUjo2LExpbmU6NyxFeHByZXNzaW9uOjgsU3RhdGVtZW50OjksUmV0dXJuOjEwLFRocm93OjExLENvbW1lbnQ6MTIsU1RBVEVNRU5UOjEzLFZhbHVlOjE0LEludm9jYXRpb246MTUsQ29kZToxNixPcGVyYXRpb246MTcsQXNzaWduOjE4LElmOjE5LFRyeToyMCxXaGlsZToyMSxGb3I6MjIsU3dpdGNoOjIzLENsYXNzOjI0LElOREVOVDoyNSxPVVRERU5UOjI2LElkZW50aWZpZXI6MjcsSURFTlRJRklFUjoyOCxBbHBoYU51bWVyaWM6MjksTlVNQkVSOjMwLFNUUklORzozMSxMaXRlcmFsOjMyLEpTOjMzLFJFR0VYOjM0LEJPT0w6MzUsQXNzaWduYWJsZTozNiwiPSI6MzcsQXNzaWduT2JqOjM4LE9iakFzc2lnbmFibGU6MzksIjoiOjQwLFRoaXNQcm9wZXJ0eTo0MSxSRVRVUk46NDIsSEVSRUNPTU1FTlQ6NDMsUEFSQU1fU1RBUlQ6NDQsUGFyYW1MaXN0OjQ1LFBBUkFNX0VORDo0NixGdW5jR2x5cGg6NDcsIi0+Ijo0OCwiPT4iOjQ5LE9wdENvbW1hOjUwLCIsIjo1MSxQYXJhbTo1MixQYXJhbVZhcjo1MywiLi4uIjo1NCxBcnJheTo1NSxPYmplY3Q6NTYsU3BsYXQ6NTcsU2ltcGxlQXNzaWduYWJsZTo1OCxBY2Nlc3Nvcjo1OSxQYXJlbnRoZXRpY2FsOjYwLFJhbmdlOjYxLFRoaXM6NjIsIi4iOjYzLCI/LiI6NjQsIjo6Ijo2NSxJbmRleDo2NixJTkRFWF9TVEFSVDo2NyxJbmRleFZhbHVlOjY4LElOREVYX0VORDo2OSxJTkRFWF9TT0FLOjcwLElOREVYX1BST1RPOjcxLFNsaWNlOjcyLCJ7Ijo3MyxBc3NpZ25MaXN0Ojc0LCJ9Ijo3NSxDTEFTUzo3NixFWFRFTkRTOjc3LE9wdEZ1bmNFeGlzdDo3OCxBcmd1bWVudHM6NzksU1VQRVI6ODAsRlVOQ19FWElTVDo4MSxDQUxMX1NUQVJUOjgyLENBTExfRU5EOjgzLEFyZ0xpc3Q6ODQsVEhJUzo4NSwiQCI6ODYsIlsiOjg3LCJdIjo4OCxSYW5nZURvdHM6ODksIi4uIjo5MCxBcmc6OTEsU2ltcGxlQXJnczo5MixUUlk6OTMsQ2F0Y2g6OTQsRklOQUxMWTo5NSxDQVRDSDo5NixUSFJPVzo5NywiKCI6OTgsIikiOjk5LFdoaWxlU291cmNlOjEwMCxXSElMRToxMDEsV0hFTjoxMDIsVU5USUw6MTAzLExvb3A6MTA0LExPT1A6MTA1LEZvckJvZHk6MTA2LEZPUjoxMDcsRm9yU3RhcnQ6MTA4LEZvclNvdXJjZToxMDksRm9yVmFyaWFibGVzOjExMCxPV046MTExLEZvclZhbHVlOjExMixGT1JJTjoxMTMsRk9ST0Y6MTE0LEJZOjExNSxTV0lUQ0g6MTE2LFdoZW5zOjExNyxFTFNFOjExOCxXaGVuOjExOSxMRUFESU5HX1dIRU46MTIwLElmQmxvY2s6MTIxLElGOjEyMixQT1NUX0lGOjEyMyxVTkFSWToxMjQsIi0iOjEyNSwiKyI6MTI2LCItLSI6MTI3LCIrKyI6MTI4LCI/IjoxMjksTUFUSDoxMzAsU0hJRlQ6MTMxLENPTVBBUkU6MTMyLExPR0lDOjEzMyxSRUxBVElPTjoxMzQsQ09NUE9VTkRfQVNTSUdOOjEzNSwkYWNjZXB0OjAsJGVuZDoxfSx0ZXJtaW5hbHNfOnsyOiJlcnJvciIsNjoiVEVSTUlOQVRPUiIsMTM6IlNUQVRFTUVOVCIsMjU6IklOREVOVCIsMjY6Ik9VVERFTlQiLDI4OiJJREVOVElGSUVSIiwzMDoiTlVNQkVSIiwzMToiU1RSSU5HIiwzMzoiSlMiLDM0OiJSRUdFWCIsMzU6IkJPT0wiLDM3OiI9Iiw0MDoiOiIsNDI6IlJFVFVSTiIsNDM6IkhFUkVDT01NRU5UIiw0NDoiUEFSQU1fU1RBUlQiLDQ2OiJQQVJBTV9FTkQiLDQ4OiItPiIsNDk6Ij0+Iiw1MToiLCIsNTQ6Ii4uLiIsNjM6Ii4iLDY0OiI/LiIsNjU6Ijo6Iiw2NzoiSU5ERVhfU1RBUlQiLDY5OiJJTkRFWF9FTkQiLDcwOiJJTkRFWF9TT0FLIiw3MToiSU5ERVhfUFJPVE8iLDczOiJ7Iiw3NToifSIsNzY6IkNMQVNTIiw3NzoiRVhURU5EUyIsODA6IlNVUEVSIiw4MToiRlVOQ19FWElTVCIsODI6IkNBTExfU1RBUlQiLDgzOiJDQUxMX0VORCIsODU6IlRISVMiLDg2OiJAIiw4NzoiWyIsODg6Il0iLDkwOiIuLiIsOTM6IlRSWSIsOTU6IkZJTkFMTFkiLDk2OiJDQVRDSCIsOTc6IlRIUk9XIiw5ODoiKCIsOTk6IikiLDEwMToiV0hJTEUiLDEwMjoiV0hFTiIsMTAzOiJVTlRJTCIsMTA1OiJMT09QIiwxMDc6IkZPUiIsMTExOiJPV04iLDExMzoiRk9SSU4iLDExNDoiRk9ST0YiLDExNToiQlkiLDExNjoiU1dJVENIIiwxMTg6IkVMU0UiLDEyMDoiTEVBRElOR19XSEVOIiwxMjI6IklGIiwxMjM6IlBPU1RfSUYiLDEyNDoiVU5BUlkiLDEyNToiLSIsMTI2OiIrIiwxMjc6Ii0tIiwxMjg6IisrIiwxMjk6Ij8iLDEzMDoiTUFUSCIsMTMxOiJTSElGVCIsMTMyOiJDT01QQVJFIiwxMzM6IkxPR0lDIiwxMzQ6IlJFTEFUSU9OIiwxMzU6IkNPTVBPVU5EX0FTU0lHTiJ9LHByb2R1Y3Rpb25zXzpbMCxbMywwXSxbMywxXSxbMywyXSxbNCwxXSxbNCwzXSxbNCwyXSxbNywxXSxbNywxXSxbOSwxXSxbOSwxXSxbOSwxXSxbOSwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbOCwxXSxbNSwyXSxbNSwzXSxbMjcsMV0sWzI5LDFdLFsyOSwxXSxbMzIsMV0sWzMyLDFdLFszMiwxXSxbMzIsMV0sWzE4LDNdLFsxOCw1XSxbMzgsMV0sWzM4LDNdLFszOCw1XSxbMzgsMV0sWzM5LDFdLFszOSwxXSxbMzksMV0sWzEwLDJdLFsxMCwxXSxbMTIsMV0sWzE2LDVdLFsxNiwyXSxbNDcsMV0sWzQ3LDFdLFs1MCwwXSxbNTAsMV0sWzQ1LDBdLFs0NSwxXSxbNDUsM10sWzUyLDFdLFs1MiwyXSxbNTIsM10sWzUzLDFdLFs1MywxXSxbNTMsMV0sWzUzLDFdLFs1NywyXSxbNTgsMV0sWzU4LDJdLFs1OCwyXSxbNTgsMV0sWzM2LDFdLFszNiwxXSxbMzYsMV0sWzE0LDFdLFsxNCwxXSxbMTQsMV0sWzE0LDFdLFsxNCwxXSxbNTksMl0sWzU5LDJdLFs1OSwyXSxbNTksMV0sWzU5LDFdLFs2NiwzXSxbNjYsMl0sWzY2LDJdLFs2OCwxXSxbNjgsMV0sWzU2LDRdLFs3NCwwXSxbNzQsMV0sWzc0LDNdLFs3NCw0XSxbNzQsNl0sWzI0LDFdLFsyNCwyXSxbMjQsM10sWzI0LDRdLFsyNCwyXSxbMjQsM10sWzI0LDRdLFsyNCw1XSxbMTUsM10sWzE1LDNdLFsxNSwxXSxbMTUsMl0sWzc4LDBdLFs3OCwxXSxbNzksMl0sWzc5LDRdLFs2MiwxXSxbNjIsMV0sWzQxLDJdLFs1NSwyXSxbNTUsNF0sWzg5LDFdLFs4OSwxXSxbNjEsNV0sWzcyLDNdLFs3MiwyXSxbNzIsMl0sWzg0LDFdLFs4NCwzXSxbODQsNF0sWzg0LDRdLFs4NCw2XSxbOTEsMV0sWzkxLDFdLFs5MiwxXSxbOTIsM10sWzIwLDJdLFsyMCwzXSxbMjAsNF0sWzIwLDVdLFs5NCwzXSxbMTEsMl0sWzYwLDNdLFs2MCw1XSxbMTAwLDJdLFsxMDAsNF0sWzEwMCwyXSxbMTAwLDRdLFsyMSwyXSxbMjEsMl0sWzIxLDJdLFsyMSwxXSxbMTA0LDJdLFsxMDQsMl0sWzIyLDJdLFsyMiwyXSxbMjIsMl0sWzEwNiwyXSxbMTA2LDJdLFsxMDgsMl0sWzEwOCwzXSxbMTEyLDFdLFsxMTIsMV0sWzExMiwxXSxbMTEwLDFdLFsxMTAsM10sWzEwOSwyXSxbMTA5LDJdLFsxMDksNF0sWzEwOSw0XSxbMTA5LDRdLFsxMDksNl0sWzEwOSw2XSxbMjMsNV0sWzIzLDddLFsyMyw0XSxbMjMsNl0sWzExNywxXSxbMTE3LDJdLFsxMTksM10sWzExOSw0XSxbMTIxLDNdLFsxMjEsNV0sWzE5LDFdLFsxOSwzXSxbMTksM10sWzE5LDNdLFsxNywyXSxbMTcsMl0sWzE3LDJdLFsxNywyXSxbMTcsMl0sWzE3LDJdLFsxNywyXSxbMTcsMl0sWzE3LDNdLFsxNywzXSxbMTcsM10sWzE3LDNdLFsxNywzXSxbMTcsM10sWzE3LDNdLFsxNywzXSxbMTcsNV0sWzE3LDNdXSxwZXJmb3JtQWN0aW9uOmZ1bmN0aW9uKGEsYixjLGQsZSxmLGcpe3ZhciBoPWYubGVuZ3RoLTE7c3dpdGNoKGUpe2Nhc2UgMTpyZXR1cm4gdGhpcy4kPW5ldyBkLkJsb2NrO2Nhc2UgMjpyZXR1cm4gdGhpcy4kPWZbaF07Y2FzZSAzOnJldHVybiB0aGlzLiQ9ZltoLTFdO2Nhc2UgNDp0aGlzLiQ9ZC5CbG9jay53cmFwKFtmW2hdXSk7YnJlYWs7Y2FzZSA1OnRoaXMuJD1mW2gtMl0ucHVzaChmW2hdKTticmVhaztjYXNlIDY6dGhpcy4kPWZbaC0xXTticmVhaztjYXNlIDc6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA4OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgOTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDEwOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTE6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAxMjp0aGlzLiQ9bmV3IGQuTGl0ZXJhbChmW2hdKTticmVhaztjYXNlIDEzOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTQ6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAxNTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDE2OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTc6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAxODp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDE5OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMjA6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAyMTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDIyOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMjM6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAyNDp0aGlzLiQ9bmV3IGQuQmxvY2s7YnJlYWs7Y2FzZSAyNTp0aGlzLiQ9ZltoLTFdO2JyZWFrO2Nhc2UgMjY6dGhpcy4kPW5ldyBkLkxpdGVyYWwoZltoXSk7YnJlYWs7Y2FzZSAyNzp0aGlzLiQ9bmV3IGQuTGl0ZXJhbChmW2hdKTticmVhaztjYXNlIDI4OnRoaXMuJD1uZXcgZC5MaXRlcmFsKGZbaF0pO2JyZWFrO2Nhc2UgMjk6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAzMDp0aGlzLiQ9bmV3IGQuTGl0ZXJhbChmW2hdKTticmVhaztjYXNlIDMxOnRoaXMuJD1uZXcgZC5MaXRlcmFsKGZbaF0pO2JyZWFrO2Nhc2UgMzI6dGhpcy4kPWZ1bmN0aW9uKCl7dmFyIGE7YT1uZXcgZC5MaXRlcmFsKGZbaF0pLGZbaF09PT0idW5kZWZpbmVkIiYmKGEuaXNVbmRlZmluZWQ9ITApO3JldHVybiBhfSgpO2JyZWFrO2Nhc2UgMzM6dGhpcy4kPW5ldyBkLkFzc2lnbihmW2gtMl0sZltoXSk7YnJlYWs7Y2FzZSAzNDp0aGlzLiQ9bmV3IGQuQXNzaWduKGZbaC00XSxmW2gtMV0pO2JyZWFrO2Nhc2UgMzU6dGhpcy4kPW5ldyBkLlZhbHVlKGZbaF0pO2JyZWFrO2Nhc2UgMzY6dGhpcy4kPW5ldyBkLkFzc2lnbihuZXcgZC5WYWx1ZShmW2gtMl0pLGZbaF0sIm9iamVjdCIpO2JyZWFrO2Nhc2UgMzc6dGhpcy4kPW5ldyBkLkFzc2lnbihuZXcgZC5WYWx1ZShmW2gtNF0pLGZbaC0xXSwib2JqZWN0Iik7YnJlYWs7Y2FzZSAzODp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDM5OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgNDA6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA0MTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDQyOnRoaXMuJD1uZXcgZC5SZXR1cm4oZltoXSk7YnJlYWs7Y2FzZSA0Mzp0aGlzLiQ9bmV3IGQuUmV0dXJuO2JyZWFrO2Nhc2UgNDQ6dGhpcy4kPW5ldyBkLkNvbW1lbnQoZltoXSk7YnJlYWs7Y2FzZSA0NTp0aGlzLiQ9bmV3IGQuQ29kZShmW2gtM10sZltoXSxmW2gtMV0pO2JyZWFrO2Nhc2UgNDY6dGhpcy4kPW5ldyBkLkNvZGUoW10sZltoXSxmW2gtMV0pO2JyZWFrO2Nhc2UgNDc6dGhpcy4kPSJmdW5jIjticmVhaztjYXNlIDQ4OnRoaXMuJD0iYm91bmRmdW5jIjticmVhaztjYXNlIDQ5OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgNTA6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA1MTp0aGlzLiQ9W107YnJlYWs7Y2FzZSA1Mjp0aGlzLiQ9W2ZbaF1dO2JyZWFrO2Nhc2UgNTM6dGhpcy4kPWZbaC0yXS5jb25jYXQoZltoXSk7YnJlYWs7Y2FzZSA1NDp0aGlzLiQ9bmV3IGQuUGFyYW0oZltoXSk7YnJlYWs7Y2FzZSA1NTp0aGlzLiQ9bmV3IGQuUGFyYW0oZltoLTFdLG51bGwsITApO2JyZWFrO2Nhc2UgNTY6dGhpcy4kPW5ldyBkLlBhcmFtKGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDU3OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgNTg6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA1OTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDYwOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgNjE6dGhpcy4kPW5ldyBkLlNwbGF0KGZbaC0xXSk7YnJlYWs7Y2FzZSA2Mjp0aGlzLiQ9bmV3IGQuVmFsdWUoZltoXSk7YnJlYWs7Y2FzZSA2Mzp0aGlzLiQ9ZltoLTFdLnB1c2goZltoXSk7YnJlYWs7Y2FzZSA2NDp0aGlzLiQ9bmV3IGQuVmFsdWUoZltoLTFdLFtmW2hdXSk7YnJlYWs7Y2FzZSA2NTp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDY2OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgNjc6dGhpcy4kPW5ldyBkLlZhbHVlKGZbaF0pO2JyZWFrO2Nhc2UgNjg6dGhpcy4kPW5ldyBkLlZhbHVlKGZbaF0pO2JyZWFrO2Nhc2UgNjk6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA3MDp0aGlzLiQ9bmV3IGQuVmFsdWUoZltoXSk7YnJlYWs7Y2FzZSA3MTp0aGlzLiQ9bmV3IGQuVmFsdWUoZltoXSk7YnJlYWs7Y2FzZSA3Mjp0aGlzLiQ9bmV3IGQuVmFsdWUoZltoXSk7YnJlYWs7Y2FzZSA3Mzp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDc0OnRoaXMuJD1uZXcgZC5BY2Nlc3MoZltoXSk7YnJlYWs7Y2FzZSA3NTp0aGlzLiQ9bmV3IGQuQWNjZXNzKGZbaF0sInNvYWsiKTticmVhaztjYXNlIDc2OnRoaXMuJD1uZXcgZC5BY2Nlc3MoZltoXSwicHJvdG8iKTticmVhaztjYXNlIDc3OnRoaXMuJD1uZXcgZC5BY2Nlc3MobmV3IGQuTGl0ZXJhbCgicHJvdG90eXBlIikpO2JyZWFrO2Nhc2UgNzg6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSA3OTp0aGlzLiQ9ZltoLTFdO2JyZWFrO2Nhc2UgODA6dGhpcy4kPWQuZXh0ZW5kKGZbaF0se3NvYWs6ITB9KTticmVhaztjYXNlIDgxOnRoaXMuJD1kLmV4dGVuZChmW2hdLHtwcm90bzohMH0pO2JyZWFrO2Nhc2UgODI6dGhpcy4kPW5ldyBkLkluZGV4KGZbaF0pO2JyZWFrO2Nhc2UgODM6dGhpcy4kPW5ldyBkLlNsaWNlKGZbaF0pO2JyZWFrO2Nhc2UgODQ6dGhpcy4kPW5ldyBkLk9iaihmW2gtMl0sZltoLTNdLmdlbmVyYXRlZCk7YnJlYWs7Y2FzZSA4NTp0aGlzLiQ9W107YnJlYWs7Y2FzZSA4Njp0aGlzLiQ9W2ZbaF1dO2JyZWFrO2Nhc2UgODc6dGhpcy4kPWZbaC0yXS5jb25jYXQoZltoXSk7YnJlYWs7Y2FzZSA4ODp0aGlzLiQ9ZltoLTNdLmNvbmNhdChmW2hdKTticmVhaztjYXNlIDg5OnRoaXMuJD1mW2gtNV0uY29uY2F0KGZbaC0yXSk7YnJlYWs7Y2FzZSA5MDp0aGlzLiQ9bmV3IGQuQ2xhc3M7YnJlYWs7Y2FzZSA5MTp0aGlzLiQ9bmV3IGQuQ2xhc3MobnVsbCxudWxsLGZbaF0pO2JyZWFrO2Nhc2UgOTI6dGhpcy4kPW5ldyBkLkNsYXNzKG51bGwsZltoXSk7YnJlYWs7Y2FzZSA5Mzp0aGlzLiQ9bmV3IGQuQ2xhc3MobnVsbCxmW2gtMV0sZltoXSk7YnJlYWs7Y2FzZSA5NDp0aGlzLiQ9bmV3IGQuQ2xhc3MoZltoXSk7YnJlYWs7Y2FzZSA5NTp0aGlzLiQ9bmV3IGQuQ2xhc3MoZltoLTFdLG51bGwsZltoXSk7YnJlYWs7Y2FzZSA5Njp0aGlzLiQ9bmV3IGQuQ2xhc3MoZltoLTJdLGZbaF0pO2JyZWFrO2Nhc2UgOTc6dGhpcy4kPW5ldyBkLkNsYXNzKGZbaC0zXSxmW2gtMV0sZltoXSk7YnJlYWs7Y2FzZSA5ODp0aGlzLiQ9bmV3IGQuQ2FsbChmW2gtMl0sZltoXSxmW2gtMV0pO2JyZWFrO2Nhc2UgOTk6dGhpcy4kPW5ldyBkLkNhbGwoZltoLTJdLGZbaF0sZltoLTFdKTticmVhaztjYXNlIDEwMDp0aGlzLiQ9bmV3IGQuQ2FsbCgic3VwZXIiLFtuZXcgZC5TcGxhdChuZXcgZC5MaXRlcmFsKCJhcmd1bWVudHMiKSldKTticmVhaztjYXNlIDEwMTp0aGlzLiQ9bmV3IGQuQ2FsbCgic3VwZXIiLGZbaF0pO2JyZWFrO2Nhc2UgMTAyOnRoaXMuJD0hMTticmVhaztjYXNlIDEwMzp0aGlzLiQ9ITA7YnJlYWs7Y2FzZSAxMDQ6dGhpcy4kPVtdO2JyZWFrO2Nhc2UgMTA1OnRoaXMuJD1mW2gtMl07YnJlYWs7Y2FzZSAxMDY6dGhpcy4kPW5ldyBkLlZhbHVlKG5ldyBkLkxpdGVyYWwoInRoaXMiKSk7YnJlYWs7Y2FzZSAxMDc6dGhpcy4kPW5ldyBkLlZhbHVlKG5ldyBkLkxpdGVyYWwoInRoaXMiKSk7YnJlYWs7Y2FzZSAxMDg6dGhpcy4kPW5ldyBkLlZhbHVlKG5ldyBkLkxpdGVyYWwoInRoaXMiKSxbbmV3IGQuQWNjZXNzKGZbaF0pXSwidGhpcyIpO2JyZWFrO2Nhc2UgMTA5OnRoaXMuJD1uZXcgZC5BcnIoW10pO2JyZWFrO2Nhc2UgMTEwOnRoaXMuJD1uZXcgZC5BcnIoZltoLTJdKTticmVhaztjYXNlIDExMTp0aGlzLiQ9ImluY2x1c2l2ZSI7YnJlYWs7Y2FzZSAxMTI6dGhpcy4kPSJleGNsdXNpdmUiO2JyZWFrO2Nhc2UgMTEzOnRoaXMuJD1uZXcgZC5SYW5nZShmW2gtM10sZltoLTFdLGZbaC0yXSk7YnJlYWs7Y2FzZSAxMTQ6dGhpcy4kPW5ldyBkLlJhbmdlKGZbaC0yXSxmW2hdLGZbaC0xXSk7YnJlYWs7Y2FzZSAxMTU6dGhpcy4kPW5ldyBkLlJhbmdlKGZbaC0xXSxudWxsLGZbaF0pO2JyZWFrO2Nhc2UgMTE2OnRoaXMuJD1uZXcgZC5SYW5nZShudWxsLGZbaF0sZltoLTFdKTticmVhaztjYXNlIDExNzp0aGlzLiQ9W2ZbaF1dO2JyZWFrO2Nhc2UgMTE4OnRoaXMuJD1mW2gtMl0uY29uY2F0KGZbaF0pO2JyZWFrO2Nhc2UgMTE5OnRoaXMuJD1mW2gtM10uY29uY2F0KGZbaF0pO2JyZWFrO2Nhc2UgMTIwOnRoaXMuJD1mW2gtMl07YnJlYWs7Y2FzZSAxMjE6dGhpcy4kPWZbaC01XS5jb25jYXQoZltoLTJdKTticmVhaztjYXNlIDEyMjp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDEyMzp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDEyNDp0aGlzLiQ9ZltoXTticmVhaztjYXNlIDEyNTp0aGlzLiQ9W10uY29uY2F0KGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDEyNjp0aGlzLiQ9bmV3IGQuVHJ5KGZbaF0pO2JyZWFrO2Nhc2UgMTI3OnRoaXMuJD1uZXcgZC5UcnkoZltoLTFdLGZbaF1bMF0sZltoXVsxXSk7YnJlYWs7Y2FzZSAxMjg6dGhpcy4kPW5ldyBkLlRyeShmW2gtMl0sbnVsbCxudWxsLGZbaF0pO2JyZWFrO2Nhc2UgMTI5OnRoaXMuJD1uZXcgZC5UcnkoZltoLTNdLGZbaC0yXVswXSxmW2gtMl1bMV0sZltoXSk7YnJlYWs7Y2FzZSAxMzA6dGhpcy4kPVtmW2gtMV0sZltoXV07YnJlYWs7Y2FzZSAxMzE6dGhpcy4kPW5ldyBkLlRocm93KGZbaF0pO2JyZWFrO2Nhc2UgMTMyOnRoaXMuJD1uZXcgZC5QYXJlbnMoZltoLTFdKTticmVhaztjYXNlIDEzMzp0aGlzLiQ9bmV3IGQuUGFyZW5zKGZbaC0yXSk7YnJlYWs7Y2FzZSAxMzQ6dGhpcy4kPW5ldyBkLldoaWxlKGZbaF0pO2JyZWFrO2Nhc2UgMTM1OnRoaXMuJD1uZXcgZC5XaGlsZShmW2gtMl0se2d1YXJkOmZbaF19KTticmVhaztjYXNlIDEzNjp0aGlzLiQ9bmV3IGQuV2hpbGUoZltoXSx7aW52ZXJ0OiEwfSk7YnJlYWs7Y2FzZSAxMzc6dGhpcy4kPW5ldyBkLldoaWxlKGZbaC0yXSx7aW52ZXJ0OiEwLGd1YXJkOmZbaF19KTticmVhaztjYXNlIDEzODp0aGlzLiQ9ZltoLTFdLmFkZEJvZHkoZltoXSk7YnJlYWs7Y2FzZSAxMzk6dGhpcy4kPWZbaF0uYWRkQm9keShkLkJsb2NrLndyYXAoW2ZbaC0xXV0pKTticmVhaztjYXNlIDE0MDp0aGlzLiQ9ZltoXS5hZGRCb2R5KGQuQmxvY2sud3JhcChbZltoLTFdXSkpO2JyZWFrO2Nhc2UgMTQxOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTQyOnRoaXMuJD0obmV3IGQuV2hpbGUobmV3IGQuTGl0ZXJhbCgidHJ1ZSIpKSkuYWRkQm9keShmW2hdKTticmVhaztjYXNlIDE0Mzp0aGlzLiQ9KG5ldyBkLldoaWxlKG5ldyBkLkxpdGVyYWwoInRydWUiKSkpLmFkZEJvZHkoZC5CbG9jay53cmFwKFtmW2hdXSkpO2JyZWFrO2Nhc2UgMTQ0OnRoaXMuJD1uZXcgZC5Gb3IoZltoLTFdLGZbaF0pO2JyZWFrO2Nhc2UgMTQ1OnRoaXMuJD1uZXcgZC5Gb3IoZltoLTFdLGZbaF0pO2JyZWFrO2Nhc2UgMTQ2OnRoaXMuJD1uZXcgZC5Gb3IoZltoXSxmW2gtMV0pO2JyZWFrO2Nhc2UgMTQ3OnRoaXMuJD17c291cmNlOm5ldyBkLlZhbHVlKGZbaF0pfTticmVhaztjYXNlIDE0ODp0aGlzLiQ9ZnVuY3Rpb24oKXtmW2hdLm93bj1mW2gtMV0ub3duLGZbaF0ubmFtZT1mW2gtMV1bMF0sZltoXS5pbmRleD1mW2gtMV1bMV07cmV0dXJuIGZbaF19KCk7YnJlYWs7Y2FzZSAxNDk6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAxNTA6dGhpcy4kPWZ1bmN0aW9uKCl7ZltoXS5vd249ITA7cmV0dXJuIGZbaF19KCk7YnJlYWs7Y2FzZSAxNTE6dGhpcy4kPWZbaF07YnJlYWs7Y2FzZSAxNTI6dGhpcy4kPW5ldyBkLlZhbHVlKGZbaF0pO2JyZWFrO2Nhc2UgMTUzOnRoaXMuJD1uZXcgZC5WYWx1ZShmW2hdKTticmVhaztjYXNlIDE1NDp0aGlzLiQ9W2ZbaF1dO2JyZWFrO2Nhc2UgMTU1OnRoaXMuJD1bZltoLTJdLGZbaF1dO2JyZWFrO2Nhc2UgMTU2OnRoaXMuJD17c291cmNlOmZbaF19O2JyZWFrO2Nhc2UgMTU3OnRoaXMuJD17c291cmNlOmZbaF0sb2JqZWN0OiEwfTticmVhaztjYXNlIDE1ODp0aGlzLiQ9e3NvdXJjZTpmW2gtMl0sZ3VhcmQ6ZltoXX07YnJlYWs7Y2FzZSAxNTk6dGhpcy4kPXtzb3VyY2U6ZltoLTJdLGd1YXJkOmZbaF0sb2JqZWN0OiEwfTticmVhaztjYXNlIDE2MDp0aGlzLiQ9e3NvdXJjZTpmW2gtMl0sc3RlcDpmW2hdfTticmVhaztjYXNlIDE2MTp0aGlzLiQ9e3NvdXJjZTpmW2gtNF0sZ3VhcmQ6ZltoLTJdLHN0ZXA6ZltoXX07YnJlYWs7Y2FzZSAxNjI6dGhpcy4kPXtzb3VyY2U6ZltoLTRdLHN0ZXA6ZltoLTJdLGd1YXJkOmZbaF19O2JyZWFrO2Nhc2UgMTYzOnRoaXMuJD1uZXcgZC5Td2l0Y2goZltoLTNdLGZbaC0xXSk7YnJlYWs7Y2FzZSAxNjQ6dGhpcy4kPW5ldyBkLlN3aXRjaChmW2gtNV0sZltoLTNdLGZbaC0xXSk7YnJlYWs7Y2FzZSAxNjU6dGhpcy4kPW5ldyBkLlN3aXRjaChudWxsLGZbaC0xXSk7YnJlYWs7Y2FzZSAxNjY6dGhpcy4kPW5ldyBkLlN3aXRjaChudWxsLGZbaC0zXSxmW2gtMV0pO2JyZWFrO2Nhc2UgMTY3OnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTY4OnRoaXMuJD1mW2gtMV0uY29uY2F0KGZbaF0pO2JyZWFrO2Nhc2UgMTY5OnRoaXMuJD1bW2ZbaC0xXSxmW2hdXV07YnJlYWs7Y2FzZSAxNzA6dGhpcy4kPVtbZltoLTJdLGZbaC0xXV1dO2JyZWFrO2Nhc2UgMTcxOnRoaXMuJD1uZXcgZC5JZihmW2gtMV0sZltoXSx7dHlwZTpmW2gtMl19KTticmVhaztjYXNlIDE3Mjp0aGlzLiQ9ZltoLTRdLmFkZEVsc2UobmV3IGQuSWYoZltoLTFdLGZbaF0se3R5cGU6ZltoLTJdfSkpO2JyZWFrO2Nhc2UgMTczOnRoaXMuJD1mW2hdO2JyZWFrO2Nhc2UgMTc0OnRoaXMuJD1mW2gtMl0uYWRkRWxzZShmW2hdKTticmVhaztjYXNlIDE3NTp0aGlzLiQ9bmV3IGQuSWYoZltoXSxkLkJsb2NrLndyYXAoW2ZbaC0yXV0pLHt0eXBlOmZbaC0xXSxzdGF0ZW1lbnQ6ITB9KTticmVhaztjYXNlIDE3Njp0aGlzLiQ9bmV3IGQuSWYoZltoXSxkLkJsb2NrLndyYXAoW2ZbaC0yXV0pLHt0eXBlOmZbaC0xXSxzdGF0ZW1lbnQ6ITB9KTticmVhaztjYXNlIDE3Nzp0aGlzLiQ9bmV3IGQuT3AoZltoLTFdLGZbaF0pO2JyZWFrO2Nhc2UgMTc4OnRoaXMuJD1uZXcgZC5PcCgiLSIsZltoXSk7YnJlYWs7Y2FzZSAxNzk6dGhpcy4kPW5ldyBkLk9wKCIrIixmW2hdKTticmVhaztjYXNlIDE4MDp0aGlzLiQ9bmV3IGQuT3AoIi0tIixmW2hdKTticmVhaztjYXNlIDE4MTp0aGlzLiQ9bmV3IGQuT3AoIisrIixmW2hdKTticmVhaztjYXNlIDE4Mjp0aGlzLiQ9bmV3IGQuT3AoIi0tIixmW2gtMV0sbnVsbCwhMCk7YnJlYWs7Y2FzZSAxODM6dGhpcy4kPW5ldyBkLk9wKCIrKyIsZltoLTFdLG51bGwsITApO2JyZWFrO2Nhc2UgMTg0OnRoaXMuJD1uZXcgZC5FeGlzdGVuY2UoZltoLTFdKTticmVhaztjYXNlIDE4NTp0aGlzLiQ9bmV3IGQuT3AoIisiLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE4Njp0aGlzLiQ9bmV3IGQuT3AoIi0iLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE4Nzp0aGlzLiQ9bmV3IGQuT3AoZltoLTFdLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE4ODp0aGlzLiQ9bmV3IGQuT3AoZltoLTFdLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE4OTp0aGlzLiQ9bmV3IGQuT3AoZltoLTFdLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE5MDp0aGlzLiQ9bmV3IGQuT3AoZltoLTFdLGZbaC0yXSxmW2hdKTticmVhaztjYXNlIDE5MTp0aGlzLiQ9ZnVuY3Rpb24oKXtyZXR1cm4gZltoLTFdLmNoYXJBdCgwKT09PSIhIj8obmV3IGQuT3AoZltoLTFdLnNsaWNlKDEpLGZbaC0yXSxmW2hdKSkuaW52ZXJ0KCk6bmV3IGQuT3AoZltoLTFdLGZbaC0yXSxmW2hdKX0oKTticmVhaztjYXNlIDE5Mjp0aGlzLiQ9bmV3IGQuQXNzaWduKGZbaC0yXSxmW2hdLGZbaC0xXSk7YnJlYWs7Y2FzZSAxOTM6dGhpcy4kPW5ldyBkLkFzc2lnbihmW2gtNF0sZltoLTFdLGZbaC0zXSk7YnJlYWs7Y2FzZSAxOTQ6dGhpcy4kPW5ldyBkLkV4dGVuZHMoZltoLTJdLGZbaF0pfX0sdGFibGU6W3sxOlsyLDFdLDM6MSw0OjIsNTozLDc6NCw4OjYsOTo3LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjU6WzEsNV0sMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzNdfSx7MTpbMiwyXSw2OlsxLDcxXX0sezY6WzEsNzJdfSx7MTpbMiw0XSw2OlsyLDRdLDI2OlsyLDRdLDk5OlsyLDRdfSx7NDo3NCw3OjQsODo2LDk6NywxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI2OlsxLDczXSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiw3XSw2OlsyLDddLDI2OlsyLDddLDk5OlsyLDddLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MTpbMiw4XSw2OlsyLDhdLDI2OlsyLDhdLDk5OlsyLDhdLDEwMDo4NywxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg4LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4Nl19LHsxOlsyLDEzXSw2OlsyLDEzXSwyNTpbMiwxM10sMjY6WzIsMTNdLDQ2OlsyLDEzXSw1MTpbMiwxM10sNTQ6WzIsMTNdLDU5OjkwLDYzOlsxLDkyXSw2NDpbMSw5M10sNjU6WzEsOTRdLDY2Ojk1LDY3OlsxLDk2XSw2OTpbMiwxM10sNzA6WzEsOTddLDcxOlsxLDk4XSw3NTpbMiwxM10sNzg6ODksODE6WzEsOTFdLDgyOlsyLDEwMl0sODM6WzIsMTNdLDg4OlsyLDEzXSw5MDpbMiwxM10sOTk6WzIsMTNdLDEwMTpbMiwxM10sMTAyOlsyLDEzXSwxMDM6WzIsMTNdLDEwNzpbMiwxM10sMTE1OlsyLDEzXSwxMjM6WzIsMTNdLDEyNTpbMiwxM10sMTI2OlsyLDEzXSwxMjk6WzIsMTNdLDEzMDpbMiwxM10sMTMxOlsyLDEzXSwxMzI6WzIsMTNdLDEzMzpbMiwxM10sMTM0OlsyLDEzXX0sezE6WzIsMTRdLDY6WzIsMTRdLDI1OlsyLDE0XSwyNjpbMiwxNF0sNDY6WzIsMTRdLDUxOlsyLDE0XSw1NDpbMiwxNF0sNTk6MTAwLDYzOlsxLDkyXSw2NDpbMSw5M10sNjU6WzEsOTRdLDY2Ojk1LDY3OlsxLDk2XSw2OTpbMiwxNF0sNzA6WzEsOTddLDcxOlsxLDk4XSw3NTpbMiwxNF0sNzg6OTksODE6WzEsOTFdLDgyOlsyLDEwMl0sODM6WzIsMTRdLDg4OlsyLDE0XSw5MDpbMiwxNF0sOTk6WzIsMTRdLDEwMTpbMiwxNF0sMTAyOlsyLDE0XSwxMDM6WzIsMTRdLDEwNzpbMiwxNF0sMTE1OlsyLDE0XSwxMjM6WzIsMTRdLDEyNTpbMiwxNF0sMTI2OlsyLDE0XSwxMjk6WzIsMTRdLDEzMDpbMiwxNF0sMTMxOlsyLDE0XSwxMzI6WzIsMTRdLDEzMzpbMiwxNF0sMTM0OlsyLDE0XX0sezE6WzIsMTVdLDY6WzIsMTVdLDI1OlsyLDE1XSwyNjpbMiwxNV0sNDY6WzIsMTVdLDUxOlsyLDE1XSw1NDpbMiwxNV0sNjk6WzIsMTVdLDc1OlsyLDE1XSw4MzpbMiwxNV0sODg6WzIsMTVdLDkwOlsyLDE1XSw5OTpbMiwxNV0sMTAxOlsyLDE1XSwxMDI6WzIsMTVdLDEwMzpbMiwxNV0sMTA3OlsyLDE1XSwxMTU6WzIsMTVdLDEyMzpbMiwxNV0sMTI1OlsyLDE1XSwxMjY6WzIsMTVdLDEyOTpbMiwxNV0sMTMwOlsyLDE1XSwxMzE6WzIsMTVdLDEzMjpbMiwxNV0sMTMzOlsyLDE1XSwxMzQ6WzIsMTVdfSx7MTpbMiwxNl0sNjpbMiwxNl0sMjU6WzIsMTZdLDI2OlsyLDE2XSw0NjpbMiwxNl0sNTE6WzIsMTZdLDU0OlsyLDE2XSw2OTpbMiwxNl0sNzU6WzIsMTZdLDgzOlsyLDE2XSw4ODpbMiwxNl0sOTA6WzIsMTZdLDk5OlsyLDE2XSwxMDE6WzIsMTZdLDEwMjpbMiwxNl0sMTAzOlsyLDE2XSwxMDc6WzIsMTZdLDExNTpbMiwxNl0sMTIzOlsyLDE2XSwxMjU6WzIsMTZdLDEyNjpbMiwxNl0sMTI5OlsyLDE2XSwxMzA6WzIsMTZdLDEzMTpbMiwxNl0sMTMyOlsyLDE2XSwxMzM6WzIsMTZdLDEzNDpbMiwxNl19LHsxOlsyLDE3XSw2OlsyLDE3XSwyNTpbMiwxN10sMjY6WzIsMTddLDQ2OlsyLDE3XSw1MTpbMiwxN10sNTQ6WzIsMTddLDY5OlsyLDE3XSw3NTpbMiwxN10sODM6WzIsMTddLDg4OlsyLDE3XSw5MDpbMiwxN10sOTk6WzIsMTddLDEwMTpbMiwxN10sMTAyOlsyLDE3XSwxMDM6WzIsMTddLDEwNzpbMiwxN10sMTE1OlsyLDE3XSwxMjM6WzIsMTddLDEyNTpbMiwxN10sMTI2OlsyLDE3XSwxMjk6WzIsMTddLDEzMDpbMiwxN10sMTMxOlsyLDE3XSwxMzI6WzIsMTddLDEzMzpbMiwxN10sMTM0OlsyLDE3XX0sezE6WzIsMThdLDY6WzIsMThdLDI1OlsyLDE4XSwyNjpbMiwxOF0sNDY6WzIsMThdLDUxOlsyLDE4XSw1NDpbMiwxOF0sNjk6WzIsMThdLDc1OlsyLDE4XSw4MzpbMiwxOF0sODg6WzIsMThdLDkwOlsyLDE4XSw5OTpbMiwxOF0sMTAxOlsyLDE4XSwxMDI6WzIsMThdLDEwMzpbMiwxOF0sMTA3OlsyLDE4XSwxMTU6WzIsMThdLDEyMzpbMiwxOF0sMTI1OlsyLDE4XSwxMjY6WzIsMThdLDEyOTpbMiwxOF0sMTMwOlsyLDE4XSwxMzE6WzIsMThdLDEzMjpbMiwxOF0sMTMzOlsyLDE4XSwxMzQ6WzIsMThdfSx7MTpbMiwxOV0sNjpbMiwxOV0sMjU6WzIsMTldLDI2OlsyLDE5XSw0NjpbMiwxOV0sNTE6WzIsMTldLDU0OlsyLDE5XSw2OTpbMiwxOV0sNzU6WzIsMTldLDgzOlsyLDE5XSw4ODpbMiwxOV0sOTA6WzIsMTldLDk5OlsyLDE5XSwxMDE6WzIsMTldLDEwMjpbMiwxOV0sMTAzOlsyLDE5XSwxMDc6WzIsMTldLDExNTpbMiwxOV0sMTIzOlsyLDE5XSwxMjU6WzIsMTldLDEyNjpbMiwxOV0sMTI5OlsyLDE5XSwxMzA6WzIsMTldLDEzMTpbMiwxOV0sMTMyOlsyLDE5XSwxMzM6WzIsMTldLDEzNDpbMiwxOV19LHsxOlsyLDIwXSw2OlsyLDIwXSwyNTpbMiwyMF0sMjY6WzIsMjBdLDQ2OlsyLDIwXSw1MTpbMiwyMF0sNTQ6WzIsMjBdLDY5OlsyLDIwXSw3NTpbMiwyMF0sODM6WzIsMjBdLDg4OlsyLDIwXSw5MDpbMiwyMF0sOTk6WzIsMjBdLDEwMTpbMiwyMF0sMTAyOlsyLDIwXSwxMDM6WzIsMjBdLDEwNzpbMiwyMF0sMTE1OlsyLDIwXSwxMjM6WzIsMjBdLDEyNTpbMiwyMF0sMTI2OlsyLDIwXSwxMjk6WzIsMjBdLDEzMDpbMiwyMF0sMTMxOlsyLDIwXSwxMzI6WzIsMjBdLDEzMzpbMiwyMF0sMTM0OlsyLDIwXX0sezE6WzIsMjFdLDY6WzIsMjFdLDI1OlsyLDIxXSwyNjpbMiwyMV0sNDY6WzIsMjFdLDUxOlsyLDIxXSw1NDpbMiwyMV0sNjk6WzIsMjFdLDc1OlsyLDIxXSw4MzpbMiwyMV0sODg6WzIsMjFdLDkwOlsyLDIxXSw5OTpbMiwyMV0sMTAxOlsyLDIxXSwxMDI6WzIsMjFdLDEwMzpbMiwyMV0sMTA3OlsyLDIxXSwxMTU6WzIsMjFdLDEyMzpbMiwyMV0sMTI1OlsyLDIxXSwxMjY6WzIsMjFdLDEyOTpbMiwyMV0sMTMwOlsyLDIxXSwxMzE6WzIsMjFdLDEzMjpbMiwyMV0sMTMzOlsyLDIxXSwxMzQ6WzIsMjFdfSx7MTpbMiwyMl0sNjpbMiwyMl0sMjU6WzIsMjJdLDI2OlsyLDIyXSw0NjpbMiwyMl0sNTE6WzIsMjJdLDU0OlsyLDIyXSw2OTpbMiwyMl0sNzU6WzIsMjJdLDgzOlsyLDIyXSw4ODpbMiwyMl0sOTA6WzIsMjJdLDk5OlsyLDIyXSwxMDE6WzIsMjJdLDEwMjpbMiwyMl0sMTAzOlsyLDIyXSwxMDc6WzIsMjJdLDExNTpbMiwyMl0sMTIzOlsyLDIyXSwxMjU6WzIsMjJdLDEyNjpbMiwyMl0sMTI5OlsyLDIyXSwxMzA6WzIsMjJdLDEzMTpbMiwyMl0sMTMyOlsyLDIyXSwxMzM6WzIsMjJdLDEzNDpbMiwyMl19LHsxOlsyLDIzXSw2OlsyLDIzXSwyNTpbMiwyM10sMjY6WzIsMjNdLDQ2OlsyLDIzXSw1MTpbMiwyM10sNTQ6WzIsMjNdLDY5OlsyLDIzXSw3NTpbMiwyM10sODM6WzIsMjNdLDg4OlsyLDIzXSw5MDpbMiwyM10sOTk6WzIsMjNdLDEwMTpbMiwyM10sMTAyOlsyLDIzXSwxMDM6WzIsMjNdLDEwNzpbMiwyM10sMTE1OlsyLDIzXSwxMjM6WzIsMjNdLDEyNTpbMiwyM10sMTI2OlsyLDIzXSwxMjk6WzIsMjNdLDEzMDpbMiwyM10sMTMxOlsyLDIzXSwxMzI6WzIsMjNdLDEzMzpbMiwyM10sMTM0OlsyLDIzXX0sezE6WzIsOV0sNjpbMiw5XSwyNjpbMiw5XSw5OTpbMiw5XSwxMDE6WzIsOV0sMTAzOlsyLDldLDEwNzpbMiw5XSwxMjM6WzIsOV19LHsxOlsyLDEwXSw2OlsyLDEwXSwyNjpbMiwxMF0sOTk6WzIsMTBdLDEwMTpbMiwxMF0sMTAzOlsyLDEwXSwxMDc6WzIsMTBdLDEyMzpbMiwxMF19LHsxOlsyLDExXSw2OlsyLDExXSwyNjpbMiwxMV0sOTk6WzIsMTFdLDEwMTpbMiwxMV0sMTAzOlsyLDExXSwxMDc6WzIsMTFdLDEyMzpbMiwxMV19LHsxOlsyLDEyXSw2OlsyLDEyXSwyNjpbMiwxMl0sOTk6WzIsMTJdLDEwMTpbMiwxMl0sMTAzOlsyLDEyXSwxMDc6WzIsMTJdLDEyMzpbMiwxMl19LHsxOlsyLDY5XSw2OlsyLDY5XSwyNTpbMiw2OV0sMjY6WzIsNjldLDM3OlsxLDEwMV0sNDY6WzIsNjldLDUxOlsyLDY5XSw1NDpbMiw2OV0sNjM6WzIsNjldLDY0OlsyLDY5XSw2NTpbMiw2OV0sNjc6WzIsNjldLDY5OlsyLDY5XSw3MDpbMiw2OV0sNzE6WzIsNjldLDc1OlsyLDY5XSw4MTpbMiw2OV0sODI6WzIsNjldLDgzOlsyLDY5XSw4ODpbMiw2OV0sOTA6WzIsNjldLDk5OlsyLDY5XSwxMDE6WzIsNjldLDEwMjpbMiw2OV0sMTAzOlsyLDY5XSwxMDc6WzIsNjldLDExNTpbMiw2OV0sMTIzOlsyLDY5XSwxMjU6WzIsNjldLDEyNjpbMiw2OV0sMTI5OlsyLDY5XSwxMzA6WzIsNjldLDEzMTpbMiw2OV0sMTMyOlsyLDY5XSwxMzM6WzIsNjldLDEzNDpbMiw2OV19LHsxOlsyLDcwXSw2OlsyLDcwXSwyNTpbMiw3MF0sMjY6WzIsNzBdLDQ2OlsyLDcwXSw1MTpbMiw3MF0sNTQ6WzIsNzBdLDYzOlsyLDcwXSw2NDpbMiw3MF0sNjU6WzIsNzBdLDY3OlsyLDcwXSw2OTpbMiw3MF0sNzA6WzIsNzBdLDcxOlsyLDcwXSw3NTpbMiw3MF0sODE6WzIsNzBdLDgyOlsyLDcwXSw4MzpbMiw3MF0sODg6WzIsNzBdLDkwOlsyLDcwXSw5OTpbMiw3MF0sMTAxOlsyLDcwXSwxMDI6WzIsNzBdLDEwMzpbMiw3MF0sMTA3OlsyLDcwXSwxMTU6WzIsNzBdLDEyMzpbMiw3MF0sMTI1OlsyLDcwXSwxMjY6WzIsNzBdLDEyOTpbMiw3MF0sMTMwOlsyLDcwXSwxMzE6WzIsNzBdLDEzMjpbMiw3MF0sMTMzOlsyLDcwXSwxMzQ6WzIsNzBdfSx7MTpbMiw3MV0sNjpbMiw3MV0sMjU6WzIsNzFdLDI2OlsyLDcxXSw0NjpbMiw3MV0sNTE6WzIsNzFdLDU0OlsyLDcxXSw2MzpbMiw3MV0sNjQ6WzIsNzFdLDY1OlsyLDcxXSw2NzpbMiw3MV0sNjk6WzIsNzFdLDcwOlsyLDcxXSw3MTpbMiw3MV0sNzU6WzIsNzFdLDgxOlsyLDcxXSw4MjpbMiw3MV0sODM6WzIsNzFdLDg4OlsyLDcxXSw5MDpbMiw3MV0sOTk6WzIsNzFdLDEwMTpbMiw3MV0sMTAyOlsyLDcxXSwxMDM6WzIsNzFdLDEwNzpbMiw3MV0sMTE1OlsyLDcxXSwxMjM6WzIsNzFdLDEyNTpbMiw3MV0sMTI2OlsyLDcxXSwxMjk6WzIsNzFdLDEzMDpbMiw3MV0sMTMxOlsyLDcxXSwxMzI6WzIsNzFdLDEzMzpbMiw3MV0sMTM0OlsyLDcxXX0sezE6WzIsNzJdLDY6WzIsNzJdLDI1OlsyLDcyXSwyNjpbMiw3Ml0sNDY6WzIsNzJdLDUxOlsyLDcyXSw1NDpbMiw3Ml0sNjM6WzIsNzJdLDY0OlsyLDcyXSw2NTpbMiw3Ml0sNjc6WzIsNzJdLDY5OlsyLDcyXSw3MDpbMiw3Ml0sNzE6WzIsNzJdLDc1OlsyLDcyXSw4MTpbMiw3Ml0sODI6WzIsNzJdLDgzOlsyLDcyXSw4ODpbMiw3Ml0sOTA6WzIsNzJdLDk5OlsyLDcyXSwxMDE6WzIsNzJdLDEwMjpbMiw3Ml0sMTAzOlsyLDcyXSwxMDc6WzIsNzJdLDExNTpbMiw3Ml0sMTIzOlsyLDcyXSwxMjU6WzIsNzJdLDEyNjpbMiw3Ml0sMTI5OlsyLDcyXSwxMzA6WzIsNzJdLDEzMTpbMiw3Ml0sMTMyOlsyLDcyXSwxMzM6WzIsNzJdLDEzNDpbMiw3Ml19LHsxOlsyLDczXSw2OlsyLDczXSwyNTpbMiw3M10sMjY6WzIsNzNdLDQ2OlsyLDczXSw1MTpbMiw3M10sNTQ6WzIsNzNdLDYzOlsyLDczXSw2NDpbMiw3M10sNjU6WzIsNzNdLDY3OlsyLDczXSw2OTpbMiw3M10sNzA6WzIsNzNdLDcxOlsyLDczXSw3NTpbMiw3M10sODE6WzIsNzNdLDgyOlsyLDczXSw4MzpbMiw3M10sODg6WzIsNzNdLDkwOlsyLDczXSw5OTpbMiw3M10sMTAxOlsyLDczXSwxMDI6WzIsNzNdLDEwMzpbMiw3M10sMTA3OlsyLDczXSwxMTU6WzIsNzNdLDEyMzpbMiw3M10sMTI1OlsyLDczXSwxMjY6WzIsNzNdLDEyOTpbMiw3M10sMTMwOlsyLDczXSwxMzE6WzIsNzNdLDEzMjpbMiw3M10sMTMzOlsyLDczXSwxMzQ6WzIsNzNdfSx7MTpbMiwxMDBdLDY6WzIsMTAwXSwyNTpbMiwxMDBdLDI2OlsyLDEwMF0sNDY6WzIsMTAwXSw1MTpbMiwxMDBdLDU0OlsyLDEwMF0sNjM6WzIsMTAwXSw2NDpbMiwxMDBdLDY1OlsyLDEwMF0sNjc6WzIsMTAwXSw2OTpbMiwxMDBdLDcwOlsyLDEwMF0sNzE6WzIsMTAwXSw3NTpbMiwxMDBdLDc5OjEwMiw4MTpbMiwxMDBdLDgyOlsxLDEwM10sODM6WzIsMTAwXSw4ODpbMiwxMDBdLDkwOlsyLDEwMF0sOTk6WzIsMTAwXSwxMDE6WzIsMTAwXSwxMDI6WzIsMTAwXSwxMDM6WzIsMTAwXSwxMDc6WzIsMTAwXSwxMTU6WzIsMTAwXSwxMjM6WzIsMTAwXSwxMjU6WzIsMTAwXSwxMjY6WzIsMTAwXSwxMjk6WzIsMTAwXSwxMzA6WzIsMTAwXSwxMzE6WzIsMTAwXSwxMzI6WzIsMTAwXSwxMzM6WzIsMTAwXSwxMzQ6WzIsMTAwXX0sezI3OjEwNywyODpbMSw3MF0sNDE6MTA4LDQ1OjEwNCw0NjpbMiw1MV0sNTE6WzIsNTFdLDUyOjEwNSw1MzoxMDYsNTU6MTA5LDU2OjExMCw3MzpbMSw2N10sODY6WzEsMTExXSw4NzpbMSwxMTJdfSx7NToxMTMsMjU6WzEsNV19LHs4OjExNCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjExNiw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjExNyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxNDoxMTksMTU6MTIwLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjEyMSw0MTo2MCw1NTo0Nyw1Njo0OCw1ODoxMTgsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5ODpbMSw1M119LHsxNDoxMTksMTU6MTIwLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjEyMSw0MTo2MCw1NTo0Nyw1Njo0OCw1ODoxMjIsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5ODpbMSw1M119LHsxOlsyLDY2XSw2OlsyLDY2XSwyNTpbMiw2Nl0sMjY6WzIsNjZdLDM3OlsyLDY2XSw0NjpbMiw2Nl0sNTE6WzIsNjZdLDU0OlsyLDY2XSw2MzpbMiw2Nl0sNjQ6WzIsNjZdLDY1OlsyLDY2XSw2NzpbMiw2Nl0sNjk6WzIsNjZdLDcwOlsyLDY2XSw3MTpbMiw2Nl0sNzU6WzIsNjZdLDc3OlsxLDEyNl0sODE6WzIsNjZdLDgyOlsyLDY2XSw4MzpbMiw2Nl0sODg6WzIsNjZdLDkwOlsyLDY2XSw5OTpbMiw2Nl0sMTAxOlsyLDY2XSwxMDI6WzIsNjZdLDEwMzpbMiw2Nl0sMTA3OlsyLDY2XSwxMTU6WzIsNjZdLDEyMzpbMiw2Nl0sMTI1OlsyLDY2XSwxMjY6WzIsNjZdLDEyNzpbMSwxMjNdLDEyODpbMSwxMjRdLDEyOTpbMiw2Nl0sMTMwOlsyLDY2XSwxMzE6WzIsNjZdLDEzMjpbMiw2Nl0sMTMzOlsyLDY2XSwxMzQ6WzIsNjZdLDEzNTpbMSwxMjVdfSx7MTpbMiwxNzNdLDY6WzIsMTczXSwyNTpbMiwxNzNdLDI2OlsyLDE3M10sNDY6WzIsMTczXSw1MTpbMiwxNzNdLDU0OlsyLDE3M10sNjk6WzIsMTczXSw3NTpbMiwxNzNdLDgzOlsyLDE3M10sODg6WzIsMTczXSw5MDpbMiwxNzNdLDk5OlsyLDE3M10sMTAxOlsyLDE3M10sMTAyOlsyLDE3M10sMTAzOlsyLDE3M10sMTA3OlsyLDE3M10sMTE1OlsyLDE3M10sMTE4OlsxLDEyN10sMTIzOlsyLDE3M10sMTI1OlsyLDE3M10sMTI2OlsyLDE3M10sMTI5OlsyLDE3M10sMTMwOlsyLDE3M10sMTMxOlsyLDE3M10sMTMyOlsyLDE3M10sMTMzOlsyLDE3M10sMTM0OlsyLDE3M119LHs1OjEyOCwyNTpbMSw1XX0sezU6MTI5LDI1OlsxLDVdfSx7MTpbMiwxNDFdLDY6WzIsMTQxXSwyNTpbMiwxNDFdLDI2OlsyLDE0MV0sNDY6WzIsMTQxXSw1MTpbMiwxNDFdLDU0OlsyLDE0MV0sNjk6WzIsMTQxXSw3NTpbMiwxNDFdLDgzOlsyLDE0MV0sODg6WzIsMTQxXSw5MDpbMiwxNDFdLDk5OlsyLDE0MV0sMTAxOlsyLDE0MV0sMTAyOlsyLDE0MV0sMTAzOlsyLDE0MV0sMTA3OlsyLDE0MV0sMTE1OlsyLDE0MV0sMTIzOlsyLDE0MV0sMTI1OlsyLDE0MV0sMTI2OlsyLDE0MV0sMTI5OlsyLDE0MV0sMTMwOlsyLDE0MV0sMTMxOlsyLDE0MV0sMTMyOlsyLDE0MV0sMTMzOlsyLDE0MV0sMTM0OlsyLDE0MV19LHs1OjEzMCwyNTpbMSw1XX0sezg6MTMxLDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjU6WzEsMTMyXSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiw5MF0sNToxMzMsNjpbMiw5MF0sMTQ6MTE5LDE1OjEyMCwyNTpbMSw1XSwyNjpbMiw5MF0sMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MTIxLDQxOjYwLDQ2OlsyLDkwXSw1MTpbMiw5MF0sNTQ6WzIsOTBdLDU1OjQ3LDU2OjQ4LDU4OjEzNSw2MDoyNSw2MToyNiw2MjoyNyw2OTpbMiw5MF0sNzM6WzEsNjddLDc1OlsyLDkwXSw3NzpbMSwxMzRdLDgwOlsxLDI4XSw4MzpbMiw5MF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sODg6WzIsOTBdLDkwOlsyLDkwXSw5ODpbMSw1M10sOTk6WzIsOTBdLDEwMTpbMiw5MF0sMTAyOlsyLDkwXSwxMDM6WzIsOTBdLDEwNzpbMiw5MF0sMTE1OlsyLDkwXSwxMjM6WzIsOTBdLDEyNTpbMiw5MF0sMTI2OlsyLDkwXSwxMjk6WzIsOTBdLDEzMDpbMiw5MF0sMTMxOlsyLDkwXSwxMzI6WzIsOTBdLDEzMzpbMiw5MF0sMTM0OlsyLDkwXX0sezE6WzIsNDNdLDY6WzIsNDNdLDg6MTM2LDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjY6WzIsNDNdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sOTk6WzIsNDNdLDEwMDozOSwxMDE6WzIsNDNdLDEwMzpbMiw0M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMiw0M10sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTIzOlsyLDQzXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjEzNyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxOlsyLDQ0XSw2OlsyLDQ0XSwyNTpbMiw0NF0sMjY6WzIsNDRdLDUxOlsyLDQ0XSw3NTpbMiw0NF0sOTk6WzIsNDRdLDEwMTpbMiw0NF0sMTAzOlsyLDQ0XSwxMDc6WzIsNDRdLDEyMzpbMiw0NF19LHsxOlsyLDY3XSw2OlsyLDY3XSwyNTpbMiw2N10sMjY6WzIsNjddLDM3OlsyLDY3XSw0NjpbMiw2N10sNTE6WzIsNjddLDU0OlsyLDY3XSw2MzpbMiw2N10sNjQ6WzIsNjddLDY1OlsyLDY3XSw2NzpbMiw2N10sNjk6WzIsNjddLDcwOlsyLDY3XSw3MTpbMiw2N10sNzU6WzIsNjddLDgxOlsyLDY3XSw4MjpbMiw2N10sODM6WzIsNjddLDg4OlsyLDY3XSw5MDpbMiw2N10sOTk6WzIsNjddLDEwMTpbMiw2N10sMTAyOlsyLDY3XSwxMDM6WzIsNjddLDEwNzpbMiw2N10sMTE1OlsyLDY3XSwxMjM6WzIsNjddLDEyNTpbMiw2N10sMTI2OlsyLDY3XSwxMjk6WzIsNjddLDEzMDpbMiw2N10sMTMxOlsyLDY3XSwxMzI6WzIsNjddLDEzMzpbMiw2N10sMTM0OlsyLDY3XX0sezE6WzIsNjhdLDY6WzIsNjhdLDI1OlsyLDY4XSwyNjpbMiw2OF0sMzc6WzIsNjhdLDQ2OlsyLDY4XSw1MTpbMiw2OF0sNTQ6WzIsNjhdLDYzOlsyLDY4XSw2NDpbMiw2OF0sNjU6WzIsNjhdLDY3OlsyLDY4XSw2OTpbMiw2OF0sNzA6WzIsNjhdLDcxOlsyLDY4XSw3NTpbMiw2OF0sODE6WzIsNjhdLDgyOlsyLDY4XSw4MzpbMiw2OF0sODg6WzIsNjhdLDkwOlsyLDY4XSw5OTpbMiw2OF0sMTAxOlsyLDY4XSwxMDI6WzIsNjhdLDEwMzpbMiw2OF0sMTA3OlsyLDY4XSwxMTU6WzIsNjhdLDEyMzpbMiw2OF0sMTI1OlsyLDY4XSwxMjY6WzIsNjhdLDEyOTpbMiw2OF0sMTMwOlsyLDY4XSwxMzE6WzIsNjhdLDEzMjpbMiw2OF0sMTMzOlsyLDY4XSwxMzQ6WzIsNjhdfSx7MTpbMiwyOV0sNjpbMiwyOV0sMjU6WzIsMjldLDI2OlsyLDI5XSw0NjpbMiwyOV0sNTE6WzIsMjldLDU0OlsyLDI5XSw2MzpbMiwyOV0sNjQ6WzIsMjldLDY1OlsyLDI5XSw2NzpbMiwyOV0sNjk6WzIsMjldLDcwOlsyLDI5XSw3MTpbMiwyOV0sNzU6WzIsMjldLDgxOlsyLDI5XSw4MjpbMiwyOV0sODM6WzIsMjldLDg4OlsyLDI5XSw5MDpbMiwyOV0sOTk6WzIsMjldLDEwMTpbMiwyOV0sMTAyOlsyLDI5XSwxMDM6WzIsMjldLDEwNzpbMiwyOV0sMTE1OlsyLDI5XSwxMjM6WzIsMjldLDEyNTpbMiwyOV0sMTI2OlsyLDI5XSwxMjk6WzIsMjldLDEzMDpbMiwyOV0sMTMxOlsyLDI5XSwxMzI6WzIsMjldLDEzMzpbMiwyOV0sMTM0OlsyLDI5XX0sezE6WzIsMzBdLDY6WzIsMzBdLDI1OlsyLDMwXSwyNjpbMiwzMF0sNDY6WzIsMzBdLDUxOlsyLDMwXSw1NDpbMiwzMF0sNjM6WzIsMzBdLDY0OlsyLDMwXSw2NTpbMiwzMF0sNjc6WzIsMzBdLDY5OlsyLDMwXSw3MDpbMiwzMF0sNzE6WzIsMzBdLDc1OlsyLDMwXSw4MTpbMiwzMF0sODI6WzIsMzBdLDgzOlsyLDMwXSw4ODpbMiwzMF0sOTA6WzIsMzBdLDk5OlsyLDMwXSwxMDE6WzIsMzBdLDEwMjpbMiwzMF0sMTAzOlsyLDMwXSwxMDc6WzIsMzBdLDExNTpbMiwzMF0sMTIzOlsyLDMwXSwxMjU6WzIsMzBdLDEyNjpbMiwzMF0sMTI5OlsyLDMwXSwxMzA6WzIsMzBdLDEzMTpbMiwzMF0sMTMyOlsyLDMwXSwxMzM6WzIsMzBdLDEzNDpbMiwzMF19LHsxOlsyLDMxXSw2OlsyLDMxXSwyNTpbMiwzMV0sMjY6WzIsMzFdLDQ2OlsyLDMxXSw1MTpbMiwzMV0sNTQ6WzIsMzFdLDYzOlsyLDMxXSw2NDpbMiwzMV0sNjU6WzIsMzFdLDY3OlsyLDMxXSw2OTpbMiwzMV0sNzA6WzIsMzFdLDcxOlsyLDMxXSw3NTpbMiwzMV0sODE6WzIsMzFdLDgyOlsyLDMxXSw4MzpbMiwzMV0sODg6WzIsMzFdLDkwOlsyLDMxXSw5OTpbMiwzMV0sMTAxOlsyLDMxXSwxMDI6WzIsMzFdLDEwMzpbMiwzMV0sMTA3OlsyLDMxXSwxMTU6WzIsMzFdLDEyMzpbMiwzMV0sMTI1OlsyLDMxXSwxMjY6WzIsMzFdLDEyOTpbMiwzMV0sMTMwOlsyLDMxXSwxMzE6WzIsMzFdLDEzMjpbMiwzMV0sMTMzOlsyLDMxXSwxMzQ6WzIsMzFdfSx7MTpbMiwzMl0sNjpbMiwzMl0sMjU6WzIsMzJdLDI2OlsyLDMyXSw0NjpbMiwzMl0sNTE6WzIsMzJdLDU0OlsyLDMyXSw2MzpbMiwzMl0sNjQ6WzIsMzJdLDY1OlsyLDMyXSw2NzpbMiwzMl0sNjk6WzIsMzJdLDcwOlsyLDMyXSw3MTpbMiwzMl0sNzU6WzIsMzJdLDgxOlsyLDMyXSw4MjpbMiwzMl0sODM6WzIsMzJdLDg4OlsyLDMyXSw5MDpbMiwzMl0sOTk6WzIsMzJdLDEwMTpbMiwzMl0sMTAyOlsyLDMyXSwxMDM6WzIsMzJdLDEwNzpbMiwzMl0sMTE1OlsyLDMyXSwxMjM6WzIsMzJdLDEyNTpbMiwzMl0sMTI2OlsyLDMyXSwxMjk6WzIsMzJdLDEzMDpbMiwzMl0sMTMxOlsyLDMyXSwxMzI6WzIsMzJdLDEzMzpbMiwzMl0sMTM0OlsyLDMyXX0sezQ6MTM4LDc6NCw4OjYsOTo3LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjU6WzEsMTM5XSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoxNDAsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNTpbMSwxNDRdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTc6MTQ1LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg0OjE0Miw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw4ODpbMSwxNDFdLDkxOjE0Myw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsMTA2XSw2OlsyLDEwNl0sMjU6WzIsMTA2XSwyNjpbMiwxMDZdLDQ2OlsyLDEwNl0sNTE6WzIsMTA2XSw1NDpbMiwxMDZdLDYzOlsyLDEwNl0sNjQ6WzIsMTA2XSw2NTpbMiwxMDZdLDY3OlsyLDEwNl0sNjk6WzIsMTA2XSw3MDpbMiwxMDZdLDcxOlsyLDEwNl0sNzU6WzIsMTA2XSw4MTpbMiwxMDZdLDgyOlsyLDEwNl0sODM6WzIsMTA2XSw4ODpbMiwxMDZdLDkwOlsyLDEwNl0sOTk6WzIsMTA2XSwxMDE6WzIsMTA2XSwxMDI6WzIsMTA2XSwxMDM6WzIsMTA2XSwxMDc6WzIsMTA2XSwxMTU6WzIsMTA2XSwxMjM6WzIsMTA2XSwxMjU6WzIsMTA2XSwxMjY6WzIsMTA2XSwxMjk6WzIsMTA2XSwxMzA6WzIsMTA2XSwxMzE6WzIsMTA2XSwxMzI6WzIsMTA2XSwxMzM6WzIsMTA2XSwxMzQ6WzIsMTA2XX0sezE6WzIsMTA3XSw2OlsyLDEwN10sMjU6WzIsMTA3XSwyNjpbMiwxMDddLDI3OjE0NiwyODpbMSw3MF0sNDY6WzIsMTA3XSw1MTpbMiwxMDddLDU0OlsyLDEwN10sNjM6WzIsMTA3XSw2NDpbMiwxMDddLDY1OlsyLDEwN10sNjc6WzIsMTA3XSw2OTpbMiwxMDddLDcwOlsyLDEwN10sNzE6WzIsMTA3XSw3NTpbMiwxMDddLDgxOlsyLDEwN10sODI6WzIsMTA3XSw4MzpbMiwxMDddLDg4OlsyLDEwN10sOTA6WzIsMTA3XSw5OTpbMiwxMDddLDEwMTpbMiwxMDddLDEwMjpbMiwxMDddLDEwMzpbMiwxMDddLDEwNzpbMiwxMDddLDExNTpbMiwxMDddLDEyMzpbMiwxMDddLDEyNTpbMiwxMDddLDEyNjpbMiwxMDddLDEyOTpbMiwxMDddLDEzMDpbMiwxMDddLDEzMTpbMiwxMDddLDEzMjpbMiwxMDddLDEzMzpbMiwxMDddLDEzNDpbMiwxMDddfSx7MjU6WzIsNDddfSx7MjU6WzIsNDhdfSx7MTpbMiw2Ml0sNjpbMiw2Ml0sMjU6WzIsNjJdLDI2OlsyLDYyXSwzNzpbMiw2Ml0sNDY6WzIsNjJdLDUxOlsyLDYyXSw1NDpbMiw2Ml0sNjM6WzIsNjJdLDY0OlsyLDYyXSw2NTpbMiw2Ml0sNjc6WzIsNjJdLDY5OlsyLDYyXSw3MDpbMiw2Ml0sNzE6WzIsNjJdLDc1OlsyLDYyXSw3NzpbMiw2Ml0sODE6WzIsNjJdLDgyOlsyLDYyXSw4MzpbMiw2Ml0sODg6WzIsNjJdLDkwOlsyLDYyXSw5OTpbMiw2Ml0sMTAxOlsyLDYyXSwxMDI6WzIsNjJdLDEwMzpbMiw2Ml0sMTA3OlsyLDYyXSwxMTU6WzIsNjJdLDEyMzpbMiw2Ml0sMTI1OlsyLDYyXSwxMjY6WzIsNjJdLDEyNzpbMiw2Ml0sMTI4OlsyLDYyXSwxMjk6WzIsNjJdLDEzMDpbMiw2Ml0sMTMxOlsyLDYyXSwxMzI6WzIsNjJdLDEzMzpbMiw2Ml0sMTM0OlsyLDYyXSwxMzU6WzIsNjJdfSx7MTpbMiw2NV0sNjpbMiw2NV0sMjU6WzIsNjVdLDI2OlsyLDY1XSwzNzpbMiw2NV0sNDY6WzIsNjVdLDUxOlsyLDY1XSw1NDpbMiw2NV0sNjM6WzIsNjVdLDY0OlsyLDY1XSw2NTpbMiw2NV0sNjc6WzIsNjVdLDY5OlsyLDY1XSw3MDpbMiw2NV0sNzE6WzIsNjVdLDc1OlsyLDY1XSw3NzpbMiw2NV0sODE6WzIsNjVdLDgyOlsyLDY1XSw4MzpbMiw2NV0sODg6WzIsNjVdLDkwOlsyLDY1XSw5OTpbMiw2NV0sMTAxOlsyLDY1XSwxMDI6WzIsNjVdLDEwMzpbMiw2NV0sMTA3OlsyLDY1XSwxMTU6WzIsNjVdLDEyMzpbMiw2NV0sMTI1OlsyLDY1XSwxMjY6WzIsNjVdLDEyNzpbMiw2NV0sMTI4OlsyLDY1XSwxMjk6WzIsNjVdLDEzMDpbMiw2NV0sMTMxOlsyLDY1XSwxMzI6WzIsNjVdLDEzMzpbMiw2NV0sMTM0OlsyLDY1XSwxMzU6WzIsNjVdfSx7ODoxNDcsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoxNDgsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoxNDksOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7NToxNTAsODoxNTEsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNTpbMSw1XSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7Mjc6MTU2LDI4OlsxLDcwXSw1NToxNTcsNTY6MTU4LDYxOjE1Miw3MzpbMSw2N10sODc6WzEsNTRdLDExMDoxNTMsMTExOlsxLDE1NF0sMTEyOjE1NX0sezEwOToxNTksMTEzOlsxLDE2MF0sMTE0OlsxLDE2MV19LHs2OlsyLDg1XSwxMjoxNjUsMjU6WzIsODVdLDI3OjE2NiwyODpbMSw3MF0sMjk6MTY3LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzg6MTYzLDM5OjE2NCw0MToxNjgsNDM6WzEsNDZdLDUxOlsyLDg1XSw3NDoxNjIsNzU6WzIsODVdLDg2OlsxLDExMV19LHsxOlsyLDI3XSw2OlsyLDI3XSwyNTpbMiwyN10sMjY6WzIsMjddLDQwOlsyLDI3XSw0NjpbMiwyN10sNTE6WzIsMjddLDU0OlsyLDI3XSw2MzpbMiwyN10sNjQ6WzIsMjddLDY1OlsyLDI3XSw2NzpbMiwyN10sNjk6WzIsMjddLDcwOlsyLDI3XSw3MTpbMiwyN10sNzU6WzIsMjddLDgxOlsyLDI3XSw4MjpbMiwyN10sODM6WzIsMjddLDg4OlsyLDI3XSw5MDpbMiwyN10sOTk6WzIsMjddLDEwMTpbMiwyN10sMTAyOlsyLDI3XSwxMDM6WzIsMjddLDEwNzpbMiwyN10sMTE1OlsyLDI3XSwxMjM6WzIsMjddLDEyNTpbMiwyN10sMTI2OlsyLDI3XSwxMjk6WzIsMjddLDEzMDpbMiwyN10sMTMxOlsyLDI3XSwxMzI6WzIsMjddLDEzMzpbMiwyN10sMTM0OlsyLDI3XX0sezE6WzIsMjhdLDY6WzIsMjhdLDI1OlsyLDI4XSwyNjpbMiwyOF0sNDA6WzIsMjhdLDQ2OlsyLDI4XSw1MTpbMiwyOF0sNTQ6WzIsMjhdLDYzOlsyLDI4XSw2NDpbMiwyOF0sNjU6WzIsMjhdLDY3OlsyLDI4XSw2OTpbMiwyOF0sNzA6WzIsMjhdLDcxOlsyLDI4XSw3NTpbMiwyOF0sODE6WzIsMjhdLDgyOlsyLDI4XSw4MzpbMiwyOF0sODg6WzIsMjhdLDkwOlsyLDI4XSw5OTpbMiwyOF0sMTAxOlsyLDI4XSwxMDI6WzIsMjhdLDEwMzpbMiwyOF0sMTA3OlsyLDI4XSwxMTU6WzIsMjhdLDEyMzpbMiwyOF0sMTI1OlsyLDI4XSwxMjY6WzIsMjhdLDEyOTpbMiwyOF0sMTMwOlsyLDI4XSwxMzE6WzIsMjhdLDEzMjpbMiwyOF0sMTMzOlsyLDI4XSwxMzQ6WzIsMjhdfSx7MTpbMiwyNl0sNjpbMiwyNl0sMjU6WzIsMjZdLDI2OlsyLDI2XSwzNzpbMiwyNl0sNDA6WzIsMjZdLDQ2OlsyLDI2XSw1MTpbMiwyNl0sNTQ6WzIsMjZdLDYzOlsyLDI2XSw2NDpbMiwyNl0sNjU6WzIsMjZdLDY3OlsyLDI2XSw2OTpbMiwyNl0sNzA6WzIsMjZdLDcxOlsyLDI2XSw3NTpbMiwyNl0sNzc6WzIsMjZdLDgxOlsyLDI2XSw4MjpbMiwyNl0sODM6WzIsMjZdLDg4OlsyLDI2XSw5MDpbMiwyNl0sOTk6WzIsMjZdLDEwMTpbMiwyNl0sMTAyOlsyLDI2XSwxMDM6WzIsMjZdLDEwNzpbMiwyNl0sMTEzOlsyLDI2XSwxMTQ6WzIsMjZdLDExNTpbMiwyNl0sMTIzOlsyLDI2XSwxMjU6WzIsMjZdLDEyNjpbMiwyNl0sMTI3OlsyLDI2XSwxMjg6WzIsMjZdLDEyOTpbMiwyNl0sMTMwOlsyLDI2XSwxMzE6WzIsMjZdLDEzMjpbMiwyNl0sMTMzOlsyLDI2XSwxMzQ6WzIsMjZdLDEzNTpbMiwyNl19LHsxOlsyLDZdLDY6WzIsNl0sNzoxNjksODo2LDk6NywxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI2OlsyLDZdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sOTk6WzIsNl0sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxOlsyLDNdfSx7MTpbMiwyNF0sNjpbMiwyNF0sMjU6WzIsMjRdLDI2OlsyLDI0XSw0NjpbMiwyNF0sNTE6WzIsMjRdLDU0OlsyLDI0XSw2OTpbMiwyNF0sNzU6WzIsMjRdLDgzOlsyLDI0XSw4ODpbMiwyNF0sOTA6WzIsMjRdLDk1OlsyLDI0XSw5NjpbMiwyNF0sOTk6WzIsMjRdLDEwMTpbMiwyNF0sMTAyOlsyLDI0XSwxMDM6WzIsMjRdLDEwNzpbMiwyNF0sMTE1OlsyLDI0XSwxMTg6WzIsMjRdLDEyMDpbMiwyNF0sMTIzOlsyLDI0XSwxMjU6WzIsMjRdLDEyNjpbMiwyNF0sMTI5OlsyLDI0XSwxMzA6WzIsMjRdLDEzMTpbMiwyNF0sMTMyOlsyLDI0XSwxMzM6WzIsMjRdLDEzNDpbMiwyNF19LHs2OlsxLDcxXSwyNjpbMSwxNzBdfSx7MTpbMiwxODRdLDY6WzIsMTg0XSwyNTpbMiwxODRdLDI2OlsyLDE4NF0sNDY6WzIsMTg0XSw1MTpbMiwxODRdLDU0OlsyLDE4NF0sNjk6WzIsMTg0XSw3NTpbMiwxODRdLDgzOlsyLDE4NF0sODg6WzIsMTg0XSw5MDpbMiwxODRdLDk5OlsyLDE4NF0sMTAxOlsyLDE4NF0sMTAyOlsyLDE4NF0sMTAzOlsyLDE4NF0sMTA3OlsyLDE4NF0sMTE1OlsyLDE4NF0sMTIzOlsyLDE4NF0sMTI1OlsyLDE4NF0sMTI2OlsyLDE4NF0sMTI5OlsyLDE4NF0sMTMwOlsyLDE4NF0sMTMxOlsyLDE4NF0sMTMyOlsyLDE4NF0sMTMzOlsyLDE4NF0sMTM0OlsyLDE4NF19LHs4OjE3MSw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3Miw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3Myw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3NCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3NSw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3Niw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3Nyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjE3OCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxOlsyLDE0MF0sNjpbMiwxNDBdLDI1OlsyLDE0MF0sMjY6WzIsMTQwXSw0NjpbMiwxNDBdLDUxOlsyLDE0MF0sNTQ6WzIsMTQwXSw2OTpbMiwxNDBdLDc1OlsyLDE0MF0sODM6WzIsMTQwXSw4ODpbMiwxNDBdLDkwOlsyLDE0MF0sOTk6WzIsMTQwXSwxMDE6WzIsMTQwXSwxMDI6WzIsMTQwXSwxMDM6WzIsMTQwXSwxMDc6WzIsMTQwXSwxMTU6WzIsMTQwXSwxMjM6WzIsMTQwXSwxMjU6WzIsMTQwXSwxMjY6WzIsMTQwXSwxMjk6WzIsMTQwXSwxMzA6WzIsMTQwXSwxMzE6WzIsMTQwXSwxMzI6WzIsMTQwXSwxMzM6WzIsMTQwXSwxMzQ6WzIsMTQwXX0sezE6WzIsMTQ1XSw2OlsyLDE0NV0sMjU6WzIsMTQ1XSwyNjpbMiwxNDVdLDQ2OlsyLDE0NV0sNTE6WzIsMTQ1XSw1NDpbMiwxNDVdLDY5OlsyLDE0NV0sNzU6WzIsMTQ1XSw4MzpbMiwxNDVdLDg4OlsyLDE0NV0sOTA6WzIsMTQ1XSw5OTpbMiwxNDVdLDEwMTpbMiwxNDVdLDEwMjpbMiwxNDVdLDEwMzpbMiwxNDVdLDEwNzpbMiwxNDVdLDExNTpbMiwxNDVdLDEyMzpbMiwxNDVdLDEyNTpbMiwxNDVdLDEyNjpbMiwxNDVdLDEyOTpbMiwxNDVdLDEzMDpbMiwxNDVdLDEzMTpbMiwxNDVdLDEzMjpbMiwxNDVdLDEzMzpbMiwxNDVdLDEzNDpbMiwxNDVdfSx7ODoxNzksOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiwxMzldLDY6WzIsMTM5XSwyNTpbMiwxMzldLDI2OlsyLDEzOV0sNDY6WzIsMTM5XSw1MTpbMiwxMzldLDU0OlsyLDEzOV0sNjk6WzIsMTM5XSw3NTpbMiwxMzldLDgzOlsyLDEzOV0sODg6WzIsMTM5XSw5MDpbMiwxMzldLDk5OlsyLDEzOV0sMTAxOlsyLDEzOV0sMTAyOlsyLDEzOV0sMTAzOlsyLDEzOV0sMTA3OlsyLDEzOV0sMTE1OlsyLDEzOV0sMTIzOlsyLDEzOV0sMTI1OlsyLDEzOV0sMTI2OlsyLDEzOV0sMTI5OlsyLDEzOV0sMTMwOlsyLDEzOV0sMTMxOlsyLDEzOV0sMTMyOlsyLDEzOV0sMTMzOlsyLDEzOV0sMTM0OlsyLDEzOV19LHsxOlsyLDE0NF0sNjpbMiwxNDRdLDI1OlsyLDE0NF0sMjY6WzIsMTQ0XSw0NjpbMiwxNDRdLDUxOlsyLDE0NF0sNTQ6WzIsMTQ0XSw2OTpbMiwxNDRdLDc1OlsyLDE0NF0sODM6WzIsMTQ0XSw4ODpbMiwxNDRdLDkwOlsyLDE0NF0sOTk6WzIsMTQ0XSwxMDE6WzIsMTQ0XSwxMDI6WzIsMTQ0XSwxMDM6WzIsMTQ0XSwxMDc6WzIsMTQ0XSwxMTU6WzIsMTQ0XSwxMjM6WzIsMTQ0XSwxMjU6WzIsMTQ0XSwxMjY6WzIsMTQ0XSwxMjk6WzIsMTQ0XSwxMzA6WzIsMTQ0XSwxMzE6WzIsMTQ0XSwxMzI6WzIsMTQ0XSwxMzM6WzIsMTQ0XSwxMzQ6WzIsMTQ0XX0sezc5OjE4MCw4MjpbMSwxMDNdfSx7MTpbMiw2M10sNjpbMiw2M10sMjU6WzIsNjNdLDI2OlsyLDYzXSwzNzpbMiw2M10sNDY6WzIsNjNdLDUxOlsyLDYzXSw1NDpbMiw2M10sNjM6WzIsNjNdLDY0OlsyLDYzXSw2NTpbMiw2M10sNjc6WzIsNjNdLDY5OlsyLDYzXSw3MDpbMiw2M10sNzE6WzIsNjNdLDc1OlsyLDYzXSw3NzpbMiw2M10sODE6WzIsNjNdLDgyOlsyLDYzXSw4MzpbMiw2M10sODg6WzIsNjNdLDkwOlsyLDYzXSw5OTpbMiw2M10sMTAxOlsyLDYzXSwxMDI6WzIsNjNdLDEwMzpbMiw2M10sMTA3OlsyLDYzXSwxMTU6WzIsNjNdLDEyMzpbMiw2M10sMTI1OlsyLDYzXSwxMjY6WzIsNjNdLDEyNzpbMiw2M10sMTI4OlsyLDYzXSwxMjk6WzIsNjNdLDEzMDpbMiw2M10sMTMxOlsyLDYzXSwxMzI6WzIsNjNdLDEzMzpbMiw2M10sMTM0OlsyLDYzXSwxMzU6WzIsNjNdfSx7ODI6WzIsMTAzXX0sezI3OjE4MSwyODpbMSw3MF19LHsyNzoxODIsMjg6WzEsNzBdfSx7MTpbMiw3N10sNjpbMiw3N10sMjU6WzIsNzddLDI2OlsyLDc3XSwyNzoxODMsMjg6WzEsNzBdLDM3OlsyLDc3XSw0NjpbMiw3N10sNTE6WzIsNzddLDU0OlsyLDc3XSw2MzpbMiw3N10sNjQ6WzIsNzddLDY1OlsyLDc3XSw2NzpbMiw3N10sNjk6WzIsNzddLDcwOlsyLDc3XSw3MTpbMiw3N10sNzU6WzIsNzddLDc3OlsyLDc3XSw4MTpbMiw3N10sODI6WzIsNzddLDgzOlsyLDc3XSw4ODpbMiw3N10sOTA6WzIsNzddLDk5OlsyLDc3XSwxMDE6WzIsNzddLDEwMjpbMiw3N10sMTAzOlsyLDc3XSwxMDc6WzIsNzddLDExNTpbMiw3N10sMTIzOlsyLDc3XSwxMjU6WzIsNzddLDEyNjpbMiw3N10sMTI3OlsyLDc3XSwxMjg6WzIsNzddLDEyOTpbMiw3N10sMTMwOlsyLDc3XSwxMzE6WzIsNzddLDEzMjpbMiw3N10sMTMzOlsyLDc3XSwxMzQ6WzIsNzddLDEzNTpbMiw3N119LHsxOlsyLDc4XSw2OlsyLDc4XSwyNTpbMiw3OF0sMjY6WzIsNzhdLDM3OlsyLDc4XSw0NjpbMiw3OF0sNTE6WzIsNzhdLDU0OlsyLDc4XSw2MzpbMiw3OF0sNjQ6WzIsNzhdLDY1OlsyLDc4XSw2NzpbMiw3OF0sNjk6WzIsNzhdLDcwOlsyLDc4XSw3MTpbMiw3OF0sNzU6WzIsNzhdLDc3OlsyLDc4XSw4MTpbMiw3OF0sODI6WzIsNzhdLDgzOlsyLDc4XSw4ODpbMiw3OF0sOTA6WzIsNzhdLDk5OlsyLDc4XSwxMDE6WzIsNzhdLDEwMjpbMiw3OF0sMTAzOlsyLDc4XSwxMDc6WzIsNzhdLDExNTpbMiw3OF0sMTIzOlsyLDc4XSwxMjU6WzIsNzhdLDEyNjpbMiw3OF0sMTI3OlsyLDc4XSwxMjg6WzIsNzhdLDEyOTpbMiw3OF0sMTMwOlsyLDc4XSwxMzE6WzIsNzhdLDEzMjpbMiw3OF0sMTMzOlsyLDc4XSwxMzQ6WzIsNzhdLDEzNTpbMiw3OF19LHs4OjE4NSw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTQ6WzEsMTg5XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw2ODoxODQsNzI6MTg2LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDg5OjE4Nyw5MDpbMSwxODhdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7NjY6MTkwLDY3OlsxLDk2XSw3MDpbMSw5N10sNzE6WzEsOThdfSx7NjY6MTkxLDY3OlsxLDk2XSw3MDpbMSw5N10sNzE6WzEsOThdfSx7Nzk6MTkyLDgyOlsxLDEwM119LHsxOlsyLDY0XSw2OlsyLDY0XSwyNTpbMiw2NF0sMjY6WzIsNjRdLDM3OlsyLDY0XSw0NjpbMiw2NF0sNTE6WzIsNjRdLDU0OlsyLDY0XSw2MzpbMiw2NF0sNjQ6WzIsNjRdLDY1OlsyLDY0XSw2NzpbMiw2NF0sNjk6WzIsNjRdLDcwOlsyLDY0XSw3MTpbMiw2NF0sNzU6WzIsNjRdLDc3OlsyLDY0XSw4MTpbMiw2NF0sODI6WzIsNjRdLDgzOlsyLDY0XSw4ODpbMiw2NF0sOTA6WzIsNjRdLDk5OlsyLDY0XSwxMDE6WzIsNjRdLDEwMjpbMiw2NF0sMTAzOlsyLDY0XSwxMDc6WzIsNjRdLDExNTpbMiw2NF0sMTIzOlsyLDY0XSwxMjU6WzIsNjRdLDEyNjpbMiw2NF0sMTI3OlsyLDY0XSwxMjg6WzIsNjRdLDEyOTpbMiw2NF0sMTMwOlsyLDY0XSwxMzE6WzIsNjRdLDEzMjpbMiw2NF0sMTMzOlsyLDY0XSwxMzQ6WzIsNjRdLDEzNTpbMiw2NF19LHs4OjE5Myw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI1OlsxLDE5NF0sMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsMTAxXSw2OlsyLDEwMV0sMjU6WzIsMTAxXSwyNjpbMiwxMDFdLDQ2OlsyLDEwMV0sNTE6WzIsMTAxXSw1NDpbMiwxMDFdLDYzOlsyLDEwMV0sNjQ6WzIsMTAxXSw2NTpbMiwxMDFdLDY3OlsyLDEwMV0sNjk6WzIsMTAxXSw3MDpbMiwxMDFdLDcxOlsyLDEwMV0sNzU6WzIsMTAxXSw4MTpbMiwxMDFdLDgyOlsyLDEwMV0sODM6WzIsMTAxXSw4ODpbMiwxMDFdLDkwOlsyLDEwMV0sOTk6WzIsMTAxXSwxMDE6WzIsMTAxXSwxMDI6WzIsMTAxXSwxMDM6WzIsMTAxXSwxMDc6WzIsMTAxXSwxMTU6WzIsMTAxXSwxMjM6WzIsMTAxXSwxMjU6WzIsMTAxXSwxMjY6WzIsMTAxXSwxMjk6WzIsMTAxXSwxMzA6WzIsMTAxXSwxMzE6WzIsMTAxXSwxMzI6WzIsMTAxXSwxMzM6WzIsMTAxXSwxMzQ6WzIsMTAxXX0sezg6MTk3LDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjU6WzEsMTQ0XSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU3OjE0NSw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4MzpbMSwxOTVdLDg0OjE5Niw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MToxNDMsOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs0NjpbMSwxOThdLDUxOlsxLDE5OV19LHs0NjpbMiw1Ml0sNTE6WzIsNTJdfSx7Mzc6WzEsMjAxXSw0NjpbMiw1NF0sNTE6WzIsNTRdLDU0OlsxLDIwMF19LHszNzpbMiw1N10sNDY6WzIsNTddLDUxOlsyLDU3XSw1NDpbMiw1N119LHszNzpbMiw1OF0sNDY6WzIsNThdLDUxOlsyLDU4XSw1NDpbMiw1OF19LHszNzpbMiw1OV0sNDY6WzIsNTldLDUxOlsyLDU5XSw1NDpbMiw1OV19LHszNzpbMiw2MF0sNDY6WzIsNjBdLDUxOlsyLDYwXSw1NDpbMiw2MF19LHsyNzoxNDYsMjg6WzEsNzBdfSx7ODoxOTcsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNTpbMSwxNDRdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTc6MTQ1LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg0OjE0Miw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw4ODpbMSwxNDFdLDkxOjE0Myw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsNDZdLDY6WzIsNDZdLDI1OlsyLDQ2XSwyNjpbMiw0Nl0sNDY6WzIsNDZdLDUxOlsyLDQ2XSw1NDpbMiw0Nl0sNjk6WzIsNDZdLDc1OlsyLDQ2XSw4MzpbMiw0Nl0sODg6WzIsNDZdLDkwOlsyLDQ2XSw5OTpbMiw0Nl0sMTAxOlsyLDQ2XSwxMDI6WzIsNDZdLDEwMzpbMiw0Nl0sMTA3OlsyLDQ2XSwxMTU6WzIsNDZdLDEyMzpbMiw0Nl0sMTI1OlsyLDQ2XSwxMjY6WzIsNDZdLDEyOTpbMiw0Nl0sMTMwOlsyLDQ2XSwxMzE6WzIsNDZdLDEzMjpbMiw0Nl0sMTMzOlsyLDQ2XSwxMzQ6WzIsNDZdfSx7MTpbMiwxNzddLDY6WzIsMTc3XSwyNTpbMiwxNzddLDI2OlsyLDE3N10sNDY6WzIsMTc3XSw1MTpbMiwxNzddLDU0OlsyLDE3N10sNjk6WzIsMTc3XSw3NTpbMiwxNzddLDgzOlsyLDE3N10sODg6WzIsMTc3XSw5MDpbMiwxNzddLDk5OlsyLDE3N10sMTAwOjg0LDEwMTpbMiwxNzddLDEwMjpbMiwxNzddLDEwMzpbMiwxNzddLDEwNjo4NSwxMDc6WzIsMTc3XSwxMDg6NjYsMTE1OlsyLDE3N10sMTIzOlsyLDE3N10sMTI1OlsyLDE3N10sMTI2OlsyLDE3N10sMTI5OlsxLDc1XSwxMzA6WzIsMTc3XSwxMzE6WzIsMTc3XSwxMzI6WzIsMTc3XSwxMzM6WzIsMTc3XSwxMzQ6WzIsMTc3XX0sezEwMDo4NywxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg4LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4Nl19LHsxOlsyLDE3OF0sNjpbMiwxNzhdLDI1OlsyLDE3OF0sMjY6WzIsMTc4XSw0NjpbMiwxNzhdLDUxOlsyLDE3OF0sNTQ6WzIsMTc4XSw2OTpbMiwxNzhdLDc1OlsyLDE3OF0sODM6WzIsMTc4XSw4ODpbMiwxNzhdLDkwOlsyLDE3OF0sOTk6WzIsMTc4XSwxMDA6ODQsMTAxOlsyLDE3OF0sMTAyOlsyLDE3OF0sMTAzOlsyLDE3OF0sMTA2Ojg1LDEwNzpbMiwxNzhdLDEwODo2NiwxMTU6WzIsMTc4XSwxMjM6WzIsMTc4XSwxMjU6WzIsMTc4XSwxMjY6WzIsMTc4XSwxMjk6WzEsNzVdLDEzMDpbMiwxNzhdLDEzMTpbMiwxNzhdLDEzMjpbMiwxNzhdLDEzMzpbMiwxNzhdLDEzNDpbMiwxNzhdfSx7MTpbMiwxNzldLDY6WzIsMTc5XSwyNTpbMiwxNzldLDI2OlsyLDE3OV0sNDY6WzIsMTc5XSw1MTpbMiwxNzldLDU0OlsyLDE3OV0sNjk6WzIsMTc5XSw3NTpbMiwxNzldLDgzOlsyLDE3OV0sODg6WzIsMTc5XSw5MDpbMiwxNzldLDk5OlsyLDE3OV0sMTAwOjg0LDEwMTpbMiwxNzldLDEwMjpbMiwxNzldLDEwMzpbMiwxNzldLDEwNjo4NSwxMDc6WzIsMTc5XSwxMDg6NjYsMTE1OlsyLDE3OV0sMTIzOlsyLDE3OV0sMTI1OlsyLDE3OV0sMTI2OlsyLDE3OV0sMTI5OlsxLDc1XSwxMzA6WzIsMTc5XSwxMzE6WzIsMTc5XSwxMzI6WzIsMTc5XSwxMzM6WzIsMTc5XSwxMzQ6WzIsMTc5XX0sezE6WzIsMTgwXSw2OlsyLDE4MF0sMjU6WzIsMTgwXSwyNjpbMiwxODBdLDQ2OlsyLDE4MF0sNTE6WzIsMTgwXSw1NDpbMiwxODBdLDYzOlsyLDY2XSw2NDpbMiw2Nl0sNjU6WzIsNjZdLDY3OlsyLDY2XSw2OTpbMiwxODBdLDcwOlsyLDY2XSw3MTpbMiw2Nl0sNzU6WzIsMTgwXSw4MTpbMiw2Nl0sODI6WzIsNjZdLDgzOlsyLDE4MF0sODg6WzIsMTgwXSw5MDpbMiwxODBdLDk5OlsyLDE4MF0sMTAxOlsyLDE4MF0sMTAyOlsyLDE4MF0sMTAzOlsyLDE4MF0sMTA3OlsyLDE4MF0sMTE1OlsyLDE4MF0sMTIzOlsyLDE4MF0sMTI1OlsyLDE4MF0sMTI2OlsyLDE4MF0sMTI5OlsyLDE4MF0sMTMwOlsyLDE4MF0sMTMxOlsyLDE4MF0sMTMyOlsyLDE4MF0sMTMzOlsyLDE4MF0sMTM0OlsyLDE4MF19LHs1OTo5MCw2MzpbMSw5Ml0sNjQ6WzEsOTNdLDY1OlsxLDk0XSw2Njo5NSw2NzpbMSw5Nl0sNzA6WzEsOTddLDcxOlsxLDk4XSw3ODo4OSw4MTpbMSw5MV0sODI6WzIsMTAyXX0sezU5OjEwMCw2MzpbMSw5Ml0sNjQ6WzEsOTNdLDY1OlsxLDk0XSw2Njo5NSw2NzpbMSw5Nl0sNzA6WzEsOTddLDcxOlsxLDk4XSw3ODo5OSw4MTpbMSw5MV0sODI6WzIsMTAyXX0sezE6WzIsNjldLDY6WzIsNjldLDI1OlsyLDY5XSwyNjpbMiw2OV0sNDY6WzIsNjldLDUxOlsyLDY5XSw1NDpbMiw2OV0sNjM6WzIsNjldLDY0OlsyLDY5XSw2NTpbMiw2OV0sNjc6WzIsNjldLDY5OlsyLDY5XSw3MDpbMiw2OV0sNzE6WzIsNjldLDc1OlsyLDY5XSw4MTpbMiw2OV0sODI6WzIsNjldLDgzOlsyLDY5XSw4ODpbMiw2OV0sOTA6WzIsNjldLDk5OlsyLDY5XSwxMDE6WzIsNjldLDEwMjpbMiw2OV0sMTAzOlsyLDY5XSwxMDc6WzIsNjldLDExNTpbMiw2OV0sMTIzOlsyLDY5XSwxMjU6WzIsNjldLDEyNjpbMiw2OV0sMTI5OlsyLDY5XSwxMzA6WzIsNjldLDEzMTpbMiw2OV0sMTMyOlsyLDY5XSwxMzM6WzIsNjldLDEzNDpbMiw2OV19LHsxOlsyLDE4MV0sNjpbMiwxODFdLDI1OlsyLDE4MV0sMjY6WzIsMTgxXSw0NjpbMiwxODFdLDUxOlsyLDE4MV0sNTQ6WzIsMTgxXSw2MzpbMiw2Nl0sNjQ6WzIsNjZdLDY1OlsyLDY2XSw2NzpbMiw2Nl0sNjk6WzIsMTgxXSw3MDpbMiw2Nl0sNzE6WzIsNjZdLDc1OlsyLDE4MV0sODE6WzIsNjZdLDgyOlsyLDY2XSw4MzpbMiwxODFdLDg4OlsyLDE4MV0sOTA6WzIsMTgxXSw5OTpbMiwxODFdLDEwMTpbMiwxODFdLDEwMjpbMiwxODFdLDEwMzpbMiwxODFdLDEwNzpbMiwxODFdLDExNTpbMiwxODFdLDEyMzpbMiwxODFdLDEyNTpbMiwxODFdLDEyNjpbMiwxODFdLDEyOTpbMiwxODFdLDEzMDpbMiwxODFdLDEzMTpbMiwxODFdLDEzMjpbMiwxODFdLDEzMzpbMiwxODFdLDEzNDpbMiwxODFdfSx7MTpbMiwxODJdLDY6WzIsMTgyXSwyNTpbMiwxODJdLDI2OlsyLDE4Ml0sNDY6WzIsMTgyXSw1MTpbMiwxODJdLDU0OlsyLDE4Ml0sNjk6WzIsMTgyXSw3NTpbMiwxODJdLDgzOlsyLDE4Ml0sODg6WzIsMTgyXSw5MDpbMiwxODJdLDk5OlsyLDE4Ml0sMTAxOlsyLDE4Ml0sMTAyOlsyLDE4Ml0sMTAzOlsyLDE4Ml0sMTA3OlsyLDE4Ml0sMTE1OlsyLDE4Ml0sMTIzOlsyLDE4Ml0sMTI1OlsyLDE4Ml0sMTI2OlsyLDE4Ml0sMTI5OlsyLDE4Ml0sMTMwOlsyLDE4Ml0sMTMxOlsyLDE4Ml0sMTMyOlsyLDE4Ml0sMTMzOlsyLDE4Ml0sMTM0OlsyLDE4Ml19LHsxOlsyLDE4M10sNjpbMiwxODNdLDI1OlsyLDE4M10sMjY6WzIsMTgzXSw0NjpbMiwxODNdLDUxOlsyLDE4M10sNTQ6WzIsMTgzXSw2OTpbMiwxODNdLDc1OlsyLDE4M10sODM6WzIsMTgzXSw4ODpbMiwxODNdLDkwOlsyLDE4M10sOTk6WzIsMTgzXSwxMDE6WzIsMTgzXSwxMDI6WzIsMTgzXSwxMDM6WzIsMTgzXSwxMDc6WzIsMTgzXSwxMTU6WzIsMTgzXSwxMjM6WzIsMTgzXSwxMjU6WzIsMTgzXSwxMjY6WzIsMTgzXSwxMjk6WzIsMTgzXSwxMzA6WzIsMTgzXSwxMzE6WzIsMTgzXSwxMzI6WzIsMTgzXSwxMzM6WzIsMTgzXSwxMzQ6WzIsMTgzXX0sezg6MjAyLDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjU6WzEsMjAzXSwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoyMDQsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7NToyMDUsMjU6WzEsNV0sMTIyOlsxLDIwNl19LHsxOlsyLDEyNl0sNjpbMiwxMjZdLDI1OlsyLDEyNl0sMjY6WzIsMTI2XSw0NjpbMiwxMjZdLDUxOlsyLDEyNl0sNTQ6WzIsMTI2XSw2OTpbMiwxMjZdLDc1OlsyLDEyNl0sODM6WzIsMTI2XSw4ODpbMiwxMjZdLDkwOlsyLDEyNl0sOTQ6MjA3LDk1OlsxLDIwOF0sOTY6WzEsMjA5XSw5OTpbMiwxMjZdLDEwMTpbMiwxMjZdLDEwMjpbMiwxMjZdLDEwMzpbMiwxMjZdLDEwNzpbMiwxMjZdLDExNTpbMiwxMjZdLDEyMzpbMiwxMjZdLDEyNTpbMiwxMjZdLDEyNjpbMiwxMjZdLDEyOTpbMiwxMjZdLDEzMDpbMiwxMjZdLDEzMTpbMiwxMjZdLDEzMjpbMiwxMjZdLDEzMzpbMiwxMjZdLDEzNDpbMiwxMjZdfSx7MTpbMiwxMzhdLDY6WzIsMTM4XSwyNTpbMiwxMzhdLDI2OlsyLDEzOF0sNDY6WzIsMTM4XSw1MTpbMiwxMzhdLDU0OlsyLDEzOF0sNjk6WzIsMTM4XSw3NTpbMiwxMzhdLDgzOlsyLDEzOF0sODg6WzIsMTM4XSw5MDpbMiwxMzhdLDk5OlsyLDEzOF0sMTAxOlsyLDEzOF0sMTAyOlsyLDEzOF0sMTAzOlsyLDEzOF0sMTA3OlsyLDEzOF0sMTE1OlsyLDEzOF0sMTIzOlsyLDEzOF0sMTI1OlsyLDEzOF0sMTI2OlsyLDEzOF0sMTI5OlsyLDEzOF0sMTMwOlsyLDEzOF0sMTMxOlsyLDEzOF0sMTMyOlsyLDEzOF0sMTMzOlsyLDEzOF0sMTM0OlsyLDEzOF19LHsxOlsyLDE0Nl0sNjpbMiwxNDZdLDI1OlsyLDE0Nl0sMjY6WzIsMTQ2XSw0NjpbMiwxNDZdLDUxOlsyLDE0Nl0sNTQ6WzIsMTQ2XSw2OTpbMiwxNDZdLDc1OlsyLDE0Nl0sODM6WzIsMTQ2XSw4ODpbMiwxNDZdLDkwOlsyLDE0Nl0sOTk6WzIsMTQ2XSwxMDE6WzIsMTQ2XSwxMDI6WzIsMTQ2XSwxMDM6WzIsMTQ2XSwxMDc6WzIsMTQ2XSwxMTU6WzIsMTQ2XSwxMjM6WzIsMTQ2XSwxMjU6WzIsMTQ2XSwxMjY6WzIsMTQ2XSwxMjk6WzIsMTQ2XSwxMzA6WzIsMTQ2XSwxMzE6WzIsMTQ2XSwxMzI6WzIsMTQ2XSwxMzM6WzIsMTQ2XSwxMzQ6WzIsMTQ2XX0sezI1OlsxLDIxMF0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsxMTc6MjExLDExOToyMTIsMTIwOlsxLDIxM119LHsxOlsyLDkxXSw2OlsyLDkxXSwyNTpbMiw5MV0sMjY6WzIsOTFdLDQ2OlsyLDkxXSw1MTpbMiw5MV0sNTQ6WzIsOTFdLDY5OlsyLDkxXSw3NTpbMiw5MV0sODM6WzIsOTFdLDg4OlsyLDkxXSw5MDpbMiw5MV0sOTk6WzIsOTFdLDEwMTpbMiw5MV0sMTAyOlsyLDkxXSwxMDM6WzIsOTFdLDEwNzpbMiw5MV0sMTE1OlsyLDkxXSwxMjM6WzIsOTFdLDEyNTpbMiw5MV0sMTI2OlsyLDkxXSwxMjk6WzIsOTFdLDEzMDpbMiw5MV0sMTMxOlsyLDkxXSwxMzI6WzIsOTFdLDEzMzpbMiw5MV0sMTM0OlsyLDkxXX0sezE0OjIxNCwxNToxMjAsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MTIxLDQxOjYwLDU1OjQ3LDU2OjQ4LDU4OjIxNSw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDk4OlsxLDUzXX0sezE6WzIsOTRdLDU6MjE2LDY6WzIsOTRdLDI1OlsxLDVdLDI2OlsyLDk0XSw0NjpbMiw5NF0sNTE6WzIsOTRdLDU0OlsyLDk0XSw2MzpbMiw2Nl0sNjQ6WzIsNjZdLDY1OlsyLDY2XSw2NzpbMiw2Nl0sNjk6WzIsOTRdLDcwOlsyLDY2XSw3MTpbMiw2Nl0sNzU6WzIsOTRdLDc3OlsxLDIxN10sODE6WzIsNjZdLDgyOlsyLDY2XSw4MzpbMiw5NF0sODg6WzIsOTRdLDkwOlsyLDk0XSw5OTpbMiw5NF0sMTAxOlsyLDk0XSwxMDI6WzIsOTRdLDEwMzpbMiw5NF0sMTA3OlsyLDk0XSwxMTU6WzIsOTRdLDEyMzpbMiw5NF0sMTI1OlsyLDk0XSwxMjY6WzIsOTRdLDEyOTpbMiw5NF0sMTMwOlsyLDk0XSwxMzE6WzIsOTRdLDEzMjpbMiw5NF0sMTMzOlsyLDk0XSwxMzQ6WzIsOTRdfSx7MTpbMiw0Ml0sNjpbMiw0Ml0sMjY6WzIsNDJdLDk5OlsyLDQyXSwxMDA6ODQsMTAxOlsyLDQyXSwxMDM6WzIsNDJdLDEwNjo4NSwxMDc6WzIsNDJdLDEwODo2NiwxMjM6WzIsNDJdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTMxXSw2OlsyLDEzMV0sMjY6WzIsMTMxXSw5OTpbMiwxMzFdLDEwMDo4NCwxMDE6WzIsMTMxXSwxMDM6WzIsMTMxXSwxMDY6ODUsMTA3OlsyLDEzMV0sMTA4OjY2LDEyMzpbMiwxMzFdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezY6WzEsNzFdLDk5OlsxLDIxOF19LHs0OjIxOSw3OjQsODo2LDk6NywxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OlsyLDEyMl0sMjU6WzIsMTIyXSw1MTpbMiwxMjJdLDU0OlsxLDIyMV0sODg6WzIsMTIyXSw4OToyMjAsOTA6WzEsMTg4XSwxMDA6ODQsMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNjo4NSwxMDc6WzEsNjVdLDEwODo2NiwxMjM6WzEsODNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTA5XSw2OlsyLDEwOV0sMjU6WzIsMTA5XSwyNjpbMiwxMDldLDM3OlsyLDEwOV0sNDY6WzIsMTA5XSw1MTpbMiwxMDldLDU0OlsyLDEwOV0sNjM6WzIsMTA5XSw2NDpbMiwxMDldLDY1OlsyLDEwOV0sNjc6WzIsMTA5XSw2OTpbMiwxMDldLDcwOlsyLDEwOV0sNzE6WzIsMTA5XSw3NTpbMiwxMDldLDgxOlsyLDEwOV0sODI6WzIsMTA5XSw4MzpbMiwxMDldLDg4OlsyLDEwOV0sOTA6WzIsMTA5XSw5OTpbMiwxMDldLDEwMTpbMiwxMDldLDEwMjpbMiwxMDldLDEwMzpbMiwxMDldLDEwNzpbMiwxMDldLDExMzpbMiwxMDldLDExNDpbMiwxMDldLDExNTpbMiwxMDldLDEyMzpbMiwxMDldLDEyNTpbMiwxMDldLDEyNjpbMiwxMDldLDEyOTpbMiwxMDldLDEzMDpbMiwxMDldLDEzMTpbMiwxMDldLDEzMjpbMiwxMDldLDEzMzpbMiwxMDldLDEzNDpbMiwxMDldfSx7NjpbMiw0OV0sMjU6WzIsNDldLDUwOjIyMiw1MTpbMSwyMjNdLDg4OlsyLDQ5XX0sezY6WzIsMTE3XSwyNTpbMiwxMTddLDI2OlsyLDExN10sNTE6WzIsMTE3XSw4MzpbMiwxMTddLDg4OlsyLDExN119LHs4OjE5Nyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI1OlsxLDE0NF0sMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1NzoxNDUsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODQ6MjI0LDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkxOjE0Myw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezY6WzIsMTIzXSwyNTpbMiwxMjNdLDI2OlsyLDEyM10sNTE6WzIsMTIzXSw4MzpbMiwxMjNdLDg4OlsyLDEyM119LHsxOlsyLDEwOF0sNjpbMiwxMDhdLDI1OlsyLDEwOF0sMjY6WzIsMTA4XSwzNzpbMiwxMDhdLDQwOlsyLDEwOF0sNDY6WzIsMTA4XSw1MTpbMiwxMDhdLDU0OlsyLDEwOF0sNjM6WzIsMTA4XSw2NDpbMiwxMDhdLDY1OlsyLDEwOF0sNjc6WzIsMTA4XSw2OTpbMiwxMDhdLDcwOlsyLDEwOF0sNzE6WzIsMTA4XSw3NTpbMiwxMDhdLDc3OlsyLDEwOF0sODE6WzIsMTA4XSw4MjpbMiwxMDhdLDgzOlsyLDEwOF0sODg6WzIsMTA4XSw5MDpbMiwxMDhdLDk5OlsyLDEwOF0sMTAxOlsyLDEwOF0sMTAyOlsyLDEwOF0sMTAzOlsyLDEwOF0sMTA3OlsyLDEwOF0sMTE1OlsyLDEwOF0sMTIzOlsyLDEwOF0sMTI1OlsyLDEwOF0sMTI2OlsyLDEwOF0sMTI3OlsyLDEwOF0sMTI4OlsyLDEwOF0sMTI5OlsyLDEwOF0sMTMwOlsyLDEwOF0sMTMxOlsyLDEwOF0sMTMyOlsyLDEwOF0sMTMzOlsyLDEwOF0sMTM0OlsyLDEwOF0sMTM1OlsyLDEwOF19LHs1OjIyNSwyNTpbMSw1XSwxMDA6ODQsMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNjo4NSwxMDc6WzEsNjVdLDEwODo2NiwxMjM6WzEsODNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTM0XSw2OlsyLDEzNF0sMjU6WzIsMTM0XSwyNjpbMiwxMzRdLDQ2OlsyLDEzNF0sNTE6WzIsMTM0XSw1NDpbMiwxMzRdLDY5OlsyLDEzNF0sNzU6WzIsMTM0XSw4MzpbMiwxMzRdLDg4OlsyLDEzNF0sOTA6WzIsMTM0XSw5OTpbMiwxMzRdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMjpbMSwyMjZdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDExNTpbMiwxMzRdLDEyMzpbMiwxMzRdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTM2XSw2OlsyLDEzNl0sMjU6WzIsMTM2XSwyNjpbMiwxMzZdLDQ2OlsyLDEzNl0sNTE6WzIsMTM2XSw1NDpbMiwxMzZdLDY5OlsyLDEzNl0sNzU6WzIsMTM2XSw4MzpbMiwxMzZdLDg4OlsyLDEzNl0sOTA6WzIsMTM2XSw5OTpbMiwxMzZdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMjpbMSwyMjddLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDExNTpbMiwxMzZdLDEyMzpbMiwxMzZdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTQyXSw2OlsyLDE0Ml0sMjU6WzIsMTQyXSwyNjpbMiwxNDJdLDQ2OlsyLDE0Ml0sNTE6WzIsMTQyXSw1NDpbMiwxNDJdLDY5OlsyLDE0Ml0sNzU6WzIsMTQyXSw4MzpbMiwxNDJdLDg4OlsyLDE0Ml0sOTA6WzIsMTQyXSw5OTpbMiwxNDJdLDEwMTpbMiwxNDJdLDEwMjpbMiwxNDJdLDEwMzpbMiwxNDJdLDEwNzpbMiwxNDJdLDExNTpbMiwxNDJdLDEyMzpbMiwxNDJdLDEyNTpbMiwxNDJdLDEyNjpbMiwxNDJdLDEyOTpbMiwxNDJdLDEzMDpbMiwxNDJdLDEzMTpbMiwxNDJdLDEzMjpbMiwxNDJdLDEzMzpbMiwxNDJdLDEzNDpbMiwxNDJdfSx7MTpbMiwxNDNdLDY6WzIsMTQzXSwyNTpbMiwxNDNdLDI2OlsyLDE0M10sNDY6WzIsMTQzXSw1MTpbMiwxNDNdLDU0OlsyLDE0M10sNjk6WzIsMTQzXSw3NTpbMiwxNDNdLDgzOlsyLDE0M10sODg6WzIsMTQzXSw5MDpbMiwxNDNdLDk5OlsyLDE0M10sMTAwOjg0LDEwMTpbMSw2Ml0sMTAyOlsyLDE0M10sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTE1OlsyLDE0M10sMTIzOlsyLDE0M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MTpbMiwxNDddLDY6WzIsMTQ3XSwyNTpbMiwxNDddLDI2OlsyLDE0N10sNDY6WzIsMTQ3XSw1MTpbMiwxNDddLDU0OlsyLDE0N10sNjk6WzIsMTQ3XSw3NTpbMiwxNDddLDgzOlsyLDE0N10sODg6WzIsMTQ3XSw5MDpbMiwxNDddLDk5OlsyLDE0N10sMTAxOlsyLDE0N10sMTAyOlsyLDE0N10sMTAzOlsyLDE0N10sMTA3OlsyLDE0N10sMTE1OlsyLDE0N10sMTIzOlsyLDE0N10sMTI1OlsyLDE0N10sMTI2OlsyLDE0N10sMTI5OlsyLDE0N10sMTMwOlsyLDE0N10sMTMxOlsyLDE0N10sMTMyOlsyLDE0N10sMTMzOlsyLDE0N10sMTM0OlsyLDE0N119LHsxMTM6WzIsMTQ5XSwxMTQ6WzIsMTQ5XX0sezI3OjE1NiwyODpbMSw3MF0sNTU6MTU3LDU2OjE1OCw3MzpbMSw2N10sODc6WzEsMTEyXSwxMTA6MjI4LDExMjoxNTV9LHs1MTpbMSwyMjldLDExMzpbMiwxNTRdLDExNDpbMiwxNTRdfSx7NTE6WzIsMTUxXSwxMTM6WzIsMTUxXSwxMTQ6WzIsMTUxXX0sezUxOlsyLDE1Ml0sMTEzOlsyLDE1Ml0sMTE0OlsyLDE1Ml19LHs1MTpbMiwxNTNdLDExMzpbMiwxNTNdLDExNDpbMiwxNTNdfSx7MTpbMiwxNDhdLDY6WzIsMTQ4XSwyNTpbMiwxNDhdLDI2OlsyLDE0OF0sNDY6WzIsMTQ4XSw1MTpbMiwxNDhdLDU0OlsyLDE0OF0sNjk6WzIsMTQ4XSw3NTpbMiwxNDhdLDgzOlsyLDE0OF0sODg6WzIsMTQ4XSw5MDpbMiwxNDhdLDk5OlsyLDE0OF0sMTAxOlsyLDE0OF0sMTAyOlsyLDE0OF0sMTAzOlsyLDE0OF0sMTA3OlsyLDE0OF0sMTE1OlsyLDE0OF0sMTIzOlsyLDE0OF0sMTI1OlsyLDE0OF0sMTI2OlsyLDE0OF0sMTI5OlsyLDE0OF0sMTMwOlsyLDE0OF0sMTMxOlsyLDE0OF0sMTMyOlsyLDE0OF0sMTMzOlsyLDE0OF0sMTM0OlsyLDE0OF19LHs4OjIzMCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjIzMSw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OlsyLDQ5XSwyNTpbMiw0OV0sNTA6MjMyLDUxOlsxLDIzM10sNzU6WzIsNDldfSx7NjpbMiw4Nl0sMjU6WzIsODZdLDI2OlsyLDg2XSw1MTpbMiw4Nl0sNzU6WzIsODZdfSx7NjpbMiwzNV0sMjU6WzIsMzVdLDI2OlsyLDM1XSw0MDpbMSwyMzRdLDUxOlsyLDM1XSw3NTpbMiwzNV19LHs2OlsyLDM4XSwyNTpbMiwzOF0sMjY6WzIsMzhdLDUxOlsyLDM4XSw3NTpbMiwzOF19LHs2OlsyLDM5XSwyNTpbMiwzOV0sMjY6WzIsMzldLDQwOlsyLDM5XSw1MTpbMiwzOV0sNzU6WzIsMzldfSx7NjpbMiw0MF0sMjU6WzIsNDBdLDI2OlsyLDQwXSw0MDpbMiw0MF0sNTE6WzIsNDBdLDc1OlsyLDQwXX0sezY6WzIsNDFdLDI1OlsyLDQxXSwyNjpbMiw0MV0sNDA6WzIsNDFdLDUxOlsyLDQxXSw3NTpbMiw0MV19LHsxOlsyLDVdLDY6WzIsNV0sMjY6WzIsNV0sOTk6WzIsNV19LHsxOlsyLDI1XSw2OlsyLDI1XSwyNTpbMiwyNV0sMjY6WzIsMjVdLDQ2OlsyLDI1XSw1MTpbMiwyNV0sNTQ6WzIsMjVdLDY5OlsyLDI1XSw3NTpbMiwyNV0sODM6WzIsMjVdLDg4OlsyLDI1XSw5MDpbMiwyNV0sOTU6WzIsMjVdLDk2OlsyLDI1XSw5OTpbMiwyNV0sMTAxOlsyLDI1XSwxMDI6WzIsMjVdLDEwMzpbMiwyNV0sMTA3OlsyLDI1XSwxMTU6WzIsMjVdLDExODpbMiwyNV0sMTIwOlsyLDI1XSwxMjM6WzIsMjVdLDEyNTpbMiwyNV0sMTI2OlsyLDI1XSwxMjk6WzIsMjVdLDEzMDpbMiwyNV0sMTMxOlsyLDI1XSwxMzI6WzIsMjVdLDEzMzpbMiwyNV0sMTM0OlsyLDI1XX0sezE6WzIsMTg1XSw2OlsyLDE4NV0sMjU6WzIsMTg1XSwyNjpbMiwxODVdLDQ2OlsyLDE4NV0sNTE6WzIsMTg1XSw1NDpbMiwxODVdLDY5OlsyLDE4NV0sNzU6WzIsMTg1XSw4MzpbMiwxODVdLDg4OlsyLDE4NV0sOTA6WzIsMTg1XSw5OTpbMiwxODVdLDEwMDo4NCwxMDE6WzIsMTg1XSwxMDI6WzIsMTg1XSwxMDM6WzIsMTg1XSwxMDY6ODUsMTA3OlsyLDE4NV0sMTA4OjY2LDExNTpbMiwxODVdLDEyMzpbMiwxODVdLDEyNTpbMiwxODVdLDEyNjpbMiwxODVdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzIsMTg1XSwxMzI6WzIsMTg1XSwxMzM6WzIsMTg1XSwxMzQ6WzIsMTg1XX0sezE6WzIsMTg2XSw2OlsyLDE4Nl0sMjU6WzIsMTg2XSwyNjpbMiwxODZdLDQ2OlsyLDE4Nl0sNTE6WzIsMTg2XSw1NDpbMiwxODZdLDY5OlsyLDE4Nl0sNzU6WzIsMTg2XSw4MzpbMiwxODZdLDg4OlsyLDE4Nl0sOTA6WzIsMTg2XSw5OTpbMiwxODZdLDEwMDo4NCwxMDE6WzIsMTg2XSwxMDI6WzIsMTg2XSwxMDM6WzIsMTg2XSwxMDY6ODUsMTA3OlsyLDE4Nl0sMTA4OjY2LDExNTpbMiwxODZdLDEyMzpbMiwxODZdLDEyNTpbMiwxODZdLDEyNjpbMiwxODZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzIsMTg2XSwxMzI6WzIsMTg2XSwxMzM6WzIsMTg2XSwxMzQ6WzIsMTg2XX0sezE6WzIsMTg3XSw2OlsyLDE4N10sMjU6WzIsMTg3XSwyNjpbMiwxODddLDQ2OlsyLDE4N10sNTE6WzIsMTg3XSw1NDpbMiwxODddLDY5OlsyLDE4N10sNzU6WzIsMTg3XSw4MzpbMiwxODddLDg4OlsyLDE4N10sOTA6WzIsMTg3XSw5OTpbMiwxODddLDEwMDo4NCwxMDE6WzIsMTg3XSwxMDI6WzIsMTg3XSwxMDM6WzIsMTg3XSwxMDY6ODUsMTA3OlsyLDE4N10sMTA4OjY2LDExNTpbMiwxODddLDEyMzpbMiwxODddLDEyNTpbMiwxODddLDEyNjpbMiwxODddLDEyOTpbMSw3NV0sMTMwOlsyLDE4N10sMTMxOlsyLDE4N10sMTMyOlsyLDE4N10sMTMzOlsyLDE4N10sMTM0OlsyLDE4N119LHsxOlsyLDE4OF0sNjpbMiwxODhdLDI1OlsyLDE4OF0sMjY6WzIsMTg4XSw0NjpbMiwxODhdLDUxOlsyLDE4OF0sNTQ6WzIsMTg4XSw2OTpbMiwxODhdLDc1OlsyLDE4OF0sODM6WzIsMTg4XSw4ODpbMiwxODhdLDkwOlsyLDE4OF0sOTk6WzIsMTg4XSwxMDA6ODQsMTAxOlsyLDE4OF0sMTAyOlsyLDE4OF0sMTAzOlsyLDE4OF0sMTA2Ojg1LDEwNzpbMiwxODhdLDEwODo2NiwxMTU6WzIsMTg4XSwxMjM6WzIsMTg4XSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMiwxODhdLDEzMjpbMiwxODhdLDEzMzpbMiwxODhdLDEzNDpbMiwxODhdfSx7MTpbMiwxODldLDY6WzIsMTg5XSwyNTpbMiwxODldLDI2OlsyLDE4OV0sNDY6WzIsMTg5XSw1MTpbMiwxODldLDU0OlsyLDE4OV0sNjk6WzIsMTg5XSw3NTpbMiwxODldLDgzOlsyLDE4OV0sODg6WzIsMTg5XSw5MDpbMiwxODldLDk5OlsyLDE4OV0sMTAwOjg0LDEwMTpbMiwxODldLDEwMjpbMiwxODldLDEwMzpbMiwxODldLDEwNjo4NSwxMDc6WzIsMTg5XSwxMDg6NjYsMTE1OlsyLDE4OV0sMTIzOlsyLDE4OV0sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMiwxODldLDEzMzpbMiwxODldLDEzNDpbMSw4Ml19LHsxOlsyLDE5MF0sNjpbMiwxOTBdLDI1OlsyLDE5MF0sMjY6WzIsMTkwXSw0NjpbMiwxOTBdLDUxOlsyLDE5MF0sNTQ6WzIsMTkwXSw2OTpbMiwxOTBdLDc1OlsyLDE5MF0sODM6WzIsMTkwXSw4ODpbMiwxOTBdLDkwOlsyLDE5MF0sOTk6WzIsMTkwXSwxMDA6ODQsMTAxOlsyLDE5MF0sMTAyOlsyLDE5MF0sMTAzOlsyLDE5MF0sMTA2Ojg1LDEwNzpbMiwxOTBdLDEwODo2NiwxMTU6WzIsMTkwXSwxMjM6WzIsMTkwXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzIsMTkwXSwxMzQ6WzEsODJdfSx7MTpbMiwxOTFdLDY6WzIsMTkxXSwyNTpbMiwxOTFdLDI2OlsyLDE5MV0sNDY6WzIsMTkxXSw1MTpbMiwxOTFdLDU0OlsyLDE5MV0sNjk6WzIsMTkxXSw3NTpbMiwxOTFdLDgzOlsyLDE5MV0sODg6WzIsMTkxXSw5MDpbMiwxOTFdLDk5OlsyLDE5MV0sMTAwOjg0LDEwMTpbMiwxOTFdLDEwMjpbMiwxOTFdLDEwMzpbMiwxOTFdLDEwNjo4NSwxMDc6WzIsMTkxXSwxMDg6NjYsMTE1OlsyLDE5MV0sMTIzOlsyLDE5MV0sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMiwxOTFdLDEzMzpbMiwxOTFdLDEzNDpbMiwxOTFdfSx7MTpbMiwxNzZdLDY6WzIsMTc2XSwyNTpbMiwxNzZdLDI2OlsyLDE3Nl0sNDY6WzIsMTc2XSw1MTpbMiwxNzZdLDU0OlsyLDE3Nl0sNjk6WzIsMTc2XSw3NTpbMiwxNzZdLDgzOlsyLDE3Nl0sODg6WzIsMTc2XSw5MDpbMiwxNzZdLDk5OlsyLDE3Nl0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAyOlsyLDE3Nl0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTE1OlsyLDE3Nl0sMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsxOlsyLDE3NV0sNjpbMiwxNzVdLDI1OlsyLDE3NV0sMjY6WzIsMTc1XSw0NjpbMiwxNzVdLDUxOlsyLDE3NV0sNTQ6WzIsMTc1XSw2OTpbMiwxNzVdLDc1OlsyLDE3NV0sODM6WzIsMTc1XSw4ODpbMiwxNzVdLDkwOlsyLDE3NV0sOTk6WzIsMTc1XSwxMDA6ODQsMTAxOlsxLDYyXSwxMDI6WzIsMTc1XSwxMDM6WzEsNjNdLDEwNjo4NSwxMDc6WzEsNjVdLDEwODo2NiwxMTU6WzIsMTc1XSwxMjM6WzEsODNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsOThdLDY6WzIsOThdLDI1OlsyLDk4XSwyNjpbMiw5OF0sNDY6WzIsOThdLDUxOlsyLDk4XSw1NDpbMiw5OF0sNjM6WzIsOThdLDY0OlsyLDk4XSw2NTpbMiw5OF0sNjc6WzIsOThdLDY5OlsyLDk4XSw3MDpbMiw5OF0sNzE6WzIsOThdLDc1OlsyLDk4XSw4MTpbMiw5OF0sODI6WzIsOThdLDgzOlsyLDk4XSw4ODpbMiw5OF0sOTA6WzIsOThdLDk5OlsyLDk4XSwxMDE6WzIsOThdLDEwMjpbMiw5OF0sMTAzOlsyLDk4XSwxMDc6WzIsOThdLDExNTpbMiw5OF0sMTIzOlsyLDk4XSwxMjU6WzIsOThdLDEyNjpbMiw5OF0sMTI5OlsyLDk4XSwxMzA6WzIsOThdLDEzMTpbMiw5OF0sMTMyOlsyLDk4XSwxMzM6WzIsOThdLDEzNDpbMiw5OF19LHsxOlsyLDc0XSw2OlsyLDc0XSwyNTpbMiw3NF0sMjY6WzIsNzRdLDM3OlsyLDc0XSw0NjpbMiw3NF0sNTE6WzIsNzRdLDU0OlsyLDc0XSw2MzpbMiw3NF0sNjQ6WzIsNzRdLDY1OlsyLDc0XSw2NzpbMiw3NF0sNjk6WzIsNzRdLDcwOlsyLDc0XSw3MTpbMiw3NF0sNzU6WzIsNzRdLDc3OlsyLDc0XSw4MTpbMiw3NF0sODI6WzIsNzRdLDgzOlsyLDc0XSw4ODpbMiw3NF0sOTA6WzIsNzRdLDk5OlsyLDc0XSwxMDE6WzIsNzRdLDEwMjpbMiw3NF0sMTAzOlsyLDc0XSwxMDc6WzIsNzRdLDExNTpbMiw3NF0sMTIzOlsyLDc0XSwxMjU6WzIsNzRdLDEyNjpbMiw3NF0sMTI3OlsyLDc0XSwxMjg6WzIsNzRdLDEyOTpbMiw3NF0sMTMwOlsyLDc0XSwxMzE6WzIsNzRdLDEzMjpbMiw3NF0sMTMzOlsyLDc0XSwxMzQ6WzIsNzRdLDEzNTpbMiw3NF19LHsxOlsyLDc1XSw2OlsyLDc1XSwyNTpbMiw3NV0sMjY6WzIsNzVdLDM3OlsyLDc1XSw0NjpbMiw3NV0sNTE6WzIsNzVdLDU0OlsyLDc1XSw2MzpbMiw3NV0sNjQ6WzIsNzVdLDY1OlsyLDc1XSw2NzpbMiw3NV0sNjk6WzIsNzVdLDcwOlsyLDc1XSw3MTpbMiw3NV0sNzU6WzIsNzVdLDc3OlsyLDc1XSw4MTpbMiw3NV0sODI6WzIsNzVdLDgzOlsyLDc1XSw4ODpbMiw3NV0sOTA6WzIsNzVdLDk5OlsyLDc1XSwxMDE6WzIsNzVdLDEwMjpbMiw3NV0sMTAzOlsyLDc1XSwxMDc6WzIsNzVdLDExNTpbMiw3NV0sMTIzOlsyLDc1XSwxMjU6WzIsNzVdLDEyNjpbMiw3NV0sMTI3OlsyLDc1XSwxMjg6WzIsNzVdLDEyOTpbMiw3NV0sMTMwOlsyLDc1XSwxMzE6WzIsNzVdLDEzMjpbMiw3NV0sMTMzOlsyLDc1XSwxMzQ6WzIsNzVdLDEzNTpbMiw3NV19LHsxOlsyLDc2XSw2OlsyLDc2XSwyNTpbMiw3Nl0sMjY6WzIsNzZdLDM3OlsyLDc2XSw0NjpbMiw3Nl0sNTE6WzIsNzZdLDU0OlsyLDc2XSw2MzpbMiw3Nl0sNjQ6WzIsNzZdLDY1OlsyLDc2XSw2NzpbMiw3Nl0sNjk6WzIsNzZdLDcwOlsyLDc2XSw3MTpbMiw3Nl0sNzU6WzIsNzZdLDc3OlsyLDc2XSw4MTpbMiw3Nl0sODI6WzIsNzZdLDgzOlsyLDc2XSw4ODpbMiw3Nl0sOTA6WzIsNzZdLDk5OlsyLDc2XSwxMDE6WzIsNzZdLDEwMjpbMiw3Nl0sMTAzOlsyLDc2XSwxMDc6WzIsNzZdLDExNTpbMiw3Nl0sMTIzOlsyLDc2XSwxMjU6WzIsNzZdLDEyNjpbMiw3Nl0sMTI3OlsyLDc2XSwxMjg6WzIsNzZdLDEyOTpbMiw3Nl0sMTMwOlsyLDc2XSwxMzE6WzIsNzZdLDEzMjpbMiw3Nl0sMTMzOlsyLDc2XSwxMzQ6WzIsNzZdLDEzNTpbMiw3Nl19LHs2OTpbMSwyMzVdfSx7NTQ6WzEsMTg5XSw2OTpbMiw4Ml0sODk6MjM2LDkwOlsxLDE4OF0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHs2OTpbMiw4M119LHs4OjIzNyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxMzpbMiwxMTFdLDI4OlsyLDExMV0sMzA6WzIsMTExXSwzMTpbMiwxMTFdLDMzOlsyLDExMV0sMzQ6WzIsMTExXSwzNTpbMiwxMTFdLDQyOlsyLDExMV0sNDM6WzIsMTExXSw0NDpbMiwxMTFdLDQ4OlsyLDExMV0sNDk6WzIsMTExXSw2OTpbMiwxMTFdLDczOlsyLDExMV0sNzY6WzIsMTExXSw4MDpbMiwxMTFdLDg1OlsyLDExMV0sODY6WzIsMTExXSw4NzpbMiwxMTFdLDkzOlsyLDExMV0sOTc6WzIsMTExXSw5ODpbMiwxMTFdLDEwMTpbMiwxMTFdLDEwMzpbMiwxMTFdLDEwNTpbMiwxMTFdLDEwNzpbMiwxMTFdLDExNjpbMiwxMTFdLDEyMjpbMiwxMTFdLDEyNDpbMiwxMTFdLDEyNTpbMiwxMTFdLDEyNjpbMiwxMTFdLDEyNzpbMiwxMTFdLDEyODpbMiwxMTFdfSx7MTM6WzIsMTEyXSwyODpbMiwxMTJdLDMwOlsyLDExMl0sMzE6WzIsMTEyXSwzMzpbMiwxMTJdLDM0OlsyLDExMl0sMzU6WzIsMTEyXSw0MjpbMiwxMTJdLDQzOlsyLDExMl0sNDQ6WzIsMTEyXSw0ODpbMiwxMTJdLDQ5OlsyLDExMl0sNjk6WzIsMTEyXSw3MzpbMiwxMTJdLDc2OlsyLDExMl0sODA6WzIsMTEyXSw4NTpbMiwxMTJdLDg2OlsyLDExMl0sODc6WzIsMTEyXSw5MzpbMiwxMTJdLDk3OlsyLDExMl0sOTg6WzIsMTEyXSwxMDE6WzIsMTEyXSwxMDM6WzIsMTEyXSwxMDU6WzIsMTEyXSwxMDc6WzIsMTEyXSwxMTY6WzIsMTEyXSwxMjI6WzIsMTEyXSwxMjQ6WzIsMTEyXSwxMjU6WzIsMTEyXSwxMjY6WzIsMTEyXSwxMjc6WzIsMTEyXSwxMjg6WzIsMTEyXX0sezE6WzIsODBdLDY6WzIsODBdLDI1OlsyLDgwXSwyNjpbMiw4MF0sMzc6WzIsODBdLDQ2OlsyLDgwXSw1MTpbMiw4MF0sNTQ6WzIsODBdLDYzOlsyLDgwXSw2NDpbMiw4MF0sNjU6WzIsODBdLDY3OlsyLDgwXSw2OTpbMiw4MF0sNzA6WzIsODBdLDcxOlsyLDgwXSw3NTpbMiw4MF0sNzc6WzIsODBdLDgxOlsyLDgwXSw4MjpbMiw4MF0sODM6WzIsODBdLDg4OlsyLDgwXSw5MDpbMiw4MF0sOTk6WzIsODBdLDEwMTpbMiw4MF0sMTAyOlsyLDgwXSwxMDM6WzIsODBdLDEwNzpbMiw4MF0sMTE1OlsyLDgwXSwxMjM6WzIsODBdLDEyNTpbMiw4MF0sMTI2OlsyLDgwXSwxMjc6WzIsODBdLDEyODpbMiw4MF0sMTI5OlsyLDgwXSwxMzA6WzIsODBdLDEzMTpbMiw4MF0sMTMyOlsyLDgwXSwxMzM6WzIsODBdLDEzNDpbMiw4MF0sMTM1OlsyLDgwXX0sezE6WzIsODFdLDY6WzIsODFdLDI1OlsyLDgxXSwyNjpbMiw4MV0sMzc6WzIsODFdLDQ2OlsyLDgxXSw1MTpbMiw4MV0sNTQ6WzIsODFdLDYzOlsyLDgxXSw2NDpbMiw4MV0sNjU6WzIsODFdLDY3OlsyLDgxXSw2OTpbMiw4MV0sNzA6WzIsODFdLDcxOlsyLDgxXSw3NTpbMiw4MV0sNzc6WzIsODFdLDgxOlsyLDgxXSw4MjpbMiw4MV0sODM6WzIsODFdLDg4OlsyLDgxXSw5MDpbMiw4MV0sOTk6WzIsODFdLDEwMTpbMiw4MV0sMTAyOlsyLDgxXSwxMDM6WzIsODFdLDEwNzpbMiw4MV0sMTE1OlsyLDgxXSwxMjM6WzIsODFdLDEyNTpbMiw4MV0sMTI2OlsyLDgxXSwxMjc6WzIsODFdLDEyODpbMiw4MV0sMTI5OlsyLDgxXSwxMzA6WzIsODFdLDEzMTpbMiw4MV0sMTMyOlsyLDgxXSwxMzM6WzIsODFdLDEzNDpbMiw4MV0sMTM1OlsyLDgxXX0sezE6WzIsOTldLDY6WzIsOTldLDI1OlsyLDk5XSwyNjpbMiw5OV0sNDY6WzIsOTldLDUxOlsyLDk5XSw1NDpbMiw5OV0sNjM6WzIsOTldLDY0OlsyLDk5XSw2NTpbMiw5OV0sNjc6WzIsOTldLDY5OlsyLDk5XSw3MDpbMiw5OV0sNzE6WzIsOTldLDc1OlsyLDk5XSw4MTpbMiw5OV0sODI6WzIsOTldLDgzOlsyLDk5XSw4ODpbMiw5OV0sOTA6WzIsOTldLDk5OlsyLDk5XSwxMDE6WzIsOTldLDEwMjpbMiw5OV0sMTAzOlsyLDk5XSwxMDc6WzIsOTldLDExNTpbMiw5OV0sMTIzOlsyLDk5XSwxMjU6WzIsOTldLDEyNjpbMiw5OV0sMTI5OlsyLDk5XSwxMzA6WzIsOTldLDEzMTpbMiw5OV0sMTMyOlsyLDk5XSwxMzM6WzIsOTldLDEzNDpbMiw5OV19LHsxOlsyLDMzXSw2OlsyLDMzXSwyNTpbMiwzM10sMjY6WzIsMzNdLDQ2OlsyLDMzXSw1MTpbMiwzM10sNTQ6WzIsMzNdLDY5OlsyLDMzXSw3NTpbMiwzM10sODM6WzIsMzNdLDg4OlsyLDMzXSw5MDpbMiwzM10sOTk6WzIsMzNdLDEwMDo4NCwxMDE6WzIsMzNdLDEwMjpbMiwzM10sMTAzOlsyLDMzXSwxMDY6ODUsMTA3OlsyLDMzXSwxMDg6NjYsMTE1OlsyLDMzXSwxMjM6WzIsMzNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezg6MjM4LDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsMTA0XSw2OlsyLDEwNF0sMjU6WzIsMTA0XSwyNjpbMiwxMDRdLDQ2OlsyLDEwNF0sNTE6WzIsMTA0XSw1NDpbMiwxMDRdLDYzOlsyLDEwNF0sNjQ6WzIsMTA0XSw2NTpbMiwxMDRdLDY3OlsyLDEwNF0sNjk6WzIsMTA0XSw3MDpbMiwxMDRdLDcxOlsyLDEwNF0sNzU6WzIsMTA0XSw4MTpbMiwxMDRdLDgyOlsyLDEwNF0sODM6WzIsMTA0XSw4ODpbMiwxMDRdLDkwOlsyLDEwNF0sOTk6WzIsMTA0XSwxMDE6WzIsMTA0XSwxMDI6WzIsMTA0XSwxMDM6WzIsMTA0XSwxMDc6WzIsMTA0XSwxMTU6WzIsMTA0XSwxMjM6WzIsMTA0XSwxMjU6WzIsMTA0XSwxMjY6WzIsMTA0XSwxMjk6WzIsMTA0XSwxMzA6WzIsMTA0XSwxMzE6WzIsMTA0XSwxMzI6WzIsMTA0XSwxMzM6WzIsMTA0XSwxMzQ6WzIsMTA0XX0sezY6WzIsNDldLDI1OlsyLDQ5XSw1MDoyMzksNTE6WzEsMjIzXSw4MzpbMiw0OV19LHs2OlsyLDEyMl0sMjU6WzIsMTIyXSwyNjpbMiwxMjJdLDUxOlsyLDEyMl0sNTQ6WzEsMjQwXSw4MzpbMiwxMjJdLDg4OlsyLDEyMl0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHs0NzoyNDEsNDg6WzEsNTddLDQ5OlsxLDU4XX0sezI3OjEwNywyODpbMSw3MF0sNDE6MTA4LDUyOjI0Miw1MzoxMDYsNTU6MTA5LDU2OjExMCw3MzpbMSw2N10sODY6WzEsMTExXSw4NzpbMSwxMTJdfSx7NDY6WzIsNTVdLDUxOlsyLDU1XX0sezg6MjQzLDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsMTkyXSw2OlsyLDE5Ml0sMjU6WzIsMTkyXSwyNjpbMiwxOTJdLDQ2OlsyLDE5Ml0sNTE6WzIsMTkyXSw1NDpbMiwxOTJdLDY5OlsyLDE5Ml0sNzU6WzIsMTkyXSw4MzpbMiwxOTJdLDg4OlsyLDE5Ml0sOTA6WzIsMTkyXSw5OTpbMiwxOTJdLDEwMDo4NCwxMDE6WzIsMTkyXSwxMDI6WzIsMTkyXSwxMDM6WzIsMTkyXSwxMDY6ODUsMTA3OlsyLDE5Ml0sMTA4OjY2LDExNTpbMiwxOTJdLDEyMzpbMiwxOTJdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezg6MjQ0LDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1ODozNiw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezE6WzIsMTk0XSw2OlsyLDE5NF0sMjU6WzIsMTk0XSwyNjpbMiwxOTRdLDQ2OlsyLDE5NF0sNTE6WzIsMTk0XSw1NDpbMiwxOTRdLDY5OlsyLDE5NF0sNzU6WzIsMTk0XSw4MzpbMiwxOTRdLDg4OlsyLDE5NF0sOTA6WzIsMTk0XSw5OTpbMiwxOTRdLDEwMDo4NCwxMDE6WzIsMTk0XSwxMDI6WzIsMTk0XSwxMDM6WzIsMTk0XSwxMDY6ODUsMTA3OlsyLDE5NF0sMTA4OjY2LDExNTpbMiwxOTRdLDEyMzpbMiwxOTRdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTc0XSw2OlsyLDE3NF0sMjU6WzIsMTc0XSwyNjpbMiwxNzRdLDQ2OlsyLDE3NF0sNTE6WzIsMTc0XSw1NDpbMiwxNzRdLDY5OlsyLDE3NF0sNzU6WzIsMTc0XSw4MzpbMiwxNzRdLDg4OlsyLDE3NF0sOTA6WzIsMTc0XSw5OTpbMiwxNzRdLDEwMTpbMiwxNzRdLDEwMjpbMiwxNzRdLDEwMzpbMiwxNzRdLDEwNzpbMiwxNzRdLDExNTpbMiwxNzRdLDEyMzpbMiwxNzRdLDEyNTpbMiwxNzRdLDEyNjpbMiwxNzRdLDEyOTpbMiwxNzRdLDEzMDpbMiwxNzRdLDEzMTpbMiwxNzRdLDEzMjpbMiwxNzRdLDEzMzpbMiwxNzRdLDEzNDpbMiwxNzRdfSx7ODoyNDUsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiwxMjddLDY6WzIsMTI3XSwyNTpbMiwxMjddLDI2OlsyLDEyN10sNDY6WzIsMTI3XSw1MTpbMiwxMjddLDU0OlsyLDEyN10sNjk6WzIsMTI3XSw3NTpbMiwxMjddLDgzOlsyLDEyN10sODg6WzIsMTI3XSw5MDpbMiwxMjddLDk1OlsxLDI0Nl0sOTk6WzIsMTI3XSwxMDE6WzIsMTI3XSwxMDI6WzIsMTI3XSwxMDM6WzIsMTI3XSwxMDc6WzIsMTI3XSwxMTU6WzIsMTI3XSwxMjM6WzIsMTI3XSwxMjU6WzIsMTI3XSwxMjY6WzIsMTI3XSwxMjk6WzIsMTI3XSwxMzA6WzIsMTI3XSwxMzE6WzIsMTI3XSwxMzI6WzIsMTI3XSwxMzM6WzIsMTI3XSwxMzQ6WzIsMTI3XX0sezU6MjQ3LDI1OlsxLDVdfSx7Mjc6MjQ4LDI4OlsxLDcwXX0sezExNzoyNDksMTE5OjIxMiwxMjA6WzEsMjEzXX0sezI2OlsxLDI1MF0sMTE4OlsxLDI1MV0sMTE5OjI1MiwxMjA6WzEsMjEzXX0sezI2OlsyLDE2N10sMTE4OlsyLDE2N10sMTIwOlsyLDE2N119LHs4OjI1NCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTI6MjUzLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiw5Ml0sNToyNTUsNjpbMiw5Ml0sMjU6WzEsNV0sMjY6WzIsOTJdLDQ2OlsyLDkyXSw1MTpbMiw5Ml0sNTQ6WzIsOTJdLDU5OjkwLDYzOlsxLDkyXSw2NDpbMSw5M10sNjU6WzEsOTRdLDY2Ojk1LDY3OlsxLDk2XSw2OTpbMiw5Ml0sNzA6WzEsOTddLDcxOlsxLDk4XSw3NTpbMiw5Ml0sNzg6ODksODE6WzEsOTFdLDgyOlsyLDEwMl0sODM6WzIsOTJdLDg4OlsyLDkyXSw5MDpbMiw5Ml0sOTk6WzIsOTJdLDEwMTpbMiw5Ml0sMTAyOlsyLDkyXSwxMDM6WzIsOTJdLDEwNzpbMiw5Ml0sMTE1OlsyLDkyXSwxMjM6WzIsOTJdLDEyNTpbMiw5Ml0sMTI2OlsyLDkyXSwxMjk6WzIsOTJdLDEzMDpbMiw5Ml0sMTMxOlsyLDkyXSwxMzI6WzIsOTJdLDEzMzpbMiw5Ml0sMTM0OlsyLDkyXX0sezE6WzIsNjZdLDY6WzIsNjZdLDI1OlsyLDY2XSwyNjpbMiw2Nl0sNDY6WzIsNjZdLDUxOlsyLDY2XSw1NDpbMiw2Nl0sNjM6WzIsNjZdLDY0OlsyLDY2XSw2NTpbMiw2Nl0sNjc6WzIsNjZdLDY5OlsyLDY2XSw3MDpbMiw2Nl0sNzE6WzIsNjZdLDc1OlsyLDY2XSw4MTpbMiw2Nl0sODI6WzIsNjZdLDgzOlsyLDY2XSw4ODpbMiw2Nl0sOTA6WzIsNjZdLDk5OlsyLDY2XSwxMDE6WzIsNjZdLDEwMjpbMiw2Nl0sMTAzOlsyLDY2XSwxMDc6WzIsNjZdLDExNTpbMiw2Nl0sMTIzOlsyLDY2XSwxMjU6WzIsNjZdLDEyNjpbMiw2Nl0sMTI5OlsyLDY2XSwxMzA6WzIsNjZdLDEzMTpbMiw2Nl0sMTMyOlsyLDY2XSwxMzM6WzIsNjZdLDEzNDpbMiw2Nl19LHsxOlsyLDk1XSw2OlsyLDk1XSwyNTpbMiw5NV0sMjY6WzIsOTVdLDQ2OlsyLDk1XSw1MTpbMiw5NV0sNTQ6WzIsOTVdLDY5OlsyLDk1XSw3NTpbMiw5NV0sODM6WzIsOTVdLDg4OlsyLDk1XSw5MDpbMiw5NV0sOTk6WzIsOTVdLDEwMTpbMiw5NV0sMTAyOlsyLDk1XSwxMDM6WzIsOTVdLDEwNzpbMiw5NV0sMTE1OlsyLDk1XSwxMjM6WzIsOTVdLDEyNTpbMiw5NV0sMTI2OlsyLDk1XSwxMjk6WzIsOTVdLDEzMDpbMiw5NV0sMTMxOlsyLDk1XSwxMzI6WzIsOTVdLDEzMzpbMiw5NV0sMTM0OlsyLDk1XX0sezE0OjI1NiwxNToxMjAsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MTIxLDQxOjYwLDU1OjQ3LDU2OjQ4LDU4OjIxNSw2MDoyNSw2MToyNiw2MjoyNyw3MzpbMSw2N10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDk4OlsxLDUzXX0sezE6WzIsMTMyXSw2OlsyLDEzMl0sMjU6WzIsMTMyXSwyNjpbMiwxMzJdLDQ2OlsyLDEzMl0sNTE6WzIsMTMyXSw1NDpbMiwxMzJdLDYzOlsyLDEzMl0sNjQ6WzIsMTMyXSw2NTpbMiwxMzJdLDY3OlsyLDEzMl0sNjk6WzIsMTMyXSw3MDpbMiwxMzJdLDcxOlsyLDEzMl0sNzU6WzIsMTMyXSw4MTpbMiwxMzJdLDgyOlsyLDEzMl0sODM6WzIsMTMyXSw4ODpbMiwxMzJdLDkwOlsyLDEzMl0sOTk6WzIsMTMyXSwxMDE6WzIsMTMyXSwxMDI6WzIsMTMyXSwxMDM6WzIsMTMyXSwxMDc6WzIsMTMyXSwxMTU6WzIsMTMyXSwxMjM6WzIsMTMyXSwxMjU6WzIsMTMyXSwxMjY6WzIsMTMyXSwxMjk6WzIsMTMyXSwxMzA6WzIsMTMyXSwxMzE6WzIsMTMyXSwxMzI6WzIsMTMyXSwxMzM6WzIsMTMyXSwxMzQ6WzIsMTMyXX0sezY6WzEsNzFdLDI2OlsxLDI1N119LHs4OjI1OCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OlsyLDYxXSwxMzpbMiwxMTJdLDI1OlsyLDYxXSwyODpbMiwxMTJdLDMwOlsyLDExMl0sMzE6WzIsMTEyXSwzMzpbMiwxMTJdLDM0OlsyLDExMl0sMzU6WzIsMTEyXSw0MjpbMiwxMTJdLDQzOlsyLDExMl0sNDQ6WzIsMTEyXSw0ODpbMiwxMTJdLDQ5OlsyLDExMl0sNTE6WzIsNjFdLDczOlsyLDExMl0sNzY6WzIsMTEyXSw4MDpbMiwxMTJdLDg1OlsyLDExMl0sODY6WzIsMTEyXSw4NzpbMiwxMTJdLDg4OlsyLDYxXSw5MzpbMiwxMTJdLDk3OlsyLDExMl0sOTg6WzIsMTEyXSwxMDE6WzIsMTEyXSwxMDM6WzIsMTEyXSwxMDU6WzIsMTEyXSwxMDc6WzIsMTEyXSwxMTY6WzIsMTEyXSwxMjI6WzIsMTEyXSwxMjQ6WzIsMTEyXSwxMjU6WzIsMTEyXSwxMjY6WzIsMTEyXSwxMjc6WzIsMTEyXSwxMjg6WzIsMTEyXX0sezY6WzEsMjYwXSwyNTpbMSwyNjFdLDg4OlsxLDI1OV19LHs2OlsyLDUwXSw4OjE5Nyw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI1OlsyLDUwXSwyNjpbMiw1MF0sMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1NzoxNDUsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODM6WzIsNTBdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDg4OlsyLDUwXSw5MToyNjIsOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OlsyLDQ5XSwyNTpbMiw0OV0sMjY6WzIsNDldLDUwOjI2Myw1MTpbMSwyMjNdfSx7MTpbMiwxNzFdLDY6WzIsMTcxXSwyNTpbMiwxNzFdLDI2OlsyLDE3MV0sNDY6WzIsMTcxXSw1MTpbMiwxNzFdLDU0OlsyLDE3MV0sNjk6WzIsMTcxXSw3NTpbMiwxNzFdLDgzOlsyLDE3MV0sODg6WzIsMTcxXSw5MDpbMiwxNzFdLDk5OlsyLDE3MV0sMTAxOlsyLDE3MV0sMTAyOlsyLDE3MV0sMTAzOlsyLDE3MV0sMTA3OlsyLDE3MV0sMTE1OlsyLDE3MV0sMTE4OlsyLDE3MV0sMTIzOlsyLDE3MV0sMTI1OlsyLDE3MV0sMTI2OlsyLDE3MV0sMTI5OlsyLDE3MV0sMTMwOlsyLDE3MV0sMTMxOlsyLDE3MV0sMTMyOlsyLDE3MV0sMTMzOlsyLDE3MV0sMTM0OlsyLDE3MV19LHs4OjI2NCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs4OjI2NSw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxMTM6WzIsMTUwXSwxMTQ6WzIsMTUwXX0sezI3OjE1NiwyODpbMSw3MF0sNTU6MTU3LDU2OjE1OCw3MzpbMSw2N10sODc6WzEsMTEyXSwxMTI6MjY2fSx7MTpbMiwxNTZdLDY6WzIsMTU2XSwyNTpbMiwxNTZdLDI2OlsyLDE1Nl0sNDY6WzIsMTU2XSw1MTpbMiwxNTZdLDU0OlsyLDE1Nl0sNjk6WzIsMTU2XSw3NTpbMiwxNTZdLDgzOlsyLDE1Nl0sODg6WzIsMTU2XSw5MDpbMiwxNTZdLDk5OlsyLDE1Nl0sMTAwOjg0LDEwMTpbMiwxNTZdLDEwMjpbMSwyNjddLDEwMzpbMiwxNTZdLDEwNjo4NSwxMDc6WzIsMTU2XSwxMDg6NjYsMTE1OlsxLDI2OF0sMTIzOlsyLDE1Nl0sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MTpbMiwxNTddLDY6WzIsMTU3XSwyNTpbMiwxNTddLDI2OlsyLDE1N10sNDY6WzIsMTU3XSw1MTpbMiwxNTddLDU0OlsyLDE1N10sNjk6WzIsMTU3XSw3NTpbMiwxNTddLDgzOlsyLDE1N10sODg6WzIsMTU3XSw5MDpbMiwxNTddLDk5OlsyLDE1N10sMTAwOjg0LDEwMTpbMiwxNTddLDEwMjpbMSwyNjldLDEwMzpbMiwxNTddLDEwNjo4NSwxMDc6WzIsMTU3XSwxMDg6NjYsMTE1OlsyLDE1N10sMTIzOlsyLDE1N10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7NjpbMSwyNzFdLDI1OlsxLDI3Ml0sNzU6WzEsMjcwXX0sezY6WzIsNTBdLDEyOjE2NSwyNTpbMiw1MF0sMjY6WzIsNTBdLDI3OjE2NiwyODpbMSw3MF0sMjk6MTY3LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzg6MjczLDM5OjE2NCw0MToxNjgsNDM6WzEsNDZdLDc1OlsyLDUwXSw4NjpbMSwxMTFdfSx7ODoyNzQsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNTpbMSwyNzVdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHsxOlsyLDc5XSw2OlsyLDc5XSwyNTpbMiw3OV0sMjY6WzIsNzldLDM3OlsyLDc5XSw0NjpbMiw3OV0sNTE6WzIsNzldLDU0OlsyLDc5XSw2MzpbMiw3OV0sNjQ6WzIsNzldLDY1OlsyLDc5XSw2NzpbMiw3OV0sNjk6WzIsNzldLDcwOlsyLDc5XSw3MTpbMiw3OV0sNzU6WzIsNzldLDc3OlsyLDc5XSw4MTpbMiw3OV0sODI6WzIsNzldLDgzOlsyLDc5XSw4ODpbMiw3OV0sOTA6WzIsNzldLDk5OlsyLDc5XSwxMDE6WzIsNzldLDEwMjpbMiw3OV0sMTAzOlsyLDc5XSwxMDc6WzIsNzldLDExNTpbMiw3OV0sMTIzOlsyLDc5XSwxMjU6WzIsNzldLDEyNjpbMiw3OV0sMTI3OlsyLDc5XSwxMjg6WzIsNzldLDEyOTpbMiw3OV0sMTMwOlsyLDc5XSwxMzE6WzIsNzldLDEzMjpbMiw3OV0sMTMzOlsyLDc5XSwxMzQ6WzIsNzldLDEzNTpbMiw3OV19LHs4OjI3Niw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNjk6WzIsMTE1XSw3MzpbMSw2N10sNzY6WzEsNDNdLDgwOlsxLDI4XSw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MzpbMSwzOF0sOTc6WzEsNDVdLDk4OlsxLDUzXSwxMDA6MzksMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNDo0MCwxMDU6WzEsNjRdLDEwNjo0MSwxMDc6WzEsNjVdLDEwODo2NiwxMTY6WzEsNDJdLDEyMTozNywxMjI6WzEsNjFdLDEyNDpbMSwzMV0sMTI1OlsxLDMyXSwxMjY6WzEsMzNdLDEyNzpbMSwzNF0sMTI4OlsxLDM1XX0sezY5OlsyLDExNl0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsyNjpbMSwyNzddLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7NjpbMSwyNjBdLDI1OlsxLDI2MV0sODM6WzEsMjc4XX0sezY6WzIsNjFdLDI1OlsyLDYxXSwyNjpbMiw2MV0sNTE6WzIsNjFdLDgzOlsyLDYxXSw4ODpbMiw2MV19LHs1OjI3OSwyNTpbMSw1XX0sezQ2OlsyLDUzXSw1MTpbMiw1M119LHs0NjpbMiw1Nl0sNTE6WzIsNTZdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MjY6WzEsMjgwXSwxMDA6ODQsMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNjo4NSwxMDc6WzEsNjVdLDEwODo2NiwxMjM6WzEsODNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezU6MjgxLDI1OlsxLDVdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7NToyODIsMjU6WzEsNV19LHsxOlsyLDEyOF0sNjpbMiwxMjhdLDI1OlsyLDEyOF0sMjY6WzIsMTI4XSw0NjpbMiwxMjhdLDUxOlsyLDEyOF0sNTQ6WzIsMTI4XSw2OTpbMiwxMjhdLDc1OlsyLDEyOF0sODM6WzIsMTI4XSw4ODpbMiwxMjhdLDkwOlsyLDEyOF0sOTk6WzIsMTI4XSwxMDE6WzIsMTI4XSwxMDI6WzIsMTI4XSwxMDM6WzIsMTI4XSwxMDc6WzIsMTI4XSwxMTU6WzIsMTI4XSwxMjM6WzIsMTI4XSwxMjU6WzIsMTI4XSwxMjY6WzIsMTI4XSwxMjk6WzIsMTI4XSwxMzA6WzIsMTI4XSwxMzE6WzIsMTI4XSwxMzI6WzIsMTI4XSwxMzM6WzIsMTI4XSwxMzQ6WzIsMTI4XX0sezU6MjgzLDI1OlsxLDVdfSx7MjY6WzEsMjg0XSwxMTg6WzEsMjg1XSwxMTk6MjUyLDEyMDpbMSwyMTNdfSx7MTpbMiwxNjVdLDY6WzIsMTY1XSwyNTpbMiwxNjVdLDI2OlsyLDE2NV0sNDY6WzIsMTY1XSw1MTpbMiwxNjVdLDU0OlsyLDE2NV0sNjk6WzIsMTY1XSw3NTpbMiwxNjVdLDgzOlsyLDE2NV0sODg6WzIsMTY1XSw5MDpbMiwxNjVdLDk5OlsyLDE2NV0sMTAxOlsyLDE2NV0sMTAyOlsyLDE2NV0sMTAzOlsyLDE2NV0sMTA3OlsyLDE2NV0sMTE1OlsyLDE2NV0sMTIzOlsyLDE2NV0sMTI1OlsyLDE2NV0sMTI2OlsyLDE2NV0sMTI5OlsyLDE2NV0sMTMwOlsyLDE2NV0sMTMxOlsyLDE2NV0sMTMyOlsyLDE2NV0sMTMzOlsyLDE2NV0sMTM0OlsyLDE2NV19LHs1OjI4NiwyNTpbMSw1XX0sezI2OlsyLDE2OF0sMTE4OlsyLDE2OF0sMTIwOlsyLDE2OF19LHs1OjI4NywyNTpbMSw1XSw1MTpbMSwyODhdfSx7MjU6WzIsMTI0XSw1MTpbMiwxMjRdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MTpbMiw5M10sNjpbMiw5M10sMjU6WzIsOTNdLDI2OlsyLDkzXSw0NjpbMiw5M10sNTE6WzIsOTNdLDU0OlsyLDkzXSw2OTpbMiw5M10sNzU6WzIsOTNdLDgzOlsyLDkzXSw4ODpbMiw5M10sOTA6WzIsOTNdLDk5OlsyLDkzXSwxMDE6WzIsOTNdLDEwMjpbMiw5M10sMTAzOlsyLDkzXSwxMDc6WzIsOTNdLDExNTpbMiw5M10sMTIzOlsyLDkzXSwxMjU6WzIsOTNdLDEyNjpbMiw5M10sMTI5OlsyLDkzXSwxMzA6WzIsOTNdLDEzMTpbMiw5M10sMTMyOlsyLDkzXSwxMzM6WzIsOTNdLDEzNDpbMiw5M119LHsxOlsyLDk2XSw1OjI4OSw2OlsyLDk2XSwyNTpbMSw1XSwyNjpbMiw5Nl0sNDY6WzIsOTZdLDUxOlsyLDk2XSw1NDpbMiw5Nl0sNTk6OTAsNjM6WzEsOTJdLDY0OlsxLDkzXSw2NTpbMSw5NF0sNjY6OTUsNjc6WzEsOTZdLDY5OlsyLDk2XSw3MDpbMSw5N10sNzE6WzEsOThdLDc1OlsyLDk2XSw3ODo4OSw4MTpbMSw5MV0sODI6WzIsMTAyXSw4MzpbMiw5Nl0sODg6WzIsOTZdLDkwOlsyLDk2XSw5OTpbMiw5Nl0sMTAxOlsyLDk2XSwxMDI6WzIsOTZdLDEwMzpbMiw5Nl0sMTA3OlsyLDk2XSwxMTU6WzIsOTZdLDEyMzpbMiw5Nl0sMTI1OlsyLDk2XSwxMjY6WzIsOTZdLDEyOTpbMiw5Nl0sMTMwOlsyLDk2XSwxMzE6WzIsOTZdLDEzMjpbMiw5Nl0sMTMzOlsyLDk2XSwxMzQ6WzIsOTZdfSx7OTk6WzEsMjkwXX0sezg4OlsxLDI5MV0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsxOlsyLDExMF0sNjpbMiwxMTBdLDI1OlsyLDExMF0sMjY6WzIsMTEwXSwzNzpbMiwxMTBdLDQ2OlsyLDExMF0sNTE6WzIsMTEwXSw1NDpbMiwxMTBdLDYzOlsyLDExMF0sNjQ6WzIsMTEwXSw2NTpbMiwxMTBdLDY3OlsyLDExMF0sNjk6WzIsMTEwXSw3MDpbMiwxMTBdLDcxOlsyLDExMF0sNzU6WzIsMTEwXSw4MTpbMiwxMTBdLDgyOlsyLDExMF0sODM6WzIsMTEwXSw4ODpbMiwxMTBdLDkwOlsyLDExMF0sOTk6WzIsMTEwXSwxMDE6WzIsMTEwXSwxMDI6WzIsMTEwXSwxMDM6WzIsMTEwXSwxMDc6WzIsMTEwXSwxMTM6WzIsMTEwXSwxMTQ6WzIsMTEwXSwxMTU6WzIsMTEwXSwxMjM6WzIsMTEwXSwxMjU6WzIsMTEwXSwxMjY6WzIsMTEwXSwxMjk6WzIsMTEwXSwxMzA6WzIsMTEwXSwxMzE6WzIsMTEwXSwxMzI6WzIsMTEwXSwxMzM6WzIsMTEwXSwxMzQ6WzIsMTEwXX0sezg6MTk3LDk6MTE1LDEwOjE5LDExOjIwLDEyOjIxLDEzOlsxLDIyXSwxNDo4LDE1OjksMTY6MTAsMTc6MTEsMTg6MTIsMTk6MTMsMjA6MTQsMjE6MTUsMjI6MTYsMjM6MTcsMjQ6MTgsMjc6NTksMjg6WzEsNzBdLDI5OjQ5LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzI6MjQsMzM6WzEsNTBdLDM0OlsxLDUxXSwzNTpbMSw1Ml0sMzY6MjMsNDE6NjAsNDI6WzEsNDRdLDQzOlsxLDQ2XSw0NDpbMSwyOV0sNDc6MzAsNDg6WzEsNTddLDQ5OlsxLDU4XSw1NTo0Nyw1Njo0OCw1NzoxNDUsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTE6MjkyLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoxOTcsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNTpbMSwxNDRdLDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTc6MTQ1LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg0OjI5Myw4NTpbMSw1NV0sODY6WzEsNTZdLDg3OlsxLDU0XSw5MToxNDMsOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OlsyLDExOF0sMjU6WzIsMTE4XSwyNjpbMiwxMThdLDUxOlsyLDExOF0sODM6WzIsMTE4XSw4ODpbMiwxMThdfSx7NjpbMSwyNjBdLDI1OlsxLDI2MV0sMjY6WzEsMjk0XX0sezE6WzIsMTM1XSw2OlsyLDEzNV0sMjU6WzIsMTM1XSwyNjpbMiwxMzVdLDQ2OlsyLDEzNV0sNTE6WzIsMTM1XSw1NDpbMiwxMzVdLDY5OlsyLDEzNV0sNzU6WzIsMTM1XSw4MzpbMiwxMzVdLDg4OlsyLDEzNV0sOTA6WzIsMTM1XSw5OTpbMiwxMzVdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMjpbMiwxMzVdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDExNTpbMiwxMzVdLDEyMzpbMiwxMzVdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTM3XSw2OlsyLDEzN10sMjU6WzIsMTM3XSwyNjpbMiwxMzddLDQ2OlsyLDEzN10sNTE6WzIsMTM3XSw1NDpbMiwxMzddLDY5OlsyLDEzN10sNzU6WzIsMTM3XSw4MzpbMiwxMzddLDg4OlsyLDEzN10sOTA6WzIsMTM3XSw5OTpbMiwxMzddLDEwMDo4NCwxMDE6WzEsNjJdLDEwMjpbMiwxMzddLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDExNTpbMiwxMzddLDEyMzpbMiwxMzddLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezExMzpbMiwxNTVdLDExNDpbMiwxNTVdfSx7ODoyOTUsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoyOTYsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODoyOTcsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiw4NF0sNjpbMiw4NF0sMjU6WzIsODRdLDI2OlsyLDg0XSwzNzpbMiw4NF0sNDY6WzIsODRdLDUxOlsyLDg0XSw1NDpbMiw4NF0sNjM6WzIsODRdLDY0OlsyLDg0XSw2NTpbMiw4NF0sNjc6WzIsODRdLDY5OlsyLDg0XSw3MDpbMiw4NF0sNzE6WzIsODRdLDc1OlsyLDg0XSw4MTpbMiw4NF0sODI6WzIsODRdLDgzOlsyLDg0XSw4ODpbMiw4NF0sOTA6WzIsODRdLDk5OlsyLDg0XSwxMDE6WzIsODRdLDEwMjpbMiw4NF0sMTAzOlsyLDg0XSwxMDc6WzIsODRdLDExMzpbMiw4NF0sMTE0OlsyLDg0XSwxMTU6WzIsODRdLDEyMzpbMiw4NF0sMTI1OlsyLDg0XSwxMjY6WzIsODRdLDEyOTpbMiw4NF0sMTMwOlsyLDg0XSwxMzE6WzIsODRdLDEzMjpbMiw4NF0sMTMzOlsyLDg0XSwxMzQ6WzIsODRdfSx7MTI6MTY1LDI3OjE2NiwyODpbMSw3MF0sMjk6MTY3LDMwOlsxLDY4XSwzMTpbMSw2OV0sMzg6Mjk4LDM5OjE2NCw0MToxNjgsNDM6WzEsNDZdLDg2OlsxLDExMV19LHs2OlsyLDg1XSwxMjoxNjUsMjU6WzIsODVdLDI2OlsyLDg1XSwyNzoxNjYsMjg6WzEsNzBdLDI5OjE2NywzMDpbMSw2OF0sMzE6WzEsNjldLDM4OjE2MywzOToxNjQsNDE6MTY4LDQzOlsxLDQ2XSw1MTpbMiw4NV0sNzQ6Mjk5LDg2OlsxLDExMV19LHs2OlsyLDg3XSwyNTpbMiw4N10sMjY6WzIsODddLDUxOlsyLDg3XSw3NTpbMiw4N119LHs2OlsyLDM2XSwyNTpbMiwzNl0sMjY6WzIsMzZdLDUxOlsyLDM2XSw3NTpbMiwzNl0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHs4OjMwMCw5OjExNSwxMDoxOSwxMToyMCwxMjoyMSwxMzpbMSwyMl0sMTQ6OCwxNTo5LDE2OjEwLDE3OjExLDE4OjEyLDE5OjEzLDIwOjE0LDIxOjE1LDIyOjE2LDIzOjE3LDI0OjE4LDI3OjU5LDI4OlsxLDcwXSwyOTo0OSwzMDpbMSw2OF0sMzE6WzEsNjldLDMyOjI0LDMzOlsxLDUwXSwzNDpbMSw1MV0sMzU6WzEsNTJdLDM2OjIzLDQxOjYwLDQyOlsxLDQ0XSw0MzpbMSw0Nl0sNDQ6WzEsMjldLDQ3OjMwLDQ4OlsxLDU3XSw0OTpbMSw1OF0sNTU6NDcsNTY6NDgsNTg6MzYsNjA6MjUsNjE6MjYsNjI6MjcsNzM6WzEsNjddLDc2OlsxLDQzXSw4MDpbMSwyOF0sODU6WzEsNTVdLDg2OlsxLDU2XSw4NzpbMSw1NF0sOTM6WzEsMzhdLDk3OlsxLDQ1XSw5ODpbMSw1M10sMTAwOjM5LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDQ6NDAsMTA1OlsxLDY0XSwxMDY6NDEsMTA3OlsxLDY1XSwxMDg6NjYsMTE2OlsxLDQyXSwxMjE6MzcsMTIyOlsxLDYxXSwxMjQ6WzEsMzFdLDEyNTpbMSwzMl0sMTI2OlsxLDMzXSwxMjc6WzEsMzRdLDEyODpbMSwzNV19LHs2OTpbMiwxMTRdLDEwMDo4NCwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA2Ojg1LDEwNzpbMSw2NV0sMTA4OjY2LDEyMzpbMSw4M10sMTI1OlsxLDc3XSwxMjY6WzEsNzZdLDEyOTpbMSw3NV0sMTMwOlsxLDc4XSwxMzE6WzEsNzldLDEzMjpbMSw4MF0sMTMzOlsxLDgxXSwxMzQ6WzEsODJdfSx7MTpbMiwzNF0sNjpbMiwzNF0sMjU6WzIsMzRdLDI2OlsyLDM0XSw0NjpbMiwzNF0sNTE6WzIsMzRdLDU0OlsyLDM0XSw2OTpbMiwzNF0sNzU6WzIsMzRdLDgzOlsyLDM0XSw4ODpbMiwzNF0sOTA6WzIsMzRdLDk5OlsyLDM0XSwxMDE6WzIsMzRdLDEwMjpbMiwzNF0sMTAzOlsyLDM0XSwxMDc6WzIsMzRdLDExNTpbMiwzNF0sMTIzOlsyLDM0XSwxMjU6WzIsMzRdLDEyNjpbMiwzNF0sMTI5OlsyLDM0XSwxMzA6WzIsMzRdLDEzMTpbMiwzNF0sMTMyOlsyLDM0XSwxMzM6WzIsMzRdLDEzNDpbMiwzNF19LHsxOlsyLDEwNV0sNjpbMiwxMDVdLDI1OlsyLDEwNV0sMjY6WzIsMTA1XSw0NjpbMiwxMDVdLDUxOlsyLDEwNV0sNTQ6WzIsMTA1XSw2MzpbMiwxMDVdLDY0OlsyLDEwNV0sNjU6WzIsMTA1XSw2NzpbMiwxMDVdLDY5OlsyLDEwNV0sNzA6WzIsMTA1XSw3MTpbMiwxMDVdLDc1OlsyLDEwNV0sODE6WzIsMTA1XSw4MjpbMiwxMDVdLDgzOlsyLDEwNV0sODg6WzIsMTA1XSw5MDpbMiwxMDVdLDk5OlsyLDEwNV0sMTAxOlsyLDEwNV0sMTAyOlsyLDEwNV0sMTAzOlsyLDEwNV0sMTA3OlsyLDEwNV0sMTE1OlsyLDEwNV0sMTIzOlsyLDEwNV0sMTI1OlsyLDEwNV0sMTI2OlsyLDEwNV0sMTI5OlsyLDEwNV0sMTMwOlsyLDEwNV0sMTMxOlsyLDEwNV0sMTMyOlsyLDEwNV0sMTMzOlsyLDEwNV0sMTM0OlsyLDEwNV19LHsxOlsyLDQ1XSw2OlsyLDQ1XSwyNTpbMiw0NV0sMjY6WzIsNDVdLDQ2OlsyLDQ1XSw1MTpbMiw0NV0sNTQ6WzIsNDVdLDY5OlsyLDQ1XSw3NTpbMiw0NV0sODM6WzIsNDVdLDg4OlsyLDQ1XSw5MDpbMiw0NV0sOTk6WzIsNDVdLDEwMTpbMiw0NV0sMTAyOlsyLDQ1XSwxMDM6WzIsNDVdLDEwNzpbMiw0NV0sMTE1OlsyLDQ1XSwxMjM6WzIsNDVdLDEyNTpbMiw0NV0sMTI2OlsyLDQ1XSwxMjk6WzIsNDVdLDEzMDpbMiw0NV0sMTMxOlsyLDQ1XSwxMzI6WzIsNDVdLDEzMzpbMiw0NV0sMTM0OlsyLDQ1XX0sezE6WzIsMTkzXSw2OlsyLDE5M10sMjU6WzIsMTkzXSwyNjpbMiwxOTNdLDQ2OlsyLDE5M10sNTE6WzIsMTkzXSw1NDpbMiwxOTNdLDY5OlsyLDE5M10sNzU6WzIsMTkzXSw4MzpbMiwxOTNdLDg4OlsyLDE5M10sOTA6WzIsMTkzXSw5OTpbMiwxOTNdLDEwMTpbMiwxOTNdLDEwMjpbMiwxOTNdLDEwMzpbMiwxOTNdLDEwNzpbMiwxOTNdLDExNTpbMiwxOTNdLDEyMzpbMiwxOTNdLDEyNTpbMiwxOTNdLDEyNjpbMiwxOTNdLDEyOTpbMiwxOTNdLDEzMDpbMiwxOTNdLDEzMTpbMiwxOTNdLDEzMjpbMiwxOTNdLDEzMzpbMiwxOTNdLDEzNDpbMiwxOTNdfSx7MTpbMiwxNzJdLDY6WzIsMTcyXSwyNTpbMiwxNzJdLDI2OlsyLDE3Ml0sNDY6WzIsMTcyXSw1MTpbMiwxNzJdLDU0OlsyLDE3Ml0sNjk6WzIsMTcyXSw3NTpbMiwxNzJdLDgzOlsyLDE3Ml0sODg6WzIsMTcyXSw5MDpbMiwxNzJdLDk5OlsyLDE3Ml0sMTAxOlsyLDE3Ml0sMTAyOlsyLDE3Ml0sMTAzOlsyLDE3Ml0sMTA3OlsyLDE3Ml0sMTE1OlsyLDE3Ml0sMTE4OlsyLDE3Ml0sMTIzOlsyLDE3Ml0sMTI1OlsyLDE3Ml0sMTI2OlsyLDE3Ml0sMTI5OlsyLDE3Ml0sMTMwOlsyLDE3Ml0sMTMxOlsyLDE3Ml0sMTMyOlsyLDE3Ml0sMTMzOlsyLDE3Ml0sMTM0OlsyLDE3Ml19LHsxOlsyLDEyOV0sNjpbMiwxMjldLDI1OlsyLDEyOV0sMjY6WzIsMTI5XSw0NjpbMiwxMjldLDUxOlsyLDEyOV0sNTQ6WzIsMTI5XSw2OTpbMiwxMjldLDc1OlsyLDEyOV0sODM6WzIsMTI5XSw4ODpbMiwxMjldLDkwOlsyLDEyOV0sOTk6WzIsMTI5XSwxMDE6WzIsMTI5XSwxMDI6WzIsMTI5XSwxMDM6WzIsMTI5XSwxMDc6WzIsMTI5XSwxMTU6WzIsMTI5XSwxMjM6WzIsMTI5XSwxMjU6WzIsMTI5XSwxMjY6WzIsMTI5XSwxMjk6WzIsMTI5XSwxMzA6WzIsMTI5XSwxMzE6WzIsMTI5XSwxMzI6WzIsMTI5XSwxMzM6WzIsMTI5XSwxMzQ6WzIsMTI5XX0sezE6WzIsMTMwXSw2OlsyLDEzMF0sMjU6WzIsMTMwXSwyNjpbMiwxMzBdLDQ2OlsyLDEzMF0sNTE6WzIsMTMwXSw1NDpbMiwxMzBdLDY5OlsyLDEzMF0sNzU6WzIsMTMwXSw4MzpbMiwxMzBdLDg4OlsyLDEzMF0sOTA6WzIsMTMwXSw5NTpbMiwxMzBdLDk5OlsyLDEzMF0sMTAxOlsyLDEzMF0sMTAyOlsyLDEzMF0sMTAzOlsyLDEzMF0sMTA3OlsyLDEzMF0sMTE1OlsyLDEzMF0sMTIzOlsyLDEzMF0sMTI1OlsyLDEzMF0sMTI2OlsyLDEzMF0sMTI5OlsyLDEzMF0sMTMwOlsyLDEzMF0sMTMxOlsyLDEzMF0sMTMyOlsyLDEzMF0sMTMzOlsyLDEzMF0sMTM0OlsyLDEzMF19LHsxOlsyLDE2M10sNjpbMiwxNjNdLDI1OlsyLDE2M10sMjY6WzIsMTYzXSw0NjpbMiwxNjNdLDUxOlsyLDE2M10sNTQ6WzIsMTYzXSw2OTpbMiwxNjNdLDc1OlsyLDE2M10sODM6WzIsMTYzXSw4ODpbMiwxNjNdLDkwOlsyLDE2M10sOTk6WzIsMTYzXSwxMDE6WzIsMTYzXSwxMDI6WzIsMTYzXSwxMDM6WzIsMTYzXSwxMDc6WzIsMTYzXSwxMTU6WzIsMTYzXSwxMjM6WzIsMTYzXSwxMjU6WzIsMTYzXSwxMjY6WzIsMTYzXSwxMjk6WzIsMTYzXSwxMzA6WzIsMTYzXSwxMzE6WzIsMTYzXSwxMzI6WzIsMTYzXSwxMzM6WzIsMTYzXSwxMzQ6WzIsMTYzXX0sezU6MzAxLDI1OlsxLDVdfSx7MjY6WzEsMzAyXX0sezY6WzEsMzAzXSwyNjpbMiwxNjldLDExODpbMiwxNjldLDEyMDpbMiwxNjldfSx7ODozMDQsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7MTpbMiw5N10sNjpbMiw5N10sMjU6WzIsOTddLDI2OlsyLDk3XSw0NjpbMiw5N10sNTE6WzIsOTddLDU0OlsyLDk3XSw2OTpbMiw5N10sNzU6WzIsOTddLDgzOlsyLDk3XSw4ODpbMiw5N10sOTA6WzIsOTddLDk5OlsyLDk3XSwxMDE6WzIsOTddLDEwMjpbMiw5N10sMTAzOlsyLDk3XSwxMDc6WzIsOTddLDExNTpbMiw5N10sMTIzOlsyLDk3XSwxMjU6WzIsOTddLDEyNjpbMiw5N10sMTI5OlsyLDk3XSwxMzA6WzIsOTddLDEzMTpbMiw5N10sMTMyOlsyLDk3XSwxMzM6WzIsOTddLDEzNDpbMiw5N119LHsxOlsyLDEzM10sNjpbMiwxMzNdLDI1OlsyLDEzM10sMjY6WzIsMTMzXSw0NjpbMiwxMzNdLDUxOlsyLDEzM10sNTQ6WzIsMTMzXSw2MzpbMiwxMzNdLDY0OlsyLDEzM10sNjU6WzIsMTMzXSw2NzpbMiwxMzNdLDY5OlsyLDEzM10sNzA6WzIsMTMzXSw3MTpbMiwxMzNdLDc1OlsyLDEzM10sODE6WzIsMTMzXSw4MjpbMiwxMzNdLDgzOlsyLDEzM10sODg6WzIsMTMzXSw5MDpbMiwxMzNdLDk5OlsyLDEzM10sMTAxOlsyLDEzM10sMTAyOlsyLDEzM10sMTAzOlsyLDEzM10sMTA3OlsyLDEzM10sMTE1OlsyLDEzM10sMTIzOlsyLDEzM10sMTI1OlsyLDEzM10sMTI2OlsyLDEzM10sMTI5OlsyLDEzM10sMTMwOlsyLDEzM10sMTMxOlsyLDEzM10sMTMyOlsyLDEzM10sMTMzOlsyLDEzM10sMTM0OlsyLDEzM119LHsxOlsyLDExM10sNjpbMiwxMTNdLDI1OlsyLDExM10sMjY6WzIsMTEzXSw0NjpbMiwxMTNdLDUxOlsyLDExM10sNTQ6WzIsMTEzXSw2MzpbMiwxMTNdLDY0OlsyLDExM10sNjU6WzIsMTEzXSw2NzpbMiwxMTNdLDY5OlsyLDExM10sNzA6WzIsMTEzXSw3MTpbMiwxMTNdLDc1OlsyLDExM10sODE6WzIsMTEzXSw4MjpbMiwxMTNdLDgzOlsyLDExM10sODg6WzIsMTEzXSw5MDpbMiwxMTNdLDk5OlsyLDExM10sMTAxOlsyLDExM10sMTAyOlsyLDExM10sMTAzOlsyLDExM10sMTA3OlsyLDExM10sMTE1OlsyLDExM10sMTIzOlsyLDExM10sMTI1OlsyLDExM10sMTI2OlsyLDExM10sMTI5OlsyLDExM10sMTMwOlsyLDExM10sMTMxOlsyLDExM10sMTMyOlsyLDExM10sMTMzOlsyLDExM10sMTM0OlsyLDExM119LHs2OlsyLDExOV0sMjU6WzIsMTE5XSwyNjpbMiwxMTldLDUxOlsyLDExOV0sODM6WzIsMTE5XSw4ODpbMiwxMTldfSx7NjpbMiw0OV0sMjU6WzIsNDldLDI2OlsyLDQ5XSw1MDozMDUsNTE6WzEsMjIzXX0sezY6WzIsMTIwXSwyNTpbMiwxMjBdLDI2OlsyLDEyMF0sNTE6WzIsMTIwXSw4MzpbMiwxMjBdLDg4OlsyLDEyMF19LHsxOlsyLDE1OF0sNjpbMiwxNThdLDI1OlsyLDE1OF0sMjY6WzIsMTU4XSw0NjpbMiwxNThdLDUxOlsyLDE1OF0sNTQ6WzIsMTU4XSw2OTpbMiwxNThdLDc1OlsyLDE1OF0sODM6WzIsMTU4XSw4ODpbMiwxNThdLDkwOlsyLDE1OF0sOTk6WzIsMTU4XSwxMDA6ODQsMTAxOlsyLDE1OF0sMTAyOlsyLDE1OF0sMTAzOlsyLDE1OF0sMTA2Ojg1LDEwNzpbMiwxNThdLDEwODo2NiwxMTU6WzEsMzA2XSwxMjM6WzIsMTU4XSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsxOlsyLDE2MF0sNjpbMiwxNjBdLDI1OlsyLDE2MF0sMjY6WzIsMTYwXSw0NjpbMiwxNjBdLDUxOlsyLDE2MF0sNTQ6WzIsMTYwXSw2OTpbMiwxNjBdLDc1OlsyLDE2MF0sODM6WzIsMTYwXSw4ODpbMiwxNjBdLDkwOlsyLDE2MF0sOTk6WzIsMTYwXSwxMDA6ODQsMTAxOlsyLDE2MF0sMTAyOlsxLDMwN10sMTAzOlsyLDE2MF0sMTA2Ojg1LDEwNzpbMiwxNjBdLDEwODo2NiwxMTU6WzIsMTYwXSwxMjM6WzIsMTYwXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHsxOlsyLDE1OV0sNjpbMiwxNTldLDI1OlsyLDE1OV0sMjY6WzIsMTU5XSw0NjpbMiwxNTldLDUxOlsyLDE1OV0sNTQ6WzIsMTU5XSw2OTpbMiwxNTldLDc1OlsyLDE1OV0sODM6WzIsMTU5XSw4ODpbMiwxNTldLDkwOlsyLDE1OV0sOTk6WzIsMTU5XSwxMDA6ODQsMTAxOlsyLDE1OV0sMTAyOlsyLDE1OV0sMTAzOlsyLDE1OV0sMTA2Ojg1LDEwNzpbMiwxNTldLDEwODo2NiwxMTU6WzIsMTU5XSwxMjM6WzIsMTU5XSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHs2OlsyLDg4XSwyNTpbMiw4OF0sMjY6WzIsODhdLDUxOlsyLDg4XSw3NTpbMiw4OF19LHs2OlsyLDQ5XSwyNTpbMiw0OV0sMjY6WzIsNDldLDUwOjMwOCw1MTpbMSwyMzNdfSx7MjY6WzEsMzA5XSwxMDA6ODQsMTAxOlsxLDYyXSwxMDM6WzEsNjNdLDEwNjo4NSwxMDc6WzEsNjVdLDEwODo2NiwxMjM6WzEsODNdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezI2OlsxLDMxMF19LHsxOlsyLDE2Nl0sNjpbMiwxNjZdLDI1OlsyLDE2Nl0sMjY6WzIsMTY2XSw0NjpbMiwxNjZdLDUxOlsyLDE2Nl0sNTQ6WzIsMTY2XSw2OTpbMiwxNjZdLDc1OlsyLDE2Nl0sODM6WzIsMTY2XSw4ODpbMiwxNjZdLDkwOlsyLDE2Nl0sOTk6WzIsMTY2XSwxMDE6WzIsMTY2XSwxMDI6WzIsMTY2XSwxMDM6WzIsMTY2XSwxMDc6WzIsMTY2XSwxMTU6WzIsMTY2XSwxMjM6WzIsMTY2XSwxMjU6WzIsMTY2XSwxMjY6WzIsMTY2XSwxMjk6WzIsMTY2XSwxMzA6WzIsMTY2XSwxMzE6WzIsMTY2XSwxMzI6WzIsMTY2XSwxMzM6WzIsMTY2XSwxMzQ6WzIsMTY2XX0sezI2OlsyLDE3MF0sMTE4OlsyLDE3MF0sMTIwOlsyLDE3MF19LHsyNTpbMiwxMjVdLDUxOlsyLDEyNV0sMTAwOjg0LDEwMTpbMSw2Ml0sMTAzOlsxLDYzXSwxMDY6ODUsMTA3OlsxLDY1XSwxMDg6NjYsMTIzOlsxLDgzXSwxMjU6WzEsNzddLDEyNjpbMSw3Nl0sMTI5OlsxLDc1XSwxMzA6WzEsNzhdLDEzMTpbMSw3OV0sMTMyOlsxLDgwXSwxMzM6WzEsODFdLDEzNDpbMSw4Ml19LHs2OlsxLDI2MF0sMjU6WzEsMjYxXSwyNjpbMSwzMTFdfSx7ODozMTIsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7ODozMTMsOToxMTUsMTA6MTksMTE6MjAsMTI6MjEsMTM6WzEsMjJdLDE0OjgsMTU6OSwxNjoxMCwxNzoxMSwxODoxMiwxOToxMywyMDoxNCwyMToxNSwyMjoxNiwyMzoxNywyNDoxOCwyNzo1OSwyODpbMSw3MF0sMjk6NDksMzA6WzEsNjhdLDMxOlsxLDY5XSwzMjoyNCwzMzpbMSw1MF0sMzQ6WzEsNTFdLDM1OlsxLDUyXSwzNjoyMyw0MTo2MCw0MjpbMSw0NF0sNDM6WzEsNDZdLDQ0OlsxLDI5XSw0NzozMCw0ODpbMSw1N10sNDk6WzEsNThdLDU1OjQ3LDU2OjQ4LDU4OjM2LDYwOjI1LDYxOjI2LDYyOjI3LDczOlsxLDY3XSw3NjpbMSw0M10sODA6WzEsMjhdLDg1OlsxLDU1XSw4NjpbMSw1Nl0sODc6WzEsNTRdLDkzOlsxLDM4XSw5NzpbMSw0NV0sOTg6WzEsNTNdLDEwMDozOSwxMDE6WzEsNjJdLDEwMzpbMSw2M10sMTA0OjQwLDEwNTpbMSw2NF0sMTA2OjQxLDEwNzpbMSw2NV0sMTA4OjY2LDExNjpbMSw0Ml0sMTIxOjM3LDEyMjpbMSw2MV0sMTI0OlsxLDMxXSwxMjU6WzEsMzJdLDEyNjpbMSwzM10sMTI3OlsxLDM0XSwxMjg6WzEsMzVdfSx7NjpbMSwyNzFdLDI1OlsxLDI3Ml0sMjY6WzEsMzE0XX0sezY6WzIsMzddLDI1OlsyLDM3XSwyNjpbMiwzN10sNTE6WzIsMzddLDc1OlsyLDM3XX0sezE6WzIsMTY0XSw2OlsyLDE2NF0sMjU6WzIsMTY0XSwyNjpbMiwxNjRdLDQ2OlsyLDE2NF0sNTE6WzIsMTY0XSw1NDpbMiwxNjRdLDY5OlsyLDE2NF0sNzU6WzIsMTY0XSw4MzpbMiwxNjRdLDg4OlsyLDE2NF0sOTA6WzIsMTY0XSw5OTpbMiwxNjRdLDEwMTpbMiwxNjRdLDEwMjpbMiwxNjRdLDEwMzpbMiwxNjRdLDEwNzpbMiwxNjRdLDExNTpbMiwxNjRdLDEyMzpbMiwxNjRdLDEyNTpbMiwxNjRdLDEyNjpbMiwxNjRdLDEyOTpbMiwxNjRdLDEzMDpbMiwxNjRdLDEzMTpbMiwxNjRdLDEzMjpbMiwxNjRdLDEzMzpbMiwxNjRdLDEzNDpbMiwxNjRdfSx7NjpbMiwxMjFdLDI1OlsyLDEyMV0sMjY6WzIsMTIxXSw1MTpbMiwxMjFdLDgzOlsyLDEyMV0sODg6WzIsMTIxXX0sezE6WzIsMTYxXSw2OlsyLDE2MV0sMjU6WzIsMTYxXSwyNjpbMiwxNjFdLDQ2OlsyLDE2MV0sNTE6WzIsMTYxXSw1NDpbMiwxNjFdLDY5OlsyLDE2MV0sNzU6WzIsMTYxXSw4MzpbMiwxNjFdLDg4OlsyLDE2MV0sOTA6WzIsMTYxXSw5OTpbMiwxNjFdLDEwMDo4NCwxMDE6WzIsMTYxXSwxMDI6WzIsMTYxXSwxMDM6WzIsMTYxXSwxMDY6ODUsMTA3OlsyLDE2MV0sMTA4OjY2LDExNTpbMiwxNjFdLDEyMzpbMiwxNjFdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezE6WzIsMTYyXSw2OlsyLDE2Ml0sMjU6WzIsMTYyXSwyNjpbMiwxNjJdLDQ2OlsyLDE2Ml0sNTE6WzIsMTYyXSw1NDpbMiwxNjJdLDY5OlsyLDE2Ml0sNzU6WzIsMTYyXSw4MzpbMiwxNjJdLDg4OlsyLDE2Ml0sOTA6WzIsMTYyXSw5OTpbMiwxNjJdLDEwMDo4NCwxMDE6WzIsMTYyXSwxMDI6WzIsMTYyXSwxMDM6WzIsMTYyXSwxMDY6ODUsMTA3OlsyLDE2Ml0sMTA4OjY2LDExNTpbMiwxNjJdLDEyMzpbMiwxNjJdLDEyNTpbMSw3N10sMTI2OlsxLDc2XSwxMjk6WzEsNzVdLDEzMDpbMSw3OF0sMTMxOlsxLDc5XSwxMzI6WzEsODBdLDEzMzpbMSw4MV0sMTM0OlsxLDgyXX0sezY6WzIsODldLDI1OlsyLDg5XSwyNjpbMiw4OV0sNTE6WzIsODldLDc1OlsyLDg5XX1dLGRlZmF1bHRBY3Rpb25zOns1NzpbMiw0N10sNTg6WzIsNDhdLDcyOlsyLDNdLDkxOlsyLDEwM10sMTg2OlsyLDgzXX0scGFyc2VFcnJvcjpmdW5jdGlvbihhLGIpe3Rocm93IG5ldyBFcnJvcihhKX0scGFyc2U6ZnVuY3Rpb24oYSl7ZnVuY3Rpb24gbygpe3ZhciBhO2E9Yi5sZXhlci5sZXgoKXx8MSx0eXBlb2YgYSE9Im51bWJlciImJihhPWIuc3ltYm9sc19bYV18fGEpO3JldHVybiBhfWZ1bmN0aW9uIG4oYSl7Yy5sZW5ndGg9Yy5sZW5ndGgtMiphLGQubGVuZ3RoPWQubGVuZ3RoLWEsZS5sZW5ndGg9ZS5sZW5ndGgtYX12YXIgYj10aGlzLGM9WzBdLGQ9W251bGxdLGU9W10sZj10aGlzLnRhYmxlLGc9IiIsaD0wLGk9MCxqPTAsaz0yLGw9MTt0aGlzLmxleGVyLnNldElucHV0KGEpLHRoaXMubGV4ZXIueXk9dGhpcy55eSx0aGlzLnl5LmxleGVyPXRoaXMubGV4ZXIsdHlwZW9mIHRoaXMubGV4ZXIueXlsbG9jPT0idW5kZWZpbmVkIiYmKHRoaXMubGV4ZXIueXlsbG9jPXt9KTt2YXIgbT10aGlzLmxleGVyLnl5bGxvYztlLnB1c2gobSksdHlwZW9mIHRoaXMueXkucGFyc2VFcnJvcj09ImZ1bmN0aW9uIiYmKHRoaXMucGFyc2VFcnJvcj10aGlzLnl5LnBhcnNlRXJyb3IpO3ZhciBwLHEscixzLHQsdSx2PXt9LHcseCx5LHo7Zm9yKDs7KXtyPWNbYy5sZW5ndGgtMV0sdGhpcy5kZWZhdWx0QWN0aW9uc1tyXT9zPXRoaXMuZGVmYXVsdEFjdGlvbnNbcl06KHA9PW51bGwmJihwPW8oKSkscz1mW3JdJiZmW3JdW3BdKTtpZih0eXBlb2Ygcz09InVuZGVmaW5lZCJ8fCFzLmxlbmd0aHx8IXNbMF0pe2lmKCFqKXt6PVtdO2Zvcih3IGluIGZbcl0pdGhpcy50ZXJtaW5hbHNfW3ddJiZ3PjImJnoucHVzaCgiJyIrdGhpcy50ZXJtaW5hbHNfW3ddKyInIik7dmFyIEE9IiI7dGhpcy5sZXhlci5zaG93UG9zaXRpb24/QT0iUGFyc2UgZXJyb3Igb24gbGluZSAiKyhoKzEpKyI6XG4iK3RoaXMubGV4ZXIuc2hvd1Bvc2l0aW9uKCkrIlxuRXhwZWN0aW5nICIrei5qb2luKCIsICIpOkE9IlBhcnNlIGVycm9yIG9uIGxpbmUgIisoaCsxKSsiOiBVbmV4cGVjdGVkICIrKHA9PTE/ImVuZCBvZiBpbnB1dCI6IiciKyh0aGlzLnRlcm1pbmFsc19bcF18fHApKyInIiksdGhpcy5wYXJzZUVycm9yKEEse3RleHQ6dGhpcy5sZXhlci5tYXRjaCx0b2tlbjp0aGlzLnRlcm1pbmFsc19bcF18fHAsbGluZTp0aGlzLmxleGVyLnl5bGluZW5vLGxvYzptLGV4cGVjdGVkOnp9KX1pZihqPT0zKXtpZihwPT1sKXRocm93IG5ldyBFcnJvcihBfHwiUGFyc2luZyBoYWx0ZWQuIik7aT10aGlzLmxleGVyLnl5bGVuZyxnPXRoaXMubGV4ZXIueXl0ZXh0LGg9dGhpcy5sZXhlci55eWxpbmVubyxtPXRoaXMubGV4ZXIueXlsbG9jLHA9bygpfWZvcig7Oyl7aWYoay50b1N0cmluZygpaW4gZltyXSlicmVhaztpZihyPT0wKXRocm93IG5ldyBFcnJvcihBfHwiUGFyc2luZyBoYWx0ZWQuIik7bigxKSxyPWNbYy5sZW5ndGgtMV19cT1wLHA9ayxyPWNbYy5sZW5ndGgtMV0scz1mW3JdJiZmW3JdW2tdLGo9M31pZihzWzBdaW5zdGFuY2VvZiBBcnJheSYmcy5sZW5ndGg+MSl0aHJvdyBuZXcgRXJyb3IoIlBhcnNlIEVycm9yOiBtdWx0aXBsZSBhY3Rpb25zIHBvc3NpYmxlIGF0IHN0YXRlOiAiK3IrIiwgdG9rZW46ICIrcCk7c3dpdGNoKHNbMF0pe2Nhc2UgMTpjLnB1c2gocCksZC5wdXNoKHRoaXMubGV4ZXIueXl0ZXh0KSxlLnB1c2godGhpcy5sZXhlci55eWxsb2MpLGMucHVzaChzWzFdKSxwPW51bGwscT8ocD1xLHE9bnVsbCk6KGk9dGhpcy5sZXhlci55eWxlbmcsZz10aGlzLmxleGVyLnl5dGV4dCxoPXRoaXMubGV4ZXIueXlsaW5lbm8sbT10aGlzLmxleGVyLnl5bGxvYyxqPjAmJmotLSk7YnJlYWs7Y2FzZSAyOng9dGhpcy5wcm9kdWN0aW9uc19bc1sxXV1bMV0sdi4kPWRbZC5sZW5ndGgteF0sdi5fJD17Zmlyc3RfbGluZTplW2UubGVuZ3RoLSh4fHwxKV0uZmlyc3RfbGluZSxsYXN0X2xpbmU6ZVtlLmxlbmd0aC0xXS5sYXN0X2xpbmUsZmlyc3RfY29sdW1uOmVbZS5sZW5ndGgtKHh8fDEpXS5maXJzdF9jb2x1bW4sbGFzdF9jb2x1bW46ZVtlLmxlbmd0aC0xXS5sYXN0X2NvbHVtbn0sdT10aGlzLnBlcmZvcm1BY3Rpb24uY2FsbCh2LGcsaSxoLHRoaXMueXksc1sxXSxkLGUpO2lmKHR5cGVvZiB1IT0idW5kZWZpbmVkIilyZXR1cm4gdTt4JiYoYz1jLnNsaWNlKDAsLTEqeCoyKSxkPWQuc2xpY2UoMCwtMSp4KSxlPWUuc2xpY2UoMCwtMSp4KSksYy5wdXNoKHRoaXMucHJvZHVjdGlvbnNfW3NbMV1dWzBdKSxkLnB1c2godi4kKSxlLnB1c2godi5fJCkseT1mW2NbYy5sZW5ndGgtMl1dW2NbYy5sZW5ndGgtMV1dLGMucHVzaCh5KTticmVhaztjYXNlIDM6cmV0dXJuITB9fXJldHVybiEwfX07cmV0dXJuIGF9KCk7dHlwZW9mIHJlcXVpcmUhPSJ1bmRlZmluZWQiJiZ0eXBlb2YgYSE9InVuZGVmaW5lZCImJihhLnBhcnNlcj1iLGEucGFyc2U9ZnVuY3Rpb24oKXtyZXR1cm4gYi5wYXJzZS5hcHBseShiLGFyZ3VtZW50cyl9LGEubWFpbj1mdW5jdGlvbihiKXtpZighYlsxXSl0aHJvdyBuZXcgRXJyb3IoIlVzYWdlOiAiK2JbMF0rIiBGSUxFIik7aWYodHlwZW9mIHByb2Nlc3MhPSJ1bmRlZmluZWQiKXZhciBjPXJlcXVpcmUoImZzIikucmVhZEZpbGVTeW5jKHJlcXVpcmUoInBhdGgiKS5qb2luKHByb2Nlc3MuY3dkKCksYlsxXSksInV0ZjgiKTtlbHNlIHZhciBkPXJlcXVpcmUoImZpbGUiKS5wYXRoKHJlcXVpcmUoImZpbGUiKS5jd2QoKSksYz1kLmpvaW4oYlsxXSkucmVhZCh7Y2hhcnNldDoidXRmLTgifSk7cmV0dXJuIGEucGFyc2VyLnBhcnNlKGMpfSx0eXBlb2YgbW9kdWxlIT0idW5kZWZpbmVkIiYmcmVxdWlyZS5tYWluPT09bW9kdWxlJiZhLm1haW4odHlwZW9mIHByb2Nlc3MhPSJ1bmRlZmluZWQiP3Byb2Nlc3MuYXJndi5zbGljZSgxKTpyZXF1aXJlKCJzeXN0ZW0iKS5hcmdzKSl9LHJlcXVpcmVbIi4vc2NvcGUiXT1uZXcgZnVuY3Rpb24oKXt2YXIgYT10aGlzOyhmdW5jdGlvbigpe3ZhciBiLGMsZCxlO2U9cmVxdWlyZSgiLi9oZWxwZXJzIiksYz1lLmV4dGVuZCxkPWUubGFzdCxhLlNjb3BlPWI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGIsYyxkKXt0aGlzLnBhcmVudD1iLHRoaXMuZXhwcmVzc2lvbnM9Yyx0aGlzLm1ldGhvZD1kLHRoaXMudmFyaWFibGVzPVt7bmFtZToiYXJndW1lbnRzIix0eXBlOiJhcmd1bWVudHMifV0sdGhpcy5wb3NpdGlvbnM9e30sdGhpcy5wYXJlbnR8fChhLnJvb3Q9dGhpcyl9YS5yb290PW51bGwsYS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYixjKXt2YXIgZDtpZih0aGlzLnNoYXJlZCYmIWMpcmV0dXJuIHRoaXMucGFyZW50LmFkZChhLGIsYyk7cmV0dXJuIHR5cGVvZiAoZD10aGlzLnBvc2l0aW9uc1thXSk9PSJudW1iZXIiP3RoaXMudmFyaWFibGVzW2RdLnR5cGU9Yjp0aGlzLnBvc2l0aW9uc1thXT10aGlzLnZhcmlhYmxlcy5wdXNoKHtuYW1lOmEsdHlwZTpifSktMX0sYS5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhLGIpe2lmKHRoaXMuY2hlY2soYSxiKSlyZXR1cm4hMDt0aGlzLmFkZChhLCJ2YXIiKTtyZXR1cm4hMX0sYS5wcm90b3R5cGUucGFyYW1ldGVyPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLnNoYXJlZHx8IXRoaXMucGFyZW50LmNoZWNrKGEsITApKXJldHVybiB0aGlzLmFkZChhLCJwYXJhbSIpfSxhLnByb3RvdHlwZS5jaGVjaz1mdW5jdGlvbihhLGIpe3ZhciBjLGQ7Yz0hIXRoaXMudHlwZShhKTtpZihjfHxiKXJldHVybiBjO3JldHVybihkPXRoaXMucGFyZW50KSE9bnVsbD8hIWQuY2hlY2soYSk6ISF2b2lkIDB9LGEucHJvdG90eXBlLnRlbXBvcmFyeT1mdW5jdGlvbihhLGIpe3JldHVybiBhLmxlbmd0aD4xPyJfIithKyhiPjE/YjoiIik6Il8iKyhiK3BhcnNlSW50KGEsMzYpKS50b1N0cmluZygzNikucmVwbGFjZSgvXGQvZywiYSIpfSxhLnByb3RvdHlwZS50eXBlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlO2U9dGhpcy52YXJpYWJsZXM7Zm9yKGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspe2I9ZVtjXTtpZihiLm5hbWU9PT1hKXJldHVybiBiLnR5cGV9cmV0dXJuIG51bGx9LGEucHJvdG90eXBlLmZyZWVWYXJpYWJsZT1mdW5jdGlvbihhKXt2YXIgYixjO2I9MDt3aGlsZSh0aGlzLmNoZWNrKGM9dGhpcy50ZW1wb3JhcnkoYSxiKSkpYisrO3RoaXMuYWRkKGMsInZhciIsITApO3JldHVybiBjfSxhLnByb3RvdHlwZS5hc3NpZ249ZnVuY3Rpb24oYSxiKXt0aGlzLmFkZChhLHt2YWx1ZTpiLGFzc2lnbmVkOiEwfSk7cmV0dXJuIHRoaXMuaGFzQXNzaWdubWVudHM9ITB9LGEucHJvdG90eXBlLmhhc0RlY2xhcmF0aW9ucz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5kZWNsYXJlZFZhcmlhYmxlcygpLmxlbmd0aH0sYS5wcm90b3R5cGUuZGVjbGFyZWRWYXJpYWJsZXM9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlLGY7YT1bXSxiPVtdLGY9dGhpcy52YXJpYWJsZXM7Zm9yKGQ9MCxlPWYubGVuZ3RoO2Q8ZTtkKyspYz1mW2RdLGMudHlwZT09PSJ2YXIiJiYoYy5uYW1lLmNoYXJBdCgwKT09PSJfIj9iOmEpLnB1c2goYy5uYW1lKTtyZXR1cm4gYS5zb3J0KCkuY29uY2F0KGIuc29ydCgpKX0sYS5wcm90b3R5cGUuYXNzaWduZWRWYXJpYWJsZXM9ZnVuY3Rpb24oKXt2YXIgYSxiLGMsZCxlO2Q9dGhpcy52YXJpYWJsZXMsZT1bXTtmb3IoYj0wLGM9ZC5sZW5ndGg7YjxjO2IrKylhPWRbYl0sYS50eXBlLmFzc2lnbmVkJiZlLnB1c2goIiIrYS5uYW1lKyIgPSAiK2EudHlwZS52YWx1ZSk7cmV0dXJuIGV9O3JldHVybiBhfSgpfSkuY2FsbCh0aGlzKX0scmVxdWlyZVsiLi9ub2RlcyJdPW5ldyBmdW5jdGlvbigpe3ZhciBhPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtLG4sbyxwLHEscixzLHQsdSx2LHcseCx5LHosQSxCLEMsRCxFLEYsRyxILEksSixLLEwsTSxOLE8sUCxRLFIsUyxULFUsVixXLFgsWSxaLCQsXyxiYSxiYixiYyxiZCxiZSxiZixiZz1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LGJoPWZ1bmN0aW9uKGEsYil7ZnVuY3Rpb24gZCgpe3RoaXMuY29uc3RydWN0b3I9YX1mb3IodmFyIGMgaW4gYiliZy5jYWxsKGIsYykmJihhW2NdPWJbY10pO2QucHJvdG90eXBlPWIucHJvdG90eXBlLGEucHJvdG90eXBlPW5ldyBkLGEuX19zdXBlcl9fPWIucHJvdG90eXBlO3JldHVybiBhfSxiaT1mdW5jdGlvbihhLGIpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19O0s9cmVxdWlyZSgiLi9zY29wZSIpLlNjb3BlLGJmPXJlcXVpcmUoIi4vaGVscGVycyIpLFc9YmYuY29tcGFjdCwkPWJmLmZsYXR0ZW4sWj1iZi5leHRlbmQsYmE9YmYubWVyZ2UsWD1iZi5kZWwsYmM9YmYuc3RhcnRzLFk9YmYuZW5kcyxfPWJmLmxhc3QsYS5leHRlbmQ9WixWPWZ1bmN0aW9uKCl7cmV0dXJuITB9LEI9ZnVuY3Rpb24oKXtyZXR1cm4hMX0sUD1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBPWZ1bmN0aW9uKCl7dGhpcy5uZWdhdGVkPSF0aGlzLm5lZ2F0ZWQ7cmV0dXJuIHRoaXN9LGEuQmFzZT1lPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYSgpe31hLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGEsYil7dmFyIGM7YT1aKHt9LGEpLGImJihhLmxldmVsPWIpLGM9dGhpcy51bmZvbGRTb2FrKGEpfHx0aGlzLGMudGFiPWEuaW5kZW50O3JldHVybiBhLmxldmVsPT09eXx8IWMuaXNTdGF0ZW1lbnQoYSk/Yy5jb21waWxlTm9kZShhKTpjLmNvbXBpbGVDbG9zdXJlKGEpfSxhLnByb3RvdHlwZS5jb21waWxlQ2xvc3VyZT1mdW5jdGlvbihhKXtpZih0aGlzLmp1bXBzKCl8fHRoaXMgaW5zdGFuY2VvZiBRKXRocm93IFN5bnRheEVycm9yKCJjYW5ub3QgdXNlIGEgcHVyZSBzdGF0ZW1lbnQgaW4gYW4gZXhwcmVzc2lvbi4iKTthLnNoYXJlZFNjb3BlPSEwO3JldHVybiBpLndyYXAodGhpcykuY29tcGlsZU5vZGUoYSl9LGEucHJvdG90eXBlLmNhY2hlPWZ1bmN0aW9uKGEsYixjKXt2YXIgZSxmO2lmKCF0aGlzLmlzQ29tcGxleCgpKXtlPWI/dGhpcy5jb21waWxlKGEsYik6dGhpcztyZXR1cm5bZSxlXX1lPW5ldyB6KGN8fGEuc2NvcGUuZnJlZVZhcmlhYmxlKCJyZWYiKSksZj1uZXcgZChlLHRoaXMpO3JldHVybiBiP1tmLmNvbXBpbGUoYSxiKSxlLnZhbHVlXTpbZixlXX0sYS5wcm90b3R5cGUuY29tcGlsZUxvb3BSZWZlcmVuY2U9ZnVuY3Rpb24oYSxiKXt2YXIgYyxkLGU7Yz1kPXRoaXMuY29tcGlsZShhLHYpLC1JbmZpbml0eTwoZT0rYykmJmU8SW5maW5pdHl8fG8udGVzdChjKSYmYS5zY29wZS5jaGVjayhjLCEwKXx8KGM9IiIrKGQ9YS5zY29wZS5mcmVlVmFyaWFibGUoYikpKyIgPSAiK2MpO3JldHVybltjLGRdfSxhLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBJKHRoaXMpfSxhLnByb3RvdHlwZS5jb250YWlucz1mdW5jdGlvbihhKXt2YXIgYjtiPSExLHRoaXMudHJhdmVyc2VDaGlsZHJlbighMSxmdW5jdGlvbihjKXtpZihhKGMpKXtiPSEwO3JldHVybiExfX0pO3JldHVybiBifSxhLnByb3RvdHlwZS5jb250YWluc1R5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBhfHx0aGlzLmNvbnRhaW5zKGZ1bmN0aW9uKGIpe3JldHVybiBiIGluc3RhbmNlb2YgYX0pfSxhLnByb3RvdHlwZS5sYXN0Tm9uQ29tbWVudD1mdW5jdGlvbihhKXt2YXIgYjtiPWEubGVuZ3RoO3doaWxlKGItLSlpZighKGFbYl1pbnN0YW5jZW9mIGspKXJldHVybiBhW2JdO3JldHVybiBudWxsfSxhLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihhLGIpe3ZhciBjO2E9PW51bGwmJihhPSIiKSxiPT1udWxsJiYoYj10aGlzLmNvbnN0cnVjdG9yLm5hbWUpLGM9IlxuIithK2IsdGhpcy5zb2FrJiYoYys9Ij8iKSx0aGlzLmVhY2hDaGlsZChmdW5jdGlvbihiKXtyZXR1cm4gYys9Yi50b1N0cmluZyhhK08pfSk7cmV0dXJuIGN9LGEucHJvdG90eXBlLmVhY2hDaGlsZD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpO2lmKCF0aGlzLmNoaWxkcmVuKXJldHVybiB0aGlzO2g9dGhpcy5jaGlsZHJlbjtmb3IoZD0wLGY9aC5sZW5ndGg7ZDxmO2QrKyl7Yj1oW2RdO2lmKHRoaXNbYl0pe2k9JChbdGhpc1tiXV0pO2ZvcihlPTAsZz1pLmxlbmd0aDtlPGc7ZSsrKXtjPWlbZV07aWYoYShjKT09PSExKXJldHVybiB0aGlzfX19cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLnRyYXZlcnNlQ2hpbGRyZW49ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5lYWNoQ2hpbGQoZnVuY3Rpb24oYyl7aWYoYihjKT09PSExKXJldHVybiExO3JldHVybiBjLnRyYXZlcnNlQ2hpbGRyZW4oYSxiKX0pfSxhLnByb3RvdHlwZS5pbnZlcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEQoIiEiLHRoaXMpfSxhLnByb3RvdHlwZS51bndyYXBBbGw9ZnVuY3Rpb24oKXt2YXIgYTthPXRoaXM7d2hpbGUoYSE9PShhPWEudW53cmFwKCkpKWNvbnRpbnVlO3JldHVybiBhfSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bXSxhLnByb3RvdHlwZS5pc1N0YXRlbWVudD1CLGEucHJvdG90eXBlLmp1bXBzPUIsYS5wcm90b3R5cGUuaXNDb21wbGV4PVYsYS5wcm90b3R5cGUuaXNDaGFpbmFibGU9QixhLnByb3RvdHlwZS5pc0Fzc2lnbmFibGU9QixhLnByb3RvdHlwZS51bndyYXA9UCxhLnByb3RvdHlwZS51bmZvbGRTb2FrPUIsYS5wcm90b3R5cGUuYXNzaWducz1CO3JldHVybiBhfSgpLGEuQmxvY2s9Zj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5leHByZXNzaW9ucz1XKCQoYXx8W10pKX1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsiZXhwcmVzc2lvbnMiXSxhLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEpe3RoaXMuZXhwcmVzc2lvbnMucHVzaChhKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUucG9wPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZXhwcmVzc2lvbnMucG9wKCl9LGEucHJvdG90eXBlLnVuc2hpZnQ9ZnVuY3Rpb24oYSl7dGhpcy5leHByZXNzaW9ucy51bnNoaWZ0KGEpO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5leHByZXNzaW9ucy5sZW5ndGg9PT0xP3RoaXMuZXhwcmVzc2lvbnNbMF06dGhpc30sYS5wcm90b3R5cGUuaXNFbXB0eT1mdW5jdGlvbigpe3JldHVybiF0aGlzLmV4cHJlc3Npb25zLmxlbmd0aH0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT10aGlzLmV4cHJlc3Npb25zO2ZvcihjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKXtiPWVbY107aWYoYi5pc1N0YXRlbWVudChhKSlyZXR1cm4hMH1yZXR1cm4hMX0sYS5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT10aGlzLmV4cHJlc3Npb25zO2ZvcihjPTAsZD1lLmxlbmd0aDtjPGQ7YysrKXtiPWVbY107aWYoYi5qdW1wcyhhKSlyZXR1cm4gYn19LGEucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oKXt2YXIgYSxiO2I9dGhpcy5leHByZXNzaW9ucy5sZW5ndGg7d2hpbGUoYi0tKXthPXRoaXMuZXhwcmVzc2lvbnNbYl07aWYoIShhIGluc3RhbmNlb2Ygaykpe3RoaXMuZXhwcmVzc2lvbnNbYl09YS5tYWtlUmV0dXJuKCksYSBpbnN0YW5jZW9mIEkmJiFhLmV4cHJlc3Npb24mJnRoaXMuZXhwcmVzc2lvbnMuc3BsaWNlKGIsMSk7YnJlYWt9fXJldHVybiB0aGlzfSxhLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGIsYyl7Yj09bnVsbCYmKGI9e30pO3JldHVybiBiLnNjb3BlP2EuX19zdXBlcl9fLmNvbXBpbGUuY2FsbCh0aGlzLGIsYyk6dGhpcy5jb21waWxlUm9vdChiKX0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg7dGhpcy50YWI9YS5pbmRlbnQsZT1hLmxldmVsPT09eSxjPVtdLGg9dGhpcy5leHByZXNzaW9ucztmb3IoZj0wLGc9aC5sZW5ndGg7ZjxnO2YrKylkPWhbZl0sZD1kLnVud3JhcEFsbCgpLGQ9ZC51bmZvbGRTb2FrKGEpfHxkLGU/KGQuZnJvbnQ9ITAsYj1kLmNvbXBpbGUoYSksYy5wdXNoKGQuaXNTdGF0ZW1lbnQoYSk/Yjp0aGlzLnRhYitiKyI7IikpOmMucHVzaChkLmNvbXBpbGUoYSx2KSk7aWYoZSlyZXR1cm4gYy5qb2luKCJcbiIpO2I9Yy5qb2luKCIsICIpfHwidm9pZCAwIjtyZXR1cm4gYy5sZW5ndGg+MSYmYS5sZXZlbD49dj8iKCIrYisiKSI6Yn0sYS5wcm90b3R5cGUuY29tcGlsZVJvb3Q9ZnVuY3Rpb24oYSl7dmFyIGI7YS5pbmRlbnQ9dGhpcy50YWI9YS5iYXJlPyIiOk8sYS5zY29wZT1uZXcgSyhudWxsLHRoaXMsbnVsbCksYS5sZXZlbD15LGI9dGhpcy5jb21waWxlV2l0aERlY2xhcmF0aW9ucyhhKTtyZXR1cm4gYS5iYXJlP2I6IihmdW5jdGlvbigpIHtcbiIrYisiXG59KS5jYWxsKHRoaXMpO1xuIn0sYS5wcm90b3R5cGUuY29tcGlsZVdpdGhEZWNsYXJhdGlvbnM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaTtiPWU9IiIsaT10aGlzLmV4cHJlc3Npb25zO2ZvcihkPTAsaD1pLmxlbmd0aDtkPGg7ZCsrKXtjPWlbZF0sYz1jLnVud3JhcCgpO2lmKCEoYyBpbnN0YW5jZW9mIGt8fGMgaW5zdGFuY2VvZiB6KSlicmVha31hPWJhKGEse2xldmVsOnl9KSxkJiYoZj10aGlzLmV4cHJlc3Npb25zLnNwbGljZShkLHRoaXMuZXhwcmVzc2lvbnMubGVuZ3RoKSxiPXRoaXMuY29tcGlsZU5vZGUoYSksdGhpcy5leHByZXNzaW9ucz1mKSxlPXRoaXMuY29tcGlsZU5vZGUoYSksZz1hLnNjb3BlLGcuZXhwcmVzc2lvbnM9PT10aGlzJiYoYS5zY29wZS5oYXNEZWNsYXJhdGlvbnMoKSYmKGIrPSIiK3RoaXMudGFiKyJ2YXIgIitnLmRlY2xhcmVkVmFyaWFibGVzKCkuam9pbigiLCAiKSsiO1xuIiksZy5oYXNBc3NpZ25tZW50cyYmKGIrPSIiK3RoaXMudGFiKyJ2YXIgIitiYihnLmFzc2lnbmVkVmFyaWFibGVzKCkuam9pbigiLCAiKSx0aGlzLnRhYikrIjtcbiIpKTtyZXR1cm4gYitlfSxhLndyYXA9ZnVuY3Rpb24oYil7aWYoYi5sZW5ndGg9PT0xJiZiWzBdaW5zdGFuY2VvZiBhKXJldHVybiBiWzBdO3JldHVybiBuZXcgYShiKX07cmV0dXJuIGF9KCksYS5MaXRlcmFsPXo9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMudmFsdWU9YX1iaChhLGUpLGEucHJvdG90eXBlLm1ha2VSZXR1cm49ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pc1N0YXRlbWVudCgpP3RoaXM6bmV3IEkodGhpcyl9LGEucHJvdG90eXBlLmlzQXNzaWduYWJsZT1mdW5jdGlvbigpe3JldHVybiBvLnRlc3QodGhpcy52YWx1ZSl9LGEucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuKGE9dGhpcy52YWx1ZSk9PT0iYnJlYWsifHxhPT09ImNvbnRpbnVlInx8YT09PSJkZWJ1Z2dlciJ9LGEucHJvdG90eXBlLmlzQ29tcGxleD1CLGEucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oYSl7cmV0dXJuIGE9PT10aGlzLnZhbHVlfSxhLnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihhKXtpZighdGhpcy5pc1N0YXRlbWVudCgpKXJldHVybiExO3JldHVybiFhfHwhKGEubG9vcHx8YS5ibG9jayYmdGhpcy52YWx1ZSE9PSJjb250aW51ZSIpP3RoaXM6ITF9LGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiO2I9dGhpcy5pc1VuZGVmaW5lZD9hLmxldmVsPj10PyIodm9pZCAwKSI6InZvaWQgMCI6dGhpcy52YWx1ZS5yZXNlcnZlZD8nIicrdGhpcy52YWx1ZSsnIic6dGhpcy52YWx1ZTtyZXR1cm4gdGhpcy5pc1N0YXRlbWVudCgpPyIiK3RoaXMudGFiK2IrIjsiOmJ9LGEucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuJyAiJyt0aGlzLnZhbHVlKyciJ307cmV0dXJuIGF9KCksYS5SZXR1cm49ST1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7YSYmIWEudW53cmFwKCkuaXNVbmRlZmluZWQmJih0aGlzLmV4cHJlc3Npb249YSl9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bImV4cHJlc3Npb24iXSxhLnByb3RvdHlwZS5pc1N0YXRlbWVudD1WLGEucHJvdG90eXBlLm1ha2VSZXR1cm49UCxhLnByb3RvdHlwZS5qdW1wcz1QLGEucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oYixjKXt2YXIgZCxlO2Q9KGU9dGhpcy5leHByZXNzaW9uKSE9bnVsbD9lLm1ha2VSZXR1cm4oKTp2b2lkIDA7cmV0dXJuIWR8fGQgaW5zdGFuY2VvZiBhP2EuX19zdXBlcl9fLmNvbXBpbGUuY2FsbCh0aGlzLGIsYyk6ZC5jb21waWxlKGIsYyl9LGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLnRhYisoInJldHVybiIrKHRoaXMuZXhwcmVzc2lvbj8iICIrdGhpcy5leHByZXNzaW9uLmNvbXBpbGUoYSx4KToiIikrIjsiKX07cmV0dXJuIGF9KCksYS5WYWx1ZT1UPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShiLGMsZCl7aWYoIWMmJmIgaW5zdGFuY2VvZiBhKXJldHVybiBiO3RoaXMuYmFzZT1iLHRoaXMucHJvcGVydGllcz1jfHxbXSxkJiYodGhpc1tkXT0hMCk7cmV0dXJuIHRoaXN9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bImJhc2UiLCJwcm9wZXJ0aWVzIl0sYS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihhKXt0aGlzLnByb3BlcnRpZXMucHVzaChhKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuaGFzUHJvcGVydGllcz1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aH0sYS5wcm90b3R5cGUuaXNBcnJheT1mdW5jdGlvbigpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UgaW5zdGFuY2VvZiBjfSxhLnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5oYXNQcm9wZXJ0aWVzKCl8fHRoaXMuYmFzZS5pc0NvbXBsZXgoKX0sYS5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaGFzUHJvcGVydGllcygpfHx0aGlzLmJhc2UuaXNBc3NpZ25hYmxlKCl9LGEucHJvdG90eXBlLmlzU2ltcGxlTnVtYmVyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIHomJkoudGVzdCh0aGlzLmJhc2UudmFsdWUpfSxhLnByb3RvdHlwZS5pc0F0b21pYz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkO2Q9dGhpcy5wcm9wZXJ0aWVzLmNvbmNhdCh0aGlzLmJhc2UpO2ZvcihiPTAsYz1kLmxlbmd0aDtiPGM7YisrKXthPWRbYl07aWYoYS5zb2FrfHxhIGluc3RhbmNlb2YgZylyZXR1cm4hMX1yZXR1cm4hMH0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuIXRoaXMucHJvcGVydGllcy5sZW5ndGgmJnRoaXMuYmFzZS5pc1N0YXRlbWVudChhKX0sYS5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihhKXtyZXR1cm4hdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aCYmdGhpcy5iYXNlLmFzc2lnbnMoYSl9LGEucHJvdG90eXBlLmp1bXBzPWZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLnByb3BlcnRpZXMubGVuZ3RoJiZ0aGlzLmJhc2UuanVtcHMoYSl9LGEucHJvdG90eXBlLmlzT2JqZWN0PWZ1bmN0aW9uKGEpe2lmKHRoaXMucHJvcGVydGllcy5sZW5ndGgpcmV0dXJuITE7cmV0dXJuIHRoaXMuYmFzZSBpbnN0YW5jZW9mIEMmJighYXx8dGhpcy5iYXNlLmdlbmVyYXRlZCl9LGEucHJvdG90eXBlLmlzU3BsaWNlPWZ1bmN0aW9uKCl7cmV0dXJuIF8odGhpcy5wcm9wZXJ0aWVzKWluc3RhbmNlb2YgTH0sYS5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnByb3BlcnRpZXMubGVuZ3RoP2EuX19zdXBlcl9fLm1ha2VSZXR1cm4uY2FsbCh0aGlzKTp0aGlzLmJhc2UubWFrZVJldHVybigpfSxhLnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wcm9wZXJ0aWVzLmxlbmd0aD90aGlzOnRoaXMuYmFzZX0sYS5wcm90b3R5cGUuY2FjaGVSZWZlcmVuY2U9ZnVuY3Rpb24oYil7dmFyIGMsZSxmLGc7Zj1fKHRoaXMucHJvcGVydGllcyk7aWYodGhpcy5wcm9wZXJ0aWVzLmxlbmd0aDwyJiYhdGhpcy5iYXNlLmlzQ29tcGxleCgpJiYoZiE9bnVsbD8hZi5pc0NvbXBsZXgoKTohdm9pZCAwKSlyZXR1cm5bdGhpcyx0aGlzXTtjPW5ldyBhKHRoaXMuYmFzZSx0aGlzLnByb3BlcnRpZXMuc2xpY2UoMCwtMSkpLGMuaXNDb21wbGV4KCkmJihlPW5ldyB6KGIuc2NvcGUuZnJlZVZhcmlhYmxlKCJiYXNlIikpLGM9bmV3IGEobmV3IEYobmV3IGQoZSxjKSkpKTtpZighZilyZXR1cm5bYyxlXTtmLmlzQ29tcGxleCgpJiYoZz1uZXcgeihiLnNjb3BlLmZyZWVWYXJpYWJsZSgibmFtZSIpKSxmPW5ldyBzKG5ldyBkKGcsZi5pbmRleCkpLGc9bmV3IHMoZykpO3JldHVybltjLnB1c2goZiksbmV3IGEoZXx8Yy5iYXNlLFtnfHxmXSldfSxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXt2YXIgYyxkLGUsZixnO3RoaXMuYmFzZS5mcm9udD10aGlzLmZyb250LGU9dGhpcy5wcm9wZXJ0aWVzLGM9dGhpcy5iYXNlLmNvbXBpbGUoYSxlLmxlbmd0aD90Om51bGwpLGVbMF1pbnN0YW5jZW9mIGImJnRoaXMuaXNTaW1wbGVOdW1iZXIoKSYmKGM9IigiK2MrIikiKTtmb3IoZj0wLGc9ZS5sZW5ndGg7ZjxnO2YrKylkPWVbZl0sYys9ZC5jb21waWxlKGEpO3JldHVybiBjfSxhLnByb3RvdHlwZS51bmZvbGRTb2FrPWZ1bmN0aW9uKGIpe3ZhciBjO2lmKHRoaXMudW5mb2xkZWRTb2FrIT1udWxsKXJldHVybiB0aGlzLnVuZm9sZGVkU29haztjPWJpKGZ1bmN0aW9uKCl7dmFyIGMsZSxmLGcsaCxpLGosaztpZihmPXRoaXMuYmFzZS51bmZvbGRTb2FrKGIpKXtBcnJheS5wcm90b3R5cGUucHVzaC5hcHBseShmLmJvZHkucHJvcGVydGllcyx0aGlzLnByb3BlcnRpZXMpO3JldHVybiBmfWs9dGhpcy5wcm9wZXJ0aWVzO2ZvcihlPTAsaj1rLmxlbmd0aDtlPGo7ZSsrKXtnPWtbZV07aWYoZy5zb2FrKXtnLnNvYWs9ITEsYz1uZXcgYSh0aGlzLmJhc2UsdGhpcy5wcm9wZXJ0aWVzLnNsaWNlKDAsZSkpLGk9bmV3IGEodGhpcy5iYXNlLHRoaXMucHJvcGVydGllcy5zbGljZShlKSksYy5pc0NvbXBsZXgoKSYmKGg9bmV3IHooYi5zY29wZS5mcmVlVmFyaWFibGUoInJlZiIpKSxjPW5ldyBGKG5ldyBkKGgsYykpLGkuYmFzZT1oKTtyZXR1cm4gbmV3IHEobmV3IGwoYyksaSx7c29hazohMH0pfX1yZXR1cm4gbnVsbH0sdGhpcykoKTtyZXR1cm4gdGhpcy51bmZvbGRlZFNvYWs9Y3x8ITF9O3JldHVybiBhfSgpLGEuQ29tbWVudD1rPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhKXt0aGlzLmNvbW1lbnQ9YX1iaChhLGUpLGEucHJvdG90eXBlLmlzU3RhdGVtZW50PVYsYS5wcm90b3R5cGUubWFrZVJldHVybj1QLGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEsYil7dmFyIGM7Yz0iLyoiK2JiKHRoaXMuY29tbWVudCx0aGlzLnRhYikrIiovIiwoYnx8YS5sZXZlbCk9PT15JiYoYz1hLmluZGVudCtjKTtyZXR1cm4gY307cmV0dXJuIGF9KCksYS5DYWxsPWc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLmFyZ3M9YiE9bnVsbD9iOltdLHRoaXMuc29haz1jLHRoaXMuaXNOZXc9ITEsdGhpcy5pc1N1cGVyPWE9PT0ic3VwZXIiLHRoaXMudmFyaWFibGU9dGhpcy5pc1N1cGVyP251bGw6YX1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsidmFyaWFibGUiLCJhcmdzIl0sYS5wcm90b3R5cGUubmV3SW5zdGFuY2U9ZnVuY3Rpb24oKXt2YXIgYjtiPXRoaXMudmFyaWFibGUuYmFzZXx8dGhpcy52YXJpYWJsZSxiIGluc3RhbmNlb2YgYT9iLm5ld0luc3RhbmNlKCk6dGhpcy5pc05ldz0hMDtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuc3VwZXJSZWZlcmVuY2U9ZnVuY3Rpb24oYSl7dmFyIGIsYztiPWEuc2NvcGUubWV0aG9kO2lmKCFiKXRocm93IFN5bnRheEVycm9yKCJjYW5ub3QgY2FsbCBzdXBlciBvdXRzaWRlIG9mIGEgZnVuY3Rpb24uIik7Yz1iLm5hbWU7aWYoIWMpdGhyb3cgU3ludGF4RXJyb3IoImNhbm5vdCBjYWxsIHN1cGVyIG9uIGFuIGFub255bW91cyBmdW5jdGlvbi4iKTtyZXR1cm4gYi5rbGFzcz8iIitiLmtsYXNzKyIuX19zdXBlcl9fLiIrYzoiIitjKyIuX19zdXBlcl9fLmNvbnN0cnVjdG9yIn0sYS5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihiKXt2YXIgYyxkLGUsZixnLGgsaSxqLGs7aWYodGhpcy5zb2FrKXtpZih0aGlzLnZhcmlhYmxlKXtpZihkPWJkKGIsdGhpcywidmFyaWFibGUiKSlyZXR1cm4gZDtqPShuZXcgVCh0aGlzLnZhcmlhYmxlKSkuY2FjaGVSZWZlcmVuY2UoYiksZT1qWzBdLGc9alsxXX1lbHNlIGU9bmV3IHoodGhpcy5zdXBlclJlZmVyZW5jZShiKSksZz1uZXcgVChlKTtnPW5ldyBhKGcsdGhpcy5hcmdzKSxnLmlzTmV3PXRoaXMuaXNOZXcsZT1uZXcgeigidHlwZW9mICIrZS5jb21waWxlKGIpKycgPT09ICJmdW5jdGlvbiInKTtyZXR1cm4gbmV3IHEoZSxuZXcgVChnKSx7c29hazohMH0pfWM9dGhpcyxmPVtdO2Zvcig7Oyl7aWYoYy52YXJpYWJsZSBpbnN0YW5jZW9mIGEpe2YucHVzaChjKSxjPWMudmFyaWFibGU7Y29udGludWV9aWYoIShjLnZhcmlhYmxlIGluc3RhbmNlb2YgVCkpYnJlYWs7Zi5wdXNoKGMpO2lmKCEoKGM9Yy52YXJpYWJsZS5iYXNlKWluc3RhbmNlb2YgYSkpYnJlYWt9az1mLnJldmVyc2UoKTtmb3IoaD0wLGk9ay5sZW5ndGg7aDxpO2grKyljPWtbaF0sZCYmKGMudmFyaWFibGUgaW5zdGFuY2VvZiBhP2MudmFyaWFibGU9ZDpjLnZhcmlhYmxlLmJhc2U9ZCksZD1iZChiLGMsInZhcmlhYmxlIik7cmV0dXJuIGR9LGEucHJvdG90eXBlLmZpbHRlckltcGxpY2l0T2JqZWN0cz1mdW5jdGlvbihhKXt2YXIgYixjLGUsZixnLGgsaSxqLGssbDtjPVtdO2ZvcihoPTAsaj1hLmxlbmd0aDtoPGo7aCsrKXtiPWFbaF07aWYoISgodHlwZW9mIGIuaXNPYmplY3Q9PSJmdW5jdGlvbiI/Yi5pc09iamVjdCgpOnZvaWQgMCkmJmIuYmFzZS5nZW5lcmF0ZWQpKXtjLnB1c2goYik7Y29udGludWV9ZT1udWxsLGw9Yi5iYXNlLnByb3BlcnRpZXM7Zm9yKGk9MCxrPWwubGVuZ3RoO2k8aztpKyspZj1sW2ldLGYgaW5zdGFuY2VvZiBkPyhlfHxjLnB1c2goZT1uZXcgQyhnPVtdLCEwKSksZy5wdXNoKGYpKTooYy5wdXNoKGYpLGU9bnVsbCl9cmV0dXJuIGN9LGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlOyhlPXRoaXMudmFyaWFibGUpIT1udWxsJiYoZS5mcm9udD10aGlzLmZyb250KTtpZihkPU0uY29tcGlsZVNwbGF0dGVkQXJyYXkoYSx0aGlzLmFyZ3MsITApKXJldHVybiB0aGlzLmNvbXBpbGVTcGxhdChhLGQpO2M9dGhpcy5maWx0ZXJJbXBsaWNpdE9iamVjdHModGhpcy5hcmdzKSxjPWZ1bmN0aW9uKCl7dmFyIGQsZSxmO2Y9W107Zm9yKGQ9MCxlPWMubGVuZ3RoO2Q8ZTtkKyspYj1jW2RdLGYucHVzaChiLmNvbXBpbGUoYSx2KSk7cmV0dXJuIGZ9KCkuam9pbigiLCAiKTtyZXR1cm4gdGhpcy5pc1N1cGVyP3RoaXMuc3VwZXJSZWZlcmVuY2UoYSkrKCIuY2FsbCh0aGlzIisoYyYmIiwgIitjKSsiKSIpOih0aGlzLmlzTmV3PyJuZXcgIjoiIikrdGhpcy52YXJpYWJsZS5jb21waWxlKGEsdCkrKCIoIitjKyIpIil9LGEucHJvdG90eXBlLmNvbXBpbGVTdXBlcj1mdW5jdGlvbihhLGIpe3JldHVybiIiK3RoaXMuc3VwZXJSZWZlcmVuY2UoYikrIi5jYWxsKHRoaXMiKyhhLmxlbmd0aD8iLCAiOiIiKSthKyIpIn0sYS5wcm90b3R5cGUuY29tcGlsZVNwbGF0PWZ1bmN0aW9uKGEsYil7dmFyIGMsZCxlLGYsZztpZih0aGlzLmlzU3VwZXIpcmV0dXJuIiIrdGhpcy5zdXBlclJlZmVyZW5jZShhKSsiLmFwcGx5KHRoaXMsICIrYisiKSI7aWYodGhpcy5pc05ldyl7ZT10aGlzLnRhYitPO3JldHVybiIoZnVuY3Rpb24oZnVuYywgYXJncywgY3Rvcikge1xuIitlKyJjdG9yLnByb3RvdHlwZSA9IGZ1bmMucHJvdG90eXBlO1xuIitlKyJ2YXIgY2hpbGQgPSBuZXcgY3RvciwgcmVzdWx0ID0gZnVuYy5hcHBseShjaGlsZCwgYXJncyk7XG4iK2UrJ3JldHVybiB0eXBlb2YgcmVzdWx0ID09PSAib2JqZWN0IiA/IHJlc3VsdCA6IGNoaWxkO1xuJyt0aGlzLnRhYisifSkoIit0aGlzLnZhcmlhYmxlLmNvbXBpbGUoYSx2KSsiLCAiK2IrIiwgZnVuY3Rpb24oKSB7fSkifWM9bmV3IFQodGhpcy52YXJpYWJsZSksKGY9Yy5wcm9wZXJ0aWVzLnBvcCgpKSYmYy5pc0NvbXBsZXgoKT8oZz1hLnNjb3BlLmZyZWVWYXJpYWJsZSgicmVmIiksZD0iKCIrZysiID0gIitjLmNvbXBpbGUoYSx2KSsiKSIrZi5jb21waWxlKGEpKTooZD1jLmNvbXBpbGUoYSx0KSxKLnRlc3QoZCkmJihkPSIoIitkKyIpIiksZj8oZz1kLGQrPWYuY29tcGlsZShhKSk6Zz0ibnVsbCIpO3JldHVybiIiK2QrIi5hcHBseSgiK2crIiwgIitiKyIpIn07cmV0dXJuIGF9KCksYS5FeHRlbmRzPW09ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYil7dGhpcy5jaGlsZD1hLHRoaXMucGFyZW50PWJ9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bImNoaWxkIiwicGFyZW50Il0sYS5wcm90b3R5cGUuY29tcGlsZT1mdW5jdGlvbihhKXtiZSgiaGFzUHJvcCIpO3JldHVybihuZXcgZyhuZXcgVChuZXcgeihiZSgiZXh0ZW5kcyIpKSksW3RoaXMuY2hpbGQsdGhpcy5wYXJlbnRdKSkuY29tcGlsZShhKX07cmV0dXJuIGF9KCksYS5BY2Nlc3M9Yj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt0aGlzLm5hbWU9YSx0aGlzLm5hbWUuYXNLZXk9ITAsdGhpcy5wcm90bz1iPT09InByb3RvIj8iLnByb3RvdHlwZSI6IiIsdGhpcy5zb2FrPWI9PT0ic29hayJ9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bIm5hbWUiXSxhLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGEpe3ZhciBiO2I9dGhpcy5uYW1lLmNvbXBpbGUoYSk7cmV0dXJuIHRoaXMucHJvdG8rKHAudGVzdChiKT8iWyIrYisiXSI6Ii4iK2IpfSxhLnByb3RvdHlwZS5pc0NvbXBsZXg9QjtyZXR1cm4gYX0oKSxhLkluZGV4PXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuaW5kZXg9YX1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsiaW5kZXgiXSxhLnByb3RvdHlwZS5jb21waWxlPWZ1bmN0aW9uKGEpe3JldHVybih0aGlzLnByb3RvPyIucHJvdG90eXBlIjoiIikrKCJbIit0aGlzLmluZGV4LmNvbXBpbGUoYSx4KSsiXSIpfSxhLnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmRleC5pc0NvbXBsZXgoKX07cmV0dXJuIGF9KCksYS5SYW5nZT1IPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dGhpcy5mcm9tPWEsdGhpcy50bz1iLHRoaXMuZXhjbHVzaXZlPWM9PT0iZXhjbHVzaXZlIix0aGlzLmVxdWFscz10aGlzLmV4Y2x1c2l2ZT8iIjoiPSJ9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bImZyb20iLCJ0byJdLGEucHJvdG90eXBlLmNvbXBpbGVWYXJpYWJsZXM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7YT1iYShhLHt0b3A6ITB9KSxjPXRoaXMuZnJvbS5jYWNoZShhLHYpLHRoaXMuZnJvbT1jWzBdLHRoaXMuZnJvbVZhcj1jWzFdLGQ9dGhpcy50by5jYWNoZShhLHYpLHRoaXMudG89ZFswXSx0aGlzLnRvVmFyPWRbMV0sZT1bdGhpcy5mcm9tVmFyLm1hdGNoKEopLHRoaXMudG9WYXIubWF0Y2goSildLHRoaXMuZnJvbU51bT1lWzBdLHRoaXMudG9OdW09ZVsxXSxiPVtdLHRoaXMuZnJvbSE9PXRoaXMuZnJvbVZhciYmYi5wdXNoKHRoaXMuZnJvbSk7aWYodGhpcy50byE9PXRoaXMudG9WYXIpcmV0dXJuIGIucHVzaCh0aGlzLnRvKX0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg7dGhpcy5jb21waWxlVmFyaWFibGVzKGEpO2lmKCFhLmluZGV4KXJldHVybiB0aGlzLmNvbXBpbGVBcnJheShhKTtpZih0aGlzLmZyb21OdW0mJnRoaXMudG9OdW0pcmV0dXJuIHRoaXMuY29tcGlsZVNpbXBsZShhKTtkPVgoYSwiaW5kZXgiKSxlPVgoYSwic3RlcCIpLGUmJihnPWEuc2NvcGUuZnJlZVZhcmlhYmxlKCJzdGVwIikpLGg9IiIrZCsiID0gIit0aGlzLmZyb20rKHRoaXMudG8hPT10aGlzLnRvVmFyPyIsICIrdGhpcy50bzoiIikrKGU/IiwgIitnKyIgPSAiK2UuY29tcGlsZShhKToiIiksYj0iIit0aGlzLmZyb21WYXIrIiA8PSAiK3RoaXMudG9WYXIsYz0iIitiKyIgPyAiK2QrIiA8Iit0aGlzLmVxdWFscysiICIrdGhpcy50b1ZhcisiIDogIitkKyIgPiIrdGhpcy5lcXVhbHMrIiAiK3RoaXMudG9WYXIsZj1lPyIiK2QrIiArPSAiK2c6IiIrYisiID8gIitkKyIrKyA6ICIrZCsiLS0iO3JldHVybiIiK2grIjsgIitjKyI7ICIrZn0sYS5wcm90b3R5cGUuY29tcGlsZVNpbXBsZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGo7aj1bK3RoaXMuZnJvbU51bSwrdGhpcy50b051bV0sYz1qWzBdLGg9alsxXSxkPVgoYSwiaW5kZXgiKSxlPVgoYSwic3RlcCIpLGUmJihnPWEuc2NvcGUuZnJlZVZhcmlhYmxlKCJzdGVwIikpLGk9IiIrZCsiID0gIitjLGUmJihpKz0iLCAiK2crIiA9ICIrZS5jb21waWxlKGEpKSxiPWM8PWg/IiIrZCsiIDwiK3RoaXMuZXF1YWxzKyIgIitoOiIiK2QrIiA+Iit0aGlzLmVxdWFscysiICIraCxlJiYoZj0iIitkKyIgKz0gIitnKSxlfHwoZj1jPD1oPyIiK2QrIisrIjoiIitkKyItLSIpO3JldHVybiIiK2krIjsgIitiKyI7ICIrZn0sYS5wcm90b3R5cGUuY29tcGlsZUFycmF5PWZ1bmN0aW9uKGEpe3ZhciBiLGMsZCxlLGYsZyxoLGksaixrLGwsbSxuO2lmKHRoaXMuZnJvbU51bSYmdGhpcy50b051bSYmTWF0aC5hYnModGhpcy5mcm9tTnVtLXRoaXMudG9OdW0pPD0yMCl7aD1mdW5jdGlvbigpe249W107Zm9yKHZhciBhPWw9K3RoaXMuZnJvbU51bSxiPSt0aGlzLnRvTnVtO2w8PWI/YTw9YjphPj1iO2w8PWI/YSsrOmEtLSluLnB1c2goYSk7cmV0dXJuIG59LmFwcGx5KHRoaXMsYXJndW1lbnRzKSx0aGlzLmV4Y2x1c2l2ZSYmaC5wb3AoKTtyZXR1cm4iWyIraC5qb2luKCIsICIpKyJdIn1lPXRoaXMudGFiK08sZD1hLnNjb3BlLmZyZWVWYXJpYWJsZSgiaSIpLGk9YS5zY29wZS5mcmVlVmFyaWFibGUoInJlc3VsdHMiKSxnPSJcbiIrZStpKyIgPSBbXTsiLHRoaXMuZnJvbU51bSYmdGhpcy50b051bT8oYS5pbmRleD1kLGI9dGhpcy5jb21waWxlU2ltcGxlKGEpKTooaj0iIitkKyIgPSAiK3RoaXMuZnJvbSsodGhpcy50byE9PXRoaXMudG9WYXI/IiwgIit0aGlzLnRvOiIiKSxjPSIiK3RoaXMuZnJvbVZhcisiIDw9ICIrdGhpcy50b1ZhcixiPSJ2YXIgIitqKyI7ICIrYysiID8gIitkKyIgPCIrdGhpcy5lcXVhbHMrIiAiK3RoaXMudG9WYXIrIiA6ICIrZCsiID4iK3RoaXMuZXF1YWxzKyIgIit0aGlzLnRvVmFyKyI7ICIrYysiID8gIitkKyIrKyA6ICIrZCsiLS0iKSxmPSJ7ICIraSsiLnB1c2goIitkKyIpOyB9XG4iK2UrInJldHVybiAiK2krIjtcbiIrYS5pbmRlbnQ7cmV0dXJuIihmdW5jdGlvbigpIHsiK2crIlxuIitlKyJmb3IgKCIrYisiKSIrZisifSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSJ9O3JldHVybiBhfSgpLGEuU2xpY2U9TD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYil7dGhpcy5yYW5nZT1iLGEuX19zdXBlcl9fLmNvbnN0cnVjdG9yLmNhbGwodGhpcyl9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bInJhbmdlIl0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnO2c9dGhpcy5yYW5nZSxlPWcudG8sYz1nLmZyb20sZD1jJiZjLmNvbXBpbGUoYSx4KXx8IjAiLGI9ZSYmZS5jb21waWxlKGEseCksZSYmKCEhdGhpcy5yYW5nZS5leGNsdXNpdmV8fCtiIT09LTEpJiYoZj0iLCAiKyh0aGlzLnJhbmdlLmV4Y2x1c2l2ZT9iOkoudGVzdChiKT8oK2IrMSkudG9TdHJpbmcoKToiKCIrYisiICsgMSkgfHwgOWU5IikpO3JldHVybiIuc2xpY2UoIitkKyhmfHwiIikrIikifTtyZXR1cm4gYX0oKSxhLk9iaj1DPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3RoaXMuZ2VuZXJhdGVkPWIhPW51bGw/YjohMSx0aGlzLm9iamVjdHM9dGhpcy5wcm9wZXJ0aWVzPWF8fFtdfWJoKGEsZSksYS5wcm90b3R5cGUuY2hpbGRyZW49WyJwcm9wZXJ0aWVzIl0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxlLGYsZyxoLGksaixsLG0sbjtsPXRoaXMucHJvcGVydGllcztpZighbC5sZW5ndGgpcmV0dXJuIHRoaXMuZnJvbnQ/Iih7fSkiOiJ7fSI7aWYodGhpcy5nZW5lcmF0ZWQpZm9yKG09MCxuPWwubGVuZ3RoO208bjttKyspe2g9bFttXTtpZihoIGluc3RhbmNlb2YgVCl0aHJvdyBuZXcgRXJyb3IoImNhbm5vdCBoYXZlIGFuIGltcGxpY2l0IHZhbHVlIGluIGFuIGltcGxpY2l0IG9iamVjdCIpfWM9YS5pbmRlbnQrPU8sZz10aGlzLmxhc3ROb25Db21tZW50KHRoaXMucHJvcGVydGllcyksbD1mdW5jdGlvbigpe3ZhciBoLGk7aT1bXTtmb3IoYj0wLGg9bC5sZW5ndGg7YjxoO2IrKylqPWxbYl0sZj1iPT09bC5sZW5ndGgtMT8iIjpqPT09Z3x8aiBpbnN0YW5jZW9mIGs/IlxuIjoiLFxuIixlPWogaW5zdGFuY2VvZiBrPyIiOmMsaiBpbnN0YW5jZW9mIFQmJmpbInRoaXMiXSYmKGo9bmV3IGQoai5wcm9wZXJ0aWVzWzBdLm5hbWUsaiwib2JqZWN0IikpLGogaW5zdGFuY2VvZiBrfHwoaiBpbnN0YW5jZW9mIGR8fChqPW5ldyBkKGosaiwib2JqZWN0IikpLChqLnZhcmlhYmxlLmJhc2V8fGoudmFyaWFibGUpLmFzS2V5PSEwKSxpLnB1c2goZStqLmNvbXBpbGUoYSx5KStmKTtyZXR1cm4gaX0oKSxsPWwuam9pbigiIiksaT0ieyIrKGwmJiJcbiIrbCsiXG4iK3RoaXMudGFiKSsifSI7cmV0dXJuIHRoaXMuZnJvbnQ/IigiK2krIikiOml9LGEucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT10aGlzLnByb3BlcnRpZXM7Zm9yKGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspe2I9ZVtjXTtpZihiLmFzc2lnbnMoYSkpcmV0dXJuITB9cmV0dXJuITF9O3JldHVybiBhfSgpLGEuQXJyPWM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMub2JqZWN0cz1hfHxbXX1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsib2JqZWN0cyJdLGEucHJvdG90eXBlLmZpbHRlckltcGxpY2l0T2JqZWN0cz1nLnByb3RvdHlwZS5maWx0ZXJJbXBsaWNpdE9iamVjdHMsYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkO2lmKCF0aGlzLm9iamVjdHMubGVuZ3RoKXJldHVybiJbXSI7YS5pbmRlbnQrPU8sZD10aGlzLmZpbHRlckltcGxpY2l0T2JqZWN0cyh0aGlzLm9iamVjdHMpO2lmKGI9TS5jb21waWxlU3BsYXR0ZWRBcnJheShhLGQpKXJldHVybiBiO2I9ZnVuY3Rpb24oKXt2YXIgYixlLGY7Zj1bXTtmb3IoYj0wLGU9ZC5sZW5ndGg7YjxlO2IrKyljPWRbYl0sZi5wdXNoKGMuY29tcGlsZShhLHYpKTtyZXR1cm4gZn0oKS5qb2luKCIsICIpO3JldHVybiBiLmluZGV4T2YoIlxuIik+PTA/IltcbiIrYS5pbmRlbnQrYisiXG4iK3RoaXMudGFiKyJdIjoiWyIrYisiXSJ9LGEucHJvdG90eXBlLmFzc2lnbnM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT10aGlzLm9iamVjdHM7Zm9yKGM9MCxkPWUubGVuZ3RoO2M8ZDtjKyspe2I9ZVtjXTtpZihiLmFzc2lnbnMoYSkpcmV0dXJuITB9cmV0dXJuITF9O3JldHVybiBhfSgpLGEuQ2xhc3M9aD1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3RoaXMudmFyaWFibGU9YSx0aGlzLnBhcmVudD1iLHRoaXMuYm9keT1jIT1udWxsP2M6bmV3IGYsdGhpcy5ib3VuZEZ1bmNzPVtdLHRoaXMuYm9keS5jbGFzc0JvZHk9ITB9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bInZhcmlhYmxlIiwicGFyZW50IiwiYm9keSJdLGEucHJvdG90eXBlLmRldGVybWluZU5hbWU9ZnVuY3Rpb24oKXt2YXIgYSxjO2lmKCF0aGlzLnZhcmlhYmxlKXJldHVybiBudWxsO2E9KGM9Xyh0aGlzLnZhcmlhYmxlLnByb3BlcnRpZXMpKT9jIGluc3RhbmNlb2YgYiYmYy5uYW1lLnZhbHVlOnRoaXMudmFyaWFibGUuYmFzZS52YWx1ZTtyZXR1cm4gYSYmKGE9by50ZXN0KGEpJiZhKX0sYS5wcm90b3R5cGUuc2V0Q29udGV4dD1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5ib2R5LnRyYXZlcnNlQ2hpbGRyZW4oITEsZnVuY3Rpb24oYil7aWYoYi5jbGFzc0JvZHkpcmV0dXJuITE7aWYoYiBpbnN0YW5jZW9mIHomJmIudmFsdWU9PT0idGhpcyIpcmV0dXJuIGIudmFsdWU9YTtpZihiIGluc3RhbmNlb2Ygail7Yi5rbGFzcz1hO2lmKGIuYm91bmQpcmV0dXJuIGIuY29udGV4dD1hfX0pfSxhLnByb3RvdHlwZS5hZGRCb3VuZEZ1bmN0aW9ucz1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGc7aWYodGhpcy5ib3VuZEZ1bmNzLmxlbmd0aCl7Zj10aGlzLmJvdW5kRnVuY3MsZz1bXTtmb3IoZD0wLGU9Zi5sZW5ndGg7ZDxlO2QrKyljPWZbZF0sYj1jLmNvbXBpbGUoYSksZy5wdXNoKHRoaXMuY3Rvci5ib2R5LnVuc2hpZnQobmV3IHooInRoaXMuIitiKyIgPSAiK2JlKCJiaW5kIikrIih0aGlzLiIrYisiLCB0aGlzKSIpKSk7cmV0dXJuIGd9fSxhLnByb3RvdHlwZS5hZGRQcm9wZXJ0aWVzPWZ1bmN0aW9uKGEsYyxlKXt2YXIgZixnLGgsaSxrO2s9YS5iYXNlLnByb3BlcnRpZXMuc2xpY2UoMCksaD1mdW5jdGlvbigpe3ZhciBhO2E9W107d2hpbGUoZj1rLnNoaWZ0KCkpe2lmKGYgaW5zdGFuY2VvZiBkKXtnPWYudmFyaWFibGUuYmFzZSxkZWxldGUgZi5jb250ZXh0LGk9Zi52YWx1ZTtpZihnLnZhbHVlPT09ImNvbnN0cnVjdG9yIil7aWYodGhpcy5jdG9yKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGRlZmluZSBtb3JlIHRoYW4gb25lIGNvbnN0cnVjdG9yIGluIGEgY2xhc3MiKTtpZihpLmJvdW5kKXRocm93IG5ldyBFcnJvcigiY2Fubm90IGRlZmluZSBhIGNvbnN0cnVjdG9yIGFzIGEgYm91bmQgZnVuY3Rpb24iKTtpIGluc3RhbmNlb2Ygaj9mPXRoaXMuY3Rvcj1pOih0aGlzLmV4dGVybmFsQ3Rvcj1lLnNjb3BlLmZyZWVWYXJpYWJsZSgiY2xhc3MiKSxmPW5ldyBkKG5ldyB6KHRoaXMuZXh0ZXJuYWxDdG9yKSxpKSl9ZWxzZSBmLnZhcmlhYmxlWyJ0aGlzIl18fChmLnZhcmlhYmxlPW5ldyBUKG5ldyB6KGMpLFtuZXcgYihnLCJwcm90byIpXSkpLGkgaW5zdGFuY2VvZiBqJiZpLmJvdW5kJiYodGhpcy5ib3VuZEZ1bmNzLnB1c2goZyksaS5ib3VuZD0hMSl9YS5wdXNoKGYpfXJldHVybiBhfS5jYWxsKHRoaXMpO3JldHVybiBXKGgpfSxhLnByb3RvdHlwZS53YWxrQm9keT1mdW5jdGlvbihiLGMpe3JldHVybiB0aGlzLnRyYXZlcnNlQ2hpbGRyZW4oITEsYmkoZnVuY3Rpb24oZCl7dmFyIGUsZyxoLGksajtpZihkIGluc3RhbmNlb2YgYSlyZXR1cm4hMTtpZihkIGluc3RhbmNlb2YgZil7aj1lPWQuZXhwcmVzc2lvbnM7Zm9yKGc9MCxpPWoubGVuZ3RoO2c8aTtnKyspaD1qW2ddLGggaW5zdGFuY2VvZiBUJiZoLmlzT2JqZWN0KCEwKSYmKGVbZ109dGhpcy5hZGRQcm9wZXJ0aWVzKGgsYixjKSk7cmV0dXJuIGQuZXhwcmVzc2lvbnM9ZT0kKGUpfX0sdGhpcykpfSxhLnByb3RvdHlwZS5lbnN1cmVDb25zdHJ1Y3Rvcj1mdW5jdGlvbihhKXt0aGlzLmN0b3J8fCh0aGlzLmN0b3I9bmV3IGosdGhpcy5wYXJlbnQmJnRoaXMuY3Rvci5ib2R5LnB1c2gobmV3IHooIiIrYSsiLl9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIikpLHRoaXMuZXh0ZXJuYWxDdG9yJiZ0aGlzLmN0b3IuYm9keS5wdXNoKG5ldyB6KCIiK3RoaXMuZXh0ZXJuYWxDdG9yKyIuYXBwbHkodGhpcywgYXJndW1lbnRzKSIpKSx0aGlzLmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdCh0aGlzLmN0b3IpKSx0aGlzLmN0b3IuY3Rvcj10aGlzLmN0b3IubmFtZT1hLHRoaXMuY3Rvci5rbGFzcz1udWxsO3JldHVybiB0aGlzLmN0b3Iubm9SZXR1cm49ITB9LGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZSxmO2I9dGhpcy5kZXRlcm1pbmVOYW1lKCksZj1ifHx0aGlzLm5hbWV8fCJfQ2xhc3MiLGU9bmV3IHooZiksdGhpcy5zZXRDb250ZXh0KGYpLHRoaXMud2Fsa0JvZHkoZixhKSx0aGlzLmVuc3VyZUNvbnN0cnVjdG9yKGYpLHRoaXMucGFyZW50JiZ0aGlzLmJvZHkuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgbShlLHRoaXMucGFyZW50KSksdGhpcy5jdG9yIGluc3RhbmNlb2Yganx8dGhpcy5ib2R5LmV4cHJlc3Npb25zLnVuc2hpZnQodGhpcy5jdG9yKSx0aGlzLmJvZHkuZXhwcmVzc2lvbnMucHVzaChlKSx0aGlzLmFkZEJvdW5kRnVuY3Rpb25zKGEpLGM9bmV3IEYoaS53cmFwKHRoaXMuYm9keSksITApLHRoaXMudmFyaWFibGUmJihjPW5ldyBkKHRoaXMudmFyaWFibGUsYykpO3JldHVybiBjLmNvbXBpbGUoYSl9O3JldHVybiBhfSgpLGEuQXNzaWduPWQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQpe3RoaXMudmFyaWFibGU9YSx0aGlzLnZhbHVlPWIsdGhpcy5jb250ZXh0PWMsdGhpcy5wYXJhbT1kJiZkLnBhcmFtfWJoKGEsZSksYS5wcm90b3R5cGUuTUVUSE9EX0RFRj0vXig/OihcUyspXC5wcm90b3R5cGVcLnxcUys/KT9cYihbJEEtWmEtel9dWyRcd1x4N2YtXHVmZmZmXSopJC8sYS5wcm90b3R5cGUuY2hpbGRyZW49WyJ2YXJpYWJsZSIsInZhbHVlIl0sYS5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpc1t0aGlzLmNvbnRleHQ9PT0ib2JqZWN0Ij8idmFsdWUiOiJ2YXJpYWJsZSJdLmFzc2lnbnMoYSl9LGEucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24oYSl7cmV0dXJuIGJkKGEsdGhpcywidmFyaWFibGUiKX0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZjtpZihiPXRoaXMudmFyaWFibGUgaW5zdGFuY2VvZiBUKXtpZih0aGlzLnZhcmlhYmxlLmlzQXJyYXkoKXx8dGhpcy52YXJpYWJsZS5pc09iamVjdCgpKXJldHVybiB0aGlzLmNvbXBpbGVQYXR0ZXJuTWF0Y2goYSk7aWYodGhpcy52YXJpYWJsZS5pc1NwbGljZSgpKXJldHVybiB0aGlzLmNvbXBpbGVTcGxpY2UoYSk7aWYoKGY9dGhpcy5jb250ZXh0KT09PSJ8fD0ifHxmPT09IiYmPSJ8fGY9PT0iPz0iKXJldHVybiB0aGlzLmNvbXBpbGVDb25kaXRpb25hbChhKX1kPXRoaXMudmFyaWFibGUuY29tcGlsZShhLHYpO2lmKCF0aGlzLmNvbnRleHQmJiF0aGlzLnZhcmlhYmxlLmlzQXNzaWduYWJsZSgpKXRocm93IFN5bnRheEVycm9yKCciJyt0aGlzLnZhcmlhYmxlLmNvbXBpbGUoYSkrJyIgY2Fubm90IGJlIGFzc2lnbmVkLicpO3RoaXMuY29udGV4dHx8YiYmKHRoaXMudmFyaWFibGUubmFtZXNwYWNlZHx8dGhpcy52YXJpYWJsZS5oYXNQcm9wZXJ0aWVzKCkpfHwodGhpcy5wYXJhbT9hLnNjb3BlLmFkZChkLCJ2YXIiKTphLnNjb3BlLmZpbmQoZCkpLHRoaXMudmFsdWUgaW5zdGFuY2VvZiBqJiYoYz10aGlzLk1FVEhPRF9ERUYuZXhlYyhkKSkmJih0aGlzLnZhbHVlLm5hbWU9Y1syXSxjWzFdJiYodGhpcy52YWx1ZS5rbGFzcz1jWzFdKSksZT10aGlzLnZhbHVlLmNvbXBpbGUoYSx2KTtpZih0aGlzLmNvbnRleHQ9PT0ib2JqZWN0IilyZXR1cm4iIitkKyI6ICIrZTtlPWQrKCIgIisodGhpcy5jb250ZXh0fHwiPSIpKyIgIikrZTtyZXR1cm4gYS5sZXZlbDw9dj9lOiIoIitlKyIpIn0sYS5wcm90b3R5cGUuY29tcGlsZVBhdHRlcm5NYXRjaD1mdW5jdGlvbihjKXt2YXIgZCxlLGYsZyxoLGksaixrLGwsbSxuLHAscSxyLHQsdSx4LEEsQixDLEQsRTtyPWMubGV2ZWw9PT15LHU9dGhpcy52YWx1ZSxsPXRoaXMudmFyaWFibGUuYmFzZS5vYmplY3RzO2lmKCEobT1sLmxlbmd0aCkpe2Y9dS5jb21waWxlKGMpO3JldHVybiBjLmxldmVsPj13PyIoIitmKyIpIjpmfWk9dGhpcy52YXJpYWJsZS5pc09iamVjdCgpO2lmKHImJm09PT0xJiYhKChrPWxbMF0paW5zdGFuY2VvZiBNKSl7ayBpbnN0YW5jZW9mIGE/KEI9ayxoPUIudmFyaWFibGUuYmFzZSxrPUIudmFsdWUpOmsuYmFzZSBpbnN0YW5jZW9mIEY/KEM9KG5ldyBUKGsudW53cmFwQWxsKCkpKS5jYWNoZVJlZmVyZW5jZShjKSxrPUNbMF0saD1DWzFdKTpoPWk/a1sidGhpcyJdP2sucHJvcGVydGllc1swXS5uYW1lOms6bmV3IHooMCksZD1vLnRlc3QoaC51bndyYXAoKS52YWx1ZXx8MCksdT1uZXcgVCh1KSx1LnByb3BlcnRpZXMucHVzaChuZXcoZD9iOnMpKGgpKTtyZXR1cm4obmV3IGEoayx1KSkuY29tcGlsZShjKX14PXUuY29tcGlsZShjLHYpLGU9W10scT0hMTtpZighby50ZXN0KHgpfHx0aGlzLnZhcmlhYmxlLmFzc2lnbnMoeCkpZS5wdXNoKCIiKyhuPWMuc2NvcGUuZnJlZVZhcmlhYmxlKCJyZWYiKSkrIiA9ICIreCkseD1uO2ZvcihnPTAsQT1sLmxlbmd0aDtnPEE7ZysrKXtrPWxbZ10saD1nLGkmJihrIGluc3RhbmNlb2YgYT8oRD1rLGg9RC52YXJpYWJsZS5iYXNlLGs9RC52YWx1ZSk6ay5iYXNlIGluc3RhbmNlb2YgRj8oRT0obmV3IFQoay51bndyYXBBbGwoKSkpLmNhY2hlUmVmZXJlbmNlKGMpLGs9RVswXSxoPUVbMV0pOmg9a1sidGhpcyJdP2sucHJvcGVydGllc1swXS5uYW1lOmspO2lmKCFxJiZrIGluc3RhbmNlb2YgTSl0PSIiK20rIiA8PSAiK3grIi5sZW5ndGggPyAiK2JlKCJzbGljZSIpKyIuY2FsbCgiK3grIiwgIitnLChwPW0tZy0xKT8oaj1jLnNjb3BlLmZyZWVWYXJpYWJsZSgiaSIpLHQrPSIsICIraisiID0gIit4KyIubGVuZ3RoIC0gIitwKyIpIDogKCIraisiID0gIitnKyIsIFtdKSIpOnQrPSIpIDogW10iLHQ9bmV3IHoodCkscT0iIitqKyIrKyI7ZWxzZXtpZihrIGluc3RhbmNlb2YgTSl7az1rLm5hbWUuY29tcGlsZShjKTt0aHJvdyBTeW50YXhFcnJvcigibXVsdGlwbGUgc3BsYXRzIGFyZSBkaXNhbGxvd2VkIGluIGFuIGFzc2lnbm1lbnQ6ICIraysiIC4uLiIpfXR5cGVvZiBoPT0ibnVtYmVyIj8oaD1uZXcgeihxfHxoKSxkPSExKTpkPWkmJm8udGVzdChoLnVud3JhcCgpLnZhbHVlfHwwKSx0PW5ldyBUKG5ldyB6KHgpLFtuZXcoZD9iOnMpKGgpXSl9ZS5wdXNoKChuZXcgYShrLHQsbnVsbCx7cGFyYW06dGhpcy5wYXJhbX0pKS5jb21waWxlKGMseSkpfXJ8fGUucHVzaCh4KSxmPWUuam9pbigiLCAiKTtyZXR1cm4gYy5sZXZlbDx2P2Y6IigiK2YrIikifSxhLnByb3RvdHlwZS5jb21waWxlQ29uZGl0aW9uYWw9ZnVuY3Rpb24oYil7dmFyIGMsZCxlO2U9dGhpcy52YXJpYWJsZS5jYWNoZVJlZmVyZW5jZShiKSxjPWVbMF0sZD1lWzFdO3JldHVybihuZXcgRCh0aGlzLmNvbnRleHQuc2xpY2UoMCwtMSksYyxuZXcgYShkLHRoaXMudmFsdWUsIj0iKSkpLmNvbXBpbGUoYil9LGEucHJvdG90eXBlLmNvbXBpbGVTcGxpY2U9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGgsaSxqLGssbCxtO2s9dGhpcy52YXJpYWJsZS5wcm9wZXJ0aWVzLnBvcCgpLnJhbmdlLGQ9ay5mcm9tLGg9ay50byxjPWsuZXhjbHVzaXZlLGc9dGhpcy52YXJpYWJsZS5jb21waWxlKGEpLGw9KGQhPW51bGw/ZC5jYWNoZShhLHcpOnZvaWQgMCl8fFsiMCIsIjAiXSxlPWxbMF0sZj1sWzFdLGg/KGQhPW51bGw/ZC5pc1NpbXBsZU51bWJlcigpOnZvaWQgMCkmJmguaXNTaW1wbGVOdW1iZXIoKT8oaD0raC5jb21waWxlKGEpLSArZixjfHwoaCs9MSkpOihoPWguY29tcGlsZShhKSsiIC0gIitmLGN8fChoKz0iICsgMSIpKTpoPSI5ZTkiLG09dGhpcy52YWx1ZS5jYWNoZShhLHYpLGk9bVswXSxqPW1bMV0sYj0iW10uc3BsaWNlLmFwcGx5KCIrZysiLCBbIitlKyIsICIraCsiXS5jb25jYXQoIitpKyIpKSwgIitqO3JldHVybiBhLmxldmVsPnk/IigiK2IrIikiOmJ9O3JldHVybiBhfSgpLGEuQ29kZT1qPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dGhpcy5wYXJhbXM9YXx8W10sdGhpcy5ib2R5PWJ8fG5ldyBmLHRoaXMuYm91bmQ9Yz09PSJib3VuZGZ1bmMiLHRoaXMuYm91bmQmJih0aGlzLmNvbnRleHQ9InRoaXMiKX1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsicGFyYW1zIiwiYm9keSJdLGEucHJvdG90eXBlLmlzU3RhdGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmN0b3J9LGEucHJvdG90eXBlLmp1bXBzPUIsYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscixzLHUsdix3LHgseSxBO2Euc2NvcGU9bmV3IEsoYS5zY29wZSx0aGlzLmJvZHksdGhpcyksYS5zY29wZS5zaGFyZWQ9WChhLCJzaGFyZWRTY29wZSIpLGEuaW5kZW50Kz1PLGRlbGV0ZSBhLmJhcmUsbz1bXSxlPVtdLHg9dGhpcy5wYXJhbXM7Zm9yKHI9MCx1PXgubGVuZ3RoO3I8dTtyKyspe2o9eFtyXTtpZihqLnNwbGF0KXtqLm5hbWUudmFsdWUmJmEuc2NvcGUuYWRkKGoubmFtZS52YWx1ZSwidmFyIiksbD1uZXcgZChuZXcgVChuZXcgYyhmdW5jdGlvbigpe3ZhciBiLGMsZCxlO2Q9dGhpcy5wYXJhbXMsZT1bXTtmb3IoYj0wLGM9ZC5sZW5ndGg7YjxjO2IrKylpPWRbYl0sZS5wdXNoKGkuYXNSZWZlcmVuY2UoYSkpO3JldHVybiBlfS5jYWxsKHRoaXMpKSksbmV3IFQobmV3IHooImFyZ3VtZW50cyIpKSk7YnJlYWt9fXk9dGhpcy5wYXJhbXM7Zm9yKHM9MCx2PXkubGVuZ3RoO3M8djtzKyspaj15W3NdLGouaXNDb21wbGV4KCk/KG49az1qLmFzUmVmZXJlbmNlKGEpLGoudmFsdWUmJihuPW5ldyBEKCI/IixrLGoudmFsdWUpKSxlLnB1c2gobmV3IGQobmV3IFQoai5uYW1lKSxuLCI9Iix7cGFyYW06ITB9KSkpOihrPWosai52YWx1ZSYmKGg9bmV3IHooay5uYW1lLnZhbHVlKyIgPT0gbnVsbCIpLG49bmV3IGQobmV3IFQoai5uYW1lKSxqLnZhbHVlLCI9IiksZS5wdXNoKG5ldyBxKGgsbikpKSksbHx8by5wdXNoKGspO3A9dGhpcy5ib2R5LmlzRW1wdHkoKSxsJiZlLnVuc2hpZnQobCksZS5sZW5ndGgmJihBPXRoaXMuYm9keS5leHByZXNzaW9ucykudW5zaGlmdC5hcHBseShBLGUpO2lmKCFsKWZvcihmPTAsdz1vLmxlbmd0aDtmPHc7ZisrKW09b1tmXSxhLnNjb3BlLnBhcmFtZXRlcihvW2ZdPW0uY29tcGlsZShhKSk7IXAmJiF0aGlzLm5vUmV0dXJuJiZ0aGlzLmJvZHkubWFrZVJldHVybigpLGc9YS5pbmRlbnQsYj0iZnVuY3Rpb24iLHRoaXMuY3RvciYmKGIrPSIgIit0aGlzLm5hbWUpLGIrPSIoIitvLmpvaW4oIiwgIikrIikgeyIsdGhpcy5ib2R5LmlzRW1wdHkoKXx8KGIrPSJcbiIrdGhpcy5ib2R5LmNvbXBpbGVXaXRoRGVjbGFyYXRpb25zKGEpKyJcbiIrdGhpcy50YWIpLGIrPSJ9IjtpZih0aGlzLmN0b3IpcmV0dXJuIHRoaXMudGFiK2I7aWYodGhpcy5ib3VuZClyZXR1cm4gYmUoImJpbmQiKSsoIigiK2IrIiwgIit0aGlzLmNvbnRleHQrIikiKTtyZXR1cm4gdGhpcy5mcm9udHx8YS5sZXZlbD49dD8iKCIrYisiKSI6Yn0sYS5wcm90b3R5cGUudHJhdmVyc2VDaGlsZHJlbj1mdW5jdGlvbihiLGMpe2lmKGIpcmV0dXJuIGEuX19zdXBlcl9fLnRyYXZlcnNlQ2hpbGRyZW4uY2FsbCh0aGlzLGIsYyl9O3JldHVybiBhfSgpLGEuUGFyYW09RT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiLGMpe3RoaXMubmFtZT1hLHRoaXMudmFsdWU9Yix0aGlzLnNwbGF0PWN9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bIm5hbWUiLCJ2YWx1ZSJdLGEucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMubmFtZS5jb21waWxlKGEsdil9LGEucHJvdG90eXBlLmFzUmVmZXJlbmNlPWZ1bmN0aW9uKGEpe3ZhciBiO2lmKHRoaXMucmVmZXJlbmNlKXJldHVybiB0aGlzLnJlZmVyZW5jZTtiPXRoaXMubmFtZSxiWyJ0aGlzIl0/KGI9Yi5wcm9wZXJ0aWVzWzBdLm5hbWUsYi52YWx1ZS5yZXNlcnZlZCYmKGI9bmV3IHooIl8iK2IudmFsdWUpKSk6Yi5pc0NvbXBsZXgoKSYmKGI9bmV3IHooYS5zY29wZS5mcmVlVmFyaWFibGUoImFyZyIpKSksYj1uZXcgVChiKSx0aGlzLnNwbGF0JiYoYj1uZXcgTShiKSk7cmV0dXJuIHRoaXMucmVmZXJlbmNlPWJ9LGEucHJvdG90eXBlLmlzQ29tcGxleD1mdW5jdGlvbigpe3JldHVybiB0aGlzLm5hbWUuaXNDb21wbGV4KCl9O3JldHVybiBhfSgpLGEuU3BsYXQ9TT1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5uYW1lPWEuY29tcGlsZT9hOm5ldyB6KGEpfWJoKGEsZSksYS5wcm90b3R5cGUuY2hpbGRyZW49WyJuYW1lIl0sYS5wcm90b3R5cGUuaXNBc3NpZ25hYmxlPVYsYS5wcm90b3R5cGUuYXNzaWducz1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5uYW1lLmFzc2lnbnMoYSl9LGEucHJvdG90eXBlLmNvbXBpbGU9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaW5kZXghPW51bGw/dGhpcy5jb21waWxlUGFyYW0oYSk6dGhpcy5uYW1lLmNvbXBpbGUoYSl9LGEuY29tcGlsZVNwbGF0dGVkQXJyYXk9ZnVuY3Rpb24oYixjLGQpe3ZhciBlLGYsZyxoLGksaixrO2k9LTE7d2hpbGUoKGo9Y1srK2ldKSYmIShqIGluc3RhbmNlb2YgYSkpY29udGludWU7aWYoaT49Yy5sZW5ndGgpcmV0dXJuIiI7aWYoYy5sZW5ndGg9PT0xKXtnPWNbMF0uY29tcGlsZShiLHYpO2lmKGQpcmV0dXJuIGc7cmV0dXJuIiIrYmUoInNsaWNlIikrIi5jYWxsKCIrZysiKSJ9ZT1jLnNsaWNlKGkpO2ZvcihoPTAsaz1lLmxlbmd0aDtoPGs7aCsrKWo9ZVtoXSxnPWouY29tcGlsZShiLHYpLGVbaF09aiBpbnN0YW5jZW9mIGE/IiIrYmUoInNsaWNlIikrIi5jYWxsKCIrZysiKSI6IlsiK2crIl0iO2lmKGk9PT0wKXJldHVybiBlWzBdKygiLmNvbmNhdCgiK2Uuc2xpY2UoMSkuam9pbigiLCAiKSsiKSIpO2Y9ZnVuY3Rpb24oKXt2YXIgYSxkLGUsZjtlPWMuc2xpY2UoMCxpKSxmPVtdO2ZvcihhPTAsZD1lLmxlbmd0aDthPGQ7YSsrKWo9ZVthXSxmLnB1c2goai5jb21waWxlKGIsdikpO3JldHVybiBmfSgpO3JldHVybiJbIitmLmpvaW4oIiwgIikrIl0uY29uY2F0KCIrZS5qb2luKCIsICIpKyIpIn07cmV0dXJuIGF9KCksYS5XaGlsZT1VPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIpe3RoaXMuY29uZGl0aW9uPShiIT1udWxsP2IuaW52ZXJ0OnZvaWQgMCk/YS5pbnZlcnQoKTphLHRoaXMuZ3VhcmQ9YiE9bnVsbD9iLmd1YXJkOnZvaWQgMH1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsiY29uZGl0aW9uIiwiZ3VhcmQiLCJib2R5Il0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9VixhLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7dGhpcy5yZXR1cm5zPSEwO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5hZGRCb2R5PWZ1bmN0aW9uKGEpe3RoaXMuYm9keT1hO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkO2E9dGhpcy5ib2R5LmV4cHJlc3Npb25zO2lmKCFhLmxlbmd0aClyZXR1cm4hMTtmb3IoYz0wLGQ9YS5sZW5ndGg7YzxkO2MrKyl7Yj1hW2NdO2lmKGIuanVtcHMoe2xvb3A6ITB9KSlyZXR1cm4gYn1yZXR1cm4hMX0sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7YS5pbmRlbnQrPU8sZT0iIixiPXRoaXMuYm9keTtpZihiLmlzRW1wdHkoKSliPSIiO2Vsc2V7aWYoYS5sZXZlbD55fHx0aGlzLnJldHVybnMpZD1hLnNjb3BlLmZyZWVWYXJpYWJsZSgicmVzdWx0cyIpLGU9IiIrdGhpcy50YWIrZCsiID0gW107XG4iLGImJihiPUcud3JhcChkLGIpKTt0aGlzLmd1YXJkJiYoYj1mLndyYXAoW25ldyBxKHRoaXMuZ3VhcmQsYildKSksYj0iXG4iK2IuY29tcGlsZShhLHkpKyJcbiIrdGhpcy50YWJ9Yz1lK3RoaXMudGFiKygid2hpbGUgKCIrdGhpcy5jb25kaXRpb24uY29tcGlsZShhLHgpKyIpIHsiK2IrIn0iKSx0aGlzLnJldHVybnMmJihjKz0iXG4iK3RoaXMudGFiKyJyZXR1cm4gIitkKyI7Iik7cmV0dXJuIGN9O3JldHVybiBhfSgpLGEuT3A9RD1mdW5jdGlvbigpe2Z1bmN0aW9uIGMoYixjLGQsZSl7dmFyIGY7aWYoYj09PSJpbiIpcmV0dXJuIG5ldyByKGMsZCk7aWYoYj09PSJkbyIpe2Y9bmV3IGcoYyxjLnBhcmFtc3x8W10pLGZbImRvIl09ITA7cmV0dXJuIGZ9aWYoYj09PSJuZXciKXtpZihjIGluc3RhbmNlb2YgZyYmIWNbImRvIl0pcmV0dXJuIGMubmV3SW5zdGFuY2UoKTtpZihjIGluc3RhbmNlb2YgaiYmYy5ib3VuZHx8Y1siZG8iXSljPW5ldyBGKGMpfXRoaXMub3BlcmF0b3I9YVtiXXx8Yix0aGlzLmZpcnN0PWMsdGhpcy5zZWNvbmQ9ZCx0aGlzLmZsaXA9ISFlO3JldHVybiB0aGlzfXZhciBhLGI7YmgoYyxlKSxhPXsiPT0iOiI9PT0iLCIhPSI6IiE9PSIsb2Y6ImluIn0sYj17IiE9PSI6Ij09PSIsIj09PSI6IiE9PSJ9LGMucHJvdG90eXBlLmNoaWxkcmVuPVsiZmlyc3QiLCJzZWNvbmQiXSxjLnByb3RvdHlwZS5pc1NpbXBsZU51bWJlcj1CLGMucHJvdG90eXBlLmlzVW5hcnk9ZnVuY3Rpb24oKXtyZXR1cm4hdGhpcy5zZWNvbmR9LGMucHJvdG90eXBlLmlzQ2hhaW5hYmxlPWZ1bmN0aW9uKCl7dmFyIGE7cmV0dXJuKGE9dGhpcy5vcGVyYXRvcik9PT0iPCJ8fGE9PT0iPiJ8fGE9PT0iPj0ifHxhPT09Ijw9Inx8YT09PSI9PT0ifHxhPT09IiE9PSJ9LGMucHJvdG90eXBlLmludmVydD1mdW5jdGlvbigpe3ZhciBhLGQsZSxmLGc7aWYodGhpcy5pc0NoYWluYWJsZSgpJiZ0aGlzLmZpcnN0LmlzQ2hhaW5hYmxlKCkpe2E9ITAsZD10aGlzO3doaWxlKGQmJmQub3BlcmF0b3IpYSYmKGE9ZC5vcGVyYXRvciBpbiBiKSxkPWQuZmlyc3Q7aWYoIWEpcmV0dXJuKG5ldyBGKHRoaXMpKS5pbnZlcnQoKTtkPXRoaXM7d2hpbGUoZCYmZC5vcGVyYXRvcilkLmludmVydD0hZC5pbnZlcnQsZC5vcGVyYXRvcj1iW2Qub3BlcmF0b3JdLGQ9ZC5maXJzdDtyZXR1cm4gdGhpc31pZihmPWJbdGhpcy5vcGVyYXRvcl0pe3RoaXMub3BlcmF0b3I9Zix0aGlzLmZpcnN0LnVud3JhcCgpaW5zdGFuY2VvZiBjJiZ0aGlzLmZpcnN0LmludmVydCgpO3JldHVybiB0aGlzfXJldHVybiB0aGlzLnNlY29uZD8obmV3IEYodGhpcykpLmludmVydCgpOnRoaXMub3BlcmF0b3I9PT0iISImJihlPXRoaXMuZmlyc3QudW53cmFwKCkpaW5zdGFuY2VvZiBjJiYoKGc9ZS5vcGVyYXRvcik9PT0iISJ8fGc9PT0iaW4ifHxnPT09Imluc3RhbmNlb2YiKT9lOm5ldyBjKCIhIix0aGlzKX0sYy5wcm90b3R5cGUudW5mb2xkU29haz1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4oKGI9dGhpcy5vcGVyYXRvcik9PT0iKysifHxiPT09Ii0tInx8Yj09PSJkZWxldGUiKSYmYmQoYSx0aGlzLCJmaXJzdCIpfSxjLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXt2YXIgYjtpZih0aGlzLmlzVW5hcnkoKSlyZXR1cm4gdGhpcy5jb21waWxlVW5hcnkoYSk7aWYodGhpcy5pc0NoYWluYWJsZSgpJiZ0aGlzLmZpcnN0LmlzQ2hhaW5hYmxlKCkpcmV0dXJuIHRoaXMuY29tcGlsZUNoYWluKGEpO2lmKHRoaXMub3BlcmF0b3I9PT0iPyIpcmV0dXJuIHRoaXMuY29tcGlsZUV4aXN0ZW5jZShhKTt0aGlzLmZpcnN0LmZyb250PXRoaXMuZnJvbnQsYj10aGlzLmZpcnN0LmNvbXBpbGUoYSx3KSsiICIrdGhpcy5vcGVyYXRvcisiICIrdGhpcy5zZWNvbmQuY29tcGlsZShhLHcpO3JldHVybiBhLmxldmVsPD13P2I6IigiK2IrIikifSxjLnByb3RvdHlwZS5jb21waWxlQ2hhaW49ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7ZT10aGlzLmZpcnN0LnNlY29uZC5jYWNoZShhKSx0aGlzLmZpcnN0LnNlY29uZD1lWzBdLGQ9ZVsxXSxjPXRoaXMuZmlyc3QuY29tcGlsZShhLHcpLGI9IiIrYysiICIrKHRoaXMuaW52ZXJ0PyImJiI6Inx8IikrIiAiK2QuY29tcGlsZShhKSsiICIrdGhpcy5vcGVyYXRvcisiICIrdGhpcy5zZWNvbmQuY29tcGlsZShhLHcpO3JldHVybiIoIitiKyIpIn0sYy5wcm90b3R5cGUuY29tcGlsZUV4aXN0ZW5jZT1mdW5jdGlvbihhKXt2YXIgYixjO3RoaXMuZmlyc3QuaXNDb21wbGV4KCk/KGM9bmV3IHooYS5zY29wZS5mcmVlVmFyaWFibGUoInJlZiIpKSxiPW5ldyBGKG5ldyBkKGMsdGhpcy5maXJzdCkpKTooYj10aGlzLmZpcnN0LGM9Yik7cmV0dXJuKG5ldyBxKG5ldyBsKGIpLGMse3R5cGU6ImlmIn0pKS5hZGRFbHNlKHRoaXMuc2Vjb25kKS5jb21waWxlKGEpfSxjLnByb3RvdHlwZS5jb21waWxlVW5hcnk9ZnVuY3Rpb24oYSl7dmFyIGIsZDtkPVtiPXRoaXMub3BlcmF0b3JdLChiPT09Im5ldyJ8fGI9PT0idHlwZW9mInx8Yj09PSJkZWxldGUifHwoYj09PSIrInx8Yj09PSItIikmJnRoaXMuZmlyc3QgaW5zdGFuY2VvZiBjJiZ0aGlzLmZpcnN0Lm9wZXJhdG9yPT09YikmJmQucHVzaCgiICIpLGI9PT0ibmV3IiYmdGhpcy5maXJzdC5pc1N0YXRlbWVudChhKSYmKHRoaXMuZmlyc3Q9bmV3IEYodGhpcy5maXJzdCkpLGQucHVzaCh0aGlzLmZpcnN0LmNvbXBpbGUoYSx3KSksdGhpcy5mbGlwJiZkLnJldmVyc2UoKTtyZXR1cm4gZC5qb2luKCIiKX0sYy5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oYSl7cmV0dXJuIGMuX19zdXBlcl9fLnRvU3RyaW5nLmNhbGwodGhpcyxhLHRoaXMuY29uc3RydWN0b3IubmFtZSsiICIrdGhpcy5vcGVyYXRvcil9O3JldHVybiBjfSgpLGEuSW49cj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt0aGlzLm9iamVjdD1hLHRoaXMuYXJyYXk9Yn1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsib2JqZWN0IiwiYXJyYXkiXSxhLnByb3RvdHlwZS5pbnZlcnQ9QSxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hcnJheSBpbnN0YW5jZW9mIFQmJnRoaXMuYXJyYXkuaXNBcnJheSgpP3RoaXMuY29tcGlsZU9yVGVzdChhKTp0aGlzLmNvbXBpbGVMb29wVGVzdChhKX0sYS5wcm90b3R5cGUuY29tcGlsZU9yVGVzdD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGo7aT10aGlzLm9iamVjdC5jYWNoZShhLHcpLGc9aVswXSxmPWlbMV0saj10aGlzLm5lZ2F0ZWQ/WyIgIT09ICIsIiAmJiAiXTpbIiA9PT0gIiwiIHx8ICJdLGI9alswXSxjPWpbMV0saD1mdW5jdGlvbigpe3ZhciBjLGgsaTtoPXRoaXMuYXJyYXkuYmFzZS5vYmplY3RzLGk9W107Zm9yKGQ9MCxjPWgubGVuZ3RoO2Q8YztkKyspZT1oW2RdLGkucHVzaCgoZD9mOmcpK2IrZS5jb21waWxlKGEsdykpO3JldHVybiBpfS5jYWxsKHRoaXMpO2lmKGgubGVuZ3RoPT09MClyZXR1cm4iZmFsc2UiO2g9aC5qb2luKGMpO3JldHVybiBhLmxldmVsPHc/aDoiKCIraCsiKSJ9LGEucHJvdG90eXBlLmNvbXBpbGVMb29wVGVzdD1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtlPXRoaXMub2JqZWN0LmNhY2hlKGEsdiksZD1lWzBdLGM9ZVsxXSxiPWJlKCJpbmRleE9mIikrKCIuY2FsbCgiK3RoaXMuYXJyYXkuY29tcGlsZShhLHYpKyIsICIrYysiKSAiKSsodGhpcy5uZWdhdGVkPyI8IDAiOiI+PSAwIik7aWYoZD09PWMpcmV0dXJuIGI7Yj1kKyIsICIrYjtyZXR1cm4gYS5sZXZlbDx2P2I6IigiK2IrIikifSxhLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbihiKXtyZXR1cm4gYS5fX3N1cGVyX18udG9TdHJpbmcuY2FsbCh0aGlzLGIsdGhpcy5jb25zdHJ1Y3Rvci5uYW1lKyh0aGlzLm5lZ2F0ZWQ/IiEiOiIiKSl9O3JldHVybiBhfSgpLGEuVHJ5PVI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjLGQpe3RoaXMuYXR0ZW1wdD1hLHRoaXMuZXJyb3I9Yix0aGlzLnJlY292ZXJ5PWMsdGhpcy5lbnN1cmU9ZH1iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsiYXR0ZW1wdCIsInJlY292ZXJ5IiwiZW5zdXJlIl0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9VixhLnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gdGhpcy5hdHRlbXB0Lmp1bXBzKGEpfHwoKGI9dGhpcy5yZWNvdmVyeSkhPW51bGw/Yi5qdW1wcyhhKTp2b2lkIDApfSxhLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7dGhpcy5hdHRlbXB0JiYodGhpcy5hdHRlbXB0PXRoaXMuYXR0ZW1wdC5tYWtlUmV0dXJuKCkpLHRoaXMucmVjb3ZlcnkmJih0aGlzLnJlY292ZXJ5PXRoaXMucmVjb3ZlcnkubWFrZVJldHVybigpKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYzthLmluZGVudCs9TyxjPXRoaXMuZXJyb3I/IiAoIit0aGlzLmVycm9yLmNvbXBpbGUoYSkrIikgIjoiICIsYj10aGlzLnJlY292ZXJ5PyIgY2F0Y2giK2MrIntcbiIrdGhpcy5yZWNvdmVyeS5jb21waWxlKGEseSkrIlxuIit0aGlzLnRhYisifSI6IXRoaXMuZW5zdXJlJiYhdGhpcy5yZWNvdmVyeT8iIGNhdGNoIChfZSkge30iOnZvaWQgMDtyZXR1cm4iIit0aGlzLnRhYisidHJ5IHtcbiIrdGhpcy5hdHRlbXB0LmNvbXBpbGUoYSx5KSsiXG4iK3RoaXMudGFiKyJ9IisoYnx8IiIpKyh0aGlzLmVuc3VyZT8iIGZpbmFsbHkge1xuIit0aGlzLmVuc3VyZS5jb21waWxlKGEseSkrIlxuIit0aGlzLnRhYisifSI6IiIpfTtyZXR1cm4gYX0oKSxhLlRocm93PVE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuZXhwcmVzc2lvbj1hfWJoKGEsZSksYS5wcm90b3R5cGUuY2hpbGRyZW49WyJleHByZXNzaW9uIl0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9VixhLnByb3RvdHlwZS5qdW1wcz1CLGEucHJvdG90eXBlLm1ha2VSZXR1cm49UCxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy50YWIrKCJ0aHJvdyAiK3RoaXMuZXhwcmVzc2lvbi5jb21waWxlKGEpKyI7Iil9O3JldHVybiBhfSgpLGEuRXhpc3RlbmNlPWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEpe3RoaXMuZXhwcmVzc2lvbj1hfWJoKGEsZSksYS5wcm90b3R5cGUuY2hpbGRyZW49WyJleHByZXNzaW9uIl0sYS5wcm90b3R5cGUuaW52ZXJ0PUEsYS5wcm90b3R5cGUuY29tcGlsZU5vZGU9ZnVuY3Rpb24oYSl7dmFyIGIsYztiPXRoaXMuZXhwcmVzc2lvbi5jb21waWxlKGEsdyksYj1vLnRlc3QoYikmJiFhLnNjb3BlLmNoZWNrKGIpP3RoaXMubmVnYXRlZD8idHlwZW9mICIrYisnID09PSAidW5kZWZpbmVkIiB8fCAnK2IrIiA9PT0gbnVsbCI6InR5cGVvZiAiK2IrJyAhPT0gInVuZGVmaW5lZCIgJiYgJytiKyIgIT09IG51bGwiOihjPXRoaXMubmVnYXRlZD8iPT0iOiIhPSIsIiIrYisiICIrYysiIG51bGwiKTtyZXR1cm4gYS5sZXZlbDw9dT9iOiIoIitiKyIpIn07cmV0dXJuIGF9KCksYS5QYXJlbnM9Rj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSl7dGhpcy5ib2R5PWF9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bImJvZHkiXSxhLnByb3RvdHlwZS51bndyYXA9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5fSxhLnByb3RvdHlwZS5pc0NvbXBsZXg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ib2R5LmlzQ29tcGxleCgpfSxhLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYm9keS5tYWtlUmV0dXJuKCl9LGEucHJvdG90eXBlLmNvbXBpbGVOb2RlPWZ1bmN0aW9uKGEpe3ZhciBiLGMsZDtkPXRoaXMuYm9keS51bndyYXAoKTtpZihkIGluc3RhbmNlb2YgVCYmZC5pc0F0b21pYygpKXtkLmZyb250PXRoaXMuZnJvbnQ7cmV0dXJuIGQuY29tcGlsZShhKX1jPWQuY29tcGlsZShhLHgpLGI9YS5sZXZlbDx3JiYoZCBpbnN0YW5jZW9mIER8fGQgaW5zdGFuY2VvZiBnfHxkIGluc3RhbmNlb2YgbiYmZC5yZXR1cm5zKTtyZXR1cm4gYj9jOiIoIitjKyIpIn07cmV0dXJuIGF9KCksYS5Gb3I9bj1mdW5jdGlvbigpe2Z1bmN0aW9uIGEoYSxiKXt2YXIgYzt0aGlzLnNvdXJjZT1iLnNvdXJjZSx0aGlzLmd1YXJkPWIuZ3VhcmQsdGhpcy5zdGVwPWIuc3RlcCx0aGlzLm5hbWU9Yi5uYW1lLHRoaXMuaW5kZXg9Yi5pbmRleCx0aGlzLmJvZHk9Zi53cmFwKFthXSksdGhpcy5vd249ISFiLm93bix0aGlzLm9iamVjdD0hIWIub2JqZWN0LHRoaXMub2JqZWN0JiYoYz1bdGhpcy5pbmRleCx0aGlzLm5hbWVdLHRoaXMubmFtZT1jWzBdLHRoaXMuaW5kZXg9Y1sxXSk7aWYodGhpcy5pbmRleCBpbnN0YW5jZW9mIFQpdGhyb3cgU3ludGF4RXJyb3IoImluZGV4IGNhbm5vdCBiZSBhIHBhdHRlcm4gbWF0Y2hpbmcgZXhwcmVzc2lvbiIpO3RoaXMucmFuZ2U9dGhpcy5zb3VyY2UgaW5zdGFuY2VvZiBUJiZ0aGlzLnNvdXJjZS5iYXNlIGluc3RhbmNlb2YgSCYmIXRoaXMuc291cmNlLnByb3BlcnRpZXMubGVuZ3RoLHRoaXMucGF0dGVybj10aGlzLm5hbWUgaW5zdGFuY2VvZiBUO2lmKHRoaXMucmFuZ2UmJnRoaXMuaW5kZXgpdGhyb3cgU3ludGF4RXJyb3IoImluZGV4ZXMgZG8gbm90IGFwcGx5IHRvIHJhbmdlIGxvb3BzIik7aWYodGhpcy5yYW5nZSYmdGhpcy5wYXR0ZXJuKXRocm93IFN5bnRheEVycm9yKCJjYW5ub3QgcGF0dGVybiBtYXRjaCBvdmVyIHJhbmdlIGxvb3BzIik7dGhpcy5yZXR1cm5zPSExfWJoKGEsZSksYS5wcm90b3R5cGUuY2hpbGRyZW49WyJib2R5Iiwic291cmNlIiwiZ3VhcmQiLCJzdGVwIl0sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9VixhLnByb3RvdHlwZS5qdW1wcz1VLnByb3RvdHlwZS5qdW1wcyxhLnByb3RvdHlwZS5tYWtlUmV0dXJuPWZ1bmN0aW9uKCl7dGhpcy5yZXR1cm5zPSEwO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXt2YXIgYixjLGUsZyxoLGksaixrLGwsbSxuLHAscixzLHQsdSx4LEEsQixDLEQsRSxGO2I9Zi53cmFwKFt0aGlzLmJvZHldKSxsPShGPV8oYi5leHByZXNzaW9ucykpIT1udWxsP0YuanVtcHMoKTp2b2lkIDAsbCYmbCBpbnN0YW5jZW9mIEkmJih0aGlzLnJldHVybnM9ITEpLEE9dGhpcy5yYW5nZT90aGlzLnNvdXJjZS5iYXNlOnRoaXMuc291cmNlLHg9YS5zY29wZSxuPXRoaXMubmFtZSYmdGhpcy5uYW1lLmNvbXBpbGUoYSx2KSxqPXRoaXMuaW5kZXgmJnRoaXMuaW5kZXguY29tcGlsZShhLHYpLG4mJiF0aGlzLnBhdHRlcm4mJnguZmluZChuLHtpbW1lZGlhdGU6ITB9KSxqJiZ4LmZpbmQoaix7aW1tZWRpYXRlOiEwfSksdGhpcy5yZXR1cm5zJiYodT14LmZyZWVWYXJpYWJsZSgicmVzdWx0cyIpKSxrPSh0aGlzLnJhbmdlP246ail8fHguZnJlZVZhcmlhYmxlKCJpIiksdGhpcy5zdGVwJiYhdGhpcy5yYW5nZSYmKEM9eC5mcmVlVmFyaWFibGUoInN0ZXAiKSksdGhpcy5wYXR0ZXJuJiYobj1rKSxFPSIiLGg9IiIsYz0iIixpPXRoaXMudGFiK08sdGhpcy5yYW5nZT9lPUEuY29tcGlsZShiYShhLHtpbmRleDprLHN0ZXA6dGhpcy5zdGVwfSkpOihEPXRoaXMuc291cmNlLmNvbXBpbGUoYSx2KSwobnx8dGhpcy5vd24pJiYhby50ZXN0KEQpJiYoYz0iIit0aGlzLnRhYisocj14LmZyZWVWYXJpYWJsZSgicmVmIikpKyIgPSAiK0QrIjtcbiIsRD1yKSxuJiYhdGhpcy5wYXR0ZXJuJiYocD0iIituKyIgPSAiK0QrIlsiK2srIl0iKSx0aGlzLm9iamVjdHx8KG09eC5mcmVlVmFyaWFibGUoImxlbiIpLGc9IiIraysiID0gMCwgIittKyIgPSAiK0QrIi5sZW5ndGgiKyh0aGlzLnN0ZXA/IiwgIitDKyIgPSAiK3RoaXMuc3RlcC5jb21waWxlKGEsdyk6IiIpLEI9dGhpcy5zdGVwPyIiK2srIiArPSAiK0M6IiIraysiKysiLGU9IiIrZysiOyAiK2srIiA8ICIrbSsiOyAiK0IpKSx0aGlzLnJldHVybnMmJihzPSIiK3RoaXMudGFiK3UrIiA9IFtdO1xuIix0PSJcbiIrdGhpcy50YWIrInJldHVybiAiK3UrIjsiLGI9Ry53cmFwKHUsYikpLHRoaXMuZ3VhcmQmJihiPWYud3JhcChbbmV3IHEodGhpcy5ndWFyZCxiKV0pKSx0aGlzLnBhdHRlcm4mJmIuZXhwcmVzc2lvbnMudW5zaGlmdChuZXcgZCh0aGlzLm5hbWUsbmV3IHooIiIrRCsiWyIraysiXSIpKSksYys9dGhpcy5wbHVja0RpcmVjdENhbGwoYSxiKSxwJiYoRT0iXG4iK2krcCsiOyIpLHRoaXMub2JqZWN0JiYoZT0iIitrKyIgaW4gIitELHRoaXMub3duJiYoaD0iXG4iK2krImlmICghIitiZSgiaGFzUHJvcCIpKyIuY2FsbCgiK0QrIiwgIitrKyIpKSBjb250aW51ZTsiKSksYj1iLmNvbXBpbGUoYmEoYSx7aW5kZW50Oml9KSx5KSxiJiYoYj0iXG4iK2IrIlxuIik7cmV0dXJuIiIrYysoc3x8IiIpK3RoaXMudGFiKyJmb3IgKCIrZSsiKSB7IitoK0UrYit0aGlzLnRhYisifSIrKHR8fCIiKX0sYS5wcm90b3R5cGUucGx1Y2tEaXJlY3RDYWxsPWZ1bmN0aW9uKGEsYil7dmFyIGMsZSxmLGgsaSxrLGwsbSxuLG8scCxxLHIscztlPSIiLG49Yi5leHByZXNzaW9ucztmb3IoaT0wLG09bi5sZW5ndGg7aTxtO2krKyl7Zj1uW2ldLGY9Zi51bndyYXBBbGwoKTtpZighKGYgaW5zdGFuY2VvZiBnKSljb250aW51ZTtsPWYudmFyaWFibGUudW53cmFwQWxsKCk7aWYoIShsIGluc3RhbmNlb2Yganx8bCBpbnN0YW5jZW9mIFQmJigobz1sLmJhc2UpIT1udWxsP28udW53cmFwQWxsKCk6dm9pZCAwKWluc3RhbmNlb2YgaiYmbC5wcm9wZXJ0aWVzLmxlbmd0aD09PTEmJigocD0ocT1sLnByb3BlcnRpZXNbMF0ubmFtZSkhPW51bGw/cS52YWx1ZTp2b2lkIDApPT09ImNhbGwifHxwPT09ImFwcGx5IikpKWNvbnRpbnVlO2g9KChyPWwuYmFzZSkhPW51bGw/ci51bndyYXBBbGwoKTp2b2lkIDApfHxsLGs9bmV3IHooYS5zY29wZS5mcmVlVmFyaWFibGUoImZuIikpLGM9bmV3IFQoayksbC5iYXNlJiYocz1bYyxsXSxsLmJhc2U9c1swXSxjPXNbMV0sYXJncy51bnNoaWZ0KG5ldyB6KCJ0aGlzIikpKSxiLmV4cHJlc3Npb25zW2ldPW5ldyBnKGMsZi5hcmdzKSxlKz10aGlzLnRhYisobmV3IGQoayxoKSkuY29tcGlsZShhLHkpKyI7XG4ifXJldHVybiBlfTtyZXR1cm4gYX0oKSxhLlN3aXRjaD1OPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gYShhLGIsYyl7dGhpcy5zdWJqZWN0PWEsdGhpcy5jYXNlcz1iLHRoaXMub3RoZXJ3aXNlPWN9YmgoYSxlKSxhLnByb3RvdHlwZS5jaGlsZHJlbj1bInN1YmplY3QiLCJjYXNlcyIsIm90aGVyd2lzZSJdLGEucHJvdG90eXBlLmlzU3RhdGVtZW50PVYsYS5wcm90b3R5cGUuanVtcHM9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGUsZixnLGg7YT09bnVsbCYmKGE9e2Jsb2NrOiEwfSksZj10aGlzLmNhc2VzO2ZvcihkPTAsZT1mLmxlbmd0aDtkPGU7ZCsrKXtnPWZbZF0sYz1nWzBdLGI9Z1sxXTtpZihiLmp1bXBzKGEpKXJldHVybiBifXJldHVybihoPXRoaXMub3RoZXJ3aXNlKSE9bnVsbD9oLmp1bXBzKGEpOnZvaWQgMH0sYS5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGU7ZD10aGlzLmNhc2VzO2ZvcihiPTAsYz1kLmxlbmd0aDtiPGM7YisrKWE9ZFtiXSxhWzFdLm1ha2VSZXR1cm4oKTsoZT10aGlzLm90aGVyd2lzZSkhPW51bGwmJmUubWFrZVJldHVybigpO3JldHVybiB0aGlzfSxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXt2YXIgYixjLGQsZSxmLGcsaCxpLGosayxsLG0sbixvLHAscTtpPWEuaW5kZW50K08saj1hLmluZGVudD1pK08sZD10aGlzLnRhYisoInN3aXRjaCAoIisoKChuPXRoaXMuc3ViamVjdCkhPW51bGw/bi5jb21waWxlKGEseCk6dm9pZCAwKXx8ITEpKyIpIHtcbiIpLG89dGhpcy5jYXNlcztmb3IoaD0wLGw9by5sZW5ndGg7aDxsO2grKyl7cD1vW2hdLGY9cFswXSxiPXBbMV0scT0kKFtmXSk7Zm9yKGs9MCxtPXEubGVuZ3RoO2s8bTtrKyspZT1xW2tdLHRoaXMuc3ViamVjdHx8KGU9ZS5pbnZlcnQoKSksZCs9aSsoImNhc2UgIitlLmNvbXBpbGUoYSx4KSsiOlxuIik7aWYoYz1iLmNvbXBpbGUoYSx5KSlkKz1jKyJcbiI7aWYoaD09PXRoaXMuY2FzZXMubGVuZ3RoLTEmJiF0aGlzLm90aGVyd2lzZSlicmVhaztnPXRoaXMubGFzdE5vbkNvbW1lbnQoYi5leHByZXNzaW9ucyk7aWYoZyBpbnN0YW5jZW9mIEl8fGcgaW5zdGFuY2VvZiB6JiZnLmp1bXBzKCkmJmcudmFsdWUhPT0iZGVidWdnZXIiKWNvbnRpbnVlO2QrPWorImJyZWFrO1xuIn10aGlzLm90aGVyd2lzZSYmdGhpcy5vdGhlcndpc2UuZXhwcmVzc2lvbnMubGVuZ3RoJiYoZCs9aSsoImRlZmF1bHQ6XG4iK3RoaXMub3RoZXJ3aXNlLmNvbXBpbGUoYSx5KSsiXG4iKSk7cmV0dXJuIGQrdGhpcy50YWIrIn0ifTtyZXR1cm4gYX0oKSxhLklmPXE9ZnVuY3Rpb24oKXtmdW5jdGlvbiBhKGEsYixjKXt0aGlzLmJvZHk9YixjPT1udWxsJiYoYz17fSksdGhpcy5jb25kaXRpb249Yy50eXBlPT09InVubGVzcyI/YS5pbnZlcnQoKTphLHRoaXMuZWxzZUJvZHk9bnVsbCx0aGlzLmlzQ2hhaW49ITEsdGhpcy5zb2FrPWMuc29ha31iaChhLGUpLGEucHJvdG90eXBlLmNoaWxkcmVuPVsiY29uZGl0aW9uIiwiYm9keSIsImVsc2VCb2R5Il0sYS5wcm90b3R5cGUuYm9keU5vZGU9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmJvZHkpIT1udWxsP2EudW53cmFwKCk6dm9pZCAwfSxhLnByb3RvdHlwZS5lbHNlQm9keU5vZGU9ZnVuY3Rpb24oKXt2YXIgYTtyZXR1cm4oYT10aGlzLmVsc2VCb2R5KSE9bnVsbD9hLnVud3JhcCgpOnZvaWQgMH0sYS5wcm90b3R5cGUuYWRkRWxzZT1mdW5jdGlvbihiKXt0aGlzLmlzQ2hhaW4/dGhpcy5lbHNlQm9keU5vZGUoKS5hZGRFbHNlKGIpOih0aGlzLmlzQ2hhaW49YiBpbnN0YW5jZW9mIGEsdGhpcy5lbHNlQm9keT10aGlzLmVuc3VyZUJsb2NrKGIpKTtyZXR1cm4gdGhpc30sYS5wcm90b3R5cGUuaXNTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGI7cmV0dXJuKGEhPW51bGw/YS5sZXZlbDp2b2lkIDApPT09eXx8dGhpcy5ib2R5Tm9kZSgpLmlzU3RhdGVtZW50KGEpfHwoKGI9dGhpcy5lbHNlQm9keU5vZGUoKSkhPW51bGw/Yi5pc1N0YXRlbWVudChhKTp2b2lkIDApfSxhLnByb3RvdHlwZS5qdW1wcz1mdW5jdGlvbihhKXt2YXIgYjtyZXR1cm4gdGhpcy5ib2R5Lmp1bXBzKGEpfHwoKGI9dGhpcy5lbHNlQm9keSkhPW51bGw/Yi5qdW1wcyhhKTp2b2lkIDApfSxhLnByb3RvdHlwZS5jb21waWxlTm9kZT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5pc1N0YXRlbWVudChhKT90aGlzLmNvbXBpbGVTdGF0ZW1lbnQoYSk6dGhpcy5jb21waWxlRXhwcmVzc2lvbihhKX0sYS5wcm90b3R5cGUubWFrZVJldHVybj1mdW5jdGlvbigpe3RoaXMuYm9keSYmKHRoaXMuYm9keT1uZXcgZihbdGhpcy5ib2R5Lm1ha2VSZXR1cm4oKV0pKSx0aGlzLmVsc2VCb2R5JiYodGhpcy5lbHNlQm9keT1uZXcgZihbdGhpcy5lbHNlQm9keS5tYWtlUmV0dXJuKCldKSk7cmV0dXJuIHRoaXN9LGEucHJvdG90eXBlLmVuc3VyZUJsb2NrPWZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgZj9hOm5ldyBmKFthXSl9LGEucHJvdG90eXBlLmNvbXBpbGVTdGF0ZW1lbnQ9ZnVuY3Rpb24oYSl7dmFyIGIsYyxkLGU7Yz1YKGEsImNoYWluQ2hpbGQiKSxkPXRoaXMuY29uZGl0aW9uLmNvbXBpbGUoYSx4KSxhLmluZGVudCs9TyxiPXRoaXMuZW5zdXJlQmxvY2sodGhpcy5ib2R5KS5jb21waWxlKGEpLGImJihiPSJcbiIrYisiXG4iK3RoaXMudGFiKSxlPSJpZiAoIitkKyIpIHsiK2IrIn0iLGN8fChlPXRoaXMudGFiK2UpO2lmKCF0aGlzLmVsc2VCb2R5KXJldHVybiBlO3JldHVybiBlKyIgZWxzZSAiKyh0aGlzLmlzQ2hhaW4/KGEuaW5kZW50PXRoaXMudGFiLGEuY2hhaW5DaGlsZD0hMCx0aGlzLmVsc2VCb2R5LnVud3JhcCgpLmNvbXBpbGUoYSx5KSk6IntcbiIrdGhpcy5lbHNlQm9keS5jb21waWxlKGEseSkrIlxuIit0aGlzLnRhYisifSIpfSxhLnByb3RvdHlwZS5jb21waWxlRXhwcmVzc2lvbj1mdW5jdGlvbihhKXt2YXIgYixjLGQsZTtlPXRoaXMuY29uZGl0aW9uLmNvbXBpbGUoYSx1KSxjPXRoaXMuYm9keU5vZGUoKS5jb21waWxlKGEsdiksYj10aGlzLmVsc2VCb2R5Tm9kZSgpP3RoaXMuZWxzZUJvZHlOb2RlKCkuY29tcGlsZShhLHYpOiJ2b2lkIDAiLGQ9IiIrZSsiID8gIitjKyIgOiAiK2I7cmV0dXJuIGEubGV2ZWw+PXU/IigiK2QrIikiOmR9LGEucHJvdG90eXBlLnVuZm9sZFNvYWs9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zb2FrJiZ0aGlzfTtyZXR1cm4gYX0oKSxHPXt3cmFwOmZ1bmN0aW9uKGEsYyl7aWYoYy5pc0VtcHR5KCl8fF8oYy5leHByZXNzaW9ucykuanVtcHMoKSlyZXR1cm4gYztyZXR1cm4gYy5wdXNoKG5ldyBnKG5ldyBUKG5ldyB6KGEpLFtuZXcgYihuZXcgeigicHVzaCIpKV0pLFtjLnBvcCgpXSkpfX0saT17d3JhcDpmdW5jdGlvbihhLGMsZCl7dmFyIGUsaCxpLGssbDtpZihhLmp1bXBzKCkpcmV0dXJuIGE7aT1uZXcgaihbXSxmLndyYXAoW2FdKSksZT1bXTtpZigoaz1hLmNvbnRhaW5zKHRoaXMubGl0ZXJhbEFyZ3MpKXx8YS5jb250YWlucyh0aGlzLmxpdGVyYWxUaGlzKSlsPW5ldyB6KGs/ImFwcGx5IjoiY2FsbCIpLGU9W25ldyB6KCJ0aGlzIildLGsmJmUucHVzaChuZXcgeigiYXJndW1lbnRzIikpLGk9bmV3IFQoaSxbbmV3IGIobCldKTtpLm5vUmV0dXJuPWQsaD1uZXcgZyhpLGUpO3JldHVybiBjP2Yud3JhcChbaF0pOmh9LGxpdGVyYWxBcmdzOmZ1bmN0aW9uKGEpe3JldHVybiBhIGluc3RhbmNlb2YgeiYmYS52YWx1ZT09PSJhcmd1bWVudHMiJiYhYS5hc0tleX0sbGl0ZXJhbFRoaXM6ZnVuY3Rpb24oYSl7cmV0dXJuIGEgaW5zdGFuY2VvZiB6JiZhLnZhbHVlPT09InRoaXMiJiYhYS5hc0tleXx8YSBpbnN0YW5jZW9mIGomJmEuYm91bmR9fSxiZD1mdW5jdGlvbihhLGIsYyl7dmFyIGQ7aWYoISEoZD1iW2NdLnVuZm9sZFNvYWsoYSkpKXtiW2NdPWQuYm9keSxkLmJvZHk9bmV3IFQoYik7cmV0dXJuIGR9fSxTPXsiZXh0ZW5kcyI6ImZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHtcbiAgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH1cbiAgZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9XG4gIGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTtcbiAgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3I7XG4gIGNoaWxkLl9fc3VwZXJfXyA9IHBhcmVudC5wcm90b3R5cGU7XG4gIHJldHVybiBjaGlsZDtcbn0iLGJpbmQ6ImZ1bmN0aW9uKGZuLCBtZSl7IHJldHVybiBmdW5jdGlvbigpeyByZXR1cm4gZm4uYXBwbHkobWUsIGFyZ3VtZW50cyk7IH07IH0iLGluZGV4T2Y6IkFycmF5LnByb3RvdHlwZS5pbmRleE9mIHx8IGZ1bmN0aW9uKGl0ZW0pIHtcbiAgZm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGlmICh0aGlzW2ldID09PSBpdGVtKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59IixoYXNQcm9wOiJPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5IixzbGljZToiQXJyYXkucHJvdG90eXBlLnNsaWNlIn0seT0xLHg9Mix2PTMsdT00LHc9NSx0PTYsTz0iICAiLG89L15bJEEtWmEtel9ceDdmLVx1ZmZmZl1bJFx3XHg3Zi1cdWZmZmZdKiQvLEo9L15bKy1dP1xkKyQvLHA9L15bJyJdLyxiZT1mdW5jdGlvbihhKXt2YXIgYjtiPSJfXyIrYSxLLnJvb3QuYXNzaWduKGIsU1thXSk7cmV0dXJuIGJ9LGJiPWZ1bmN0aW9uKGEsYil7cmV0dXJuIGEucmVwbGFjZSgvXG4vZywiJCYiK2IpfX0pLmNhbGwodGhpcyl9LHJlcXVpcmVbIi4vY29mZmVlLXNjcmlwdCJdPW5ldyBmdW5jdGlvbigpe3ZhciBhPXRoaXM7KGZ1bmN0aW9uKCl7dmFyIGIsYyxkLGUsZixnLGgsaSxqO2U9cmVxdWlyZSgiZnMiKSxoPXJlcXVpcmUoInBhdGgiKSxpPXJlcXVpcmUoInZtIiksaj1yZXF1aXJlKCIuL2xleGVyIiksYj1qLkxleGVyLGM9ai5SRVNFUlZFRCxnPXJlcXVpcmUoIi4vcGFyc2VyIikucGFyc2VyLHJlcXVpcmUuZXh0ZW5zaW9ucz9yZXF1aXJlLmV4dGVuc2lvbnNbIi5jb2ZmZWUiXT1mdW5jdGlvbihhLGIpe3ZhciBjO2M9ZChlLnJlYWRGaWxlU3luYyhiLCJ1dGY4Iikse2ZpbGVuYW1lOmJ9KTtyZXR1cm4gYS5fY29tcGlsZShjLGIpfTpyZXF1aXJlLnJlZ2lzdGVyRXh0ZW5zaW9uJiZyZXF1aXJlLnJlZ2lzdGVyRXh0ZW5zaW9uKCIuY29mZmVlIixmdW5jdGlvbihhKXtyZXR1cm4gZChhKX0pLGEuVkVSU0lPTj0iMS4xLjEiLGEuUkVTRVJWRUQ9YyxhLmhlbHBlcnM9cmVxdWlyZSgiLi9oZWxwZXJzIiksYS5jb21waWxlPWQ9ZnVuY3Rpb24oYSxiKXtiPT1udWxsJiYoYj17fSk7dHJ5e3JldHVybiBnLnBhcnNlKGYudG9rZW5pemUoYSkpLmNvbXBpbGUoYil9Y2F0Y2goYyl7Yi5maWxlbmFtZSYmKGMubWVzc2FnZT0iSW4gIitiLmZpbGVuYW1lKyIsICIrYy5tZXNzYWdlKTt0aHJvdyBjfX0sYS50b2tlbnM9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gZi50b2tlbml6ZShhLGIpfSxhLm5vZGVzPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHR5cGVvZiBhPT0ic3RyaW5nIj9nLnBhcnNlKGYudG9rZW5pemUoYSxiKSk6Zy5wYXJzZShhKX0sYS5ydW49ZnVuY3Rpb24oYSxiKXt2YXIgYyxmO2Y9bW9kdWxlO3doaWxlKGYucGFyZW50KWY9Zi5wYXJlbnQ7Zi5maWxlbmFtZT1wcm9jZXNzLmFyZ3ZbMV09Yi5maWxlbmFtZT9lLnJlYWxwYXRoU3luYyhiLmZpbGVuYW1lKToiLiIsZi5tb2R1bGVDYWNoZSYmKGYubW9kdWxlQ2FjaGU9e30pLHByb2Nlc3MuYmluZGluZygibmF0aXZlcyIpLm1vZHVsZSYmKGM9cmVxdWlyZSgibW9kdWxlIikuTW9kdWxlLGYucGF0aHM9Yy5fbm9kZU1vZHVsZVBhdGhzKGguZGlybmFtZShiLmZpbGVuYW1lKSkpO3JldHVybiBoLmV4dG5hbWUoZi5maWxlbmFtZSkhPT0iLmNvZmZlZSJ8fHJlcXVpcmUuZXh0ZW5zaW9ucz9mLl9jb21waWxlKGQoYSxiKSxmLmZpbGVuYW1lKTpmLl9jb21waWxlKGEsZi5maWxlbmFtZSl9LGEuZXZhbD1mdW5jdGlvbihhLGIpe3ZhciBjLGUsZjtiPT1udWxsJiYoYj17fSksZj1iLnNhbmRib3g7aWYoIWYpe2Y9e3JlcXVpcmU6cmVxdWlyZSxtb2R1bGU6e2V4cG9ydHM6e319fTtmb3IoYyBpbiBnbG9iYWwpZltjXT1nbG9iYWxbY107Zi5nbG9iYWw9ZixmLmdsb2JhbC5nbG9iYWw9Zi5nbG9iYWwucm9vdD1mLmdsb2JhbC5HTE9CQUw9Zn1mLl9fZmlsZW5hbWU9Yi5maWxlbmFtZXx8ImV2YWwiLGYuX19kaXJuYW1lPWguZGlybmFtZShmLl9fZmlsZW5hbWUpLGU9ZCgiXz0oIithLnRyaW0oKSsiKSIsYik7cmV0dXJuIGkucnVuSW5OZXdDb250ZXh0KGUsZixmLl9fZmlsZW5hbWUpfSxmPW5ldyBiLGcubGV4ZXI9e2xleDpmdW5jdGlvbigpe3ZhciBhLGI7Yj10aGlzLnRva2Vuc1t0aGlzLnBvcysrXXx8WyIiXSxhPWJbMF0sdGhpcy55eXRleHQ9YlsxXSx0aGlzLnl5bGluZW5vPWJbMl07cmV0dXJuIGF9LHNldElucHV0OmZ1bmN0aW9uKGEpe3RoaXMudG9rZW5zPWE7cmV0dXJuIHRoaXMucG9zPTB9LHVwY29taW5nSW5wdXQ6ZnVuY3Rpb24oKXtyZXR1cm4iIn19LGcueXk9cmVxdWlyZSgiLi9ub2RlcyIpfSkuY2FsbCh0aGlzKX0scmVxdWlyZVsiLi9icm93c2VyIl09bmV3IGZ1bmN0aW9uKCl7dmFyIGV4cG9ydHM9dGhpczsoZnVuY3Rpb24oKXt2YXIgQ29mZmVlU2NyaXB0LHJ1blNjcmlwdHM7Q29mZmVlU2NyaXB0PXJlcXVpcmUoIi4vY29mZmVlLXNjcmlwdCIpLENvZmZlZVNjcmlwdC5yZXF1aXJlPXJlcXVpcmUsQ29mZmVlU2NyaXB0LmV2YWw9ZnVuY3Rpb24oY29kZSxvcHRpb25zKXtyZXR1cm4gZXZhbChDb2ZmZWVTY3JpcHQuY29tcGlsZShjb2RlLG9wdGlvbnMpKX0sQ29mZmVlU2NyaXB0LnJ1bj1mdW5jdGlvbihhLGIpe2I9PW51bGwmJihiPXt9KSxiLmJhcmU9ITA7cmV0dXJuIEZ1bmN0aW9uKENvZmZlZVNjcmlwdC5jb21waWxlKGEsYikpKCl9O3R5cGVvZiB3aW5kb3chPSJ1bmRlZmluZWQiJiZ3aW5kb3chPT1udWxsJiYoQ29mZmVlU2NyaXB0LmxvYWQ9ZnVuY3Rpb24oYSxiKXt2YXIgYztjPW5ldyh3aW5kb3cuQWN0aXZlWE9iamVjdHx8WE1MSHR0cFJlcXVlc3QpKCJNaWNyb3NvZnQuWE1MSFRUUCIpLGMub3BlbigiR0VUIixhLCEwKSwib3ZlcnJpZGVNaW1lVHlwZSJpbiBjJiZjLm92ZXJyaWRlTWltZVR5cGUoInRleHQvcGxhaW4iKSxjLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe3ZhciBkO2lmKGMucmVhZHlTdGF0ZT09PTQpe2lmKChkPWMuc3RhdHVzKT09PTB8fGQ9PT0yMDApQ29mZmVlU2NyaXB0LnJ1bihjLnJlc3BvbnNlVGV4dCk7ZWxzZSB0aHJvdyBuZXcgRXJyb3IoIkNvdWxkIG5vdCBsb2FkICIrYSk7aWYoYilyZXR1cm4gYigpfX07cmV0dXJuIGMuc2VuZChudWxsKX0scnVuU2NyaXB0cz1mdW5jdGlvbigpe3ZhciBhLGIsYyxkLGUsZjtmPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKSxhPWZ1bmN0aW9uKCl7dmFyIGEsYixjO2M9W107Zm9yKGE9MCxiPWYubGVuZ3RoO2E8YjthKyspZT1mW2FdLGUudHlwZT09PSJ0ZXh0L2NvZmZlZXNjcmlwdCImJmMucHVzaChlKTtyZXR1cm4gY30oKSxjPTAsZD1hLmxlbmd0aCwoYj1mdW5jdGlvbigpe3ZhciBkO2Q9YVtjKytdO2lmKChkIT1udWxsP2QudHlwZTp2b2lkIDApPT09InRleHQvY29mZmVlc2NyaXB0Iil7aWYoZC5zcmMpcmV0dXJuIENvZmZlZVNjcmlwdC5sb2FkKGQuc3JjLGIpO0NvZmZlZVNjcmlwdC5ydW4oZC5pbm5lckhUTUwpO3JldHVybiBiKCl9fSkoKTtyZXR1cm4gbnVsbH0sd2luZG93LmFkZEV2ZW50TGlzdGVuZXI/YWRkRXZlbnRMaXN0ZW5lcigiRE9NQ29udGVudExvYWRlZCIscnVuU2NyaXB0cywhMSk6YXR0YWNoRXZlbnQoIm9ubG9hZCIscnVuU2NyaXB0cykpfSkuY2FsbCh0aGlzKX07cmV0dXJuIHJlcXVpcmVbIi4vY29mZmVlLXNjcmlwdCJdfSgp", "content_type": "application/javascript"}, "js-libraries/jquery-mobile/jquery.mobile-1.0b3.min.css": {"data": "LyohCiAqIGpRdWVyeSBNb2JpbGUgdjEuMGIzCiAqIGh0dHA6Ly9qcXVlcnltb2JpbGUuY29tLwogKgogKiBDb3B5cmlnaHQgMjAxMCwgalF1ZXJ5IFByb2plY3QKICogRHVhbCBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIG9yIEdQTCBWZXJzaW9uIDIgbGljZW5zZXMuCiAqIGh0dHA6Ly9qcXVlcnkub3JnL2xpY2Vuc2UKICovLnVpLWJhci1he2JvcmRlcjoxcHggc29saWQgIzJhMmEyYTtiYWNrZ3JvdW5kOiMxMTE7Y29sb3I6I2ZmZjtmb250LXdlaWdodDpib2xkO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzAwMDtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzNjM2MzYyksdG8oIzExMSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzNjM2MzYywjMTExKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCMzYzNjM2MsIzExMSl9LnVpLWJhci1hLC51aS1iYXItYSBpbnB1dCwudWktYmFyLWEgc2VsZWN0LC51aS1iYXItYSB0ZXh0YXJlYSwudWktYmFyLWEgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1iYXItYSAudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJhci1hIC51aS1saW5re2NvbG9yOiM3Y2M0ZTc7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYm9keS1he2JvcmRlcjoxcHggc29saWQgIzJhMmEyYTtiYWNrZ3JvdW5kOiMyMjI7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIDFweCAwICMwMDA7Zm9udC13ZWlnaHQ6bm9ybWFsO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNjY2KSx0bygjMjIyKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNjY2LCMyMjIpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjMjIyKX0udWktYm9keS1hLC51aS1ib2R5LWEgaW5wdXQsLnVpLWJvZHktYSBzZWxlY3QsLnVpLWJvZHktYSB0ZXh0YXJlYSwudWktYm9keS1hIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYm9keS1hIC51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYm9keS1hIC51aS1saW5re2NvbG9yOiMyNDg5Y2U7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYnJ7Ym9yZGVyLWJvdHRvbTojODI4MjgyO2JvcmRlci1ib3R0b206cmdiYSgxMzAsMTMwLDEzMCwuMyk7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLWJvdHRvbS1zdHlsZTpzb2xpZH0udWktYnRuLXVwLWF7Ym9yZGVyOjFweCBzb2xpZCAjMjIyO2JhY2tncm91bmQ6IzMzMztmb250LXdlaWdodDpib2xkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMDAwO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNTU1KSx0bygjMzMzKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNTU1LCMzMzMpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzU1NSwjMzMzKX0udWktYnRuLXVwLWEgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLWhvdmVyLWF7Ym9yZGVyOjFweCBzb2xpZCAjMDAwO2JhY2tncm91bmQ6IzQ0NDtmb250LXdlaWdodDpib2xkO2NvbG9yOiNmZmY7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMDAwO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjNjY2KSx0bygjNDQ0KSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjNjY2LCM0NDQpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzY2NiwjNDQ0KX0udWktYnRuLWhvdmVyLWEgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLWRvd24tYXtib3JkZXI6MXB4IHNvbGlkICMwMDA7YmFja2dyb3VuZDojM2QzZDNkO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMwMDA7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCMzMzMpLHRvKCM1YTVhNWEpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCMzMzMsIzVhNWE1YSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjMzMzLCM1YTVhNWEpfS51aS1idG4tZG93bi1hIGEudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJ0bi11cC1hLC51aS1idG4taG92ZXItYSwudWktYnRuLWRvd24tYXtmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZjt0ZXh0LWRlY29yYXRpb246bm9uZX0udWktYmFyLWJ7Ym9yZGVyOjFweCBzb2xpZCAjNDU2ZjlhO2JhY2tncm91bmQ6IzVlODdiMDtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OmJvbGQ7dGV4dC1zaGFkb3c6MCAtMXB4IDFweCAjMjU0ZjdhO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjODFhOGNlKSx0bygjNWU4N2IwKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjODFhOGNlLCM1ZTg3YjApO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsIzgxYThjZSwjNWU4N2IwKX0udWktYmFyLWIsLnVpLWJhci1iIGlucHV0LC51aS1iYXItYiBzZWxlY3QsLnVpLWJhci1iIHRleHRhcmVhLC51aS1iYXItYiBidXR0b257Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LnVpLWJhci1iIC51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYmFyLWIgLnVpLWxpbmt7Y29sb3I6IzdjYzRlNztmb250LXdlaWdodDpib2xkfS51aS1ib2R5LWJ7Ym9yZGVyOjFweCBzb2xpZCAjYzZjNmM2O2JhY2tncm91bmQ6I2NjYztjb2xvcjojMzMzO3RleHQtc2hhZG93OjAgMXB4IDAgI2ZmZjtmb250LXdlaWdodDpub3JtYWw7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNlNmU2ZTYpLHRvKCNjY2MpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNlNmU2ZTYsI2NjYyk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZTZlNmU2LCNjY2MpfS51aS1ib2R5LWIsLnVpLWJvZHktYiBpbnB1dCwudWktYm9keS1iIHNlbGVjdCwudWktYm9keS1iIHRleHRhcmVhLC51aS1ib2R5LWIgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWIgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1ib2R5LWIgLnVpLWxpbmt7Y29sb3I6IzI0ODljZTtmb250LXdlaWdodDpib2xkfS51aS1idG4tdXAtYntib3JkZXI6MXB4IHNvbGlkICMxNDUwNzI7YmFja2dyb3VuZDojMjU2N2FiO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMxNDUwNzI7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCM1ZjljYzUpLHRvKCMzOTZiOWUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCM1ZjljYzUsIzM5NmI5ZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjNWY5Y2M1LCMzOTZiOWUpfS51aS1idG4tdXAtYiBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojZmZmfS51aS1idG4taG92ZXItYntib3JkZXI6MXB4IHNvbGlkICMwMDUxNmU7YmFja2dyb3VuZDojNGI4OGI2O2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6I2ZmZjt0ZXh0LXNoYWRvdzowIC0xcHggMXB4ICMwMTRkNjg7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCM3MmIwZDQpLHRvKCM0Yjg4YjYpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCM3MmIwZDQsIzRiODhiNik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjNzJiMGQ0LCM0Yjg4YjYpfS51aS1idG4taG92ZXItYiBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojZmZmfS51aS1idG4tZG93bi1ie2JvcmRlcjoxcHggc29saWQgIzIyNTM3NztiYWNrZ3JvdW5kOiM0ZTg5YzU7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojZmZmO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzIyNTM3NztiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzM5NmI5ZSksdG8oIzRlODljNSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzM5NmI5ZSwjNGU4OWM1KTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCMzOTZiOWUsIzRlODljNSl9LnVpLWJ0bi1kb3duLWIgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6I2ZmZn0udWktYnRuLXVwLWIsLnVpLWJ0bi1ob3Zlci1iLC51aS1idG4tZG93bi1ie2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmO3RleHQtZGVjb3JhdGlvbjpub25lfS51aS1iYXItY3tib3JkZXI6MXB4IHNvbGlkICNiM2IzYjM7YmFja2dyb3VuZDojZTllYWViO2NvbG9yOiMzZTNlM2U7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LXNoYWRvdzowIDFweCAxcHggI2ZmZjtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oI2YwZjBmMCksdG8oI2U5ZWFlYikpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI2YwZjBmMCwjZTllYWViKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYik7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCNmMGYwZjAsI2U5ZWFlYil9LnVpLWJhci1jLC51aS1iYXItYyBpbnB1dCwudWktYmFyLWMgc2VsZWN0LC51aS1iYXItYyB0ZXh0YXJlYSwudWktYmFyLWMgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWN7Ym9yZGVyOjFweCBzb2xpZCAjYjNiM2IzO2NvbG9yOiMzMzM7dGV4dC1zaGFkb3c6MCAxcHggMCAjZmZmO2JhY2tncm91bmQ6I2YwZjBmMDtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oI2VlZSksdG8oI2RkZCkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZGRkKTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCNlZWUsI2RkZCl9LnVpLWJvZHktYywudWktYm9keS1jIGlucHV0LC51aS1ib2R5LWMgc2VsZWN0LC51aS1ib2R5LWMgdGV4dGFyZWEsLnVpLWJvZHktYyBidXR0b257Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWZ9LnVpLWJvZHktYyAudWktbGluay1pbmhlcml0e2NvbG9yOiMzMzN9LnVpLWJvZHktYyAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJ0bi11cC1je2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNlZWU7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojNDQ0O3RleHQtc2hhZG93OjAgMXB4IDFweCAjZjZmNmY2O2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmRmZGZkKSx0bygjZWVlKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZkZmRmZCwjZWVlKX0udWktYnRuLXVwLWMgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzJmM2U0Nn0udWktYnRuLWhvdmVyLWN7Ym9yZGVyOjFweCBzb2xpZCAjYmJiO2JhY2tncm91bmQ6I2RhZGFkYTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMxMDEwMTA7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNlZGVkZWQpLHRvKCNkYWRhZGEpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNlZGVkZWQsI2RhZGFkYSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZWRlZGVkLCNkYWRhZGEpfS51aS1idG4taG92ZXItYyBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMmYzZTQ2fS51aS1idG4tZG93bi1je2JvcmRlcjoxcHggc29saWQgIzgwODA4MDtiYWNrZ3JvdW5kOiNmZGZkZmQ7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZWVlKSx0bygjZmRmZGZkKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZWVlLCNmZGZkZmQpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmRmZGZkKX0udWktYnRuLWRvd24tYyBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMmYzZTQ2fS51aS1idG4tdXAtYywudWktYnRuLWhvdmVyLWMsLnVpLWJ0bi1kb3duLWN7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnVpLWJhci1ke2JvcmRlcjoxcHggc29saWQgI2NjYztiYWNrZ3JvdW5kOiNiYmI7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNlZWU7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNkZGQpLHRvKCNiYmIpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNkZGQsI2JiYik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZGRkLCNiYmIpfS51aS1iYXItZCwudWktYmFyLWQgaW5wdXQsLnVpLWJhci1kIHNlbGVjdCwudWktYmFyLWQgdGV4dGFyZWEsLnVpLWJhci1kIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYmFyLWQgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1iYXItZCAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJvZHktZHtib3JkZXI6MXB4IHNvbGlkICNjY2M7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZDojZmZmfS51aS1ib2R5LWQsLnVpLWJvZHktZCBpbnB1dCwudWktYm9keS1kIHNlbGVjdCwudWktYm9keS1kIHRleHRhcmVhLC51aS1ib2R5LWQgYnV0dG9ue2ZvbnQtZmFtaWx5OkhlbHZldGljYSxBcmlhbCxzYW5zLXNlcmlmfS51aS1ib2R5LWQgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1ib2R5LWQgLnVpLWxpbmt7Y29sb3I6IzI0ODljZTtmb250LXdlaWdodDpib2xkfS51aS1idG4tdXAtZHtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZDojZmZmO2ZvbnQtd2VpZ2h0OmJvbGQ7Y29sb3I6IzQ0NDt0ZXh0LXNoYWRvdzowIDFweCAxcHggI2ZmZn0udWktYnRuLXVwLWQgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYnRuLWhvdmVyLWR7Ym9yZGVyOjFweCBzb2xpZCAjYWFhO2JhY2tncm91bmQ6I2VlZTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMyMjI7Y3Vyc29yOnBvaW50ZXI7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmZGZkZmQpLHRvKCNlZWUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmZGZkZmQsI2VlZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmRmZGZkLCNlZWUpfS51aS1idG4taG92ZXItZCBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMjIyfS51aS1idG4tZG93bi1ke2JvcmRlcjoxcHggc29saWQgI2FhYTtiYWNrZ3JvdW5kOiNmZmY7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZWVlKSx0bygjZmZmKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZWVlLCNmZmYpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2VlZSwjZmZmKX0udWktYnRuLWRvd24tZCBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMTExfS51aS1idG4tdXAtZCwudWktYnRuLWhvdmVyLWQsLnVpLWJ0bi1kb3duLWR7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9LnVpLWJhci1le2JvcmRlcjoxcHggc29saWQgI2Y3Yzk0MjtiYWNrZ3JvdW5kOiNmYWRiNGU7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmY2VkYTcpLHRvKCNmYWRiNGUpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmY2VkYTcsI2ZhZGI0ZSk7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpfS51aS1iYXItZSwudWktYmFyLWUgaW5wdXQsLnVpLWJhci1lIHNlbGVjdCwudWktYmFyLWUgdGV4dGFyZWEsLnVpLWJhci1lIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYmFyLWUgLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1iYXItZSAudWktbGlua3tjb2xvcjojMjQ4OWNlO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLWJvZHktZXtib3JkZXI6MXB4IHNvbGlkICNmN2M5NDI7Y29sb3I6IzMzMzt0ZXh0LXNoYWRvdzowIDFweCAwICNmZmY7YmFja2dyb3VuZDojZmFlYjllO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmZmKSx0bygjZmFlYjllKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmZmLCNmYWViOWUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZmZiwjZmFlYjllKX0udWktYm9keS1lLC51aS1ib2R5LWUgaW5wdXQsLnVpLWJvZHktZSBzZWxlY3QsLnVpLWJvZHktZSB0ZXh0YXJlYSwudWktYm9keS1lIGJ1dHRvbntmb250LWZhbWlseTpIZWx2ZXRpY2EsQXJpYWwsc2Fucy1zZXJpZn0udWktYm9keS1lIC51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYm9keS1lIC51aS1saW5re2NvbG9yOiMyNDg5Y2U7Zm9udC13ZWlnaHQ6Ym9sZH0udWktYnRuLXVwLWV7Ym9yZGVyOjFweCBzb2xpZCAjZjdjOTQyO2JhY2tncm91bmQ6I2ZhZGI0ZTtmb250LXdlaWdodDpib2xkO2NvbG9yOiMzMzM7dGV4dC1zaGFkb3c6MCAxcHggMCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmNlZGE3KSx0bygjZmFkYjRlKSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmNlZGE3LCNmYWRiNGUpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZjZWRhNywjZmFkYjRlKX0udWktYnRuLXVwLWUgYS51aS1saW5rLWluaGVyaXR7Y29sb3I6IzMzM30udWktYnRuLWhvdmVyLWV7Ym9yZGVyOjFweCBzb2xpZCAjZTc5OTUyO2JhY2tncm91bmQ6I2ZiZTI2Zjtmb250LXdlaWdodDpib2xkO2NvbG9yOiMxMTE7dGV4dC1zaGFkb3c6MCAxcHggMXB4ICNmZmY7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWdyYWRpZW50KGxpbmVhcixsZWZ0IHRvcCxsZWZ0IGJvdHRvbSxmcm9tKCNmY2YwYjUpLHRvKCNmYmUyNmYpKTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6LW1vei1saW5lYXItZ3JhZGllbnQodG9wLCNmY2YwYjUsI2ZiZTI2Zik7YmFja2dyb3VuZC1pbWFnZTotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6LW8tbGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpO2JhY2tncm91bmQtaW1hZ2U6bGluZWFyLWdyYWRpZW50KHRvcCwjZmNmMGI1LCNmYmUyNmYpfS51aS1idG4taG92ZXItZSBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1idG4tZG93bi1le2JvcmRlcjoxcHggc29saWQgI2Y3Yzk0MjtiYWNrZ3JvdW5kOiNmY2VkYTc7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMTExO3RleHQtc2hhZG93OjAgMXB4IDFweCAjZmZmO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1ncmFkaWVudChsaW5lYXIsbGVmdCB0b3AsbGVmdCBib3R0b20sZnJvbSgjZmFkYjRlKSx0bygjZmNlZGE3KSk7YmFja2dyb3VuZC1pbWFnZTotd2Via2l0LWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjZmFkYjRlLCNmY2VkYTcpO2JhY2tncm91bmQtaW1hZ2U6LW1zLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KTtiYWNrZ3JvdW5kLWltYWdlOmxpbmVhci1ncmFkaWVudCh0b3AsI2ZhZGI0ZSwjZmNlZGE3KX0udWktYnRuLWRvd24tZSBhLnVpLWxpbmstaW5oZXJpdHtjb2xvcjojMzMzfS51aS1idG4tdXAtZSwudWktYnRuLWhvdmVyLWUsLnVpLWJ0bi1kb3duLWV7Zm9udC1mYW1pbHk6SGVsdmV0aWNhLEFyaWFsLHNhbnMtc2VyaWY7dGV4dC1kZWNvcmF0aW9uOm5vbmV9YS51aS1saW5rLWluaGVyaXR7dGV4dC1kZWNvcmF0aW9uOm5vbmUhaW1wb3J0YW50fS51aS1idG4tYWN0aXZle2JvcmRlcjoxcHggc29saWQgIzE1NTY3ODtiYWNrZ3JvdW5kOiM0NTk2Y2U7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojZmZmO2N1cnNvcjpwb2ludGVyO3RleHQtc2hhZG93OjAgLTFweCAxcHggIzE0NTA3Mjt0ZXh0LWRlY29yYXRpb246bm9uZTtiYWNrZ3JvdW5kLWltYWdlOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGZyb20oIzg1YmFlNCksdG8oIzUzOTNjNSkpO2JhY2tncm91bmQtaW1hZ2U6LXdlYmtpdC1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTotbW96LWxpbmVhci1ncmFkaWVudCh0b3AsIzg1YmFlNCwjNTM5M2M1KTtiYWNrZ3JvdW5kLWltYWdlOi1tcy1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTotby1saW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7YmFja2dyb3VuZC1pbWFnZTpsaW5lYXItZ3JhZGllbnQodG9wLCM4NWJhZTQsIzUzOTNjNSk7b3V0bGluZTowfS51aS1idG4tYWN0aXZlIGEudWktbGluay1pbmhlcml0e2NvbG9yOiNmZmZ9LnVpLWJ0bi1pbm5lcntib3JkZXItdG9wOjFweCBzb2xpZCAjZmZmO2JvcmRlci1jb2xvcjpyZ2JhKDI1NSwyNTUsMjU1LC4zKX0udWktY29ybmVyLXRsey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtfS51aS1jb3JuZXItdHJ7LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOi42ZW19LnVpLWNvcm5lci1ibHstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6LjZlbX0udWktY29ybmVyLWJyey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItdG9wey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItYm90dG9tey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDouNmVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6LjZlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtfS51aS1jb3JuZXItcmlnaHR7LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOi42ZW07LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czouNmVtO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOi42ZW19LnVpLWNvcm5lci1sZWZ0ey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czouNmVtOy1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0Oi42ZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOi42ZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czouNmVtfS51aS1jb3JuZXItYWxsey1tb3otYm9yZGVyLXJhZGl1czouNmVtOy13ZWJraXQtYm9yZGVyLXJhZGl1czouNmVtO2JvcmRlci1yYWRpdXM6LjZlbX0udWktY29ybmVyLW5vbmV7LW1vei1ib3JkZXItcmFkaXVzOjA7LXdlYmtpdC1ib3JkZXItcmFkaXVzOjA7Ym9yZGVyLXJhZGl1czowfS51aS1kaXNhYmxlZHtvcGFjaXR5Oi4zfS51aS1kaXNhYmxlZCwudWktZGlzYWJsZWQgYXtjdXJzb3I6ZGVmYXVsdH0udWktaWNvbntiYWNrZ3JvdW5kOiM2NjY7YmFja2dyb3VuZDpyZ2JhKDAsMCwwLC40KTtiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvaWNvbnMtMTgtd2hpdGUucG5nKTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7LW1vei1ib3JkZXItcmFkaXVzOjlweDstd2Via2l0LWJvcmRlci1yYWRpdXM6OXB4O2JvcmRlci1yYWRpdXM6OXB4fS51aS1pY29uLWFsdHtiYWNrZ3JvdW5kOiNmZmY7YmFja2dyb3VuZDpyZ2JhKDI1NSwyNTUsMjU1LC4zKTtiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvaWNvbnMtMTgtYmxhY2sucG5nKTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXR9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAoLXdlYmtpdC1taW4tZGV2aWNlLXBpeGVsLXJhdGlvOjEuNSksb25seSBzY3JlZW4gYW5kIChtaW4tLW1vei1kZXZpY2UtcGl4ZWwtcmF0aW86MS41KSxvbmx5IHNjcmVlbiBhbmQgKG1pbi1yZXNvbHV0aW9uOjI0MGRwaSl7LnVpLWljb24tcGx1cywudWktaWNvbi1taW51cywudWktaWNvbi1kZWxldGUsLnVpLWljb24tYXJyb3ctciwudWktaWNvbi1hcnJvdy1sLC51aS1pY29uLWFycm93LXUsLnVpLWljb24tYXJyb3ctZCwudWktaWNvbi1jaGVjaywudWktaWNvbi1nZWFyLC51aS1pY29uLXJlZnJlc2gsLnVpLWljb24tZm9yd2FyZCwudWktaWNvbi1iYWNrLC51aS1pY29uLWdyaWQsLnVpLWljb24tc3RhciwudWktaWNvbi1hbGVydCwudWktaWNvbi1pbmZvLC51aS1pY29uLWhvbWUsLnVpLWljb24tc2VhcmNoLC51aS1pY29uLWNoZWNrYm94LW9mZiwudWktaWNvbi1jaGVja2JveC1vbiwudWktaWNvbi1yYWRpby1vZmYsLnVpLWljb24tcmFkaW8tb257YmFja2dyb3VuZC1pbWFnZTp1cmwoaW1hZ2VzL2ljb25zLTM2LXdoaXRlLnBuZyk7LW1vei1iYWNrZ3JvdW5kLXNpemU6Nzc2cHggMThweDstby1iYWNrZ3JvdW5kLXNpemU6Nzc2cHggMThweDstd2Via2l0LWJhY2tncm91bmQtc2l6ZTo3NzZweCAxOHB4O2JhY2tncm91bmQtc2l6ZTo3NzZweCAxOHB4fS51aS1pY29uLWFsdHtiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvaWNvbnMtMzYtYmxhY2sucG5nKX19LnVpLWljb24tcGx1c3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0wIDUwJX0udWktaWNvbi1taW51c3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0zNnB4IDUwJX0udWktaWNvbi1kZWxldGV7YmFja2dyb3VuZC1wb3NpdGlvbjotNzJweCA1MCV9LnVpLWljb24tYXJyb3ctcntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMDhweCA1MCV9LnVpLWljb24tYXJyb3ctbHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCA1MCV9LnVpLWljb24tYXJyb3ctdXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xODBweCA1MCV9LnVpLWljb24tYXJyb3ctZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMTZweCA1MCV9LnVpLWljb24tY2hlY2t7YmFja2dyb3VuZC1wb3NpdGlvbjotMjUycHggNTAlfS51aS1pY29uLWdlYXJ7YmFja2dyb3VuZC1wb3NpdGlvbjotMjg4cHggNTAlfS51aS1pY29uLXJlZnJlc2h7YmFja2dyb3VuZC1wb3NpdGlvbjotMzI0cHggNTAlfS51aS1pY29uLWZvcndhcmR7YmFja2dyb3VuZC1wb3NpdGlvbjotMzYwcHggNTAlfS51aS1pY29uLWJhY2t7YmFja2dyb3VuZC1wb3NpdGlvbjotMzk2cHggNTAlfS51aS1pY29uLWdyaWR7YmFja2dyb3VuZC1wb3NpdGlvbjotNDMycHggNTAlfS51aS1pY29uLXN0YXJ7YmFja2dyb3VuZC1wb3NpdGlvbjotNDY4cHggNTAlfS51aS1pY29uLWFsZXJ0e2JhY2tncm91bmQtcG9zaXRpb246LTUwNHB4IDUwJX0udWktaWNvbi1pbmZve2JhY2tncm91bmQtcG9zaXRpb246LTU0MHB4IDUwJX0udWktaWNvbi1ob21le2JhY2tncm91bmQtcG9zaXRpb246LTU3NnB4IDUwJX0udWktaWNvbi1zZWFyY2h7YmFja2dyb3VuZC1wb3NpdGlvbjotNjEycHggNTAlfS51aS1pY29uLWNoZWNrYm94LW9mZntiYWNrZ3JvdW5kLXBvc2l0aW9uOi02ODRweCA1MCV9LnVpLWljb24tY2hlY2tib3gtb257YmFja2dyb3VuZC1wb3NpdGlvbjotNjQ4cHggNTAlfS51aS1pY29uLXJhZGlvLW9mZntiYWNrZ3JvdW5kLXBvc2l0aW9uOi03NTZweCA1MCV9LnVpLWljb24tcmFkaW8tb257YmFja2dyb3VuZC1wb3NpdGlvbjotNzIwcHggNTAlfS51aS1jaGVja2JveCAudWktaWNvbnstbW96LWJvcmRlci1yYWRpdXM6M3B4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czozcHg7Ym9yZGVyLXJhZGl1czozcHh9LnVpLWljb24tY2hlY2tib3gtb2ZmLC51aS1pY29uLXJhZGlvLW9mZntiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50fS51aS1pY29uLWNoZWNrYm94LW9uLC51aS1jaGVja2JveC1vbiAudWktaWNvbiwudWktcmFkaW8tb24gLnVpLWljb257YmFja2dyb3VuZC1jb2xvcjojNDU5NmNlfS51aS1pY29uLXNlYXJjaGZpZWxke2JhY2tncm91bmQtaW1hZ2U6dXJsKGltYWdlcy9pY29uLXNlYXJjaC1ibGFjay5wbmcpO2JhY2tncm91bmQtc2l6ZToxNnB4IDE2cHh9LnVpLWljb24tbG9hZGluZ3tiYWNrZ3JvdW5kLWltYWdlOnVybChpbWFnZXMvYWpheC1sb2FkZXIucG5nKTt3aWR0aDo0MHB4O2hlaWdodDo0MHB4Oy1tb3otYm9yZGVyLXJhZGl1czoyMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoyMHB4O2JvcmRlci1yYWRpdXM6MjBweDtiYWNrZ3JvdW5kLXNpemU6MzVweCAzNXB4fS51aS1idG4tY29ybmVyLXRsey1tb3otYm9yZGVyLXJhZGl1cy10b3BsZWZ0OjFlbTstd2Via2l0LWJvcmRlci10b3AtbGVmdC1yYWRpdXM6MWVtO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLXRyey1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDoxZW07LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxZW07Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLWJsey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21sZWZ0OjFlbTstd2Via2l0LWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MWVtO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLWJyey1tb3otYm9yZGVyLXJhZGl1cy1ib3R0b21yaWdodDoxZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxZW07Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MWVtfS51aS1idG4tY29ybmVyLXRvcHstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDoxZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbTstbW96LWJvcmRlci1yYWRpdXMtdG9wcmlnaHQ6MWVtOy13ZWJraXQtYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MWVtO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci1ib3R0b217LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6MWVtOy13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czoxZW07Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czoxZW07LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjFlbTstd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjFlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxZW19LnVpLWJ0bi1jb3JuZXItcmlnaHR7LW1vei1ib3JkZXItcmFkaXVzLXRvcHJpZ2h0OjFlbTstd2Via2l0LWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOjFlbTtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czoxZW07LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjFlbTstd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjFlbTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czoxZW19LnVpLWJ0bi1jb3JuZXItbGVmdHstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDoxZW07LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjFlbTstbW96LWJvcmRlci1yYWRpdXMtYm90dG9tbGVmdDoxZW07LXdlYmtpdC1ib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjFlbTtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjFlbX0udWktYnRuLWNvcm5lci1hbGx7LW1vei1ib3JkZXItcmFkaXVzOjFlbTstd2Via2l0LWJvcmRlci1yYWRpdXM6MWVtO2JvcmRlci1yYWRpdXM6MWVtfS51aS1jb3JuZXItdGwsLnVpLWNvcm5lci10ciwudWktY29ybmVyLWJsLC51aS1jb3JuZXItYnIsLnVpLWNvcm5lci10b3AsLnVpLWNvcm5lci1ib3R0b20sLnVpLWNvcm5lci1yaWdodCwudWktY29ybmVyLWxlZnQsLnVpLWNvcm5lci1hbGwsLnVpLWJ0bi1jb3JuZXItdGwsLnVpLWJ0bi1jb3JuZXItdHIsLnVpLWJ0bi1jb3JuZXItYmwsLnVpLWJ0bi1jb3JuZXItYnIsLnVpLWJ0bi1jb3JuZXItdG9wLC51aS1idG4tY29ybmVyLWJvdHRvbSwudWktYnRuLWNvcm5lci1yaWdodCwudWktYnRuLWNvcm5lci1sZWZ0LC51aS1idG4tY29ybmVyLWFsbHstd2Via2l0LWJhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveDstbW96LWJhY2tncm91bmQtY2xpcDpwYWRkaW5nO2JhY2tncm91bmQtY2xpcDpwYWRkaW5nLWJveH0udWktb3ZlcmxheXtiYWNrZ3JvdW5kOiM2NjY7b3BhY2l0eTouNTtmaWx0ZXI6QWxwaGEoT3BhY2l0eT01MCk7cG9zaXRpb246YWJzb2x1dGU7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0udWktb3ZlcmxheS1zaGFkb3d7LW1vei1ib3gtc2hhZG93OjAgMCAxMnB4IHJnYmEoMCwwLDAsLjYpOy13ZWJraXQtYm94LXNoYWRvdzowIDAgMTJweCByZ2JhKDAsMCwwLC42KTtib3gtc2hhZG93OjAgMCAxMnB4IHJnYmEoMCwwLDAsLjYpfS51aS1zaGFkb3d7LW1vei1ib3gtc2hhZG93OjAgMXB4IDRweCByZ2JhKDAsMCwwLC4zKTstd2Via2l0LWJveC1zaGFkb3c6MCAxcHggNHB4IHJnYmEoMCwwLDAsLjMpO2JveC1zaGFkb3c6MCAxcHggNHB4IHJnYmEoMCwwLDAsLjMpfS51aS1iYXItYSAudWktc2hhZG93LC51aS1iYXItYiAudWktc2hhZG93LC51aS1iYXItYyAudWktc2hhZG93ey1tb3otYm94LXNoYWRvdzowIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjMpOy13ZWJraXQtYm94LXNoYWRvdzowIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjMpO2JveC1zaGFkb3c6MCAxcHggMCByZ2JhKDI1NSwyNTUsMjU1LC4zKX0udWktc2hhZG93LWluc2V0ey1tb3otYm94LXNoYWRvdzppbnNldCAwIDFweCA0cHggcmdiYSgwLDAsMCwuMik7LXdlYmtpdC1ib3gtc2hhZG93Omluc2V0IDAgMXB4IDRweCByZ2JhKDAsMCwwLC4yKTtib3gtc2hhZG93Omluc2V0IDAgMXB4IDRweCByZ2JhKDAsMCwwLC4yKX0udWktaWNvbi1zaGFkb3d7LW1vei1ib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuNCk7LXdlYmtpdC1ib3gtc2hhZG93OjAgMXB4IDAgcmdiYSgyNTUsMjU1LDI1NSwuNCk7Ym94LXNoYWRvdzowIDFweCAwIHJnYmEoMjU1LDI1NSwyNTUsLjQpfS51aS1mb2N1c3stbW96LWJveC1zaGFkb3c6MCAwIDEycHggIzM4N2JiZTstd2Via2l0LWJveC1zaGFkb3c6MCAwIDEycHggIzM4N2JiZTtib3gtc2hhZG93OjAgMCAxMnB4ICMzODdiYmV9LnVpLW1vYmlsZS1ub3N1cHBvcnQtYm94c2hhZG93ICp7LW1vei1ib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50Oy13ZWJraXQtYm94LXNoYWRvdzpub25lIWltcG9ydGFudDtib3gtc2hhZG93Om5vbmUhaW1wb3J0YW50fS51aS1tb2JpbGUtbm9zdXBwb3J0LWJveHNoYWRvdyAudWktZm9jdXN7b3V0bGluZS13aWR0aDoycHh9LnVpLW1vYmlsZSwudWktbW9iaWxlIGJvZHl7aGVpZ2h0OjEwMCV9LnVpLW1vYmlsZSBmaWVsZHNldCwudWktcGFnZXtwYWRkaW5nOjA7bWFyZ2luOjB9LnVpLW1vYmlsZSBhIGltZywudWktbW9iaWxlIGZpZWxkc2V0e2JvcmRlcjowfS51aS1tb2JpbGUtdmlld3BvcnR7bWFyZ2luOjA7b3ZlcmZsb3cteDpoaWRkZW47LXdlYmtpdC10ZXh0LXNpemUtYWRqdXN0Om5vbmU7LW1zLXRleHQtc2l6ZS1hZGp1c3Q6bm9uZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKX0udWktbW9iaWxlIFtkYXRhLXJvbGU9cGFnZV0sLnVpLW1vYmlsZSBbZGF0YS1yb2xlPWRpYWxvZ10sLnVpLXBhZ2V7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7bWluLWhlaWdodDoxMDAlO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6bm9uZTtib3JkZXI6MH0udWktbW9iaWxlIC51aS1wYWdlLWFjdGl2ZXtkaXNwbGF5OmJsb2NrO292ZXJmbG93OnZpc2libGV9LnBvcnRyYWl0LC5wb3J0cmFpdCAudWktcGFnZXttaW4taGVpZ2h0OjQyMHB4fS5sYW5kc2NhcGUsLmxhbmRzY2FwZSAudWktcGFnZXttaW4taGVpZ2h0OjMwMHB4fS51aS1wYWdlLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdywudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktY29udGVudHtvdmVyZmxvdzphdXRvO2hlaWdodDoxMDAlOy13ZWJraXQtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy1tb3otb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoOy1vLW92ZXJmbG93LXNjcm9sbGluZzp0b3VjaDstbXMtb3ZlcmZsb3ctc2Nyb2xsaW5nOnRvdWNoO292ZXJmbG93LXNjcm9sbGluZzp0b3VjaH0udWktcGFnZS51aS1tb2JpbGUtcHJlLXRyYW5zaXRpb257ZGlzcGxheTpibG9ja30udWktbG9hZGluZyAudWktbW9iaWxlLXZpZXdwb3J0e292ZXJmbG93OmhpZGRlbiFpbXBvcnRhbnR9LnVpLWxvYWRpbmcgLnVpLWxvYWRlcntkaXNwbGF5OmJsb2NrfS51aS1sb2FkaW5nIC51aS1wYWdle292ZXJmbG93OmhpZGRlbn0udWktbG9hZGVye2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtvcGFjaXR5Oi44NTt6LWluZGV4OjEwMDtsZWZ0OjUwJTt3aWR0aDoyMDBweDttYXJnaW4tbGVmdDotMTMwcHg7bWFyZ2luLXRvcDotMzVweDtwYWRkaW5nOjEwcHggMzBweH0udWktbG9hZGVyIGgxe2ZvbnQtc2l6ZToxNXB4O3RleHQtYWxpZ246Y2VudGVyfS51aS1sb2FkZXIgLnVpLWljb257cG9zaXRpb246c3RhdGljO2Rpc3BsYXk6YmxvY2s7b3BhY2l0eTouOTttYXJnaW46MCBhdXRvO3dpZHRoOjM1cHg7aGVpZ2h0OjM1cHg7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0udWktbW9iaWxlLXJlbmRlcmluZz4qe3Zpc2liaWxpdHk6aGlkZGVufS51aS1iYXIsLnVpLWJvZHl7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZzouNGVtIDE1cHg7b3ZlcmZsb3c6aGlkZGVuO2Rpc3BsYXk6YmxvY2s7Y2xlYXI6Ym90aH0udWktYmFye2ZvbnQtc2l6ZToxNnB4O21hcmdpbjowfS51aS1iYXIgaDEsLnVpLWJhciBoMiwudWktYmFyIGgzLC51aS1iYXIgaDQsLnVpLWJhciBoNSwudWktYmFyIGg2e21hcmdpbjowO3BhZGRpbmc6MDtmb250LXNpemU6MTZweDtkaXNwbGF5OmlubGluZS1ibG9ja30udWktaGVhZGVyLC51aS1mb290ZXJ7ZGlzcGxheTpibG9ja30udWktcGFnZSAudWktaGVhZGVyLC51aS1wYWdlIC51aS1mb290ZXJ7cG9zaXRpb246cmVsYXRpdmV9LnVpLWhlYWRlciAudWktYnRuLWxlZnR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxMHB4O3RvcDouNGVtfS51aS1oZWFkZXIgLnVpLWJ0bi1yaWdodHtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDoxMHB4O3RvcDouNGVtfS51aS1oZWFkZXIgLnVpLXRpdGxlLC51aS1mb290ZXIgLnVpLXRpdGxle21pbi1oZWlnaHQ6MS4xZW07dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zaXplOjE2cHg7ZGlzcGxheTpibG9jazttYXJnaW46LjZlbSA5MHB4IC44ZW07cGFkZGluZzowO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcDtvdXRsaW5lOjAhaW1wb3J0YW50fS51aS1jb250ZW50e2JvcmRlci13aWR0aDowO292ZXJmbG93OnZpc2libGU7b3ZlcmZsb3cteDpoaWRkZW47cGFkZGluZzoxNXB4fS51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWNvbnRlbnR7cGFkZGluZzowfS51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktcGFnZS51aS1uYXRpdmUtZml4ZWQsLnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1wYWdlLnVpLW5hdGl2ZS1mdWxsc2NyZWVue292ZXJmbG93OnZpc2libGV9LnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZml4ZWQgLnVpLWhlYWRlciwudWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktZm9vdGVye3Bvc2l0aW9uOmZpeGVkO2xlZnQ6MDtyaWdodDowO3RvcDowO3otaW5kZXg6MjAwfS51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktcGFnZS51aS1uYXRpdmUtZml4ZWQgLnVpLWZvb3Rlcnt0b3A6YXV0bztib3R0b206MH0udWktbW9iaWxlLXRvdWNoLW92ZXJmbG93LnVpLW5hdGl2ZS1maXhlZCAudWktY29udGVudHtwYWRkaW5nLXRvcDoyLjVlbTtwYWRkaW5nLWJvdHRvbTozZW07dG9wOjA7Ym90dG9tOjA7aGVpZ2h0OmF1dG87cG9zaXRpb246YWJzb2x1dGV9LnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZnVsbHNjcmVlbiAudWktY29udGVudHtwYWRkaW5nLXRvcDowO3BhZGRpbmctYm90dG9tOjB9LnVpLW1vYmlsZS10b3VjaC1vdmVyZmxvdy51aS1uYXRpdmUtZnVsbHNjcmVlbiAudWktaGVhZGVyLC51aS1tb2JpbGUtdG91Y2gtb3ZlcmZsb3cudWktbmF0aXZlLWZ1bGxzY3JlZW4gLnVpLWZvb3RlcntvcGFjaXR5Oi45fS51aS1uYXRpdmUtYmFycy1oaWRkZW57ZGlzcGxheTpub25lfS51aS1pY29ue3dpZHRoOjE4cHg7aGVpZ2h0OjE4cHh9LnVpLWZ1bGxzY3JlZW4gaW1ne21heC13aWR0aDoxMDAlfS51aS1ub2pze3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweH0uc3Bpbnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMzYwZGVnKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNwaW47LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246MXM7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjpsaW5lYXJ9QC13ZWJraXQta2V5ZnJhbWVzIHNwaW57ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGUoMGRlZyl9dG97LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlKDM2MGRlZyl9fS5pbiwub3V0ey13ZWJraXQtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjozNTBtc30uc2xpZGUuaW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlaW5mcm9tcmlnaHR9LnNsaWRlLm91dHstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG9sZWZ0fS5zbGlkZS5pbi5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZWluZnJvbWxlZnR9LnNsaWRlLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMTAwJSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZW91dHRvcmlnaHR9LnNsaWRldXAuaW57LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlaW5mcm9tYm90dG9tO3otaW5kZXg6MTB9LnNsaWRldXAub3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmU7ei1pbmRleDowfS5zbGlkZXVwLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMTAwJSk7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG9ib3R0b219LnNsaWRldXAuaW4ucmV2ZXJzZXt6LWluZGV4OjA7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpkb250bW92ZX0uc2xpZGVkb3duLmluey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpzbGlkZWluZnJvbXRvcDt6LWluZGV4OjEwfS5zbGlkZWRvd24ub3V0ey13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmU7ei1pbmRleDowfS5zbGlkZWRvd24ub3V0LnJldmVyc2V7LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSk7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOnNsaWRlb3V0dG90b3B9LnNsaWRlZG93bi5pbi5yZXZlcnNle3otaW5kZXg6MDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmRvbnRtb3ZlfUAtd2Via2l0LWtleWZyYW1lcyBzbGlkZWluZnJvbXJpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVpbmZyb21sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgtMTAwJSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVYKC0xMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG9yaWdodHtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVgoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgxMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlaW5mcm9tdG9we2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgtMTAwJSl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgwKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlaW5mcm9tYm90dG9te2Zyb217LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX10b3std2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApfX1ALXdlYmtpdC1rZXlmcmFtZXMgc2xpZGVvdXR0b2JvdHRvbXtmcm9tey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoMCl9dG97LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX19QC13ZWJraXQta2V5ZnJhbWVzIHNsaWRlb3V0dG90b3B7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVZKDApfXRvey13ZWJraXQtdHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmFkZWlue2Zyb217b3BhY2l0eTowfXRve29wYWNpdHk6MX19QC13ZWJraXQta2V5ZnJhbWVzIGZhZGVvdXR7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eTowfX0uZmFkZS5pbntvcGFjaXR5OjE7ei1pbmRleDoxMDstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZhZGVpbn0uZmFkZS5vdXR7ei1pbmRleDowOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmFkZW91dH0udmlld3BvcnQtZmxpcHstd2Via2l0LXBlcnNwZWN0aXZlOjEwMDA7cG9zaXRpb246YWJzb2x1dGV9LnVpLW1vYmlsZS12aWV3cG9ydC10cmFuc2l0aW9uaW5nLC51aS1tb2JpbGUtdmlld3BvcnQtdHJhbnNpdGlvbmluZyAudWktcGFnZXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO292ZXJmbG93OmhpZGRlbn0uZmxpcHstd2Via2l0LWFuaW1hdGlvbi1kdXJhdGlvbjouNjVzOy13ZWJraXQtYmFja2ZhY2UtdmlzaWJpbGl0eTpoaWRkZW47LXdlYmtpdC10cmFuc2Zvcm06dHJhbnNsYXRlWCgwKX0uZmxpcC5pbnstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDApIHNjYWxlKDEpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcGluZnJvbWxlZnR9LmZsaXAub3V0ey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoLTE4MGRlZykgc2NhbGUoLjgpOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZmxpcG91dHRvbGVmdH0uZmxpcC5pbi5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoMCkgc2NhbGUoMSk7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpmbGlwaW5mcm9tcmlnaHR9LmZsaXAub3V0LnJldmVyc2V7LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgxODBkZWcpIHNjYWxlKC44KTstd2Via2l0LWFuaW1hdGlvbi1uYW1lOmZsaXBvdXR0b3JpZ2h0fUAtd2Via2l0LWtleWZyYW1lcyBmbGlwaW5mcm9tcmlnaHR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDApIHNjYWxlKDEpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZmxpcGluZnJvbWxlZnR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDE4MGRlZykgc2NhbGUoLjgpfXRvey13ZWJraXQtdHJhbnNmb3JtOnJvdGF0ZVkoMCkgc2NhbGUoMSl9fUAtd2Via2l0LWtleWZyYW1lcyBmbGlwb3V0dG9sZWZ0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgwKSBzY2FsZSgxKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKC0xODBkZWcpIHNjYWxlKC44KX19QC13ZWJraXQta2V5ZnJhbWVzIGZsaXBvdXR0b3JpZ2h0e2Zyb217LXdlYmtpdC10cmFuc2Zvcm06cm90YXRlWSgwKSBzY2FsZSgxKX10b3std2Via2l0LXRyYW5zZm9ybTpyb3RhdGVZKDE4MGRlZykgc2NhbGUoLjgpfX1ALXdlYmtpdC1rZXlmcmFtZXMgZG9udG1vdmV7ZnJvbXtvcGFjaXR5OjF9dG97b3BhY2l0eToxfX0ucG9wey13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjo1MCUgNTAlfS5wb3AuaW57LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoMSk7b3BhY2l0eToxOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cG9waW47ei1pbmRleDoxMH0ucG9wLm91dC5yZXZlcnNley13ZWJraXQtdHJhbnNmb3JtOnNjYWxlKC4yKTtvcGFjaXR5OjA7LXdlYmtpdC1hbmltYXRpb24tbmFtZTpwb3BvdXQ7ei1pbmRleDoxMH0ucG9wLmluLnJldmVyc2V7ei1pbmRleDowOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6ZG9udG1vdmV9QC13ZWJraXQta2V5ZnJhbWVzIHBvcGlue2Zyb217LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjIpO29wYWNpdHk6MH10b3std2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9fUAtd2Via2l0LWtleWZyYW1lcyBwb3BvdXR7ZnJvbXstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9dG97LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjIpO29wYWNpdHk6MH19LnVpLWdyaWQtYSwudWktZ3JpZC1iLC51aS1ncmlkLWMsLnVpLWdyaWQtZHtvdmVyZmxvdzpoaWRkZW59LnVpLWJsb2NrLWEsLnVpLWJsb2NrLWIsLnVpLWJsb2NrLWMsLnVpLWJsb2NrLWQsLnVpLWJsb2NrLWV7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO2Zsb2F0OmxlZnQ7bWluLWhlaWdodDoxcHh9LnVpLWdyaWQtc29sbyAudWktYmxvY2stYXt3aWR0aDoxMDAlO2Zsb2F0Om5vbmV9LnVpLWdyaWQtYSAudWktYmxvY2stYSwudWktZ3JpZC1hIC51aS1ibG9jay1ie3dpZHRoOjUwJX0udWktZ3JpZC1hIC51aS1ibG9jay1he2NsZWFyOmxlZnR9LnVpLWdyaWQtYiAudWktYmxvY2stYSwudWktZ3JpZC1iIC51aS1ibG9jay1iLC51aS1ncmlkLWIgLnVpLWJsb2NrLWN7d2lkdGg6MzMuMzMzJX0udWktZ3JpZC1iIC51aS1ibG9jay1he2NsZWFyOmxlZnR9LnVpLWdyaWQtYyAudWktYmxvY2stYSwudWktZ3JpZC1jIC51aS1ibG9jay1iLC51aS1ncmlkLWMgLnVpLWJsb2NrLWMsLnVpLWdyaWQtYyAudWktYmxvY2stZHt3aWR0aDoyNSV9LnVpLWdyaWQtYyAudWktYmxvY2stYXtjbGVhcjpsZWZ0fS51aS1ncmlkLWQgLnVpLWJsb2NrLWEsLnVpLWdyaWQtZCAudWktYmxvY2stYiwudWktZ3JpZC1kIC51aS1ibG9jay1jLC51aS1ncmlkLWQgLnVpLWJsb2NrLWQsLnVpLWdyaWQtZCAudWktYmxvY2stZXt3aWR0aDoyMCV9LnVpLWdyaWQtZCAudWktYmxvY2stYXtjbGVhcjpsZWZ0fS51aS1oZWFkZXIsLnVpLWZvb3RlciwudWktcGFnZS1mdWxsc2NyZWVuIC51aS1oZWFkZXIsLnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktZm9vdGVye3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjt3aWR0aDoxMDAlO2JvcmRlci1sZWZ0LXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOjB9LnVpLWhlYWRlci1maXhlZCwudWktZm9vdGVyLWZpeGVke3otaW5kZXg6MTAwMDstd2Via2l0LXRyYW5zZm9ybTp0cmFuc2xhdGVaKDApfS51aS1mb290ZXItZHVwbGljYXRlLC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZpeGVkLWlubGluZXtkaXNwbGF5Om5vbmV9LnVpLXBhZ2UtZnVsbHNjcmVlbiAudWktaGVhZGVyLC51aS1wYWdlLWZ1bGxzY3JlZW4gLnVpLWZvb3RlcntvcGFjaXR5Oi45fS51aS1uYXZiYXJ7b3ZlcmZsb3c6aGlkZGVufS51aS1uYXZiYXIgdWwsLnVpLW5hdmJhci1leHBhbmRlZCB1bHtsaXN0LXN0eWxlOm5vbmU7cGFkZGluZzowO21hcmdpbjowO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6YmxvY2s7Ym9yZGVyOjB9LnVpLW5hdmJhci1jb2xsYXBzZWQgdWx7ZmxvYXQ6bGVmdDt3aWR0aDo3NSU7bWFyZ2luLXJpZ2h0Oi0ycHh9LnVpLW5hdmJhci1jb2xsYXBzZWQgLnVpLW5hdmJhci10b2dnbGV7ZmxvYXQ6bGVmdDt3aWR0aDoyNSV9LnVpLW5hdmJhciBsaS51aS1uYXZiYXItdHJ1bmNhdGV7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4O3RvcDotOTk5OXB4fS51aS1uYXZiYXIgbGkgLnVpLWJ0biwudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG57ZGlzcGxheTpibG9jaztmb250LXNpemU6MTJweDt0ZXh0LWFsaWduOmNlbnRlcjttYXJnaW46MDtib3JkZXItcmlnaHQtd2lkdGg6MH0udWktbmF2YmFyIGxpIC51aS1idG57bWFyZ2luLXJpZ2h0Oi0xcHh9LnVpLW5hdmJhciBsaSAudWktYnRuOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnVpLWhlYWRlciAudWktbmF2YmFyIGxpIC51aS1idG4sLnVpLWhlYWRlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG4sLnVpLWZvb3RlciAudWktbmF2YmFyIGxpIC51aS1idG4sLnVpLWZvb3RlciAudWktbmF2YmFyIC51aS1uYXZiYXItdG9nZ2xlIC51aS1idG57Ym9yZGVyLXRvcC13aWR0aDowO2JvcmRlci1ib3R0b20td2lkdGg6MH0udWktbmF2YmFyIC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjJweDtwYWRkaW5nLXJpZ2h0OjJweH0udWktbmF2YmFyLW5vaWNvbnMgbGkgLnVpLWJ0biAudWktYnRuLWlubmVyLC51aS1uYXZiYXItbm9pY29ucyAudWktbmF2YmFyLXRvZ2dsZSAudWktYnRuLWlubmVye3BhZGRpbmctdG9wOi44ZW07cGFkZGluZy1ib3R0b206LjllbX0udWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG57bWFyZ2luOjA7Zm9udC1zaXplOjE0cHh9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo1cHg7cGFkZGluZy1yaWdodDo1cHh9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXJ7cGFkZGluZzo0NXB4IDVweCAxNXB4O3RleHQtYWxpZ246Y2VudGVyfS51aS1uYXZiYXItZXhwYW5kZWQgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbnt0b3A6MTVweH0udWktbmF2YmFyLWV4cGFuZGVkIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lcntwYWRkaW5nOjE1cHggNXB4IDQ1cHg7dGV4dC1hbGlnbjpjZW50ZXJ9LnVpLW5hdmJhci1leHBhbmRlZCAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29ue2JvdHRvbToxNXB4fS51aS1uYXZiYXItZXhwYW5kZWQgbGkgLnVpLWJ0biAudWktYnRuLWlubmVye21pbi1oZWlnaHQ6Mi41ZW19LnVpLW5hdmJhci1leHBhbmRlZCAudWktbmF2YmFyLW5vaWNvbnMgLnVpLWJ0biAudWktYnRuLWlubmVye3BhZGRpbmctdG9wOjEuOGVtO3BhZGRpbmctYm90dG9tOjEuOWVtfS51aS1idG57ZGlzcGxheTpibG9jazt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlcjtwb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjVlbSA1cHg7cGFkZGluZzowfS51aS1idG46Zm9jdXMsLnVpLWJ0bjphY3RpdmV7b3V0bGluZTowfS51aS1oZWFkZXIgLnVpLWJ0biwudWktZm9vdGVyIC51aS1idG4sLnVpLWJhciAudWktYnRue2Rpc3BsYXk6aW5saW5lLWJsb2NrO2ZvbnQtc2l6ZToxM3B4O21hcmdpbjowfS51aS1idG4taW5saW5le2Rpc3BsYXk6aW5saW5lLWJsb2NrfS51aS1idG4taW5uZXJ7cGFkZGluZzouNmVtIDI1cHg7ZGlzcGxheTpibG9jazt0ZXh0LW92ZXJmbG93OmVsbGlwc2lzO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXA7cG9zaXRpb246cmVsYXRpdmU7em9vbToxfS51aS1oZWFkZXIgLnVpLWJ0bi1pbm5lciwudWktZm9vdGVyIC51aS1idG4taW5uZXIsLnVpLWJhciAudWktYnRuLWlubmVye3BhZGRpbmc6LjRlbSA4cHggLjVlbX0udWktYnRuLWljb24tbm90ZXh0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHg7cGFkZGluZzoycHggMXB4IDJweCAzcHg7dGV4dC1pbmRlbnQ6LTk5OTlweH0udWktYnRuLWljb24tbm90ZXh0IC51aS1idG4taW5uZXJ7cGFkZGluZzowfS51aS1idG4taWNvbi1ub3RleHQgLnVpLWJ0bi10ZXh0e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OXB4fS51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjMzcHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi1sZWZ0IC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjI3cHh9LnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXJ7cGFkZGluZy1yaWdodDozM3B4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXIsLnVpLWZvb3RlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVye3BhZGRpbmctcmlnaHQ6MjdweH0udWktYnRuLWljb24tdG9wIC51aS1idG4taW5uZXJ7cGFkZGluZy10b3A6MzNweH0udWktaGVhZGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lciwudWktYmFyIC51aS1idG4taWNvbi10b3AgLnVpLWJ0bi1pbm5lcntwYWRkaW5nLXRvcDoyN3B4fS51aS1idG4taWNvbi1ib3R0b20gLnVpLWJ0bi1pbm5lcntwYWRkaW5nLWJvdHRvbTozM3B4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVyLC51aS1iYXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktYnRuLWlubmVye3BhZGRpbmctYm90dG9tOjI3cHh9LnVpLWJ0bi1pY29uLW5vdGV4dCAudWktaWNvbntkaXNwbGF5OmJsb2NrfS51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO21hcmdpbi10b3A6LTlweH0udWktYnRuLWljb24tdG9wIC51aS1pY29uLC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb257cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LTlweH0udWktYnRuLWljb24tbGVmdCAudWktaWNvbntsZWZ0OjEwcHh9LnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1pY29ue3JpZ2h0OjEwcHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwudWktZm9vdGVyIC51aS1idG4taWNvbi1sZWZ0IC51aS1pY29uLC51aS1iYXIgLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb257bGVmdDo0cHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLWZvb3RlciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLWJhciAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb257cmlnaHQ6NHB4fS51aS1oZWFkZXIgLnVpLWJ0bi1pY29uLXRvcCAudWktaWNvbiwudWktZm9vdGVyIC51aS1idG4taWNvbi10b3AgLnVpLWljb24sLnVpLWJhciAudWktYnRuLWljb24tdG9wIC51aS1pY29ue3RvcDo0cHh9LnVpLWhlYWRlciAudWktYnRuLWljb24tYm90dG9tIC51aS1pY29uLC51aS1mb290ZXIgLnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbiwudWktYmFyIC51aS1idG4taWNvbi1ib3R0b20gLnVpLWljb257Ym90dG9tOjRweH0udWktYnRuLWljb24tdG9wIC51aS1pY29ue3RvcDo1cHh9LnVpLWJ0bi1pY29uLWJvdHRvbSAudWktaWNvbntib3R0b206NXB4fS51aS1idG4taGlkZGVue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlOy13ZWJraXQtYXBwZWFyYW5jZTpidXR0b247b3BhY2l0eTowO2N1cnNvcjpwb2ludGVyOy1tcy1maWx0ZXI6ImFscGhhKG9wYWNpdHk9MCkiO2ZpbHRlcjphbHBoYShvcGFjaXR5PTApO2JhY2tncm91bmQ6dHJhbnNwYXJlbnR9LnVpLWNvbGxhcHNpYmxlLWNvbnRhaW57bWFyZ2luOi41ZW0gMH0udWktY29sbGFwc2libGUtaGVhZGluZ3tmb250LXNpemU6MTZweDtkaXNwbGF5OmJsb2NrO21hcmdpbjowIC04cHg7cGFkZGluZzowO2JvcmRlci13aWR0aDowIDAgMXB4IDA7cG9zaXRpb246cmVsYXRpdmV9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYXt0ZXh0LWFsaWduOmxlZnQ7bWFyZ2luOjB9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo0MHB4fS51aS1jb2xsYXBzaWJsZS1oZWFkaW5nIGEgc3Bhbi51aS1idG57cG9zaXRpb246YWJzb2x1dGU7bGVmdDo2cHg7dG9wOjUwJTttYXJnaW46LTEycHggMCAwIDA7d2lkdGg6MjBweDtoZWlnaHQ6MjBweDtwYWRkaW5nOjFweCAwIDFweCAycHg7dGV4dC1pbmRlbnQ6LTk5OTlweH0udWktY29sbGFwc2libGUtaGVhZGluZyBhIHNwYW4udWktYnRuIC51aS1idG4taW5uZXJ7cGFkZGluZzoxMHB4IDB9LnVpLWNvbGxhcHNpYmxlLWhlYWRpbmcgYSBzcGFuLnVpLWJ0biAudWktaWNvbntsZWZ0OjA7bWFyZ2luLXRvcDotMTBweH0udWktY29sbGFwc2libGUtaGVhZGluZy1zdGF0dXN7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OXB4fS51aS1jb2xsYXBzaWJsZS1jb250ZW50e2Rpc3BsYXk6YmxvY2s7cGFkZGluZzoxMHB4IDAgMTBweCA4cHh9LnVpLWNvbGxhcHNpYmxlLWNvbnRlbnQtY29sbGFwc2Vke2Rpc3BsYXk6bm9uZX0udWktY29sbGFwc2libGUtc2V0e21hcmdpbjouNWVtIDB9LnVpLWNvbGxhcHNpYmxlLXNldCAudWktY29sbGFwc2libGUtY29udGFpbnttYXJnaW46LTFweCAwIDB9LnVpLWNvbnRyb2xncm91cCxmaWVsZHNldC51aS1jb250cm9sZ3JvdXB7cGFkZGluZzowO21hcmdpbjouNWVtIDAgMWVtfS51aS1iYXIgLnVpLWNvbnRyb2xncm91cHttYXJnaW46MCAuM2VtfS51aS1jb250cm9sZ3JvdXAtbGFiZWx7Zm9udC1zaXplOjE2cHg7bGluZS1oZWlnaHQ6MS40O2ZvbnQtd2VpZ2h0Om5vcm1hbDttYXJnaW46MCAwIC4zZW19LnVpLWNvbnRyb2xncm91cC1jb250cm9sc3tkaXNwbGF5OmJsb2NrO3dpZHRoOjk1JX0udWktY29udHJvbGdyb3VwIGxpe2xpc3Qtc3R5bGU6bm9uZX0udWktY29udHJvbGdyb3VwLXZlcnRpY2FsIC51aS1idG4sLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktY2hlY2tib3gsLnVpLWNvbnRyb2xncm91cC12ZXJ0aWNhbCAudWktcmFkaW97bWFyZ2luOjA7Ym9yZGVyLWJvdHRvbS13aWR0aDowfS51aS1jb250cm9sZ3JvdXAtdmVydGljYWwgLnVpLWNvbnRyb2xncm91cC1sYXN0e2JvcmRlci1ib3R0b20td2lkdGg6MXB4fS51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbHtwYWRkaW5nOjB9LnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1idG4sLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jaGVja2JveCwudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlve2Rpc3BsYXk6aW5saW5lLWJsb2NrO21hcmdpbjowIC01cHggMCAwfS51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3gsLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpb3tkaXNwbGF5OmlubGluZX0udWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLWNoZWNrYm94IC51aS1idG4sLnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1yYWRpbyAudWktYnRuLC51aS1jb250cm9sZ3JvdXAtaG9yaXpvbnRhbCAudWktY2hlY2tib3g6bGFzdC1jaGlsZCwudWktY29udHJvbGdyb3VwLWhvcml6b250YWwgLnVpLXJhZGlvOmxhc3QtY2hpbGR7bWFyZ2luLXJpZ2h0OjB9LnVpLWNvbnRyb2xncm91cC1ob3Jpem9udGFsIC51aS1jb250cm9sZ3JvdXAtbGFzdHttYXJnaW4tcmlnaHQ6MH0udWktY29udHJvbGdyb3VwIC51aS1jaGVja2JveCBsYWJlbCwudWktY29udHJvbGdyb3VwIC51aS1yYWRpbyBsYWJlbHtmb250LXNpemU6MTZweH1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ1MHB4KXsudWktY29udHJvbGdyb3VwLWxhYmVse3ZlcnRpY2FsLWFsaWduOnRvcDtkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMCU7bWFyZ2luOjAgMiUgMCAwfS51aS1jb250cm9sZ3JvdXAtY29udHJvbHN7d2lkdGg6NjAlO2Rpc3BsYXk6aW5saW5lLWJsb2NrfX0udWktZGlhbG9ne21pbi1oZWlnaHQ6NDgwcHh9LnVpLWRpYWxvZyAudWktaGVhZGVyLC51aS1kaWFsb2cgLnVpLWNvbnRlbnQsLnVpLWRpYWxvZyAudWktZm9vdGVye21hcmdpbjoxNXB4O3Bvc2l0aW9uOnJlbGF0aXZlfS51aS1kaWFsb2cgLnVpLWhlYWRlciwudWktZGlhbG9nIC51aS1mb290ZXJ7ei1pbmRleDoxMDt3aWR0aDphdXRvfS51aS1kaWFsb2cgLnVpLWNvbnRlbnQsLnVpLWRpYWxvZyAudWktZm9vdGVye21hcmdpbi10b3A6LTE1cHh9LnVpLWNoZWNrYm94LC51aS1yYWRpb3twb3NpdGlvbjpyZWxhdGl2ZTttYXJnaW46LjJlbSAwIC41ZW07ei1pbmRleDoxfS51aS1jaGVja2JveCAudWktYnRuLC51aS1yYWRpbyAudWktYnRue21hcmdpbjowO3RleHQtYWxpZ246bGVmdDt6LWluZGV4OjJ9LnVpLWNoZWNrYm94IC51aS1idG4taW5uZXIsLnVpLXJhZGlvIC51aS1idG4taW5uZXJ7d2hpdGUtc3BhY2U6bm9ybWFsfS51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVyLC51aS1yYWRpbyAudWktYnRuLWljb24tbGVmdCAudWktYnRuLWlubmVye3BhZGRpbmctbGVmdDo0NXB4fS51aS1jaGVja2JveCAudWktYnRuLWljb24tcmlnaHQgLnVpLWJ0bi1pbm5lciwudWktcmFkaW8gLnVpLWJ0bi1pY29uLXJpZ2h0IC51aS1idG4taW5uZXJ7cGFkZGluZy1yaWdodDo0NXB4fS51aS1jaGVja2JveCAudWktaWNvbiwudWktcmFkaW8gLnVpLWljb257dG9wOjEuMWVtfS51aS1jaGVja2JveCAudWktYnRuLWljb24tbGVmdCAudWktaWNvbiwudWktcmFkaW8gLnVpLWJ0bi1pY29uLWxlZnQgLnVpLWljb257bGVmdDoxNXB4fS51aS1jaGVja2JveCAudWktYnRuLWljb24tcmlnaHQgLnVpLWljb24sLnVpLXJhZGlvIC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntyaWdodDoxNXB4fS51aS1jaGVja2JveCBpbnB1dCwudWktcmFkaW8gaW5wdXR7cG9zaXRpb246YWJzb2x1dGU7bGVmdDoyMHB4O3RvcDo1MCU7d2lkdGg6MTBweDtoZWlnaHQ6MTBweDttYXJnaW46LTVweCAwIDAgMDtvdXRsaW5lOjAhaW1wb3J0YW50O3otaW5kZXg6MX0udWktZmllbGQtY29udGFpbntwYWRkaW5nOjEuNWVtIDA7bWFyZ2luOjA7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7b3ZlcmZsb3c6dmlzaWJsZX0udWktZmllbGQtY29udGFpbjpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXdpZHRoOjB9QG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDo0NTBweCl7LnVpLWZpZWxkLWNvbnRhaW57Ym9yZGVyLXdpZHRoOjA7cGFkZGluZzowO21hcmdpbjoxZW0gMH19LnVpLXNlbGVjdHtkaXNwbGF5OmJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS51aS1zZWxlY3Qgc2VsZWN0e3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTlweDt0b3A6LTk5OTlweH0udWktc2VsZWN0IC51aS1idG57b3ZlcmZsb3c6aGlkZGVufS51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3R7Y3Vyc29yOnBvaW50ZXI7LXdlYmtpdC1hcHBlYXJhbmNlOmJ1dHRvbjtsZWZ0OjA7dG9wOjA7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTtvcGFjaXR5OjA7LW1zLWZpbHRlcjoiYWxwaGEob3BhY2l0eT0wKSI7ZmlsdGVyOmFscGhhKG9wYWNpdHk9MCl9QC1tb3otZG9jdW1lbnQgdXJsLXByZWZpeCgpey51aS1zZWxlY3QgLnVpLWJ0biBzZWxlY3R7b3BhY2l0eTouMDAwMX19LnVpLXNlbGVjdCAudWktYnRuIHNlbGVjdC51aS1zZWxlY3QtbmF0aXZlb25seXtvcGFjaXR5OjE7dGV4dC1pbmRlbnQ6MH0udWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktYnRuLWlubmVye3BhZGRpbmctcmlnaHQ6NDVweH0udWktc2VsZWN0IC51aS1idG4taWNvbi1yaWdodCAudWktaWNvbntyaWdodDoxNXB4fWxhYmVsLnVpLXNlbGVjdHtmb250LXNpemU6MTZweDtsaW5lLWhlaWdodDoxLjQ7Zm9udC13ZWlnaHQ6bm9ybWFsO21hcmdpbjowIDAgLjNlbTtkaXNwbGF5OmJsb2NrfS51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0LC51aS1zZWxlY3RtZW51IC51aS1idG4tdGV4dHtkaXNwbGF5OmJsb2NrO21pbi1oZWlnaHQ6MWVtfS51aS1zZWxlY3QgLnVpLWJ0bi10ZXh0e3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVufS51aS1zZWxlY3RtZW51e3Bvc2l0aW9uOmFic29sdXRlO3BhZGRpbmc6MDt6LWluZGV4OjEwMCFpbXBvcnRhbnQ7d2lkdGg6ODAlO21heC13aWR0aDozNTBweDtwYWRkaW5nOjZweH0udWktc2VsZWN0bWVudSAudWktbGlzdHZpZXd7bWFyZ2luOjB9LnVpLXNlbGVjdG1lbnUgLnVpLWJ0bi51aS1saS1kaXZpZGVye2N1cnNvcjpkZWZhdWx0fS51aS1zZWxlY3RtZW51LWhpZGRlbnt0b3A6LTk5OTlweDtsZWZ0Oi05OTk5cHh9LnVpLXNlbGVjdG1lbnUtc2NyZWVue3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MDt3aWR0aDoxMDAlO2hlaWdodDoxMDAlO3otaW5kZXg6OTl9LnVpLXNjcmVlbi1oaWRkZW4sLnVpLXNlbGVjdG1lbnUtbGlzdCAudWktbGkgLnVpLWljb257ZGlzcGxheTpub25lfS51aS1zZWxlY3RtZW51LWxpc3QgLnVpLWxpIC51aS1pY29ue2Rpc3BsYXk6YmxvY2t9LnVpLWxpLnVpLXNlbGVjdG1lbnUtcGxhY2Vob2xkZXJ7ZGlzcGxheTpub25lfS51aS1zZWxlY3RtZW51IC51aS1oZWFkZXIgLnVpLXRpdGxle21hcmdpbjouNmVtIDQ2cHggLjhlbX1AbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjQ1MHB4KXtsYWJlbC51aS1zZWxlY3R7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjAlO21hcmdpbjowIDIlIDAgMH0udWktc2VsZWN0e3dpZHRoOjYwJTtkaXNwbGF5OmlubGluZS1ibG9ja319LnVpLXNlbGVjdG1lbnUgLnVpLWhlYWRlciBoMTphZnRlcntjb250ZW50OicuJzt2aXNpYmlsaXR5OmhpZGRlbn1sYWJlbC51aS1pbnB1dC10ZXh0e2ZvbnQtc2l6ZToxNnB4O2xpbmUtaGVpZ2h0OjEuNDtkaXNwbGF5OmJsb2NrO2ZvbnQtd2VpZ2h0Om5vcm1hbDttYXJnaW46MCAwIC4zZW19aW5wdXQudWktaW5wdXQtdGV4dCx0ZXh0YXJlYS51aS1pbnB1dC10ZXh0e2JhY2tncm91bmQtaW1hZ2U6bm9uZTtwYWRkaW5nOi40ZW07bGluZS1oZWlnaHQ6MS40O2ZvbnQtc2l6ZToxNnB4O2Rpc3BsYXk6YmxvY2s7d2lkdGg6OTUlfWlucHV0LnVpLWlucHV0LXRleHR7LXdlYmtpdC1hcHBlYXJhbmNlOm5vbmV9dGV4dGFyZWEudWktaW5wdXQtdGV4dHtoZWlnaHQ6NTBweDstd2Via2l0LXRyYW5zaXRpb246aGVpZ2h0IDIwMG1zIGxpbmVhcjstbW96LXRyYW5zaXRpb246aGVpZ2h0IDIwMG1zIGxpbmVhcjstby10cmFuc2l0aW9uOmhlaWdodCAyMDBtcyBsaW5lYXI7dHJhbnNpdGlvbjpoZWlnaHQgMjAwbXMgbGluZWFyfS51aS1pbnB1dC1zZWFyY2h7cGFkZGluZzowIDMwcHg7d2lkdGg6NzclO2JhY2tncm91bmQtcG9zaXRpb246OHB4IDUwJTtiYWNrZ3JvdW5kLXJlcGVhdDpuby1yZXBlYXQ7cG9zaXRpb246cmVsYXRpdmV9LnVpLWlucHV0LXNlYXJjaCBpbnB1dC51aS1pbnB1dC10ZXh0e2JvcmRlcjowO3dpZHRoOjk4JTtwYWRkaW5nOi40ZW0gMDttYXJnaW46MDtkaXNwbGF5OmJsb2NrO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQgbm9uZTtvdXRsaW5lOjAhaW1wb3J0YW50fS51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFye3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjA7dG9wOjUwJTttYXJnaW4tdG9wOi0xNHB4fS51aS1pbnB1dC1zZWFyY2ggLnVpLWlucHV0LWNsZWFyLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDo0NTBweCl7bGFiZWwudWktaW5wdXQtdGV4dHt2ZXJ0aWNhbC1hbGlnbjp0b3A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MjAlO21hcmdpbjowIDIlIDAgMH1pbnB1dC51aS1pbnB1dC10ZXh0LHRleHRhcmVhLnVpLWlucHV0LXRleHQsLnVpLWlucHV0LXNlYXJjaHt3aWR0aDo2MCU7ZGlzcGxheTppbmxpbmUtYmxvY2t9LnVpLWlucHV0LXNlYXJjaHt3aWR0aDo1MCV9LnVpLWlucHV0LXNlYXJjaCBpbnB1dC51aS1pbnB1dC10ZXh0e3dpZHRoOjk4JX19LnVpLWxpc3R2aWV3e21hcmdpbjowO2NvdW50ZXItcmVzZXQ6bGlzdG51bWJlcmluZ30udWktY29udGVudCAudWktbGlzdHZpZXd7bWFyZ2luOi0xNXB4fS51aS1jb250ZW50IC51aS1saXN0dmlldy1pbnNldHttYXJnaW46MWVtIDB9LnVpLWxpc3R2aWV3LC51aS1saXtsaXN0LXN0eWxlOm5vbmU7cGFkZGluZzowfS51aS1saSwudWktbGkudWktZmllbGQtY29udGFpbntkaXNwbGF5OmJsb2NrO21hcmdpbjowO3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OnZpc2libGU7dGV4dC1hbGlnbjpsZWZ0O2JvcmRlci13aWR0aDowO2JvcmRlci10b3Atd2lkdGg6MXB4fS51aS1saSAudWktYnRuLXRleHQgYS51aS1saW5rLWluaGVyaXR7dGV4dC1vdmVyZmxvdzplbGxpcHNpcztvdmVyZmxvdzpoaWRkZW47d2hpdGUtc3BhY2U6bm93cmFwfS51aS1saS1kaXZpZGVyLC51aS1saS1zdGF0aWN7cGFkZGluZzouNWVtIDE1cHg7Zm9udC1zaXplOjE0cHg7Zm9udC13ZWlnaHQ6Ym9sZH0udWktbGktZGl2aWRlcntjb3VudGVyLXJlc2V0Omxpc3RudW1iZXJpbmd9b2wudWktbGlzdHZpZXcgLnVpLWxpbmstaW5oZXJpdDpiZWZvcmUsb2wudWktbGlzdHZpZXcgLnVpLWxpLXN0YXRpYzpiZWZvcmUsLnVpLWxpLWRlY3tmb250LXNpemU6LjhlbTtkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nLXJpZ2h0Oi4zZW07Zm9udC13ZWlnaHQ6bm9ybWFsO2NvdW50ZXItaW5jcmVtZW50Omxpc3RudW1iZXJpbmc7Y29udGVudDpjb3VudGVyKGxpc3RudW1iZXJpbmcpICIuICJ9b2wudWktbGlzdHZpZXcgLnVpLWxpLWpzbnVtYmVyaW5nOmJlZm9yZXtjb250ZW50OiIiIWltcG9ydGFudH0udWktbGlzdHZpZXctaW5zZXQgLnVpLWxpe2JvcmRlci1yaWdodC13aWR0aDoxcHg7Ym9yZGVyLWxlZnQtd2lkdGg6MXB4fS51aS1saTpsYXN0LWNoaWxkLC51aS1saS51aS1maWVsZC1jb250YWluOmxhc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHh9LnVpLWxpPi51aS1idG4taW5uZXJ7ZGlzcGxheTpibG9jaztwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjB9LnVpLWxpIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saXtwYWRkaW5nOi43ZW0gMTVweCAuN2VtIDE1cHg7ZGlzcGxheTpibG9ja30udWktbGktaGFzLXRodW1iIC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtdGh1bWJ7bWluLWhlaWdodDo2MHB4O3BhZGRpbmctbGVmdDoxMDBweH0udWktbGktaGFzLWljb24gLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwudWktbGktc3RhdGljLnVpLWxpLWhhcy1pY29ue21pbi1oZWlnaHQ6MjBweDtwYWRkaW5nLWxlZnQ6NDBweH0udWktbGktaGFzLWNvdW50IC51aS1idG4taW5uZXIgYS51aS1saW5rLWluaGVyaXQsLnVpLWxpLXN0YXRpYy51aS1saS1oYXMtY291bnR7cGFkZGluZy1yaWdodDo0NXB4fS51aS1saS1oYXMtYXJyb3cgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwudWktbGktc3RhdGljLnVpLWxpLWhhcy1hcnJvd3twYWRkaW5nLXJpZ2h0OjMwcHh9LnVpLWxpLWhhcy1hcnJvdy51aS1saS1oYXMtY291bnQgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwudWktbGktc3RhdGljLnVpLWxpLWhhcy1hcnJvdy51aS1saS1oYXMtY291bnR7cGFkZGluZy1yaWdodDo3NXB4fS51aS1saS1oZWFkaW5ne2ZvbnQtc2l6ZToxNnB4O2ZvbnQtd2VpZ2h0OmJvbGQ7ZGlzcGxheTpibG9jazttYXJnaW46LjZlbSAwO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcH0udWktbGktZGVzY3tmb250LXNpemU6MTJweDtmb250LXdlaWdodDpub3JtYWw7ZGlzcGxheTpibG9jazttYXJnaW46LS41ZW0gMCAuNmVtO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7b3ZlcmZsb3c6aGlkZGVuO3doaXRlLXNwYWNlOm5vd3JhcH0udWktbGktdGh1bWIsLnVpLWxpLWljb257cG9zaXRpb246YWJzb2x1dGU7bGVmdDoxcHg7dG9wOjA7bWF4LWhlaWdodDo4MHB4O21heC13aWR0aDo4MHB4fS51aS1saS1pY29ue21heC1oZWlnaHQ6NDBweDttYXgtd2lkdGg6NDBweDtsZWZ0OjEwcHg7dG9wOi45ZW19LnVpLWxpLXRodW1iLC51aS1saS1pY29uLC51aS1saS1jb250ZW50e2Zsb2F0OmxlZnQ7bWFyZ2luLXJpZ2h0OjEwcHh9LnVpLWxpLWFzaWRle2Zsb2F0OnJpZ2h0O3dpZHRoOjUwJTt0ZXh0LWFsaWduOnJpZ2h0O21hcmdpbjouM2VtIDB9QG1lZGlhIGFsbCBhbmQgKG1pbi13aWR0aDo0ODBweCl7LnVpLWxpLWFzaWRle3dpZHRoOjQ1JX19LnVpLWxpLWRpdmlkZXJ7Y3Vyc29yOmRlZmF1bHR9LnVpLWxpLWhhcy1hbHQgLnVpLWJ0bi1pbm5lciBhLnVpLWxpbmstaW5oZXJpdCwudWktbGktc3RhdGljLnVpLWxpLWhhcy1hbHR7cGFkZGluZy1yaWdodDo5NXB4fS51aS1saS1jb3VudHtwb3NpdGlvbjphYnNvbHV0ZTtmb250LXNpemU6MTFweDtmb250LXdlaWdodDpib2xkO3BhZGRpbmc6LjJlbSAuNWVtO3RvcDo1MCU7bWFyZ2luLXRvcDotLjllbTtyaWdodDozOHB4fS51aS1saS1kaXZpZGVyIC51aS1saS1jb3VudCwudWktbGktc3RhdGljIC51aS1saS1jb3VudHtyaWdodDoxMHB4fS51aS1saS1oYXMtYWx0IC51aS1saS1jb3VudHtyaWdodDo1NXB4fS51aS1saS1saW5rLWFsdHtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDo0MHB4O2hlaWdodDoxMDAlO2JvcmRlci13aWR0aDowO2JvcmRlci1sZWZ0LXdpZHRoOjFweDt0b3A6MDtyaWdodDowO21hcmdpbjowO3BhZGRpbmc6MH0udWktbGktbGluay1hbHQgLnVpLWJ0bntvdmVyZmxvdzpoaWRkZW47cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6OHB4O3RvcDo1MCU7bWFyZ2luOi0xMXB4IDAgMCAwO2JvcmRlci1ib3R0b20td2lkdGg6MXB4fS51aS1saS1saW5rLWFsdCAudWktYnRuLWlubmVye3BhZGRpbmc6MDtwb3NpdGlvbjpzdGF0aWN9LnVpLWxpLWxpbmstYWx0IC51aS1idG4gLnVpLWljb257cmlnaHQ6NTAlO21hcmdpbi1yaWdodDotOXB4fS51aS1saXN0dmlldy1maWx0ZXJ7Ym9yZGVyLXdpZHRoOjA7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbjotMTVweCAtMTVweCAxNXB4IC0xNXB4fS51aS1saXN0dmlldy1maWx0ZXIgLnVpLWlucHV0LXNlYXJjaHttYXJnaW46NXB4O3dpZHRoOmF1dG87ZGlzcGxheTpibG9ja30udWktbGlzdHZpZXctZmlsdGVyLWluc2V0e21hcmdpbjotMTVweCAtNXB4IC0xNXB4IC01cHg7YmFja2dyb3VuZDp0cmFuc3BhcmVudH0udWktbGkudWktc2NyZWVuLWhpZGRlbntkaXNwbGF5Om5vbmV9QG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWluLWRldmljZS13aWR0aDo3NjhweCkgYW5kIChtYXgtZGV2aWNlLXdpZHRoOjEwMjRweCl7LnVpLWxpIC51aS1idG4tdGV4dHtvdmVyZmxvdzp2aXNpYmxlfX1sYWJlbC51aS1zbGlkZXJ7ZGlzcGxheTpibG9ja31pbnB1dC51aS1zbGlkZXItaW5wdXR7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6NTBweH1zZWxlY3QudWktc2xpZGVyLXN3aXRjaHtkaXNwbGF5Om5vbmV9ZGl2LnVpLXNsaWRlcntwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmlubGluZS1ibG9jaztvdmVyZmxvdzp2aXNpYmxlO2hlaWdodDoxNXB4O3BhZGRpbmc6MDttYXJnaW46MCAyJSAwIDIwcHg7dG9wOjRweDt3aWR0aDo2NiV9YS51aS1zbGlkZXItaGFuZGxle3Bvc2l0aW9uOmFic29sdXRlO3otaW5kZXg6MTA7dG9wOjUwJTt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O21hcmdpbi10b3A6LTE1cHg7bWFyZ2luLWxlZnQ6LTE1cHh9YS51aS1zbGlkZXItaGFuZGxlIC51aS1idG4taW5uZXJ7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfUBtZWRpYSBhbGwgYW5kIChtaW4td2lkdGg6NDgwcHgpe2xhYmVsLnVpLXNsaWRlcntkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyMCU7bWFyZ2luOjAgMiUgMCAwfWRpdi51aS1zbGlkZXJ7d2lkdGg6NDUlfX1kaXYudWktc2xpZGVyLXN3aXRjaHtoZWlnaHQ6MzJweDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luLWxlZnQ6MH1kaXYudWktc2xpZGVyLWlubmVyb2Zmc2V0e21hcmdpbi1sZWZ0OjUwJTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MXB4O2hlaWdodDoxMDAlO3dpZHRoOjUwJX1hLnVpLXNsaWRlci1oYW5kbGUtc25hcHBpbmd7LXdlYmtpdC10cmFuc2l0aW9uOmxlZnQgMTAwbXMgbGluZWFyfWRpdi51aS1zbGlkZXItbGFiZWxiZ3twb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDttYXJnaW46MDtib3JkZXItd2lkdGg6MH1kaXYudWktc2xpZGVyLXN3aXRjaCBkaXYudWktc2xpZGVyLWxhYmVsYmctYXt3aWR0aDo2MCU7aGVpZ2h0OjEwMCU7bGVmdDowfWRpdi51aS1zbGlkZXItc3dpdGNoIGRpdi51aS1zbGlkZXItbGFiZWxiZy1ie3dpZHRoOjYwJTtoZWlnaHQ6MTAwJTtyaWdodDowfS51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWEsLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYnt6LWluZGV4Oi0xfS51aS1zbGlkZXItc3dpdGNoLWEgZGl2LnVpLXNsaWRlci1sYWJlbGJnLWIsLnVpLXNsaWRlci1zd2l0Y2gtYiBkaXYudWktc2xpZGVyLWxhYmVsYmctYXt6LWluZGV4OjB9ZGl2LnVpLXNsaWRlci1zd2l0Y2ggYS51aS1zbGlkZXItaGFuZGxle3otaW5kZXg6MjA7d2lkdGg6MTAxJTtoZWlnaHQ6MzJweDttYXJnaW4tdG9wOi0xOHB4O21hcmdpbi1sZWZ0Oi0xMDElfXNwYW4udWktc2xpZGVyLWxhYmVse3dpZHRoOjEwMCU7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjMycHg7Zm9udC1zaXplOjE2cHg7dGV4dC1hbGlnbjpjZW50ZXI7bGluZS1oZWlnaHQ6MjtiYWNrZ3JvdW5kOjA7Ym9yZGVyLWNvbG9yOnRyYW5zcGFyZW50fXNwYW4udWktc2xpZGVyLWxhYmVsLWF7bGVmdDotMTAwJTttYXJnaW4tcmlnaHQ6LTFweH1zcGFuLnVpLXNsaWRlci1sYWJlbC1ie3JpZ2h0Oi0xMDAlO21hcmdpbi1sZWZ0Oi0xcHh9", "content_type": "text/css"}, "images/icons-18-white.png": {"data": "iVBORw0KGgoAAAANSUhEUgAAAi4AAAASBAMAAACOQ0gTAAAAA3NCSVQICAjb4U/gAAAAMFBMVEX///////////////////////////////////////////////////////////////9Or7hAAAAAEHRSTlMAESIzRFVmd4iZqrvM3e7/dpUBFQAAAAlwSFlzAAAK6wAACusBgosNWgAAABZ0RVh0Q3JlYXRpb24gVGltZQAxMC8xNi8xMNNnoNMAAAAcdEVYdFNvZnR3YXJlAEFkb2JlIEZpcmV3b3JrcyBDUzVxteM2AAACjUlEQVRYhe1XMW/TQBQ+Y9c4GJQwwRChDAxMLRJsRU6FMjDR/gJqZgYj/gBhQUgdzNCFBdqJbkUUsXhIAQkJMVgwIMQASJVYKuGo0IhS168OBOj33qlJIwQC+VuS+/Lu3vN337tzlCpQoMB/iRs+Z8wlEXSLjcdPDpXr6C6/RX1nGzVlVpCyfRGloQbBPlzZnKeleb5yxp/aiOdwVjJI8hOCWWzyVOnPcqjvetUV5T1CaqwjooK1AUqTOLYCQy+ltylKNU7JOs5xkmwLiOmMHmBIuU3lNkt1x2eERbxmlyZ+fO2vi5edSrB6ZRPPIRl1u4bjqq+Mpzxo8QXmIiLUxUyeJxs4p7UaM10ooilgNLqY9JLlPnifN4t5t/fleIMaZ3mtPDj5KJwccMMIIlcKH1lNd1Q1Bcao7P+1Qd+Ic/Q6WQfqUId3ib15WPbR+fe60ndgJld89TJQV5vhFIuq9T7DPPoL/FLOGeYhj5hdug99E8YlaZdgizWETRdj7MfSk1FMbhFVAoKNrs+ZH3Bhd814xnJ5vvMZCOmXM8KJRtIM2dY5WS/iUkTRQ1zxN+kiVZBKjWYxFqbRZbKpjOsQ5LYVuwZyOHgGSV2MmAjrcYQn9na+DNdHQbdruGHY9pgJtpGuj8aWlY3VH0BrfEfpk4YE5K2Byer06h3VgPoD566Xn7Lc7vwkVvWvPJdwu7tRuYDXhpVOyCLDZRhqzt1cFyyxRY9jugfUnnTR3NOTmntas4vS7gwjzECae7rrfx+Dwk2xUJk5WqNLaxZfV4zugYE9u1OXxi5l9xaQ73UlX0TZTUENAc173ZFolgVZC2Kee63v0leU5QNxupED5Rx5M0iRfwXyf0CBAgX+QWwDZAghcTgXRAkAAAAASUVORK5CYII=", "content_type": "image/png"}}, "README": "A tablet/phone application for testing students in reading skills.\n\nCurrent version uses localStorage and google spreadsheets for loading and configuration of the app.\n\n___\n\nThe rest of this README is about couchapps:\n\n___\n\nCouchApps are web applications which can be served directly from [CouchDB](http://couchdb.apache.org). This gives them the nice property of replicating just like any other data stored in CouchDB. They are also simple to write as they can use the built-in jQuery libraries and plugins that ship with CouchDB.\n\n[More info about CouchApps here.](http://couchapp.org)\n\n## Deploying this app\n\nAssuming you just cloned this app from git, and you have changed into the app directory in your terminal, you want to push it to your CouchDB with the CouchApp command line tool, like this:\n\n    couchapp push . http://name:password@hostname:5984/mydatabase\n\nIf you don't have a password on your CouchDB (admin party) you can do it like this (but it's a bad, idea, set a password):\n\n    couchapp push . http://hostname:5984/mydatabase\n\nIf you get sick of typing the URL, you should setup a `.couchapprc` file in the root of your directory. Remember not to check this into version control as it will have passwords in it.\n\nThe `.couchapprc` file should have contents like this:\n\n    {\n      \"env\" : {\n        \"public\" : {\n          \"db\" : \"http://name:pass@mycouch.couchone.com/mydatabase\"\n        },\n        \"default\" : {\n          \"db\" : \"http://name:pass@localhost:5984/mydatabase\"\n        }\n      }\n    }\n\nNow that you have the `.couchapprc` file set up, you can push your app to the CouchDB as simply as:\n\n    couchapp push\n\nThis pushes to the `default` as specified. To push to the `public` you'd run:\n\n    couchapp push public\n\nOf course you can continue to add more deployment targets as you see fit, and give them whatever names you like.", "_id": "_design/app", "Makefile": "VER = $(shell cat version.txt)\nSED_VER = sed \"s/@VERSION/${VER}/\"\n\nDIR = _attachments/combined-javascript/\nNAME = egra\nMAX = ${DIR}/${NAME}.js\nMIN = ${DIR}/${NAME}.min.js\n#CSS = ${NAME}.css\n#CSSMIN = ${NAME}.min.css\n\nFILES = _attachments/js-libraries/jquery-1.6.2.min.js \\\n  _attachments/js-libraries/mustache.js \\\n  _attachments/js-libraries/handlebars.js \\\n  _attachments/js-libraries/inflection.js \\\n  _attachments/js-libraries/underscore.js \\\n  _attachments/models/template.js \\\n  _attachments/models/assessment.js \\\n  _attachments/models/jqueryMobilePage.js \\\n  _attachments/models/scorer.js \\\n  _attachments/models/timer.js \\\n  _attachments/egra.js \\\n  _attachments/js-libraries/jquery-mobile/jquery.mobile-1.0b2.min.js \\\n  _attachments/css.js \\\n\n#CSSFILES =  themes/default/jquery.mobile.theme.css \\\n  themes/default/jquery.mobile.core.css \\\n  themes/default/jquery.mobile.transitions.css \\\n  themes/default/jquery.mobile.grids.css \\\n  themes/default/jquery.mobile.headerfooter.css \\\n  themes/default/jquery.mobile.navbar.css \\\n  themes/default/jquery.mobile.button.css \\\n  themes/default/jquery.mobile.collapsible.css \\\n  themes/default/jquery.mobile.controlgroup.css \\\n  themes/default/jquery.mobile.dialog.css \\\n  themes/default/jquery.mobile.forms.checkboxradio.css \\\n  themes/default/jquery.mobile.forms.fieldcontain.css \\\n  themes/default/jquery.mobile.forms.select.css \\\n  themes/default/jquery.mobile.forms.textinput.css \\\n  themes/default/jquery.mobile.listview.css \\\n  themes/default/jquery.mobile.forms.slider.css\n\nall: combined min css cssmin\n\nclean:\n\t@@rm -rf ${DIR}*\n\n#css:\n#\t@@head -8 js/jquery.mobile.core.js | ${SED_VER} > ${CSS}\n#\t@@cat ${CSSFILES} >> ${CSS}\n\n#cssmin: css\n#\t@@head -8 js/jquery.mobile.core.js | ${SED_VER} > ${CSSMIN}\n#\t@@java -jar build/yuicompressor-2.4.4.jar --type css ${CSS} >> ${CSSMIN}\n\ncombined:\n\t@@cat ${FILES} > ${MAX}\n\nmin: combined\n\t@@java -jar scripts/google-compiler-20100917.jar --js ${MAX} --warning_level QUIET --js_output_file ${MIN}.tmp\n\t@@cat ${MIN}.tmp > ${MIN}\n\t@@rm -f ${MIN}.tmp\n\n#zip: clean min cssmin\n#\t@@mkdir -p ${DIR}\n#\t@@cp ${DIR}*.js ${DIR}/\n#\t@@cp ${DIR}*.css ${DIR}/\n#\t@@cp -R themes/default/images ${DIR}/\n#\t@@zip -r ${DIR}.zip ${DIR}\n#\n## Used by the jQuery team to deploy a build to the CDN\n#deploy: zip\n#\t# Deploy to CDN\n#\t@@mv ${DIR} ${VER}\n#\t@@cp ${DIR}.zip ${VER}/\n#\t@@scp -r ${VER} jqadmin@code.origin.jquery.com:/var/www/html/code.jquery.com/mobile/\n#\t@@mv ${VER} ${DIR}\n#\n#\t# Deploy Demos\n#\t@@mkdir -p ${VER}\n#\t@@cp -r index.html themes experiments docs ${VER}/\n#\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|src=\"../../../js|src=\"js|g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|src=\"../../js|src=\"js|g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|src=\"../js|src=\"js|g' {} \\;\n#\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|media=\"only all\"||g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|rel=\"stylesheet\"  href=\"../../../|rel=\"stylesheet\"  href=\"|g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|rel=\"stylesheet\"  href=\"../../|rel=\"stylesheet\"  href=\"|g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|rel=\"stylesheet\"  href=\"../|rel=\"stylesheet\"  href=\"|g' {} \\;\n#\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|href=\"themes/default/\"|href=\"http://code.jquery.com/mobile/${VER}/${DIR}.min.css\"|g' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|src=\"js/jquery.js\"|src=\"http://code.jquery.com/jquery-1.5.min.js\"|' {} \\;\n#\t@@find ${VER} -type f -name '*.html' -exec sed -i \"\" -e 's|src=\"js/\"|src=\"http://code.jquery.com/mobile/${VER}/${DIR}.min.js\"|g' {} \\;\n#\n#\t@@scp -r ${VER} jqadmin@jquerymobile.com:/srv/jquerymobile.com/htdocs/demos/", "couchapp": {"manifest": ["couchapp.json", "file.watchr", "Makefile", "README.md", "version"], "signatures": {"models/timer.js": "79e44fbe71c551d216c47b90eb949574", "tests/testData/Assessment.TEST EGRA Prototype.School": "f7222e1a57e3367564e4648cabd5c545", "images/icon-search-black.png": "9b2d886c3feb5d92911e9d4a2ff2bca2", "js-libraries/handlebars.js": "51e4987ce3625a60bbec822b1c5ef872", "images/form-radio-on.png": "b995f8a72a033e14740632c8da4b0acf", "google-spreadsheet-javascript/tests/tests.js": "b1f9e061de8361615b1b1ebc3fab54ab", "images/TangerineIcon.png": "33c55ac4322f0dbde1ce6d8c1f6aff39", "tests/tests.coffee": "f9b67ae0e13218ee32d87c99dab5c115", "models/Copy of jqueryMobilePage.coffee": "2e62797237879414ab54dbf3ee37020f", "models/scorer.coffee": "12eff3e4b8135b1d72c79835fd6b3109", "tests/testData/Assessment.TEST EGRA Prototype.DateTime": "d0f7edd9f8100e327421be252a090e57", "tests/testData/Assessment.TEST EGRA Prototype.Results": "149f79ea0a7ab38dee2135f5eaae3dfd", "js-libraries/jquery-1.6.2.min.js": "a1a8cb16a060f6280a767187fd22e037", "images/ajax-loader.png": "5673b0e9f616ed3fe12a1a388f6aa019", "google-spreadsheet-javascript/tests/testsCallbackData.json": "b439bb02e81d9fb713dac497f868cc12", "images/icons-36-black.png": "c9b81e171c0dc394a40eaa319fd09f4e", "google-spreadsheet-javascript/google-spreadsheet.js": "509c7710a3e9ad143ee7aff02d70fbd0", "js-libraries/jquery-mobile/images/icons-36-black.png": "8dd770dee069a005007b32fc5bb0cfef", "js-libraries/jquery.couch.js": "9bd4b35aa8bb81dd3551381538305e1a", "models/jqueryMobilePage.js": "7750cc4d8d12256ee796a48ea91e135a", "js-libraries/inflection.js": "ed0c8ae9b540193a80951bfa3f546c9b", "google-spreadsheet-javascript/sample.html": "efee89471900dfee5422838c39dc054b", "models/assessment.js": "8061e751da8faf245a4440a58889014c", "js-libraries/jquery-mobile/jquery.mobile-1.0b2.css": "6a35036931ab72a7a4bb8a385a04758a", "models/template.coffee": "d41d8cd98f00b204e9800998ecf8427e", "js-libraries/jquery-mobile/jquery.mobile-1.0b3.css": "703a66887e06100377298cf9d978bc62", "js-libraries/jquery-mobile/jquery.mobile-1.0b2.js": "45c9f2e1aa0362ab5a3f7b0278d56395", "combined-javascript/egra.js": "c71e78cb7e6ff3ea4cead1367314a560", "images/form-check-off.png": "80754b2c48dcf0bf1986c9bf3d842621", "images/icons-36-white.png": "b7cd3f25d8a1a915f532676531f4877e", "models/scorer.js": "bafc23869551cf78375225494ac8e999", "tests/testData/Assessment.TEST EGRA Prototype": "2219c8361b0a4ae9ec35d9abb82326f3", "tests/tests.js": "a176b3a7a67ba5787ae322d168abe62a", "js-libraries/jquery-mobile/images/icon-search-black.png": "9b2d886c3feb5d92911e9d4a2ff2bca2", "google-spreadsheet-javascript/tests/tests.coffee": "1c963c5dc19efab087dd8f9f1297cbbf", "google-spreadsheet-javascript/tests/tests.html": "a636e2757289645e2473219441e8e8d5", "tests/qunit.js": "663f37f534c3d1e161c828caea9c85ce", "models/assessment.coffee": "7a6687d094bedff8e491bbe2fed2bd7c", "models/jqueryMobilePage.coffee": "ae0bb12074994cbb2962a356cc54b0cc", "tests/testData/Assessment.TEST EGRA Prototype.Instructions": "04b68faa1a1395f1202803c265de751c", "js-libraries/jquery-mobile/jquery.mobile-1.0b3.min.js": "fcfc50f83cddeb41498330e93937da73", "js-libraries/jquery-mobile/jquery.mobile-1.0b3.js": "5f9a3f5f5c96243527505af9832e37b4", "images/icons-18-black.png": "0462f8f23e9239e7f1d78c0cc723d27b", "models/timer.coffee": "49f4426f0e4f5aa2b8afa5edb97c7387", "js-libraries/jquery-mobile/jquery.mobile-1.0b2.min.js": "7ef963c4dec9f4f2f6b17a901d9de14f", "css.coffee": "9b077712456a975747b0220e465ea2dd", "tests/testData/Assessment.TEST EGRA Prototype.StudentInformation": "45100db2108e9a6c1f45c1991087126e", "google-spreadsheet-javascript/tests/testsCallbackCellsData.json": "eef48cdfeb50befe13e2189d2a40939c", "js-libraries/jquery-mobile/images/icons-18-black.png": "0b27bb0de469c0023fe3442b36ed11e5", "tests/qunit.css": "ddc2724ee7cba64f23e623fbc8526942", "css.js": "f64b5969776592adf86ffc96ef97af62", "images/form-check-on.png": "344eff1f2dda56e6b083ece4f49bd950", "models/template.js": "7215ee9c7d9dc229d2921a40e899ec5f", "images/form-radio-off.png": "cf8f7f41adaf2b6c926b3130b994076a", "js-libraries/jquery-mobile/jquery.mobile-1.0b2.min.css": "d2c409c02d0726e0851b1f00a9376d39", "js-libraries/jquery-mobile/images/icons-18-white.png": "30ee929b6c0e075d046347bcdd8ff807", "index.html": "6260967fdaa8a19b7b5e57a4c96a8545", "js-libraries/jquery-mobile/images/icons-36-white.png": "b731dd7d99265141897ec2fbd49a67d8", "js-libraries/jquery-mobile/images/ajax-loader.png": "5673b0e9f616ed3fe12a1a388f6aa019", "tests/testData/Assessment.TEST EGRA Prototype.Login": "a7bddee744e29a98a09bb45ffd38f3d7", "google-spreadsheet-javascript/google-spreadsheet.coffee": "f92d1f4e6874cabf989f9db8e228dbf3", "google-spreadsheet-javascript/jquery-1.4.4.min.js": "73a9c334c5ca71d70d092b42064f6476", "google-spreadsheet-javascript/tests/qunit.css": "ddc2724ee7cba64f23e623fbc8526942", "tests/index.html": "e57f989f3467a00cea1598a969efbda9", "egra.js": "eafbae428fdeac7c6ef4171fd20199e5", "js-libraries/mustache.js": "ee9ecc57cd9dad955be8eead1a0e0023", "js-libraries/underscore.js": "a94d038961dd4d580d8aaa52f3f1a0ca", "google-spreadsheet-javascript/README.markdown": "0a94e62650cc19d4c6b0288abc06f7de", "tests/testData/Assessment.TEST EGRA Prototype.Letters": "92e648f768af58799a1114b42044b90e", "egra.coffee": "56c93f0d1420779175b7d956e6315de3", "google-spreadsheet-javascript/tests/qunit.js": "663f37f534c3d1e161c828caea9c85ce", "js-libraries/coffee-script.js": "d4fcd4ee5cfd6a9fd271bef5a15f1192", "js-libraries/jquery-mobile/jquery.mobile-1.0b3.min.css": "4b3c3b3d95f490e21c6c3c5e6e97a514", "images/icons-18-white.png": "614499ccad60661fe14293350ce8f1cc"}, "name": "EGRA", "objects": {}, "description": "Early Grade Reading Assessment"}}
